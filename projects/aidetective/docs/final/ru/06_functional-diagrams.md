# Функциональные диаграммы

## 1. Обзор

Функциональные диаграммы показывают **архитектуру системы, логику взаимодействия бота, структуру базы данных и точки API** для Sherlock AI. Они помогают понять, как модули взаимодействуют друг с другом, и упрощают разработку и отладку.

* * *

## 2. Диаграмма архитектуры системы

Ниже диаграмма, отображающая, **как взаимодействуют различные сервисы**: бот, база данных, внешние API и модули аналитики.

```mermaid
graph TD
    User -->|Взаимодействие| TelegramBot[Telegram Bot]
    TelegramBot -->|Обработка ввода| StoryEngine[Story Engine]
    TelegramBot -->|Запрос к ИИ| OpenAI[OpenAI API]
    TelegramBot -->|Платежи| YooMoney[YooMoney API]
    StoryEngine -->|Сохранение прогресса| Database[PostgreSQL]
    StoryEngine -->|Лог событий| Analytics[Сервис аналитики]
    Database -->|Хранение данных| Backup[Система бэкапов]
    Analytics -->|Визуализация| AdminPanel[Панель администратора]
```

* * *