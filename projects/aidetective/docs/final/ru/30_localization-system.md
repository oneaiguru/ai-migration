# Документация по системе локализации

## 1. Обзор

Система локализации Sherlock AI поддерживает несколько языков для обеспечения доступности широкому кругу пользователей. Она позволяет **переключаться между языками** без потери целостности сюжета и функционала.

## 2. Механизм перевода

### 2.1 Система управления переводами

* **Единое хранилище** текстовых строк (JSON, YAML или таблицы в БД)
* **Управление версиями** для постоянства при обновлениях
* **Поддержка автоматических и ручных переводов** (OpenAI + ручная корректура)

### 2.2 Внешние строки

* **Ключи** вместо захардкоженных текстов
* **Модульные файлы переводов** (en.json, ru.json и т. д.)
* **Фолбэк** на английский при отсутствии строки

### 2.3 Культурная адаптация

* **Региональные особенности** (идиоматические выражения)
* **Адаптация чувствительного контента** под культурный контекст
* **Локализованные медиаресурсы**

* * *

## 3. Мультиязычная поддержка

### 3.1 Определение языка

* **Автоматический детект** по системным настройкам
* **Ручной выбор** в настройках
* **Запрос языка** при первом обращении

### 3.2 Кодировка

* **UTF-8** для широкого диапазона символов
* **Корректная работа с эмодзи**

### 3.3 Шрифты

* **Выбор подходящего шрифта** для каждого языка
* **Масштабирование для сложных скриптов**

### 3.4 Форматы даты/времени

* **Региональные форматы** (DD/MM/YYYY vs. MM/DD/YYYY)
* **Учет часовых поясов**

### 3.5 Валюта

* **Локализованное отображение** цен
* **Мультивалютная оплата**, если необходимо

* * *

## 4. Стратегия реализации

### 4.1 Разработка

* **Библиотеки i18n** (`gettext`, `i18next`)
* **JSON/YAML**-файлы для переводов
* **Middleware** для переключения локали

### 4.2 Тестирование

* **Проверка корректности переводов**
* **Проверка UI** (разметка, переносы строк)
* **Производительность** (скорость загрузки переводов)
* **Проверка особых символов**

* * *

## 5. Приоритет и дальнейшие шаги

### 5.1 Уровень важности: Высокий

Рекомендуется начать **хотя бы с двух языков** (англ. + ещё один), расширяя список по мере спроса.

### 5.2 Дальнейшие шаги

1. Определить ключевые тексты (сюжет, UI, подсказки)
2. Настроить хранилище переводов
3. Реализовать переключение языка
4. Учесть RTL-языки
5. Тестирование переводов
6. Масштабировать на другие языки

* * *

## 6. Зависимости

* **UI-команда**: Адаптация интерфейса под многоязычность
* **Контент-команда**: Проверка сохранения сюжета
* **Бэкенд**: Хранение и выдача переводов
* **QA**: Проверка мультиязычных сценариев