# Процедуры бэкапа и восстановления

## Обзор

В данном документе описывается, как осуществлять бэкап и восстановление критичных данных в Sherlock AI, включая ход расследований и историю взаимодействий.

## Процедуры бэкапа

### Частота

* Инкремент: ежедневно в 3:00 UTC
* Полный: раз в неделю (в воскресенье в 2:00 UTC)
* Автоматическая репликация контента

### Хранилище

* Основное: зашифрованное облако с гео-репликацией
* Вторичное: локальный сервер
* Истории: распределённая CDN

### Проверка

* Автопроверки целостности
* Тестовое восстановление раз в месяц
* Ежеквартальная выборочная проверка сюжетов

## Процедуры восстановления

### Инициирование

* При обнаружении потери данных
* Приоритет: пользовательские данные, ход сюжета, история взаимодействий

### Этапы

1. Определить актуальный бэкап
2. Проверить целостность
3. Восстановить в первичную базу
4. Проверить консистентность
5. Проверить состояние сюжетов

### После восстановления

* Полный тест целостности
* Проверка сюжетов
* Убедиться в доступности мультимедиа
* Уведомить ответственных
* Мониторинг в течение 24 часов

## Рекомендации

* Регулярное планирование бэкапов
* Мониторинг логов
* Безопасное хранение и проверка
* Контроль улик и сюжетов
* Отдельные бэкапы для пользовательских данных и историй