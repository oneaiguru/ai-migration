# language: ru

Функционал: Прохождение детективного расследования пользователем
  Как пользователь Telegram
  Я хочу проходить интерактивные детективные расследования
  Чтобы испытать себя в роли детектива и разгадывать захватывающие истории

  Предыстория:
    Допустим пользователь зарегистрирован в боте
    И доступна история "Тайна Теневой Библиотеки"

  Сценарий: Начало нового расследования
    Когда пользователь отправляет команду "/start"
    Тогда бот должен отправить приветственное сообщение
    И бот должен предложить доступные расследования
    Когда пользователь выбирает "Тайна Теневой Библиотеки"
    Тогда бот должен начать расследование
    И бот должен отправить вводную информацию о расследовании
    И бот должен отправить первый узел истории с вариантами действий

  Сценарий: Исследование места преступления
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    Когда пользователь выбирает "Осмотреть место преступления"
    Тогда бот должен отправить описание места преступления
    И бот должен предложить варианты дальнейших действий
    Когда пользователь выбирает "Осмотреть пятна на полу"
    Тогда бот должен отправить информацию о пятнах
    И бот должен добавить улику "Следы чернил на полу" в инвентарь пользователя
    Когда пользователь выбирает "Вернуться к расследованию"
    Тогда бот должен вернуть пользователя к основному расследованию

  Сценарий: Взаимодействие с персонажем
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    Когда пользователь выбирает "Поговорить с директором библиотеки"
    Тогда бот должен отправить информацию о директоре
    И бот должен предложить варианты вопросов
    Когда пользователь выбирает "Когда вы последний раз видели библиотекаря?"
    Тогда бот должен отправить ответ директора
    И бот должен предложить дополнительные вопросы
    Когда пользователь выбирает "Вернуться к расследованию"
    Тогда бот должен вернуть пользователя к основному расследованию

  Сценарий: Проверка инвентаря
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    И пользователь нашел улику "Следы чернил на полу"
    Когда пользователь отправляет команду "/inventory"
    Тогда бот должен отправить список найденных улик
    И список должен содержать "Следы чернил на полу"

  Сценарий: Анализ улики
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    И пользователь нашел улику "Следы чернил на полу"
    Когда пользователь выбирает улику "Следы чернил на полу" из инвентаря
    Тогда бот должен отправить информацию об улике
    Когда пользователь выбирает "Анализировать улику"
    Тогда бот должен отметить улику как проанализированную
    И бот должен отправить результаты анализа

  Сценарий: Обвинение персонажа
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    И пользователь собрал достаточно улик
    Когда пользователь выбирает "Решить дело"
    Тогда бот должен предложить выбрать подозреваемого
    Когда пользователь обвиняет "Директор библиотеки"
    Тогда бот должен отправить результат обвинения
    И бот должен завершить расследование

  Сценарий: Возобновление расследования
    Допустим пользователь начал расследование "Тайна Теневой Библиотеки"
    И пользователь вышел из бота
    Когда пользователь возвращается и отправляет команду "/continue"
    Тогда бот должен восстановить текущее состояние расследования
    И бот должен отправить текущий узел истории
