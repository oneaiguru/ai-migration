# Wrapper Adoption Matrix (Initial)

| Demo | Screen | Feature Slot | Wrapper | Props (unit, clamps, toggles, targets) | CH Ref | Notes |
| --- | --- | --- | --- | --- | --- | --- |
| Scheduling | Dashboard | Coverage % (period/day) | BarChart | unit=percent; clamp=70–100; viewToggle=coverage/adherence; stacked=true | CH5 Build | Colors/legend TBD (UAT) |
| Scheduling | Dashboard | Adherence trend | LineChart | unit=percent; clamp=80–100; targets=[optional dashed] | CH5 Advanced | Dash/width TBD (UAT) |
| Scheduling | Dashboard | KPI tiles | KpiCardGrid | N/A | CH5 | Copy/values TBD |
| Scheduling | Logs | Build log table | ReportTable | columns defined per screen | CH5 | — |
| Unified Demo | Shell | Top navigation modules | NavTabs | modules=current: Employees/Schedule; expected: Forecasts/Расписание/Сотрудники/Отчёты | CH2 §2.1 | Gap: add Forecasts + Reports tabs to mirror real Naumen top bar (d.tex findings); blocked until unified shell deploy is reachable |

| Manager Portal | Dashboard | Team Coverage (bar) | BarChart | unit=percent; clamp=60–100; viewToggle=coverage/adherence; adapters/buildCoverageSeries | CH5 §5.2 | Source: ${MANAGER_PORTAL_REPO}/src/pages/Dashboard.tsx:43-53 + adapters/dashboard.ts:49-75 | Note: Toggle buttons теперь русифицированы; UAT 2025-10-26 Pass подтверждён, ждём обновлённых скриншотов после trimmed_smoke. |
| Manager Portal | Dashboard | Request Distribution (pie) | DoughnutChart | unit=percent; legend=bottom; adapters/buildDistributionSeries | CH5 §5.4 | Source: ${MANAGER_PORTAL_REPO}/src/pages/Dashboard.tsx:57 + adapters/dashboard.ts | Gap: Manual highlights request filters by status/type; chart is read-only (no drill) |
| Manager Portal | Dashboard | KPI tiles | KpiCardGrid | items=4; trend badges; RU number formatting | CH5 §5.3 | Source: ${MANAGER_PORTAL_REPO}/src/pages/Dashboard.tsx:38 + adapters/dashboard.ts |
| Manager Portal | Approvals | Request list | ReportTable | columns + selectableRows/selectedRowIds/onSelectionChange | CH6 §6.7 | Source: ${MANAGER_PORTAL_REPO}/src/pages/Approvals.tsx:180-270; ${MANAGER_PORTAL_REPO}/src/adapters/approvals.ts:1-140 |
| Manager Portal | Approvals | Review dialog | Dialog | actions=approve/reject; shift disposition radios; reject note required | CH6 §6.7 | Source: ${MANAGER_PORTAL_REPO}/src/pages/Approvals.tsx:320-370 |
| Manager Portal | Teams | Team detail modal | (custom dialog) | custom modal shows coverage roster; not migrated | CH3 §3.0 | Gap: migrate to shared Dialog wrapper to align with approvals UX |
| Manager Portal | Schedule | Coverage table | ReportTable | columns=date/required/published/status; aria titles | CH5 §5.3 | Source: ${MANAGER_PORTAL_REPO}/src/components/schedule/ScheduleTabs.tsx:64-89 |
| Manager Portal | Schedule | Shifts list | ReportTable | columns=employee/date/time/status; RU labels | CH5 §5.3 | Source: ${MANAGER_PORTAL_REPO}/src/components/schedule/ScheduleTabs.tsx:92-111 |
| Manager Portal | Schedule | Requests tab (queue) | ReportTable | columns=employee/team/category/type/priority/status/period/submittedAt; presets via `ScheduleRequestHistoryPreset`; queue summary lines | CH5 §5.4 | Source: ${MANAGER_PORTAL_REPO}/src/components/schedule/ScheduleTabs.tsx:80-190 + adapters/scheduleRequests.ts:4-165 |

| Analytics Dashboard | KPI Overview | KPI deck | KpiCardGrid | items=6; RU labels; trend badges | CH6 §6.3 | Source: ${ANALYTICS_REPO}/src/features/analytics/KpiOverview.tsx:15 |
| Analytics Dashboard | KPI Overview | Trend (24h calls) | LineChart | unit=count; area=true; targets=[160 dashed] | CH6 §6.4 | Source: ${ANALYTICS_REPO}/src/features/analytics/KpiOverview.tsx:18 |
| Analytics Dashboard | KPI Overview | Department matrix | ReportTable | columns: отдел/звонки/агенты/CSAT/утил | CH6 §6.2 | Source: ${ANALYTICS_REPO}/src/features/analytics/KpiOverview.tsx:26 |
| Analytics Dashboard | Advanced | Gauges (SL/Util/CSAT) | DoughnutGauge | unit=percent; circumference=180; rotation=270 | CH6 §6.3 | Source: ${ANALYTICS_REPO}/src/features/analytics/AdvancedAnalytics.tsx:16 | Gap: CH6 calls for target tick + delta label; wrapper currently supports value only |
| Analytics Dashboard | Advanced | Heatmap (intensity) | HeatmapChart | unit=percent; x=hour; y=weekday | CH6 §6.4 | Source: ${ANALYTICS_REPO}/src/features/analytics/AdvancedAnalytics.tsx:29 |
| Analytics Dashboard | Advanced | Radar (performance) | RadarChart | categories=6; target dashed; legend=bottom | CH6 §6.4 | Source: ${ANALYTICS_REPO}/src/features/analytics/AdvancedAnalytics.tsx:37 |
| Analytics Dashboard | Advanced | Trend Analysis (dual-axis) | LineChart | primary: unit=percent clamp=70–100; secondaryAxis (unit=count clamp=0–5); confidenceBand + toolbar | CH6 §6.4 | Source: ${ANALYTICS_REPO}/src/features/analytics/AdvancedAnalytics.tsx:47 | Gap: Document new `confidenceBand`/`toolbar` props in wrapper README; add vitest snapshot for `data-hidden` legend tokens |
| Analytics Dashboard | Advanced | Trend toolbar | Buttons | toggles smooth + target offsets | CH6 Appendix | Source: ${ANALYTICS_REPO}/src/features/analytics/AdvancedAnalytics.tsx:69 | — |
| Analytics Dashboard | Analytics | Absenteeism snapshot | LineChart + ReportTable | unit=percent; clamp=0–25; async load via shared forecasting service | CH6 §6.5 | Source: ${ANALYTICS_REPO}/src/features/analytics/AbsenteeismPanel.tsx:10 | Gap: Capture Playwright screenshot for delta banner (planned next UAT). Uses shared helper `@wfm/shared/forecasting`. |
| Analytics Dashboard | Forecasting | Forecast Builder | LineChart + ReportTable | unit=count; confidence band; RU month labels; deterministic rows via shared service | CH6 §6.6 | Source: ${ANALYTICS_REPO}/src/features/forecasting/ForecastBuilder.tsx:1 | Shared module `src/modules/forecasting/*` now supplies data/services. |
| Analytics Dashboard | Reports | Export hub | ReportTable + downloadCsv | lists Т‑13/Пунктуальность + status | CH6 §6.2 | Source: ${ANALYTICS_REPO}/src/features/reports/ReportsPanel.tsx:18 | Gap: When real API arrives, replace blob stub; ensure audit logging per CH6 note |

| WFM Employee Portal | Layout | Work Structure drawer | Dialog | variant=sheet; size=lg; shows org path + contacts; trigger in header | ${EMPLOYEE_PORTAL_REPO}/src/components/WorkStructureDrawer.tsx:15-168 | Implemented: search + hierarchy parity confirmed (scout 2025-11-02). |
| WFM Employee Portal | Vacation Requests | Status Filter Tabs | FilterGroup | options=all/pending/approved/rejected/cancelled; aria-label="Фильтр по статусу" | ${EMPLOYEE_PORTAL_REPO}/src/pages/VacationRequests.tsx:247-332 | RU copy + dynamic counts aligned with manual. |
| WFM Employee Portal | Vacation Requests | Request list | ReportTable | columns: period/days/type/status/managerComment/history; sort toggles; history dialog | ${EMPLOYEE_PORTAL_REPO}/src/pages/VacationRequests.tsx:183-597, :926-1163 | Uses RU formatters + status badges; aggregated period dialog surfaces date/status toggles + counters; dedupe + year alignment handled in submit path (`src/pages/VacationRequests.tsx:216-310`, `src/data/mockData.ts:395-454`). |
| WFM Employee Portal | Vacation Requests | New Request dialog | Dialog + FormField | required validation + emergency checkbox; toast feedback; RU placeholders | ${EMPLOYEE_PORTAL_REPO}/src/pages/VacationRequests.tsx:334-804 | Gap: CH5 §5.4 attachments/manager notes still TODO. |
| WFM Employee Portal | Vacation Requests | Date inputs | (custom input) | placeholder=`дд.мм.гггг`; normalises `dd.mm.yyyy` ↔︎ ISO; enforces min/max | ${EMPLOYEE_PORTAL_REPO}/src/components/inputs/DateField.tsx:1-134 | Implemented 2025-11-03 to eliminate browser `mm/dd/yyyy` placeholders. |
| WFM Employee Portal | Vacation Requests | Period history filters | Dialog | mode switch (single/period), status checkboxes, summary counters | ${EMPLOYEE_PORTAL_REPO}/src/pages/VacationRequests.tsx:926-1163 | Implemented 2025-11-02 — matches manual image79; ensure UAT captures `portal-vacation-history.png`. |
| WFM Employee Portal | Profile | Personal / Contact forms | FormField | aria-invalid/error ids; RU dates; tabbed sections | ${EMPLOYEE_PORTAL_REPO}/src/pages/Profile.tsx:214-732 | Manual validation replaces native `required`; covers Appendix 1 fields. |

| Forecasting Analytics | Accuracy Dashboard | KPI/Error tiles | KpiCardGrid | unit=percent; trend arrow via adapter; targets block | CH4 §4.4 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/accuracy/AccuracyMetrics.tsx:3 | UAT 2025-10-29 Pass – React 18.3.1 lock verified; evidence `test-results/playwright-forecasting-accuracy.png`. |
| Forecasting Analytics | Accuracy Dashboard | Performance trend | LineChart | area fill; RU tooltips; adapter-driven series | CH4 §4.4 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/accuracy/PerformanceChart.tsx:3 | Secondary axis legend verified in smoke script; delta badges backlog remains. |
| Forecasting Analytics | Accuracy Dashboard | Error distribution | BarChart | viewToggle=time/day/magnitude; unit=people | CH4 §4.5 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/accuracy/ErrorAnalysis.tsx:9 | UAT confirms toggles; ensure magnitude copy aligns with CH wording in future polish. |
| Forecasting Analytics | Accuracy Dashboard | Model comparison table | ReportTable | status pills; action column selects algorithm | CH4 §4.6 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/accuracy/ModelComparison.tsx:6 | Gap: surface processing time sparkline per CH spec (still open). |
| Forecasting Analytics | Accuracy Dashboard | Forecast detail table | ReportTable | columns=forecast/fact/Δabs/Δ%/absenteeism/lost calls/AHT/SL (ru-RU formatting) | CH4 §4.4 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/AccuracyDashboard.tsx:200-320; adapter `${FORECASTING_ANALYTICS_REPO}/src/adapters/forecasting/accuracy.ts:1-220`; export via `createAccuracyExport`. |
| Forecasting Analytics | Trend Dashboard | Forecast vs Fact trend | LineChart | primary series + dashed target; anomaly markers; confidence band | CH4 §4.3 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/trends/TrendAnalysisDashboard.tsx:33 | UAT 2025-10-29 Pass – `/trends` smoke clean after React pin (`playwright-forecasting-trend.png`). |
| Forecasting Analytics | Trend Dashboard | Seasonality bars | BarChart | stacked by positive/negative variance; RU labels | CH4 §4.3 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/trends/TrendAnalysisDashboard.tsx:118 | Passed UAT alongside trend view; palette alignment still on backlog. |
| Forecasting Analytics | Manual Adjustments | Adjustment grid | ReportTable | selectable rows; undo/redo; quick ops; validation badges | CH4 §4.4 | Source: ${FORECASTING_ANALYTICS_REPO}/src/components/forecasting/ManualAdjustmentSystem.tsx:1 | UAT 2025-10-29 Pass – hook call bug fixed (top-level useEffect) + badges verified; live API follow-up remains. |
