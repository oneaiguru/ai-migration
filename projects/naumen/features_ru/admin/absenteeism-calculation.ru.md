# features/admin/absenteeism-calculation.feature

Функционал: Расчёт абсентеизма
  Как менеджер по персоналу
  Я хочу рассчитывать прогнозы абсентеизма
  Чтобы планировать потребность в персонале

  Предыстория:
    Дано я вошёл в систему управления персоналом
    И нахожусь на странице "Расчёт абсентеизма"
    И у меня есть доступ к контакт-центру "Контакт-центр 1010"

  Сценарий: Построение прогноза с дневными интервалами
    Дано настроены параметры прогноза
    Когда я задаю горизонт прогноза с "17.07.2023" по "17.07.2024"
    И выбираю интервал "День"
    И нажимаю "Построить прогноз"
    Тогда система генерирует прогноз абсентеизма
    И я вижу результаты прогноза с дневной разбивкой

  Сценарий: Просмотр существующих профилей абсентеизма
    Дано в системе существуют профили абсентеизма
    Когда я перехожу на страницу расчёта абсентеизма
    Тогда я вижу таблицу со столбцами:
      | Дата построения | Навык факта абсентеизма | Описание профиля прогноза | Действия |
    И в каждой строке отображаются детали профиля
    И доступны кнопки Применить, Экспорт, Редактировать и Удалить

  Сценарий: Применение профиля абсентеизма
    Дано существует профиль абсентеизма для навыка "ВХ_Линия_гр1"
    Когда я нажимаю кнопку "Применить" у этого профиля
    Тогда профиль применяется к текущему прогнозу
    И система подтверждает применение

  Сценарий: Экспорт профиля абсентеизма
    Дано существует профиль абсентеизма
    Когда я нажимаю кнопку экспорта
    Тогда данные профиля экспортируются
    И я получаю файл для скачивания

  Сценарий: Редактирование профиля абсентеизма
    Дано существует профиль абсентеизма
    Когда я нажимаю кнопку редактирования
    Тогда открывается интерфейс редактирования профиля
    И я могу изменить параметры профиля

  Сценарий: Удаление профиля абсентеизма
    Дано существует профиль абсентеизма
    Когда я нажимаю кнопку удаления
    Тогда появляется диалог подтверждения
    Когда я подтверждаю удаление
    Тогда профиль удаляется из системы

  Сценарий: Настройка периодических исключений
    Дано я хочу настроить повторяющиеся исключения
    Когда я открываю раздел "Периодические исключения"
    И задаю правила повторения
    Тогда система сохраняет исключения
    И они применяются к будущим прогнозам

  Сценарий: Настройка разовых исключений
    Дано необходимо учесть особое событие
    Когда я открываю раздел "Разовые исключения"
    И выбираю конкретные даты
    И указываю тип исключения
    Тогда система сохраняет разовые исключения
    И они применяются к прогнозу для указанных дат
