# features/admin/time-tracking.feature

Функционал: Учёт рабочего времени
  Как сотрудник или менеджер
  Я хочу точно фиксировать рабочее время
  Чтобы корректно учитывать посещаемость и часы

  Предыстория:
    Дано я вошёл в систему управления персоналом
    И у меня есть доступ к модулю учёта времени

  Сценарий: Начало смены (чек-ин)
    Дано я назначен на сегодняшнюю смену
    И моя смена начинается в 09:00
    Когда я отмечаю начало работы в 09:00
    Тогда фиксируется время входа
    И мой статус меняется на "На смене"
    И отображается информация о текущей смене

  Сценарий: Выход на обеденный перерыв
    Дано я сейчас на смене
    И наступило время моего обеда
    Когда я отмечаю выход на перерыв
    Тогда фиксируется время начала перерыва
    И статус меняется на "На перерыве"
    И система отслеживает длительность перерыва

  Сценарий: Возвращение с обеда
    Дано я нахожусь в статусе "На перерыве"
    Когда я отмечаю возвращение
    Тогда фиксируется время окончания перерыва
    И статус возвращается на "На смене"
    И подсчитывается общая длительность перерыва

  Сценарий: Завершение смены (чек-аут)
    Дано я сейчас на смене
    И моя смена заканчивается в 17:00
    Когда я отмечаю окончание работы в 17:05
    Тогда фиксируется время выхода
    И статус меняется на "Не на смене"
    И рассчитывается общее время работы за день
    И при наличии переработки она помечается

  Сценарий: Ранний приход на смену
    Дано моя смена начинается в 09:00
    Когда я отмечаю приход в 08:45
    Тогда фиксируется ранний приход
    И система спрашивает, хочу ли я начать работу раньше

  Сценарий: Опоздание на смену
    Дано моя смена начинается в 09:00
    Когда я отмечаю приход в 09:15
    Тогда фиксируется опоздание на 15 минут
    И обновляется статистика пунктуальности

  Сценарий: Учёт нескольких активностей
    Дано я отмечен на смене
    Когда я выполняю последовательность активностей:
      | Activity | Duration |
      | В работе | 2 hours |
      | Перерыв | 30 minutes |
      | В работе | 3 hours |
      | Обучение | 1 hour |
    Тогда каждая активность фиксируется отдельно
    И суммарное время рассчитывается корректно
    И распределение по активностям доступно в отчётах
