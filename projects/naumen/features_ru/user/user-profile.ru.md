# features/user/user-profile.feature

Функционал: Управление персональным профилем
  Как сотрудник
  Я хочу поддерживать свой профиль в актуальном состоянии
  Чтобы мои контактные данные и предпочтения были верны

  Предыстория:
    Дано я вошёл в систему управления персоналом
    И у меня есть права сотрудника
    И я нахожусь на странице своего профиля

  @self-service
  Сценарий: Обновление контактных данных
    Когда я изменяю свой номер телефона и email
    И сохраняю изменения
    Тогда информация профиля обновляется
    И отображается сообщение об успешном сохранении

  @self-service
  Сценарий: Управление навыками и сертификатами
    Когда я открываю вкладку "Рабочая информация"
    Тогда я могу добавлять или удалять навыки
    И могу обновить статус сертификатов

  @self-service
  Сценарий: Настройка уведомлений
    Когда я открываю вкладку предпочтений
    И включаю push-уведомления о изменениях смен
    Тогда мои новые настройки сохраняются

  @self-service
  Сценарий: Загрузка фото профиля
    Когда я загружаю новую фотографию профиля
    Тогда превью фото обновляется сразу
    И изображение сохраняется после подтверждения

  @self-service
  Сценарий: Обновление контактного лица для экстренных случаев
    Когда я редактирую контактную информацию для экстренной связи
    И сохраняю профиль
    Тогда новые данные контакта сохраняются

  @accessibility @keyboard @a11y
  Scenario: Navigate profile form using keyboard only
    Given профиль открыт для редактирования
    When пользователь переходит по полям клавишей Tab
    Then фокус перемещается по порядку ввода
    And клавиша Enter активирует кнопку "Сохранить"

  @accessibility @a11y
  Scenario: Screen reader announces profile sections
    Given включен экранный диктор
    When страница профиля загружается
    Then разделы имеют aria-labels
    And диктор озвучивает название активной вкладки

  @accessibility @a11y
  Scenario: Focus trapped inside photo upload modal
    Given открыт диалог загрузки фото
    When пользователь нажимает Tab
    Then фокус не выходит за пределы модального окна
    And Escape закрывает диалог и возвращает фокус на кнопку загрузки

  @accessibility @contrast @a11y
  Scenario: Verify profile page color contrast
    Given страница профиля отображается в стандартной теме
    Then цвет текста и фона имеет контраст не ниже 4.5 к 1
    And ссылки и кнопки имеют видимый фокус

  @accessibility @voice @a11y
  Scenario: Open notification settings by voice command
    Given активирован режим голосового управления
    When пользователь говорит "Открыть настройки уведомлений"
    Then раскрывается вкладка предпочтений
    And фокус ставится на первый переключатель
