(()=>{var e,t,r,i={42695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{additionalScheduleCreated:()=>p,createAdditionalSchedule:()=>v,fetchAdditionalSchedule:()=>m,fetchAdditionalScheduleByData:()=>f,loadAdditionalSchedules:()=>u});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,i.PH)("loadAdditionalSchedules"),p=(0,i.PH)("additionalScheduleCreated"),h=(0,l.jsx)(s.Z,{id:"Notifications.couldNotCreateAdditionalShift",defaultMessage:[{type:0,value:"Не удалось создать дополнительную смену."}]});function f(e){return function(){var t=d((function*(t){var r=yield(0,o.ZP)("POST","additional-user-schedule/read-day-by-user",e),i=yield r.json();t(u(i.response))}));return function(e){return t.apply(this,arguments)}}()}function m(){return function(){var e=d((function*(e){var t=yield(0,o.ZP)("POST","additional-user-schedule/read-all"),r=yield t.json();e(u(r.response))}));return function(t){return e.apply(this,arguments)}}()}function v(e,t){var{queueId:r,start:i,end:c,userId:u}=e;return function(){var e=d((function*(e){try{var d=yield(0,o.ZP)("POST","user-schedule/read-details-by-user",{from:i,to:c,userId:u}),f=(yield d.json()).response,m=yield(0,o.ZP)("POST","additional-user-schedule/create",{queueId:r,start:i,end:c,activities:f,status:"NOT_ASSIGNED"}),v=yield m.json(),y={};v.success?(n.T.success((0,l.jsx)(s.Z,{id:"Notifications.additionalShiftCreated",defaultMessage:[{type:0,value:"Дополнительная смена создана."}]})),y.id=v.response.id,e(p(y)),t&&t(y)):(0,a.x)(null,h)}catch(e){console.log(e),(0,a.x)(e,h)}}));return function(t){return e.apply(this,arguments)}}()}},69699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var i=r(81978),s=r(42695);const n=(0,i.Lq)({[s.loadAdditionalSchedules]:(e,t)=>t},{})},81725:(e,t,r)=>{"use strict";r.r(t),r.d(t,{connect:()=>J,disconnect:()=>$,fetchMe:()=>_,finishIdentification:()=>R,getDeviceId:()=>W,getMe:()=>K,identification:()=>Q,identificationFailure:()=>T,identificationSuccess:()=>k,licenseStatus:()=>E,setFormErrors:()=>G,signIn:()=>Y,signInFormSent:()=>P,signInFormServerError:()=>C,signOut:()=>B,startIdentification:()=>N,userSignOut:()=>w});var i=r(30381),s=r.n(i),n=r(28e3),a=r.n(n),o=r(81978),l=r(57186),c=r(12718),d=r(82028),u=r(30053),p=r(35667),h=r(22350),f=r(88599),m=r(35701),v=r(69355),y=r(52429),g=r(64640),b=r(25748),j=r(50527);function x(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){x(n,i,s,a,o,"next",e)}function o(e){x(n,i,s,a,o,"throw",e)}a(void 0)}))}}var O,P=(0,o.PH)("signInFormSent"),w=(0,o.PH)("userSignOut"),C=(0,o.PH)("signInFormServerError"),k=(0,o.PH)("identificationSuccess"),T=(0,o.PH)("identificationFailure"),N=(0,o.PH)("startIdentification"),R=(0,o.PH)("endIdentification"),E=(0,o.PH)("licenseStatus"),D="REFRESH_TOKEN_KEY",A="TOKEN_EXPIRE_IN_KEY",M="LAST_TOKEN_REFRESH_TIME",I="INVALID_CREDENTIALS",Z="INVALID_LOGIN",q="INVALID_PASSWORD",F="Could not authenticate user",L="User account is locked",H=e=>{sessionStorage.iframeMode?sessionStorage.setItem((0,g.$i)(),e):document.cookie=(0,g.$i)()+"="+e+";path=/;SameSite=Strict;"};function _(){return(0,d.t9)("me")}function B(e,t){return function(){var r=S((function*(r){try{yield(0,d.t9)("user-logout",{deviceId:e}),v.ZP.set(j.B1,null),(0,d.pQ)(),m.Z.clear(),clearTimeout(O),r(k({})),r(w()),(0,v.D9)(v.tl.NAMESPACE_PREFIX),t&&t()}catch(e){console.error(e)}}));return function(e){return r.apply(this,arguments)}}()}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=S((function*(t){var r=Object.keys(e),i=[];r.forEach((t=>{i.push(e[t])})),t(C(i.join(", ")))}));return function(e){return t.apply(this,arguments)}}()}function W(){var e="deviceId",t=y.Z.getItem(e);if(!t){var r=(0,h.Vj)();y.Z.setItem(e,r),t=r}return t}var U=e=>{var t=null==e?void 0:e.split(":");if(!(0,p.xb)(t)&&t[0]===F)return I;switch(e){case"Bad credentials":case"No entity found for query":case F:return I;case Z:return Z;case q:return q;case L:return L;default:return e}},V=e=>{var{login:t,password:r,locale:i=c.Ok.RU}=e;return"username=".concat(t,"&password=").concat(encodeURIComponent(r),"&locale=").concat(i,"&grant_type=password&client_id=wfm&device_id=").concat(W())},z=e=>"grant_type=jwt&client_id=wfm&jwt=".concat(e);function Y(e){var{login:t,password:r,locale:i=c.Ok.RU,jwt:n}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.wA;return function(){var e=S((function*(e){try{var o=n?z(n):V({login:t,password:r,locale:i}),l=yield(0,d.t9)("oauth/token",o,null,null,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(l.error)e(C(U(l.error_description)));else{H(l.response.atoken);var{response:c}=yield _();(0,v.D9)(c.login),v.ZP.get(v.tl.LAST_GROUP_ID_SELECTED)||v.ZP.set(v.tl.LAST_GROUP_ID_SELECTED,c.groupId),m.Z.set(D,l.response.rtoken),m.Z.set(A,6e5),m.Z.set(M,s()().unix()),e(k(c)),e((0,b.clearNotifications)()),a()}}catch(t){if(console.error("signIn error: ",t),t.serverError){var u="number"==typeof t.serverError.length?t.serverError[0].errorCode:t.serverError.errorCode;e(C(u))}else e(C(U(t.error_description)))}}));return function(t){return e.apply(this,arguments)}}()}function Q(){return function(){var e=S((function*(e){e(N());var t=m.Z.get(c.ZP.TOKEN_EXPIRE_IN_KEY)||0,r=m.Z.get(c.ZP.LAST_TOKEN_REFRESH_TIME)||0;(0,d.QA)(r,t)&&m.Z.clear();try{var{response:i}=yield _();(0,v.D9)(i.login),e(k(i))}catch(t){e(T(t))}finally{e(R())}}));return function(t){return e.apply(this,arguments)}}()}function K(){return function(){var e=S((function*(e){try{var{response:t}=yield _();e(k(t))}catch(e){(0,f.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}var X=null,J=()=>e=>{var t,r=(null===(t=window.$oswfm)||void 0===t?void 0:t.backend)||g.ZP.backend,i=new(a())("".concat(r).concat("wfmws"),null,{transports:["xhr-polling"]});(X=l.L.over(i)).connect({},(t=>{console.log("Connected: "+t),X.subscribe("/wfmtopic/license/status",(t=>e(E(t.body.slice(1,-1))))),X.send("/wfmserver/socks/license/status")}),(e=>{console.log("STOMP: "+e),setTimeout(X,5e3),console.log("STOMP: Reconnecting in 5 seconds")})),X.debug=()=>{}},$=()=>{null!==X&&X.disconnect(),console.log("Disconnected")}},97429:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var i=r(81978),s=r(81725);const n=(0,i.Lq)({[s.startIdentification]:()=>!0,[s.finishIdentification]:()=>!1},!1)},31461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(81978),s=r(81725);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=(0,i.Lq)({[s.signInFormSent]:e=>a(a({},e),{},{formSent:!0}),[s.signInFormServerError]:(e,t)=>a(a({},e),{},{serverError:t}),[s.licenseStatus]:(e,t)=>a(a({},e),{},{licenseStatus:t})},{formSent:!1,serverError:null,licenseStatus:"NORMAL"})},62307:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var i=r(81978),s=r(97539),n=r(52707),a=r(81725),o=["userId"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}for(var u=(new Date).getTimezoneOffset(),p=Math.abs(u/60*100).toString();p.length<4;)p="0"+p;p=(u>0?"-":"+")+p;const h=(0,i.Lq)({[a.identificationSuccess]:(e,t)=>{var r=c({},t);return r.timeZoneData=p,t.rights&&(r.rights=t.rights.reduce(((e,t)=>(e[t.resource]=t.action,e)),{})),r},[a.identificationFailure]:()=>({tokenInvalid:!0}),[s.userUpdated]:(e,t)=>{var{userId:r}=t,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(t,o);return c(c({},e),i)},[n.scheduleControlSettingsSaved]:(e,t)=>c(c({},e),t)},{})},95766:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,a:()=>n});var i=r(20573),s=r(12718),n=e=>e.signInForm?e.signInForm.licenseStatus:null,a=(0,i.createSelector)(n,(e=>e===s.ck.WARNING||e===s.ck.VIOLATION))},75005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deviceInfoUpdateLoading:()=>d,prepareFormDetailData:()=>h,sendEditDeviceInfo:()=>p,updateDeviceForm:()=>f});var i=r(44012),s=r(81978),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var d=(0,s.PH)("deviceInfoUpdateLoading"),u=(0,l.jsx)(i.Z,{id:"Notifications.couldNotSaveChanges",defaultMessage:[{type:0,value:"Не удалось сохранить изменения"}]});function p(e){return(0,o.t9)("biometrics/device-info/update",e)}function h(e){var{points:t,timezone:r,period:i,deviceId:s}=e;return{deviceIds:[s],info:{timeZoneOffset:Number(r),startTime:i.from,releasedTime:i.to},groupIds:t}}function f(e){return function(){var t,r=(t=function*(t){try{t(d(!0));var r=h(e),{cbSuccess:s}=e,{error:o}=yield p(r);o?(0,a.x)(null,u):s&&(n.T.success((0,l.jsx)(i.Z,{id:"Common.ChangesSaved",defaultMessage:[{type:0,value:"Изменения сохранены"}]})),s())}catch(o){console.error("updateDeviceForm error: ",o),(0,a.x)(o,u)}finally{t(d(!1))}},function(){var e=this,r=arguments;return new Promise((function(i,s){var n=t.apply(e,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},53848:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearDevices:()=>h,fetchDevices:()=>p,fetchDevicesRequest:()=>b,fetchOrgPoints:()=>j,getDevices:()=>P,getOrgPoints:()=>S,loadedOrgPoints:()=>m,loadedOrgPointsRaw:()=>v,loadingDevices:()=>u,prepareDataForTable:()=>O,setFilterDeviceTable:()=>f,setFilterOrgPoints:()=>y});var i=r(44012),s=r(81978),n=r(88599),a=r(82028),o=r(84929),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,s.PH)("loadingDevices"),p=(0,s.PH)("fetchDevices"),h=(0,s.PH)("clearDevices"),f=(0,s.PH)("setFilterDeviceTable"),m=(0,s.PH)("loadedOrgPoints"),v=(0,s.PH)("loadedOrgPointsRaw"),y=(0,s.PH)("setFilterOrgPoints"),g=(0,l.jsx)(i.Z,{id:"Notifications.couldNotGetDevices",defaultMessage:[{type:0,value:"Не удалось получить список устройств"}]});function b(e){return(0,a.t9)("biometrics/device/read-by-filter",e)}function j(){return(0,a.t9)("permission-group/read-hierarchy")}var x=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.name=t[o.jp],r[t.id]=t,t.children&&t.children.forEach((i=>{e(i,r),i.groupId=t.id,i.name=i[o.jp]})),r};function S(){return function(){var e=d((function*(e){try{var{error:t,response:r}=yield j();if(!t){var i=x(r);e(m(i))}}catch(t){console.error("getOrgPoints error = ",t)}}));return function(t){return e.apply(this,arguments)}}()}function O(e){var t=[];return e.forEach((e=>{var r={deviceId:e.device.deviceSerialNo,pointOrg:e.groups,start:e.device.startTime,end:e.device.releasedTime,terminalType:e.device.terminalType,hardwareVersion:e.device.hardwareVersion,deviceSerialNo:e.device.deviceSerialNo,productName:e.device.productName,version:e.device.version,id:e.device.id,timeZoneOffset:String(e.device.timeZoneOffset)};t.push(r)})),t}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupIds:[]};return function(){var t=d((function*(t){try{t(u(!0));var{response:r,error:i}=yield b(e);i?(0,n.x)(null,g):(t(p(O(r.devices))),t(u(!1)))}catch(i){console.error("getDevices error = ",i),(0,n.x)(i,g),t(u(!1))}}));return function(e){return t.apply(this,arguments)}}()}},814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{afterFetchDevices:()=>u,afterFetchTransaction:()=>h,afterFetchUsers:()=>p,checkAllWithErrors:()=>v,checkItem:()=>m,fetchDevices:()=>S,fetchDevicesResponse:()=>x,fetchTransactions:()=>P,fetchUsers:()=>O,restartOperations:()=>w,setErrorsOnlyFilter:()=>f});var i=r(44012),s=r(81978),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,s.PH)("afterFetchDevices"),p=(0,s.PH)("afterFetchUsers"),h=(0,s.PH)("afterFetchTransaction"),f=(0,s.PH)("setErrorsOnlyFilter"),m=(0,s.PH)("checkItem"),v=(0,s.PH)("checkAllWithErrors"),y=(0,l.jsx)(i.Z,{id:"Notifications.couldNotFetchManagers",defaultMessage:[{type:0,value:"Не удалось получить список менеджеров"}]}),g=(0,l.jsx)(i.Z,{id:"Notifications.couldNotGetDevices",defaultMessage:[{type:0,value:"Не удалось получить список устройств"}]}),b=(0,l.jsx)(i.Z,{id:"Notifications.couldNotGetTransactions",defaultMessage:[{type:0,value:"Не удалось получить список транзакций"}]}),j=(0,l.jsx)(i.Z,{id:"Notifications.couldNotRestartOperationsResponse",defaultMessage:[{type:0,value:"Не удалось обновить операции"}]}),x=()=>(0,o.t9)("biometrics/device/serial-no/read-all"),S=()=>function(){var e=d((function*(e){try{var t=yield x();e(u(t.response))}catch(e){console.error("fetchDevices error: ",e),(0,a.x)(e,g)}}));return function(t){return e.apply(this,arguments)}}(),O=()=>function(){var e=d((function*(e){try{var t=yield(0,o.t9)("manager/read-all");e(p(t.response))}catch(e){console.error("fetchUsers error: ",e),(0,a.x)(e,y)}}));return function(t){return e.apply(this,arguments)}}(),P=e=>function(){var t=d((function*(t){try{var r=yield(e=>(0,o.t9)("biometrics/device-task/read-by-filter",e))(e);t(h(r.response))}catch(e){console.error("fetchTransactions error: ",e),(0,a.x)(e,b)}}));return function(e){return t.apply(this,arguments)}}(),w=(e,t)=>d((function*(){try{yield(e=>(0,o.t9)("biometrics/device-action/restart",{actionIds:e}))(e),t(),n.T.success()}catch(e){console.error("restartOperations error: ",e),(0,a.x)(e,j)}}))},84929:(e,t,r)=>{"use strict";r.d(t,{$1:()=>s,jp:()=>i});var i="groupName",s=e=>{var t=[];return e.forEach((e=>{t.push(e.id)})),{groupIds:t}}},65994:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,getDevicesData:()=>f,getFilterOrgPoints:()=>j,getFilterTableDevice:()=>y,getIsLoadingDevices:()=>m,getIsLoadingUpdateDeviceInfo:()=>v,getOrgPointsRaw:()=>b,getOrgPointsStore:()=>g});var i=r(81978),s=r(97779),n=r(53848),a=r(75005),o=(0,i.Lq)({[n.fetchDevices]:(e,t)=>t,[n.clearDevices]:()=>[]},[]),l=(0,i.Lq)({[n.loadingDevices]:(e,t)=>t},!1),c=(0,i.Lq)({[a.deviceInfoUpdateLoading]:(e,t)=>t},!1),d=(0,i.Lq)({[n.setFilterDeviceTable]:(e,t)=>t},{}),u=(0,i.Lq)({[n.loadedOrgPoints]:(e,t)=>t},[]),p=(0,i.Lq)({[n.loadedOrgPointsRaw]:(e,t)=>t},{}),h=(0,i.Lq)({[n.setFilterOrgPoints]:(e,t)=>t},[]),f=e=>e.devices.devicesData,m=e=>e.devices.isLoadingDevices,v=e=>e.devices.isLoadingUpdateDeviceInfo,y=e=>e.devices.filterTableDevice,g=e=>e.devices.orgPoints,b=e=>e.devices.orgPointsRaw,j=e=>e.devices.filterOrgPoints;const x=(0,s.combineReducers)({devicesData:o,isLoadingDevices:l,isLoadingUpdateDeviceInfo:c,filterTableDevice:d,orgPoints:u,filterOrgPoints:h,orgPointsRaw:p})},97288:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y,getDevicesList:()=>f,getDevicesMap:()=>h,getTransactionList:()=>v,getUserList:()=>m});var i=r(97779),s=r(81978),n=r(814);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(0,s.Lq)({[n.afterFetchDevices]:(e,t)=>t},{}),d=(0,s.Lq)({[n.afterFetchUsers]:(e,t)=>t},[]),u=(0,s.Lq)({[n.afterFetchTransaction]:(e,t)=>t.tasks,[n.checkItem]:(e,t)=>e.map((e=>e.id===t.id?o(o({},e),{},{checked:t.checked}):e)),[n.checkAllWithErrors]:(e,t)=>e.map((e=>"ERROR"===e.transactionStatus?o(o({},e),{},{checked:t}):e))},[]),p=(0,s.Lq)({[n.setErrorsOnlyFilter]:(e,t)=>t},!1),h=e=>e.transactions.devicesMap,f=e=>{var t=h(e);return Object.keys(t).map((e=>({id:e,name:t[e]})))},m=e=>e.transactions.users.map((e=>{var t,r="".concat((t=e).lastName||""," ").concat(t.firstName||""," ").concat(t.middleName||"");return{id:e.id,name:r}})),v=e=>{var{transactions:t,withErrorsOnly:r}=e.transactions;return r?t.filter((e=>"ERROR"===e.transactionStatus)):t};const y=(0,i.combineReducers)({devicesMap:c,users:d,transactions:u,withErrorsOnly:p})},42517:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addOpenedFormName:()=>x,fetchStats:()=>P,fetchStatsEstimate:()=>w,initCurrentGroupId:()=>O,openedForm:()=>h,receiveEstimateStatsData:()=>v,receiveEstimateStatsError:()=>y,receiveStats:()=>u,resetEstimateStats:()=>g,setCurrentGroupId:()=>b,setCurrentGroupName:()=>j,setEstimateStatsLoading:()=>m,setHierarchyAlreadyFetched:()=>f,statsIsLoading:()=>p,updateCurrentGroupId:()=>S});var i=r(81978),s=r(28934),n=r(65227),a=r(82028),o=r(88599),l=r(69355);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,i.PH)("receiveStats"),p=(0,i.PH)("statsIsLoading"),h=(0,i.PH)("openedForm"),f=(0,i.PH)("setHierarchyAlreadyFetched"),m=(0,i.PH)("setEstimateStatsLoading"),v=(0,i.PH)("receiveEstimateStatsData"),y=(0,i.PH)("receiveEstimateStatsError"),g=(0,i.PH)("resetEstimateStats"),b=(0,i.PH)("setCurrentGroupId"),j=(0,i.PH)("setCurrentGroupName"),x=e=>function(){var t=d((function*(t){t(h(e))}));return function(e){return t.apply(this,arguments)}}(),S=e=>t=>{t(b(e)),l.ZP.set(l.tl.LAST_GROUP_ID_SELECTED,e)},O=e=>t=>{var r=l.ZP.get(l.tl.LAST_GROUP_ID_SELECTED,null);if((0,s.M6)(r,e))t(b(r));else{var i=(0,s.nJ)(e);t(S(i))}},P=e=>{var{groupId:t,from:r,to:i}=e,s=(0,n.X5)(r,n._E),l=(0,n.X5)(i,n._E);return function(){var e=d((function*(e){try{e(p(!0));var{response:r,success:i}=yield(0,a.t9)("balancer/stats",{groupId:t,from:s,to:l});i&&(e(u(r)),e(p(!1)))}catch(e){console.error("fetchStats error = ",e),(0,o.x)(e)}finally{e(p(!1))}}));return function(t){return e.apply(this,arguments)}}()},w=e=>{var{sourceUserId:t,userIds:r,from:i,to:s}=e;return function(){var e=d((function*(e){try{e(m());var{response:n,success:l}=yield(0,a.t9)("balancer/stats/estimate",{sourceUserId:t,userIds:r,from:i,to:s});l&&e(v(n))}catch(t){console.error("fetchStats error = ",t),(0,o.x)(t),e(y(t))}}));return function(t){return e.apply(this,arguments)}}()}},80303:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addDetachedPopup:()=>l,detachedPopupAdded:()=>a,detachedPopupRemoved:()=>o,removeDetachedPopup:()=>c});var i=r(81978);function s(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){s(a,i,n,o,l,"next",e)}function l(e){s(a,i,n,o,l,"throw",e)}o(void 0)}))}}var a=(0,i.PH)("detachedPopupAdded"),o=(0,i.PH)("detachedPopupRemoved");function l(e){return function(){var t=n((function*(t){t(a(e))}));return function(e){return t.apply(this,arguments)}}()}function c(e){return function(){var t=n((function*(t){t(o(e))}));return function(e){return t.apply(this,arguments)}}()}},66994:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_LOCALE:()=>d,LOCALE_KEY:()=>c,init:()=>b,loadLocale:()=>v,loadUserLocale:()=>y,setLocale:()=>f,setMessageFormatter:()=>g,setMessageFormatterAction:()=>m});var i=r(81978),s=r(30381),n=r.n(s),a=r(69355);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}r(58267);var c=a.tl.LOCALE,d="ru";function u(e){Promise.all([r.e(602),r.e(493)]).then((t=>{r(86602),e(r(87493))}).bind(null,r)).catch(r.oe)}function p(e){Promise.all([r.e(750),r.e(706)]).then((t=>{r(88750),e(r(70706))}).bind(null,r)).catch(r.oe)}function h(e){Promise.all([r.e(178),r.e(424)]).then((t=>{r(53178),e(r(20424))}).bind(null,r)).catch(r.oe)}var f=(0,i.PH)("locale changed",(e=>{var{locale:t,messages:r}=e;return a.ZP.set(c,t),n().locale(t),{locale:t,messages:r}})),m=(0,i.PH)("setMessageFormatterAction",(e=>e));function v(e){return t=>new Promise((r=>{var i;switch(e){case"ru":i=u;break;case"de":i=h;break;default:i=p}i((i=>{t(f({locale:e,messages:i})),r()}))}))}function y(){return function(){var e=l((function*(e){var t=a.ZP.get(c),r=t||d;t||a.ZP.set(c,r),n().locale(r),yield e(v(r))}));return function(t){return e.apply(this,arguments)}}()}function g(e){return function(){var t=l((function*(t){t(m(e))}));return function(e){return t.apply(this,arguments)}}()}function b(){return function(){var e=l((function*(e){yield e(y())}));return function(t){return e.apply(this,arguments)}}()}},22917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{isCustomAvatar:()=>h,receiveIsCustomUserAvatar:()=>f,removeUserAvatar:()=>m,setDataForMultiSelectPoints:()=>p,setFilterForMultiSelectPoints:()=>u,setGlobalSettingsAlreadyFetched:()=>c,setSidebarMenuContent:()=>l,toggleSidebarMenuDrawer:()=>d});var i=r(81978),s=r(82028),n=r(88599);function a(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(e){a(n,i,s,o,l,"next",e)}function l(e){a(n,i,s,o,l,"throw",e)}o(void 0)}))}}var l=(0,i.PH)("setSidebarMenuContent"),c=(0,i.PH)("setGlobalSettingsAlreadyFetched"),d=(0,i.PH)("toggleSidebarMenuDrawer"),u=(0,i.PH)("setFilterForMultiSelectPoints"),p=(0,i.PH)("setDataForMultiSelectPoints"),h=(0,i.PH)("isCustomAvatar"),f=e=>function(){var t=o((function*(t){try{var{response:r,success:i}=yield(0,s.t9)("user-avatar/has/".concat(e));i&&t(h(r))}catch(e){console.error("isCustomUserAvatar = ",e),(0,n.x)(e)}}));return function(e){return t.apply(this,arguments)}}(),m=(e,t)=>o((function*(){try{var{success:r}=yield(0,s.t9)("user-avatar/delete/".concat(e));r&&"function"==typeof t&&t()}catch(e){console.error("removeUserAvatar = ",e),(0,n.x)(e)}}))},25748:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addNotification:()=>c,clearNotifications:()=>l,notificationAdded:()=>a,notificationRemoved:()=>o,removeNotification:()=>d});var i=r(81978);function s(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function o(e){s(a,i,n,o,l,"next",e)}function l(e){s(a,i,n,o,l,"throw",e)}o(void 0)}))}}var a=(0,i.PH)("notificationAdded"),o=(0,i.PH)("notificationRemoved"),l=(0,i.PH)("clearNotifications");function c(e){return function(){var t=n((function*(t){t(a(e))}));return function(e){return t.apply(this,arguments)}}()}function d(e){return function(){var t=n((function*(t){t(o(e))}));return function(e){return t.apply(this,arguments)}}()}},84823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{copyActivities:()=>n,resetCopiedActivities:()=>a,setActiveEditor:()=>s});var i=r(81978),s=(0,i.PH)("setActiveScheduleEditor"),n=(0,i.PH)("copyActivities"),a=(0,i.PH)("resetCopiedActivities")},97539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changePassword:()=>j,updateAvatarHash:()=>v,updateUser:()=>b,uploadAvatar:()=>g,userUpdated:()=>m});var i=r(81978),s=r(44012),n=r(88599),a=r(82028),o=r(41524),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,l.jsx)(s.Z,{id:"Notifications.couldNotUploadAvatar",defaultMessage:[{type:0,value:"Не удалось загрузить изображение"}]}),p=(0,l.jsx)(s.Z,{id:"Notifications.uploadAvatarSuccess",defaultMessage:[{type:0,value:"Изображение успешно загружено"}]}),h=(0,l.jsx)(s.Z,{id:"Notifications.couldNotUpdateUsersData",defaultMessage:[{type:0,value:"Не удалось обновить данные пользователя"}]}),f=(0,l.jsx)(s.Z,{id:"Notifications.couldNotChangePassword",defaultMessage:[{type:0,value:"Не удалось изменить пароль"}]}),m=(0,i.PH)("userUpdated"),v=(0,i.PH)("updateAvatarHash");function y(e){return(0,a.t9)("staff/update",e)}function g(e,t,r){return d((function*(){try{yield(0,a.t9)("user-avatar/upload/".concat(e),t),r(),o.T.success(p)}catch(e){console.error("uploadAvatar error: ",e),(0,n.x)(e,u)}}))}function b(e){var{id:t,dateOfBirth:r,phoneNumber:i,email:a,address:c,password:u,receiveMonitoringNotify:p}=e,f={userId:t,dateOfBirth:r,phoneNumber:i,email:a,address:c,password:u,receiveMonitoringNotify:p};return function(){var e=d((function*(e){try{yield y(f),e(m(f)),o.T.success((0,l.jsx)(s.Z,{id:"Notifications.usersDataSavedSuccess",defaultMessage:[{type:0,value:"Данные пользователя успешно сохранены"}]}))}catch(e){console.error("updateUser error: ",e),(0,n.x)(e,h)}}));return function(t){return e.apply(this,arguments)}}()}function j(e,t){return d((function*(){try{yield y({userId:e,password:t}),o.T.success((0,l.jsx)(s.Z,{id:"Notifications.passwordChangedSuccess",defaultMessage:[{type:0,value:"Пароль успешно изменен"}]}))}catch(e){console.error("changePassword error: ",e),(0,n.x)(e,f)}}))}},40550:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchWorkActivities:()=>u,receiveWorkActivitiesData:()=>l,receiveWorkActivitiesError:()=>c,resetWorkActivities:()=>d,setWorkActivitiesLoading:()=>o});var i=r(81978),s=r(82028),n=r(88599);function a(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var o=(0,i.PH)("setWorkActivitiesLoading"),l=(0,i.PH)("receiveWorkActivitiesData"),c=(0,i.PH)("receiveWorkActivitiesError"),d=(0,i.PH)("resetWorkActivities"),u=()=>function(){var e,t=(e=function*(e){e(o());try{var{response:t,success:r,error:i}=yield(0,s.t9)("work-activity/read-brief");r?e(l(t)):(e(c(i.message)),(0,n.x)(i))}catch(i){e(c(i.message)),(0,n.x)(i)}},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(e){a(n,i,s,o,l,"next",e)}function l(e){a(n,i,s,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},93043:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchWorkActivityLevels:()=>d,receiveWorkActivityLevelsData:()=>a,receiveWorkActivityLevelsError:()=>o,resetWorkActivityLevels:()=>c,setWorkActivityLevelsLoading:()=>l});var i=r(81978),s=r(82028);function n(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var a=(0,i.PH)("receiveWorkActivityLevelsData"),o=(0,i.PH)("receiveWorkActivityLevelsError"),l=(0,i.PH)("setWorkActivityLevelsLoading"),c=(0,i.PH)("resetWorkActivityLevels"),d=()=>function(){var e,t=(e=function*(e){e(l());try{var{response:t,success:r,error:i}=yield(0,s.t9)("work-activity/level/read-all-levels");e(r?a(t):o(i.message))}catch(i){e(o(i.message))}},function(){var t=this,r=arguments;return new Promise((function(i,s){var a=e.apply(t,r);function o(e){n(a,i,s,o,l,"next",e)}function l(e){n(a,i,s,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},57495:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(44012),a=r(40767),o=r(43637);var l=r(85893),c=e=>{var{onClick:t,disabled:r,withLabel:i,className:s}=e;return(0,l.jsx)(a.Z,{onClick:t,disabled:r,className:s,children:(0,l.jsxs)("div",{className:"_2PpPZsrvfm6l7bSUfRXA5g==",children:[(0,l.jsx)(o.ZP,{glyph:o.dt}),i&&(0,l.jsx)("div",{className:"eOKFgwK8QYkQzXcigsU2QQ==",children:(0,l.jsx)(n.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})})]})})};c.defaultProps={withLabel:!0,disabled:!1,className:""},c.propTypes={onClick:s().func.isRequired,disabled:s().bool,withLabel:s().bool,className:s().string};const d=c},49862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var i=r(67294),s=r(45697),n=r.n(s),a=r(52387),o=r(94184),l=r.n(o),c=r(74806),d=r(35667),u=r(43637),p=r(43376),h=r(44012);var f=r(85893);class m extends i.PureComponent{constructor(){var e,t,r;super(...arguments),e=this,r=()=>{this.props.disabled||this.props.onChoose({value:this.props.value,text:this.props.text})},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="handleClick"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var{text:e,content:t,contentAfterText:r,itemsClassName:i,disabled:s}=this.props,n=l()(i,{selected:this.props.selected,"q5uiQsXeDd-UfYfohKcW6g==":s,"auto-complete__item":!s});return(0,f.jsxs)("div",{className:n,onClick:this.handleClick,children:[t,e,r]})}}m.defaultProps={disabled:!1,selected:!1,content:null,contentAfterText:null,itemsClassName:""},m.propTypes={value:n().oneOfType([n().string,n().number]).isRequired,text:n().string.isRequired,onChoose:n().func.isRequired,selected:n().bool,disabled:n().bool,itemsClassName:n().string,content:n().oneOfType([n().string,n().node]),contentAfterText:n().oneOfType([n().string,n().node])};const v=m;var y=e=>{var{dataSource:t,dataSourceConfig:r,value:i,height:s=200,width:n=200,filter:a,selectedItems:o,disableSelectedItems:l,onChange:c,isAllSymbolsSearch:d,itemsClassName:u}=e,p=e=>c(e),m={width:n,maxHeight:s,padding:"10px"},y=((e,t)=>e.filter((e=>{var i=e[r.text].toLowerCase();if(d){var s=!0;return[...t.toLowerCase()].forEach((e=>{i.includes(e)||(s=!1)})),s}return i.includes(t.toLowerCase())})))(t,a);return 0===y.length?(0,f.jsx)("div",{style:m,className:"subtext",children:(0,f.jsx)(h.Z,{id:"Common.empty",defaultMessage:[{type:0,value:"Пусто"}]})}):(0,f.jsx)("div",{style:m,className:"scroll",children:y.map((e=>{var t,s=e[r.value],n=e[r.text],a=e.content,c=e.contentAfterText,d=i===s,h=(t=s,!(!l||!o||!o.some((e=>e[r.value]===t))));return(0,f.jsx)(v,{value:s,text:n,content:a,contentAfterText:c,itemsClassName:u,onChoose:p,selected:d,disabled:h},s)}))})};y.defaultProps={selectedItems:[],disableSelectedItems:!1,value:null,isAllSymbolsSearch:!1,itemsClassName:""},y.propTypes={dataSource:n().arrayOf(n().object).isRequired,dataSourceConfig:n().shape({text:n().string,value:n().oneOfType([n().string,n().number])}).isRequired,value:n().oneOfType([n().string,n().number]),selectedItems:n().array,disableSelectedItems:n().bool,onChange:n().func.isRequired,filter:n().string.isRequired,height:n().number.isRequired,width:n().number.isRequired,isAllSymbolsSearch:n().bool,itemsClassName:n().string};const g=y;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x={id:"Common.search",defaultMessage:"Поиск"},S=e=>{var t,{dataSource:r,dataSourceConfig:s,value:n,listHeight:o,disabled:c,classContainer:h,selectedItems:m,disableSelectedItems:v,hintText:y,onChange:S,hasInputTitle:O,intl:{formatMessage:P},onBlur:w,inputType:C,isAllSymbolsSearch:k,itemsClassName:T}=e,[N,R]=(0,i.useState)(!1),[E,D]=(0,i.useState)(""),A=(0,i.useRef)(null),M=(0,i.useRef)(null),I=()=>{c||R(!N)},Z=r.find((e=>n===e[s.value])),q=Z&&Z.content?{width:"100%",paddingLeft:15}:{width:"100%"},F=Z?Z[s.text]:"",L=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"absolute",right:5,transition:"all .5s"},N?{}:{transform:"rotate(-90deg)"}),H=(null===(t=A.current)||void 0===t?void 0:t.offsetWidth)||200;return(0,i.useEffect)((()=>{var e;D(""),w&&(null===(e=M.current)||void 0===e||e.blur())}),[N]),(0,f.jsxs)("div",{className:l()("auto-complete",h),ref:A,children:[(0,f.jsxs)("div",{className:"flex-item_flexible",style:{position:"relative"},children:[(0,f.jsxs)("span",{children:[!N&&(0,f.jsx)("span",{style:{position:"absolute"},children:Z&&Z.content}),(0,f.jsx)("input",{title:O?F:void 0,type:C,name:"auto-complete-search",autoComplete:"off",ref:M,value:N?E:F,onClick:I,onChange:e=>{var{target:t}=e;return D(t.value)},style:q,placeholder:(0,d.xb)(y)?P(x):y,disabled:!N&&c})]}),(0,f.jsx)(p.Z,{onClick:I,disabled:c,children:(0,f.jsx)(u.ZP,{classCustom:l()("auto-complete__icon","QYMpPEUjEKBkr5idGQd-Pg=="),glyph:u.Zx,style:L})})]}),(0,f.jsx)(a.ZP,{open:N,anchorEl:A.current,onClose:I,className:"ZCcfHrS5Se7uaIOwxSBZXg==",anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,f.jsx)(g,{dataSource:r,dataSourceConfig:s,value:n,width:H,height:o,onChange:e=>{S(e.value),R(!1)},filter:E,selectedItems:m,disableSelectedItems:v,isAllSymbolsSearch:k,itemsClassName:T})})]})};S.defaultProps={disableSelectedItems:!1,disabled:!1,hasInputTitle:!1,dataSourceConfig:{value:"id",text:"name"},listHeight:200,dataSource:[],selectedItems:[],value:"",inputType:"text",classContainer:null,hintText:"",onBlur:!1,isAllSymbolsSearch:!1,itemsClassName:""},S.propTypes={dataSource:n().arrayOf(n().object),dataSourceConfig:n().shape({text:n().string,value:n().oneOfType([n().string,n().number])}),value:n().oneOfType([n().string,n().number]),selectedItems:n().array,onChange:n().func.isRequired,hintText:n().string,inputType:n().string,intl:n().object.isRequired,listHeight:n().number,disabled:n().bool,disableSelectedItems:n().bool,hasInputTitle:n().bool,classContainer:n().string,onBlur:n().bool,isAllSymbolsSearch:n().bool,itemsClassName:n().string};const O=(0,c.ZP)(S)},47270:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(49862)},59964:(e,t,r)=>{"use strict";r.d(t,{I:()=>s,a:()=>n});var i=r(64640),s=(e,t,r)=>({width:e,height:t,marginRight:r,marginLeft:"-2px"}),n=(e,t)=>{var r=window.$oswfm&&window.$oswfm.backend||i.ZP.backend;return"".concat(r,"user-avatar/download/").concat(e,"?").concat(t)}},34961:(e,t,r)=>{"use strict";r.d(t,{q:()=>f});var i=r(43637),s=r(85893),n=r(28216),a=r(97779),o=r(17666),l=r(45697),c=r.n(l),d=r(59964),u=(0,s.jsx)(i.ZP,{glyph:i.EU,style:{width:40,height:40,marginLeft:-2},classCustom:"avatar"}),p=e=>{var{userId:t,width:r,height:i,mr:n,hash:a}=e,o=(0,d.a)(t,a),l=(0,d.I)(r,i,n);return t?(0,s.jsx)("div",{className:"user-form__avatar",style:l,children:(0,s.jsx)("img",{src:o,alt:"User",style:l})}):(0,s.jsx)("div",{className:"user-form__avatar",style:l,children:u})};p.defaultProps={width:40,height:40,mr:11,hash:"0000",userId:null},p.propTypes={userId:c().string,width:c().number,height:c().number,mr:c().number,hash:c().string};const h=p,f=(0,a.compose)((0,n.$j)((e=>({hash:(0,o.mu)(e)}))))(h)},57484:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(85893),l="success",c=e=>{var{caption:t,type:r,icon:i,disabled:s,active:n=!1,className:l,onClick:c}=e,d=a()("button","button-".concat(r),l,{disabled:s,active:n}),u=a()({pr:i});return(0,o.jsxs)("div",{className:d,onMouseDown:e=>{e.preventDefault()},onClick:e=>{s||c(e)},children:[(0,o.jsx)("span",{className:u,children:i}),t]})};c.propTypes={caption:s().oneOfType([s().string,s().node]),icon:s().node,type:s().oneOf([l,"transparent","stripped"]),disabled:s().bool,className:s().string,active:s().bool,onClick:s().func.isRequired},c.defaultProps={type:l,active:!1,caption:"",icon:null,disabled:!1,className:""};const d=c},8813:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(67294),s=r(45697),n=r.n(s),a=r(47166),o=r.n(a),l=r(43637);const c={label:"AqcACE+ZeEfQO3tBHu8kSw=="};var d=r(85893),u=e=>{var{value:t,classNameLabel:r}=e;if(!t)return null;var i=o()(c.label,r);return(0,d.jsx)("div",{className:i,children:t})};u.defaultProps={classNameLabel:"",value:null},u.propTypes={value:n().node,classNameLabel:n().string};const p=u;var h=o().bind(c),f=e=>{var{checked:t,disabled:r,onChange:i,name:s,className:n,classNameLabel:a,iconClassName:c,hidden:u,indeterminate:f,checkboxIconClassName:m,label:v,hint:y}=e,g=h("checkbox",n,a,{active:t,indeterminate:f,disabled:r}),b=t?l.l8:l.PD;return u?null:(0,d.jsxs)("div",{className:g,onClick:()=>{r||i(!t,s)},title:y,children:[(0,d.jsx)("div",{className:o()("checkbox__input",c),children:(0,d.jsx)(l.ZP,{classCustom:m,glyph:b})}),(0,d.jsx)(p,{value:v,classNameLabel:a})]})};f.propTypes={onChange:n().func.isRequired,name:n().string,checked:n().bool,indeterminate:n().bool,label:n().oneOfType([n().string,n().object]),className:n().string,classNameLabel:n().string,disabled:n().bool,hidden:n().bool,hint:n().string,checkboxIconClassName:n().string,iconClassName:n().string},f.defaultProps={checked:!1,label:"",className:"",classNameLabel:"",checkboxIconClassName:"",indeterminate:!1,disabled:!1,hidden:!1,name:"",hint:null,iconClassName:""};const m=(0,i.memo)(f)},50335:(e,t,r)=>{"use strict";r.d(t,{XZ:()=>i.Z,Zv:()=>p,ZP:()=>i.Z});var i=r(8813),s=r(67294),n=r(45697),a=r.n(n),o=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=e=>{var{onChange:t,checked:r}=e,[n,a]=(0,s.useState)(r);return(0,s.useEffect)((()=>{a(r)}),[r]),(0,o.jsx)(i.Z,c(c({},e),{},{checked:n,onChange:e=>{a(e),t(e)}}))};u.defaultProps={name:"",label:null,className:""},u.propTypes={onChange:a().func.isRequired,name:a().string,checked:a().bool.isRequired,indeterminate:a().bool.isRequired,label:a().oneOfType([a().string,a().object]),className:a().string,disabled:a().bool.isRequired};const p=u},37297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(67294),s=r(45697),n=r.n(s),a=r(63078),o=r(44012),l=r(74806),c=r(94184),d=r.n(c),u=r(30053),p=r(35667),h=r(50335),f=r(40845),m=r(47945),v=r(85893);function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i.Component{constructor(){super(...arguments),y(this,"checkAll",(e=>{var{dataSource:t,dataSourceConfig:r,onChange:i,disables:s,isShowSecondaryText:n,manuallySelectedIds:a}=this.props,o=t.filter((e=>!s.includes(e.id)));i(e&&n?t.map((e=>{var{id:t,type:r}=e;return{id:t,type:r}})):e?[...a,...o.map((e=>e[r.value]))]:[])})),y(this,"isDisabledCheckbox",(()=>{var{dataSource:e,disables:t}=this.props;return e.length===t.length})),y(this,"allAreChecked",(()=>{var{dataSource:e,dataSourceConfig:t,values:r,disables:i}=this.props,s=e.filter((e=>!i.includes(e.id))).every((e=>r.includes(String(e[t.value])))),n=e.length===i.length;if(s&&!n)return!0})),y(this,"renderRow",(e=>{var t,r,{index:i,key:s,style:n}=e,{dataSource:a,dataSourceConfig:o,values:l,disables:c,onChange:u,labelRenderer:m,isFilterLabel:y,formattedFilterValue:g,checkboxClassName:b,intl:j,checkboxLabelClassName:x,getSecondaryText:S,isShowSecondaryText:O}=this.props,P=a[i];r=String(P[o.text]);var w=O?{id:P.id,type:P.type}:String(P[o.value]);if(y){var{status:C}=P;t=g[C],r=String(t)}var k=m(r,P),T=S(P.type),N=O?(0,v.jsxs)("span",{children:[k,(0,v.jsx)("span",{className:"text-style_caption context-color_secondary ml",children:T})]}):k,R=d()({[f.Z.checkboxLabel]:(0,p.xb)(k)||"null"===k},x),E=j.formatMessage({id:"Common.empty",defaultMessage:[{type:0,value:"Пусто"}]}),D=O?l.map((e=>e.id)).includes(w.id):l.includes(w);return!(1===a.length&&""===a[0].text&&""===a[0].value)&&(0,v.jsx)("div",{style:n,title:k,children:(0,v.jsx)(h.XZ,{checked:D,disabled:c.includes(w),className:b,onChange:e=>{if(O){var t=e?[...l,w]:l.filter((e=>e.id!==w.id));u(t)}else{var r=e?[...l,w]:l.filter((e=>e!==w));u(r)}},classNameLabel:R,label:(0,p.xb)(k)||"null"===k?E:N},i)},s)}))}render(){var{dataSource:e,checkAllLabel:t,listHeight:r}=this.props;return(0,v.jsxs)("div",{className:"checkbox-group",children:[(0,v.jsx)(h.XZ,{onChange:this.checkAll,label:t,checked:this.allAreChecked(),className:"mt",disabled:this.isDisabledCheckbox()}),(0,v.jsx)("hr",{className:"checkbox-group__divider"}),(0,v.jsx)("div",{className:"checkbox-group__list scroll",style:{height:r},children:(0,v.jsx)(a.qj,{children:t=>{var{width:i}=t;return(0,v.jsx)(a.aV,{ref:e=>this.list=e,className:"scroll",height:r,overscanRowCount:10,rowCount:e.length,rowHeight:30,rowRenderer:e=>this.renderRow(e),scrollToIndex:0,width:i})}})})]})}}g.defaultProps={checkAllLabel:(0,v.jsx)(o.Z,{id:"checkboxGroup.checkAll",defaultMessage:[{type:0,value:"Выбрать все"}]}),listHeight:240,values:[],manuallySelectedIds:[],disables:[],isFilterLabel:!1,isShowSecondaryText:!1,labelRenderer:u.wA,getSecondaryText:u.wA,formattedFilterValue:{},checkboxClassName:"",checkboxLabelClassName:""},g.propTypes={dataSource:n().arrayOf(n().object).isRequired,dataSourceConfig:n().oneOfType([n().shape({text:n().string,value:n().string}),n().shape({text:n().string,value:n().string,secondaryValue:n().string})]).isRequired,values:n().array,manuallySelectedIds:n().array,onChange:n().func.isRequired,checkAllLabel:n().oneOfType([n().string,n().node]),listHeight:n().number,checkboxClassName:n().string,checkboxLabelClassName:n().string,labelRenderer:n().func,getSecondaryText:n().func,isFilterLabel:n().bool,isShowSecondaryText:n().bool,formattedFilterValue:n().object,disables:n().array,intl:m.gm.isRequired};const b=(0,l.ZP)(g)},81343:(e,t,r)=>{"use strict";r.d(t,{I:()=>O});var i=r(67294),s=r(45697),n=r.n(s),a=r(52663),o=r(94184),l=r.n(o),c=r(74806),d=r(30053),u=r(35667),p=r(54813),h=r(43637),f=r(85893);function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={padding:0},y={display:"table-cell",textAlign:"center"},g={maxWidth:"375px",width:"375px",display:"inline-block"},b={id:"Confirm.sureOfRemoval",defaultMessage:"Вы уверены в удалении?"},j={id:"Common.confirm",defaultMessage:"Подтвердить"},x={id:"Actions.cancel",defaultMessage:"Отмена"};class S extends i.Component{constructor(e){super(e),m(this,"close",(()=>{var e=this.detachedPopup;e&&p.A.removePopup(e),this.setState({open:!1})})),m(this,"open",(()=>{this.props.disabled||this.setState({open:!0})})),m(this,"handleSubmitBtnClick",(()=>{var{onSubmit:e}=this.props;e(),this.close()})),m(this,"handleCancelBtnClick",(()=>{var{onCancel:e}=this.props;e(),this.close()})),m(this,"getMessage",((e,t)=>{var{intl:r}=this.props;return(0,u.xb)(e)?r.formatMessage(t):e})),this.state={open:!1}}getPopupStyle(){return{display:this.state.open?"block":"none"}}render(){var{message:e,submitButtonMessage:t,cancelButtonMessage:r,fullMessage:i,className:s,popup:n}=this.props;return n?(0,f.jsxs)("div",{className:l()("confirm__container",s),onClick:e=>{e.stopPropagation()},children:[(0,f.jsx)("div",{className:"confirm__trigger",onClick:this.open,children:this.props.children}),(0,f.jsx)(a.Z,{bodyStyle:v,contentStyle:g,style:y,overlayClassName:"popup__overlay",autoDetectWindowHeight:!0,repositionOnUpdate:!0,open:this.state.open,onRequestClose:this.handleCancelBtnClick,children:(0,f.jsx)("div",{className:"confirm__dialog",children:(0,f.jsxs)("div",{className:"pt+ pb ph+++",children:[(0,f.jsx)("p",{className:"confirm__message",children:this.getMessage(e,b)}),(0,f.jsx)("p",{className:"confirm__full-message",children:i}),(0,f.jsx)("span",{className:"confirm__buttons-wrap",children:(0,f.jsxs)("div",{className:"flex-container",children:[(0,f.jsxs)("div",{className:"confirm__buttons-wrap-first-button",children:[(0,f.jsx)(h.ZP,{glyph:h.Jr}),(0,f.jsx)("button",{className:"button button--confirm-buttons",onClick:this.handleSubmitBtnClick,children:this.getMessage(t,j)})]}),(0,f.jsxs)("div",{className:"confirm__buttons-wrap-second-button",children:[(0,f.jsx)(h.ZP,{glyph:h.dV}),(0,f.jsx)("button",{className:"button button--confirm-buttons",onClick:this.handleCancelBtnClick,children:this.getMessage(r,x)})]})]})})]})})})]}):(0,f.jsxs)("div",{className:l()("confirm__outer",s),onClick:e=>{e.stopPropagation()},children:[(0,f.jsx)("div",{className:"confirm__trigger",onClick:this.open,children:this.props.children}),(0,f.jsx)("div",{className:"confirm__wrap",children:(0,f.jsxs)("div",{className:"confirm__popup",style:this.getPopupStyle(),children:[(0,f.jsx)("p",{className:"confirm__message",children:this.getMessage(e,b)}),(0,f.jsxs)("div",{className:"confirm__buttons-wrap",children:[(0,f.jsx)("button",{className:"button button--green",onClick:this.handleSubmitBtnClick,children:this.getMessage(t,j)}),(0,f.jsx)("button",{className:"button button--red button--noborder",onClick:this.handleCancelBtnClick,children:this.getMessage(r,x)})]})]})})]})}}const O=(0,c.ZP)(S);var P=n().oneOfType([n().string,n().node]);S.defaultProps={onCancel:d.wA,onSubmit:d.wA,fullMessage:"",className:"",disabled:!1,popup:!1,submitButtonMessage:null,cancelButtonMessage:null,message:null},S.propTypes={onSubmit:n().func,onCancel:n().func,intl:n().object.isRequired,message:P,submitButtonMessage:P,cancelButtonMessage:P,className:n().string,fullMessage:P,popup:n().bool,children:n().node.isRequired,disabled:n().bool}},92469:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(94184),s=r.n(i),n=r(45697),a=r.n(n),o=r(96501),l=r(47270),c=r(41067),d=r(85893),u=(0,c.rB)(),p={value:"year",text:"year"},h=e=>{var{value:t,onChange:r,autoCompleteClassName:i,hintText:n,title:a}=e;return(0,d.jsx)("div",{className:s()(i,o.Z.root),children:(0,d.jsx)(l.Z,{dataSource:u,dataSourceConfig:p,value:t,onChange:r,hintText:n,hasInputTitle:a})})};h.defaultProps={value:"",autoCompleteClassName:"",hintText:"",title:""},h.propTypes={value:a().oneOfType([a().string,a().number]),title:a().string,hintText:a().string,autoCompleteClassName:a().string,onChange:a().func.isRequired};const f=h},41067:(e,t,r)=>{"use strict";r.d(t,{V4:()=>o,rB:()=>l,wH:()=>a});var i=r(30381),s=r.n(i),n=r(35667);function a(e){return(0,n.xb)(e)||s().locale(e),s().months().map(((e,t)=>({name:e,number:t+1})))}function o(){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2070,t=[],r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1920;r<=e;r++)t.push({year:String(r)});return t}function l(){return[{year:"".concat(s()().year()-1)},{year:"".concat(s()().year())},{year:"".concat(s()().year()+1)}]}},51622:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(45697),s=r.n(i),n=r(30053),a=r(56685),o=r(81343),l=r(40767),c=r(43637),d=r(85893),u=e=>{var{deleteCb:t,currentId:r,hidden:i,rootStyle:s,disabled:u,withoutConfirm:p,className:h}=e,f=()=>t(r);return i?null:(0,d.jsx)(a.Z,{divStyle:s,children:(0,d.jsx)(o.I,{popup:!0,disabled:u||p,onSubmit:f,children:(0,d.jsx)(l.Z,{onClick:p?f:n.wA,className:h,disabled:u,children:(0,d.jsx)(c.ZP,{glyph:c.XH})})})})};u.defaultProps={hidden:!1,disabled:!1,withoutConfirm:!1,currentId:"",className:"",rootStyle:{},deleteCb:null},u.propTypes={hidden:s().bool,disabled:s().bool,deleteCb:s().func,withoutConfirm:s().bool,currentId:s().string,className:s().string,rootStyle:s().object};const p=u},54813:(e,t,r)=>{"use strict";r.d(t,{A:()=>f,y:()=>g});var i=r(67294),s=r(45697),n=r.n(s);class a extends i.Component{constructor(e){super(e),e.popup.renderer=this}render(){return this.props.popup.component()}}a.propTypes={popup:n().object.isRequired};const o=a;function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c{constructor(e){l(this,"wrapperClassNames",void 0),l(this,"component",void 0),l(this,"wrapperStyles",void 0),this.component=e.component,this.wrapperClassNames=e.wrapperClassNames,this.wrapperStyles=e.wrapperStyles}}var d,u,p,h=r(85893);class f extends i.Component{static contextMenu(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.getBoundingClientRect();return i.top=s.top,i.left=s.left,i.width="auto",i.position="fixed",i.zIndex=1e3,f.popup({component:t,wrapperClassNames:r,wrapperStyles:i})}static popup(e){var{component:t,wrapperStyles:r,wrapperClassNames:i}=e,s=new c({component:t,wrapperStyles:r,wrapperClassNames:i});return f.singletonInstance.props.addDetachedPopup(s),s}static removePopup(e){f.singletonInstance.props.removeDetachedPopup(e)}constructor(e){super(e),f.singletonInstance=f.singletonInstance||this}render(){var{detachedPopups:e=[]}=this.props;return(0,h.jsx)("div",{className:"detached-popups",children:(0,h.jsx)("div",{className:"detached-popups__popups-container",children:e.map(((e,t)=>(0,h.jsx)("div",{className:"detached-popups__popup-wrapper "+(e.wrapperClassNames||""),style:e.wrapperStyles,children:(0,h.jsx)(o,{popup:e})},e.id||t)))})})}}d=f,p=void 0,(u=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(u="singletonInstance"))in d?Object.defineProperty(d,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[u]=p,f.defaultProps={detachedPopups:[]},f.propTypes={detachedPopups:n().array};var m=r(28216),v=r(97779),y=r(80303);const g=(0,v.compose)((0,m.$j)(null,{addDetachedPopup:y.addDetachedPopup,removeDetachedPopup:y.removeDetachedPopup}))(f)},67352:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(67294),s=r(45697),n=r.n(s),a=r(74806),o=r(47945),l=r(43637),c=r(40767),d=r(85893);class u extends i.Component{render(){var{intl:e,onBack:t}=this.props;return(0,d.jsx)(c.Z,{onClick:t,hint:e.formatMessage({id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]}),children:(0,d.jsx)(l.ZP,{glyph:l.Y4,className:"svg-icon",style:{width:"21px",height:"18px",size:"21px"}})})}}u.propTypes={onBack:n().func.isRequired,intl:o.gm.isRequired};const p=(0,a.ZP)(u)},45165:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(45697),s=r.n(i),n=r(12112),a=r(94184),o=r.n(a),l=r(30053),c=r(20995),d=r(1901),u=r(85893),p=e=>{var{children:t,open:r,width:i,title:s}=e;return(0,u.jsx)("div",{style:{width:r?i:0},className:c.Z.aside,children:(0,u.jsxs)("div",{style:{width:i,opacity:r?1:0},className:c.Z.asideWrap,children:[(0,u.jsx)(d.Z,{onBack:l.wA,title:s,withoutArrowBack:!0,titleClassName:c.Z.asideTitle}),r&&t]})})};p.defaultProps={children:null,title:null},p.propTypes={children:s().node,open:s().bool.isRequired,width:s().number.isRequired,title:s().node};const h=p;var f=["children","title","open","handleBackArrow","header","headerCustom","styleBody","withoutArrowBack","titleClassName","subtitle","asideContent","asideOpen","asideWidth","width","asideTitle","customBackdropClick","hasCustomBackdropClick","headerContent","subtitleContentClassName","headerWithSubtitleClassName","arrowBackClassName"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=e=>{var{children:t,title:r,open:i,handleBackArrow:s,header:a,headerCustom:l,styleBody:p,withoutArrowBack:m,titleClassName:y,subtitle:g,asideContent:b,asideOpen:j,asideWidth:x,width:S,asideTitle:O,customBackdropClick:P,hasCustomBackdropClick:w,headerContent:C,subtitleContentClassName:k,headerWithSubtitleClassName:T,arrowBackClassName:N}=e,R=v({open:i,disableEnforceFocus:!0,ModalProps:{onBackdropClick:w?P:s,onEscapeKeyDown:w?P:s}},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,f)),E=o()("drawer__body",{[c.Z.bodyContainer]:g});return(0,u.jsx)(n.ZP,v(v({},R),{},{children:(0,u.jsxs)("div",{className:c.Z.contentWrap,children:[(0,u.jsxs)("div",{style:{width:S},className:c.Z.main,children:[l||(0,u.jsx)(d.Z,{headerContent:C,onBack:s,subtitle:g,subtitleContentClassName:k,headerWithSubtitleClassName:T,arrowBackClassName:N,withoutArrowBack:m,header:a,title:r,titleClassName:y}),(0,u.jsx)("div",{className:E,style:p,children:i&&t})]}),(0,u.jsx)(h,{open:j,width:x,title:O,children:b})]})}))};g.defaultProps={styleBody:{},titleClassName:"",open:!1,withoutArrowBack:!1,subtitle:null,headerCustom:null,header:null,children:null,asideContent:null,asideOpen:!1,asideWidth:500,width:600,asideTitle:null,customBackdropClick:l.wA,headerContent:null,hasCustomBackdropClick:!1,subtitleContentClassName:"",headerWithSubtitleClassName:"",arrowBackClassName:""},g.propTypes={children:s().node,title:s().node.isRequired,subtitle:s().oneOfType([s().node]),titleClassName:s().oneOfType([s().object,s().string]),handleBackArrow:s().func.isRequired,open:s().bool,withoutArrowBack:s().bool,header:s().node,headerCustom:s().node,styleBody:s().object,asideContent:s().node,asideOpen:s().bool,asideWidth:s().number,width:s().number,asideTitle:s().node,customBackdropClick:s().func,headerContent:s().oneOfType([s().string,s().node]),hasCustomBackdropClick:s().bool,subtitleContentClassName:s().string,headerWithSubtitleClassName:s().string,arrowBackClassName:s().string};const b=g},1901:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(35667),l=r(67352),c=r(20995),d=r(85893),u=e=>{var{subtitle:t,onBack:r,withoutArrowBack:i,header:s,title:n,titleClassName:u,headerContent:p,subtitleContentClassName:h,headerWithSubtitleClassName:f,arrowBackClassName:m}=e,v=a()({[f]:t&&!(0,o.xb)(f),[c.Z.subtitleContainer]:t&&(0,o.xb)(f)});return(0,d.jsxs)("div",{className:v,children:[(0,d.jsxs)("div",{className:"header-drawer",children:[!i&&(0,d.jsx)("span",{className:a()("header-drawer__back",m),children:(0,d.jsx)(l.Z,{onBack:r})}),s||(0,d.jsx)("span",{className:u,children:(0,d.jsx)("h1",{children:n})}),p]}),(0,d.jsx)("div",{className:c.Z.divider}),t&&(0,d.jsx)("div",{className:a()({[c.Z.subtitle]:(0,o.xb)(h),[h]:!(0,o.xb)(h)}),children:t})]})};u.propTypes={subtitle:s().node,onBack:s().func.isRequired,withoutArrowBack:s().bool,header:s().node,title:s().node,titleClassName:s().string,headerWithSubtitleClassName:s().string,subtitleContentClassName:s().string,arrowBackClassName:s().string,headerContent:s().oneOfType([s().string,s().node])},u.defaultProps={subtitle:null,withoutArrowBack:!1,header:null,title:null,titleClassName:"",arrowBackClassName:"",headerWithSubtitleClassName:"",subtitleContentClassName:"",headerContent:null};const p=u},60258:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i.Z,dy:()=>i.Z});var i=r(45165);r(1901)},61498:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(30053),l=r(93188),c=r(40767),d=r(43637);var u=r(85893),p=["open","onClick","hideArrow"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=e=>{var{open:t,onClick:r,hideArrow:i}=e,s=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,p),n=a()("QOn6VAxufQ6WbBPs0m3sWQ==",{"_0nSHlA1QcIL+NLjN421zBQ==":t});return(0,u.jsx)(c.Z,f(f({hidden:i,active:t},s),{},{onClick:r,children:(0,u.jsx)(d.ZP,{glyph:l.Z.id,className:n})}))};v.defaultProps={hideArrow:!1},v.propTypes=f(f({},(0,o.CE)(c.s,["children"])),{},{open:s().bool.isRequired,hideArrow:s().bool});const y=v},47968:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(61498)},43376:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(94184),s=r.n(i);var n=r(29594),a=r(85893),o=e=>{var{children:t,style:r,className:i,disabled:n,active:o,hint:l,hidden:c,onClick:d,ref:u,id:p}=e,h=s()("flat-btn","Hse7ORD7bEjxLE2b0QfhbQ==",{disabled:n,active:o},i);return c?null:(0,a.jsx)("span",{id:p,ref:u,className:h,style:r,onClick:e=>{n||"function"==typeof d&&d(e)},title:l,role:"button","aria-pressed":"false",tabIndex:0,children:t})};o.defaultProps={disabled:!1,hidden:!1,style:{},className:"",active:!1,hint:"",onClick:null},o.propTypes=n.Z;const l=o},40767:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n,s:()=>s.Z});var i=r(43376),s=r(29594);const n=i.Z},29594:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(45697),s=r.n(i);const n={active:s().bool,disabled:s().bool,hidden:s().bool,style:s().object,className:s().string,children:s().node.isRequired,onClick:s().func,hint:s().string}},57591:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(67294),s=r(45697),n=r.n(s),a=r(94184),o=r.n(a),l=r(85893);class c extends i.PureComponent{render(){var{className:e}=this.props,t=o()(e,"form-table");return(0,l.jsx)("table",{className:t,children:(0,l.jsx)("tbody",{children:this.props.children})})}}c.defaultProps={className:""},c.propTypes={children:n().node.isRequired,className:n().string};const d=c},57581:(e,t,r)=>{"use strict";r.d(t,{X:()=>i.Z,Z:()=>s.Z});var i=r(30086),s=r(57591)},82251:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(47166),a=r.n(n),o=r(85893),l=a().bind({label:"LK852KrLwOrXk1sS7WeQGA==",required:"r72eBh4IF2KVqOMv9g00YQ=="}),c=e=>{var{label:t,children:r,required:i,labelClassName:s,rowClassName:n,childrenClassName:a,hidden:c}=e,d=l("label",s,{required:i}),u=l("form-table-row",n);return c?null:(0,o.jsxs)("tr",{className:u,children:[(0,o.jsx)("td",{className:d,children:t}),(0,o.jsx)("td",{className:a,children:r})]})};c.defaultProps={required:!1,hidden:!1,label:null,children:null,childrenClassName:"",labelClassName:"",rowClassName:""},c.propTypes={label:s().node,required:s().bool,childrenClassName:s().string,labelClassName:s().string,rowClassName:s().string,hidden:s().bool,children:s().node};const d=c},30086:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(82251)},3640:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var i=r(67294),s=r(45697),n=r.n(s),a=r(65227),o=r(44012),l=r(40767),c=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={paddingRight:2,fontSize:10};class f extends i.PureComponent{render(){return(0,c.jsxs)(l.Z,u(u({},this.props),{},{children:[(0,c.jsx)("span",{style:h,children:"+"}),(0,c.jsx)(o.Z,{id:"Common.hours",defaultMessage:[{type:0,value:"часы"}]})]}))}}const m=f;var v=r(43637);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={width:5,height:5};class x extends i.PureComponent{render(){return(0,c.jsx)(l.Z,g(g({className:"close-button"},this.props),{},{children:(0,c.jsx)(v.ZP,{glyph:v.Tw,style:j})}))}}const S=x;var O=r(3107),P=e=>{var{onToggleHiddenResponse:t,hidden:r,onChange:s,value:n,isBlockCorrectTimeBlur:o}=e,l=(0,a._A)(n),[d,u]=(0,i.useState)(l),p=()=>t();return r?(0,c.jsx)("div",{className:"hiddable-time-picker",children:(0,c.jsx)(m,{onClick:p})}):(0,c.jsxs)("div",{className:"hiddable-time-picker",children:[(0,c.jsx)(S,{onClick:p}),(0,c.jsx)(O.Z,{onChange:e=>{if(u(e),5===e.length)return s(e)},value:d,step:5,isBlockCorrectTimeBlur:o})]})};P.defaultProps={hidden:!0,isBlockCorrectTimeBlur:!1},P.propTypes={value:n().string.isRequired,hidden:n().bool,onChange:n().func.isRequired,onToggleHiddenResponse:n().func.isRequired,isBlockCorrectTimeBlur:n().bool};const w=P},41641:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var i=r(45697),s=r.n(i),n=r(97779),a=r(28216),o=r(41818),l=r(47166),c=r.n(l),d=r(35667),u=r(65227),p=r(47945),h=r(25980),f=r(85893),m=c().bind(h.Z),v=e=>{var{startDate:t,endDate:r,name:i,meta:s,lastAddedItemId:n,id:a}=e,o=(0,u.Vb)(t),l=(0,u.Vb)(r),c=m({historyItem:!0,remove:s.willBeRemoved,newItem:(0,d.xb)(s)&&n===a});return(0,f.jsx)("td",{className:c,children:"".concat(o," — ").concat(l," | ").concat(i)})};v.defaultProps={meta:{}},v.propTypes={id:p.K5.isRequired,startDate:s().string.isRequired,endDate:s().string.isRequired,name:s().string.isRequired,meta:s().object,lastAddedItemId:p.K5.isRequired};const y=v,g=(0,n.compose)((0,a.$j)((e=>({lastAddedItemId:(0,o.gu)(e)}))))(y);var b=e=>{var{history:t,mainFieldKey:r}=e;return(0,f.jsx)("table",{className:h.Z.tableStyle,children:(0,f.jsx)("tbody",{className:h.Z.historyTable,children:t.map((e=>(0,f.jsx)("tr",{children:(0,f.jsx)(g,{id:e.id,startDate:e.startDate,endDate:e.endDate,name:e[r],meta:e.meta})},e.id)))})})};b.defaultProps={mainFieldKey:"name"},b.propTypes={history:s().array.isRequired,mainFieldKey:s().string};const j=b},43637:(e,t,r)=>{"use strict";r.d(t,{Ir:()=>ji,nz:()=>Zi,dt:()=>oi,jh:()=>qi,JH:()=>ni,UX:()=>Vi,Qh:()=>Wr,bJ:()=>ii,Eh:()=>Ii,Y4:()=>Yr,LZ:()=>Qr,Kg:()=>Ps,pK:()=>bs,i4:()=>Gr,HF:()=>Br,RI:()=>Ni,fJ:()=>Ai,Jr:()=>vi,l8:()=>ui,PD:()=>di,Tw:()=>Vr,sv:()=>zi,qt:()=>Yi,OC:()=>yi,TI:()=>Ur,Yk:()=>ws,pB:()=>ks,Mo:()=>us,KW:()=>ts,Qy:()=>ri,TX:()=>Pi,yR:()=>zr,xX:()=>Xi,Zx:()=>ti,UW:()=>mi,I8:()=>_i,Wy:()=>Bi,v2:()=>Ri,_B:()=>fs,tF:()=>vs,gG:()=>ms,bA:()=>ps,Wi:()=>hs,LR:()=>is,wn:()=>rs,bb:()=>Mi,mN:()=>gi,x1:()=>Hi,Ye:()=>Li,yG:()=>cs,RD:()=>ds,KP:()=>Di,EU:()=>Ei,aX:()=>wi,G:()=>ki,Uf:()=>Ci,P_:()=>es,OX:()=>$i,rX:()=>Ji,NO:()=>gs,Tu:()=>Cs,vd:()=>ai,yl:()=>xs,vi:()=>js,Kh:()=>Qi,An:()=>Oi,Zc:()=>Ts,EJ:()=>fi,Wu:()=>li,d7:()=>ci,Du:()=>Ui,CW:()=>Gi,BN:()=>Wi,N:()=>pi,Zr:()=>ss,zG:()=>ns,bn:()=>Ss,mB:()=>Ki,UH:()=>hi,Lx:()=>Xr,fz:()=>Kr,Mx:()=>Jr,Ux:()=>Os,ZH:()=>Ti,dV:()=>bi,Sg:()=>ei,qp:()=>Fi,YL:()=>Si,tY:()=>xi,XH:()=>$r,gq:()=>ys,tB:()=>si,hr:()=>as,y3:()=>os,$M:()=>ls,ZP:()=>Rs});var i=r(45697),s=r.n(i),n=r(87854),a=r.n(n),o=r(95348),l=r.n(o),c=new(a())({id:"DellFilter",use:"DellFilter-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="DellFilter">\n<g>\n\t<path d="M9.7,3l2.1-2.1c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0L9,2.3L6.9,0.1C6.7,0,6.3,0,6.1,0.1S6,0.7,6.1,0.9L8.3,3L6.1,5.1\n\t\tC6,5.3,6,5.7,6.1,5.9C6.2,6,6.4,6,6.5,6s0.3,0,0.4-0.1L9,3.7l2.1,2.1C11.2,6,11.4,6,11.5,6s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7\n\t\tL9.7,3z" />\n\t<path d="M4.4,6.9L4.1,7.1C4.1,7.2,4,7.4,4,7.5c0-0.1-0.1-0.3-0.1-0.4L1.7,5h2.5c0.3,0,0.5-0.2,0.5-0.5S4.5,4,4.2,4H0.5\n\t\tC0.3,4,0.1,4.1,0,4.3C0,4.5,0,4.7,0.1,4.9L3,7.7v3.8c0,0.2,0.2,0.4,0.4,0.5c0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.4-0.3l1-2\n\t\tC5,9.7,5,9.6,5,9.5V7.7l0.1-0.1c0.2-0.2,0.2-0.5,0-0.7S4.6,6.7,4.4,6.9z" />\n</g>\n</symbol>'});l().add(c);const d=c;var u=new(a())({id:"CalendarSchedule",use:"CalendarSchedule-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="CalendarSchedule">\r\n<g>\r\n\t<path d="M9,2V0.5C9,0.2,8.8,0,8.5,0S8,0.2,8,0.5V2H3V0.5C3,0.2,2.8,0,2.5,0S2,0.2,2,0.5V2H0v10h11V2H9z M10,11H1V3h1v0.5\r\n\t\tC2,3.8,2.2,4,2.5,4S3,3.8,3,3.5V3h5v0.5C8,3.8,8.2,4,8.5,4S9,3.8,9,3.5V3h1V11z" />\r\n\t<rect x="2" y="5" width="1" height="1" />\r\n\t<rect x="4" y="5" width="1" height="1" />\r\n\t<rect x="6" y="5" width="1" height="1" />\r\n\t<rect x="8" y="5" width="1" height="1" />\r\n\t<rect x="2" y="7" width="1" height="1" />\r\n\t<rect x="2" y="9" width="1" height="1" />\r\n\t<rect x="4" y="9" width="1" height="1" />\r\n\t<rect x="6" y="9" width="1" height="1" />\r\n\t<rect x="8" y="9" width="1" height="1" />\r\n\t<rect x="4" y="7" width="1" height="1" />\r\n\t<rect x="6" y="7" width="1" height="1" />\r\n\t<rect x="8" y="7" width="1" height="1" />\r\n</g>\r\n</symbol>'});l().add(u);const p=u;var h=new(a())({id:"Face",use:"Face-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Face">\n<g>\n\t<path d="M6,9c0-0.6-0.4-1-1-1S4,8.4,4,9c0,0.6,0.4,1,1,1S6,9.6,6,9z M5,9C5,9,5,9,5,9h0.5H5z" />\n\t<path d="M11,8c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1s1-0.4,1-1C12,8.4,11.6,8,11,8z M11,9C11,9,11,9,11,9h0.5H11z" />\n\t<path d="M10.7,12.1c-0.2-0.1-0.5,0-0.7,0.2c0,0-0.5,0.7-2.1,0.7c-1.6,0-2-0.7-2.1-0.7c-0.1-0.2-0.4-0.3-0.7-0.2\n\t\tc-0.2,0.1-0.3,0.4-0.2,0.7C5.1,12.9,5.8,14,8,14c2.2,0,2.9-1.1,2.9-1.3C11.1,12.5,11,12.2,10.7,12.1z" />\n\t<path d="M10.5,3C10.2,3,10,3.2,10,3.5C10,4.3,9.2,5,8.5,5C4.9,5,4.1,4.5,4,4.4C3.9,4.1,3.7,4,3.5,4C3.2,4,3,4.2,3,4.5\n\t\tC3,5.2,4,6,8.5,6C9.7,6,11,4.9,11,3.5C11,3.2,10.8,3,10.5,3z" />\n\t<path d="M14.5,7C14.2,7,14,7.2,14,7.5v-4C14,2.7,13.4,2,12.5,2c-1.6-0.1-1.9-0.4-2.3-0.8C9.6,0.4,8.9-0.1,6.5-0.1\n\t\tc-2,0-3.6,0.5-4.5,1.6c-1.2,1.3-1,3-1,3C1.1,4.8,1.3,5,1.6,5C1.8,5,1.9,4.8,2,4.7l0,2.8C2,7.2,1.8,7,1.5,7C1.2,7,1,7.2,1,7.5v3\n\t\tC1,10.8,1.2,11,1.5,11C1.8,11,2,10.8,2,10.5c0,3,2.5,5.5,5.5,5.5h1c3,0,5.5-2.5,5.5-5.5c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-3\n\t\tC15,7.2,14.8,7,14.5,7z M13,3.5v2.4c-0.6-0.2-1-0.8-1-1.4V2.9c0.2,0,0.3,0,0.5,0C12.8,3,13,3.2,13,3.5z M8.5,15h-1\n\t\tC5,15,3,13,3,10.5l0-6C3,4.2,2.8,4,2.5,4h0C2.3,4,2.1,4.2,2,4.4C2,4.1,2,3,2.8,2.2c0.7-0.8,2-1.3,3.7-1.3c2.2,0,2.6,0.4,3,0.9\n\t\tc0.3,0.3,0.7,0.7,1.5,0.9v0.7v1c0,1.2,0.9,2.2,2,2.4v3.6C13,13,11,15,8.5,15z" />\n</g>\n</symbol>'});l().add(h);const f=h;var m=new(a())({id:"Filter",use:"Filter-usage",viewBox:"0 0 8 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 8 8" id="Filter">\n<path d="M7.9,0.7C7.8,0.3,7.4,0,7,0H1C0.6,0,0.2,0.3,0.1,0.7s0,0.9,0.3,1.1l2.6,2v3.8h1v-2h1V3.8l2.6-1.9C8,1.5,8.1,1.1,7.9,0.7z\n\t M4,3.3L1,1h6L4,3.3z" />\n</symbol>'});l().add(m);const v=m;var y=new(a())({id:"Aply",use:"Aply-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Aply">\n<style type="text/css">\n\t#Aply .st0{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style>\n<path class="st0" d="M1.5,83v12c0,0.3,0.2,0.5,0.5,0.5h8c0.3,0,0.5-0.2,0.5-0.5v-8.5l-4.1-4H2C1.7,82.5,1.5,82.7,1.5,83z" />\n<path class="st0" d="M6.5,82.5V86c0,0.3,0.2,0.5,0.5,0.5h3.5" />\n<path class="st0" d="M12.5,93.5H14c0.3,0,0.5-0.2,0.5-0.5v-8.5l-4.1-4H7" />\n<path class="st0" d="M10.5,80.5V84c0,0.3,0.2,0.5,0.5,0.5h2.5" />\n<path class="st0" d="M10.5,73.5H2c-0.3,0-0.5-0.2-0.5-0.5V62c0-0.3,0.2-0.5,0.5-0.5h4.1c0.3,0,0.5,0.1,0.7,0.3l1.4,1.4\n\tc0.2,0.2,0.4,0.3,0.7,0.3H14c0.3,0,0.5,0.2,0.5,0.5v3.5" />\n<line class="st0" x1="14.5" y1="65.5" x2="1.5" y2="65.5" />\n<path class="st0" d="M14.5,74.5v-1c0-2.2-1.8-4-4-4h-5" />\n<polyline class="st0" points="7.5,67.5 5.5,69.5 7.5,71.5 " />\n<polyline class="st0" points="1.5,44.5 2.5,43.5 13.5,43.5 14.5,44.5 " />\n<path class="st0" d="M3.5,43.5v10c0,0.6,0.4,1,1,1h7c0.6,0,1-0.4,1-1v-10" />\n<path class="st0" d="M5.5,43.5v-1c0-0.6,0.4-1,1-1h3c0.6,0,1,0.4,1,1v1" />\n<line class="st0" x1="6.5" y1="47.5" x2="6.5" y2="52.5" />\n<line class="st0" x1="9.5" y1="52.5" x2="9.5" y2="47.5" />\n<line class="st0" x1="3.5" y1="45.5" x2="12.5" y2="45.5" />\n<path class="st0" d="M1.5,22v12c0,0.3,0.2,0.5,0.5,0.5h12c0.3,0,0.5-0.2,0.5-0.5v-9c0-0.3-0.1-0.5-0.3-0.7l-2.4-2.5\n\tc-0.2-0.2-0.4-0.3-0.7-0.3H2C1.7,21.5,1.5,21.7,1.5,22z" />\n<path class="st0" d="M3.5,21.5V27c0,0.3,0.2,0.5,0.5,0.5h5c0.3,0,0.5-0.2,0.5-0.5v-5.5" />\n<polyline class="st0" points="7.5,21.5 7.5,25.5 6.5,25.5 6.5,21.5 " />\n<g>\n\t<circle cx="12" cy="32" r="1" />\n</g>\n<line class="st0" x1="3.5" y1="30.5" x2="9.5" y2="30.5" />\n<line class="st0" x1="3.5" y1="32.5" x2="7.5" y2="32.5" />\n<g>\n\t<path d="M8.7,15.7l3-3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0L9,12.6V8c0-0.6-0.4-1-1-1S7,7.4,7,8v4.6l-1.3-1.3c-0.4-0.4-1-0.4-1.4,0\n\t\ts-0.4,1,0,1.4l3,3c0.1,0.1,0.2,0.2,0.3,0.2C7.7,16,7.9,16,8,16s0.3,0,0.4-0.1C8.5,15.9,8.6,15.8,8.7,15.7z" />\n\t<path d="M14,4.5c0-0.2-0.1-0.3-0.2-0.4L9.9,0.2C9.8,0.1,9.7,0,9.5,0c0,0,0,0,0,0c0,0,0,0,0,0H3C2.4,0,2,0.4,2,1v14c0,0.6,0.4,1,1,1\n\t\th1.5C4.8,16,5,15.8,5,15.5S4.8,15,4.5,15H3V1h6v3c0,0.6,0.4,1,1,1h3v10h-1.5c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5H13\n\t\tc0.6,0,1-0.4,1-1V4.5C14,4.5,14,4.5,14,4.5C14,4.5,14,4.5,14,4.5z M10,1.7L12.3,4H10V1.7z" />\n</g>\n</symbol>'});l().add(y);const g=y;var b=r(32041),j=new(a())({id:"Add_Schedule",use:"Add_Schedule-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Add_Schedule">\n<g>\n\t<path d="M8,0C3.6,0,0,3.6,0,8c0,4.4,3.6,8,8,8s8-3.6,8-8C16,3.6,12.4,0,8,0z M8,15c-3.9,0-7-3.1-7-7c0-3.9,3.1-7,7-7s7,3.1,7,7\n\t\tC15,11.9,11.9,15,8,15z" />\n\t<path d="M9.3,8.6C9.4,8.4,9.5,8.2,9.5,8c0-0.4-0.1-0.7-0.4-1l1.8-3.3c0.1-0.2,0-0.5-0.2-0.7s-0.5,0-0.7,0.2L8.2,6.5\n\t\tc-0.1,0-0.2,0-0.2,0C7.2,6.5,6.5,7.2,6.5,8S7.2,9.5,8,9.5c0.2,0,0.4-0.1,0.6-0.2l1.5,1.5c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1\n\t\tc0.2-0.2,0.2-0.5,0-0.7L9.3,8.6z M7.6,7.8C7.6,7.8,7.6,7.8,7.6,7.8C7.5,7.8,7.5,7.8,7.6,7.8C7.5,7.8,7.6,7.8,7.6,7.8z M7.5,8.2\n\t\tC7.5,8.2,7.6,8.2,7.5,8.2C7.6,8.2,7.6,8.2,7.5,8.2C7.6,8.2,7.5,8.2,7.5,8.2z M7.6,8.3C7.6,8.3,7.6,8.3,7.6,8.3\n\t\tC7.6,8.3,7.6,8.3,7.6,8.3C7.6,8.3,7.6,8.3,7.6,8.3z" />\n\t<path d="M8,12c-2.2,0-4-1.8-4-4c0-2.1,1.6-3.8,3.7-4c0.3,0,0.5-0.3,0.5-0.5C8.1,3.2,7.9,3,7.6,3C5,3.3,3,5.4,3,8c0,2.8,2.2,5,5,5\n\t\tc0.3,0,0.5-0.2,0.5-0.5S8.3,12,8,12z" />\n</g>\n</symbol>'});l().add(j);const x=j;var S=new(a())({id:"Pencil",use:"Pencil-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Pencil">\n<path d="M14.4,2.7l-1.2-1.2c-1-1-2.6-1-3.5,0L2.1,9.1C2.1,9.2,2,9.3,2,9.4l-0.5,2.5L1,14.4c0,0.2,0,0.3,0.1,0.5\n\tC1.2,14.9,1.4,15,1.5,15c0,0,0.1,0,0.1,0l2.5-0.5L6.6,14c0.1,0,0.2-0.1,0.3-0.1l7.6-7.6c0.5-0.5,0.7-1.1,0.7-1.8S14.9,3.2,14.4,2.7z\n\t M7,12.3L5.7,11l4.1-4.1c0.2-0.2,0.2-0.5,0-0.7S9.3,6,9.1,6.1L5,10.3L3.7,9L9,3.7L12.3,7L7,12.3z M2.3,13L3,13.7l-0.8,0.2L2.3,13z\n\t M4.2,13.5l-1.6-1.6L3,9.7l0,0L6.3,13l0,0L4.2,13.5z M13.7,5.6L13,6.3L9.7,3l0.7-0.7c0.6-0.6,1.5-0.6,2.1,0l1.2,1.2\n\tc0.3,0.3,0.4,0.7,0.4,1.1S14,5.3,13.7,5.6z" />\n</symbol>'});l().add(S);const O=S;var P=new(a())({id:"Add_Min",use:"Add_Min-usage",viewBox:"0 0 11 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 11 11" id="Add_Min">\n<g>\n\t<path d="M5.5,0C2.5,0,0,2.5,0,5.5c0,3,2.5,5.5,5.5,5.5S11,8.5,11,5.5C11,2.5,8.5,0,5.5,0z M5.5,10C3,10,1,8,1,5.5S3,1,5.5,1\n\t\tS10,3,10,5.5S8,10,5.5,10z" />\n\t<polygon points="6,3.5 5,3.5 5,5 3.5,5 3.5,6 5,6 5,7.5 6,7.5 6,6 7.5,6 7.5,5 6,5 \t" />\n</g>\n</symbol>'});l().add(P);const w=P;var C=new(a())({id:"RadioButton",use:"RadioButton-usage",viewBox:"0 0 10 10",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 10 10" id="RadioButton">\n<path d="M5,0C2.2,0,0,2.2,0,5s2.2,5,5,5s5-2.2,5-5S7.8,0,5,0z M5,9C2.8,9,1,7.2,1,5c0-2.2,1.8-4,4-4s4,1.8,4,4C9,7.2,7.2,9,5,9z" />\n</symbol>'});l().add(C);const k=C;var T=new(a())({id:"RadioButton_Active",use:"RadioButton_Active-usage",viewBox:"0 0 10 10",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 10 10" id="RadioButton_Active">\n<g>\n\t<g>\n\t\t<path d="M5,0C2.2,0,0,2.2,0,5s2.2,5,5,5s5-2.2,5-5S7.8,0,5,0z M5,9C2.8,9,1,7.2,1,5c0-2.2,1.8-4,4-4s4,1.8,4,4C9,7.2,7.2,9,5,9z" />\n\t</g>\n\t<g>\n\t\t<circle cx="5" cy="5" r="3" />\n\t</g>\n</g>\n</symbol>'});l().add(T);const N=T;var R=new(a())({id:"CheckBox",use:"CheckBox-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="CheckBox">\n<path d="M10.5,0h-9C0.7,0,0,0.7,0,1.5v9C0,11.3,0.7,12,1.5,12h9c0.8,0,1.5-0.7,1.5-1.5v-9C12,0.7,11.3,0,10.5,0z M11,10.5\n\tc0,0.3-0.2,0.5-0.5,0.5h-9C1.2,11,1,10.8,1,10.5v-9C1,1.2,1.2,1,1.5,1h9C10.8,1,11,1.2,11,1.5V10.5z" />\n</symbol>'});l().add(R);const E=R;var D=new(a())({id:"CheckBox_Active",use:"CheckBox_Active-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="CheckBox_Active">\n<g>\n\t<path d="M11.5,6.5C11.2,6.5,11,6.7,11,7v3.5c0,0.3-0.2,0.5-0.5,0.5h-9C1.2,11,1,10.8,1,10.5v-9C1,1.2,1.2,1,1.5,1H6\n\t\tc0.3,0,0.5-0.2,0.5-0.5S6.3,0,6,0H1.5C0.7,0,0,0.7,0,1.5v9C0,11.3,0.7,12,1.5,12h9c0.8,0,1.5-0.7,1.5-1.5V7\n\t\tC12,6.7,11.8,6.5,11.5,6.5z" />\n\t<path d="M4.3,4C4.1,3.5,3.4,3.4,3,3.7C2.5,3.9,2.4,4.6,2.7,5l2.5,4C5.3,9.3,5.6,9.5,6,9.5c0,0,0,0,0,0c0.3,0,0.6-0.2,0.8-0.4l5-7.5\n\t\tc0.3-0.5,0.2-1.1-0.3-1.4c-0.5-0.3-1.1-0.2-1.4,0.3L6,6.7L4.3,4z" />\n</g>\n</symbol>'});l().add(D);const A=D;var M=new(a())({id:"Save",use:"Save-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Save">\n<g>\n\t<path d="M11.9,3.1l-3-3C8.8,0.1,8.6,0,8.5,0h-7C0.7,0,0,0.7,0,1.5v9C0,11.3,0.7,12,1.5,12h9c0.8,0,1.5-0.7,1.5-1.5v-7\n\t\tC12,3.4,11.9,3.2,11.9,3.1z M3,1h1v1.5C4,2.8,4.2,3,4.5,3S5,2.8,5,2.5V1h1v3H3V1z M11,10.5c0,0.3-0.2,0.5-0.5,0.5h-9\n\t\tC1.2,11,1,10.8,1,10.5v-9C1,1.2,1.2,1,1.5,1H2v3.5C2,4.8,2.2,5,2.5,5h4C6.8,5,7,4.8,7,4.5V1h1.3L11,3.7V10.5z" />\n\t<path d="M7.5,6h-5C2.2,6,2,6.2,2,6.5S2.2,7,2.5,7h5C7.8,7,8,6.8,8,6.5S7.8,6,7.5,6z" />\n\t<path d="M9,10c0.6,0,1-0.4,1-1S9.6,8,9,8S8,8.4,8,9S8.4,10,9,10z M9,9l0.5,0L9,9L9,9z" />\n\t<path d="M5.5,8h-3C2.2,8,2,8.2,2,8.5S2.2,9,2.5,9h3C5.8,9,6,8.8,6,8.5S5.8,8,5.5,8z" />\n</g>\n</symbol>'});l().add(M);const I=M;var Z=new(a())({id:"Skill",use:"Skill-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Skill">\n<style type="text/css">\n\t#Skill .st0{fill:#231F20;}\n</style>\n<path class="st0" d="M12,5L8,4L6,0L4,4L0,5l3,2l-2,5l5-3l5,3L9,7L12,5z M6.5,8.1L6,7.8L5.5,8.1L3,9.6l0.9-2.2l0.3-0.8L3.6,6.2\n\tL2.4,5.4L4.2,5l0.4-0.1l0.2-0.4L6,2.2l1.1,2.2l0.2,0.4L7.8,5l1.8,0.5L8.4,6.2L7.8,6.6l0.3,0.8L9,9.6L6.5,8.1z" />\n</symbol>'});l().add(Z);const q=Z;var F=new(a())({id:"Min",use:"Min-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 14 14" id="Min">\n<g>\n\t<path d="M3.9,4.1C3.7,4,3.3,4,3.1,4.1S3,4.7,3.1,4.9L4.3,6H0.5C0.2,6,0,6.2,0,6.5S0.2,7,0.5,7h3.8L3.1,8.1C3,8.3,3,8.7,3.1,8.9\n\t\tC3.2,9,3.4,9,3.5,9s0.3,0,0.4-0.1l2-2C6,6.7,6,6.3,5.9,6.1L3.9,4.1z" />\n\t<path d="M13.5,6H9.7l1.1-1.1c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0l-2,2C8,6.3,8,6.7,8.1,6.9l2,2C10.2,9,10.4,9,10.5,9\n\t\ts0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L9.7,7h3.8C13.8,7,14,6.8,14,6.5S13.8,6,13.5,6z" />\n</g>\n</symbol>'});l().add(F);const L=F;var H=new(a())({id:"Max",use:"Max-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 14 14" id="Max">\n<g>\n\t<path d="M13.9,6.1l-2-2c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7L12.3,6H8.5C8.2,6,8,6.2,8,6.5S8.2,7,8.5,7h3.8l-1.1,1.1\n\t\tc-0.2,0.2-0.2,0.5,0,0.7C11.2,9,11.4,9,11.5,9s0.3,0,0.4-0.1l2-2C14,6.7,14,6.3,13.9,6.1z" />\n\t<path d="M5.5,6H1.7l1.1-1.1C3,4.7,3,4.3,2.9,4.1S2.3,4,2.1,4.1l-2,2C0,6.3,0,6.7,0.1,6.9l2,2C2.2,9,2.4,9,2.5,9s0.3,0,0.4-0.1\n\t\tC3,8.7,3,8.3,2.9,8.1L1.7,7h3.8C5.8,7,6,6.8,6,6.5S5.8,6,5.5,6z" />\n</g>\n</symbol>'});l().add(H);const _=H;var B=new(a())({id:"Step",use:"Step-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 14 14" id="Step">\n<g>\n\t<path d="M9.5,6h-5C4.2,6,4,6.2,4,6.5S4.2,7,4.5,7h5C9.8,7,10,6.8,10,6.5S9.8,6,9.5,6z" />\n\t<path d="M0.9,4.1C0.7,4,0.3,4,0.1,4.1S0,4.7,0.1,4.9l1.6,1.6L0.1,8.1C0,8.3,0,8.7,0.1,8.9C0.2,9,0.4,9,0.5,9s0.3,0,0.4-0.1l2-2\n\t\tC3,6.7,3,6.3,2.9,6.1L0.9,4.1z" />\n\t<path d="M12.2,6.5l1.6-1.6c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0l-2,2c-0.2,0.2-0.2,0.5,0,0.7l2,2C13.2,9,13.4,9,13.5,9\n\t\ts0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L12.2,6.5z" />\n</g>\n</symbol>'});l().add(B);const G=B;var W=new(a())({id:"Table_View",use:"Table_View-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Table_View">\n<style type="text/css">\n\t#Table_View .st0{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n\t#Table_View .st1{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style>\n<path class="st0" d="M13.5,67.5V73c0,0.3-0.2,0.5-0.5,0.5H3c-0.3,0-0.5-0.2-0.5-0.5V63c0-0.3,0.2-0.5,0.5-0.5h6.5" />\n<polyline class="st0" points="4.5,67.5 7.5,71.5 13.5,62.5 " />\n<circle class="st1" cx="5" cy="48" r="3" />\n<circle class="st0" cx="13" cy="43" r="1.5" />\n<circle class="st0" cx="13" cy="53" r="1.5" />\n<line class="st0" x1="11.5" y1="43.5" x2="7.5" y2="46.5" />\n<line class="st0" x1="7.5" y1="49.5" x2="11.5" y2="52.5" />\n<path class="st0" d="M1.5,21.5V34c0,0.3,0.2,0.5,0.5,0.5h12.5" />\n<path class="st0" d="M2,33.5c0,0,1.5-7,3.5-7s2,5,4,5s2-10,5-10" />\n<path d="M14,1H2C1.4,1,1,1.4,1,2v12c0,0.6,0.4,1,1,1h12c0.6,0,1-0.4,1-1V2C15,1.4,14.6,1,14,1z M14,6v2H6V6H14z M6,9h8v2H6V9z M14,2\n\tv3H2V2H14z M2,6h3v8H2V6z M6,14v-2h8v2H6z" />\n</symbol>'});l().add(W);const U=W;var V=new(a())({id:"Download",use:"Download-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Download">\n<g>\n\t<path d="M7.5,15H5v-2h2c0.3,0,0.5-0.2,0.5-0.5S7.3,12,7,12H5v-2h4c0.3,0,0.5-0.2,0.5-0.5S9.3,9,9,9H5V7h4c0.3,0,0.5-0.2,0.5-0.5\n\t\tS9.3,6,9,6H5V4h7c0.1,0,0.2,0,0.3-0.1C12.3,4,12.4,4,12.5,4C12.8,4,13,3.8,13,3.5v-3C13,0.2,12.8,0,12.5,0h-12C0.2,0,0,0.2,0,0.5\n\t\tv15C0,15.8,0.2,16,0.5,16h7C7.8,16,8,15.8,8,15.5S7.8,15,7.5,15z M4,12H1v-2h3V12z M4,9H1V7h3V9z M4,6H1V4h3V6z M12,1v2H5V1H12z\n\t\t M1,1h3v2H1V1z M1,15v-2h3v2H1z" />\n\t<path d="M15.9,12.1c-0.2-0.2-0.5-0.2-0.7,0L13,14.3V6.5C13,6.2,12.8,6,12.5,6S12,6.2,12,6.5v7.8l-2.1-2.1c-0.2-0.2-0.5-0.2-0.7,0\n\t\ts-0.2,0.5,0,0.7l3,3c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1l3-3C16,12.7,16,12.3,15.9,12.1z" />\n</g>\n</symbol>'});l().add(V);const z=V;var Y=new(a())({id:"Check",use:"Check-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Check">\n<path d="M6,9C5.7,9,5.5,8.9,5.3,8.7L2.8,6.2c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.7,1.7l4.3-6c0.3-0.4,0.9-0.6,1.4-0.2\n\tc0.4,0.3,0.6,0.9,0.2,1.4l-5,7C6.6,8.8,6.4,9,6,9C6.1,9,6,9,6,9z" />\n<path d="M6,12c-3.3,0-6-2.7-6-6s2.7-6,6-6c0.3,0,0.5,0.2,0.5,0.5S6.3,1,6,1C3.2,1,1,3.2,1,6s2.2,5,5,5s5-2.2,5-5\n\tc0-0.3,0.2-0.5,0.5-0.5S12,5.7,12,6C12,9.3,9.3,12,6,12z" />\n</symbol>'});l().add(Y);const Q=Y;var K=new(a())({id:"complaint",use:"complaint-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="complaint">\n<g>\n\t<path class="st0" d="M14.8,7.2c0,0-0.8-1.1-0.8-3.2c0-2.9-2.9-4-4.2-4H5C4,0,4,1,4,1H2C0.9,1,0,1.9,0,3v4c0,1.1,0.9,2,2,2h2\n\t\tl2.7,2.7C6.9,11.9,7,12.1,7,12.4V15c0,0.6,0.4,1,1,1c1.7,0,3-1.3,3-3v-2c0-0.6,0.4-1,1-1h1C14.4,10,15.4,8.5,14.8,7.2z M2,8\n\t\tC1.4,8,1,7.6,1,7V3c0-0.6,0.4-1,1-1h1v6H2z M13.8,8.6C13.6,8.8,13.3,9,13,9h-1c-1.1,0-2,0.9-2,2v2c0,1.1-0.9,2-2,2v-2.6\n\t\tc0-0.5-0.2-1-0.6-1.4L4.7,8.3L4.4,8H4V2h1V1l0,0h4.8C10.6,1,13,1.7,13,4c0,2,0.7,3.3,0.9,3.7C14,8,14,8.3,13.8,8.6z" />\n\t<path class="st0" d="M11.7,7.1c0,0-0.6-0.3-0.6-1.8c0-2.1-1.3-3.1-1.3-3.1C9.6,1.9,9.3,2,9.1,2.2C8.9,2.4,9,2.7,9.2,2.9\n\t\tc0,0,0.9,0.7,0.9,2.4c0,2.1,1.1,2.7,1.2,2.7c0.1,0,0.1,0,0.2,0c0.2,0,0.4-0.1,0.4-0.3C12.1,7.5,12,7.2,11.7,7.1z" />\n</g>\n</symbol>'});l().add(K);const X=K;var J=new(a())({id:"like",use:"like-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="like">\n<g>\n\t<path class="st0" d="M13,6h-1c-0.6,0-1-0.4-1-1V3c0-1.7-1.3-3-3-3C7.4,0,7,0.4,7,1v2.6c0,0.3-0.1,0.5-0.3,0.7L4,7H2\n\t\tC0.9,7,0,7.9,0,9v4c0,1.1,0.9,2,2,2h2c0,0,0,1,1,1h4.8c1.3,0,4.2-1.1,4.2-4c0-2.1,0.8-3.2,0.8-3.2C15.4,7.5,14.4,6,13,6z M2,14\n\t\tc-0.6,0-1-0.4-1-1V9c0-0.6,0.4-1,1-1h1v6H2z M13.9,8.3C13.7,8.7,13,10,13,12c0,2.3-2.4,3-3.2,3H5l0,0v-1H4V8h0.4l0.3-0.3L7.4,5\n\t\tC7.8,4.6,8,4.1,8,3.6V1l0,0c1.1,0,2,0.9,2,2v2c0,1.1,0.9,2,2,2h1c0.3,0,0.6,0.2,0.8,0.4C14,7.7,14,8,13.9,8.3z" />\n\t<path class="st0" d="M11.3,8c-0.1,0.1-1.2,0.6-1.2,2.7c0,1.6-0.9,2.3-0.9,2.4c-0.2,0.2-0.3,0.5-0.1,0.7C9.2,13.9,9.4,14,9.5,14\n\t\ts0.2,0,0.3-0.1c0.1,0,1.3-1.1,1.3-3.1c0-1.5,0.6-1.8,0.6-1.8C12,8.8,12.1,8.6,12,8.3C11.8,8,11.6,7.9,11.3,8z" />\n</g>\n</symbol>'});l().add(J);const $=J;var ee=new(a())({id:"Stop",use:"Stop-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Stop">\n<g>\n\t<path d="M6,0C2.7,0,0,2.7,0,6s2.7,6,6,6s6-2.7,6-6S9.3,0,6,0z M6,11c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S8.8,11,6,11z" />\n\t<path d="M8,5H4C3.4,5,3,5.4,3,6s0.4,1,1,1h4c0.6,0,1-0.4,1-1S8.6,5,8,5z" />\n</g>\n</symbol>'});l().add(ee);const te=ee;var re=new(a())({id:"Add_Shift",use:"Add_Shift-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Add_Shift">\n<g>\n\t<path d="M5.5,11c0.1,0,0.3,0,0.4-0.1l5-5c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0l-5,5c-0.2,0.2-0.2,0.5,0,0.7C5.2,11,5.4,11,5.5,11z\n\t\t" />\n\t<path d="M15,14H6.5l0,0c0.1,0,0.2-0.1,0.3-0.1l8.2-8.2C15.7,5.1,16,4.3,16,3.5s-0.3-1.6-0.9-2.1l-0.5-0.5c-1.2-1.2-3.1-1.2-4.2,0\n\t\tL2.1,9.1c0,0-0.1,0.1-0.1,0.2l-2,5c-0.1,0.1,0,0.3,0,0.4C0,14.8,0,14.9,0,15c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1S15.6,14,15,14z\n\t\t M13.9,1.6l0.5,0.5C14.8,2.5,15,3,15,3.5s-0.2,1-0.6,1.4L14,5.3L10.7,2l0.4-0.4C11.9,0.8,13.1,0.8,13.9,1.6z M10,2.7L13.3,6l-7,7\n\t\tl-0.4,0.1l-3-3c0,0,0,0-0.1,0l0.1-0.3L10,2.7z M2.4,11.1l2.2,2.2l-3.3,0.6L2.4,11.1z" />\n</g>\n</symbol>'});l().add(re);const ie=re;var se=new(a())({id:"Accept",use:"Accept-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="Accept">\n<path d="M7.8,1.1C7.6,0.9,7.3,1,7.1,1.2L3,6.7L0.9,4.2C0.7,4,0.4,3.9,0.2,4.1C0,4.3-0.1,4.6,0.1,4.8l2.5,3C2.7,7.9,2.9,8,3,8\n\tc0,0,0,0,0,0c0.2,0,0.3-0.1,0.4-0.2l4.5-6C8.1,1.6,8,1.3,7.8,1.1z" />\n</symbol>'});l().add(se);const ne=se;var ae=new(a())({id:"To",use:"To-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="To">\n<path d="M11.9,5.1l-3-3C8.7,2,8.3,2,8.1,2.1S8,2.7,8.1,2.9L10.3,5H3.5C3.2,5,3,5.2,3,5.5S3.2,6,3.5,6h6.8L8.1,8.1\n\tC8,8.3,8,8.7,8.1,8.9C8.2,9,8.4,9,8.5,9s0.3,0,0.4-0.1l3-3C12,5.7,12,5.3,11.9,5.1z" />\n</symbol>'});l().add(ae);const oe=ae;var le=new(a())({id:"ToRight",use:"ToRight-usage",viewBox:"0 0 5 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 5 9" id="ToRight">\n<style type="text/css">\n\t#ToRight .st0{fill:#010101;}\n</style>\n<path class="st0" d="M0.5,9C0.4,9,0.2,9,0.1,8.9C0,8.7,0,8.3,0.1,8.1l3.6-3.6L0.1,0.9C0,0.7,0,0.3,0.1,0.1s0.5-0.2,0.7,0l4,4\n\tC5,4.3,5,4.7,4.9,4.9l-4,4C0.8,9,0.6,9,0.5,9z" />\n</symbol>'});l().add(le);const ce=le;var de=new(a())({id:"ToLeft",use:"ToLeft-usage",viewBox:"0 0 5 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 5 9" id="ToLeft">\n<style type="text/css">\n\t#ToLeft .st0{fill:#010101;}\n</style>\n<path class="st0" d="M4.5,9C4.4,9,4.2,9,4.1,8.9l-4-4C0,4.7,0,4.3,0.1,4.1l4-4C4.3,0,4.7,0,4.9,0.1s0.2,0.5,0,0.7L1.2,4.5l3.6,3.6\n\tC5,8.3,5,8.7,4.9,8.9C4.8,9,4.6,9,4.5,9z" />\n</symbol>'});l().add(de);const ue=de;var pe=new(a())({id:"Process",use:"Process-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="Process">\n<path d="M8.5,4C8.2,4,8,4.2,8,4.5C8,5.3,7.3,6,6.5,6S5,5.3,5,4.5C5,3.1,3.9,2,2.5,2S0,3.1,0,4.5C0,4.8,0.2,5,0.5,5S1,4.8,1,4.5\n\tC1,3.7,1.7,3,2.5,3S4,3.7,4,4.5C4,5.9,5.1,7,6.5,7S9,5.9,9,4.5C9,4.2,8.8,4,8.5,4z" />\n</symbol>'});l().add(pe);const he=pe;var fe=new(a())({id:"Denied",use:"Denied-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="Denied">\n<path d="M4.5,0C2,0,0,2,0,4.5S2,9,4.5,9S9,7,9,4.5S7,0,4.5,0z M1,4.5C1,2.6,2.6,1,4.5,1C5.3,1,6,1.3,6.6,1.7L1.7,6.6\n\tC1.3,6,1,5.3,1,4.5z M4.5,8C3.7,8,3,7.7,2.4,7.3l4.9-4.9C7.7,3,8,3.7,8,4.5C8,6.4,6.4,8,4.5,8z" />\n</symbol>'});l().add(fe);const me=fe;var ve=new(a())({id:"Manager_Change",use:"Manager_Change-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Manager_Change">\n<g>\n\t<path d="M10.9,2.1l-2-2C8.7,0,8.3,0,8.1,0.1S8,0.7,8.1,0.9L9.3,2H5.5C4.1,2,3,3.1,3,4.5C3,4.8,3.2,5,3.5,5S4,4.8,4,4.5\n\t\tC4,3.7,4.7,3,5.5,3h3.8L8.1,4.1C8,4.3,8,4.7,8.1,4.9C8.2,5,8.4,5,8.5,5s0.3,0,0.4-0.1l2-2C11,2.7,11,2.3,10.9,2.1z" />\n\t<path d="M8.5,7C8.2,7,8,7.2,8,7.5C8,8.3,7.3,9,6.5,9H2.7l1.1-1.1C4,7.7,4,7.3,3.9,7.1S3.3,7,3.1,7.1l-2,2C1,9.3,1,9.7,1.1,9.9l2,2\n\t\tC3.2,12,3.4,12,3.5,12s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L2.7,10h3.8C7.9,10,9,8.9,9,7.5C9,7.2,8.8,7,8.5,7z" />\n\t<path d="M8,6c0-1.1-0.9-2-2-2S4,4.9,4,6c0,1.1,0.9,2,2,2S8,7.1,8,6z M5,6c0-0.6,0.4-1,1-1s1,0.4,1,1S6.6,7,6,7S5,6.6,5,6z" />\n</g>\n</symbol>'});l().add(ve);const ye=ve;var ge=r(74124),be=new(a())({id:"Change_auto",use:"Change_auto-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Change_auto">\n<g>\n\t<path d="M8.1,4.9C8.2,5,8.4,5,8.5,5s0.3,0,0.4-0.1l2-2c0.2-0.2,0.2-0.5,0-0.7l-2-2C8.7,0,8.3,0,8.1,0.1S8,0.7,8.1,0.9L9.3,2H5.5\n\t\tC5.2,2,5,2.2,5,2.5S5.2,3,5.5,3h3.8L8.1,4.1C8,4.3,8,4.7,8.1,4.9z" />\n\t<path d="M6.5,9H2.7l1.1-1.1C4,7.7,4,7.3,3.9,7.1S3.3,7,3.1,7.1l-2,2C1,9.3,1,9.7,1.1,9.9l2,2C3.2,12,3.4,12,3.5,12s0.3,0,0.4-0.1\n\t\tc0.2-0.2,0.2-0.5,0-0.7L2.7,10h3.8C6.8,10,7,9.8,7,9.5S6.8,9,6.5,9z" />\n\t<path d="M3.5,3C3.8,3,4,2.8,4,2.5S3.8,2,3.5,2h0C3.2,2,3,2.2,3,2.5S3.2,3,3.5,3z" />\n\t<path d="M1.5,3C1.8,3,2,2.8,2,2.5S1.8,2,1.5,2h0C1.2,2,1,2.2,1,2.5S1.2,3,1.5,3z" />\n\t<path d="M10.5,9L10.5,9C10.2,9,10,9.2,10,9.5s0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5S10.8,9,10.5,9z" />\n\t<path d="M8.5,9L8.5,9C8.2,9,8,9.2,8,9.5S8.2,10,8.5,10C8.8,10,9,9.8,9,9.5S8.8,9,8.5,9z" />\n</g>\n</symbol>'});l().add(be);const je=be;var xe=new(a())({id:"Male_Ava_Color",use:"Male_Ava_Color-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" id="Male_Ava_Color">\n<style type="text/css">\n\t#Male_Ava_Color .st0{fill:#CEE2F2;}\n\t#Male_Ava_Color .st1{fill:#263443;}\n\t#Male_Ava_Color .st2{fill:#93C9F5;}\n</style>\n<circle class="st0" cx="20" cy="20" r="20" />\n<path class="st1" d="M6.9,33.6c0.9-0.9,2.6-1.6,5.3-1.6c0.7,1.8,4.2,6,5.4,6c0.3,0,1.2,0,2.3-3.8c0.2-0.5,0-1.1-0.4-1.5\n\tc-0.2-0.2-0.6-0.6-0.9-0.9c-1.3-1.4-2.2-2.3-2.9-2.8c0.1-0.1,0.1-0.1,0.2-0.2c0.3-0.4,0.4-1,0.4-1.5c1.7,1.3,3.3,1.7,3.8,1.7\n\tc0.5,0,2.1-0.5,3.8-2.1c0,0.6,0.1,1.4,0.5,1.9c0,0,0.1,0.1,0.1,0.1c-0.7,0.5-1.6,1.4-3,2.8c-0.4,0.4-0.7,0.7-0.9,0.9\n\tc-0.4,0.4-0.5,1-0.4,1.5c1.1,3.8,2,3.8,2.3,3.8c1.2,0,4.7-4.2,5.4-6c2.6,0.1,4.2,0.7,5.2,1.5l0.7-0.7c-1.1-1-2.9-1.7-5.8-1.8\n\tc-0.2-0.9-0.8-1.8-1.6-2.3c-0.1-0.1-0.2-0.1-0.3-0.1c-0.2-0.1-0.4-0.1-0.6-0.1c0,0,0,0,0,0c-0.1-0.1-0.3-0.2-0.4-0.3\n\tc-0.5-0.6-0.3-2-0.1-2.5c1.6-2.1,3-5.3,3-10.2c0-4.4-4.1-8.5-8.5-8.5c-4.4,0-8.5,4.1-8.5,8.5c0,5.5,2,8.9,4.1,10.9\n\tc0.1,0.5,0.2,1.4-0.1,1.8c-0.1,0.1-0.2,0.2-0.4,0.3c0,0,0,0-0.1,0c-0.2,0-0.4,0-0.6,0.1c-0.1,0-0.2,0.1-0.3,0.1\n\tc-0.8,0.4-1.4,1.4-1.6,2.3c-3,0.1-4.8,0.9-5.9,1.9L6.9,33.6z M12,15.5C12,12,15.2,8,19.5,8c4.3,0,7.5,4,7.5,7.5\n\tc0,1.2-0.1,2.3-0.3,3.4c-0.3-0.4-0.4-1.5-0.5-2.4C26.1,14.8,26,13,24.5,13c-1,0-1.6,0.2-2.1,0.5c-0.6,0.3-1.3,0.5-2.9,0.5\n\tc-1.6,0-2.3-0.3-2.9-0.6C16.2,13.2,15.7,13,15,13c-1.4,0-1.7,1.8-2,3.4c-0.2,0.9-0.3,2-0.7,2.4C12.1,17.8,12,16.7,12,15.5z\n\t M17.8,32.5c0.4,0.4,0.7,0.7,0.9,1c0.1,0.1,0.2,0.3,0.1,0.5c-0.7,2.3-1.2,3-1.3,3.1c-0.8-0.2-4.4-4.6-4.5-5.5c0-0.7,0.6-1.6,1.2-1.9\n\tc0.1,0,0.3,0,0.4,0C15.2,29.8,17,31.7,17.8,32.5z M24.1,25.2C24.1,25.2,24.1,25.2,24.1,25.2C22.3,27.4,20.2,28,20,28\n\tc-0.2,0-2.2-0.5-4.1-2.3c0-0.1-0.1-0.1-0.2-0.2c-1.3-1.2-2.5-3-3.2-5.7c1-0.4,1.2-1.9,1.5-3.3c0.2-1.1,0.4-2.6,1-2.6\n\tc0.5,0,0.8,0.1,1.2,0.3c0.6,0.3,1.4,0.7,3.3,0.7c1.8,0,2.5-0.3,3.3-0.6c0.5-0.2,0.9-0.4,1.8-0.4c0.5,0,0.7,1.4,0.8,2.5\n\tc0.1,1.4,0.3,3,1.3,3.4C26,22.3,25.1,24,24.1,25.2z M22.5,37c-0.2-0.1-0.7-0.7-1.4-3.1c-0.1-0.2,0-0.4,0.1-0.5\n\tc0.2-0.2,0.6-0.6,0.9-0.9c0.8-0.8,2.6-2.7,3.2-3c0.1,0,0.2,0,0.4,0c0.6,0.3,1.2,1.3,1.2,1.9C26.9,32.4,23.3,36.8,22.5,37z" />\n<path class="st2" d="M20,2c9.9,0,18,8.1,18,18s-8.1,18-18,18S2,29.9,2,20S10.1,2,20,2 M20,0C9,0,0,9,0,20s9,20,20,20s20-9,20-20\n\tS31,0,20,0L20,0z" />\n</symbol>'});l().add(xe);const Se=xe;var Oe=new(a())({id:"Male_Ava",use:"Male_Ava-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" id="Male_Ava">\n<path d="M27.9,31c-0.2-0.9-0.8-1.8-1.6-2.3c-0.1-0.1-0.2-0.1-0.3-0.1c-0.2-0.1-0.4-0.1-0.6-0.1c0,0,0,0,0,0\n\tc-0.1-0.1-0.3-0.2-0.4-0.3c-0.5-0.6-0.3-2-0.1-2.5c1.6-2.1,3-5.3,3-10.2c0-4.4-4.1-8.5-8.5-8.5c-4.4,0-8.5,4.1-8.5,8.5\n\tc0,5.5,2,8.9,4.1,10.9c0.1,0.5,0.2,1.4-0.1,1.8c-0.1,0.1-0.2,0.2-0.4,0.3c0,0,0,0-0.1,0c-0.2,0-0.4,0-0.6,0.1\n\tc-0.1,0-0.2,0.1-0.3,0.1c-0.8,0.4-1.4,1.4-1.6,2.3C6.9,31.1,5,33.5,5,35.5C5,35.8,5.2,36,5.5,36S6,35.8,6,35.5\n\tc0-1.6,1.6-3.4,6.1-3.5c0.7,1.8,4.2,6,5.4,6c0.3,0,1.2,0,2.3-3.8c0.2-0.5,0-1.1-0.4-1.5c-0.2-0.2-0.6-0.6-0.9-0.9\n\tc-1.3-1.4-2.2-2.3-2.9-2.8c0.1-0.1,0.1-0.1,0.2-0.2c0.3-0.4,0.4-1,0.4-1.5c1.7,1.3,3.3,1.7,3.8,1.7c0.5,0,2.1-0.5,3.8-2.1\n\tc0,0.6,0.1,1.4,0.5,1.9c0,0,0.1,0.1,0.1,0.1c-0.7,0.5-1.6,1.4-3,2.8c-0.4,0.4-0.7,0.7-0.9,0.9c-0.4,0.4-0.5,1-0.4,1.5\n\tc1.1,3.8,2,3.8,2.3,3.8c1.2,0,4.7-4.2,5.4-6c4.5,0.1,6.1,1.9,6.1,3.5c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5\n\tC35,33.5,33.1,31.1,27.9,31z M17.8,32.5c0.4,0.4,0.7,0.7,0.9,1c0.1,0.1,0.2,0.3,0.1,0.5c-0.7,2.3-1.2,3-1.3,3.1\n\tc-0.8-0.2-4.4-4.6-4.5-5.5c0-0.7,0.6-1.6,1.2-1.9c0.1,0,0.3,0,0.4,0C15.2,29.8,17,31.7,17.8,32.5z M19.5,8c4.3,0,7.5,4,7.5,7.5\n\tc0,1.2-0.1,2.3-0.3,3.4c-0.3-0.4-0.4-1.5-0.5-2.4C26.1,14.8,26,13,24.5,13c-1,0-1.6,0.2-2.1,0.5c-0.6,0.3-1.3,0.5-2.9,0.5\n\tc-1.6,0-2.3-0.3-2.9-0.6C16.2,13.2,15.7,13,15,13c-1.4,0-1.7,1.8-2,3.4c-0.2,0.9-0.3,2-0.7,2.4c-0.2-1-0.3-2.1-0.3-3.3\n\tC12,12,15.2,8,19.5,8z M20,28c-0.2,0-2.2-0.5-4.1-2.3c0-0.1-0.1-0.1-0.2-0.2c-1.3-1.2-2.5-3-3.2-5.7c1-0.4,1.2-1.9,1.5-3.3\n\tc0.2-1.1,0.4-2.6,1-2.6c0.5,0,0.8,0.1,1.2,0.3c0.6,0.3,1.4,0.7,3.3,0.7c1.8,0,2.5-0.3,3.3-0.6c0.5-0.2,0.9-0.4,1.8-0.4\n\tc0.5,0,0.7,1.4,0.8,2.5c0.1,1.4,0.3,3,1.3,3.4c-0.5,2.4-1.4,4.1-2.4,5.3c0,0,0,0,0,0C22.3,27.4,20.2,28,20,28z M22.5,37\n\tc-0.2-0.1-0.7-0.7-1.4-3.1c-0.1-0.2,0-0.4,0.1-0.5c0.2-0.2,0.6-0.6,0.9-0.9c0.8-0.8,2.6-2.7,3.2-3c0.1,0,0.2,0,0.4,0\n\tc0.6,0.3,1.2,1.3,1.2,1.9C26.9,32.4,23.3,36.8,22.5,37z" />\n</symbol>'});l().add(Oe);const Pe=Oe;var we=new(a())({id:"Import",use:"Import-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Import">\n<g>\n\t<path d="M15.5,8C15.2,8,15,8.2,15,8.5v6c0,0.3-0.2,0.5-0.5,0.5h-12C2.2,15,2,14.8,2,14.5v-6C2,8.2,1.8,8,1.5,8S1,8.2,1,8.5v6\n\t\tC1,15.3,1.7,16,2.5,16h12c0.8,0,1.5-0.7,1.5-1.5v-6C16,8.2,15.8,8,15.5,8z" />\n\t<path d="M8.1,12.9c0,0,0.1,0.1,0.2,0.1c0.1,0,0.1,0,0.2,0s0.1,0,0.2,0c0.1,0,0.1-0.1,0.2-0.1l3-3c0.2-0.2,0.2-0.5,0-0.7\n\t\ts-0.5-0.2-0.7,0L9,11.3V2.5C9,2.2,8.8,2,8.5,2S8,2.2,8,2.5v8.8L5.9,9.1C5.7,9,5.3,9,5.1,9.1S5,9.7,5.1,9.9L8.1,12.9z" />\n</g>\n</symbol>'});l().add(we);const Ce=we;var ke=new(a())({id:"Arrow",use:"Arrow-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Arrow">\n<path d="M14.3,6.7l-4-3.1c-0.2-0.2-0.5-0.1-0.7,0.1S9.5,4.2,9.7,4.4L13,7H6.5C4,7,2,9,2,11.5v1C2,12.8,2.2,13,2.5,13S3,12.8,3,12.5\n\tv-1C3,9.6,4.6,8,6.5,8H13l-3.3,2.6c-0.2,0.2-0.3,0.5-0.1,0.7c0.1,0.1,0.2,0.2,0.4,0.2c0.1,0,0.2,0,0.3-0.1l4-3.1\n\tc0.2-0.2,0.4-0.5,0.4-0.8S14.5,6.9,14.3,6.7z" />\n</symbol>'});l().add(ke);const Te=ke;var Ne=new(a())({id:"AddActive",use:"AddActive-usage",viewBox:"0 0 11 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 11 11" id="AddActive">\n<path d="M5.5,0C2.5,0,0,2.5,0,5.5c0,3,2.5,5.5,5.5,5.5S11,8.5,11,5.5C11,2.5,8.5,0,5.5,0z M8,6H6v2c0,0.3-0.2,0.5-0.5,0.5S5,8.3,5,8\n\tV6H3C2.7,6,2.5,5.8,2.5,5.5S2.7,5,3,5h2V3c0-0.3,0.2-0.5,0.5-0.5S6,2.7,6,3v2h2c0.3,0,0.5,0.2,0.5,0.5S8.3,6,8,6z" />\n</symbol>'});l().add(Ne);const Re=Ne;var Ee=new(a())({id:"Pass",use:"Pass-usage",viewBox:"0 0 22 33",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22 33" id="Pass">\n<path d="M21.9,29.1l-3-3c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7l2.1,2.1H4.5C2.6,29,1,27.4,1,25.5v-25C1,0.2,0.8,0,0.5,0\n\tS0,0.2,0,0.5v25C0,28,2,30,4.5,30h15.8l-2.1,2.1c-0.2,0.2-0.2,0.5,0,0.7c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1l3-3\n\tC22,29.7,22,29.3,21.9,29.1z" />\n</symbol>'});l().add(Ee);const De=Ee;var Ae=new(a())({id:"Menu",use:"Menu-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Menu">\n<g>\n\t<path d="M2,5h12c0.6,0,1-0.4,1-1s-0.4-1-1-1H2C1.4,3,1,3.4,1,4S1.4,5,2,5z" />\n\t<path d="M14,7H2C1.4,7,1,7.4,1,8s0.4,1,1,1h12c0.6,0,1-0.4,1-1S14.6,7,14,7z" />\n\t<path d="M14,11H2c-0.6,0-1,0.4-1,1s0.4,1,1,1h12c0.6,0,1-0.4,1-1S14.6,11,14,11z" />\n</g>\n</symbol>'});l().add(Ae);const Me=Ae;var Ie=new(a())({id:"Time",use:"Time-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="Time">\n<g>\n\t<path d="M4.5,0C2,0,0,2,0,4.5S2,9,4.5,9S9,7,9,4.5S7,0,4.5,0z M4.5,8C2.6,8,1,6.4,1,4.5C1,2.6,2.6,1,4.5,1S8,2.6,8,4.5\n\t\tC8,6.4,6.4,8,4.5,8z" />\n\t<path d="M6.7,5.1L4.9,4.1L3.4,1.7C3.3,1.5,3,1.4,2.7,1.6C2.5,1.7,2.4,2,2.6,2.3l1.5,2.5c0,0.1,0.1,0.1,0.2,0.2l2,1\n\t\tC6.3,6,6.4,6,6.5,6c0.2,0,0.4-0.1,0.4-0.3C7.1,5.5,7,5.2,6.7,5.1z" />\n</g>\n</symbol>'});l().add(Ie);const Ze=Ie;var qe=new(a())({id:"Line",use:"Line-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Line">\n<style type="text/css">\n\t#Line .st0{fill:#231F20;}\n</style>\n<g>\n\t<circle class="st0" cx="1" cy="4" r="1" />\n\t<circle class="st0" cx="4" cy="4" r="1" />\n\t<circle class="st0" cx="7" cy="4" r="1" />\n\t<circle class="st0" cx="3" cy="7" r="1" />\n\t<circle class="st0" cx="6" cy="7" r="1" />\n\t<circle class="st0" cx="9" cy="7" r="1" />\n\t<path class="st0" d="M11.5,9h-3C8.2,9,8,9.2,8,9.5S8.2,10,8.5,10h3c0.3,0,0.5-0.2,0.5-0.5S11.8,9,11.5,9z" />\n</g>\n</symbol>'});l().add(qe);const Fe=qe;var Le=new(a())({id:"Location",use:"Location-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="Location">\n<g>\n\t<path d="M4,0C2.3,0,1,1.3,1,3c0,2,2,6,3,6s3-4,3-6C7,1.3,5.7,0,4,0z M4,7.9C3.3,7.1,2,4.5,2,3c0-1.1,0.9-2,2-2s2,0.9,2,2\n\t\tC6,4.5,4.7,7.1,4,7.9z" />\n\t<circle cx="4" cy="3" r="1" />\n</g>\n</symbol>'});l().add(Le);const He=Le;var _e=new(a())({id:"LogOut",use:"LogOut-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="LogOut">\n<g>\n\t<path d="M15.9,7.1l-2-2c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7L14.3,7H7.5C7.2,7,7,7.2,7,7.5S7.2,8,7.5,8h6.8l-1.1,1.1\n\t\tc-0.2,0.2-0.2,0.5,0,0.7c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1l2-2C16,7.7,16,7.3,15.9,7.1z" />\n\t<path d="M7.5,14C3.9,14,1,11.1,1,7.5S3.9,1,7.5,1c2,0,3.7,0.9,4.9,2.3C12.7,3.1,13.1,3,13.5,3c-1.4-1.8-3.5-3-6-3\n\t\tC3.4,0,0,3.4,0,7.5S3.4,15,7.5,15c2.4,0,4.6-1.2,6-3c-0.4,0-0.7-0.1-1.1-0.3C11.2,13.1,9.5,14,7.5,14z" />\n\t<path d="M7.5,4c1,0,1.8,0.4,2.4,1h1.1c0-0.1,0-0.1,0.1-0.2C10.3,3.7,9,3,7.5,3C5,3,3,5,3,7.5S5,12,7.5,12c1.5,0,2.8-0.7,3.6-1.8\n\t\tc0-0.1,0-0.1-0.1-0.2H9.9c-0.6,0.6-1.5,1-2.4,1C5.6,11,4,9.4,4,7.5C4,5.6,5.6,4,7.5,4z" />\n</g>\n</symbol>'});l().add(_e);const Be=_e;var Ge=new(a())({id:"Edit",use:"Edit-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Edit">\n<g>\n\t<path d="M8,11c1.7,0,3-1.3,3-3S9.7,5,8,5S5,6.3,5,8S6.3,11,8,11z M8,6c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2S6,9.1,6,8C6,6.9,6.9,6,8,6z\n\t\t" />\n\t<path d="M15.5,9V7h-1.6c-0.2-0.9-0.5-1.8-1-2.5l1.8-1.8l-1.4-1.4l-1.8,1.8c-0.7-0.5-1.6-0.9-2.5-1V0.5H7v1.6\n\t\tc-0.9,0.2-1.8,0.5-2.5,1L2.7,1.3L1.3,2.7l1.8,1.8C2.6,5.2,2.2,6.1,2.1,7H0.5v2h1.6c0.2,0.9,0.5,1.8,1,2.5l-1.8,1.8l1.4,1.4l1.8-1.8\n\t\tc0.7,0.5,1.6,0.9,2.5,1v1.6h2v-1.6c0.9-0.2,1.8-0.5,2.5-1l1.8,1.8l1.4-1.4l-1.8-1.8c0.5-0.7,0.9-1.6,1-2.5H15.5z M8,4\n\t\tc2.2,0,4,1.8,4,4c0,2.2-1.8,4-4,4s-4-1.8-4-4C4,5.8,5.8,4,8,4z" />\n</g>\n</symbol>'});l().add(Ge);const We=Ge;var Ue=new(a())({id:"EditPencil",use:"EditPencil-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="EditPencil">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.2258 2.4253C10.759 1.85823 11.6235 1.85823 12.1567 2.42531L13.6001 3.96043C14.1333 4.52751 14.1333 5.44691 13.6001 6.01399L6.86453 13.1775L3.09078 13.9802C2.34805 14.1382 1.75941 13.3186 2.09814 12.5981L3.53546 9.54077L10.2258 2.4253ZM11.5131 3.10982C11.3353 2.9208 11.0472 2.9208 10.8694 3.10982L10.0144 4.01916L12.1015 6.2388L12.9565 5.32947C13.1342 5.14045 13.1342 4.83398 12.9565 4.64495L11.5131 3.10982ZM11.4579 6.92332L9.37082 4.70367L4.55312 9.82749L6.64016 12.0471L11.4579 6.92332ZM5.71704 12.4344L4.03418 10.6446L2.91227 13.031L5.71704 12.4344Z" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.3536 6.64645C10.5488 6.84171 10.5488 7.15829 10.3536 7.35355L6.85355 10.8536C6.65829 11.0488 6.34171 11.0488 6.14645 10.8536C5.95118 10.6583 5.95118 10.3417 6.14645 10.1464L9.64645 6.64645C9.84171 6.45118 10.1583 6.45118 10.3536 6.64645Z" />\n</symbol>'});l().add(Ue);const Ve=Ue;var ze=new(a())({id:"Replace",use:"Replace-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="Replace">\n<g>\n\t<path d="M14.5,7.5C14.2,7.5,14,7.7,14,8c0,3.3-2.7,6-6,6c-1.6,0-3.1-0.6-4.2-1.8c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7\n\t\tC4.4,14.3,6.1,15,8,15c3.9,0,7-3.1,7-7C15,7.7,14.8,7.5,14.5,7.5z" />\n\t<path d="M1.5,8.5C1.8,8.5,2,8.3,2,8c0-3.3,2.7-6,6-6c1.6,0,3.1,0.6,4.2,1.8c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7\n\t\tC11.6,1.7,9.9,1,8,1C4.1,1,1,4.1,1,8C1,8.3,1.2,8.5,1.5,8.5z" />\n\t<path d="M14.5,1C14.2,1,14,1.2,14,1.5V5h-3.5C10.2,5,10,5.2,10,5.5S10.2,6,10.5,6H14c0.6,0,1-0.4,1-1V1.5C15,1.2,14.8,1,14.5,1z" />\n\t<path d="M6,10.5C6,10.2,5.8,10,5.5,10H2c-0.6,0-1,0.4-1,1v3.5C1,14.8,1.2,15,1.5,15S2,14.8,2,14.5V11h3.5C5.8,11,6,10.8,6,10.5z" />\n</g>\n</symbol>'});l().add(ze);const Ye=ze;var Qe=r(44007),Ke=new(a())({id:"RefreshIcon",use:"RefreshIcon-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="RefreshIcon">\n  <g>\n  <path d="M14.5,7.5C14.2,7.5,14,7.7,14,8c0,3.3-2.7,6-6,6c-1.6,0-3.1-0.6-4.2-1.8c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7\nC4.4,14.3,6.1,15,8,15c3.9,0,7-3.1,7-7C15,7.7,14.8,7.5,14.5,7.5z" />\n      <path d="M1.5,8.5C1.8,8.5,2,8.3,2,8c0-3.3,2.7-6,6-6c1.6,0,3.1,0.6,4.2,1.8c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7\nC11.6,1.7,9.9,1,8,1C4.1,1,1,4.1,1,8C1,8.3,1.2,8.5,1.5,8.5z" />\n      <path d="M14.5,1C14.2,1,14,1.2,14,1.5V5h-3.5C10.2,5,10,5.2,10,5.5S10.2,6,10.5,6H14c0.6,0,1-0.4,1-1V1.5C15,1.2,14.8,1,14.5,1z" />\n      <path d="M6,10.5C6,10.2,5.8,10,5.5,10h-3C1.7,10,1,10.7,1,11.5v3C1,14.8,1.2,15,1.5,15S2,14.8,2,14.5v-3C2,11.2,2.2,11,2.5,11h3\nC5.8,11,6,10.8,6,10.5z" />\n</g>\n</symbol>'});l().add(Ke);const Xe=Ke;var Je=new(a())({id:"Remove",use:"Remove-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Remove">\n<g>\n\t<path d="M2.7,1c0.4,0,0.8,0.2,1.1,0.4l1.4,1.4C5.2,2.9,5.4,3,5.5,3H10v1.5C10,4.8,10.2,5,10.5,5S11,4.8,11,4.5V3c0-0.6-0.4-1-1-1\n\t\tH5.7L4.4,0.7C4,0.3,3.3,0,2.7,0H1C0.4,0,0,0.4,0,1v7c0,0.6,0.4,1,1,1h1.5C2.8,9,3,8.8,3,8.5S2.8,8,2.5,8H1V1H2.7z" />\n\t<path d="M9.5,8H6.7l1.1-1.1C8,6.7,8,6.3,7.9,6.1S7.3,6,7.1,6.1l-2,2C5,8.3,5,8.7,5.1,8.9l2,2C7.2,11,7.4,11,7.5,11s0.3,0,0.4-0.1\n\t\tc0.2-0.2,0.2-0.5,0-0.7L6.7,9h2.8c0.8,0,1.5,0.7,1.5,1.5v1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-1C12,9.1,10.9,8,9.5,8z" />\n</g>\n</symbol>'});l().add(Je);const $e=Je;var et=new(a())({id:"Add_User",use:"Add_User-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Add_User">\n<g>\n\t<path d="M8.5,12C8.2,12,8,11.8,8,11.5S8.2,11,8.5,11C9.7,11,10,8,10,7.5V6c0-2.2-1.8-4-4-4S2,3.8,2,6v1.5C2,9.7,2.5,11,3.5,11\n\t\tC3.8,11,4,11.2,4,11.5S3.8,12,3.5,12C1.6,12,0,13.6,0,15.5V16h12v-0.5C12,13.6,10.4,12,8.5,12z M1.1,15c0.2-1.1,1.2-2,2.4-2\n\t\tC4.3,13,5,12.3,5,11.5C5,10.7,4.3,10,3.5,10c0,0,0,0,0,0C3.4,10,3,9.4,3,7.5V6c0-1.7,1.3-3,3-3s3,1.3,3,3v1.5C9,8.4,8.7,9.7,8.4,10\n\t\tc-0.8,0-1.4,0.7-1.4,1.5C7,12.3,7.7,13,8.5,13c1.2,0,2.2,0.9,2.5,2H1.1z" />\n\t<path d="M12.5,10C12.2,10,12,9.8,12,9.5S12.2,9,12.5,9C13.7,9,14,5.5,14,5.5V4c0-2.2-1.8-4-4-4C9.7,0,9.5,0.2,9.5,0.5S9.7,1,10,1\n\t\tc1.7,0,3,1.3,3,3v1.5C13,6,12.6,7.6,12.4,8C11.6,8.1,11,8.7,11,9.5c0,0.8,0.7,1.5,1.5,1.5c1.2,0,2.2,0.9,2.5,2h-1\n\t\tc-0.3,0-0.5,0.2-0.5,0.5S13.7,14,14,14h1.5c0.3,0,0.5-0.2,0.5-0.5C16,11.6,14.4,10,12.5,10z" />\n</g>\n</symbol>'});l().add(et);const tt=et;var rt=new(a())({id:"Comment",use:"Comment-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Comment">\n<g>\n\t<path d="M9.5,0h-7C1.1,0,0,1.1,0,2.5v9c0,0.2,0.1,0.4,0.3,0.5c0.1,0,0.1,0,0.2,0c0.1,0,0.3-0.1,0.4-0.1l2.4-2.4\n\t\tC3.6,9.2,3.9,9,4.3,9h5.2C10.9,9,12,7.9,12,6.5v-4C12,1.1,10.9,0,9.5,0z M11,6.5C11,7.3,10.3,8,9.5,8H4.3C3.7,8,3,8.3,2.6,8.7\n\t\tL1,10.3V2.5C1,1.7,1.7,1,2.5,1h7C10.3,1,11,1.7,11,2.5V6.5z" />\n\t<path d="M8.5,3h-5C3.2,3,3,3.2,3,3.5S3.2,4,3.5,4h5C8.8,4,9,3.8,9,3.5S8.8,3,8.5,3z" />\n\t<path d="M8.5,5h-5C3.2,5,3,5.2,3,5.5S3.2,6,3.5,6h5C8.8,6,9,5.8,9,5.5S8.8,5,8.5,5z" />\n</g>\n</symbol>'});l().add(rt);const it=rt;var st=new(a())({id:"CommentIcon",use:"CommentIcon-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="CommentIcon">\r\n<g>\r\n\t<g>\r\n\t\t<path d="M14.5,1h-13C0.7,1,0,1.7,0,2.5v7C0,10.3,0.7,11,1.5,11h2.8l3.9,3.9C8.2,15,8.4,15,8.5,15s0.3,0,0.4-0.1\r\n\t\t\tc0.2-0.2,0.2-0.5,0-0.7l-4-4C4.8,10.1,4.6,10,4.5,10h-3C1.2,10,1,9.8,1,9.5v-7C1,2.2,1.2,2,1.5,2h13C14.8,2,15,2.2,15,2.5v7\r\n\t\t\tc0,0.3-0.2,0.5-0.5,0.5h-5C9.2,10,9,10.2,9,10.5S9.2,11,9.5,11h5c0.8,0,1.5-0.7,1.5-1.5v-7C16,1.7,15.3,1,14.5,1z" />\r\n\t</g>\r\n\t<g>\r\n\t\t<circle cx="12" cy="6" r="1" />\r\n\t</g>\r\n\t<g>\r\n\t\t<circle cx="8" cy="6" r="1" />\r\n\t</g>\r\n\t<g>\r\n\t\t<circle cx="4" cy="6" r="1" />\r\n\t</g>\r\n</g>\r\n</symbol>'});l().add(st);const nt=st;var at=new(a())({id:"Print",use:"Print-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Print">\n<g>\n\t<path d="M14,3.1V0.5C14,0.2,13.8,0,13.5,0h-11C2.2,0,2,0.2,2,0.5v2.6C0.9,3.3,0,4.3,0,5.5v5C0,10.8,0.2,11,0.5,11H2v4.5\n\t\tC2,15.8,2.2,16,2.5,16h11c0.3,0,0.5-0.2,0.5-0.5V11h1.5c0.3,0,0.5-0.2,0.5-0.5v-5C16,4.3,15.1,3.3,14,3.1z M13,1v2H3V1H13z M13,15\n\t\tH3v-4.5v-2C3,8.2,3.2,8,3.5,8h9C12.8,8,13,8.2,13,8.5v2V15z M15,10h-1V8.5C14,7.7,13.3,7,12.5,7h-9C2.7,7,2,7.7,2,8.5V10H1V5.5\n\t\tC1,4.7,1.7,4,2.5,4h11C14.3,4,15,4.7,15,5.5V10z" />\n\t<path d="M8.5,11h-4C4.2,11,4,11.2,4,11.5S4.2,12,4.5,12h4C8.8,12,9,11.8,9,11.5S8.8,11,8.5,11z" />\n\t<path d="M11.5,9h-7C4.2,9,4,9.2,4,9.5S4.2,10,4.5,10h7c0.3,0,0.5-0.2,0.5-0.5S11.8,9,11.5,9z" />\n\t<path d="M8.5,5h-5C3.2,5,3,5.2,3,5.5S3.2,6,3.5,6h5C8.8,6,9,5.8,9,5.5S8.8,5,8.5,5z" />\n\t<circle cx="12.5" cy="5.5" r="0.5" />\n</g>\n</symbol>'});l().add(at);const ot=at;var lt=new(a())({id:"Share",use:"Share-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Share">\n<style type="text/css">\n\t#Share .st0{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style>\n<path class="st0" d="M13.5,27.5V33c0,0.3-0.2,0.5-0.5,0.5H3c-0.3,0-0.5-0.2-0.5-0.5V23c0-0.3,0.2-0.5,0.5-0.5h6.5" />\n<polyline class="st0" points="4.5,27.5 7.5,31.5 13.5,22.5 " />\n<path d="M13,11c-0.7,0-1.2,0.3-1.6,0.8L8.6,9.7C8.9,9.2,9,8.6,9,8c0-0.6-0.1-1.2-0.4-1.7l2.8-2.1C11.8,4.7,12.3,5,13,5\n\tc1.1,0,2-0.9,2-2s-0.9-2-2-2s-2,0.9-2,2c0,0.1,0,0.2,0,0.2l-3,2.2C7.3,4.6,6.2,4,5,4C2.8,4,1,5.8,1,8c0,2.2,1.8,4,4,4\n\tc1.2,0,2.3-0.6,3.1-1.5l3,2.2c0,0.1,0,0.2,0,0.2c0,1.1,0.9,2,2,2s2-0.9,2-2S14.1,11,13,11z M13,2c0.6,0,1,0.4,1,1s-0.4,1-1,1\n\ts-1-0.4-1-1S12.4,2,13,2z M5,10c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C7,9.1,6.1,10,5,10z M13,14c-0.6,0-1-0.4-1-1s0.4-1,1-1\n\ts1,0.4,1,1S13.6,14,13,14z" />\n</symbol>'});l().add(lt);const ct=lt;var dt=new(a())({id:"Dop",use:"Dop-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Dop">\n<g>\n\t<path d="M4.2,2C4.3,2,4.4,2,4.5,2C5,1.6,5.6,1.4,6.1,1.2c0.3-0.1,0.4-0.3,0.3-0.6C6.4,0.4,6.1,0.2,5.9,0.3C5.2,0.5,4.6,0.7,4,1.1\n\t\tC3.7,1.2,3.6,1.5,3.8,1.8C3.9,1.9,4,2,4.2,2z" />\n\t<path d="M8,1c0.6,0,1.2,0.1,1.8,0.2c0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.5-0.4c0.1-0.3-0.1-0.5-0.4-0.6C9.4,0.1,8.7,0,8,0c0,0,0,0,0,0\n\t\tl0,0.5V0C7.7,0,7.5,0.2,7.5,0.5C7.5,0.8,7.7,1,8,1z" />\n\t<path d="M15.5,7.5C15.2,7.5,15,7.7,15,8c0,0.6-0.1,1.2-0.2,1.8c-0.1,0.3,0.1,0.5,0.4,0.6c0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.5-0.4\n\t\tC15.9,9.4,16,8.7,16,8V7.9C16,7.7,15.8,7.5,15.5,7.5z" />\n\t<path d="M1,8c0-0.6,0.1-1.2,0.2-1.8C1.3,6,1.1,5.7,0.9,5.6C0.6,5.5,0.3,5.7,0.3,6C0.1,6.6,0,7.3,0,8l0.5,0H0c0,0.3,0.2,0.5,0.5,0.5\n\t\tC0.8,8.5,1,8.3,1,8z" />\n\t<path d="M14.7,6.1c0.1,0.2,0.3,0.4,0.5,0.4c0,0,0.1,0,0.1,0c0.3-0.1,0.4-0.3,0.3-0.6c-0.2-0.7-0.5-1.3-0.8-1.9\n\t\tc-0.1-0.2-0.5-0.3-0.7-0.2C14,3.9,13.9,4.2,14,4.4C14.3,5,14.6,5.5,14.7,6.1z" />\n\t<path d="M11.5,1.9c0.5,0.3,1,0.7,1.5,1.1c0.1,0.1,0.2,0.1,0.4,0.1c0.1,0,0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7\n\t\tc-0.5-0.5-1.1-0.9-1.7-1.3c-0.2-0.1-0.5-0.1-0.7,0.2C11.1,1.5,11.2,1.8,11.5,1.9z" />\n\t<path d="M1.2,4.7c0.1,0,0.2,0.1,0.2,0.1c0.2,0,0.3-0.1,0.4-0.3C2.2,4,2.6,3.5,3,3.1c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0\n\t\tC1.8,2.9,1.4,3.4,1,4C0.9,4.3,1,4.6,1.2,4.7z" />\n\t<path d="M14.7,11.3c-0.2-0.1-0.5-0.1-0.7,0.2c-0.3,0.5-0.7,1-1.1,1.4c-0.2,0.2-0.2,0.5,0,0.7c0.1,0.1,0.2,0.1,0.4,0.1\n\t\ts0.3,0,0.4-0.1c0.5-0.5,0.9-1,1.3-1.7C15.1,11.8,15,11.5,14.7,11.3z" />\n\t<path d="M11.5,14.1c-0.5,0.3-1.1,0.5-1.7,0.7c-0.3,0.1-0.4,0.3-0.4,0.6c0.1,0.2,0.3,0.4,0.5,0.4c0,0,0.1,0,0.1,0\n\t\tc0.7-0.2,1.3-0.5,1.9-0.8c0.2-0.1,0.3-0.4,0.2-0.7C12.1,14,11.7,13.9,11.5,14.1z" />\n\t<path d="M8,15c-0.6,0-1.2-0.1-1.8-0.2c-0.3-0.1-0.5,0.1-0.6,0.4c-0.1,0.3,0.1,0.5,0.4,0.6C6.6,15.9,7.3,16,8,16h0\n\t\tc0.3,0,0.5-0.2,0.5-0.5S8.3,15,8,15z" />\n\t<path d="M4.5,14.1c-0.5-0.3-1-0.7-1.5-1.1c-0.2-0.2-0.5-0.2-0.7,0c-0.2,0.2-0.2,0.5,0,0.7c0.5,0.5,1.1,0.9,1.7,1.3\n\t\tC4.1,15,4.2,15,4.3,15c0.2,0,0.3-0.1,0.4-0.3C4.8,14.5,4.8,14.2,4.5,14.1z" />\n\t<path d="M1.2,9.8C1.2,9.6,0.9,9.4,0.6,9.5c-0.3,0.1-0.4,0.3-0.4,0.6c0.2,0.7,0.5,1.3,0.8,1.9c0.1,0.2,0.3,0.2,0.4,0.2\n\t\tc0.1,0,0.2,0,0.3-0.1C2,12.1,2.1,11.8,2,11.5C1.6,11,1.4,10.4,1.2,9.8z" />\n\t<path d="M11.5,7H9V4.5c0-0.6-0.4-1-1-1s-1,0.4-1,1V7H4.5c-0.6,0-1,0.4-1,1s0.4,1,1,1H7v2.5c0,0.6,0.4,1,1,1s1-0.4,1-1V9h2.5\n\t\tc0.6,0,1-0.4,1-1S12.1,7,11.5,7z" />\n</g>\n</symbol>'});l().add(dt);const ut=dt;var pt=new(a())({id:"Optymize",use:"Optymize-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Optymize">\n<g>\n\t<path d="M6.2,6.8c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l2.5,2.5C7.5,10.9,7.7,11,8,11c0,0,0.1,0,0.1,0c0.3,0,0.6-0.2,0.7-0.4l5-7\n\t\tc0.3-0.4,0.2-1.1-0.2-1.4c-0.4-0.3-1.1-0.2-1.4,0.2l-4.3,6L6.2,6.8z" />\n\t<path d="M15.5,6h-1.1c-0.3,0-0.5,0.2-0.5,0.5S14.1,7,14.4,7H15v1.5C15,8.8,14.8,9,14.5,9h-1.2c-0.2,0-0.4,0.1-0.5,0.4\n\t\tc-0.1,0.4-0.3,0.8-0.5,1.1c-0.1,0.2-0.1,0.4,0.1,0.6l0.8,0.8c0.2,0.2,0.2,0.5,0,0.7l-0.7,0.7c-0.2,0.2-0.5,0.2-0.7,0l-0.8-0.8\n\t\tc-0.2-0.2-0.4-0.2-0.6-0.1c-0.3,0.2-0.7,0.3-1.1,0.4C9.2,12.9,9,13.1,9,13.3v1.2C9,14.8,8.8,15,8.5,15h-1C7.2,15,7,14.8,7,14.5\n\t\tv-1.2c0-0.2-0.1-0.4-0.4-0.5c-0.4-0.1-0.7-0.3-1.1-0.4c-0.2-0.1-0.4-0.1-0.6,0.1l-0.9,0.9c-0.2,0.2-0.5,0.2-0.7,0l-0.7-0.7\n\t\tc-0.2-0.2-0.2-0.5,0-0.7L3.6,11c0.2-0.2,0.2-0.4,0.1-0.6c-0.2-0.3-0.3-0.7-0.4-1C3.2,9.1,3,9,2.8,9H1.5C1.2,9,1,8.8,1,8.5v-1\n\t\tC1,7.2,1.2,7,1.5,7h1.3C3,7,3.2,6.9,3.2,6.6c0.1-0.4,0.2-0.7,0.4-1C3.8,5.4,3.7,5.2,3.6,5L2.7,4.1c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7\n\t\tc0.2-0.2,0.5-0.2,0.7,0L5,3.6c0.2,0.2,0.4,0.2,0.6,0.1c0.3-0.2,0.7-0.3,1.1-0.4C6.9,3.1,7,2.9,7,2.7V1.5C7,1.2,7.2,1,7.5,1h1\n\t\tC8.8,1,9,1.2,9,1.5v1.2C9,3,9.2,3.2,9.5,3.2S10,3,10,2.7V1.5C10,0.7,9.3,0,8.5,0h-1C6.7,0,6,0.7,6,1.5v0.9C5.8,2.4,5.6,2.5,5.4,2.6\n\t\tL4.8,2C4.2,1.4,3.3,1.4,2.7,2L2,2.7C1.4,3.3,1.4,4.2,2,4.8l0.6,0.6C2.5,5.6,2.5,5.8,2.4,6H1.5C0.7,6,0,6.7,0,7.5v1\n\t\tC0,9.3,0.7,10,1.5,10h0.9c0.1,0.2,0.1,0.4,0.2,0.6L2,11.2c-0.6,0.6-0.6,1.5,0,2.1L2.7,14c0.6,0.6,1.5,0.6,2.1,0l0.6-0.6\n\t\tc0.2,0.1,0.4,0.2,0.6,0.2v0.9C6,15.3,6.7,16,7.5,16h1c0.8,0,1.5-0.7,1.5-1.5v-0.8c0.2-0.1,0.4-0.2,0.6-0.2l0.6,0.6\n\t\tc0.6,0.6,1.5,0.6,2.1,0l0.7-0.7c0.6-0.6,0.6-1.5,0-2.1l-0.6-0.6c0.1-0.2,0.2-0.4,0.3-0.6h0.8c0.8,0,1.5-0.7,1.5-1.5v-2\n\t\tC16,6.2,15.8,6,15.5,6z" />\n</g>\n</symbol>'});l().add(pt);const ht=pt;var ft=new(a())({id:"Operation",use:"Operation-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Operation">\n<g>\n\t<path d="M6,3.5C4.6,3.5,3.5,4.6,3.5,6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5C8.5,4.6,7.4,3.5,6,3.5z M6,7.5\n\t\tC5.2,7.5,4.5,6.8,4.5,6S5.2,4.5,6,4.5S7.5,5.2,7.5,6S6.8,7.5,6,7.5z" />\n\t<path d="M11.2,5.3c-0.3,0-0.6-0.2-0.6-0.5c-0.1-0.4-0.3-0.8-0.5-1.1C9.9,3.4,10,3.1,10.2,2.9L11.1,2L10,0.9L9.1,1.8\n\t\tC8.9,2,8.6,2.1,8.3,1.9C8,1.7,7.6,1.6,7.2,1.5C6.9,1.4,6.7,1.1,6.7,0.8V0H5.3v0.8c0,0.3-0.2,0.6-0.5,0.6C4.4,1.6,4,1.7,3.7,1.9\n\t\tC3.4,2.1,3.1,2,2.9,1.8L2,0.9L0.9,2l0.9,0.9C2,3.1,2.1,3.4,1.9,3.7C1.7,4,1.6,4.4,1.5,4.8C1.4,5.1,1.1,5.3,0.8,5.3H0v1.3h0.8\n\t\tc0.3,0,0.6,0.2,0.6,0.5C1.6,7.6,1.7,8,1.9,8.3C2.1,8.6,2,8.9,1.8,9.1L0.9,10L2,11.1l0.9-0.9c0.2-0.2,0.5-0.3,0.8-0.1\n\t\tc0.3,0.2,0.7,0.4,1.1,0.5c0.3,0.1,0.5,0.3,0.5,0.6V12h1.3v-0.8c0-0.3,0.2-0.6,0.5-0.6c0.4-0.1,0.8-0.3,1.1-0.5\n\t\tc0.3-0.1,0.6-0.1,0.8,0.1l0.9,0.9l1.1-1.1l-0.9-0.9C10,8.9,9.9,8.6,10.1,8.3c0.2-0.4,0.4-0.7,0.5-1.1c0.1-0.3,0.3-0.5,0.6-0.5H12\n\t\tV5.3H11.2z M6,9.3C4.2,9.3,2.7,7.8,2.7,6S4.2,2.7,6,2.7S9.3,4.2,9.3,6S7.8,9.3,6,9.3z" />\n</g>\n</symbol>'});l().add(ft);const mt=ft;var vt=new(a())({id:"Notification",use:"Notification-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Notification">\n<g>\n\t<path d="M15,5c-0.6,0-1,0.4-1,1V1.5C14,0.7,13.3,0,12.5,0h-9C2.7,0,2,0.7,2,1.5V6c0-0.6-0.4-1-1-1S0,5.4,0,6v8c0,1.1,0.9,2,2,2h12\n\t\tc1.1,0,2-0.9,2-2V6C16,5.4,15.6,5,15,5z M3,1.5C3,1.2,3.2,1,3.5,1h9C12.8,1,13,1.2,13,1.5v5.8L10.3,10L9,8.8c-0.6-0.5-1.5-0.5-2,0\n\t\tL5.7,10L3,7.3V1.5z M2,7.7l0.1,0.1c0,0,0,0,0,0l2.8,2.8L2,13.4V7.7z M2.8,14l4.9-4.5c0.2-0.2,0.5-0.2,0.7,0l4.9,4.5H2.8z M14,13.4\n\t\tl-2.9-2.7l2.8-2.8c0,0,0,0,0,0L14,7.7V13.4z" />\n\t<path d="M4.5,4h6C10.8,4,11,3.8,11,3.5S10.8,3,10.5,3h-6C4.2,3,4,3.2,4,3.5S4.2,4,4.5,4z" />\n\t<path d="M8,5.5C8,5.2,7.8,5,7.5,5h-3C4.2,5,4,5.2,4,5.5S4.2,6,4.5,6h3C7.8,6,8,5.8,8,5.5z" />\n</g>\n</symbol>'});l().add(vt);const yt=vt;var gt=new(a())({id:"ViewSettings",use:"ViewSettings-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ViewSettings">\n<g>\n\t<path d="M11,6c2.8,0,5-2,5-3s-2.2-3-5-3S6,2,6,3S8.2,6,11,6z M11,1c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1S10.4,1,11,1z M9.1,1.4\n\t\tC9,1.6,9,1.8,9,2c0,1.1,0.9,2,2,2s2-0.9,2-2c0-0.2,0-0.4-0.1-0.6c1.2,0.5,2,1.3,2.1,1.6c-0.2,0.5-1.8,2-4,2S7.2,3.5,7,3\n\t\tC7.1,2.6,7.9,1.9,9.1,1.4z" />\n\t<path d="M8,11c1.7,0,3-1.3,3-3c-0.3,0-0.7,0-1-0.1c0,0,0,0,0,0.1c0,1.1-0.9,2-2,2c-1.1,0-2-0.9-2-2c0-0.5,0.2-1,0.5-1.4\n\t\tC6.2,6.5,6,6.3,5.7,6.1C5.3,6.6,5,7.3,5,8C5,9.7,6.3,11,8,11z" />\n\t<path d="M13,7.7c0,0.1,0,0.2,0,0.3c0,2.8-2.2,5-5,5s-5-2.2-5-5c0-1.4,0.5-2.6,1.4-3.5C4.2,4,4,3.5,4,3c0-0.1,0-0.3,0-0.4L2.7,1.3\n\t\tL1.3,2.7l1.8,1.8C2.6,5.3,2.2,6.1,2.1,7H0.5v2h1.6c0.2,0.9,0.5,1.7,1,2.5l-1.8,1.8l1.4,1.4l1.8-1.8c0.7,0.5,1.6,0.9,2.5,1v1.6h2\n\t\tv-1.6c0.9-0.2,1.7-0.5,2.5-1l1.8,1.8l1.4-1.4l-1.8-1.8c0.5-0.7,0.9-1.6,1-2.5h1.6V7h-0.6C14.3,7.3,13.6,7.6,13,7.7z" />\n</g>\n</symbol>'});l().add(gt);const bt=gt;var jt=new(a())({id:"Settings",use:"Settings-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Settings">\n<g>\n\t<path d="M9.5,8C8.8,8,8.3,8.4,8.1,9H0.5C0.2,9,0,9.2,0,9.5S0.2,10,0.5,10h7.6c0.2,0.6,0.8,1,1.4,1c0.8,0,1.5-0.7,1.5-1.5\n\t\tS10.3,8,9.5,8z M9.5,10C9.2,10,9,9.8,9,9.5S9.2,9,9.5,9S10,9.2,10,9.5S9.8,10,9.5,10z" />\n\t<path d="M1.5,3c0.7,0,1.2-0.4,1.4-1h7.6C10.8,2,11,1.8,11,1.5S10.8,1,10.5,1H2.9C2.7,0.4,2.2,0,1.5,0C0.7,0,0,0.7,0,1.5\n\t\tS0.7,3,1.5,3z M1.5,1C1.8,1,2,1.2,2,1.5S1.8,2,1.5,2S1,1.8,1,1.5S1.2,1,1.5,1z" />\n\t<path d="M10.5,5H6.9C6.7,4.4,6.2,4,5.5,4S4.3,4.4,4.1,5H0.5C0.2,5,0,5.2,0,5.5S0.2,6,0.5,6h3.6c0.2,0.6,0.8,1,1.4,1s1.2-0.4,1.4-1\n\t\th3.6C10.8,6,11,5.8,11,5.5S10.8,5,10.5,5z M5.5,6C5.2,6,5,5.8,5,5.5S5.2,5,5.5,5S6,5.2,6,5.5S5.8,6,5.5,6z" />\n</g>\n</symbol>'});l().add(jt);const xt=jt;var St=new(a())({id:"Settings_Gear",use:"Settings_Gear-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Settings_Gear">\n<g>\n\t<path d="M8,5C6.3,5,5,6.3,5,8s1.3,3,3,3s3-1.3,3-3S9.7,5,8,5z M8,10c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2\n\t\tC10,9.1,9.1,10,8,10z" />\n\t<path d="M15,7h-1c0,0-0.1,0-0.1,0c-0.2-1-0.5-1.8-1.1-2.6c0.1,0,0.3-0.1,0.4-0.2l1-1c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-1,1\n\t\tc-0.1,0.1-0.2,0.2-0.2,0.4C10.8,2.6,9.9,2.2,9,2.1C9,2.1,9,2,9,2V1c0-0.6-0.4-1-1-1S7,0.4,7,1v1c0,0,0,0.1,0,0.1\n\t\tc-1,0.2-1.8,0.5-2.6,1.1c0-0.1-0.1-0.3-0.2-0.4l-1-1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l1,1C2.9,4.3,3,4.4,3.2,4.4\n\t\tC2.6,5.2,2.2,6.1,2.1,7C2.1,7,2,7,2,7H1C0.4,7,0,7.4,0,8s0.4,1,1,1h1c0,0,0.1,0,0.1,0c0.2,1,0.5,1.8,1.1,2.6\n\t\tc-0.1,0-0.3,0.1-0.4,0.2l-1,1c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1-1c0.1-0.1,0.2-0.2,0.2-0.4\n\t\tc0.7,0.6,1.6,0.9,2.6,1.1c0,0,0,0.1,0,0.1v1c0,0.6,0.4,1,1,1s1-0.4,1-1v-1c0,0,0-0.1,0-0.1c1-0.2,1.8-0.5,2.6-1.1\n\t\tc0,0.1,0.1,0.3,0.2,0.4l1,1c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4l-1-1c-0.1-0.1-0.2-0.2-0.4-0.2\n\t\tc0.6-0.7,0.9-1.6,1.1-2.6c0,0,0.1,0,0.1,0h1c0.6,0,1-0.4,1-1S15.6,7,15,7z M8,12c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4,1.8,4,4\n\t\tC12,10.2,10.2,12,8,12z" />\n</g>\n</symbol>'});l().add(St);const Ot=St;var Pt=new(a())({id:"AddUserNew",use:"AddUserNew-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="AddUserNew">\n<g>\n\t<path d="M8.5,15H1.1c0.3-1,1.4-1.4,2.8-1.9C5,12.7,6,12.4,6,11.5c0-1.2-0.4-1.7-0.9-2.2C4.6,8.7,4,8,4,5.5c0,0-0.1-2.1,1.1-3.4\n\t\tC5.8,1.4,6.7,1,8,1c1.3,0,2.2,0.4,2.9,1.1C12.1,3.4,12,5.4,12,5.5C12,5.7,12.2,6,12.5,6C12.7,6,13,5.8,13,5.5\n\t\tc0-0.1,0.2-2.5-1.4-4.1C10.8,0.5,9.5,0,8,0C6.5,0,5.2,0.5,4.4,1.4C2.8,3,3,5.4,3,5.5c0,2.9,0.8,3.7,1.4,4.4C4.7,10.4,5,10.7,5,11.5\n\t\tc-0.1,0.2-0.9,0.5-1.4,0.6C2.1,12.7,0,13.4,0,15.5C0,15.8,0.2,16,0.5,16h8C8.8,16,9,15.8,9,15.5S8.8,15,8.5,15z" />\n\t<polygon points="16,11 13,11 13,8 11,8 11,11 8,11 8,13 11,13 11,16 13,16 13,13 16,13 \t" />\n</g>\n</symbol>'});l().add(Pt);const wt=Pt;var Ct=new(a())({id:"WindowMax",use:"WindowMax-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="WindowMax">\n<g>\n\t<path d="M5,0.5C5,0.2,4.8,0,4.5,0h-3C0.7,0,0,0.7,0,1.5v3C0,4.8,0.2,5,0.5,5S1,4.8,1,4.5V1.7l3.1,3.1C4.2,5,4.4,5,4.5,5\n\t\ts0.3,0,0.4-0.1C5,4.7,5,4.3,4.9,4.1L1.7,1h2.8C4.8,1,5,0.8,5,0.5z" />\n\t<path d="M10.5,0h-3C7.2,0,7,0.2,7,0.5S7.2,1,7.5,1h2.8L7.1,4.1C7,4.3,7,4.7,7.1,4.9C7.2,5,7.4,5,7.5,5s0.3,0,0.4-0.1L11,1.7v2.8\n\t\tC11,4.8,11.2,5,11.5,5S12,4.8,12,4.5v-3C12,0.7,11.3,0,10.5,0z" />\n\t<path d="M4.9,7.1C4.7,7,4.3,7,4.1,7.1L1,10.3V7.5C1,7.2,0.8,7,0.5,7S0,7.2,0,7.5v3C0,11.3,0.7,12,1.5,12h3C4.8,12,5,11.8,5,11.5\n\t\tS4.8,11,4.5,11H1.7l3.1-3.1C5,7.7,5,7.3,4.9,7.1z" />\n\t<path d="M11.5,7C11.2,7,11,7.2,11,7.5v2.8L7.9,7.1C7.7,7,7.3,7,7.1,7.1S7,7.7,7.1,7.9l3.1,3.1H7.5C7.2,11,7,11.2,7,11.5\n\t\tS7.2,12,7.5,12h3c0.8,0,1.5-0.7,1.5-1.5v-3C12,7.2,11.8,7,11.5,7z" />\n</g>\n</symbol>'});l().add(Ct);const kt=Ct;var Tt=new(a())({id:"WindowMin",use:"WindowMin-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="WindowMin">\n<g>\n\t<path d="M4.5,0C4.2,0,4,0.2,4,0.5v2.8L0.9,0.1C0.7,0,0.3,0,0.1,0.1S0,0.7,0.1,0.9L3.3,4H0.5C0.2,4,0,4.2,0,4.5S0.2,5,0.5,5h3\n\t\tC4.3,5,5,4.3,5,3.5v-3C5,0.2,4.8,0,4.5,0z" />\n\t<path d="M11.5,4H8.7l3.1-3.1c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0L8,3.3V0.5C8,0.2,7.8,0,7.5,0S7,0.2,7,0.5v3C7,4.3,7.7,5,8.5,5h3\n\t\tC11.8,5,12,4.8,12,4.5S11.8,4,11.5,4z" />\n\t<path d="M3.5,7h-3C0.2,7,0,7.2,0,7.5S0.2,8,0.5,8h2.8l-3.1,3.1c-0.2,0.2-0.2,0.5,0,0.7C0.2,12,0.4,12,0.5,12s0.3,0,0.4-0.1L4,8.7\n\t\tv2.8C4,11.8,4.2,12,4.5,12S5,11.8,5,11.5v-3C5,7.7,4.3,7,3.5,7z" />\n\t<path d="M12,7.5C12,7.2,11.8,7,11.5,7h-3C7.7,7,7,7.7,7,8.5v3C7,11.8,7.2,12,7.5,12S8,11.8,8,11.5V8.7l3.1,3.1\n\t\tc0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L8.7,8h2.8C11.8,8,12,7.8,12,7.5z" />\n</g>\n</symbol>'});l().add(Tt);const Nt=Tt;var Rt=new(a())({id:"LockBlock",use:"LockBlock-usage",viewBox:"0 0 10 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14" id="LockBlock">\n\t<style>\n\t\t#LockBlock tspan { white-space:pre }\n\t\t#LockBlock .shp0 {}\n\t</style>\n\t<g id="LockBlock_LIST">\n\t\t<g id="LockBlock_06">\n\t\t\t<path id="LockBlock_Lock copy 7" class="shp0" d="M6.48 13L4.51 13C2.57 13 1 11.43 1 9.5L1 7.54C1 6.16 2.12 5.04 3.5 5.04L7.49 5.04C8.87 5.04 9.99 6.16 9.99 7.54L9.99 9.5C9.99 11.43 8.42 13 6.48 13ZM3.5 6.04C2.67 6.04 2 6.71 2 7.54L2 9.5C2 10.88 3.12 12 4.51 12L6.48 12C7.86 12 8.99 10.88 8.99 9.5L8.99 7.54C8.99 6.71 8.31 6.04 7.49 6.04L3.5 6.04ZM7.54 5.39C7.27 5.39 7.04 5.16 7.04 4.89L7.04 3.5C7.04 2.67 6.37 2 5.54 2C4.71 2 4.03 2.67 4.03 3.5L4.03 4.89C4.03 5.16 3.81 5.39 3.53 5.39C3.26 5.39 3.03 5.16 3.03 4.89L3.03 3.5C3.03 2.12 4.16 1 5.54 1C6.92 1 8.04 2.12 8.04 3.5L8.04 4.89C8.04 5.16 7.82 5.39 7.54 5.39ZM6 9.68L4.99 9.68L4.99 8.51L6 8.51L6 9.68Z" />\n\t\t</g>\n\t</g>\n</symbol>'});l().add(Rt);const Et=Rt;var Dt=new(a())({id:"CustomColorBtn",use:"CustomColorBtn-usage",viewBox:"0 0 98 18",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 18" id="CustomColorBtn">\n\t<defs>\n\t\t<image width="98" height="18" id="CustomColorBtn_img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAASCAYAAACghwvPAAAIrklEQVRYR32Zv84sORHFj7vnz72vQECABCmCbMUCEhIRCTEiISYiQoQQkewDrLQZMRlvxAOQLLrfzLRtdE7VsT3z3eXb9brb0+3urp/rVLm2/Ptfv+vIv9IPlP4JpX2LrX2L0v6LDWyfULY7UA5gA8pegNMGXE7A+ZztApyv0S4fgNMV2C/AfopWTsDGdkYpOzRRL+jY0BF9y1YBVBQ8UHA8NeAAcFfb8ADPC3g9x3n+QB+toeNQa7ij4YGmays6KprGOcZ74px9HN/HvR2cJ8b5nJ6/xXHc4/coqAVo/J4S34e2Yzt27MeO02PH6b5jZ39sKK3Y9Cj/+eevFhANwA2lEcYbSn9DKTeU7YGyNZStAPsG7DtwvgDXC3Ch8c/AyceGcQVO57h2YzsBJ4LYA4ReVP8KSgDZdEwI/Bh+4AMbjhyzsQnhjiIgAcsGIqAwIo0bIMLYE4RhGISNGdeuBo95+RfG5nvFO/F4NlrNC4Yg/P4cb31Dr0WtHEU3q2cblgdK/+YH47Tzl9JQegV6A7YGFK7+PVY1jU+Dc7UTwPUjcP0QXsBx/k4oF0IiHHoD702AZx5vAIEShBYE/8OWXiIYPA9PqdhRh7eElxDCLUEQRnhJxxs6bqjqaXwaNryhqnmMKz4MaW+wl0TPReCFQKPKe/UuHN/H7/bk6cEBxKDsPVocraHWhketqGyto9HGQ42++t7kQqPLQNlzJQsADU2DJwTJD439MWWIRqdE0VN4/Slki/JlGVPP33NsSyDs9TyCeIWxo+vDY5weQygBIySKH00IAaLhEypuaGoPGT8gEJC9ooH/rBIVq5uG4LjlMjwgvDSez/ehhLIPObUHh5Q+eyi9UgujV9xrFYRHPXCwtYrWF9P3v02PEAQbf6es0JiUHBqcMFJu2BOKZIlwuPJTsmh8AnkFcUJcRxAXSlUCWaXLkqUPpPF50zOggGFZopwYRFtA2PBh/BVEyM/0gJCvABF/jleOX1My1zhmWAQRcSpAhETF/ATB5weIAw95BPv6GRB/+cmCZY9VS4Nxhavnyqc3ZBwQnPxdY0scEIwSHqF5tvQK9ukthGCJ0jXL8xRLGD8Y3LMfQLwyY8X6gx0fKDv0iDccuKU0WY5ojPCIiCURBxxkA0KIREiQgu1o9IB5Hl4yYc1YMUFEzHAwB269ySOO2nBkX1t78Yg/fTFBaJXSMIaQBtfKN5wl8ApEegMNNwJ5wlI8yDk578iy0jMIhCAujCsJlecO7gzw5bx4huNJZFheyfHhIU9hdMYGysQM1BHAw0CGQIN6jpClCSFiBM8JPnrK1GuQXs/tEXFtzM0xgggI/w/EH76cIGS4XLFa9V75BpErXRkQr1sC8grC99J7FAts8DXdTU+ghzi4E4aAL8/mohAQy5T1+pSxI4znVbhmUTR4BOwZT5TJLFnQhBNeYQBOSXnvOr+NO+VtehY9zmB4T8zdn0BIlmpHe+cRv/35ZzzCcvHqESuINKr2CbmKCXIY8TPjT/sOelBCEIjMtBzslX05Nc54pX1IyFYvJ5QliNuIsReZcuMYQKOs4897j+d0NIJutPCYuVdxgrB61po+TxC+P0AwPlCWom94L02//uUSI9KQIw44WNsgmQnRGDKYJYx6ngFYAdnSZLnKeZVNpQwZoNPdD7n/8DUGoSRhkUpBz02iM64Ms/yQmfl4hT8beZWSuQm0wa3t4UG3ofXP44b0KktOpWeMiPsUs+QJs70H8YvfvHhEfuRY2eumLT1F8rWAWD1Cup8wNM4Y8QJCAT69i9kZPcIglAaz8bn57PEuS2amdDjjq0FwI7s5BZ0e4DiwxpTv8ghv4pwe+1x7sEXiHj29LvtIo+OadyA6MnXl/iFgvAfx5e/fg1hX9dgxc1UuIHTNumlb0tEBwsF6kSx6xEiNE8hTKsx0OGOFNojOwLgpZDbLORPAKQwfe1+ovHBsYaBhwLaWP56N513yCkjyFRvgmIM75WyeU78tIDTeFxAJzdffWscjAXD/EBu616zpZ398BuGUkgbgqqXhros0KfCm9KwgLBMqf7ickd7A38Y9rD8lAPcy+CJBmtcpL59Xwvgv+z2WaiI2hIG5SiUb7Ftu9vL4vhiq0ohpyAEhKw6aj16VVQgf81xSlJCilAHUNsHLIzwP78/3ubeufYOk6Ts94qd/fg9i7JAJYQ/ZcEYjQ6d3jM1cShB3yALl4Jrj1nTBuKrwN4qBkijLUQZwSRmlJ+VnBZAVkOH+NkQHbi3aG/saQO45xnEeq/ywgBjBlQbM7LgTxB5exmM2/tUERAgcMxjPIU9JQHw/LQi9Q8c9PWECefWIH/11AUH3zzKEYTDT+UANp5bnSlf2Q2+hhru6uuwXVHVNY3tjxvRTgC4Bwps3xwqVPixvXP09QLxAUEFz1Jdi5SvoNuATW50g7nWCeKsBySv4cx7hshKfoWYILoXleCWkLEERzuopQxINQs/ts8QxPOMVxPf//lRr6sr7NxQV67LUzQKeQdDwahfg45JyrsFXWQ7L4KprZB3JckUQ9pSswtoDVqO7ssGPzpggCEvQdECV7KQnGATP10YP4fmRHmQQ7NdNHWFQjgaINDidnb/1Pb0lofBaxxB7hBbG8AbgrQYI1ZuO6ClTT7Wmxw+/XoqxKr5q5i2LL8rVtdteinnXU+T9BEHZIihLl/pMRbWhIwjC9f+PMAQX+1jwe9H/ZSVy9fljB4QtUkvn9MpYenjCW0qUYsTS6A3ynkXKBCEbjxvL8gRB6UroApISxffU+9hjEtoK4rEEaskSW830tbHg56zpQF+Lfrcf/2OCYNX70VHu2Y6OwqeUHUVpaMIYIK4JIj1DgT2DOwO8QXh37Z02wY4KeIKYRc7h9jL8lplQBk8ZnSDKBDFLCQFCKz+DNA3PJhA0+iJPPH4di/+HsOyQE4TBrIvCEubMSonCS8YUiQM3cMyUDrWmyusziP8B+ZXIjRn02Z8AAAAASUVORK5CYII="></image>\n\t</defs>\n\t<style>\n\t\t#CustomColorBtn tspan { white-space:pre }\n\t</style>\n\t<g id="CustomColorBtn_Settings">\n\t\t<g id="CustomColorBtn_CARD">\n\t\t\t<g id="CustomColorBtn_ColorSelect">\n\t\t\t\t<use id="CustomColorBtn_Layer 7" href="#CustomColorBtn_img1" x="0" y="0" />\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</symbol>'});l().add(Dt);const At=Dt;var Mt=new(a())({id:"Eye",use:"Eye-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Eye">\n<path d="M6,2C2.3,2,0,5.2,0,6s2.3,4,6,4s6-3.2,6-4S9.7,2,6,2z M4.4,5c0.3-0.1,0.5,0,0.6,0.3C5.2,5.7,5.6,6,6,6c0.6,0,1-0.4,1-1\n\tc0-0.4-0.3-0.8-0.7-0.9C6.1,4,5.9,3.7,6,3.4C6.1,3.2,6.4,3,6.6,3.1C7.5,3.4,8,4.1,8,5c0,1.1-0.9,2-2,2C5.2,7,4.4,6.5,4.1,5.7\n\tC4,5.4,4.2,5.1,4.4,5z M6,9C2.9,9,1.1,6.4,1,6c0.1-0.3,0.9-1.6,2.4-2.4C3.2,4,3,4.5,3,5c0,1.7,1.3,3,3,3s3-1.3,3-3\n\tc0-0.5-0.2-1-0.4-1.3C10,4.4,10.9,5.6,11,6C10.8,6.5,9.1,9,6,9z" />\n</symbol>'});l().add(Mt);const It=Mt;var Zt=new(a())({id:"EyeClose",use:"EyeClose-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="EyeClose">\n<g>\n\t<path d="M9,5.1L6.1,8C7.7,7.9,8.9,6.7,9,5.1z" />\n    <path d="M10.4,3.7L9.7,4.4C10.5,5.1,10.9,5.7,11,6c-0.2,0.5-1.9,3-5,3C5.7,9,5.4,9,5.2,8.9L4.3,9.8C4.9,9.9,5.4,10,6,10\n\t\tc3.7,0,6-3.2,6-4C12,5.6,11.4,4.6,10.4,3.7z" />\n    <path d="M1.6,8.3l0.7-0.7C1.5,6.9,1,6.2,1,6c0.1-0.3,0.9-1.6,2.4-2.4C3.2,4,3,4.5,3,5c0,0.5,0.2,1,0.4,1.5l0.7-0.7c0,0,0,0,0-0.1\n\t\tC4,5.4,4.2,5.1,4.4,5c0.1,0,0.3,0,0.4,0l1.2-1.2C6,3.7,6,3.6,6,3.4C6.1,3.2,6.4,3,6.6,3.1c0,0,0.1,0,0.1,0l0.9-0.9\n\t\tC7.1,2.1,6.6,2,6,2C2.3,2,0,5.2,0,6C0,6.4,0.6,7.4,1.6,8.3z" />\n    <path d="M11.9,0.1c-0.2-0.2-0.5-0.2-0.7,0l-11,11c-0.2,0.2-0.2,0.5,0,0.7C0.2,12,0.4,12,0.5,12s0.3,0,0.4-0.1l11-11\n\t\tC12,0.7,12,0.3,11.9,0.1z" />\n</g>\n</symbol>'});l().add(Zt);const qt=Zt;var Ft=r(93188),Lt=new(a())({id:"AutoChange",use:"AutoChange-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="AutoChange">\n<style type="text/css">\n\t#AutoChange .st0{fill:#231F20;}\n</style>\n<g>\n\t<path class="st0" d="M0.5,6.5L0.5,6.5C0.8,6.5,1,6.3,1,6c0-2.8,2.2-5,5-5c1.3,0,2.6,0.5,3.5,1.5c0.2,0.2,0.5,0.2,0.7,0\n\t\tc0.2-0.2,0.2-0.5,0-0.7C9.1,0.6,7.6,0,6,0C2.7,0,0,2.7,0,6C0,6.3,0.2,6.5,0.5,6.5z" />\n\t<path class="st0" d="M11.5,5.5C11.2,5.5,11,5.7,11,6c0,2.8-2.2,5-5,5c-1.3,0-2.6-0.5-3.5-1.5C2.3,9.3,2,9.3,1.8,9.5\n\t\tc-0.2,0.2-0.2,0.5,0,0.7C2.9,11.4,4.4,12,6,12c3.3,0,6-2.7,6-6C12,5.7,11.8,5.5,11.5,5.5z" />\n\t<path class="st0" d="M8,3.5C8,3.8,8.2,4,8.5,4h3C11.8,4,12,3.8,12,3.5v-3C12,0.2,11.8,0,11.5,0S11,0.2,11,0.5V3H8.5\n\t\tC8.2,3,8,3.2,8,3.5z" />\n\t<path class="st0" d="M4,8.5C4,8.2,3.8,8,3.5,8h-3C0.2,8,0,8.2,0,8.5v3C0,11.8,0.2,12,0.5,12S1,11.8,1,11.5V9h2.5C3.8,9,4,8.8,4,8.5\n\t\tz" />\n</g>\n</symbol>'});l().add(Lt);const Ht=Lt;var _t=r(17094),Bt=new(a())({id:"Error_Icon",use:"Error_Icon-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Error_Icon">\n<style type="text/css">\n\t#Error_Icon .st0{fill:#FF0000;}\n</style>\n<path class="st0" d="M8,0L0,16h16L8,0z M8,15c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1s1,0.4,1,1C9,14.6,8.6,15,8,15z M8,12\n\tc-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1s1,0.4,1,1v6C9,11.6,8.6,12,8,12z" />\n</symbol>'});l().add(Bt);const Gt=Bt;var Wt=new(a())({id:"Sort_Down",use:"Sort_Down-usage",viewBox:"0 0 13 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 13 13" id="Sort_Down">\n<path d="M8.9,7.1C8.7,7,8.3,7,8.1,7.1L6,9.3V1.5C6,1.2,5.8,1,5.5,1S5,1.2,5,1.5v7.8L2.9,7.1C2.7,7,2.3,7,2.1,7.1S2,7.7,2.1,7.9l3,3\n\tC5.2,11,5.4,11,5.5,11s0.3,0,0.4-0.1l3-3C9,7.7,9,7.3,8.9,7.1z" />\n</symbol>'});l().add(Wt);const Ut=Wt;var Vt=new(a())({id:"Sort_Up",use:"Sort_Up-usage",viewBox:"0 0 13 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 13 13" id="Sort_Up">\n<path d="M8.9,4.1l-3-3C5.7,1,5.3,1,5.1,1.1l-3,3C2,4.3,2,4.7,2.1,4.9s0.5,0.2,0.7,0L5,2.7v7.8C5,10.8,5.2,11,5.5,11S6,10.8,6,10.5\n\tV2.7l2.1,2.1C8.2,5,8.4,5,8.5,5s0.3,0,0.4-0.1C9,4.7,9,4.3,8.9,4.1z" />\n</symbol>'});l().add(Vt);const zt=Vt;var Yt=new(a())({id:"Sort",use:"Sort-usage",viewBox:"0 0 13 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 13 13" id="Sort">\n<path d="M7.6,7.6L6,9.3V2.7l1.6,1.6C7.7,4.5,7.9,4.5,8,4.5s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L5.9,1.1C5.7,1,5.3,1,5.1,1.1\n\tL2.6,3.6c-0.2,0.2-0.2,0.5,0,0.7s0.5,0.2,0.7,0L5,2.7v6.6L3.4,7.6c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7l2.5,2.5\n\tC5.2,11,5.4,11,5.5,11s0.3,0,0.4-0.1l2.5-2.5c0.2-0.2,0.2-0.5,0-0.7S7.8,7.5,7.6,7.6z" />\n</symbol>'});l().add(Yt);const Qt=Yt;var Kt=new(a())({id:"Right",use:"Right-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Right">\n<path d="M12,5.7C12,5.6,12,5.4,12,5.3c0-0.1-0.1-0.1-0.1-0.2l-4-4C7.7,1,7.3,1,7.1,1.1S7,1.7,7.1,1.9L10.3,5H1\n\tC0.7,5,0.5,5.2,0.5,5.5S0.7,6,1,6h9.3L7.1,9.1C7,9.3,7,9.7,7.1,9.9C7.2,10,7.4,10,7.5,10s0.3,0,0.4-0.1l4-4\n\tC11.9,5.8,11.9,5.8,12,5.7z" />\n</symbol>'});l().add(Kt);const Xt=Kt;var Jt=new(a())({id:"Left",use:"Left-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Left">\n<path d="M11,5H1.7l3.1-3.1C5,1.7,5,1.3,4.9,1.1S4.3,1,4.1,1.1l-4,4C0,5.3,0,5.7,0.1,5.9l4,4C4.2,10,4.4,10,4.5,10s0.3,0,0.4-0.1\n\tC5,9.7,5,9.3,4.9,9.1L1.7,6H11c0.3,0,0.5-0.2,0.5-0.5S11.3,5,11,5z" />\n</symbol>'});l().add(Jt);const $t=Jt;var er=r(23859),tr=r(96370),rr=(r(84650),new(a())({id:"Done",use:"Done-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Done">\n<g>\n\t<path d="M3.9,5.2C3.7,5,3.4,4.9,3.2,5.1C3,5.3,2.9,5.6,3.1,5.8l2.5,3C5.7,8.9,5.9,9,6,9c0,0,0,0,0,0c0.2,0,0.3-0.1,0.4-0.2l4.5-7\n\t\tc0.1-0.2,0.1-0.5-0.2-0.7c-0.2-0.2-0.5-0.1-0.7,0.1L5.9,7.7L3.9,5.2z" />\n\t<path d="M11.8,4.5c-0.1-0.3-0.3-0.4-0.6-0.4c-0.3,0.1-0.4,0.3-0.4,0.6C10.9,5.2,11,5.6,11,6c0,2.8-2.2,5-5,5S1,8.8,1,6s2.2-5,5-5\n\t\tc0.6,0,1.2,0.1,1.7,0.3C8,1.4,8.3,1.3,8.4,1c0.1-0.3,0-0.5-0.3-0.6C7.4,0.1,6.7,0,6,0C2.7,0,0,2.7,0,6s2.7,6,6,6s6-2.7,6-6\n\t\tC12,5.5,11.9,5,11.8,4.5z" />\n</g>\n</symbol>'}));l().add(rr);const ir=rr;var sr=new(a())({id:"ThermometerLong",use:"ThermometerLong-usage",viewBox:"0 0 9 47",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 47" id="ThermometerLong">\n<style type="text/css">\n\t#ThermometerLong .st1{fill:#FFFFFF;}\n</style>\n<g>\n\t<path class="st0" d="M4.5,46c-2,0-3.5-1.5-3.5-3.5c0-1.3,0.8-2.6,2-3.1V1h3v38.4c1.2,0.6,2,1.8,2,3.1C8,44.5,6.5,46,4.5,46z" />\n\t<path class="st1" d="M5,2v38.1c1.1,0.2,2,1.2,2,2.4C7,43.9,5.9,45,4.5,45S2,43.9,2,42.5c0-1.2,0.9-2.2,2-2.4V2H5 M7,0H5H4H2v2v36.8\n\t\tc-1.2,0.8-2,2.2-2,3.7C0,45,2,47,4.5,47S9,45,9,42.5c0-1.5-0.8-2.9-2-3.7V2V0L7,0z" />\n</g>\n</symbol>'});l().add(sr);const nr=sr;var ar=new(a())({id:"Queue",use:"Queue-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Queue">\n<style type="text/css">\n\t#Queue .st0{fill:#231F20;}\n</style>\n<g>\n\t<circle class="st0" cx="1" cy="2" r="1" />\n\t<circle class="st0" cx="4" cy="2" r="1" />\n\t<circle class="st0" cx="7" cy="2" r="1" />\n\t<path class="st0" d="M11.5,5h-5C6.2,5,6,5.2,6,5.5S6.2,6,6.5,6h5C11.8,6,12,5.8,12,5.5S11.8,5,11.5,5z" />\n</g>\n</symbol>'});l().add(ar);const or=ar;var lr=new(a())({id:"Upload",use:"Upload-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="Upload">\n<g>\n\t<path d="M14,11c-0.6,0-1,0.4-1,1v2H2v-2c0-0.6-0.4-1-1-1s-1,0.4-1,1v3c0,0.6,0.4,1,1,1h13c0.6,0,1-0.4,1-1v-3\n\t\tC15,11.4,14.6,11,14,11z" />\n    <path d="M4.9,4.9L7,2.7v8.8C7,11.8,7.2,12,7.5,12S8,11.8,8,11.5V2.7l2.1,2.1C10.2,5,10.4,5,10.5,5s0.3,0,0.4-0.1\n\t\tc0.2-0.2,0.2-0.5,0-0.7l-3-3c0,0-0.1-0.1-0.2-0.1C7.6,1,7.4,1,7.3,1c-0.1,0-0.1,0.1-0.2,0.1l-3,3C4,4.3,4,4.7,4.1,4.9\n\t\tS4.7,5,4.9,4.9z" />\n</g>\n</symbol>'});l().add(lr);const cr=lr;var dr=new(a())({id:"BanOverWork",use:"BanOverWork-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 9" id="BanOverWork">\n<g>\n\t<path d="M4.5,0C2,0,0,2,0,4.5S2,9,4.5,9S9,7,9,4.5S7,0,4.5,0z M4.5,8C2.6,8,1,6.4,1,4.5C1,2.6,2.6,1,4.5,1S8,2.6,8,4.5\n\t\tC8,6.4,6.4,8,4.5,8z" />\n\t<rect x="3" y="4" width="3" height="1" />\n</g>\n</symbol>'});l().add(dr);const ur=dr;var pr=new(a())({id:"PassSmall",use:"PassSmall-usage",viewBox:"0 0 12 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 9" id="PassSmall">\r\n<path d="M12,5.7C12,5.6,12,5.4,12,5.3c0-0.1-0.1-0.1-0.1-0.2l-3-3C8.7,2,8.3,2,8.1,2.1S8,2.7,8.1,2.9L10.3,5H2.5C1.7,5,1,4.3,1,3.5\r\n\tv-3C1,0.2,0.8,0,0.5,0S0,0.2,0,0.5v3C0,4.9,1.1,6,2.5,6h7.8L8.1,8.1C8,8.3,8,8.7,8.1,8.9C8.2,9,8.4,9,8.5,9s0.3,0,0.4-0.1l3-3\r\n\tC11.9,5.8,11.9,5.8,12,5.7z" />\r\n</symbol>'});l().add(pr);const hr=pr;var fr=new(a())({id:"ErrorIconWithoutFill",use:"ErrorIconWithoutFill-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="ErrorIconWithoutFill">\n<path d="M8.02878 1.04012C8.21338 1.04012 8.39798 1.13619 8.49355 1.32815L14.9054 14.2078C15.0775 14.5535 14.8265 14.9599 14.4406 14.9599H1.55941C1.17286 14.9599 0.921821 14.552 1.09549 14.2061L7.56485 1.32648C7.66078 1.13552 7.84478 1.04012 8.02878 1.04012ZM8.02878 0C7.43636 0 6.90302 0.3292 6.63687 0.859144L0.16762 13.7389C-0.077122 14.2261 -0.0526427 14.7942 0.233114 15.2585C0.518987 15.7228 1.01477 16 1.55941 16H14.4406C14.9842 16 15.4794 15.7236 15.7654 15.2609C16.0515 14.798 16.0774 14.2309 15.835 13.7438L9.42308 0.864103C9.15776 0.331147 8.62347 0 8.02878 0ZM8.03102 10.7995C7.45749 10.7995 6.99237 10.3343 6.99237 9.75942V5.59906C6.99237 5.02466 7.45749 4.559 8.03102 4.559C8.60466 4.559 9.06966 5.02466 9.06966 5.59906V9.75942C9.06966 10.3343 8.60466 10.7995 8.03102 10.7995ZM8.03102 13.9198C8.60466 13.9198 9.06966 13.4541 9.06966 12.8796C9.06966 12.3052 8.60466 11.8396 8.03102 11.8396C7.45738 11.8396 6.99237 12.3052 6.99237 12.8796C6.99237 13.4541 7.45738 13.9198 8.03102 13.9198Z" />\n</symbol>'});l().add(fr);const mr=fr;var vr=new(a())({id:"ErrorIconWithFill",use:"ErrorIconWithFill-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="ErrorIconWithFill">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.28362 1.27531L1.05507 13.6585C0.887864 13.9911 1.12956 14.3833 1.50172 14.3833H13.9035C14.2749 14.3833 14.5166 13.9926 14.3509 13.6602L8.17775 1.27692C7.99407 0.908381 7.46856 0.907471 7.28362 1.27531Z" fill="#77828C" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.72992 1.00003C7.90765 1.00003 8.08538 1.0924 8.1774 1.27696L14.3506 13.6602C14.5163 13.9926 14.2746 14.3833 13.9031 14.3833H1.50136C1.1292 14.3833 0.887509 13.9912 1.05471 13.6586L7.28327 1.27536C7.37562 1.09176 7.55277 1.00003 7.72992 1.00003ZM7.72992 0C7.15956 0 6.64607 0.316512 6.38983 0.826032L0.161381 13.2093C-0.0742513 13.6778 -0.0506832 14.224 0.224437 14.6704C0.499669 15.1168 0.976997 15.3833 1.50136 15.3833H13.9031C14.4264 15.3833 14.9032 15.1176 15.1785 14.6727C15.454 14.2277 15.4789 13.6824 15.2456 13.2141L9.07232 0.8308C8.81688 0.318384 8.30248 0 7.72992 0ZM7.73188 10.3833C7.1797 10.3833 6.73189 9.93603 6.73189 9.38333V5.38331C6.73189 4.83106 7.1797 4.38334 7.73188 4.38334C8.28416 4.38334 8.73186 4.83106 8.73186 5.38331V9.38333C8.73186 9.93603 8.28416 10.3833 7.73188 10.3833ZM7.73188 13.3833C8.28416 13.3833 8.73186 12.9356 8.73186 12.3833C8.73186 11.831 8.28416 11.3833 7.73188 11.3833C7.17959 11.3833 6.73189 11.831 6.73189 12.3833C6.73189 12.9356 7.17959 13.3833 7.73188 13.3833Z" fill="white" />\n</symbol>'});l().add(vr);const yr=vr;var gr=r(59553),br=new(a())({id:"StarIcon",use:"StarIcon-usage",viewBox:"0 0 9 8",content:'<symbol viewBox="0 0 9 8" fill="none" xmlns="http://www.w3.org/2000/svg" id="StarIcon">\n<path d="M4.01012 3.12574L4.5 1.61803L4.98988 3.12574C5.08359 3.41415 5.35236 3.60942 5.65562 3.60942H7.24091L5.95839 4.54123C5.71304 4.71948 5.61038 5.03544 5.7041 5.32386L6.19398 6.83156L4.91145 5.89975C4.66611 5.7215 4.33389 5.7215 4.08855 5.89975L2.80602 6.83156L3.2959 5.32386C3.38962 5.03544 3.28696 4.71948 3.04161 4.54123L1.75909 3.60942H3.34438C3.64764 3.60942 3.91641 3.41415 4.01012 3.12574Z" stroke="#2D3E50" />\n</symbol>'});l().add(br);const jr=br;var xr=new(a())({id:"StarIconFill",use:"StarIconFill-usage",viewBox:"0 0 9 8",content:'<symbol viewBox="0 0 9 8" xmlns="http://www.w3.org/2000/svg" id="StarIconFill">\n<path d="M4.30979 0.585411C4.36966 0.401148 4.63034 0.401148 4.69021 0.58541L5.46541 2.97123C5.49219 3.05363 5.56898 3.10942 5.65562 3.10942H8.16422C8.35796 3.10942 8.43852 3.35735 8.28177 3.47123L6.25228 4.94574C6.18218 4.99667 6.15285 5.08694 6.17962 5.16935L6.95482 7.55517C7.01469 7.73943 6.8038 7.89265 6.64705 7.77877L4.61756 6.30426C4.54746 6.25333 4.45254 6.25333 4.38244 6.30426L2.35295 7.77877C2.1962 7.89265 1.98531 7.73943 2.04518 7.55517L2.82038 5.16935C2.84715 5.08694 2.81782 4.99667 2.74772 4.94574L0.718226 3.47123C0.561483 3.35735 0.642038 3.10942 0.835783 3.10942H3.34438C3.43102 3.10942 3.50781 3.05363 3.53459 2.97123L4.30979 0.585411Z" />\n</symbol>'});l().add(xr);const Sr=xr;var Or=new(a())({id:"Shape",use:"Shape-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" id="Shape">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.9999 -7e-05H-0.000196L13.9999 13.9999V-7e-05Z" fill="#77828C" />\n</symbol>'});l().add(Or);const Pr=Or;var wr=new(a())({id:"Star",use:"Star-usage",viewBox:"0 0 16 15",content:'<symbol viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg" id="Star">\n<path d="M7.80979 0.585409C7.86966 0.401147 8.13034 0.401148 8.19021 0.58541L9.75121 5.38967C9.77798 5.47207 9.85478 5.52786 9.94142 5.52786H14.9929C15.1867 5.52786 15.2672 5.77579 15.1105 5.88967L11.0237 8.85886C10.9536 8.90979 10.9243 9.00006 10.9511 9.08247L12.5121 13.8867C12.5719 14.071 12.361 14.2242 12.2043 14.1103L8.11756 11.1411C8.04746 11.0902 7.95254 11.0902 7.88244 11.1411L3.7957 14.1103C3.63895 14.2242 3.42806 14.071 3.48793 13.8867L5.04893 9.08247C5.0757 9.00006 5.04637 8.90979 4.97627 8.85886L0.889527 5.88967C0.732784 5.77579 0.81334 5.52786 1.00708 5.52786H6.05858C6.14523 5.52786 6.22202 5.47207 6.24879 5.38967L7.80979 0.585409Z" fill="#77828C" />\n</symbol>'});l().add(wr);const Cr=wr;var kr=new(a())({id:"Ban",use:"Ban-usage",viewBox:"0 0 13 13",content:'<symbol viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg" id="Ban">\n    <g>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 11.375C9.19239 11.375 11.375 9.19239 11.375 6.5C11.375 3.80761 9.19239 1.625 6.5 1.625C3.80761 1.625 1.625 3.80761 1.625 6.5C1.625 9.19239 3.80761 11.375 6.5 11.375ZM6.5 13C10.0899 13 13 10.0899 13 6.5C13 2.91015 10.0899 0 6.5 0C2.91015 0 0 2.91015 0 6.5C0 10.0899 2.91015 13 6.5 13Z" />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.137 3.01204L3.01199 11.137L1.86294 9.98799L9.98794 1.86299L11.137 3.01204Z" />\n</g>\n</symbol>'});l().add(kr);const Tr=kr;r(59565);var Nr=new(a())({id:"CopyIcon",use:"CopyIcon-usage",viewBox:"0 0 10 12",content:'<symbol viewBox="0 0 10 12" xmlns="http://www.w3.org/2000/svg" id="CopyIcon">\n<path d="M6.53846 2.25H1.15385C0.538461 2.25 0 2.775 0 3.375V10.875C0 11.475 0.538461 12 1.15385 12H6.53846C7.15385 12 7.69231 11.475 7.69231 10.875V3.375C7.69231 2.775 7.15385 2.25 6.53846 2.25ZM6.92308 10.875C6.92308 11.1 6.76923 11.25 6.53846 11.25H1.15385C0.923077 11.25 0.769231 11.1 0.769231 10.875V3.375C0.769231 3.15 0.923077 3 1.15385 3H6.53846C6.76923 3 6.92308 3.15 6.92308 3.375V10.875Z" />\n<path d="M8.84615 0H3.46154C2.84615 0 2.30769 0.525 2.30769 1.125V1.5H3.07692V1.125C3.07692 0.9 3.23077 0.75 3.46154 0.75H8.84615C9.07692 0.75 9.23077 0.9 9.23077 1.125V8.625C9.23077 8.85 9.07692 9 8.84615 9H8.46154V9.75H8.84615C9.46154 9.75 10 9.225 10 8.625V1.125C10 0.525 9.46154 0 8.84615 0Z" />\n</symbol>'});l().add(Nr);const Rr=Nr;var Er=new(a())({id:"PasteIconInContextMenu",use:"PasteIconInContextMenu-usage",viewBox:"0 0 10 12",content:'<symbol viewBox="0 0 10 12" xmlns="http://www.w3.org/2000/svg" id="PasteIconInContextMenu">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1 1V11H2.5C2.77614 11 3 11.2239 3 11.5C3 11.7761 2.77614 12 2.5 12H0.6C0.268629 12 0 11.7314 0 11.4V0.600001C0 0.268633 0.268626 0 0.6 0H9.4C9.73137 0 10 0.268627 10 0.6V11.4C10 11.7314 9.73137 12 9.4 12H7.5C7.22386 12 7 11.7761 7 11.5C7 11.2239 7.22386 11 7.5 11H9V1H1ZM5 3.5C5.27614 3.5 5.5 3.72386 5.5 4V10L6.1 9.2C6.26569 8.97909 6.57909 8.93431 6.8 9.1C7.02091 9.26569 7.06569 9.57909 6.9 9.8L5.48 11.6933C5.24 12.0133 4.76 12.0133 4.52 11.6933L3.1 9.8C2.93431 9.57909 2.97909 9.26569 3.2 9.1C3.42091 8.93431 3.73431 8.97909 3.9 9.2L4.5 10V4C4.5 3.72386 4.72386 3.5 5 3.5Z" />\n</symbol>'});l().add(Er);const Dr=Er;var Ar=new(a())({id:"CurvedArrow",use:"CurvedArrow-usage",viewBox:"0 0 12 10",content:'<symbol viewBox="0 0 12 10" xmlns="http://www.w3.org/2000/svg" id="CurvedArrow">\n<path d="M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5H1ZM11.3536 5.85355C11.5488 5.65829 11.5488 5.34171 11.3536 5.14645L8.17157 1.96447C7.97631 1.7692 7.65973 1.7692 7.46447 1.96447C7.2692 2.15973 7.2692 2.47631 7.46447 2.67157L10.2929 5.5L7.46447 8.32843C7.2692 8.52369 7.2692 8.84027 7.46447 9.03553C7.65973 9.2308 7.97631 9.2308 8.17157 9.03553L11.3536 5.85355ZM0 0.5V3.5H1V0.5H0ZM2.5 6H11V5H2.5V6ZM0 3.5C0 4.88071 1.11929 6 2.5 6V5C1.67157 5 1 4.32843 1 3.5H0Z" />\n</symbol>'});l().add(Ar);const Mr=Ar;var Ir=new(a())({id:"QuestionMark",use:"QuestionMark-usage",viewBox:"0 0 12 13",content:'<symbol viewBox="0 0 12 13" xmlns="http://www.w3.org/2000/svg" id="QuestionMark">\n<path d="M7.79067 6.06234L7.26567 6.599C6.84567 7.019 6.58317 7.37484 6.58317 8.24984H5.4165V7.95817C5.4165 7.31067 5.679 6.72734 6.099 6.30734L6.82234 5.57234C7.03817 5.36234 7.1665 5.07067 7.1665 4.74984C7.1665 4.44042 7.04359 4.14367 6.8248 3.92488C6.606 3.70609 6.30926 3.58317 5.99984 3.58317C5.69042 3.58317 5.39367 3.70609 5.17488 3.92488C4.95609 4.14367 4.83317 4.44042 4.83317 4.74984H3.6665C3.6665 4.131 3.91234 3.53751 4.34992 3.09992C4.78751 2.66234 5.381 2.4165 5.99984 2.4165C6.61868 2.4165 7.21217 2.66234 7.64975 3.09992C8.08734 3.53751 8.33317 4.131 8.33317 4.74984C8.33233 5.24173 8.13737 5.7134 7.79067 6.06234ZM6.58317 10.5832H5.4165V9.4165H6.58317M5.99984 0.666504C5.23379 0.666504 4.47525 0.817388 3.76752 1.11054C3.05978 1.40369 2.41672 1.83337 1.87505 2.37505C0.781085 3.46901 0.166504 4.95274 0.166504 6.49984C0.166504 8.04693 0.781085 9.53067 1.87505 10.6246C2.41672 11.1663 3.05978 11.596 3.76752 11.8891C4.47525 12.1823 5.23379 12.3332 5.99984 12.3332C7.54693 12.3332 9.03067 11.7186 10.1246 10.6246C11.2186 9.53067 11.8332 8.04693 11.8332 6.49984C11.8332 3.274 9.20817 0.666504 5.99984 0.666504Z" />\n</symbol>'});l().add(Ir);const Zr=Ir;var qr=r(85893),Fr=["glyph","className","classCustom","hidden"];function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){_r(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Br=p.id,Gr=ur.id,Wr=wt.id,Ur=(Ht.id,tr.Z.id),Vr=er.Z.id,zr=ir.id,Yr=$t.id,Qr=Xt.id,Kr=Qt.id,Xr=Ut.id,Jr=zt.id,$r=_t.Z.id,ei=nr.id,ti=Ft.Z.id,ri=d.id,ii=g.id,si=b.Z.id,ni=x,ai=O.id,oi=w.id,li=k.id,ci=N.id,di=E.id,ui=A.id,pi=I.id,hi=q.id,fi=or.id,mi=(U.id,z.id),vi=Q.id,yi=X.id,gi=$.id,bi=te.id,ji=ne.id,xi=(oe.id,ce.id),Si=ue.id,Oi=he.id,Pi=me.id,wi=ye.id,Ci=L.id,ki=_.id,Ti=G.id,Ni=ge.Z.id,Ri=ie.id,Ei=Se.id,Di=Pe.id,Ai=je.id,Mi=Ce.id,Ii=Te.id,Zi=Re.id,qi=De.id,Fi=(Me.id,Ze.id),Li=He.id,Hi=Fe.id,_i=We.id,Bi=Ve.id,Gi=Qe.Z.id,Wi=Ye.id,Ui=Xe.id,Vi=($e.id,tt.id),zi=it.id,Yi=nt.id,Qi=ot.id,Ki=ct.id,Xi=ut.id,Ji=ht.id,$i=mt.id,es=yt.id,ts=d.id,rs=v.id,is=f.id,ss=xt.id,ns=Ot.id,as=bt.id,os=kt.id,ls=Nt.id,cs=Et.id,ds=Be.id,us=At.id,ps=It.id,hs=qt.id,fs=Gt.id,ms=mr.id,vs=yr.id,ys=cr.id,gs=hr.id,bs=gr.Z.id,js=jr.id,xs=Sr.id,Ss=Pr.id,Os=Cr.id,Ps=Tr.id,ws=Rr.id,Cs=Dr.id,ks=Mr.id,Ts=Zr.id,Ns=e=>{var{glyph:t,className:r,classCustom:i="",hidden:s}=e,n=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Fr);return s?null:(0,qr.jsx)("svg",Hr(Hr({className:"".concat(r," ").concat(i)},n),{},{children:(0,qr.jsx)("use",{xlinkHref:"#".concat(t)})}))};Ns.defaultProps={hidden:!1,className:"svg-icon",classCustom:""},Ns.propTypes={glyph:s().string.isRequired,className:s().string,hidden:s().bool,classCustom:s().string};const Rs=Ns},53514:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(30053),l=r(43637),c=r(40767),d=r(85893),u=e=>{var{hint:t,disabled:r,glyph:i,active:s,classContainer:n,classIcon:o,textAfter:u,hidden:p,onClick:h}=e;if(p)return null;var f=a()("p-icon",n);return(0,d.jsxs)(c.Z,{className:f,onClick:h,hint:t,active:s,disabled:r,children:[(0,d.jsx)(l.ZP,{glyph:i,classCustom:o}),u]})};u.defaultProps={active:!1,disabled:!1,textAfter:"",hidden:!1,classContainer:"",classIcon:"",hint:"",onClick:o.wA},u.propTypes={active:s().bool,disabled:s().bool,hidden:s().bool,glyph:s().string.isRequired,classContainer:s().string,textAfter:s().oneOfType([s().node]),classIcon:s().string,onClick:s().func,hint:s().string};const p=u},11866:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(67294),s=r(45697),n=r.n(s),a=r(43637),o=r(40767);var l=r(85893);function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends i.Component{constructor(){super(...arguments),c(this,"handleIncrement",(()=>{var{value:e,onChange:t}=this.props;t(e+1)})),c(this,"handleDecrement",(()=>{var{value:e,onChange:t}=this.props;t(e-1)}))}render(){var{value:e}=this.props,t=1===e,r=20===e;return(0,l.jsxs)("div",{className:"W1RsjXjnacTCggt31vteew==",children:[(0,l.jsx)("div",{className:"ylg6MOS51l-SeobR9z01fA==",children:(0,l.jsx)(o.Z,{onClick:this.handleDecrement,disabled:t,children:(0,l.jsx)(a.ZP,{glyph:a.YL})})}),(0,l.jsx)("input",{className:"jx-gNWKlkwzjGtTokLFTdw==",type:"number",value:e,readOnly:!0}),(0,l.jsx)("div",{className:"agP6qs3-Mj-H8FH8yKZ8Cw==",children:(0,l.jsx)(o.Z,{onClick:this.handleIncrement,disabled:r,children:(0,l.jsx)(a.ZP,{glyph:a.tY})})})]})}}d.defaultProps={value:1},d.propTypes={value:n().number,onChange:n().func.isRequired};const u=d},85732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var i=r(67294),s=r(45697),n=r.n(s),a=r(30053),o=r(87854),l=r.n(o),c=r(95348),d=r.n(c),u=new(l())({id:"UpSmall",use:"UpSmall-usage",viewBox:"0 0 9 5",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 5" id="UpSmall">\n<path d="M8.9,4.1l-4-4C4.7,0,4.3,0,4.1,0.1l-4,4C0,4.3,0,4.7,0.1,4.9s0.5,0.2,0.7,0l3.6-3.6l3.6,3.6C8.2,5,8.4,5,8.5,5\n\ts0.3,0,0.4-0.1C9,4.7,9,4.3,8.9,4.1z" />\n</symbol>'});d().add(u);const p=u;var h=r(93188),f=r(40767),m=r(43637);var v=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends i.Component{constructor(){super(...arguments),b(this,"inputRef",(0,i.createRef)()),b(this,"componentRoot",(0,i.createRef)()),b(this,"focus",(()=>{var e;null===(e=this.inputRef.current)||void 0===e||e.focus()}))}render(){var e={width:"9px"},t=g(g({},{width:"26px"}),this.props.style),{maxValue:r,minValue:i,meta:s,value:n,onChange:a,hideArrows:o,autoFocus:l,onKeyPress:c,disabled:d,disabledUpArrow:u,disabledDownArrow:y}=this.props,{error:b}=s,j=n===i||0===n||""===n||y;return(0,v.jsxs)("div",{className:"_81DmsDs54kA31ruqrwYp6Q==",ref:this.componentRoot,style:{width:t.width},children:[(0,v.jsx)("input",{type:"text",value:n,className:b&&"error",style:t,autoFocus:l,onChange:e=>{var t=Number(e.target.value.replace(/\D/,""));t>r?t=r:t<i&&(t=i),a(t)},onKeyPress:c,ref:this.inputRef,onFocus:()=>{var e;null===(e=this.inputRef.current)||void 0===e||e.select()},disabled:d}),!o&&(0,v.jsxs)("div",{className:"PK5bHuGKo2TC8k5ViRg2AQ==",children:[(0,v.jsx)(f.Z,{onClick:()=>a(Number(n)+1),disabled:u,children:(0,v.jsx)(m.ZP,{glyph:p.id,style:e})}),(0,v.jsx)(f.Z,{onClick:()=>{this.props.disabled||a(Number(n)-1)},disabled:j,children:(0,v.jsx)(m.ZP,{glyph:h.Z.id,style:e})})]})]})}}j.defaultProps={maxValue:1e3,minValue:0,meta:{},value:0,onChange:a.wA,style:{},hideArrows:!1,disabled:!1,autoFocus:!1,onKeyPress:null,disabledUpArrow:!1,disabledDownArrow:!1},j.propTypes={value:n().number,onChange:n().func,style:n().object,maxValue:n().number,minValue:n().number,meta:n().object,hideArrows:n().bool,autoFocus:n().bool,disabled:n().bool,onKeyPress:n().func,disabledUpArrow:n().bool,disabledDownArrow:n().bool};const x=j},24459:(e,t,r)=>{"use strict";r.d(t,{R:()=>i.Z});var i=r(85732)},68574:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r(85893),n=["hintText","value","onChange","className","disabled","label","labelClassName"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=e=>{var{hintText:t,value:r,onChange:i,className:a,disabled:l,label:c,labelClassName:d}=e,u=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,n);return(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)("label",{className:d,children:c}),(0,s.jsx)("input",o(o({type:"number"},u),{},{placeholder:t,value:r,onChange:i,className:a,disabled:l}))]})};c.defaultProps={className:"",disabled:!1,label:null,labelClassName:""},c.propTypes={value:i.string.isRequired,onChange:i.func.isRequired,hintText:i.string.isRequired,className:i.string,disabled:i.bool,label:i.string,labelClassName:i.string};const d=c},3107:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(45697),s=r.n(i),n=r(67294),a=r(35667),o=e=>{var[t,r]=e.split(":");if(!/^\d{0,2}?:?\d{0,2}$/.test(e))return!1;var i,s,n=Number(t),a=Number(r);if(s=n,!(Number.isInteger(s)&&s>=0&&s<24&&(i=a,Number.isInteger(i)&&n>=0&&n<24||Number.isNaN(i))))return!1;if(a<10&&Number(r[0])>5)return!1;var o=-1!==e.indexOf(":")?e.split(":"):[e];return!(o[0]&&o[0].length&&(parseInt(o[0],10)<0||parseInt(o[0],10)>23)||o[1]&&o[1].length&&(parseInt(o[1],10)<0||parseInt(o[1],10)>59))},l=(e,t)=>{var r=String(Math.round(Number(e)/t)*t);return 1===r.length?"0".concat(r):r};var c=r(85893),d=e=>{var{value:t,onChange:r,disabled:i,step:s,className:n,isBlockCorrectTimeBlur:d}=e,u=e=>"1"===e[0]&&1===e.length||"2"===e[0]&&1===e.length?r("0".concat(e,":00")):(0,a.xb)(e)||1===e.length?r("00:00"):void(o(e)&&(e=((e,t)=>{var r;return 3===e.length&&(/:/.test(e)||(2,e=(r=e).substring(0,2)+":"+r.substring(2)),e=e.split(":").map(((e,r)=>{if((0,a.xb)(e))return"00";if(1===e.length){var i="0"+e;return 1===r&&t>1?l(i,t):i}return e})).join(":")),e})(e,s),e=((e,t)=>(4===e.length&&(e=e.split(":").map(((e,r)=>{var i=e.length<2?"0".concat(e):e;return 1===r&&t>1?l(i,t):i})).join(":")),e))(e,s),r(e)));return(0,c.jsx)("div",{className:"QTvOUO7sH8lA20tF8BfPJg==",children:(0,c.jsx)("input",{type:"text",onChange:e=>{var i,n;(i=e.target.value)!==t&&o(i)&&(n=((e,t)=>2===e.length&&3!==t.length&&-1===e.indexOf(":")?e+":":e)(n=(e=>(1===e.length&&"0"!==e&&"1"!==e[0]&&"2"!==e[0]&&(e="0"+e),e))(i),t),n=((e,t)=>(2===e.length&&3===t.length&&(e=e.slice(0,1)),e))(n,t),n=((e,t,r)=>(5===e.length&&4===t.length&&r>1&&(e=e.split(":").map(((e,t)=>{if(1===t){var i=l(e,r);return"60"===i?"00":i}return e})).join(":")),e))(n,t,s),r(n))},onBlur:e=>{var t=e.target.value;d?t.length<5&&u(t):u(t)},onFocus:e=>e.target.select(),value:t,disabled:i,className:n})})};d.defaultProps={disabled:!1,step:1,className:null,value:"00:00",isBlockCorrectTimeBlur:!1},d.propTypes={value:s().string,onChange:s().func.isRequired,disabled:s().bool,step:s().number,className:s().string,isBlockCorrectTimeBlur:s().bool};const u=(0,n.memo)(d)},81977:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var i=r(45697),s=r.n(i),n=r(52663),a=r(66083),o=r(29525),l=r(7212),c=r(66856),d=r(282),u=r(44012),p=r(67294),h=r(28216),f=r(30053),m=r(12718),v=r(85893),y=e=>e===m.ck.VIOLATION?(0,v.jsx)(u.Z,{id:"License.availableLicensesRunningOut",defaultMessage:[{type:0,value:"У вас заканчиваются доступные лицензии"}]}):e===m.ck.WARNING?(0,v.jsx)(u.Z,{id:"License.licensesUsageLimit",defaultMessage:[{type:0,value:"Достигнут лимит использования лицензий, обратитесь в поддержку системы"}]}):void 0,g=r(95766),b=e=>{var{onClose:t}=e,r=(0,h.v9)(g.a),[i,s]=(0,p.useState)(!0);return(0,v.jsxs)(n.Z,{open:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,v.jsx)(a.Z,{id:"alert-dialog-title",children:(0,v.jsx)(u.Z,{id:"License.infoAboutLicense",defaultMessage:[{type:0,value:"Информация о лицензии"}]})}),(0,v.jsx)(o.Z,{children:(0,v.jsx)(l.Z,{id:"alert-dialog-description",children:y(r)})}),(0,v.jsx)(c.Z,{children:(0,v.jsx)(d.Z,{onClick:()=>{s(!1),t()},children:(0,v.jsx)(u.Z,{id:"License.ok",defaultMessage:[{type:0,value:"Ok"}]})})})]})};b.defaultProps={onClose:f.wA},b.propTypes={onClose:s().func};const j=b},85129:(e,t,r)=>{"use strict";function i(e,t){return{id:e,value:t}}r.d(t,{e:()=>i,m:()=>s});var s=e=>{var t={};return e.forEach((e=>{var{actualHours:r,differenceActualMinutes:i,overWork:s}=e,{userId:n,normHours:a}=e.userNorm;t[n]={normHours:a,actualHours:r,differenceActualMinutes:i,overWork:s}})),t}},98931:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var i=r(47166),s=r.n(i),n=r(52387),a=r(67294),o=r(45697),l=r.n(o),c=r(74806),d=r(12718),u=r(30053),p=r(47968),h=r(93898);var f=r(47945),m=r(85893);function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends a.Component{constructor(){super(...arguments),v(this,"state",{open:!1}),v(this,"getMessageTypes",(e=>[{value:d.ZP.NOTIFICATION_CHANNELS.NONE,label:e({id:"MessageTypeSelect.withoutNotifications",defaultMessage:[{type:0,value:"Без уведомлений"}]})},{value:d.ZP.NOTIFICATION_CHANNELS.ALL,label:e({id:"Common.all",defaultMessage:[{type:0,value:"Все"}]})},{value:d.ZP.NOTIFICATION_CHANNELS.EMAIL,label:e({id:"MessageTypeSelect.email",defaultMessage:[{type:0,value:"E–mail"}]})},{value:d.ZP.NOTIFICATION_CHANNELS.PUSH,label:e({id:"MessageTypeSelect.pushNotification",defaultMessage:[{type:0,value:"Push–уведомления"}]})}])),v(this,"getHint",(()=>this.props.intl.formatMessage({id:"Common.search",defaultMessage:[{type:0,value:"Поиск"}]}))),v(this,"getTextFieldRef",(e=>{this._textFieldEl=e})),v(this,"getContainerRef",(e=>{this._mainContainerEl=e})),v(this,"getDisplayedValue",(()=>{var{open:e,searchTerm:t}=this.state,{value:r,intl:i}=this.props,s=this.getMessageTypes(i.formatMessage).find((e=>e.value===r))||{};return e?t:s.label})),v(this,"handleChange",(e=>{this.props.onChange(e),this.handleFocusInput()})),v(this,"handleFocusInput",(()=>{this.toggleOpen()})),v(this,"handleDropDownClick",(()=>{this._textFieldEl.focus()})),v(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))}))}render(){var{value:e,intl:t}=this.props,{open:r}=this.state,i=this.getMessageTypes(t.formatMessage),a=this.getDisplayedValue(),o=s()("flex-item_flexible","icon");return(0,m.jsxs)("div",{className:"checkbox-group-select",title:this.props.error,ref:this.getContainerRef,children:[(0,m.jsxs)("div",{className:o,style:{position:"relative"},children:[(0,m.jsx)("input",{ref:this.getTextFieldRef,type:"text",placeholder:this.getHint(),name:"auto-complete-search",value:a,onChange:this.handleTextChange,onFocus:this.handleFocusInput,style:{width:"100%"},autoComplete:"off"}),(0,m.jsx)(p.Z,{open:r,className:"A73HqTWXtp29ubQZnwS9vg==",onClick:this.handleDropDownClick})]}),(0,m.jsx)(n.ZP,{open:r,anchorEl:this._mainContainerEl,onClose:this.toggleOpen,disableRestoreFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,m.jsx)("div",{className:"qEuChdUOH6uqsjyw92ckdw==",children:(0,m.jsx)(h.E,{onChange:this.handleChange,options:i,selectedValue:e,classContainer:"z8C60z+f-Ovc8o1L-8Kp0g==",removeBtnMargins:!0})})})]})}}y.defaultProps={value:null,error:"",onChange:u.wA},y.propTypes={value:l().any,error:l().string,onChange:l().func,intl:f.gm.isRequired};const g=(0,c.ZP)(y)},7127:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var i=r(67294),s=r(45697),n=r.n(s),a=r(30381),o=r.n(a),l=r(74806),c=e=>{var{formatMessage:t}=e;return[t({id:"MonthSelect.january",defaultMessage:[{type:0,value:"Январь"}]}),t({id:"MonthSelect.february",defaultMessage:[{type:0,value:"Февраль"}]}),t({id:"MonthSelect.march",defaultMessage:[{type:0,value:"Март"}]}),t({id:"MonthSelect.april",defaultMessage:[{type:0,value:"Апрель"}]}),t({id:"MonthSelect.may",defaultMessage:[{type:0,value:"Май"}]}),t({id:"MonthSelect.june",defaultMessage:[{type:0,value:"Июнь"}]}),t({id:"MonthSelect.july",defaultMessage:[{type:0,value:"Июль"}]}),t({id:"MonthSelect.august",defaultMessage:[{type:0,value:"Август"}]}),t({id:"MonthSelect.september",defaultMessage:[{type:0,value:"Сентябрь"}]}),t({id:"MonthSelect.october",defaultMessage:[{type:0,value:"Октябрь"}]}),t({id:"MonthSelect.november",defaultMessage:[{type:0,value:"Ноябрь"}]}),t({id:"MonthSelect.december",defaultMessage:[{type:0,value:"Декабрь"}]})]},d=e=>{for(var t=[],r=(e||o()().year())-5,i=r;i<=r+10;i++)t.push(i);return t},u=r(47945),p=r(85893);class h extends i.Component{constructor(e){if(super(e),r=this,s=e=>{var{onChange:t,dateFormat:r}=this.props,{currentYear:i}=this.state;if(this.setState({currentMonth:e.target.value}),"function"==typeof t){var s=e.target.value;t(e.target.value?o()().month(s).year(i).format(r):"",i,s)}},(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="handleChangeMonth"))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,e.value||!e.allowEmpty){var t=e.value?o()(e.value,e.dateFormat):o()();this.state={currentMonth:t.month(),currentYear:t.year()}}var r,i,s}UNSAFE_componentWillReceiveProps(e){var{value:t}=this.props;if(e.value!==t&&(e.value||!e.allowEmpty)){var r=e.value?o()(e.value,e.dateFormat):o()();this.state={currentMonth:r.month(),currentYear:r.year()}}}render(){var{currentMonth:e,currentYear:t}=this.state,{onChange:r,selectStyle:i,dateFormat:s,intl:n,shouldDisabledMonth:a,shouldDisabledYear:l}=this.props;return(0,p.jsxs)("div",{className:"month-select-dropdown",children:[(0,p.jsxs)("select",{style:i,name:"monthSelect",value:e,onChange:this.handleChangeMonth,children:[this.props.allowEmpty&&(0,p.jsx)("option",{value:""}),c(n).map(((e,r)=>(0,p.jsx)("option",{value:r,disabled:a(r,t),children:e},e.id||r)))]}),(0,p.jsxs)("select",{style:i,name:"yearSelect",value:t,onChange:t=>{if(this.setState({currentYear:Number(t.target.value)}),"function"==typeof r){var i=Number(t.target.value),n=t.target.value?o()().month(e).year(i).format(s):"";r(n,i,e)}},children:[this.props.allowEmpty&&(0,p.jsx)("option",{value:""}),d(t).map(((e,t)=>(0,p.jsx)("option",{value:e,disabled:l(e),children:e},e.id||t)))]})]})}}h.defaultProps={dateFormat:"MM.YYYY",allowEmpty:!1,selectStyle:{},shouldDisabledMonth:()=>!1,shouldDisabledYear:()=>!1,value:null,onChange:null},h.propTypes={shouldDisabledYear:n().func,shouldDisabledMonth:n().func,dateFormat:n().string,allowEmpty:n().bool,selectStyle:n().object,value:n().string,onChange:n().func,intl:u.gm.isRequired};const f=(0,l.ZP)(h)},57055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var i=r(67294),s=r(45697),n=r.n(s),a=r(86896),o=r(52387),l=r(94184),c=r.n(l),d=r(35667),u=r(30053),p=r(37297),h=r(47968);var f=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((r=>"object"==typeof r?t?r:r[e]:r))},m=r(63683),v=r(85893),y=e=>{var t,{onClose:r,onChange:s,dataSource:n,dataSourceConfig:{value:l,text:u},values:y,disables:g,classContainer:b,classButton:j,dropDownWidth:x,hintText:S,returnObjValue:O,notClearSearchField:P,checkboxLabelClassName:w,disabled:C,hasTitle:k,onOpen:T,hidden:N,getSecondaryText:R,isShowSecondaryText:E,dataSourceConfig:D}=e,{formatMessage:A}=(0,a.Z)(),[M,I]=(0,i.useState)(!1),[Z,q]=(0,i.useState)(""),F=(0,i.useRef)(null),L=(0,i.useRef)(null),H={display:"flex",padding:10,width:x||(null===(t=F.current)||void 0===t?void 0:t.clientWidth)},_=S||A({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),B=()=>{I(!M),1==!M&&T&&T()},G=(0,i.useCallback)((()=>Z?n.filter((e=>e[u].toLowerCase().includes(Z.toLowerCase()))):n),[u,n,Z]),W=()=>{var e=f(y,l).map((e=>{var t;return null===(t=n.find((t=>t[l]===e)))||void 0===t?void 0:t[u]})).join(", ");return M||(0,d.xb)(e)&&!(0,d.xb)(Z)?Z:e};return(0,i.useEffect)((()=>{if(!M){if(r&&r(),P)return;q("")}}),[M,P,r]),(0,v.jsxs)("div",{hidden:N,ref:F,className:c()(b||"Q+zSu2wYUS4GQg6svE3ymA=="),children:[(0,v.jsx)("input",{title:k?W():null,ref:L,type:"text",name:"input",tabIndex:0,onClick:B,autoComplete:"off",value:W(),onChange:e=>{var{value:t}=e.target;q(t),I(!0)},placeholder:_,onKeyDown:e=>{var{key:t}=e;"Enter"===t&&B()},className:"-lDfVyxrMLk2oHyz2Lxo3w==",disabled:C}),(0,v.jsx)(h.Z,{open:M,onClick:B,className:c()(j||"rkendaiXinpk9v14qCUg6Q=="),disabled:C}),(0,v.jsx)(o.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:F.current,open:M,onClose:B,disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,v.jsx)("div",{style:H,children:(0,v.jsxs)("div",{className:"_2rzIp5yzfGJF4ZoP3ENOng==",children:[(0,v.jsx)(p.Z,{checkboxLabelClassName:c()(w,"QcgBIHiP18m0qMFE-i7czQ=="),dataSource:G(),dataSourceConfig:D,values:f(y,l,E),disables:g,onChange:e=>{var t,r=e;O&&(r=e.map((e=>n.find((t=>t[l]===e))))),s(r),L.current&&(null===(t=L.current)||void 0===t||t.focus())},getSecondaryText:R,isShowSecondaryText:E}),(0,v.jsx)(m.Z,{count:y.length,clearFilter:()=>{s([])}})]})})})]})};y.defaultProps={dataSource:[],values:[],disables:[],onOpen:u.wA,getSecondaryText:u.wA,onClose:null,classContainer:"",classButton:"",returnObjValue:!1,notClearSearchField:!1,hintText:"",hasTitle:!1,checkboxLabelClassName:"",dropDownWidth:null,disabled:!1,hidden:!1,isShowSecondaryText:!1},y.propTypes={returnObjValue:n().bool,dataSource:n().array,dataSourceConfig:n().object.isRequired,values:n().array,disables:n().array,onChange:n().func.isRequired,dropDownWidth:n().number,onClose:n().func,onOpen:n().func,getSecondaryText:n().func,hintText:n().string,hasTitle:n().bool,checkboxLabelClassName:n().string,classContainer:n().string,classButton:n().string,notClearSearchField:n().bool,disabled:n().bool,hidden:n().bool,isShowSecondaryText:n().bool};const g=y},38555:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(57055)},90822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(67294),s=r(45697),n=r.n(s),a=r(40767),o=r(43637),l=r(85893);class c extends i.Component{constructor(){var e,t,r;super(...arguments),e=this,r=()=>{var{onChange:e,columnIndex:t}=this.props;e(t)},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="handleClick"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var{columnKey:e,sorters:t,hidden:r}=this.props;if(r)return null;var i=t.find((t=>t.column.key===e)),s=t.indexOf(i)+1,n=i?i.direction:0,c=1===n?(0,l.jsx)(o.ZP,{glyph:o.Lx}):(0,l.jsx)(o.ZP,{glyph:o.Mx});return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.Z,{onClick:this.handleClick,active:0!==n,children:0===n?(0,l.jsx)(o.ZP,{glyph:o.fz}):c}),(0,l.jsx)("span",{className:"virtualized-table__sort-index-badge",children:0!==n?s:""})]})}}c.propTypes={sorters:n().array.isRequired,columnKey:n().string.isRequired,columnIndex:n().number.isRequired,onChange:n().func.isRequired,hidden:n().bool.isRequired};const d=c},3839:(e,t,r)=>{"use strict";r.d(t,{sg:()=>S,MG:()=>O,ZP:()=>j,GS:()=>P});var i=r(67294),s=r(94184),n=r.n(s),a=r(45697),o=r.n(a),l=r(3598),c=r.n(l),d=r(63078),u=r(30053),p=r(90822),h=r(714),f=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={};class b extends i.PureComponent{constructor(){super(...arguments),y(this,"multiGrid",null),y(this,"onResize",(e=>{var{height:t,width:r}=e;this.props.onResize({height:t,width:r})})),y(this,"getColumnWidth",(e=>{var{index:t}=e,{columns:r}=this.props;return r[t].calculatedWidth})),y(this,"createMultiGridRef",(e=>this.multiGrid=e)),y(this,"handleSortChange",(e=>{var{setTableSorters:t,sorters:r,columns:i,setLastUpdatedSort:s}=this.props,n=i[e],a=[...r],o=a.find((e=>e.column.key===n.key));if(o)if(1===o.direction){var l={direction:-1,sortOrder:"desc",column:n};o.direction=l.direction,s(l)}else a=a.filter((e=>e.column.key!==n.key));else{var c={direction:1,column:n,sortOrder:"asc"};a.push(c),s(c)}"function"==typeof t&&t(a)})),y(this,"renderHeaderCell",(e=>{var{columnIndex:t,key:r,style:i}=e,{columns:s,sorters:n}=this.props,a=s[t];return(0,f.jsx)("div",{style:v(v({},i),{},{width:a.calculatedWidth}),id:O+t,children:(0,f.jsxs)("div",{className:"flex-container flex-container_align-items-center "+(a.headerClassName||""),style:v({height:i.height,overflow:"hidden"},a.headerCellStyle),children:[(0,f.jsx)("div",{className:"virtualized-table__column-title",onClick:()=>{a.sortOnHeaderClick&&this.handleSortChange(t)},children:a.renderHeader()}),(0,f.jsx)("div",{className:"virtualized-table__filter-bar",children:(0,f.jsx)(p.Z,{sorters:n,columnKey:a.key,columnIndex:t,onChange:this.handleSortChange,hidden:!a.sortable})})]})},r)})),y(this,"renderBodyCell",(e=>{var{shouldHideCell:t,columns:r,data:i}=this.props;if(t&&t(e))return null;var{columnIndex:s,key:a,rowIndex:o,style:l}=e,c=i[o-1],d=r[s],u=o%2==0;return(0,f.jsx)("div",{style:v(v(v({},l),{},{width:d.calculatedWidth},this.props.cellStyle),d.cellStyle),className:n()(h.DS,{"even-row":u,"odd-row":!u}),children:d.renderCell(c)},d.fixed?a:P+a)})),y(this,"renderCell",(e=>0===e.rowIndex?this.renderHeaderCell(e):this.renderBodyCell(e)))}render(){var{rowHeight:e,onScroll:t,data:r,columns:i,overscanRowCount:s}=this.props,n=r.length+1;return(0,f.jsx)(d.qj,{onResize:this.onResize,children:a=>{var{width:o,height:l}=a;return(0,f.jsx)(d.yR,{ref:this.createMultiGridRef,style:g,styleBottomRightGrid:g,classNameBottomLeftGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",fixedColumnCount:1,fixedRowCount:1,cellRangeRenderer:this.props.cellRangeRenderer,styleTopLeftGrid:h.bJ,styleTopRightGrid:h.iR,styleBottomLeftGrid:h.FM,cellRenderer:this.renderCell,columnWidth:this.getColumnWidth,columnCount:i.length,height:l,classNameBottomRightGrid:"scroll",rowHeight:e,rowCount:n,width:o,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,onScroll:t,overscanRowCount:s,data:r,columns:i,enableFixedRowScroll:!1})}})}}b.defaultProps={overscanRowCount:0,rowHeight:48,setLastUpdatedSort:u.wA,onResize:u.wA,cellStyle:{},sorters:[],cellRangeRenderer:d.Fv,shouldHideCell:null,setTableSorters:null,onScroll:null},b.propTypes=c()({rowHeight:o().oneOfType([o().number,o().func]),cellStyle:o().object,sorters:o().array,data:o().array.isRequired,onScroll:o().func,cellRangeRenderer:o().func,columns:o().array.isRequired,onResize:o().func,overscanRowCount:o().number,shouldHideCell:o().func,setLastUpdatedSort:o().func,setTableSorters:o().func});const j=b;function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S{constructor(e){x(this,"key",void 0),x(this,"fixed",void 0),x(this,"filterable",void 0),x(this,"sortable",void 0),x(this,"_width",void 0),x(this,"calculatedWidth",void 0),x(this,"label",void 0),x(this,"cellClassName",void 0),x(this,"headerClassName",void 0),x(this,"sorterClassNames",void 0),x(this,"headerCellStyle",void 0),x(this,"cellStyle",void 0),x(this,"onCellHover",void 0),x(this,"renderCell",(e=>(0,f.jsx)("div",{className:this.cellClassName,style:this.cellStyle,children:this.getValue(e)}))),x(this,"renderHeader",(()=>this.label)),x(this,"getValue",(e=>{if(Number.isInteger(this.key))return e[this.key];var t;try{t=this.key.split(".").reduce(((e,t)=>e[t]),e)}catch(e){return t}return t})),Object.keys(e).forEach((t=>this[t]=e[t])),this.calculatedWidth=e.width}get width(){return this._width}set width(e){this._width=e,this.calculatedWidth=e}}var O="columnHeaderContainer",P="table-body-"},714:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{DS:()=>d,FM:()=>c,bJ:()=>l,iR:()=>a});var a={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,background:"white"},o={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",borderRight:"2px solid ".concat("#2d3e50"),zIndex:13},l=s(s({},a),o),c=s(s({},o),{},{zIndex:12}),d={borderBottom:"1px dotted $color-border"}},67708:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var i=r(67294),s=r(45697),n=r.n(s),a=r(30381),o=r.n(a),l=r(44012),c=r(72063),d=r(18362),u=r(21727),p=r(10637),h=r(17812),f=r(79895),m=r(80366),v=r(85893),y={WARNING:(0,v.jsx)(l.Z,{id:"Notifications.notificationTypes.WARNING",defaultMessage:[{type:0,value:"Внимание"}]}),ERROR:(0,v.jsx)(l.Z,{id:"Notifications.notificationTypes.ERROR",defaultMessage:[{type:0,value:"Ошибка"}]}),INFORMATION:(0,v.jsx)(l.Z,{id:"Notifications.notificationTypes.INFORMATION",defaultMessage:[{type:0,value:"Информация"}]}),SUCCESS:(0,v.jsx)(l.Z,{id:"Notifications.notificationTypes.SUCCESS",defaultMessage:[{type:0,value:"Успешная операция"}]})};class g extends i.PureComponent{render(){var{notification:e,iconsColor:t,Icon:r,className:i}=this.props;return(0,v.jsx)("div",{className:i,children:(0,v.jsx)(f.Z,{className:"notifications__notification-wrapper mb",children:(0,v.jsx)("div",{className:"p notifications__notification notifications__notification_".concat(e.type.toLowerCase()),style:{cursor:e.onClick?"pointer":"initial"},onClick:()=>{e.onClick&&e.onClick(),e.closeOnClick&&P.removeNotification(e)},children:(0,v.jsxs)("div",{className:"flex-container",children:[(0,v.jsxs)("div",{className:"flex-item_flexible",children:[(0,v.jsxs)("div",{style:{lineHeight:"24px"},children:[(0,v.jsx)(r,{color:t,style:{verticalAlign:"middle"}}),(0,v.jsx)("span",{className:"inline-block_middle text-style_caption pl",children:y[e.type]}),(0,v.jsx)("span",{className:"inline-block_middle text-style_caption pl",children:e.time})]}),(0,v.jsx)("div",{className:"mv",children:e.message})]}),(0,v.jsx)("div",{className:"flex-item_fixed",children:(0,v.jsx)(h.Z,{onClick:t=>{P.removeNotification(e),t.stopPropagation()},children:(0,v.jsx)(m.Z,{style:{color:t}})})})]})})})})}}g.defaultProps={className:"",iconsColor:""},g.propTypes={notification:n().object.isRequired,iconsColor:n().string,Icon:n().any.isRequired,className:n().string};const b=g;var j=r(22350);function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends i.Component{static removeNotification(e){O.singletonInstance.props.removeNotification(e)}static notify(e){var{message:t,type:r=O.notificationTypes.INFORMATION,closeAfter:i,onClick:s,closeOnClick:n}=e;O.singletonInstance&&O.singletonInstance.props.addNotification(new class{constructor(e){x(this,"message",void 0),x(this,"type",void 0),x(this,"time",void 0),x(this,"closeAfter",void 0),x(this,"onClick",void 0),x(this,"closeOnClick",void 0),this.message=e.message,this.type=e.type,this.closeAfter=e.closeAfter,this.onClick=e.onClick,this.time=e.time,this.closeOnClick=e.closeOnClick,this.id=(0,j.Vj)(),this.closeAfter&&setTimeout((()=>P.removeNotification(this)),this.closeAfter)}}({message:t,type:r,closeAfter:i,onClick:s,closeOnClick:n,time:o()().format("HH:mm:ss")}))}static inform(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.notify({message:e,type:O.notificationTypes.INFORMATION,closeAfter:t.closeAfter,onClick:t.onClick,closeOnClick:t.closeOnClick})}static success(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.jsx)(l.Z,{id:"Notifications.operationCompletedSuccessfully.",defaultMessage:[{type:0,value:"Операция успешно завершена."}]}),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.notify({message:e,type:O.notificationTypes.SUCCESS,closeAfter:t.closeAfter||5e3,onClick:t.onClick,closeOnClick:t.closeOnClick})}static warn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.notify({message:e,type:O.notificationTypes.WARNING,closeAfter:t.closeAfter,onClick:t.onClick,closeOnClick:t.closeOnClick})}static error(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.jsx)(l.Z,{id:"Notifications.operationFailed",defaultMessage:[{type:0,value:"Не удалось выполнить операцию."}]}),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.notify({message:e,type:O.notificationTypes.ERROR,closeAfter:t.closeAfter,onClick:t.onClick,closeOnClick:t.closeOnClick})}constructor(e){super(e),S(this,"renderItems",(e=>e.map((e=>{var t,r=e.type===O.notificationTypes.ERROR?"white":void 0;switch(e.type){case O.notificationTypes.ERROR:t=c.Z;break;case O.notificationTypes.INFORMATION:t=d.Z;break;case O.notificationTypes.SUCCESS:t=p.Z;break;case O.notificationTypes.WARNING:t=u.Z;break;default:t=d.Z}return(0,v.jsx)(b,{iconsColor:r,Icon:t,notification:e},e.id)})))),O.singletonInstance&&console.warn("Notifications singletonInstance duplication"),O.singletonInstance=O.singletonInstance||this}render(){var{notifications:e=[]}=this.props;return e.length?(0,v.jsx)("div",{className:"notifications",children:(0,v.jsx)("div",{className:"notifications__notifications-container p+",children:this.renderItems(e)})}):null}}S(O,"notificationTypes",{WARNING:"WARNING",ERROR:"ERROR",INFORMATION:"INFORMATION",SUCCESS:"SUCCESS"}),S(O,"singletonInstance",void 0),O.propTypes={notifications:n().array.isRequired};const P=O},41524:(e,t,r)=>{"use strict";r.d(t,{T:()=>i.Z,c:()=>o});var i=r(67708),s=r(28216),n=r(97779),a=r(25748);const o=(0,n.compose)((0,s.$j)((e=>e.notifications),{addNotification:a.addNotification,removeNotification:a.removeNotification}))(i.Z)},3212:(e,t,r)=>{"use strict";r.d(t,{e:()=>R});var i=r(67294),s=r(45697),n=r.n(s),a=r(3598),o=r.n(a),l=r(22350),c=r(35667),d=r(25022),u=r(47945),p=r(66365),h=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=e=>{var{openedNodes:t,groupId:r,queues:s,showNode:n,style:a,renderLabel:o,getNodeChildren:u,renderNode:f,nodeContainerStyle:v}=e,y={[s.id]:s},[g,b]=(0,i.useState)(t||y),[j,x]=(0,i.useState)({});return(0,i.useEffect)((()=>{if(s&&r&&(!g||0===Object.keys(g).length)){var e,t={},i=[];(0,l._u)(s,"children",((e,r)=>t[r.id]={parent:e,item:r})),t[s.id]={parent:null,item:s};var n=e=>{var t;e&&(i.push(e.id),n(null===(t=j[e.id])||void 0===t?void 0:t.parent))};n(null===(e=j[r])||void 0===e?void 0:e.parent);var a=i.reduce(((e,t)=>{var r,i=null===(r=j[t])||void 0===r?void 0:r.parent;return i&&(e[t]=i),e}),{});b((e=>m(m({},e),a))),x(t)}}),[s,r]),(0,h.jsx)("div",{className:"permission-groups__select scroll",style:a,children:(0,h.jsx)(p.Z,{isLoading:(0,c.xb)(s),children:(0,h.jsx)(d.Z,{nodeContainerStyle:m({borderBottom:"none"},v),showNode:n,treeRoot:s,getNodeChildren:u,nodeStyleGetter:()=>({height:"32px",minHeight:"32px",lineHeight:"32px",borderBottom:"none"}),renderNode:f,openedNodes:g,renderLabel:o})})})};const g=y;y.defaultProps={renderLabel:null,showNode:null,queues:null,style:null,openedNodes:null,renderNode:null,nodeContainerStyle:null,getNodeChildren:e=>e.children},y.propTypes=o()({getNodeChildren:n().func,renderLabel:n().func,showNode:n().func,queues:n().object,style:n().object,openedNodes:n().object,nodeContainerStyle:n().object,renderNode:n().func,groupId:u.K5.isRequired});var b=r(97779),j=r(28216),x=r(35105),S=r(84138),O=r(41008),P=r(71319),w=r(61604),C=r(75364),k=r(71505),T=r(25493),N=(0,b.compose)((0,j.$j)(((e,t)=>({queues:t.showQueues?(0,C.y7)(e):e.settings.permissionGroupsTree,groupId:(0,k.Wx)(e)})),{fetchHierarchyTree:P.fetchHierarchyTree,fetchSkillHierarchy:w.fetchSkillHierarchy,setSkillHierarchy:w.setSkillHierarchy}),(0,x.Z)((e=>{var{props:t}=e;t.queues&&0!==Object.keys(t.queues).length||(t.showQueues?t.fetchSkillHierarchy():t.fetchHierarchyTree())})),(0,S.Z)(((e,t)=>{var{props:r}=e;r.showQueues!==t.showQueues&&(0,c.xb)(t.queues)&&(t.showQueues?t.fetchSkillHierarchy():t.fetchHierarchyTree())})),(0,O.Z)((e=>{var{props:t}=e;t.showQueues&&t.setSkillHierarchy({})})),(0,T.c)(["showQueues","fetchHierarchyTree","fetchSkillHierarchy","setSkillHierarchy"]))(g);N.propTypes={renderLabel:n().func,showNode:n().func,queues:n().object,showQueues:n().bool,value:n().string,style:n().object,labelStyle:n().object,openedNodes:n().object};const R=N},66071:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(67294),s=r(45697),n=r.n(s),a=r(10790),o=r(40767),l=r(43637),c=r(85893);function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={width:15,height:15};class p extends i.Component{constructor(){super(...arguments),d(this,"state",{iconEye:!0}),d(this,"handleClickEye",(()=>{this.setState((e=>({iconEye:!e.iconEye})))}))}render(){var{iconEye:e}=this.state,{value:t,disabled:r}=this.props;if(!t)return null;var i=e?"password":"text",s=e?(0,c.jsx)(l.ZP,{glyph:l.Wi,style:u}):(0,c.jsx)(l.ZP,{glyph:l.bA,style:u});return(0,c.jsxs)("div",{className:a.Z.passwordContainer,children:[(0,c.jsx)("input",{type:i,value:t,disabled:r}),(0,c.jsx)(o.Z,{className:a.Z.buttonEye,onClick:this.handleClickEye,children:s})]})}}p.defaultProps={disabled:!1,value:null},p.propTypes={value:n().oneOfType([n().string,n().number]),disabled:n().bool};const h=p},3227:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(67294),s=r(45697),n=r.n(s),a=r(65227),o=r(47945),l=r(56089),c=r(3640),d=r(85893),u={alignItems:"baseline",marginBottom:"7px"},p=e=>{var{date:t,onChange:r,showTimeKey:s,timeKey:n,showTime:o,saveChangesInParentState:p,time:h,isEndOfPeriod:f,maxDate:m,minDate:v,label:y}=e,[g,b]=(0,i.useState)(o),[j,x]=(0,i.useState)(h);(0,i.useEffect)((()=>{r(g?(0,a.G5)(t,j):(0,a.CK)(t))}),[g]);var S=f?(0,a.FF)((0,a.Cv)(t)):(0,a.FF)(t);return(0,d.jsxs)("div",{className:"flex-container",style:u,children:[y&&(0,d.jsx)("div",{className:"flex-item_flexible mr",children:y}),(0,d.jsx)("div",{className:"flex-item_fixed mr",children:(0,d.jsx)(l.Z,{maxDate:m,minDate:v,onChange:e=>{var t=f&&!g?(0,a.M)(e,a.vc):(0,a.CK)(e),i=(0,a.G5)(t,j);r(i)},date:S,dateFormat:a.vc})}),(0,d.jsx)("div",{className:"flex-item_fixed mr",children:(0,d.jsx)(c.Z,{onChange:e=>{var i=(0,a.b7)(t),l=(0,a.G5)(i,e);p&&(p(o,s),p(e,n)),x(e),r(l)},value:t,step:5,hidden:!g,onToggleHiddenResponse:()=>{b(!g),p&&p(g,s)}})})]})};p.defaultProps={label:"",showTime:!1,time:"00:00",isEndOfPeriod:!1,saveChangesInParentState:null,timeKey:"",showTimeKey:"",maxDate:"",minDate:""},p.propTypes={date:o.yb.isRequired,onChange:n().func.isRequired,saveChangesInParentState:n().func,label:n().node,isEndOfPeriod:n().bool,showTime:n().bool,showTimeKey:n().string,timeKey:n().string,time:n().string,minDate:n().string,maxDate:n().string};const h=p},19806:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var i="period-picker"},40518:(e,t,r)=>{"use strict";r.d(t,{i:()=>c});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n);var o=r(85893),l=e=>{var{disabled:t,inline:r}=e,i=a()("TuO4yS5+hIG5idHqk-S8Kw==",{"myV5LzSeHiOX2J8YEw0iyA==":t,"yAy-eppRpESrrKIXWHIpUg==":r});return(0,o.jsx)("div",{className:i,children:"—"})};l.defaultProps={disabled:!1,inline:!1},l.propTypes={disabled:s().bool,inline:s().bool};const c=l},33937:(e,t,r)=>{"use strict";r.d(t,{G:()=>c});var i=r(67294),s=r(45697),n=r.n(s),a=r(30053),o=r(85893),l=e=>{var{show:t,onClose:r,children:s}=e,n=(0,i.useCallback)((e=>{27===e.keyCode&&r()}),[]);return(0,i.useEffect)((()=>(document.addEventListener("keydown",n,!1),()=>{document.removeEventListener("keydown",n,!1)})),[]),t?(0,o.jsx)("div",{className:"popup__content-wrap",children:(0,o.jsxs)("div",{className:"popup__content",children:[(0,o.jsx)("div",{className:"popup__overlay",onClick:r}),(0,o.jsx)("div",{className:"popup__content-inner",children:s})]})}):null};l.defaultProps={show:!1,onClose:a.wA},l.propTypes={show:n().bool,onClose:n().func,children:n().oneOfType([n().object,n().array,n().node]).isRequired};const c=l},26690:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(95477),a=r(94184),o=r.n(a),l=r(85893),c=e=>{var{size:t}=e,r=o()("p++");return(0,l.jsx)("div",{className:r,style:{textAlign:"center"},children:(0,l.jsx)(n.Z,{size:t,color:"secondary"})})};c.defaultProps={size:30},c.propTypes={size:s().number};const d=c},66365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(45697),s=r.n(i),n=r(26690);var a=r(85893),o=e=>{var{children:t,isLoading:r}=e;return r?(0,a.jsx)("div",{className:"q+UWo2ftJl+tmHMyLZeCBQ==",children:(0,a.jsx)(n.Z,{})}):t};const l=o;o.propTypes={children:s().node.isRequired,isLoading:s().bool},o.defaultProps={isLoading:!1}},55679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var i=r(67294),s=r(45697),n=r.n(s),a=r(30381),o=r.n(a),l=r(12874),c=r.n(l),d=(r(29545),r(62074)),u=r.n(d),p=r(74806),h=r(28523),f=r(41695),m=r(31186),v=r(95570),y=r(78966),g=r(65227),b=r(30053),j=r(12718),x=(e,t)=>t?"en"===e?"MM/yyyy":"MM.yyyy":"en"===e?"MM/dd/yyyy":"dd.MM.yyyy",S=o()("01.01.1970",g._T),O=o()("01.01.1920",g._T),P=o()("01.01.2070",g._T),w=r(73935),C=e=>{var{children:t}=e;return t?(0,w.createPortal)(t,document.body):null};C.defaultProps={children:null},C.propTypes={children:n().node};const k=C,T="YWcJOYLSlTPb75hTGOHOLQ==";var N=r(40767),R=r(43637),E=r(85893);function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A={ru:h.Z,en:f.Z,de:m.Z};class M extends i.Component{constructor(e){super(e),D(this,"handleChange",(e=>{var{dateFormat:t,onChange:r,isEndOfDay:i,showMonthYearPicker:s}=this.props;if(e){var n=i?o()(e).endOf("day"):o()(e).startOf("day"),a=1920===this.props.minYear?O:S,l=e?n.format(t):o()().format(t);if(s){var c=(0,g.CK)(l,g.ZM);if((0,g.zx)(c,(0,g.YD)(j.ZP.START_OF_TIME,1),j.ZP.END_OF_TIME))return r(c)}return o()((0,g.Vb)(l),g._T).isBetween(a,P,void 0,"[]")?r(l):r((0,g.zO)())}})),D(this,"getLocaleMask",(()=>{var{intl:{locale:e},showMonthYearPicker:t,shouldHideYear:r}=this.props,i={ru:[/[0-9]/,/\d/,".",/\d/,/\d/,".",/\d/,/\d/,/\d/,/\d/],en:[/[0-9]/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/],de:[/[0-9]/,/\d/,".",/\d/,/\d/,".",/\d/,/\d/,/\d/,/\d/]},s={ru:[/[0-9]/,/\d/,".",/\d/,/\d/,/\d/,/\d/],en:[/[0-9]/,/\d/,"/",/\d/,/\d/,/\d/,/\d/],de:[/[0-9]/,/\d/,".",/\d/,/\d/,/\d/,/\d/]},n={ru:[/[0-9]/,/\d/,".",/\d/,/\d/],en:[/[0-9]/,/\d/,"/",/\d/,/\d/],de:[/[0-9]/,/\d/,".",/\d/,/\d/]};return t?s[e]||s.ru:r?n[e]||n.ru:i[e]||i.ru})),D(this,"onKeyDown",(e=>{"Tab"===e.key&&this.pickerRef.current.setOpen(!1)})),D(this,"getMaskInput",(()=>{var{showMask:e}=this.props;return(0,E.jsx)(u(),{mask:this.getLocaleMask,showMask:e,type:"text"})})),this.pickerRef=(0,i.createRef)()}get dateObj(){var{date:e,dateFormat:t,isEmptyInitDate:r,isEmployeeFormField:i}=this.props;if(e){var s=(0,g.Yd)(e,t);return i?o()(s,g._T).toDate():o()(e,t).toDate()}return r?"":o()().toDate()}get minDateObj(){var{minDate:e,dateFormat:t}=this.props;return e?o()(e,t).toDate():S}get maxDateObj(){var{maxDate:e,dateFormat:t}=this.props;return e?o()(e,t).toDate():P}get endDateObj(){var{endDate:e,dateFormat:t}=this.props;return e?o()(e,t).toDate():null}render(){var{disabled:e,filterDates:t,selectsStart:r,selectsEnd:i,className:s,showDisabledMonthNavigation:n,onDismiss:a,minYear:d,showMonthYearPicker:u,shouldHideYear:p}=this.props,h=s||"_1ppJE21D9SXKZZiXuqHwRA==",{intl:{locale:f}}=this.props,m=[...Array(12)].map(((e,t)=>o()(t+1,"M").format("MMMM")));(0,l.registerLocale)(f,A[f]);var g,b=(g=d||1970,2070,1,Array.from({length:(2070-g)/1+1},((e,t)=>g+1*t)));return(0,E.jsx)(c(),{ref:this.pickerRef,renderCustomHeader:e=>{var{date:t,changeYear:r,changeMonth:i,decreaseMonth:s,increaseMonth:n,prevMonthButtonDisabled:a,nextMonthButtonDisabled:o}=e;return(0,E.jsxs)("div",{className:"_1kpwNNDpIv9WH4tVaBI7tA==",children:[(0,E.jsx)(N.Z,{onClick:s,disabled:a,className:T,children:(0,E.jsx)(R.ZP,{glyph:R.Y4})}),(0,E.jsx)("select",{value:m[(0,y.default)(t)],onChange:e=>{var{target:{value:t}}=e;i(m.indexOf(t))},children:m.map((e=>(0,E.jsx)("option",{value:e,children:e},e)))}),!p&&(0,E.jsx)("select",{value:(0,v.default)(t),onChange:e=>{var{target:{value:t}}=e;return r(t)},children:b.map((e=>(0,E.jsx)("option",{value:e,children:e},e)))}),(0,E.jsx)(N.Z,{onClick:n,disabled:o,className:T,children:(0,E.jsx)(R.ZP,{glyph:R.LZ})})]})},dropdownMode:"select",selected:this.dateObj,onChange:this.handleChange,minDate:this.minDateObj,maxDate:this.maxDateObj,disabled:e,filterDate:t,endDate:this.endDateObj,className:h,onKeyDown:this.onKeyDown,selectsStart:r,onDismiss:a,locale:f,dateFormat:x(f,u),selectsEnd:i,showDisabledMonthNavigation:n,customInput:this.getMaskInput(),popperContainer:k,showMonthYearPicker:u,disabledKeyboardNavigation:!0})}}M.defaultProps={dateFormat:g._E,disabled:!1,filterDates:null,date:"",minDate:"",maxDate:g.yg,endDate:null,selectsStart:!1,selectsEnd:!1,className:null,showDisabledMonthNavigation:!1,onDismiss:b.wA,isEndOfDay:!1,minYear:null,isEmptyInitDate:!1,isEmployeeFormField:!1,showMonthYearPicker:!1,shouldHideYear:!1,showMask:!0},M.propTypes={onChange:n().func.isRequired,onDismiss:n().func,date:n().string,dateFormat:n().string,minDate:n().oneOfType([n().string,n().object]),maxDate:n().oneOfType([n().string,n().object]),endDate:n().oneOfType([n().string,n().object]),disabled:n().bool,showMask:n().bool,showDisabledMonthNavigation:n().bool,filterDates:n().func,selectsStart:n().bool,selectsEnd:n().bool,intl:n().object.isRequired,isEndOfDay:n().bool,className:n().string,minYear:n().number,isEmptyInitDate:n().bool,isEmployeeFormField:n().bool,showMonthYearPicker:n().bool,shouldHideYear:n().bool};const I=(0,p.ZP)(M)},56089:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(55679)},69382:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(67294),s=r(45697),n=r.n(s),a=r(94184),o=r.n(a),l=r(30053),c=r(43637),d=r(57605),u=r(85893);function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends i.PureComponent{constructor(){super(...arguments),p(this,"handleClick",(()=>{this.props.disable||this.props.handler(this.props.index)})),p(this,"preventDefault",(e=>{e.preventDefault()}))}render(){var{checked:e,label:t,disable:r,className:i,classNameLabel:s,classNameLabelHint:n,labelHint:a,hidden:l}=this.props,p=o()(d.Z.radioBtn,i,{[d.Z.active]:e,[d.Z.disable]:r}),h=e?(0,u.jsx)(c.ZP,{glyph:c.d7}):(0,u.jsx)(c.ZP,{glyph:c.Wu});return(0,u.jsxs)("div",{hidden:l,className:p,onClick:this.handleClick,onMouseDown:this.preventDefault,children:[h,(0,u.jsxs)("label",{className:s,children:[t,a&&(0,u.jsx)("span",{className:n,children:a})]})]})}}h.defaultProps={checked:!1,label:null,index:null,handler:l.wA,disable:!1,hidden:!1,className:"",classNameLabel:"",classNameLabelHint:"",labelHint:""},h.propTypes={checked:n().bool,label:n().oneOfType([n().string,n().object]),index:n().number,handler:n().func,disable:n().bool,hidden:n().bool,className:n().string,classNameLabel:n().string,classNameLabelHint:n().string,labelHint:n().string}},93898:(e,t,r)=>{"use strict";r.d(t,{t:()=>i.Z,E:()=>f});var i=r(69382),s=r(67294),n=r(45697),a=r.n(n),o=r(94184),l=r.n(o),c=r(30053),d=r(22350),u=r(57605),p=r(85893);function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends s.PureComponent{constructor(){super(...arguments),h(this,"getIndexByValue",(e=>{var{options:t}=this.props,r=t.find((t=>t.value===e));return t.indexOf(r)})),h(this,"toggleRadioBtn",(e=>{var{disable:t=!1,options:r}=this.props;if(!t){var i=r[e].value;this.props.onChange(i)}}))}render(){var{options:e,classContainer:t,classBtn:r,classNameLabelHint:s,disable:n,selectedIndex:a,selectedValue:o,shouldDisableButton:c,removeBtnMargins:h,radioBtnContainerClassName:f,showHintText:m}=this.props,v=a||this.getIndexByValue(o),y=h?u.Z.disableLeftMargin:r,g=e.map(((e,t)=>{var r=v===t,a=n||c(t);return(0,p.jsxs)("div",{className:l()(u.Z.radioBtnContainer,f),children:[(0,p.jsx)(i.Z,{checked:r,label:e.label,value:e.value,labelHint:e.hint,classNameLabelHint:s,className:y,index:t,handler:this.toggleRadioBtn,disable:a},e.id||(0,d.Vj)()),(0,p.jsx)("div",{hidden:!m,className:u.Z.hintTextInRadio,children:e.hintText})]},(0,d.Vj)())}));return(0,p.jsx)("div",{className:l()("radio-group",t),children:g})}}f.defaultProps={selectedIndex:0,onChange:c.wA,shouldDisableButton:()=>!1,disable:!1,showHintText:!1,classContainer:"",classNameLabelHint:"",classBtn:"",removeBtnMargins:!1,radioBtnContainerClassName:""},f.propTypes={selectedIndex:a().number,selectedValue:a().any.isRequired,options:a().array.isRequired,onChange:a().func,classContainer:a().string,disable:a().bool,shouldDisableButton:a().func,classNameLabelHint:a().string,classBtn:a().string,removeBtnMargins:a().bool,showHintText:a().bool,radioBtnContainerClassName:a().string}},52600:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(45697),s=r.n(i),n=r(15113),a=r(94184),o=r.n(a),l=r(35667),c=r(49862),d=r(40767),u=r(43637);var p=r(85893);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=e=>{var{dataSource:t,dataSourceConfig:r,input:{value:i,onChange:s},selectedItems:n,disableSelectedItems:a,hintText:h,clearBtn:f,disabled:m,className:v}=e;return(0,p.jsxs)("div",{className:o()("Y201zbUp4L23k5wU3w4JhQ==",v),children:[(0,p.jsx)(c.Z,{dataSource:t,dataSourceConfig:r,value:i,onChange:s,selectedItems:n,disableSelectedItems:a,hintText:h,disabled:m}),f&&(0,p.jsx)(d.Z,{className:"_3gTcvAeiR7aKBzN-Hy80yA==",onClick:()=>s(""),hidden:(0,l.xb)(i),children:(0,p.jsx)(u.ZP,{glyph:u.Tw})})]})};v.defaultProps={selectedItems:[],className:"",disableSelectedItems:!1,dataSourceConfig:{value:"id",text:"name"},clearBtn:!1},v.propTypes=f(f({},n.oX),{},{selectedItems:s().array,disableSelectedItems:s().bool,dataSource:s().arrayOf(s().object).isRequired,dataSourceConfig:s().shape({text:s().string,value:s().oneOfType([s().string,s().number]).isRequired}),clearBtn:s().bool,className:s().string});const y=v},11034:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(67294),s=r(45697),n=r.n(s),a=r(15113),o=r(50335),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i.PureComponent{render(){var{input:{value:e,onChange:t},label:r,disabled:i,className:s,classNameLabel:n,hidden:a}=this.props;return(0,l.jsx)(o.XZ,{onChange:t,checked:!!e,label:r,disabled:i,className:s,classNameLabel:n,hidden:a})}}p.defaultProps={label:null,disabled:!1,className:"",classNameLabel:""},p.propTypes=d(d({},a.oX),{},{label:n().node,disabled:n().bool,className:n().string,classNameLabel:n().string});const h=p},55470:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(11034)},69548:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(45697),s=r.n(i),n=r(15113),a=r(65227),o=r(56089),l=r(85893),c=["input"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=e=>{var{input:{onChange:t,value:r}}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,c);return(0,l.jsx)(o.Z,u({onChange:t,date:r},i))};h.defaultProps={dateFormat:a._E,disabled:!1},h.propTypes=u(u({},n.oX),{},{dateFormat:s().string,disabled:s().bool});const f=h},70120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(69548)},323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(45697),s=r.n(i),n=r(12718),a=r(40767),o=r(65227),l=r(43637),c=r(56089),d=r(85893),u=e=>{var{date:t,onChange:r,minDate:i,onDiscard:s,className:n}=e;return(0,d.jsxs)("div",{style:{marginLeft:"-10px"},children:[(0,d.jsx)(c.Z,{className:n,onChange:r,date:t,minDate:i,dateFormat:o._E,showDisabledMonthNavigation:!0,isEmployeeFormField:!0}),(0,d.jsx)(a.Z,{onClick:s,children:(0,d.jsx)(l.ZP,{glyph:l.Tw})})]})};u.propTypes={date:s().string.isRequired,onChange:s().func.isRequired,minDate:s().string.isRequired,onDiscard:s().func.isRequired,className:s().string},u.defaultProps={className:""};const p=u;var h=r(30381),f=r.n(h),m=e=>{var t=(0,o.zO)(o._E),r=e||t;return f()(r,o._E).startOf("day").utc(!0).format(o._E)},v=e=>{var{input:{value:t,onChange:r},buttonLabel:i,className:s,mainFormValues:{hiringDate:o}}=e,l=t!==n.ZP.END_OF_TIME,c=e=>{r(l?m(e):m())};return l?(0,d.jsx)(p,{className:s,date:t,minDate:o,onChange:c,onDiscard:()=>{r(n.ZP.END_OF_TIME)}}):(0,d.jsx)(a.Z,{onClick:c,children:i})};v.propTypes={input:s().object.isRequired,className:s().string,buttonLabel:s().node.isRequired,mainFormValues:s().shape({hiringDate:s().string}).isRequired},v.defaultProps={className:""};const y=v},93231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(15113),s=r(65227),n=r(56089),a=r(85893),o=e=>{var{input:{onChange:t,value:r},className:i}=e,o=r?(0,s.CK)(r):(0,s.zO)();return(0,a.jsx)(n.Z,{className:i,onChange:t,date:o,dateFormat:s._E,isEmployeeFormField:!0})};o.propTypes=i.oX;const l=o},12687:(e,t,r)=>{"use strict";r.d(t,{U:()=>l,Z:()=>l});var i=r(67294),s=r(15113),n=r(85893);function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends i.Component{constructor(){super(...arguments),a(this,"_input",null),a(this,"handleChange",(e=>{var{input:{onChange:t},isWithoutSpaceInput:r}=this.props;t(r?e.currentTarget.value.replaceAll(" ",""):e.currentTarget.value)}))}render(){var{input:{onChange:e,value:t,name:r},type:i,disabled:s}=this.props;return(0,n.jsx)("input",{type:i,name:r,disabled:s,autoComplete:"off",onChange:this.handleChange,onBlur:()=>e(t),value:t,readOnly:!0,ref:e=>{this._input=e},onFocus:()=>this._input.removeAttribute("readOnly")})}}o.propTypes=s.oX;const l=o},2707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var i=r(94184),s=r.n(i),n=r(45697),a=r.n(n),o=r(30053),l=r(23011),c=r(35667),d=r(18173),u=(e,t)=>t?(0,d.w)(Math.abs(e)):e,p=e=>{var{newValue:t,isValueWithoutZero:r,maxValue:i}=e,s=(0,c.xb)(t)?t:Number(t);return s=((e,t)=>t&&e>t?t:e)(s=u(s,r),i),s},h=e=>{var{inputValue:t,isValueWithoutZero:r,minValue:i,isRoundValue:s}=e,n=(0,c.xb)(t)?t:Number(t);return n=((e,t)=>t&&e<t?t:e)(n,i),n=((e,t)=>t?5*Math.round(e/5):e)(n,s),u(n,r)},f=r(85893),m=e=>{var{value:t,onChange:r,onBlur:i,onFocus:n,name:a,text:o,className:c,disabled:d,containerClassName:u,classNameInput:m,minValue:v,maxValue:y,maxLength:g,isValueWithoutZero:b,labelAfterInput:j,isRoundValue:x,readOnly:S}=e,O=null===t?"":null==t?void 0:t.toString();return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("span",{className:c,children:o}),(0,f.jsx)("input",{type:"text",name:a,value:O,onBlur:()=>{var e=h({inputValue:O,isValueWithoutZero:b,minValue:v,isRoundValue:x});r(e),i(e)},onFocus:n,onChange:e=>{var t=e.target.value;if(/^[0-9]+$/.test(t)||""===t){var i=p({newValue:t,value:O,isValueWithoutZero:b,maxValue:y});r(i)}},disabled:d,className:s()(m,l.Z.inputClassName),maxLength:g,readOnly:S}),(0,f.jsx)("span",{children:j})]})};m.defaultProps={disabled:!1,readOnly:!1,text:"",containerClassName:"",className:"",name:"",classNameInput:"",labelAfterInput:null,minValue:null,maxValue:null,value:"",maxLength:null,isValueWithoutZero:!1,isRoundValue:!1,onChange:o.wA,onBlur:o.wA,onFocus:o.wA},m.propTypes={name:a().string,labelAfterInput:a().node,disabled:a().bool,readOnly:a().bool,isRoundValue:a().bool,text:a().string,value:a().string,containerClassName:a().string,className:a().string,classNameInput:a().string,minValue:a().number,maxValue:a().number,maxLength:a().number,isValueWithoutZero:a().bool,onChange:a().func,onBlur:a().func,onFocus:a().func};const v=m},59601:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(45697),s=r.n(i),n=r(2707),a=r(85893),o=["input"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=e=>{var{input:{value:t,onChange:r}}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,o);return(0,a.jsx)(n.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onChange:r,value:t.toString()},i))};d.propTypes={input:s().object},d.defaultProps={input:{}};const u=d},16928:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(15113),s=r(68574),n=r(85893),a=["hintText","input","label","disabled","labelClassName"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=e=>{var{hintText:t,input:{value:r,onChange:i},label:c,disabled:d,labelClassName:u}=e,p=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,a);return(0,n.jsx)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({value:r,onChange:i,hintText:t,label:c,labelClassName:u,disabled:d},p))};c.propTypes=i.oX;const d=c},62808:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(45697),s=r.n(i),n=r(15113),a=r(18173),o=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=e=>{var{input:{value:t,onChange:r},name:i,text:s,className:n,disabled:l,classNameInput:c,isMultipleFive:d,minValue:u,maxValue:p,notEmpty:h,isValueWithoutZero:f}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:n,children:s}),(0,o.jsx)("input",{type:"number",name:i,value:f?(0,a.w)(t):t,max:p,onBlur:()=>{var e,i,s=()=>Number.isNaN(t)&&h?u:p&&t>p?p:u&&t<u?u:t;r(d?(e=s(),(i=5*Math.round(e/5))<u?u:i):s())},onChange:e=>{var t=parseInt(e.target.value,10);r(Math.abs(t))},disabled:l,className:c})]})};u.defaultProps={disabled:!1,text:"",className:"",name:"",classNameInput:"",isMultipleFive:!1,minValue:"",maxValue:"",notEmpty:!1,isValueWithoutZero:!1},u.propTypes=c(c({},n.oX),{},{name:s().string,disabled:s().bool,text:s().string,className:s().string,classNameInput:s().string,isMultipleFive:s().bool,minValue:s().string,maxValue:s().string,notEmpty:s().bool,isValueWithoutZero:s().bool});const p=u},35519:(e,t,r)=>{"use strict";r.d(t,{I:()=>p});var i=r(45697),s=r.n(i),n=r(15113),a=r(23011),o=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=e=>{var{input:{value:t,onChange:r},label:i,name:s,type:n="text",classContainer:l="",disabled:c}=e;return(0,o.jsxs)("div",{className:l,children:[i&&(0,o.jsx)("div",{className:a.Z.label,children:i}),(0,o.jsx)("input",{type:n,name:s,value:t,onChange:e=>{" "!==e.target.value.substring(0,1)&&r(e)},disabled:c,className:a.Z.input})]})};u.defaultProps={label:null,classContainer:"",name:"",disabled:!1},u.propTypes=c(c({},n.oX),{},{label:s().node,disabled:s().bool,classContainer:s().string,name:s().string});const p=u;r(62808)},30117:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(15113),s=r(98931),n=r(85893),a=["input"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=e=>{var{input:{value:t,onChange:r}}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,a);return(0,n.jsx)(s.Z,l({value:t,onChange:r},i))};d.propTypes=l({},i.oX);const u=d},22465:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var i=r(67294),s=r(45697),n=r.n(s),a=r(15113),o=r(94184),l=r.n(o),c=r(35667);var d=r(38555),u=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=e=>{var{dataSource:t,dataSourceConfig:r,input:{value:s,onChange:n},disableSelectedItems:a,placeholder:o,returnObjValue:p,disables:h,classContainer:f,classButton:m,checkboxLabelClassName:v,hasTitle:y,values:g,selectedItems:b}=e,[j,x]=(0,i.useState)(b);return(0,i.useEffect)((()=>{s&&n(s.filter((e=>!!t.find((t=>"object"==typeof e?t.id===e[r.value]:t.id===e)))))}),[t]),(0,i.useEffect)((()=>{(0,c.xb)(b)?x(g):x(b)}),[g]),(0,u.jsx)(d.Z,{hasTitle:y,dataSource:t,dataSourceConfig:r,values:j,onChange:e=>{n(e),x(e)},disableSelectedItems:a,hintText:o,returnObjValue:p,classContainer:l()("auto-complete-multi-select","flex-container","ngnewGOKJooVesbcETnRBw==",f),classButton:l()(m||"AD9Qd6tvmMI5nmxKMbstRQ=="),dropDownHeight:300,disables:h,checkboxLabelClassName:l()("nwSGMLqlDoIByIHu+SgvdA==",v)})};m.defaultProps={disableSelectedItems:!1,dataSourceConfig:{text:"name",value:"id"},classContainer:"",classButton:"",checkboxLabelClassName:"",values:[]},m.propTypes=h(h({},a.oX),{},{disableSelectedItems:n().bool,dataSource:n().arrayOf(n().object).isRequired,dataSourceConfig:n().shape({text:n().string,value:n().oneOfType([n().string,n().number]).isRequired}),classContainer:n().string,classButton:n().string,checkboxLabelClassName:n().string,values:n().array});const v=m},3309:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(22465)},42132:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(45697),s=r.n(i),n=r(15113),a=r(86896),o=r(28216),l=r(17666),c=r(66631),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=e=>{var{input:{onChange:t,value:r},animated:i,classContainer:s,classNamePopover:n}=e,u=(0,a.Z)(),p=(0,o.v9)(l.Zi);return(0,d.jsx)(c.Z,{classNamePopover:n,onChange:t,value:r,nodes:p,animated:i,hintText:u.formatMessage({id:"EmployeeForm.groupPeriodSearch",defaultMessage:[{type:0,value:"Поиск по точкам оргструктуры"}]}),classContainer:s})};f.propTypes=p(p({},n.oX),{},{animated:s().bool,classContainer:s().string}),f.defaultProps={animated:!0,classContainer:""};const m=f},29701:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(42132)},94297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var i=r(15113),s=r(97779),n=r(28216),a=r(74806),o=r(35105),l=r(32138),c=r(17666),d=r(71505),u=r(45697),p=r.n(u),h=r(47945),f=r(47270),m=r(85893),v={text:"name",value:"id"},y={id:"EmployeeForm.positionPeriodSearch",defaultMessage:"Поиск по должности"},g=e=>{var{positions:t,onChange:r,value:i,intl:s}=e;return(0,m.jsx)(f.Z,{dataSource:t,dataSourceConfig:v,onChange:r,value:i,hintText:s.formatMessage(y)})};g.propTypes={positions:p().array.isRequired,value:h.K5.isRequired,onChange:p().func.isRequired,intl:h.gm.isRequired};const b=g;var j={fetchPositions:l.fetchPositions};const x=(0,s.compose)((0,n.$j)((e=>({groupId:(0,d.Wx)(e),positions:(0,c.k8)(e)})),j),a.ZP,(0,o.Z)((e=>{var{props:t}=e;t.fetchPositions()})))(b);var S=e=>{var{input:{onChange:t,value:r}}=e;return(0,m.jsx)(x,{onChange:t,value:r})};S.propTypes=i.oX;const O=S},60988:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(45697),s=r.n(i),n=r(74806),a=r(67294),o=r(47270),l=r(53650),c=r(85893),d={text:"text",value:"name"};class u extends a.Component{constructor(e){super(e),this.timeZoneNames=(0,l.DJ)()}render(){var{value:e,onChange:t,hintText:r}=this.props;return(0,c.jsx)(o.Z,{hintText:r,dataSource:this.timeZoneNames,dataSourceConfig:d,value:e,onChange:t})}}u.defaultProps={value:"",hintText:""},u.propTypes={value:s().string,hintText:s().string,onChange:s().func.isRequired};const p=u;var h=r(47945),f=e=>{var{input:{value:t,onChange:r},intl:i}=e;return(0,c.jsx)(p,{value:t,onChange:r,hintText:i.formatMessage({id:"DisplaySettings.searchZone",defaultMessage:[{type:0,value:"Поиск по часовым поясам"}]})})};f.propTypes={intl:h.gm.isRequired,input:s().shape({value:s().string,onChange:s().func.isRequired}).isRequired};const m=(0,n.ZP)(f)},19262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(15113),s=r(65227),n=r(12718),a=r(56089),o=r(85893),l=["input","disabled"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=e=>{var{input:{onChange:t,value:r},disabled:i}=e,s=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,l),u=i?n.ZP.START_OF_TIME:r;return(0,o.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onChange:t,date:u},s))};u.defaultProps={dateFormat:s._E,disabled:!1},u.propTypes=i.oX;const p=u},96797:(e,t,r)=>{"use strict";r.d(t,{XZ:()=>i.Z,lF:()=>U,GN:()=>q,pu:()=>S,iR:()=>c});var i=r(55470),s=r(45697),n=r.n(s),a=r(15286),o=r(85893),l=e=>{var{input:{value:t,onChange:r},disabled:i,width:s,min:n,max:l,step:c,hasMarks:d}=e;return(0,o.jsx)(a.Z,{onChange:r,disabled:i,value:t,width:s,min:n,max:l,step:c,hasMarks:d,isScheduleBlocker:!0})};l.defaultProps={disabled:!1,width:null,min:null,max:null,step:null,hasMarks:!1},l.propTypes={input:n().object.isRequired,disabled:n().bool,width:n().number,min:n().number,max:n().number,step:n().number,hasMarks:n().bool};const c=l;var d=r(65227),u=r(67294),p=r(44012),h=r(94184),f=r.n(h),m=r(84650),v=r(43637),y=r(19806),g=r(3227);class b extends u.Component{render(){var{period:e,label:t,onChange:r,saveChangesInParentState:i,showTimeFrom:s,showTimeTo:n,timeFrom:a,timeTo:l,isNotLabel:c,classNames:d}=this.props;return(0,o.jsxs)("div",{className:f()(y.n,d),children:[t&&(0,o.jsxs)("h2",{className:"".concat(y.n,"__h2"),children:[(0,o.jsx)(v.ZP,{glyph:m.Z.id}),t]}),(0,o.jsx)(g.Z,{date:e.from,label:!c&&(0,o.jsx)(p.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),onChange:t=>{r({from:t,to:e.to})},saveChangesInParentState:i,showTimeKey:"showTimeFrom",timeKey:"timeFrom",showTime:s,time:a}),c&&" - ",(0,o.jsx)(g.Z,{date:e.to,label:!c&&(0,o.jsx)(p.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]}),onChange:t=>{r({from:e.from,to:t})},saveChangesInParentState:i,showTimeKey:"showTimeTo",timeKey:"timeTo",showTime:n,time:l})]})}}b.defaultProps={saveChangesInParentState:null,showTimeFrom:null,showTimeTo:null,classNames:"",timeFrom:"",timeTo:"",isNotLabel:null,label:null},b.propTypes={period:n().shape({from:n().string.isRequired,to:n().string.isRequired}).isRequired,onChange:n().func.isRequired,saveChangesInParentState:n().func,showTimeFrom:n().bool,showTimeTo:n().bool,timeFrom:n().string,timeTo:n().string,classNames:n().string,label:n().oneOfType([n().string,n().node]),isNotLabel:n().bool};const j=b;var x=e=>{var{input:{value:t,onChange:r},label:i}=e,s=t||{from:(0,d.b7)((0,d.zO)()),to:(0,d.zO)()};return(0,o.jsx)(j,{onChange:r,period:s,label:i})};x.propTypes={input:n().object.isRequired,label:n().any.isRequired};const S=x;var O=r(15113),P=r(97779),w=r(28216),C=r(74806),k=r(35105),T=r(35667),N=r(11146),R=r(17666),E=r(47945),D=r(47270),A=e=>{var{offices:t,value:r,onChange:i,intl:s}=e;return(0,o.jsx)(D.Z,{dataSource:t,dataSourceConfig:{text:"name",value:"id"},value:r,onChange:i,hintText:s.formatMessage({id:"EmployeeForm.officeSearch",defaultMessage:[{type:0,value:"Поиск по офисам"}]})})};A.defaultProps={value:null},A.propTypes={offices:n().arrayOf(n().object).isRequired,value:E.K5,onChange:n().func.isRequired,intl:E.gm.isRequired};const M=A,I=(0,P.compose)((0,w.$j)((e=>({offices:(0,R.TB)(e)})),{fetchOffices:N.fetchOffices}),(0,k.Z)((e=>{var{props:t}=e;(0,T.xb)(t.offices)&&t.fetchOffices()})),C.ZP)(M);var Z=e=>{var{input:{onChange:t,value:r}}=e;return(0,o.jsx)(I,{value:r,onChange:t})};Z.propTypes=O.oX;const q=Z;var F=r(8813),L=r(24459);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G={width:50,marginLeft:10},W=e=>{var{input:t,className:r,label:i,hidden:s,hideArrows:n}=e;if(s)return null;var{value:a,onChange:l}=t,c=Boolean(a);return(0,o.jsxs)("div",{className:f()("fadiLBeMKPWmeyjcBQocRw==",r),children:[(0,o.jsx)(F.Z,{checked:c,onChange:e=>{l(e?100:0)},label:i}),(0,o.jsx)(L.R,{disabled:!c,style:G,value:a,minValue:0,maxValue:100,onChange:l,hideArrows:n,disabledUpArrow:a>=100})]})};W.defaultProps={className:"",hidden:!1,hideArrows:!1},W.propTypes=_(_({},O.oX),{},{hidden:n().bool,hideArrows:n().bool,className:n().string,label:n().node.isRequired});const U=W},92997:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(44012),a=r(40767),o=r(43637);var l=r(85893),c=e=>{var{onClick:t,disabled:r}=e;return(0,l.jsx)(a.Z,{className:"tlIYDQWiiJU5EWvk6mv5Yw==",onClick:t,disabled:r,children:(0,l.jsxs)("span",{className:"wIcLYfqibnB6lvkP+k-mAA==",children:[(0,l.jsx)(o.ZP,{glyph:o.N}),(0,l.jsx)(n.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})]})})};c.defaultProps={disabled:!1},c.propTypes={onClick:s().func.isRequired,disabled:s().bool};const d=c},86312:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x,Y:()=>g});var i=r(45697),s=r.n(i),n=r(52663),a=r(94184),o=r.n(a),l=r(74806),c=r(30053),d=r(43637);const u="s24qImoZobSDFCG6iqFbEA==";var p=r(47945),h=r(60359),f=r(85893),m={padding:0},v={display:"table-cell",textAlign:"center"},y={maxWidth:"375px",width:"375px",display:"inline-block"},g={id:"Confirm.sureOfRemoval",defaultMessage:"Вы уверены в удалении?"},b={id:"Events.removeEventQuestion",defaultMessage:"Удалить событие?"},j=e=>{var{onSubmit:t,onCancel:r,close:i,message:s,submitButtonMessage:a,cancelButtonMessage:l,fullMessage:p,className:g,open:j,intl:x,isEvent:S,buttonClassName:O}=e,P=()=>{t(),i()},w=()=>{r(),i()};return(0,h.Kr)("Enter",j,(()=>{P()})),(0,h.Kr)("Escape",j,(()=>{w()})),(0,f.jsx)("div",{role:"presentation",className:o()("confirm__container",g),onClick:e=>{e.stopPropagation()},children:(0,f.jsx)(n.Z,{bodyStyle:m,contentStyle:y,style:v,overlayClassName:"popup__overlay",autoDetectWindowHeight:!0,repositionOnUpdate:!0,open:j,onRequestClose:w,children:(0,f.jsx)("div",{className:"confirm__dialog",children:(0,f.jsxs)("div",{className:"pt+ pb ph+++",children:[S?(0,f.jsx)("p",{className:"confirm__message",children:x.formatMessage(b)}):(0,f.jsx)("p",{className:"confirm__message",children:x.formatMessage(s)}),(0,f.jsx)("p",{className:"confirm__full-message",children:p}),(0,f.jsx)("span",{className:"confirm__buttons-wrap",children:(0,f.jsxs)("div",{className:o()("flex-container",O),children:[(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(d.ZP,{glyph:d.Jr}),(0,f.jsx)("div",{role:"button",tabIndex:0,className:"button button--confirm-buttons",onKeyDown:c.wA,onClick:P,children:x.formatMessage(a)})]}),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(d.ZP,{glyph:d.dV}),(0,f.jsx)("div",{role:"button",tabIndex:0,onKeyDown:c.wA,className:"button button--confirm-buttons",onClick:w,children:x.formatMessage(l)})]})]})})]})})})})};const x=(0,l.ZP)(j);var S=s().shape({id:s().string,defaultMessage:s().string});j.defaultProps={onCancel:c.wA,close:c.wA,fullMessage:"",message:g,submitButtonMessage:{id:"Common.confirm",defaultMessage:"Подтвердить"},cancelButtonMessage:{id:"Actions.cancel",defaultMessage:"Отмена"},className:"",buttonClassName:"",open:!1,isEvent:!1},j.propTypes={onSubmit:s().func.isRequired,onCancel:s().func,close:s().func,intl:p.gm.isRequired,message:S,submitButtonMessage:S,cancelButtonMessage:S,className:s().string,buttonClassName:s().string,fullMessage:s().string,open:s().bool,isEvent:s().bool}},14619:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>l,Kc:()=>n,Vt:()=>a,_8:()=>i,_V:()=>o,o8:()=>s,xt:()=>c});var i="CHANGE_SELECTION_START",s="CHANGE_SELECTION_END",n="MOVE_SELECTED",a=8,o=46,l=67,c=86},60359:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>H,C5:()=>E,D1:()=>F,Kr:()=>_,Oz:()=>B,R0:()=>M,Ye:()=>Z,dO:()=>q,iv:()=>N,j7:()=>y,kw:()=>L,oJ:()=>T,tn:()=>R,vw:()=>D,xg:()=>C,xn:()=>I,yX:()=>k,yd:()=>w});var i=r(30381),s=r.n(i),n=r(67294),a=r(34992),o=r(12718),l=r(35667),c=r(65227),d=r(22350),u=r(14619);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=5;function v(e,t,r){if(r&&r.length>0){var i=r[t+1];if(i&&(s=e,i.start===s.start))return!1}var s,n=(0,c.ZG)(e.start);return((0,c.ZG)(e.end)-n)/60>=m}function y(e){return!(0,l.xb)(e)&&e.workActivityId===o.ZP.EMPTY_WORK_ACTIVITY_ID}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.find((e=>!(0,l.xb)(null==e?void 0:e.userId))),i=(null==r?void 0:r.userId)||t;return e.map((e=>null!=e&&e.userId?e:h(h({},e),i?{userId:i}:{})))};function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.map((e=>h(h({},e),{},{start:(0,c.$4)(e.start),end:(0,c.$4)(e.end)}))).map(((e,r,i)=>{var s,n,a=i[r+1],o=i[r-1];return(0,l.xb)(e.eventId)?y(e)?(s=o?o.end:e.start,n=a?a.start:e.end):(s=!(0,l.xb)(null==o?void 0:o.eventId)&&e.start!==o.end&&t?o.end:e.start,n=y(a)?e.end:a?a.start:e.end):(s=e.start,n=e.end),h(h({},e),{},{start:s,end:n})})).filter(v);return g(r)}function j(e){return e.map(((e,t,r)=>{var i=r[t-1]&&r[t-1].end;return h(h({},e),{},{start:(0,l.xb)(e.eventId)&&i||e.start})}))}var x=e=>({start:e,end:e,workActivityId:o.ZP.EMPTY_WORK_ACTIVITY_ID}),S=e=>(0,l.xb)(e)?[]:[x(e[0].start),...e,x(e[e.length-1].end)];function O(e,t){var r=(0,c.ZG)(e.start),i=(0,c.ZG)(e.end),s=(0,c.ZG)(t);return r<=s&&i>=s}function P(e,t){if((0,l.xb)(t))return e;var r=t[0].start,i=t[t.length-1].end,s=[],n=(e,t)=>{v(t)&&e.push(t)};return e.forEach((e=>{(function(e,t,r){var i={start:t,end:r};return O(i,e.start)&&O(i,e.end)})(e,r,i)||(O(e,r)?O(e,i)?(n(s,h(h({},e),{},{end:r})),n(s,{workActivityId:e.workActivityId,start:i,end:e.end})):n(s,h(h({},e),{},{end:r})):O(e,i)?n(s,h(h({},e),{},{start:i})):n(s,h({},e)))})),(0,a.HI)(g([...s,...t]))}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(S(e).filter((e=>!t.find((t=>t.id===e.id)))),r)}function C(e,t,r){var i=S(e),n=t.map((t=>e.find((e=>e.id===t.id))));return P(w(i,n),n.map((e=>h(h({},e),{},{start:s()(e.start,c._E).add(r,"second").utc().format(c._E),end:s()(e.end,c._E).add(r,"second").utc().format(c._E)}))))}function k(e,t){return e.map((e=>h(h({},e),{},{start:s()(e.start,c._E).add(t,"second").utc().format(c._E),end:s()(e.end,c._E).add(t,"second").utc().format(c._E)})))}function T(e){return e.filter((e=>e.workActivityId!==o.ZP.EMPTY_WORK_ACTIVITY_ID))}function N(e,t){return 0===T(t).indexOf(e)}function R(e,t){var r=e[0],i=e.filter((e=>e.id!==r.id)),n=s()(r.start,c._E).add(t,"second").utc().format(c._E);return[h(h({},r),{},{start:n}),...i]}function E(e,t){var r=e[e.length-1],i=e.filter((e=>e.id!==r.id)),n=s()(null==r?void 0:r.end,c._E).add(t,"second").utc().format(c._E);return[...i,h(h({},r),{},{end:n})]}function D(e,t){var r=[],i=t=>{var s=e.find((e=>e.id===t)),n=e.indexOf(s),a=e[n-1]||{},l=e[n+1]||{};s&&s.workActivityId!==o.ZP.EMPTY_WORK_ACTIVITY_ID&&-1!==n&&!(e=>Boolean(r.find((t=>t.id===e))))(t)&&(r.push(s),i(a.id),i(l.id))};return i(t),(0,a.HI)(r)}function A(e,t,r){return e+t*r}function M(e,t,r){return s().unix(A(e,t,r)).utc().format(c._E)}function I(e){var t,{activities:r,workActivityId:i,contextActivity:s,offset:n,startSecond:a,secondsInPixel:o,activityDuration:d=15,userId:u}=e,p=M(a,o,n),h=P(r,[{start:t=1440===d?(0,c.gn)(p):(0,l.xb)(s)?p:(0,c.H2)(null==s?void 0:s.start,null==s?void 0:s.end),end:(0,c.IH)(t,"minutes",d),workActivityId:i}]);return g(b(h),u)}function Z(e){var{targetActivities:t,insertingActivities:r,contextActivity:i,offset:s,startSecond:n,secondsInPixel:o}=e;return P(t,b(k(r,(i?(0,a.mu)([i])/2>(0,a.mu)(r)?(0,c.ZG)((0,c.H2)(i.start,i.end)):(0,c.ZG)(i.start):A(n,o,s))-(0,c.ZG)(r[0].start))))}var q=e=>{var t,r,i,n,a,o,d,p,f,{activities:y,action:g,deltaSeconds:x,templateActivities:S}=e;if((0,l.xb)(S))return y;switch(g){case u.Kc:return C(y,S,x);case u._8:return t=y,r=S[0].id,i=x,o=t.filter((e=>e.id!==r)),d=t.find((e=>e.id===r)),p=s()(d.start,c._E).add(i,"second").utc().format(c._E),b(P(o,v(f=h(h({},d),{},{start:p}))?[f]:[(n=d,a=s()(n.end,c._E).add(-m,"minutes").format(c._E),h(h({},n),{},{start:a}))]));case u.o8:return function(e,t,r){var i,n,a=j(e.filter((e=>e.id!==t))),o=e.find((e=>e.id===t)),l=s()(null==o?void 0:o.end,c._E).add(r,"second").utc().format(c._E),d=h(h({},o),{},{end:l});return j(P(a,v(d)?[d]:[(i=o,n=s()(i.start,c._E).add(m,"minutes").format(c._E),h(h({},i),{},{end:n}))]))}(y,S[S.length-1].id,x);default:return y}},F=(e,t)=>{var r="string"==typeof e?e:e.id;return t.some((e=>e.id===r))},L=e=>{if(e.length<=1)return!1;for(var t=0;t<e.length-1;t++)if(e[t].end!==e[t+1].start)return!0;return!1},H=e=>{var{ctrlKey:t,metaKey:r,activities:i,selectedActivities:s,activityId:n}=e,o=F(n,s),l=i.find((e=>e.id===n));return o?t||r?s.filter((e=>l.id!==e.id)):s:t||r?(0,a.HI)([...s,l]):[l]},_=(e,t,r)=>{(0,n.useEffect)((()=>{var i=i=>{i.key===e&&t&&r()};return window.addEventListener("keyup",i,!1),()=>window.removeEventListener("keyup",i,!1)}),[t])},B=(e,t)=>{var r=e.filter((e=>{var{eventId:t}=e;return!(0,l.xb)(t)}));if((0,l.xb)(r))return!1;var i=(0,d.xn)(t);return r.some((e=>{var t=i[e.id],r=s()(e.start,c._E).isSame(s()(null==t?void 0:t.start,c._E)),n=s()(e.end,c._E).isSame(s()(null==t?void 0:t.end,c._E));return!1===r||!1===n}))}},86565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(45697),s=r.n(i),n=r(74806),a=r(35667),o=r(85893),l={id:"Common.find",defaultMessage:"Поиск"},c=(e,t)=>{var{formatMessage:r}=t;return(0,a.xb)(e)?r(l):e},d=e=>{var{value:t,onChange:r,placeholder:i,className:s,style:n,intl:a}=e;return(0,o.jsx)("input",{type:"text",autoFocus:!0,className:s||"search-field",placeholder:c(i,a),value:t,onChange:e=>{r(e.target.value)},style:n})};d.propTypes={value:s().string,onChange:s().func.isRequired,placeholder:s().string,className:s().string,style:s().object,intl:s().object.isRequired},d.defaultProps={style:{},className:"",placeholder:"",value:""};const u=(0,n.ZP)(d)},66631:(e,t,r)=>{"use strict";r.d(t,{Z:()=>V});var i=r(67294),s=r(45697),n=r.n(s),a=r(52387),o=r(47166),l=r.n(o),c=r(86896),d=r(35667),u=r(75249),p=r(47968),h=r(10251),f=r.n(h),m=r(30053);const v={container:"sbsK4oPIp4KSVOLa-nw6Iw==",main:"QR6o4dfthxUa98GiqghJQQ==",noNodes:"RwJeutaGDlGyLSh9oFGnPQ==",parent:"UId-Qty0dbS78dYw2JD7Wg==",item:"o42BcWQEZpWVfAkSji8BQg==",radio:"lhR-NTPruyqe74lhAqbeWQ==",activeLabel:"SyypfWdyosdosYKw4dAI4w==",someChecked:"U2bkF0bvJD1w499ui4P1AQ==",arrow:"NQLPbneqlsM2qK2QfEw3hw==",clickable:"LAQsIv3oQVphTHKIMhFxYw=="};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{constructor(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,"setProps",(e=>{this.props=e})),g(this,"clone",(()=>{var e={};return Object.keys(this.flatNodes).forEach((t=>{var r=this.flatNodes[t];e[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)})),new b(this.props,e)})),g(this,"getNode",(e=>this.flatNodes[e])),g(this,"flattenNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Array.isArray(e)&&0!==e.length&&e.forEach(((e,s)=>{var n=t.nodeHasChildren(e);t.flatNodes[e.value]={children:e.children,parent:r,isParent:n,isLeaf:!n,treeDepth:i,value:e.value,label:e.label,index:s},t.flattenNodes(e.children,e,i+1)}))})),g(this,"nodeHasChildren",(e=>Array.isArray(e.children)&&e.children.length>0)),g(this,"serializeList",(e=>{var t=[];return Object.keys(this.flatNodes).forEach((r=>{this.flatNodes[r][e]&&t.push(r)})),t})),g(this,"deserializeLists",(e=>{var t=["expanded"];Object.keys(this.flatNodes).forEach((e=>{t.forEach((t=>{this.flatNodes[e][t]=this.props.searchField}))})),t.forEach((t=>{e[t].forEach((e=>{void 0!==this.flatNodes[e]&&(this.flatNodes[e][t]=!0)}))}))})),g(this,"toggleChecked",((e,t)=>{var r=this.flatNodes[e.value];r.isLeaf?this.toggleNode(e.value,"checked",t):(this.toggleNode(e.value,"checked",t),r.children.forEach((e=>{this.toggleChecked(e,t)})))})),g(this,"toggleNode",((e,t,r)=>(this.flatNodes[e][t]=r,this))),this.props=e,this.flatNodes=r}}const j=b;var x=r(93898),S=r(43376),O=r(43637),P=r(85893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class k extends i.PureComponent{render(){var{toggleOpen:e,isOpen:t,hidden:r}=this.props,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t?{}:{transform:"rotate(-90deg)"});return r?null:(0,P.jsx)("span",{className:"flex-item_flexible",style:{position:"relative"},children:(0,P.jsx)(S.Z,{onClick:e,children:(0,P.jsx)(O.ZP,{classCustom:v.arrow,glyph:O.Zx,style:i})})})}}k.defaultProps={toggleOpen:m.wA,isOpen:!1,hidden:!1},k.propTypes={toggleOpen:n().func,isOpen:n().bool,hidden:n().bool};const T=k;var N=l().bind(v),R=e=>{var t,r,i,{expanded:s,children:n,checked:a,searchField:o,value:c,onCheck:d,onExpand:u,isParent:p,treeDepth:h,label:f}=e,m=Boolean(n),y=()=>u({value:c,expanded:!s}),g=l()({[v.main]:0===h,[v.parent]:p,[v.noNodes]:!m});return(0,P.jsxs)("li",{className:g,children:[(0,P.jsx)("span",{className:v.item,children:(i=N({activeLabel:a}),t=(0,P.jsx)("span",{className:i,children:f}),r=N({clickable:m}),(0,P.jsxs)("span",{children:[(0,P.jsx)("span",{children:(0,P.jsx)(T,{isOpen:s,toggleOpen:y,hidden:!m||o})}),(0,P.jsx)(x.t,{handler:()=>d(c),checked:a,className:v.radio}),(0,P.jsx)("span",{className:r,onClick:()=>{p&&y()},children:t})]}))}),s?n:null]})};R.defaultProps={checked:!1,children:null,label:"",isParent:!1},R.propTypes={isParent:n().bool,expanded:n().bool.isRequired,children:n().node,checked:n().bool,searchField:n().bool.isRequired,treeDepth:n().number.isRequired,label:n().string,value:n().string.isRequired,onCheck:n().func.isRequired,onExpand:n().func.isRequired};const E=R;function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class A extends i.PureComponent{constructor(e){var t;super(e),t=this,D(this,"onExpand",(e=>{var{onExpand:t}=this.props,r=this.state.model.clone();r.toggleNode(e.value,"expanded",e.expanded),t(r.serializeList("expanded"))})),D(this,"renderTreeNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{model:i}=t.state,{searchField:s}=t.props,n=e.map((e=>{var n=e.value,a=i.getNode(e.value),o=a.isParent?t.renderTreeNodes(e.children,e):null;if(r.value&&!i.getNode(r.value).expanded)return null;var l=e.value===t.props.checked;return(0,P.jsx)(E,{checked:l,value:e.value,isParent:a.isParent,isLeaf:a.isLeaf,onCheck:t.props.onCheck,onExpand:t.onExpand,label:e.label,expanded:a.expanded,treeDepth:a.treeDepth,searchField:s,children:o},n)}));return(0,P.jsx)("ul",{children:n})}));var r=new j(e);r.flattenNodes(e.nodes),r.deserializeLists({expanded:e.expanded}),this.state={model:r,prevProps:e}}UNSAFE_componentWillReceiveProps(e){var{model:t,prevProps:r}=this.state,{nodes:i}=e;this.setState({prevProps:e}),t.setProps(e),f()(r.nodes,i)||t.flattenNodes(i),t.deserializeLists({checked:e.checked,expanded:e.expanded})}render(){var{nodes:e}=this.props,t=this.renderTreeNodes(e);return(0,P.jsx)("div",{className:v.container,children:t})}}A.defaultProps={checked:[],expanded:[],onCheck:m.wA,onExpand:m.wA},A.propTypes={checked:n().string,expanded:n().array,onCheck:n().func,onExpand:n().func,nodes:n().array.isRequired,searchField:n().bool.isRequired};const M=A;var I=r(16313),Z=r.n(I);function q(e,t){return!!e.label.toUpperCase().includes(t.toUpperCase())||!(0,d.xb)(e.children)&&e.children.some((e=>q(e,t)))}function F(e,t){e.children&&(e.children=e.children.filter((e=>q(e,t))),e.children.forEach((e=>F(e,t))))}const L={button:"dSzCbgneK8sEASv4HBPFKw==",input:"xeRYDfLIsn36bSF0zB06QA==",wrapper:"JvHQKE5M+8O0S8OEBl6b1w==",count:"_5d3EsEG2hEie7q+TeJiDfg==",treeWrap:"ry7coYYVgUfEEsGFBw79ZA==",shadowProvider:"D9rST98sVCUAM5ElKRoOkQ=="};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.forEach((e=>{if(t[e.value]=_({},e),e.children){var i=G(e.children);r=_(_({},r),i)}})),_(_({},t),r)}var W=l().bind(L),U=e=>{var{listHeight:t,disabled:r,classContainer:s,value:n,nodes:o,onChange:h,hintText:f,classNamePopover:m}=e,v=(0,i.useRef)(null),y=(0,c.Z)(),[g,b]=(0,i.useState)(""),[j,x]=(0,i.useState)(null),[S,O]=(0,i.useState)(!1),[w,C]=(0,i.useState)(o);(0,i.useEffect)((()=>{C(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Z()(e[0]);return(0,d.xb)(r)?[]:((0,d.xb)(t)||F(r,t),[r])}(o,g))}),[o,g]);var k=()=>O(!1),T=e=>{return t=o[0],r=(0,d.xb)(t)?void 0:t.value,x([r]),v.current.focus(),b(""),void O(!0);var t,r},N=l()("auto-complete-multi-select","flex-container",{[s]:!!s}),R=l()("flex-item_flexible","icon"),E=G(o),D=E[n]?E[n].label:"",A=S?g:D,I=W("scroll","treeWrap");return(0,i.useEffect)((()=>{var e;S||null===(e=v.current)||void 0===e||e.blur()}),[S]),(0,P.jsxs)("div",{className:N,children:[(0,P.jsxs)("div",{className:R,style:{position:"relative"},children:[(0,P.jsx)("input",{ref:v,type:"text",placeholder:(0,d.xb)(f)?y.formatMessage(u.UC):f,name:"auto-complete-search",value:A,onChange:e=>b(e.target.value.trimLeft()),onClick:T,style:{width:"100%"},disabled:r,autoComplete:"off"}),(0,P.jsx)(p.Z,{open:S,disabled:r,className:L.button,onClick:T})]}),(0,P.jsx)(a.ZP,{open:S,anchorEl:v.current,onClose:k,onBackdropClick:k,disableAutoFocus:!0,disableEnforceFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,P.jsx)("div",{className:L.shadowProvider,children:(0,P.jsx)("div",{style:{width:310,maxHeight:t,height:t},className:l()(I,m),children:(0,P.jsx)(M,{checked:n,expanded:j,nodes:w,onCheck:h,onExpand:e=>x(e),searchField:!(0,d.xb)(A)})})})})]})};U.defaultProps={listHeight:300,classContainer:"",value:"",disabled:!1,hintText:"",classNamePopover:""},U.propTypes={value:n().string,nodes:n().array.isRequired,onChange:n().func.isRequired,listHeight:n().number,disabled:n().bool,classContainer:n().string,hintText:n().string,classNamePopover:n().string};const V=(0,i.memo)(U)},15286:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(44845),a=(0,r(41120).Z)((e=>({root:e=>({width:e.width||200}),margin:{height:e.spacing(3)}}))),o=(e,t)=>e?[...Array(t)].map(((e,t)=>({value:t,label:t}))):[];var l=r(85893),c=e=>{var{onChange:t,value:r,disabled:i,step:s,min:c,max:d,width:u,hasMarks:p,isScheduleBlocker:h}=e,f=a({width:u}),m=h?d+1:d;return(0,l.jsx)("div",{className:f.root,children:(0,l.jsx)(n.Z,{style:{color:"#09acf7"},onChange:(e,r)=>t(r),value:r,defaultValue:c,"aria-labelledby":"discrete-slider-custom",step:s,marks:o(p,m),disabled:i,min:c,max:d,className:"tiFSbhT8rg2yEr+ZnSEaJQ=="})})};c.defaultProps={disabled:!1,step:1,min:0,max:100,hasMarks:!1,width:null,isScheduleBlocker:!1},c.propTypes={onChange:s().func.isRequired,value:s().number.isRequired,disabled:s().bool,step:s().number,min:s().number,max:s().number,hasMarks:s().bool,width:s().number,isScheduleBlocker:s().bool};const d=c},56685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(45697),s=r.n(i),n=r(85893),a=e=>{var{children:t,divStyle:r}=e;return(0,n.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},style:r,children:t})};a.defaultProps={divStyle:{}},a.propTypes={children:s().node.isRequired,divStyle:s().object};const o=a},53650:(e,t,r)=>{"use strict";r.d(t,{DJ:()=>d,gX:()=>l});var i=r(80008),s=r.n(i),n=r(65227),a=new Set;function o(e){var t=s().tz(e).format("Z");return a.add(t),t}var l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n._E,i=s()(e,r).format(n.zE);return"".concat(i," ").concat((e=>"+"===e[0]||"-"===e[0]?e:o(e))(t))};function c(e,t){var r=s().tz.guess();return e.name===r?-1:t.name===r||s()(e.offset,"Z")<s()(t.offset,"Z")?1:-1}function d(){return[...s().tz.names().map((e=>({name:e,offset:o(e),text:"".concat(o(e)," (").concat(e,")")}))),...[...a].map((e=>({name:e,offset:e,text:"".concat(e," (").concat(e,")")})))].sort(c)}},25022:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var i=r(45697),s=r.n(i),n=r(30053),a=r(35667),o=r(67294),l=r(47968);var c=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=e=>{var{node:t,renderNode:r,renderLabel:i,childrenKey:s,getNodeChildren:n,getItemKey:d,openedNodes:p,onClick:f,showNode:m,nodeStyleGetter:v,iconStyle:y,nodeContainerStyle:g,nodeNameKey:b}=e,[j,x]=(0,o.useState)(p),S=e=>!!j[d(e)],O=e=>()=>{f&&f(e),S(e)?delete j[d(e)]:j[d(e)]=e,x(u({},j))},P=n(t),w=!!j[d(t)];return(0,c.jsxs)("div",{style:u({},g),children:[r?r(t):(e=>{if(e.customNode&&e.render)return e.render();var t=!(0,a.xb)(n(e));return m&&!m(e)?null:(0,c.jsxs)("div",{className:"zp3ybAz1Cg3OvJkL7fXWmQ==",onClick:O(e),children:[(0,c.jsx)(l.Z,{open:S(e),hidden:!t,className:"RWFGvzpKZQGN-MghOuCvHQ=="}),(0,c.jsx)("div",{className:"NSdqEdSE3YyyhVsd90+7KA==",children:i?i(e):e.groupName})]})})(t),w&&(0,c.jsx)("div",{className:"pl+",style:{fontSize:"16px"},children:P&&P.map(((e,t)=>(0,c.jsx)(h,{node:e,nodeNameKey:b,nodeName:e[b],renderNode:r,childrenKey:s,getNodeChildren:n,getItemKey:d,openedNodes:j,onClick:f,renderLabel:i,showNode:m,nodeStyleGetter:v,iconStyle:y,nodeContainerStyle:g},e.id||t)))})]})};h.defaultProps={renderNode:null,renderLabel:null,onClick:null,showNode:null,nodeStyleGetter:null,iconStyle:{},nodeContainerStyle:{}},h.propTypes={childrenKey:s().string.isRequired,getNodeChildren:s().func.isRequired,nodeNameKey:s().string.isRequired,node:s().object.isRequired,openedNodes:s().object.isRequired,renderNode:s().func,renderLabel:s().func,getItemKey:s().func.isRequired,onClick:s().func,showNode:s().func,nodeStyleGetter:s().func,iconStyle:s().object,nodeContainerStyle:s().object};const f=h;var m=e=>{var{treeRoot:t,renderNode:r,renderLabel:i,childrenKey:s,getNodeChildren:n,getItemKey:a,onClick:o,showNode:l,openedNodes:d,nodeStyleGetter:u,iconStyle:p,nodeContainerStyle:h,nodeNameKey:m}=e;return(0,c.jsx)(f,{nodeNameKey:m,nodeName:t[m],node:t,renderNode:r,renderLabel:i,childrenKey:s,getNodeChildren:n,getItemKey:a,openedNodes:d||{},onClick:o,showNode:l,nodeStyleGetter:u,iconStyle:p,nodeContainerStyle:h})};m.defaultProps={childrenKey:"children",getItemKey:e=>e.id,nodeNameKey:"name",getNodeChildren:e=>e.children,onClick:n.wA,iconStyle:{}},m.propTypes={childrenKey:s().string,getNodeChildren:s().func,nodeNameKey:s().string,treeRoot:s().object.isRequired,renderNode:s().func.isRequired,renderLabel:s().func.isRequired,getItemKey:s().func,openedNodes:s().object.isRequired,showNode:s().func.isRequired,nodeStyleGetter:s().func.isRequired,iconStyle:s().object,nodeContainerStyle:s().object.isRequired,onClick:s().func};const v=m},63683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(45697),s=r.n(i),n=r(40767),a=r(43637);var o=r(85893),l=e=>{var{count:t,clearFilter:r,className:i}=e,s=(0,o.jsx)("span",{className:"JmTGpXRqfJZRBdhYdMD+tQ==",children:t});return(0,o.jsxs)("div",{className:"SB2QW1VF6J0lO-meDz5L8g==",children:[Boolean(t)&&s,(0,o.jsx)(n.Z,{onClick:r,disabled:!t,className:i,children:(0,o.jsx)(a.ZP,{glyph:a.KW})})]})};l.defaultProps={count:0,className:""},l.propTypes={clearFilter:s().func.isRequired,count:s().number,className:s().string};const c=l},69554:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var i=r(67294),s=r(45697),n=r.n(s),a=r(3598),o=r.n(a),l=r(44012),c=r(74806),d=r(27856),u=r(35667),p=r(15197),h=r(30053),f=r(22350),m=r(57484),v=r(37297),y=r(43637),g=r(53514),b=r(86565),j=r(86613),x=r(64483),S=r(47945),O=r(85893);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class k extends i.PureComponent{constructor(e){super(e),C(this,"handleSearchChange",(0,d.D)(10,!1,(e=>{this.setState({searchTerm:e})}))),C(this,"handleDeleteFilter",(()=>{var{column:e,onChangeFilter:t,onRequestClose:r}=this.props;this.setState({selected:{}}),t({},e),r()})),C(this,"getUpdatedFilter",(e=>{var t={};return e.forEach((e=>{""===e?t[p.Gl.EQUALS]={"":!0}:t[p.Gl.INCLUDES]=w(w({},t[p.Gl.INCLUDES]),{},{[e]:!0})})),t})),C(this,"updateFilter",(e=>{this.setState({selected:this.getUpdatedFilter(e)})})),C(this,"getFlatArray",(e=>{var{searchTerm:t}=this.state,{column:r}=this.props,i=[];return e.forEach((e=>{var t=(0,p.WX)(r.key)?(0,p.uG)(e[r.key]):e[r.key];if((0,u.xb)(e[r.key]))return i.push("");t.forEach((e=>{(0,u.xb)(e)||i.push(e.name||e.externalUserId||e.userLogin)}))})),[...new Set(i)].filter((e=>null==e?void 0:e.toLowerCase().includes(t.toLowerCase())))})),C(this,"saveFilter",(()=>{var{onChangeFilter:e,onRequestClose:t,column:r}=this.props,{selected:i}=this.state;e(i,r),t()})),C(this,"getFormattedSelected",(()=>{var{selected:e}=this.state,t=[];return(0,u.xb)(e[p.Gl.EQUALS])||t.push(...Object.keys(e[p.Gl.EQUALS])),(0,u.xb)(e[p.Gl.INCLUDES])||t.push(...Object.keys(e[p.Gl.INCLUDES])),t}));var{filter:t}=e,r={[p.Gl.EQUALS]:(0,p.zW)((0,p.y)(t,p.Gl.EQUALS)),[p.Gl.INCLUDES]:(0,p.zW)((0,p.y)(t,p.Gl.INCLUDES))};this.state={selected:r,searchTerm:""}}render(){var{data:e,column:t,onRequestClose:r,filter:i,intl:{formatMessage:s}}=this.props,{searchTerm:n}=this.state,a=s({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),o=(0,O.jsx)(l.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]}),{isFilterLabel:c=!1,formattedFilterValue:d}=t,u=0===Object.keys(i).length,p=this.getFormattedSelected(),S=this.getFlatArray(e).map((e=>({text:e,value:e}))).sort((0,f.hM)("text"));return(0,O.jsxs)("div",{className:"table-filter",children:[(0,O.jsx)("div",{className:"table-filter__header",children:(0,O.jsx)(g.Z,{glyph:y.Tw,onClick:r,classContainer:"table-filter__close-button"})}),(0,O.jsx)("div",{className:"table-filter__tool-bar",children:(0,O.jsx)(j.Z,{disabled:u,onClear:this.handleDeleteFilter})}),(0,O.jsx)("div",{children:(0,O.jsx)(b.Z,{value:n,onChange:this.handleSearchChange,className:x.Z.searchField,placeholder:a})}),(0,O.jsx)(v.Z,{dataSource:S,dataSourceConfig:{text:"text",value:"value"},values:p,onChange:this.updateFilter,labelRenderer:h.wA,isFilterLabel:c,formattedFilterValue:d,checkboxLabelClassName:x.Z.checkboxFilter}),(0,O.jsx)("div",{className:x.Z.saveFilterBtn,children:(0,O.jsx)(m.Z,{onClick:this.saveFilter,type:"transparent",caption:o})})]})}}k.defaultProps={filter:[]},k.propTypes=o()({column:n().object.isRequired,data:n().array.isRequired,onRequestClose:n().func.isRequired,onChangeFilter:n().func.isRequired,filter:n().array,intl:S.gm.isRequired});const T=(0,c.ZP)(k)},90794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(85893);function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class n{constructor(e){s(this,"key",void 0),s(this,"fixed",void 0),s(this,"filterable",void 0),s(this,"hasTitle",!0),s(this,"filterComponent",void 0),s(this,"sortable",void 0),s(this,"sortFunc",void 0),s(this,"_width",void 0),s(this,"calculatedWidth",void 0),s(this,"label",void 0),s(this,"cellClassName",void 0),s(this,"headerClassName",void 0),s(this,"sortButtonClassNames",void 0),s(this,"headerCellStyle",void 0),s(this,"cellStyle",void 0),s(this,"onCellHover",void 0),s(this,"autoSize",void 0),s(this,"isFilterLabel",void 0),s(this,"formattedFilterValue",void 0),s(this,"descSortEnabledByDefault",void 0),s(this,"renderCell",(e=>(0,i.jsx)("div",{className:this.cellClassName,style:this.cellStyle,children:this.getValue(e)}))),s(this,"renderHeader",(()=>this.label)),s(this,"renderFilterRow",void 0),s(this,"getValue",(e=>{if(Number.isInteger(this.key))return e[this.key];var t;try{t=this.key.split(".").reduce(((e,t)=>e[t]),e)}catch(e){return t}return t})),Object.keys(e).forEach((t=>this[t]=e[t])),this.calculatedWidth=e.width}get width(){return this._width}set width(e){this._width=e,this.calculatedWidth=e}}},44983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(67294),s=r(45697),n=r.n(s),a=r(44012),o=r(43637),l=r(40767),c=r(49078),d=r(85893);class u extends i.PureComponent{render(){var{disabled:e,onClear:t}=this.props;return(0,d.jsxs)(l.Z,{onClick:t,className:"mr+",disabled:e,children:[(0,d.jsx)(o.ZP,{glyph:o.XH}),(0,d.jsx)("span",{className:c.Z.clear,children:(0,d.jsx)(a.Z,{id:"tableFilter.removeFilter",defaultMessage:[{type:0,value:"Удалить фильтр"}]})})]})}}u.propTypes={disabled:n().bool.isRequired,onClear:n().func.isRequired};const p=u},86613:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(44983)},77482:(e,t,r)=>{"use strict";r.d(t,{Z:()=>U});var i=r(67294),s=r(45697),n=r.n(s),a=r(52387),o=r(94184),l=r.n(o),c=r(30053),d=r(40767),u=r(43637),p=r(35667),h=r(43376),f=r(85893);function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends i.PureComponent{constructor(){super(...arguments),m(this,"handleClear",(()=>{var{isEmptyFilter:e,cleanAllFilters:t}=this.props;e||t()})),m(this,"hasEmptyFilters",(()=>{var{filters:e}=this.props;if((0,p.xb)(e))return!0;for(var t=Object.entries(e),r=0;r<t.length;r++){var[i]=t[r];if(i)return!1}return!0}))}render(){var{numberItemsFilter:e}=this.props,t=this.hasEmptyFilters();return(0,f.jsxs)("div",{className:"flex-container",children:[!t&&(0,f.jsx)("div",{children:e}),(0,f.jsx)(h.Z,{style:{paddingLeft:5},disabled:t,onClick:this.handleClear,children:(0,f.jsx)(u.ZP,{glyph:u.Qy})})]})}}v.defaultProps={isEmptyFilter:!1},v.propTypes={numberItemsFilter:n().number.isRequired,filters:n().object.isRequired,cleanAllFilters:n().func.isRequired,isEmptyFilter:n().bool};const y=v;var g=r(3598),b=r.n(g),j=r(30381),x=r.n(j),S=r(44012),O=r(74806),P=r(27856),w=r(65227),C=r(15197),k=r(57484),T=r(37297),N=r(53514),R=r(86565),E=r(86613),D=r(49078),A=r(47945);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class q extends i.PureComponent{constructor(e){super(e),Z(this,"handleSearchTextChange",(0,P.D)(10,!1,(e=>{var{column:t}=this.props;this.setState((r=>({preparedData:this.getPreparedData({prevState:r,column:t,newValue:e}),searchText:e})))}))),Z(this,"withoutDoubles",((e,t)=>{var r=[];return e.forEach((e=>{r.find((r=>t(r)===t(e)))||r.push(e)})),r})),Z(this,"widthFullValue",(e=>e.map((e=>I(I({},e),{},{[this.props.column.key]:this.props.getFullValue(e,this.props.column)}))))),Z(this,"handleDeleteFilter",(()=>{var{column:e,onChangeFilter:t,onRequestClose:r}=this.props;this.setState({filtersStash:{}}),t({},e),r()})),Z(this,"getPreparedData",(e=>{var{prevState:t,column:r,newValue:i}=e;return t.initialData.filter((e=>null!==e[r.key])).filter((e=>"number"==typeof e[r.key]?String(e[r.key]).toLowerCase().includes(i.toLowerCase()):!(0,p.xb)(e[r.key])&&e[r.key].toLowerCase().includes(i.toLowerCase())))})),Z(this,"updateFilter",(e=>{var t=(0,C.zW)(e);this.setState({filtersStash:t})})),Z(this,"saveFilter",(()=>{var{onChangeFilter:e,onRequestClose:t,column:r}=this.props,{filtersStash:i}=this.state;e({[C.Gl.EQUALS]:i},r),t()})),Z(this,"getRowRenderer",(()=>{var{column:e,rowRenderer:t}=this.props;return"firingDate"===e.key||"hiringDate"===e.key||"dateOfBirth"===e.key?e=>x()(e,w._T).format(w._T):t}));var{data:t,filter:r}=e,i=this.widthFullValue(this.withoutDoubles(t,this.props.column.getValue)),s=(0,C.y)(r);this.state={filtersStash:(0,C.zW)(s),preparedData:i,searchText:"",initialData:i}}render(){var{column:e,onRequestClose:t,filter:r,sortDirection:i,intl:s,checkboxLabelClassName:n}=this.props,{filtersStash:a,preparedData:o,searchText:c}=this.state,d=s.formatMessage({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),h=(0,f.jsx)(S.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]}),{key:m,isFilterLabel:v=!1,formattedFilterValue:y}=e,g=[...o],b=Object.keys(a),j=0===Object.keys(r).length,x={text:e.key,value:e.key},{compare:O}=new Intl.Collator,P=g.map((e=>I(I({},e),{},{[m]:(0,p.xb)(e[m])?"":e[m]}))).sort(((e,t)=>"number"==typeof e[m]&&"number"==typeof t[m]?(e[m]-t[m])*i:O(e[m],t[m])*i)).map((e=>I(I({},e),{},{[m]:(0,p.xb)(e[m])?null:e[m]})));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"table-filter__header",children:(0,f.jsx)(N.Z,{glyph:u.Tw,onClick:t,classContainer:"table-filter__close-button"})}),(0,f.jsx)("div",{className:"table-filter__tool-bar",children:(0,f.jsx)(E.Z,{disabled:j,onClear:this.handleDeleteFilter})}),(0,f.jsx)("div",{children:(0,f.jsx)(R.Z,{onChange:this.handleSearchTextChange,value:c,className:D.Z.searchField,placeholder:d})}),(0,f.jsx)(T.Z,{checkboxLabelClassName:l()(D.Z.checkbox,n),dataSource:P,dataSourceConfig:x,values:b,onChange:this.updateFilter,labelRenderer:this.getRowRenderer(),isFilterLabel:v,formattedFilterValue:y}),(0,f.jsx)("div",{className:D.Z.saveFilterBtn,children:(0,f.jsx)(k.Z,{onClick:this.saveFilter,type:"transparent",caption:h})})]})}}q.defaultProps={filter:[],sortDirection:0,rowRenderer:e=>e,checkboxLabelClassName:""},q.propTypes=b()({column:n().object.isRequired,data:n().array.isRequired,onRequestClose:n().func.isRequired,onChangeFilter:n().func.isRequired,getFullValue:n().func.isRequired,filter:n().array,sortDirection:n().number,checkboxLabelClassName:n().string,rowRenderer:n().func,intl:A.gm.isRequired});const F=(0,O.ZP)(q);var L=r(90794),H=r(68639);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=e=>{var t=(0,i.useRef)(null),[r,s]=(0,i.useState)(!1),{style:n,column:o,data:c,filters:p,sortDirection:h,clearAllFilters:m,columnIndex:v,onSortChange:g,sortIndex:b,onChangeFilter:j,onChangeFilters:x,hideSortDirectionNumber:S,checkboxLabelClassName:O}=e,P=p[o.key],w=o.descSortEnabledByDefault&&1!==h?-1:1,C=1===h?(0,f.jsx)(u.ZP,{glyph:u.Lx}):(0,f.jsx)(u.ZP,{glyph:u.Mx}),k=()=>{s(!1)},T=e=>{var t=(0,H.M7)(e,o,p);j(e,o),x(t)};return(0,f.jsxs)("div",{ref:t,style:B(B({},n),{},{width:o.calculatedWidth}),children:[(0,f.jsxs)("div",{className:"flex-container flex-container_align-items-center "+(o.headerClassName||""),style:B({height:n.height,overflow:"hidden"},o.headerCellStyle),children:[(0,f.jsx)("div",{className:l()("virtualized-table__column-title",o.titleStyle),title:o.hasTitle?o.renderHeader():void 0,children:o.renderHeader()}),(0,f.jsxs)("div",{className:l()("virtualized-table__filter-bar",o.filterableClassName),children:[o.filterable&&(0,f.jsx)("div",{className:"flex-item_fixed",children:(0,f.jsx)(d.Z,{onClick:()=>{s(!0)},active:P,children:(0,f.jsx)(u.ZP,{glyph:u.wn})})}),o.clearFilter&&(0,f.jsx)(y,{cleanAllFilters:m,numberItemsFilter:c.length,filters:p}),o.sortable&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{className:o.sortButtonClassNames,onClick:()=>g(v),active:0!==h,children:0===h?(0,f.jsx)(u.ZP,{glyph:u.fz}):C}),!S&&(0,f.jsx)("span",{className:l()("virtualized-table__sort-index-badge",o.sortButtonArrowClassNames),children:0!==b?b:""})]})]})]}),(0,f.jsxs)(a.ZP,{open:r,anchorEl:t.current,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[o.filterComponent&&(0,f.jsx)(o.filterComponent,{data:c,column:o,onRequestClose:k,onChangeFilter:T,filter:P}),!o.filterComponent&&(0,f.jsx)("div",{className:"table-filter",children:(0,f.jsx)(F,{data:c,onRequestClose:k,getFullValue:o.getValue,sortDirection:w,column:o,onChangeFilter:T,filter:P,rowRenderer:o.renderFilterRow,checkboxLabelClassName:O})})]})]})};W.defaultProps={onChangeFilter:c.wA,onChangeFilters:c.wA,hideSortDirectionNumber:!1,checkboxLabelClassName:""},W.propTypes={style:n().object.isRequired,column:n().instanceOf(L.Z).isRequired,filters:n().object.isRequired,sortDirection:n().oneOf([-1,0,1]).isRequired,columnIndex:n().number.isRequired,clearAllFilters:n().func.isRequired,data:n().arrayOf(n().object).isRequired,onSortChange:n().func.isRequired,sortIndex:n().number.isRequired,checkboxLabelClassName:n().string,onChangeFilter:n().func,onChangeFilters:n().func,hideSortDirectionNumber:n().bool};const U=(0,i.memo)(W)},30797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var i=r(67294),s=r(45697),n=r.n(s),a=r(94184),o=r.n(a),l=r(63078),c=r(27856),d=r(15197),u=r(30053),p=r(35667),h=r(90794),f=r(64483),m=r(77482),v=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends i.Component{constructor(e){var t;super(e),t=this,b(this,"multiGrid",void 0),b(this,"updateHoverState",void 0),b(this,"onResize",(e=>{var{height:t,width:r}=e;this.props.columnsAutoWidth&&this.updateColumnsCalculatedWidth(this.props.columns,r),r===this.state.calculatedWidth&&t===this.state.calculatedHeight||this.setState({calculatedWidth:r,calculatedHeight:t}),this.props.onResize({height:t,width:r}),this.forceUpdate()})),b(this,"getColumnWidth",(e=>{var{index:t}=e;return this.state.sortedColumns[t].calculatedWidth})),b(this,"getNumberItemsFilter",(()=>Object.keys(this.state.filteredSortedData).length)),b(this,"updateColumnsCalculatedWidth",((e,t)=>{var r,{isAutoWidthCurrentColumn:i}=this.props,s=e.reduce(((e,t)=>e+t.width),0),n=(t-15)/s,a=t-15-s;e.forEach((e=>{e.autoSize&&(e.calculatedWidth=a>0?e.width+a:e.width),i||(e.calculatedWidth=Math.floor(e.width*n)||1)})),null!==(r=this.multiGrid)&&void 0!==r&&r.current&&this.multiGrid.current.recomputeGridSize({rowIndex:0})})),b(this,"filterSortData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,i=(0,d.Rb)(e,r||t.state&&t.state.filters||{});if(!t.state||!t.state.sorters||!t.state.sorters.length)return i;var s=new Intl.Collator,n=e=>Array.isArray(e)?e.map((e=>e.toString().replace(/^№/,"!"))):"string"==typeof e?e.replace(/^№/,"!"):e;return i.sort(((e,r)=>{for(var i,a=0,o=t.state.sorters[a];void 0===i&&o;){var l=n(o.column.getValue(e)),c=n(o.column.getValue(r));l!==c?i="number"==typeof l&&"number"==typeof c?(1===o.direction?l>c:l<c)?1:-1:"function"==typeof o.column.sortFunc?o.column.sortFunc(l,c)*o.direction:s.compare(l,c)*o.direction:(a++,o=t.state.sorters[a])}return void 0===i?0:i}))})),b(this,"handleSortChange",(e=>{var t=this.state.sortedColumns[e],r=[...this.state.sorters],i=r.find((e=>e.column.key===t.key));i?1===i.direction?i.direction=-1:r=r.filter((e=>e.column.key!==t.key)):r.push({direction:1,column:t}),this.setState({sorters:r},(()=>{this.setState({filteredSortedData:this.filterSortData(this.props.data)})}))})),b(this,"handleChangeFilter",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=Object.keys(e).reduce(((t,i)=>[...t,...Object.keys(e[i]).reduce(((e,t)=>[...e,{[i]:t,column:r}]),[])]),[]);t.setState((e=>{var s=g(g({},e.filters),{},{[r.key]:i.length?i:void 0}),{onFiltersChange:n,data:a,setFilter:o}=t.props,l=!!n,c=t.filterSortData(a,s);return l&&n(s,c),o(s),t.props.setFilters(s),{filters:s,filteredSortedData:c}}))})),b(this,"cleanAllFilters",(()=>{var{setFilter:e,data:t}=this.props,r={};this.setState({filters:r,filteredSortedData:this.filterSortData(t,r)}),e(r)})),b(this,"renderCell",(e=>{var{columnIndex:t,key:r,rowIndex:i,style:s}=e,{shouldDisableRow:n,enableHoveredRowShadows:a,hoveredRowCellStyle:l,hideSortDirectionNumber:c,checkboxLabelClassName:d}=this.props,{hoveredRowIndex:u,filters:h}=this.state,y=this.state.filteredSortedData[i-1]||{},b=this.state.sortedColumns[t],j=this.state.sorters.find((e=>e.column.key===b.key)),x=this.state.sorters.indexOf(j)+1,S=j?j.direction:0,O=0===i,P=n&&n(y);if(O)return(0,v.jsx)(m.Z,{style:s,column:b,filters:h,sortDirection:S,columnIndex:t,clearAllFilters:this.cleanAllFilters,data:this.state.filteredSortedData,onSortChange:this.handleSortChange,sortIndex:x,onChangeFilter:this.handleChangeFilter,hideSortDirectionNumber:c,checkboxLabelClassName:d},r);var w=i%2==0,C=o()(this.props.cellClassName,{"even-row":w,"odd-row":!w,[f.Z.enableHoveredRowShadows]:i===u&&a&&(0,p.xb)(l),disabled:P});return(0,v.jsx)("div",{onClick:e=>{if(!P){var{onCellClick:t}=this.props;t&&t(e,y,i-1)}},title:b.hasTitle?b.getValue(y,i-1):void 0,style:g(g(g(g(g({},s),{},{width:b.calculatedWidth},this.props.cellStyle),b.cellStyle),t===this.state.hoveredColumnIndex&&this.props.hoveredColumnCellStyle),i===this.state.hoveredRowIndex&&this.props.hoveredRowCellStyle),className:C,onMouseOver:(this.props.hoveredColumnCellStyle||this.props.hoveredRowCellStyle||b.onCellHover)&&(e=>{b.onCellHover&&(e.persist(),b.onCellHover(e,{rowIndex:i,columnIndex:t})),(this.props.hoveredColumnCellStyle||this.props.hoveredRowCellStyle)&&this.updateHoverState(t,i)}),children:b.renderCell(y,i-1)},b.fixed?r:"table-body-"+r)}));var r=e.columns.filter((e=>e.fixed)),s=e.columns.filter((e=>!e.fixed)),n=[...r,...s];this.state={fixedColumnCount:r.length,calculatedWidth:1,calculatedHeight:1,sorters:e.sorters||[],sortedColumns:n,filteredSortedData:this.filterSortData(e.data,e.filters),filters:e.filters,hoveredColumnIndex:void 0,hoveredRowIndex:void 0},this.updateHoverState=(0,c.D)(e.hoverDebounceDelay,!1,((e,t)=>{this.setState({hoveredColumnIndex:e,hoveredRowIndex:t})})),this.multiGrid=(0,i.createRef)(null)}UNSAFE_componentWillReceiveProps(e){var t={},r={},{setFilter:i}=this.props;if(this.props.displaySettings&&JSON.stringify(e.displaySettings)!==JSON.stringify(this.props.displaySettings)&&(this.setState({sorters:[],filters:r,filteredSortedData:this.filterSortData(e.data,r)}),i(r)),e.data!==this.props.data&&(t.filteredSortedData=this.filterSortData(e.data,e.filters)),e.columns!==this.props.columns){var s=e.columns.filter((e=>e.fixed)),n=e.columns.filter((e=>!e.fixed));t.sortedColumns=[...s,...n],t.fixedColumnCount=s.length}e.filters!==this.props.filters&&(t.filters=e.filters,this.props.setFilteredData(this.state.filteredSortedData.length)),!e.columnsAutoWidth||e.width&&e.width===this.props.width&&e.columns===this.props.columns||this.updateColumnsCalculatedWidth(e.columns,e.width||this.state.calculatedWidth),0!==Object.keys(t).length&&this.setState(t)}componentDidUpdate(e){var t;e.leftSideWidth!==this.props.leftSideWidth&&null!==(t=this.multiGrid)&&void 0!==t&&t.current&&(this.multiGrid.current.recomputeGridSize({rowIndex:0}),this.forceUpdate())}render(){var{width:e,height:t,style:r,rowHeight:i,headerStyle:s,classNameBottomRightGrid:n,leftSideStyle:a,leftSideBottomStyle:o,rightSideBottomStyle:c,classNameTopLeftGrid:d,classNameTopRightGrid:u,enableFixedColumnScroll:p,hideBottomLeftGridScrollbar:h,classNameBottomLeftGrid:f}=this.props,m=this.state.filteredSortedData.length+1;return(0,v.jsx)(l.qj,{onResize:this.onResize,children:y=>{var{width:b,height:j}=y;return(0,v.jsx)(l.yR,{ref:this.multiGrid,fixedColumnCount:this.state.fixedColumnCount,styleTopLeftGrid:g(g({},s),a),styleTopRightGrid:s,styleBottomLeftGrid:o||a,styleBottomRightGrid:c,fixedRowCount:1,cellRenderer:this.renderCell,columnWidth:this.getColumnWidth,columnCount:this.state.sortedColumns.length,height:t||j,classNameBottomRightGrid:n,rowHeight:"function"==typeof i?i:Number(i),rowCount:m,style:r,width:e||b,classNameTopLeftGrid:d,classNameTopRightGrid:u,classNameBottomLeftGrid:f,enableFixedColumnScroll:p,hideBottomLeftGridScrollbar:h,enableFixedRowScroll:!1})}})}}j.defaultProps={data:[],rowHeight:32,hoverDebounceDelay:200,onResize:u.wA,filters:{},setFilter:u.wA,setFilters:u.wA,setFilteredData:u.wA,isAutoWidthCurrentColumn:!0,enableHoveredRowShadows:!0,classNameTopLeftGrid:f.Z.leftSideTop,classNameTopRightGrid:f.Z.header,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,style:{},cellStyle:{},headerStyle:{},leftSideStyle:{},hoveredRowCellStyle:{},hoveredColumnCellStyle:{},sorters:[],columnsAutoWidth:!1,classNameBottomRightGrid:"scroll",cellClassName:"",onCellClick:null,onFiltersChange:null,checkboxLabelClassName:"",leftSideBottomStyle:{boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11},classNameBottomLeftGrid:f.Z.leftSideBottom,leftSideWidth:0,rightSideBottomStyle:{},displaySettings:{},shouldDisableRow:null,width:null,height:null,hideSortDirectionNumber:!1},j.propTypes={width:n().number,height:n().number,hoverDebounceDelay:n().number,rowHeight:n().any,style:n().object,cellStyle:n().object,headerStyle:n().object,leftSideStyle:n().object,hoveredRowCellStyle:n().object,hoveredColumnCellStyle:n().object,filters:n().object,displaySettings:n().object,sorters:n().array,data:n().array,columnsAutoWidth:n().bool,classNameBottomRightGrid:n().string,cellClassName:n().string,onCellClick:n().func,onFiltersChange:n().func,columns:n().arrayOf(n().instanceOf(h.Z)).isRequired,onResize:n().func,setFilter:n().func,setFilters:n().func,setFilteredData:n().func,isAutoWidthCurrentColumn:n().bool,enableHoveredRowShadows:n().bool,leftSideBottomStyle:n().object,classNameTopLeftGrid:n().string,classNameTopRightGrid:n().string,classNameBottomLeftGrid:n().string,checkboxLabelClassName:n().string,enableFixedColumnScroll:n().bool,hideBottomLeftGridScrollbar:n().bool,leftSideWidth:n().number,rightSideBottomStyle:n().object,shouldDisableRow:n().func,hideSortDirectionNumber:n().bool};const x=j},68639:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return e<0?0:e}function o(e){var t=[],r=[];return e.forEach((e=>{e.fixed?t.push(e):r.push(e)})),[t,r]}function l(e){return e.reduce(((e,t)=>e+t.width),0)}function c(e,t){var r;return(null===(r=e[t])||void 0===r?void 0:r.width)||0}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?r=>{var{index:i}=r,s=c(e,i);if(function(e,t){return t===e.length-1}(e,i)){var n=l(e)-s,a=t-n;return Math.max(s,a)}return s}:t=>{var{index:r}=t;return c(e,r)}}function u(e,t,r){var i=Object.keys(e).reduce(((r,i)=>[...r,...Object.keys(e[i]).reduce(((e,r)=>[...e,{[i]:r,column:t}]),[])]),[]);return s(s({},r),{},{[t.key]:i.length?i:void 0})}function p(e,t){var r,i=e.findIndex((e=>e.column.key===t));return{index:i+1,direction:(null===(r=e[i])||void 0===r?void 0:r.direction)||0}}r.d(t,{ES:()=>l,IQ:()=>d,M7:()=>u,a1:()=>o,i1:()=>a,oO:()=>p})},92879:(e,t,r)=>{"use strict";r.d(t,{sg:()=>l.Z,ZP:()=>i.Z});var i=r(30797),s=r(45697),n=r.n(s),a=r(63078),o=r(30053),l=r(90794),c=r(57615),d=r(68639),u=r(67294),p=r(86658),h=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=e=>{var t=(0,u.useRef)(null),r=(0,u.useRef)(null),{scrollTop:i,scrollLeft:s,height:n,width:o,hideVerticalScroll:l}=e;return(0,u.useEffect)((()=>{r.current.scrollTop(i)}),[i]),(0,u.useEffect)((()=>{r.current.scrollLeft(s)}),[s]),(0,h.jsx)(p.$B,{ref:r,style:{height:n,width:o},onScroll:e=>{var{target:r}=e;t.current.handleScrollEvent({scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})},renderTrackVertical:l?()=>(0,h.jsx)("div",{style:{display:!1}}):void 0,autoHide:!0,children:(0,h.jsx)(a.rj,m({ref:t,style:{overflowX:!1,overflowY:!1}},e))})};y.propTypes={width:n().number.isRequired,height:n().number.isRequired,scrollLeft:n().number,scrollTop:n().number.isRequired,hideVerticalScroll:n().bool},y.defaultProps={hideVerticalScroll:!1,scrollLeft:0};const g=y;var b=r(77482),j=e=>{var{data:t,columns:r,setFilters:i,filters:s,setSorters:n,sorters:l}=e,u=t.length,[p,f]=(0,d.a1)(r),m=(0,d.ES)(p),v=e=>r=>{var{style:i,key:s,columnIndex:n,rowIndex:a}=r,o=t[a],l=a%2==0?c.Z.everCell:c.Z.oddCell;return(0,h.jsx)("div",{style:i,className:l,children:e[n].renderCell(o)},s)},y=(e,r)=>{var{style:a,key:c,columnIndex:u}=r,{index:p,direction:f}=(0,d.oO)(l,e.key);return(0,h.jsx)(b.Z,{style:a,column:e,filters:s,sortDirection:f,columnIndex:u,clearAllFilters:o.wA,data:t,onSortChange:()=>(e=>{var t=[...l],r=t.find((t=>t.column.key===e.key));r?1===r.direction?r.direction=-1:t=t.filter((t=>t.column.key!==e.key)):t.push({direction:1,column:e}),n(t)})(e),sortIndex:p,onChangeFilters:i},c)},j=e=>{var{style:t,key:r,columnIndex:i}=e,s=f[i];return y(s,{style:t,key:r,columnIndex:i})},x=e=>{var{style:t,key:r,columnIndex:i}=e,s=p[i];return y(s,{style:t,key:r,columnIndex:i})};return(0,h.jsx)(a.Ew,{children:e=>{var{scrollLeft:t,scrollTop:i,onScroll:s}=e;return(0,h.jsx)(a.qj,{children:e=>{var{width:n,height:o}=e,l=(0,d.i1)(o-40),y=(0,d.i1)(n-m),b=(0,d.i1)(r.length-p.length);return(0,h.jsxs)("div",{style:{width:n,height:o,overflow:"hidden"},children:[(0,h.jsxs)("div",{className:c.Z.header,children:[(0,h.jsx)(a.rj,{rowCount:1,width:y,height:40,columnCount:b,rowHeight:40,cellRenderer:j,columnWidth:(0,d.IQ)(f,y),scrollLeft:t,className:c.Z.leftTopTable}),(0,h.jsx)(a.rj,{rowCount:1,width:m,height:40,columnCount:p.length,rowHeight:40,cellRenderer:x,columnWidth:(0,d.IQ)(p),className:c.Z.rightTopTable})]}),(0,h.jsxs)("div",{className:c.Z.body,children:[(0,h.jsx)(g,{rowCount:u,width:y,height:l,columnCount:f.length,rowHeight:30,cellRenderer:v(f),columnWidth:(0,d.IQ)(f,y),scrollLeft:t,scrollTop:i,onScroll:s,className:c.Z.leftBottomTable,hideVerticalScroll:!0}),(0,h.jsx)("div",{className:c.Z.rightBottomTableWrap,children:(0,h.jsx)(g,{rowCount:u,width:m,height:l,columnCount:p.length,rowHeight:30,cellRenderer:v(p),columnWidth:(0,d.IQ)(p),scrollTop:i,onScroll:s})})]})]})}})}})};j.propTypes={data:n().arrayOf(n().object).isRequired,columns:n().arrayOf(n().instanceOf(l.Z)).isRequired,filters:n().object.isRequired,sorters:n().arrayOf(n().object),setFilters:n().func.isRequired,setSorters:n().func.isRequired,style:n().object,key:n().number,columnIndex:n().number,rowIndex:n().number},j.defaultProps={sorters:[],style:{},key:null,columnIndex:null,rowIndex:null}},13074:(e,t,r)=>{"use strict";r.d(t,{H:()=>d,Z:()=>k});var i=r(45697),s=r.n(i),n=r(44012),a=r(40767),o=r(43637);var l=r(85893),c=e=>{var{onClick:t,disabled:r}=e;return(0,l.jsx)(a.Z,{onClick:t,disabled:r,className:"a-61DG26hQxZGsT52MMOIw==",children:(0,l.jsxs)("div",{className:"scPS1GBxXEs8GZPCPZO88g==",children:[(0,l.jsx)(o.ZP,{glyph:o.dt,classCustom:"O69bFmSEt4lJdRXPwST4+w=="}),(0,l.jsx)("div",{className:"IYvw4a45KunfT6xoPcQucA==",children:(0,l.jsx)(n.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})})]})})};c.propTypes={onClick:s().func.isRequired,disabled:s().bool.isRequired};const d=c;var u=r(65399),p=r(15113),h=r(94184),f=r.n(h),m=r(35667),v=r(84804),y=r(65227),g=r(67294),b=r(49862);class j extends g.Component{render(){var{data:e,dataSourceConfig:t,input:{value:r,onChange:i}}=this.props;return(0,l.jsx)("div",{children:(0,l.jsx)(b.Z,{dataSource:e,value:r,onChange:i,dataSourceConfig:t})})}}j.defaultProps={dataSourceConfig:{text:"name",value:"id"}},j.propTypes={data:s().array.isRequired,dataSourceConfig:s().object,input:s().object.isRequired};const x=j;var S=r(70120);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=e=>{var{title:t,autoCompleteData:r,autoCompleteFieldNameKey:i,dataSourceConfig:s,invalid:n,autoCompleteComponent:a,handleSubmit:o,mainFieldProps:c,history:p,pristine:h}=e,g=(0,v.t)("safari"),b=p.filter((e=>!(0,y.mw)(e.endDate)));return(0,l.jsxs)("div",{className:f()("Ktx3kV2YQRSKqF5u-Jm27g==",{"TL0l7tR4yGfOLPj1Wq9pxw==":g}),children:[(0,l.jsx)("div",{className:"SSJ-juhoE0bhBSKqyp4SDA==",children:t}),(0,l.jsxs)("div",{className:"IhlZQTxSfmQqWo1YvucTwg==",children:[(0,l.jsx)(u.Z,{component:S.Z,name:"startDate",disabled:(0,m.xb)(b)}),(0,l.jsx)("span",{children:"—"}),(0,l.jsx)(u.Z,{component:S.Z,name:"endDate",disabled:(0,m.xb)(b)}),(0,l.jsx)("div",{className:"Vzn6X+cgcnLiGLN3NoMh9w==",children:(0,l.jsx)(u.Z,P({component:a,name:i,data:r,dataSourceConfig:s},c))})]}),(0,l.jsx)(d,{onClick:o,disabled:n||h})]})};C.defaultProps={autoCompleteFieldNameKey:"id",formValues:{},editingFormValues:{},autoCompleteComponent:x,mainFieldProps:{},autoCompleteData:null,dataSourceConfig:{}},C.propTypes=P(P({},p.ZP.isRequired),{},{formValues:s().object,editingFormValues:s().object,title:s().node.isRequired,autoCompleteComponent:s().func,autoCompleteData:s().array,dataSourceConfig:s().object,autoCompleteFieldNameKey:s().string,mainFieldProps:s().object});const k=C},67705:(e,t,r)=>{"use strict";r.d(t,{AH:()=>s,DG:()=>c,Gj:()=>o,OT:()=>n,V$:()=>i,aX:()=>l,mW:()=>a});var i="#77828c",s="#d9d9d9",n="#acb6bf",a="#09acf7",o="#50bf4c",l="#70c86d",c={primary1Color:"#00a14f",primary2Color:"#2d3e50",primary3Color:"#13aff8",accent1Color:"#fa6702",warningColor:"#ffb300",workDayColor:"#bedb9d",weekendColor:"#f2d36d",floatingWeekendColor:"#508ce6",preHolidayColor:"#cc82d9",holidayColor:"#f25555",untypicalDayColor:"#914c06"}},20524:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={idle:"idle",loading:"loading",succeeded:"succeeded",failed:"failed"}},25493:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var i=r(67294),s=r(30053),n=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=e=>t=>class extends i.Component{render(){return(0,n.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,s.CE)(this.props,e)))}}},88333:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var i=r(67294),s=r(85893);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e=>t=>class extends i.Component{render(){return(0,s.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e(this.props)))}}},84450:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var i=r(81978),s=r(97779),n=r(58482),a=r(85129),o=r(42517),l=r(93043),c=r(40550),d=r(20524);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,i.Lq)({[o.openedForm]:(e,t)=>t},""),m=(0,i.Lq)({[o.setHierarchyAlreadyFetched]:(e,t)=>t},!1),v=(0,i.Lq)({[o.setCurrentGroupId]:(e,t)=>t},null),y=(0,i.Lq)({[o.setCurrentGroupName]:(e,t)=>t},null),g=(0,i.Lq)({[o.receiveStats]:(e,t)=>{var r={};return t.forEach((e=>{var{actualHours:t,differenceActualMinutes:i}=e,{userId:s,normHours:n}=e.userNorm;r[s]={normHours:n,actualHours:t,differenceActualMinutes:i}})),r}},{}),b=(0,i.Lq)({[o.setEstimateStatsLoading]:n.vB,[o.receiveEstimateStatsData]:(e,t)=>p(p({},e),{},{data:(0,a.m)(t),status:d.Z.succeeded}),[o.receiveEstimateStatsError]:n.aQ,[o.resetEstimateStats]:(0,n.dR)({})},(0,n.dR)({})),j=(0,i.Lq)({[o.statsIsLoading]:(e,t)=>t},!1),x=(0,i.Lq)({[l.receiveWorkActivityLevelsData]:(e,t)=>({status:d.Z.succeeded,error:null,data:t}),[l.setWorkActivityLevelsLoading]:e=>p(p({},e),{},{status:d.Z.loading}),[l.receiveWorkActivityLevelsError]:(e,t)=>p(p({},e),{},{status:d.Z.failed,error:t}),[l.resetWorkActivityLevels]:()=>({data:[],status:d.Z.idle,error:null})},{status:d.Z.idle,error:null,data:[]}),S=(0,i.Lq)({[c.setWorkActivitiesLoading]:e=>p(p({},e),{},{status:d.Z.loading}),[c.receiveWorkActivitiesData]:(e,t)=>p(p({},e),{},{status:d.Z.succeeded,data:t}),[c.receiveWorkActivitiesError]:(e,t)=>p(p({},e),{},{status:d.Z.failed,error:t}),[c.resetWorkActivities]:()=>({status:d.Z.idle,error:null,data:[]})},{status:d.Z.idle,error:null,data:[]});const O=(0,s.combineReducers)({openedFormName:f,currentGroupId:v,statsIsLoading:j,isHierarchyAlreadyFetched:m,statsUserMap:g,workActivityLevels:x,estimateStats:b,workActivities:S,currentGroupName:y})},13135:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(81978),s=r(66994);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=(0,i.Lq)({[s.setLocale]:(e,t)=>{var{locale:r,messages:i}=t;return{locale:r,messages:i}},[s.setMessageFormatterAction]:(e,t)=>a(a({},e),{},{formatMessage:t})},{locale:void 0,messages:void 0})},91695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,getSidebarMenuContent:()=>p,getSidebarMenuOpenStatus:()=>h});var i=r(81978),s=r(97779),n=r(22917),a=(0,i.Lq)({[n.setSidebarMenuContent]:(e,t)=>t},""),o=(0,i.Lq)({[n.toggleSidebarMenuDrawer]:e=>!e},!1),l=(0,i.Lq)({[n.setFilterForMultiSelectPoints]:(e,t)=>t},[]),c=(0,i.Lq)({[n.setDataForMultiSelectPoints]:(e,t)=>t},[]),d=(0,i.Lq)({[n.setGlobalSettingsAlreadyFetched]:(e,t)=>t},!1),u=(0,i.Lq)({[n.isCustomAvatar]:(e,t)=>t},!1),p=e=>e.menu.sidebarMenuContent,h=e=>e.menu.sidebarMenuDrawerOpened;const f=(0,s.combineReducers)({sidebarMenuContent:a,sidebarMenuDrawerOpened:o,filterByPoints:l,dataMultiSelect:c,globalSettingsAlreadyFetched:d,isCustomAvatar:u})},78389:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var i=r(81978),s=r(97779),n=r(25748),a=(0,i.Lq)({[n.notificationAdded]:(e,t)=>e.concat([t]),[n.notificationRemoved]:(e,t)=>e.filter((e=>e!==t)),[n.clearNotifications]:()=>[]},[]);const o=(0,s.combineReducers)({notifications:a})},19596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(81978),s=r(97779),n=r(34992),a=r(84823),o=(0,i.Lq)({[a.setActiveEditor]:(e,t)=>t},null),l=(0,i.Lq)({[a.copyActivities]:(e,t)=>(0,n.UB)((0,n.tQ)(t)),[a.resetCopiedActivities]:()=>[]},[]);const c=(0,s.combineReducers)({active:o,copiedActivities:l})},71505:(e,t,r)=>{"use strict";r.d(t,{KG:()=>n,Wx:()=>i,mj:()=>s});var i=e=>e.common?e.common.currentGroupId:null,s=e=>{var t;return null===(t=e.common)||void 0===t?void 0:t.currentGroupName},n=e=>e.common.isHierarchyAlreadyFetched},10890:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,e:()=>s});var i=(e,t)=>{if(!t)throw Error("No props is passed");var{intl:r}=t;if(!r)throw Error("intl is not provided through props");return t.intl},s=(e,t)=>{if(!t)throw Error("No props is passed");var{intl:r}=t;if(!r)throw Error("intl is not provided through props");return t.intl.formatMessage}},42324:(e,t,r)=>{"use strict";r.d(t,{rc:()=>n,ts:()=>s});var i=r(35667),s=e=>e.user,n=e=>(0,i.xb)(e.user)?null:e.user.id},84343:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addFullName:()=>Ke,addGroupValidityPeriod:()=>ze,addOfficePeriod:()=>$e,addPositionPeriod:()=>Xe,addVacationData:()=>E,addZonePeriod:()=>Je,blockUser:()=>Re,changeShowFired:()=>D,checkRowCheckbox:()=>k,clearEmployeeBiometrics:()=>et,clearSchemeNameHistory:()=>oe,clearVacationsList:()=>T,copyEmployee:()=>Ne,copyEmployeeAction:()=>U,createEmployee:()=>Ae,createEmployeeAction:()=>G,createEmployeeTableDisplaySettings:()=>Pe,deleteCheckedVacation:()=>P,deleteEmployee:()=>Te,deleteEmployeeAction:()=>W,editTotal:()=>R,employeeFetched:()=>L,employeeFetchedWithVacations:()=>H,exportEmployeeVacations:()=>_e,fetchEmployee:()=>Ce,fetchEmployees:()=>Ie,fetchFreeEmployees:()=>Ze,fetchFullNameHistory:()=>We,fetchGroupHistory:()=>Ve,fetchOfficeHistory:()=>Qe,fetchPositionPeriodHistory:()=>Ue,fetchScheduleScheme:()=>Me,fetchScheduleSchemeAction:()=>Q,fetchSkills:()=>Se,fetchTableDisplaySettings:()=>we,fetchVacationsByUser:()=>xe,fetchZoneHistory:()=>Ye,freeEmployeeFetched:()=>Y,getCreatedEmployee:()=>De,getFullNameHistory:()=>K,getGroupHistory:()=>$,getOfficeHistory:()=>te,getPositionPeriodHistory:()=>J,getSchemePeriodHistory:()=>X,getZoneHistory:()=>ee,importEmployeePreference:()=>He,importEmployeeSkills:()=>Fe,importEmployeeVacations:()=>Le,importEmployees:()=>qe,isLoadingEmployees:()=>z,loadEmployees:()=>V,loadQueues:()=>S,loadTableDisplaySettings:()=>q,operatorToManager:()=>Be,receiveVacationData:()=>O,removeVacationData:()=>N,sendDeviceData:()=>me,sendDeviceDownloading:()=>ve,sendVacationCreate:()=>ye,sendVacationDelete:()=>be,sendVacationDeleteAll:()=>ge,setBlockUser:()=>A,setFilter:()=>ie,setInitMapIds:()=>re,setIsLoading:()=>_,setIsUserContextMenuOpen:()=>Z,setLastAddedHistoryItemId:()=>ae,setMapIdCheckbox:()=>se,setMapIdsCheckbox:()=>ne,setRoleToManager:()=>Ge,setSchemePeriodLoading:()=>le,setScrollOptions:()=>M,setTableDisplaySettings:()=>I,setUnblockUser:()=>F,setVacationId:()=>w,toggleCheckAllCheckbox:()=>C,unblockUser:()=>Ee,updateAll:()=>je,updateEmployee:()=>ke,updateEmployeeAction:()=>B});var i=r(81978),s=r(44012),n=r(41524),a=r(12718),o=r(35667),l=r(82028),c=r(88599),d=r(60119),u=r(50362),p=r(30053),h=r(69355),f=r(814),m=r(31878),v=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){j(n,i,s,a,o,"next",e)}function o(e){j(n,i,s,a,o,"throw",e)}a(void 0)}))}}var S=(0,i.PH)("loadQueues"),O=(0,i.PH)("receiveVacationData"),P=(0,i.PH)("deleteCheckedVacation"),w=(0,i.PH)("setVacationId"),C=(0,i.PH)("toggleCheckAllCheckbox"),k=(0,i.PH)("checkRowCheckbox"),T=(0,i.PH)("clearVacationsList"),N=(0,i.PH)("removeVacationData"),R=(0,i.PH)("editTotal"),E=(0,i.PH)("addVacationData"),D=(0,i.PH)("changeShowFired"),A=(0,i.PH)("setBlockUser"),M=(0,i.PH)("setScrollOptions"),I=(0,i.PH)("setTableDisplaySettings"),Z=(0,i.PH)("setIsUserContextMenuOpen"),q=(0,i.PH)("loadTableDisplaySettings"),F=(0,i.PH)("setUnblockUser"),L=(0,i.PH)("employeeFetched"),H=(0,i.PH)("employeeFetched"),_=(0,i.PH)("setIsLoading"),B=(0,i.PH)("updateEmployeeAction"),G=(0,i.PH)("createEmployeeAction"),W=(0,i.PH)("deleteEmployeeAction"),U=(0,i.PH)("copyEmployeeAction"),V=(0,i.PH)("loadEmployees"),z=(0,i.PH)("isLoadingEmployees"),Y=(0,i.PH)("freeEmployeeFetched"),Q=(0,i.PH)("fetchScheduleSchemeAction"),K=(0,i.PH)("getFullNameHistory"),X=(0,i.PH)("getSchemePeriodHistory"),J=(0,i.PH)("getPositionPeriodHistory"),$=(0,i.PH)("getGroupHistory"),ee=(0,i.PH)("getZoneHistory"),te=(0,i.PH)("getOfficeHistory"),re=(0,i.PH)("setInitMapIds"),ie=(0,i.PH)("setFilter"),se=(0,i.PH)("setMapIdCheckbox"),ne=(0,i.PH)("setMapIdsCheckbox"),ae=(0,i.PH)("setLastAddedHistoryItemId"),oe=(0,i.PH)("clearSchemeNameHistory"),le=(0,i.PH)("setSchemePeriodLoading"),ce=(0,v.jsx)(s.Z,{id:"Notifications.couldNotSendRequestToLoadDeviceCreated",defaultMessage:[{type:0,value:"Не удалось отправить запрос на чтение устройства"}]}),de=(0,v.jsx)(s.Z,{id:"Notifications.failedToRetrieveEmployeeData",defaultMessage:[{type:0,value:"Не удалось получить данные сотрудника."}]}),ue=(0,v.jsx)(s.Z,{id:"Notifications.failedToDeleteVacation",defaultMessage:[{type:0,value:"Не удалось создать отпуск"}]}),pe=(0,v.jsx)(s.Z,{id:"Notifications.failedToDeleteEmployee",defaultMessage:[{type:0,value:"Не удалось удалить сотрудника."}]}),he=(0,v.jsx)(s.Z,{id:"Notifications.failedToCreateEmployee",defaultMessage:[{type:0,value:"Не удалось создать сотрудника."}]}),fe=(0,v.jsx)(s.Z,{id:"Notifications.failedToImportUsers",defaultMessage:[{type:0,value:"Не удалось импортировать пользователей."}]});function me(e){return(0,l.t9)("biometrics/device-user-info/load",e)}function ve(e){return x((function*(){try{var{error:t}=yield me(e);t||n.T.success((0,v.jsx)(s.Z,{id:"Notifications.requestToLoadDeviceCreated",defaultMessage:[{type:0,value:"Запрос на чтение устройства создан"}]}))}catch(t){console.error("downLoadDeviceData error = ",t),(0,c.x)(t,ce)}}))}function ye(e,t){return function(){var r=x((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("vacation/create",e);s&&"function"==typeof t&&t(i),r(w(i))}catch(e){console.error("sendVacationCreate error = ",e),(0,c.x)(e,ue)}}));return function(e){return r.apply(this,arguments)}}()}function ge(e,t){return function(){var r=x((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("vacation/delete-all",e);s&&("function"==typeof t&&(t(i),n.T.success()),r(P(e)))}catch(e){console.error("sendVacationDeleteAll error = ",e),(0,c.x)(e,ue)}}));return function(e){return r.apply(this,arguments)}}()}function be(e,t){return function(){var r=x((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("vacation/delete",e);s&&("function"==typeof t&&(t(i),n.T.success()),r(N(e.id)))}catch(e){console.error("sendVacationDelete error = ",e),(0,c.x)(e,de)}}));return function(e){return r.apply(this,arguments)}}()}function je(e,t){return x((function*(){try{var{response:r,success:i}=yield(0,l.t9)("vacation/update-all",e);i&&"function"==typeof t&&(t(r),n.T.success())}catch(e){console.error("updateAll error = ",e),(0,c.x)(e,ue)}}))}function xe(e,t){return function(){var r=x((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("vacation/read-by-user",e);s&&("function"==typeof t&&(t(i),n.T.success()),r(O(i)))}catch(e){console.error("fetchVacationsByUser error = ",e),(0,c.x)(e,de)}}));return function(e){return r.apply(this,arguments)}}()}function Se(e){var{groupId:t}=e;if((0,o.xb)(t))throw Error("groupId is required in fetchSkills");return function(){var e=x((function*(e){try{var r=yield(0,l.ZP)("POST","skill/naming/read-by-group",{id:t}),i=yield r.json();e(S(i.response))}catch(e){console.error("fetchQueues error = ",e),(0,c.x)(e,de)}}));return function(t){return e.apply(this,arguments)}}()}var Oe=(e,t)=>{var{deviceIds:r}=e,i=[];return(0,o.xb)(r)?e:(r.forEach((e=>{var r=t[e];if(r){var s={id:e,name:r};i.push(s)}})),g(g({},e),{deviceIds:i}))};function Pe(e){return function(){var t=x((function*(t){try{h.ZP.set("employeeTableDisplaySettings",e),yield t(I(e)),n.T.success()}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function we(){return e=>{var t=g(g({},h.ZP.get(a.FORM_NAMES.EMPLOYEE_DISPLAY_SETTINGS)),{},{namePeriod:!0,avatar:!0,positionPeriod:!0});e(q(t))}}function Ce(e,t){return function(){var r=x((function*(r){try{r(_(!0));var{response:i}=yield(0,l.t9)("v2/operator/read",{id:e}),s=g({},i.biometry);if((0,o.xb)(s))"function"==typeof t&&t(i),r(L(i)),r(H(i));else{var{response:n}=yield(0,f.fetchDevicesResponse)(),a=Oe(s,n),d=g(g({},i),{},{biometry:a});"function"==typeof t&&t(d),r(L(d))}r(_(!1))}catch(e){console.error("fetchEmployee error: ",e),(0,c.x)(e,de),r(_(!1))}}));return function(e){return r.apply(this,arguments)}}()}var ke=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var i=x((function*(i){try{var s=(0,u.cC)((0,d.JC)(e)),{success:a}=yield(0,l.t9)("v2/operator/update",s);a?("function"==typeof t&&t(e),i(B(e)),r||n.T.success()):(0,c.x)(null,de)}catch(e){console.error("updateEmployee = ",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()};function Te(e){return function(){var t=x((function*(t){try{var r=yield(0,l.ZP)("POST","operator/fire",e);(yield r.json()).success?(t(W(e)),n.T.success((0,v.jsxs)("div",{children:[(0,v.jsx)(s.Z,{id:"Notifications.employee",defaultMessage:[{type:0,value:"Сотрудник"}]}),(0,v.jsx)("span",{children:e.lastName}),(0,v.jsx)("span",{children:e.firstName}),(0,v.jsx)(s.Z,{id:"Notifications.deletedEmployee",defaultMessage:[{type:0,value:"удален."}]})]}))):(0,c.x)(null,pe)}catch(e){console.error("deleteEmployee error = ",e),(0,c.x)(e,pe)}}));return function(e){return t.apply(this,arguments)}}()}function Ne(e,t){return function(){var r=x((function*(r){try{var{response:i,success:a}=yield(0,l.t9)("v2/operator/copy",e);a&&(r(U(i.id)),n.T.success((0,v.jsx)(s.Z,{id:"Notifications.copyEmployee",defaultMessage:[{type:0,value:"Сотрудник скопирован."}]})),"function"==typeof t&&t(i.id))}catch(e){console.error("copyEmployee error = ",e),(0,c.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function Re(e){return function(){var t=x((function*(t){try{var{success:r}=yield(0,l.t9)("block-user",{id:e});r&&t(A(e))}catch(e){console.error(e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ee(e){return function(){var t=x((function*(t){try{var{success:r}=yield(0,l.t9)("unblock-user",{id:e});r&&t(F(e))}catch(e){console.error(e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}var De=e=>(0,l.t9)("v2/operator/read",{id:e});function Ae(e,t){return function(){var r=x((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("v2/operator/create",e);if(s){var a=yield De(i.id);a.success&&(r(G(a.response)),n.T.success()),"function"==typeof t&&t(i)}}catch(e){console.error("createEmployee error = ",e),(0,c.x)(e,he)}}));return function(e){return r.apply(this,arguments)}}()}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=x((function*(t){try{var r;r=e.groupId?yield(0,l.ZP)("POST","schedule-scheme/read-by-group",{id:e.groupId}):yield(0,l.ZP)("POST","schedule-scheme/read-all");var i=yield r.json();t(Q(i.response))}catch(e){console.error("fetchScheduleScheme error",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return function(){var t=x((function*(t){t(z(!0));try{var r=yield(0,l.ZP)("POST","v2/operator/read-by-group",e),i=yield r.json(),s=function(e){var t={};return 0===e.length||e.forEach((e=>{t[e.id]=(0,m.mI)(e)})),t}(i.response);t(V(i.response||[])),t(re(s))}catch(e){console.log(e),(0,c.x)(e)}finally{t(z(!1))}}));return function(e){return t.apply(this,arguments)}}()}function Ze(e,t){return function(){var r=x((function*(r){return(0,l.t9)("v2/operator/naming/read-all-free",{day:t,groupId:e}).then((e=>r(Y({date:t,employees:e.response}))))}));return function(e){return r.apply(this,arguments)}}()}function qe(e,t,r){return x((function*(){try{yield(0,l.t9)("import/users",e),n.T.success((0,v.jsx)(s.Z,{id:"Notifications.usersAreImported",defaultMessage:[{type:0,value:"Пользователи импортированы."}]})),t&&t()}catch(e){r&&r(),console.error("importEmployees error = ",e),(0,c.x)(e,fe)}}))}function Fe(e,t,r){return x((function*(){try{yield(0,l.t9)("import/skills",e),n.T.success((0,v.jsx)(s.Z,{id:"Notifications.skillsImported",defaultMessage:[{type:0,value:"Навыки импортированы."}]})),t&&t()}catch(e){r&&r(),console.error("importEmployeeSkills = ",e),(0,c.x)(e)}}))}function Le(e,t,r){return x((function*(){try{var{success:i}=yield(0,l.t9)("import/vacations",e);i&&(n.T.success((0,v.jsx)(s.Z,{id:"Notifications.vacationsImported",defaultMessage:[{type:0,value:"Отпуска импортированы."}]})),"function"==typeof t&&t())}catch(e){r&&r(),console.error("importEmployeeVacations = ",e),(0,c.x)(e)}}))}function He(e,t,r){return x((function*(){try{var{success:i}=yield(0,l.t9)("import/user-scheme-containers",e);i&&(n.T.success(),"function"==typeof t&&t())}catch(e){r&&r(),console.error("importEmployeePreference = ",e),(0,c.x)(e)}}))}function _e(e){return x((function*(){try{var t=yield(0,l.ZP)("POST","vacation/report/excel",e),r=document.createElement("a");r.href=window.URL.createObjectURL(yield t.blob(),{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8;"}),r.download="vacations.xlsx",r.style.display="none",document.body.append(r),r.click()}catch(e){console.error("exportEmployeeVacations = ",e),(0,c.x)(e)}}))}function Be(e){return(0,l.t9)("user-appoint-role/to-manager",e)}function Ge(e,t){return x((function*(){try{var{id:r}=e,{success:i}=yield Be({id:r});i&&(n.T.success(),t())}catch(e){console.error("operatorToManager error = ",e),(0,c.x)(e)}}))}function We(e){return function(){var t=x((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("user-name-validity-period/read-by-user",{userId:e});i&&t(K(r))}catch(e){console.error("error in fetchFullNameHistory",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ue(e){return function(){var t=x((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("position-validity-period/read-by-user",{userId:e});i&&t(J(r))}catch(e){console.error("error in fetchPositionPeriodHistory",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ve(e){return function(){var t=x((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("group-validity-period/read-by-user",{userId:e});i&&t($(r))}catch(e){console.error("error in fetchGroupHistory",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function ze(e,t,r){return function(){var i=x((function*(i){try{var{response:s,success:a}=yield(0,l.t9)("group-validity-period/create",e);a&&(i(ae(s.id)),i(B(t)),r&&r(e),n.T.success())}catch(e){console.error("addGroupValidityPeriod error = ",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function Ye(e){return function(){var t=x((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("user-zone-validity-period/read-by-user",{userId:e});i&&t(ee(r))}catch(e){console.error("error in fetchZoneHistory",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Qe(e){return function(){var t=x((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("office-validity-period/read-by-user",{userId:e});i&&t(te(r))}catch(e){console.error("error in fetchOfficeHistory",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ke(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.wA;return function(){var i=x((function*(i){try{var{response:s,success:a}=yield(0,l.t9)("user-name-validity-period/create",e);a&&(i(ae(s.id)),i(B(t)),r&&(r(),n.T.success()))}catch(e){console.error("addFullName error = ",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function Xe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.wA;return function(){var i=x((function*(i){try{var{response:s,success:n}=yield(0,l.t9)("position-validity-period/create",e);n&&(i(ae(s.id)),i(B(t)),r&&r())}catch(e){console.error("onAddPositionPeriod error =",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function Je(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.wA;return function(){var i=x((function*(i){try{var{response:s,success:a}=yield(0,l.t9)("user-zone-validity-period/create",e);a&&(i(ae(s.id)),i(B(t)),r&&r(),n.T.success())}catch(e){console.error("addZonePeriod error =",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function $e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.wA;return function(){var i=x((function*(i){try{var{response:s,success:a}=yield(0,l.t9)("office-validity-period/create",e);a&&(i(ae(s.id)),i(B(t)),r&&r(),n.T.success())}catch(e){console.error("addOfficePeriod error =",e),(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function et(e,t){return x((function*(){try{yield(0,l.t9)("biometrics/device-user-info/delete-user-data",{userId:e}),t&&t(),n.T.success()}catch(e){console.error("clearEmployeeBiometrics error = ",e),(0,c.x)(e)}}))}},3942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addCalendar:()=>K,addGroup:()=>F,addMultipleEmployee:()=>Pe,addOffice:()=>re,addPosition:()=>V,addReserveSkill:()=>S,addSchemes:()=>ae,addSkill:()=>u,addTask:()=>R,addTimeZone:()=>B,checkAllSchemes:()=>le,checkScheme:()=>ce,checkedAllReserveSkills:()=>P,checkedAllSkills:()=>h,checkedAllTasks:()=>D,checkedReserveSkill:()=>w,checkedSkill:()=>p,checkedTask:()=>A,deleteMultipleEmployee:()=>Ce,editBlocked:()=>fe,editEndDateCalendar:()=>$,editEndDateGroup:()=>_,editEndDateOffice:()=>ne,editEndDatePosition:()=>Q,editEndDateReserveSkill:()=>T,editEndDateScheme:()=>pe,editEndDateSkill:()=>y,editEndDateTask:()=>Z,editEndDateTimeZone:()=>U,editFiringDate:()=>ee,editHiringDate:()=>te,editNotificationChannels:()=>ye,editOverWork:()=>me,editOverWorkComment:()=>ve,editPrioritySkill:()=>g,editStartDateCalendar:()=>J,editStartDateGroup:()=>H,editStartDateOffice:()=>se,editStartDatePosition:()=>Y,editStartDateReserveSkill:()=>k,editStartDateScheme:()=>ue,editStartDateSkill:()=>v,editStartDateTask:()=>I,editStartDateTimeZone:()=>W,removeCalendar:()=>X,removeCheckedReserveSkills:()=>O,removeCheckedSchemes:()=>oe,removeCheckedSkills:()=>m,removeCheckedTasks:()=>E,removeEmployee:()=>d,removeGroup:()=>L,removeOffice:()=>ie,removePosition:()=>z,removeReserveSkill:()=>C,removeScheme:()=>de,removeSkill:()=>f,removeTask:()=>M,removeTimeZone:()=>G,replaceMultipleEmployee:()=>we,resetMultiEditAddress:()=>je,resetMultiEditEmail:()=>Oe,resetMultiEditPhoneNumber:()=>xe,resetReserveSkills:()=>N,resetResponseData:()=>x,resetSchemes:()=>he,resetSkills:()=>b,resetTask:()=>q,responseData:()=>j,setEmployee:()=>c,setMultiEditAddress:()=>ge,setMultiEditEmail:()=>Se,setMultiEditPhoneNumber:()=>be});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("setEmployee"),d=(0,i.PH)("removeEmployee"),u=(0,i.PH)("addSkill"),p=(0,i.PH)("checkedSkill"),h=(0,i.PH)("checkedAllSkills"),f=(0,i.PH)("removeSkill"),m=(0,i.PH)("removeCheckedSkills"),v=(0,i.PH)("editStartDateSkill"),y=(0,i.PH)("editEndDateSkill"),g=(0,i.PH)("editPrioritySkill"),b=(0,i.PH)("resetSkills"),j=(0,i.PH)("responseData"),x=(0,i.PH)("resetResponseData"),S=(0,i.PH)("addReserveSkill"),O=(0,i.PH)("removeCheckedReserveSkills"),P=(0,i.PH)("checkedAllReserveSkills"),w=(0,i.PH)("checkedReserveSkill"),C=(0,i.PH)("removeReserveSkill"),k=(0,i.PH)("editStartDateReserveSkill"),T=(0,i.PH)("editEndDateReserveSkill"),N=(0,i.PH)("resetReserveSkills"),R=(0,i.PH)("addTask"),E=(0,i.PH)("removeCheckedTasks"),D=(0,i.PH)("checkedAllTasks"),A=(0,i.PH)("checkedTask"),M=(0,i.PH)("removeTask"),I=(0,i.PH)("editStartDateTask"),Z=(0,i.PH)("editEndDateTask"),q=(0,i.PH)("resetTask"),F=(0,i.PH)("addGroup"),L=(0,i.PH)("removeGroup"),H=(0,i.PH)("editStartDateTask"),_=(0,i.PH)("editEndDateTask"),B=(0,i.PH)("addTimeZone"),G=(0,i.PH)("removeTimeZone"),W=(0,i.PH)("editStartDateTimeZone"),U=(0,i.PH)("editEndDateTimeZone"),V=(0,i.PH)("addPosition"),z=(0,i.PH)("removePosition"),Y=(0,i.PH)("editStartDatePosition"),Q=(0,i.PH)("editEndDatePosition"),K=(0,i.PH)("addCalendar"),X=(0,i.PH)("removeCalendar"),J=(0,i.PH)("editStartDateCalendar"),$=(0,i.PH)("editEndDateCalendar"),ee=(0,i.PH)("editFiringDate"),te=(0,i.PH)("editHiringDate"),re=(0,i.PH)("addOffice"),ie=(0,i.PH)("removeOffice"),se=(0,i.PH)("editStartDateOffice"),ne=(0,i.PH)("editEndDateOffice"),ae=(0,i.PH)("addSchemes"),oe=(0,i.PH)("removeCheckedSchemes"),le=(0,i.PH)("checkAllSchemes"),ce=(0,i.PH)("checkScheme"),de=(0,i.PH)("removeSchemes"),ue=(0,i.PH)("editStartDateScheme"),pe=(0,i.PH)("editEndDateScheme"),he=(0,i.PH)("resetSchemes"),fe=(0,i.PH)("editBlocked"),me=(0,i.PH)("editOverWork"),ve=(0,i.PH)("editOverWorkComment"),ye=(0,i.PH)("editNotificationChannels"),ge=(0,i.PH)("setMultiEditAddress"),be=(0,i.PH)("setMultiEditPhoneNumber"),je=(0,i.PH)("resetMultiEditAddress"),xe=(0,i.PH)("resetMultiEditPhoneNumber"),Se=(0,i.PH)("setMultiEditEmail"),Oe=(0,i.PH)("resetMultiEditEmail"),Pe=(e,t)=>function(){var r=l((function*(r){try{var{response:i,success:o}=yield(0,a.t9)("v2/operator/batch/add-all",e);o&&(s.T.success(),"function"==typeof t&&t()),r(j(i))}catch(e){console.error("addMultipleEmployee = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}(),we=(e,t)=>function(){var r=l((function*(r){try{var{response:i,success:o}=yield(0,a.t9)("v2/operator/batch/replace-all",e);o&&(s.T.success(),"function"==typeof t&&t()),r(j(i))}catch(e){console.error("replaceMultipleEmployee = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}(),Ce=(e,t)=>function(){var r=l((function*(r){try{var{response:i,success:o}=yield(0,a.t9)("v2/operator/batch/remove-all",e);o&&(s.T.success(),"function"==typeof t&&t()),r(j(i))}catch(e){console.error("deleteMultipleEmployee = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()},15654:(e,t,r)=>{"use strict";r.d(t,{$m:()=>y,AP:()=>T,Ay:()=>g,B4:()=>I,D6:()=>f,DA:()=>M,HA:()=>j,Hg:()=>N,MI:()=>m,Nj:()=>Z,Vi:()=>R,_U:()=>P,a3:()=>b,bG:()=>C,bx:()=>w,d_:()=>S,e8:()=>v,j6:()=>k,jk:()=>D,oR:()=>O,u4:()=>E,wQ:()=>x,wz:()=>q,zo:()=>h});var i=r(44012),s=r(30053),n=r(5617),a=r(65227),o=r(12718),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p="/employee",h="".concat(p,"/skills"),f="".concat(p,"/vacation"),m="".concat(p,"/preference"),v="".concat(p,"/reserve-skills"),y="".concat(p,"/tasks"),g="".concat(p,"/org-points"),b="".concat(p,"/time-zone"),j="".concat(p,"/positions"),x="".concat(p,"/norm-hours"),S="".concat(p,"/office-multiple"),O="".concat(p,"/schemes"),P="".concat(p,"/hiring-date"),w="".concat(p,"/firing-date"),C="".concat(p,"/message-type"),k="".concat(p,"/blocking"),T="".concat(p,"/over-work"),N="".concat(p,"/address"),R="".concat(p,"/phone-number"),E="".concat(p,"/email"),D=[{url:h,title:(0,l.jsx)(i.Z,{id:"EmployeeForm.schemeOfSkills",defaultMessage:[{type:0,value:"Навыки"}]})},{url:v,title:(0,l.jsx)(i.Z,{id:"EmployeeForm.reserveSkills",defaultMessage:[{type:0,value:"Резервные навыки"}]})},{url:y,title:(0,l.jsx)(i.Z,{id:"EmployeeForm.schemeOfTasks",defaultMessage:[{type:0,value:"Задачи"}]})},{url:O,title:(0,l.jsx)(i.Z,{id:"Employee.scheduleScheme",defaultMessage:[{type:0,value:"Схема работы"}]})},{url:j,title:(0,l.jsx)(i.Z,{id:"Common.position",defaultMessage:[{type:0,value:"Должность"}]})},{url:g,title:(0,l.jsx)(i.Z,{id:"DisplaySettings.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]})},{url:b,title:(0,l.jsx)(i.Z,{id:"EmployeeForm.timeZone",defaultMessage:[{type:0,value:"Часовой пояс"}]})},{url:x,title:(0,l.jsx)(i.Z,{id:"Employee.normHours",defaultMessage:[{type:0,value:"Норма часов"}]})},{url:S,title:(0,l.jsx)(i.Z,{id:"Employee.office",defaultMessage:[{type:0,value:"Офис"}]})},{url:P,title:(0,l.jsx)(i.Z,{id:"Employee.hiringDate",defaultMessage:[{type:0,value:"Дата найма"}]})},{url:w,title:(0,l.jsx)(i.Z,{id:"Employee.firingDate",defaultMessage:[{type:0,value:"Дата увольнения"}]})},{url:C,title:(0,l.jsx)(i.Z,{id:"Employee.messageType",defaultMessage:[{type:0,value:"Тип уведомления"}]})},{url:k,title:(0,l.jsx)(i.Z,{id:"Employee.blocking",defaultMessage:[{type:0,value:"Блокировка"}]})},{url:T,title:(0,l.jsx)(i.Z,{id:"Employee.overWork",defaultMessage:[{type:0,value:"Переработка"}]})},{url:N,title:(0,l.jsx)(i.Z,{id:"Employee.address",defaultMessage:[{type:0,value:"Фактический адрес"}]})},{url:R,title:(0,l.jsx)(i.Z,{id:"Employee.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]})},{url:f,title:(0,l.jsx)(i.Z,{id:"Employee.vacation",defaultMessage:[{type:0,value:"Отпуск"}]})},{url:m,title:(0,l.jsx)(i.Z,{id:"Employee.changesPreferences",defaultMessage:[{type:0,value:"Смены предпочтений"}]})},{url:E,title:(0,l.jsx)(i.Z,{id:"Employee.email",defaultMessage:[{type:0,value:"Электронная почта"}]})}],A=e=>e===o.ZP.END_OF_TIME?e:(0,a.Om)(e),M=(e,t)=>e.map((e=>{(0,n.JM)(e);var r=d(d({},e),{},{end:A(e.end),[t]:e.id});return(0,s.CE)(r,["checked","id"])})),I=(e,t)=>e.map((e=>{(0,n.JM)(e);var r={startDate:e.start,endDate:A(e.end),[t]:e.id};return(0,s.CE)(r,["checked","id"])})),Z=e=>e.map((e=>{(0,n.JM)(e);var t=e.start,r=A(e.end),i=Number.isInteger(e.id)?{normHours:e.id}:{calendarId:e.id};return(0,s.CE)(d({startDate:t,endDate:r},i),"id")})),q=(e,t)=>e.filter((e=>{var{id:r}=e;return t.some((e=>e.id===r))}))},31878:(e,t,r)=>{"use strict";r.d(t,{A:()=>b,AJ:()=>H,AO:()=>$,GP:()=>le,GU:()=>k,NB:()=>z,NC:()=>B,NI:()=>ne,S6:()=>m,T6:()=>me,VN:()=>fe,WI:()=>A,Ze:()=>oe,Zh:()=>y,_J:()=>E,_d:()=>ie,aD:()=>ve,aj:()=>I,eg:()=>de,er:()=>x,hP:()=>ce,i5:()=>P,iR:()=>ue,iY:()=>q,js:()=>Q,mI:()=>pe,oB:()=>ae,pQ:()=>h,qb:()=>L,sR:()=>ee,sT:()=>V,tl:()=>se,tt:()=>S,xl:()=>w,yD:()=>X,yT:()=>te,zC:()=>he,zv:()=>N});var i=r(44012),s=r(94184),n=r.n(s),a=r(11034),o=r(65227),l=r(12718),c=r(35667),d=r(15654),u=r(79439),p=r(85893),h=(0,p.jsx)(i.Z,{id:"Common.fullName",defaultMessage:[{type:0,value:"Ф.И.О."}]}),f={id:"Common.fullName",defaultMessage:"Ф.И.О."},m=(0,p.jsx)(i.Z,{id:"EmployeeForm.schemeOfSkills",defaultMessage:[{type:0,value:"Навыки"}]}),v={id:"EmployeeForm.schemeOfSkills",defaultMessage:"Навыки"},y=(0,p.jsx)(i.Z,{id:"EmployeeForm.reserveSkills",defaultMessage:[{type:0,value:"Резервные навыки"}]}),g={id:"EmployeeForm.reserveSkills",defaultMessage:"Резервные навыки"},b=(0,p.jsx)(i.Z,{id:"EmployeeForm.schemeOfTasks",defaultMessage:[{type:0,value:"Задачи"}]}),j={id:"EmployeeForm.schemeOfTasks",defaultMessage:"Задачи"},x=(0,p.jsx)(i.Z,{id:"EmployeeForm.editEmployeesData",defaultMessage:[{type:0,value:"Редактирование данных сотрудников"}]}),S=(0,p.jsx)(i.Z,{id:"Employee.scheduleScheme",defaultMessage:[{type:0,value:"Схема работы"}]}),O={id:"Employee.scheduleScheme",defaultMessage:"Схема работы"},P=(0,p.jsx)(i.Z,{id:"Employee.overWork",defaultMessage:[{type:0,value:"Переработка"}]}),w=(0,p.jsx)(i.Z,{id:"Employee.login",defaultMessage:[{type:0,value:"Логин WFM"}]}),C={id:"Employee.login",defaultMessage:"Логин WFM"},k=(0,p.jsx)(i.Z,{id:"EmployeeForm.personnelNumber",defaultMessage:[{type:0,value:"Номер"}]}),T={id:"EmployeeForm.personnelNumber",defaultMessage:"Номер"},N=(0,p.jsx)(i.Z,{id:"Employee.position",defaultMessage:[{type:0,value:"Должность"}]}),R={id:"Employee.position",defaultMessage:"Должность"},E=(0,p.jsx)(i.Z,{id:"DisplaySettings.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),D={id:"DisplaySettings.groupName",defaultMessage:"Точка оргструктуры"},A=(0,p.jsx)(i.Z,{id:"DisplaySettings.zone",defaultMessage:[{type:0,value:"Часовой пояс"}]}),M={id:"DisplaySettings.zone",defaultMessage:"Часовой пояс"},I=(0,p.jsx)(i.Z,{id:"Employee.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]}),Z={id:"Employee.phoneNumber",defaultMessage:"Номер телефона"},q=(0,p.jsx)(i.Z,{id:"Employee.email",defaultMessage:[{type:0,value:"Электронная почта"}]}),F={id:"Employee.email",defaultMessage:"Электронная почта"},L=(0,p.jsx)(i.Z,{id:"Employee.messageType",defaultMessage:[{type:0,value:"Тип уведомления"}]}),H=(0,p.jsx)(i.Z,{id:"Employee.office",defaultMessage:[{type:0,value:"Офис"}]}),_={id:"Employee.office",defaultMessage:"Офис"},B=(0,p.jsx)(i.Z,{id:"Employee.dateOfBirth",defaultMessage:[{type:0,value:"Дата рождения"}]}),G={id:"Employee.dateOfBirth",defaultMessage:"Дата рождения"},W={id:"Employee.changesPreferences",defaultMessage:"Смены предпочтений"},U={id:"DisplaySettings.address",defaultMessage:"Фактический адрес"},V=(0,p.jsx)(i.Z,{id:"Employee.hiringDate",defaultMessage:[{type:0,value:"Дата найма"}]}),z=(0,p.jsx)(i.Z,{id:"Employee.vacation",defaultMessage:[{type:0,value:"Отпуск"}]}),Y={id:"Employee.hiringDate",defaultMessage:"Дата найма"},Q=(0,p.jsx)(i.Z,{id:"Employee.firingDate",defaultMessage:[{type:0,value:"Дата увольнения"}]}),K={id:"Employee.firingDate",defaultMessage:"Дата увольнения"},X=(i.Z,{id:"Common.avatar",defaultMessage:"Аватар"}),J={id:"ManagerForm.externalIds",defaultMessage:"Внешние логины"},$=(0,p.jsx)(i.Z,{id:"Employee.blocking",defaultMessage:[{type:0,value:"Блокировка"}]}),ee=(0,p.jsx)(i.Z,{id:"Employee.changesPreferences",defaultMessage:[{type:0,value:"Смены предпочтений"}]}),te=(0,p.jsx)(i.Z,{id:"Employee.normHours",defaultMessage:[{type:0,value:"Норма часов"}]}),re={id:"Employee.normHours",defaultMessage:"Норма часов"},ie=(0,p.jsx)(i.Z,{id:"EmployeeForm.requiredFields",defaultMessage:[{type:0,value:"Обязательные поля:"}]}),se=(0,p.jsx)(i.Z,{id:"EmployeeForm.additionalFields",defaultMessage:[{type:0,value:"Дополнительные поля:"}]}),ne="pl text-ellipsis display-block table__cell_is_editable",ae="virtualized-table__header-cell",oe=n()(ae,u.default.fullNameColumnHeader),le={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,height:"calc(100% + 17px)"},ce={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11},de={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:12},ue={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,background:"white"},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.id,name:e.lastName,employee:e,value:t}};function he(e){var t={};return e.forEach((e=>{t[e.id]={id:e.id,name:e.lastName,employee:e,value:!1}})),t}var fe=e=>[{component:a.Z,name:"avatar",label:e.formatMessage(X),disable:!0,hidden:!0},{component:a.Z,name:"namePeriod",label:e.formatMessage(f),disable:!0,hidden:!0},{component:a.Z,name:"positionPeriod",label:e.formatMessage(R),disable:!0,hidden:!0},{component:a.Z,name:"schemePeriods",label:e.formatMessage(O)},{component:a.Z,name:"personnelNumber",label:e.formatMessage(T)},{component:a.Z,name:"login",label:e.formatMessage(C)},{component:a.Z,name:"groupPeriod",label:e.formatMessage(D)},{component:a.Z,name:"zonePeriod",label:e.formatMessage(M)},{component:a.Z,name:"officePeriod",label:e.formatMessage(_)},{component:a.Z,name:"address",label:e.formatMessage(U)},{component:a.Z,name:"skills",label:e.formatMessage(v)},{component:a.Z,name:"reserveSkills",label:e.formatMessage(g)},{component:a.Z,name:"tasks",label:e.formatMessage(j)},{component:a.Z,name:"phoneNumber",label:e.formatMessage(Z)},{component:a.Z,name:"email",label:e.formatMessage(F)},{component:a.Z,name:"dateOfBirth",label:e.formatMessage(G)},{component:a.Z,name:"hiringDate",label:e.formatMessage(Y)},{component:a.Z,name:"firingDate",label:e.formatMessage(K)},{component:a.Z,name:"externalUserIds",label:e.formatMessage(J)},{component:a.Z,name:"normHours",label:e.formatMessage(re)},{component:a.Z,name:"preferenceContainers",label:e.formatMessage(W)}],me=e=>{var{location:t}=e,{pathname:r}=t;switch(r){case d.zo:return(0,p.jsx)(i.Z,{id:"EmployeeForm.skillsEditing",defaultMessage:[{type:0,value:"Редактирование навыков"}]});case d.e8:return(0,p.jsx)(i.Z,{id:"EmployeeForm.reserveSkillsEditing",defaultMessage:[{type:0,value:"Редактирование резервных навыков"}]});case d.$m:return(0,p.jsx)(i.Z,{id:"EmployeeForm.tasksEdit",defaultMessage:[{type:0,value:"Редактирование задач"}]});case d.Ay:return(0,p.jsx)(i.Z,{id:"GroupHistory.EditingPeriodAndOrganizationStructurePoint",defaultMessage:[{type:0,value:"Редактирование периодов привязки к точкам оргструктуры"}]});case d.a3:return(0,p.jsx)(i.Z,{id:"EmployeeForm.editingZone",defaultMessage:[{type:0,value:"Редактирование часового пояса"}]});case d.HA:return(0,p.jsx)(i.Z,{id:"EmployeeForm.editingPosition",defaultMessage:[{type:0,value:"Редактирование должности"}]});case d.wQ:return(0,p.jsx)(i.Z,{id:"Employee.editNormHours",defaultMessage:[{type:0,value:"Редактирование нормы часов"}]});case d.bx:return(0,p.jsx)(i.Z,{id:"EmployeeForm.firingDateEditing",defaultMessage:[{type:0,value:"Редактирование даты увольнения"}]});case d._U:return(0,p.jsx)(i.Z,{id:"EmployeeForm.hiringDateEditing",defaultMessage:[{type:0,value:"Редактирование даты найма"}]});case d.d_:return(0,p.jsx)(i.Z,{id:"EmployeeForm.editingOffice",defaultMessage:[{type:0,value:"Редактирование офиса"}]});case d.oR:return(0,p.jsx)(i.Z,{id:"EmployeeForm.schemePeriodEditing",defaultMessage:[{type:0,value:"Редактирование схемы работы"}]});case d.j6:return(0,p.jsx)(i.Z,{id:"EmployeeForm.blockingEditing",defaultMessage:[{type:0,value:"Редактирование блокировки"}]});case d.AP:return(0,p.jsx)(i.Z,{id:"EmployeeForm.labelOverWorkEditing",defaultMessage:[{type:0,value:"Редактирование переработок"}]});case d.bG:return(0,p.jsx)(i.Z,{id:"EmployeeForm.notificationChannelsEditing",defaultMessage:[{type:0,value:"Редактирование типа уведомления"}]});case d.Hg:return(0,p.jsx)(i.Z,{id:"EmployeeForm.addressEditing",defaultMessage:[{type:0,value:"Редактирование фактического адреса"}]});case d.Vi:return(0,p.jsx)(i.Z,{id:"EmployeeForm.phoneNumberEditing",defaultMessage:[{type:0,value:"Редактирование номера телефона"}]});case d.u4:return(0,p.jsx)(i.Z,{id:"EmployeeForm.emailEditing",defaultMessage:[{type:0,value:"Редактирование электронной почты"}]});case d.D6:return(0,p.jsx)(i.Z,{id:"EmployeeForm.vacationEditing",defaultMessage:[{type:0,value:"Редактирование графика отпусков"}]});case d.MI:return(0,p.jsx)(i.Z,{id:"Common.preferencesEditing",defaultMessage:[{type:0,value:"Редактирование предпочтений"}]})}},ve=e=>(0,c.xb)(e)?"":e===l.ZP.START_OF_TIME||e===l.ZP.END_OF_TIME?e:(0,o.Mm)(e)},77161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(44012),a=r(43637),o=r(40767);var l=r(85893),c=e=>{var{onClick:t,disabled:r}=e;return(0,l.jsx)(o.Z,{onClick:t,className:"ZG5AueDeGcZ9Ay2y6tdHTA==",disabled:r,children:(0,l.jsxs)("span",{className:"md+Wr8oadkJqcmvCoolVCQ==",children:[(0,l.jsx)(a.ZP,{glyph:a.dt}),(0,l.jsx)(n.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})]})})};c.defaultProps={disabled:!1},c.propTypes={onClick:s().func.isRequired,disabled:s().bool};const d=c},76614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(77161)},94769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(67294),s=r(15113),n=r(65227),a=r(12718),o=r(35667);var l=r(85893);class c extends i.Component{constructor(){var e,t,r;super(...arguments),e=this,r=()=>{var{input:{value:e,name:t}}=this.props;if(!(0,o.xb)(e))switch(t){case"firingDate":return e===a.ZP.END_OF_TIME?"":(0,n.Yd)(e);case"hiringDate":return(0,n.Yd)(e);case"dateOfBirth":return(0,n.LT)(e);default:return e}},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="getDataFilteredData"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var e=this.getDataFilteredData();return(0,l.jsx)("div",{className:"w5MLcLRzyYJ6j7w8QHdU2g==",title:e,children:e})}}c.propTypes=s.oX;const d=c},39209:(e,t,r)=>{"use strict";r.d(t,{Z:()=>jn});var i=r(67294),s=r(45697),n=r.n(s),a=r(74806),o=r(45165),l=r(43637),c=r(40767),d=r(20995),u=r(35667),p=r(30053),h=r(44012),f=r(34961),m=r(47945),v=r(5624),y=r(85893),g=e=>{var{employeeId:t}=e;return(0,u.xb)(t)?null:(0,y.jsxs)("div",{className:v.Z.title,children:[(0,y.jsx)(f.q,{userId:t}),(0,y.jsx)(h.Z,{id:"EmployeeForm.editEmployeeData",defaultMessage:[{type:0,value:"Редактирование данных сотрудника"}]})]})};g.defaultProps={employeeId:null},g.propTypes={employeeId:m.K5};const b=g;var j=r(28216),x=r(97779),S=r(85208),O=r(94368),P=r(72772),w=r(8043),C=r(35105),k=r(12718),T=r(5617),N=r(78340),R=r(47458),E=r(31857),D=r(32138),A=r(65062),M=r(49489),I=r(17666),Z=r(71505),q=r(42324),F=r(84343),L=r(74225),H=r(95766),_=r(51947);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=k.FORM_NAMES.EMPLOYEE_FORM,V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return e.map((e=>G(G({},e),{},{[t]:(0,T.sb)(e[t])})))};const z=(0,x.compose)(a.ZP,(0,j.$j)((e=>({employee:e.employee,employeeFormValues:(0,S.Z)(U)(e),employeeFormInitial:e.form[U]&&e.form[U].initial||{},tasksGroupsTree:e.settings.tasksGroupsTree,taskGroupsMap:e.settings.taskGroupsMap,taskTemplates:e.settings.taskTemplates,user:(0,q.ts)(e),groupId:(0,Z.Wx)(e),frontendSettings:(0,I.e0)(e),isSchemeListShowedByGroup:(0,I.vH)(e,"isSchemeListShowedByGroup"),biometricIsAvailable:(0,I.vH)(e,"isBiometricsAvailable"),isHidePersonalData:(0,I.vH)(e,"isHidePersonalData"),formMeta:(0,O.Z)(U)(e),isShowLicenseModal:(0,H.M)(e),schedules:(0,E.Qs)(e)})),(e=>({fetchPositions:t=>e((0,D.fetchPositions)(t)),fetchSchedules:t=>e((0,R.fetchSchedules)(t)),initializeEmployeeForm:t=>{e((0,F.fetchEmployee)(t,(t=>{t.tasks=t.tasks||[],t.skills=V(t.skills),t.tasks=V(t.tasks),t.reserveSkills=V(t.reserveSkills),t.schemePeriods=V(t.schemePeriods,"endDate"),e((0,P.j2)(U,t)),e((0,F.getSchemePeriodHistory)(t.schemePeriods))})))},closeForm:t=>{t(),e((0,P.ob)(U))},destroyForm:()=>e((0,P.ob)(U)),changeBiometry:t=>e((0,P.m)(U,"biometry",t)),blockUser:t=>e((0,F.blockUser)(t)),unblockUser:t=>e((0,F.unblockUser)(t)),updateEmployee:(t,r)=>e((0,F.updateEmployee)(t,r)),createEmployee:(t,r,i)=>e((0,F.createEmployee)(t,r,i)),deleteEmployee:t=>e((0,F.deleteEmployee)(t)),fetchTasksGroupsHierarchy:t=>e((0,A.fetchTasksGroupsHierarchy)(t)),fetchTaskTemplates:t=>e((0,M.fetchTaskTemplates)(t)),clearEmployeeBiometrics:(t,r)=>e((0,F.clearEmployeeBiometrics)(t,r)),updateEmployeeNameInTableData:t=>e((0,N.updateEmployeeNameInTableData)(t))})),((e,t,r)=>G(G(G(G({},e),t),r),{},{onDelete:e=>{t.deleteEmployee(e)},onCloseDrawer:e=>{var i,s,n;t.updateEmployeeNameInTableData({id:e.id,firstName:null===(i=e.namePeriod)||void 0===i?void 0:i.firstName,lastName:null===(s=e.namePeriod)||void 0===s?void 0:s.lastName,middleName:null===(n=e.namePeriod)||void 0===n?void 0:n.middleName}),t.closeForm(r.onSubmitConfirm)},closeAdditionalDrawer:()=>{r.closeAdditionalDrawer()},closeEmployeeForm:()=>{r.closeForm(),t.destroyForm()},clearBiometry:()=>{var{biometry:r}=e.employeeFormValues,i=G(G({},r),{},{numberFingers:0,faceData:!1});t.clearEmployeeBiometrics(e.employeeFormValues.id,(()=>{t.changeBiometry(i)}))}}))),(0,w.Z)({form:U,validate:_.Lk}),(0,C.Z)((e=>{var{props:t}=e;t.fetchPositions(),t.isSchemeListShowedByGroup?t.fetchSchedules({groupId:t.groupId}):t.fetchSchedules(),t.initializeEmployeeForm(t.employeeId,t.groupId),t.groupId&&t.formValues&&t.formValues.groupId&&t.fetchTasksGroupsHierarchy((()=>t.fetchTaskTemplates({id:t.formValues.groupId})))})))(L.Z);var Y=r(60988),Q=r(7066),K=r(50362),X=r(68258),J=r(65227),$=r(85027),ee=r(65399),te=r(94184),re=r.n(te),ie=r(43376),se=r(19262),ne=r(84804),ae=r(41486),oe=r(12463),le=e=>{var{intl:{formatMessage:t},history:r,handleSubmit:i,invalid:s}=e,n=(0,ne.t)("safari");return(0,y.jsxs)("div",{className:re()(oe.Z.fullNameAddingPanel,{[oe.Z.safariColorInput]:n}),children:[(0,y.jsx)("div",{className:oe.Z.header,children:ae.sT}),(0,y.jsx)(ee.Z,{component:se.Z,name:"startDate",disabled:(0,u.xb)(r)}),(0,y.jsx)("div",{className:oe.Z.inputFieldContainer,children:(0,y.jsx)(ee.Z,{component:"input",name:"lastName",type:"text",placeholder:t(ae.xU)})}),(0,y.jsx)("div",{className:oe.Z.inputFieldContainer,children:(0,y.jsx)(ee.Z,{component:"input",name:"firstName",type:"text",placeholder:t(ae.nc)})}),(0,y.jsx)("div",{className:oe.Z.inputFieldContainer,children:(0,y.jsx)(ee.Z,{component:"input",name:"middleName",type:"text",placeholder:t(ae.PX)})}),(0,y.jsx)(ie.Z,{onClick:i,disabled:s,className:oe.Z.flatBtn,children:(0,y.jsxs)("div",{className:oe.Z.addButton,children:[(0,y.jsx)(l.ZP,{glyph:l.dt,classCustom:oe.Z.iconContainer}),(0,y.jsx)("div",{className:oe.Z.labelContainer,children:ae.$z})]})})]})};le.propTypes={handleSubmit:n().func.isRequired,intl:m.gm.isRequired,history:n().array.isRequired,invalid:n().bool.isRequired};const ce=le;var de=r(41818);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,me="namePeriod";const ve=(0,x.compose)((0,j.$j)((e=>({fullName:(0,de.aZ)(e)||{},formValues:(0,S.Z)(fe)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e),employeeId:(0,de.j)(e),history:(0,de.P4)(e)})),(e=>({addFullName:(t,r,i)=>e((0,F.addFullName)(t,r,i)),fetchFullNameHistory:t=>e((0,F.fetchFullNameHistory)(t)),close:()=>{},reset:()=>e((0,P.mc)(fe)),updateParentFormValue:t=>{(0,K.JY)(t)&&(e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,me,t)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,me)))},updateEmployeeNameInTableData:t=>e((0,N.updateEmployeeNameInTableData)(t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return pe(pe(pe(pe({},e),t),r),{},{onSubmit:r=>{r.startDate=r.startDate?(0,T.Fd)(r.startDate):(0,J.zO)(J._E,!0),r.endDate=r.endDate||$.VY.endDate,r.firstName=r.firstName.trim(),r.lastName=r.lastName.trim(),r.middleName=r.middleName?r.middleName.trim():"",r.userId=r.userId||e.employeeId;var i=pe(pe({},e.employeeFormValues),{},{namePeriod:r});t.addFullName(r,i,(()=>{t.updateEmployeeNameInTableData({id:r.userId||e.employeeId,firstName:r.firstName,lastName:r.lastName,middleName:r.middleName}),t.fetchFullNameHistory(r.userId),t.updateParentFormValue(r),t.reset()}))},initialValues:pe(pe({},i),{},{userId:e.employeeId})})})),(0,w.Z)({form:fe,enableReinitialize:!0,validate:(0,X.q9)(["firstName","lastName"])}),a.ZP)(ce);var ye=e=>{var{history:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ve,{}),(0,y.jsx)(Q.Z,{history:t})]})};ye.propTypes={history:n().array.isRequired};const ge=ye;var be=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM;const je=(0,x.compose)((0,j.$j)((e=>({history:(0,de.P4)(e),employeeId:(0,de.j)(e)})),(e=>({fetchFullNameHistory:t=>e((0,F.fetchFullNameHistory)(t))}))),(0,w.Z)({form:be}),(0,C.Z)((e=>{var{props:t}=e;t.fetchFullNameHistory(t.employeeId)})))(ge);var xe=r(11146),Se=r(41641),Oe=r(96797),Pe=r(13074);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,Ne="officePeriod",Re=(0,X.v7)((0,X.q9)(["officeId"]),(0,X.Z6)());const Ee=(0,x.compose)((0,j.$j)((e=>({currentUser:(0,de.j)(e),officesMap:(0,I.it)(e),history:(0,de.GW)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e)})),(e=>({addPeriod:(t,r,i)=>{e((0,F.addOfficePeriod)(t,r,i)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,Ne))},fetchHistory:t=>e((0,F.fetchOfficeHistory)(t)),updateParentFormValue:t=>{(0,K.JY)(t)&&e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,Ne,t))},reset:()=>e((0,P.mc)(Te)),initialize:t=>e((0,P.j2)(Te,t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return Ce(Ce(Ce({},e),r),{},{onSubmit:r=>{(0,T.uT)(r);var i=Ce(Ce({},r),{},{name:e.officesMap[r.officeId].name}),s=Ce(Ce({},e.employeeFormValues),{},{officePeriod:i});t.addPeriod(r,s,(()=>{t.fetchHistory(r.userId),t.updateParentFormValue(i),t.reset()}))},initialValues:Ce(Ce({},i),{},{userId:e.currentUser})})})),(0,w.Z)({form:Te,validate:Re,enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e,r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(Ce(Ce({},r),{},{userId:t.currentUser}))})))(Pe.Z);var De=e=>{var{history:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Ee,{title:ae.zH,autoCompleteFieldNameKey:"officeId",autoCompleteComponent:Oe.GN}),(0,y.jsx)(Se.Z,{history:t})]})};De.propTypes={history:n().array.isRequired};const Ae=De;var Me=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM;const Ie=(0,x.compose)((0,j.$j)((e=>({history:(0,de.GW)(e),employeeId:(0,de.j)(e)})),(e=>({fetchHistory:t=>e((0,F.fetchOfficeHistory)(t)),fetchOffices:()=>e((0,xe.fetchOffices)())}))),(0,w.Z)({form:Me}),(0,C.Z)((e=>{var{props:t}=e;t.fetchOffices(),t.fetchHistory(t.employeeId)})))(Ae);var Ze={start:"startDate",end:"endDate"},qe=r(94297);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,Be="positionPeriod",Ge=(0,X.v7)((0,X.q9)(["positionId"]),(0,X.Z6)());const We=(0,x.compose)((0,j.$j)((e=>({currentUser:(0,de.j)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e),positionsMap:(0,I._1)(e),history:(0,de.Hg)(e)})),(e=>({addPositionPeriod:(t,r,i)=>e((0,F.addPositionPeriod)(t,r,i)),fetchPositionPeriodHistory:t=>e((0,F.fetchPositionPeriodHistory)(t)),updateParentFormValue:t=>{(0,K.JY)(t)&&(e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,Be,t)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,Be)))},reset:()=>e((0,P.mc)(_e)),initialize:t=>e((0,P.j2)(_e,t)),updateEmployeeGroupNameInTableData:t=>e((0,N.updateEmployeeGroupNameInTableData)(t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return Le(Le(Le({},e),r),{},{onSubmit:r=>{(0,T.uT)(r);var i=Le(Le({},r),{},{name:e.positionsMap[r.positionId].name}),s=Le(Le({},e.employeeFormValues),{},{positionPeriod:i});t.addPositionPeriod(r,s,(()=>{t.fetchPositionPeriodHistory(r.userId),t.updateParentFormValue(i),t.reset(),(0,J.vj)(r,"startDate","endDate")&&t.updateEmployeeGroupNameInTableData(i)}))},initialValues:Le(Le({},i),{},{userId:e.currentUser})})})),(0,w.Z)({form:_e,validate:Ge,enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e,r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(Le(Le({},r),{},{userId:t.currentUser}))})))(Pe.Z);var Ue=(0,y.jsx)(h.Z,{id:"EmployeeForm.addingPosition",defaultMessage:[{type:0,value:"Добавление должности"}]}),Ve=e=>{var{history:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(We,{title:Ue,autoCompleteFieldNameKey:"positionId",autoCompleteComponent:qe.Z}),(0,y.jsx)(Se.Z,{history:t})]})};Ve.propTypes={history:n().array.isRequired};const ze=Ve;var Ye=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,Qe=(0,X.v7)((0,X.q9)(["positionId"]),(0,X.Z6)(Ze));const Ke=(0,x.compose)((0,j.$j)((e=>({history:(0,de.Hg)(e),employeeId:(0,de.j)(e),groupId:(0,Z.Wx)(e)})),(e=>({fetchHistory:t=>e((0,F.fetchPositionPeriodHistory)(t))}))),(0,w.Z)({form:Ye,validate:Qe}),(0,C.Z)((e=>{var{props:t}=e;t.fetchHistory(t.employeeId)})))(ze);var Xe=r(15113),Je=r(64621),$e=r(22465);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it={text:"name",value:"id"},st=e=>{var{onChange:t,value:r,schemes:i,placeholder:s}=e,n=r||[];return(0,y.jsx)($e.Z,{placeholder:s,dataSource:i,dataSourceConfig:it,input:{value:n,onChange:t},values:n})};st.propTypes=tt(tt({},Xe.oX),{},{schemes:n().array.isRequired,placeholder:n().string}),st.defaultProps={placeholder:""};const nt=st;var at={fetchAllScheduleSchemeList:Je.fetchAllScheduleSchemeList,fetchScheduleSchema:Je.fetchScheduleSchema};const ot=(0,x.compose)((0,j.$j)((e=>({groupId:(0,Z.Wx)(e),schemes:(0,de.Hn)(e),isSchemeListShowedByGroup:(0,I.vH)(e,"isSchemeListShowedByGroup")})),at),(0,C.Z)((e=>{var{props:t}=e,{isSchemeListShowedByGroup:r}=t;r?t.fetchScheduleSchema({id:t.groupId}):t.fetchAllScheduleSchemeList()})),a.ZP)(nt);function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ut=e=>{var{input:{onChange:t,value:r},intl:i}=e;return(0,y.jsx)(ot,{onChange:t,value:r,placeholder:i.formatMessage({id:"EmployeeForm.searchScheme",defaultMessage:[{type:0,value:"Поиск по схемам работы"}]})})};ut.propTypes=ct(ct({},Xe.oX),{},{intl:m.gm.isRequired});const pt=(0,a.ZP)(ut);var ht=r(26690),ft=r(84138),mt=r(56975);function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bt=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,jt="schemePeriods",xt=(0,X.v7)((0,X.q9)(["scheduleSchemeIds"]),(0,X.Z6)());const St=(0,x.compose)((0,j.$j)((e=>({currentUser:(0,de.j)(e),scheduleSchemeMap:(0,mt.V3)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e),formValues:(0,S.Z)(bt)(e),history:(0,de.G7)(e)})),(e=>({updateParentFormValue:t=>{e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,jt,t)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,jt))},addNewScheme:t=>e((0,F.getSchemePeriodHistory)(t)),reset:()=>e((0,P.mc)(bt)),initialize:t=>e((0,P.j2)(bt,t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return yt(yt(yt({},e),r),{},{onSubmit:r=>{var i;(0,T.uT)(r);var s=null===(i=r.scheduleSchemeIds)||void 0===i?void 0:i.map((t=>({startDate:r.startDate,endDate:r.endDate,userId:r.userId,scheduleSchemeId:t,name:e.scheduleSchemeMap[t].name}))),n=[...e.employeeFormValues.schemePeriods,...s].filter((e=>(0,K.nV)(e)));t.addNewScheme([...e.history,...s]),t.updateParentFormValue(n),t.reset()},initialValues:yt(yt({},i),{},{userId:e.currentUser})})})),(0,w.Z)({form:bt,validate:xt}),(0,C.Z)((e=>{var{props:t}=e,r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(yt(yt({},r),{},{userId:t.currentUser}))})),(0,ft.Z)(((e,t)=>{var{props:r}=e,i=r.history.filter((e=>(0,K.nV)(e))),s=t.history.filter((e=>(0,K.nV)(e)));0===i.length&&s.length>0&&r.initialize($.it),i.length!==s.length&&0===s.length&&(0,u.xb)(s)&&r.initialize($.VY)})))(Pe.Z);var Ot=r(3598),Pt=r.n(Ot),wt="ACTUAL",Ct="HISTORY";const kt="lyccbVbeMMvX4GrY-94deQ==",Tt="QjWrhyw6IYfBv1msYDFmBg==";var Nt=e=>{var{value:t,onChange:r,countActual:i,countHistory:s}=e;return(0,y.jsxs)("div",{className:"UAQsFD3+4JHX4jlfVEOtWQ==",children:[(0,y.jsxs)(c.Z,{active:t===wt,className:kt,onClick:()=>r(wt),children:[(0,y.jsx)(h.Z,{id:"Common.actual",defaultMessage:[{type:0,value:"Актуальные"}]}),(0,y.jsx)("span",{className:Tt,children:"(".concat(i,")")})]}),(0,y.jsxs)(c.Z,{active:t===Ct,className:kt,onClick:()=>r(Ct),children:[(0,y.jsx)(h.Z,{id:"Common.history",defaultMessage:[{type:0,value:"История"}]}),(0,y.jsx)("span",{className:Tt,children:"(".concat(s,")")})]})]})};Nt.propTypes={value:n().oneOf([wt,Ct]).isRequired,onChange:n().func.isRequired,countActual:n().number.isRequired,countHistory:n().number.isRequired};const Rt=Nt;var Et=r(50335),Dt=(e,t,r)=>t[e[r]]||!1,At=r(22350),Mt=r(53514),It=r(56089),Zt=r(11866),qt=r(40518);const Ft="YgbE55rdUgzhzHJo1waPKw==",Lt="HQ9yP3JZPzMG0Zr1HDkuEA==",Ht="v3-m0bV5QIRszohAYQQDTQ==";var _t=e=>{var{item:t,onCheck:r,index:i,onDelete:s,onItemStartChange:n,onItemEndChange:a,onIncDecChange:o,checked:c,fieldName:d}=e,p=t.start||t.startDate,h=t.end||t.endDate,f=t.start?"start":t.startDate&&"startDate",m=t.end?"end":t.endDate&&"endDate";return(0,y.jsxs)("tr",{className:Ft,children:[(0,y.jsx)("td",{children:(0,y.jsx)(Et.XZ,{className:Lt,checked:c,onChange:e=>r(t[d],e)})}),(0,y.jsx)("td",{children:(0,y.jsx)(Mt.Z,{classContainer:"UxpCsHoAve8S7NCs7GcUKQ==",glyph:l.XH,onClick:()=>s(i)})}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"XYZ9qhdY+jkoFGaja0PpEA==",children:[(0,y.jsx)(It.Z,{className:Ht,date:p,dateFormat:J._E,onChange:e=>n(i,e,f)}),(0,y.jsx)(qt.i,{inline:!0}),(0,y.jsx)(It.Z,{className:Ht,date:h,dateFormat:J._E,onChange:e=>a(i,e,m)})]})}),(0,y.jsx)("td",{className:"lKaB+tFMPadtdLWuepW1ag==",title:t.name,children:(0,y.jsx)("span",{className:"yfFv5hC2gX4O2Zd9EPfA0A==",children:t.name})}),!(0,u.xb)(null==t?void 0:t.priority)&&(0,y.jsx)("td",{children:(0,y.jsx)(Zt.Z,{value:t.priority,onChange:e=>o(i,e)})})]})};_t.propTypes={onCheck:n().func.isRequired,onDelete:n().func.isRequired,onItemStartChange:n().func.isRequired,onItemEndChange:n().func.isRequired,index:n().number.isRequired,item:n().object.isRequired,onIncDecChange:n().func.isRequired,checked:n().bool.isRequired,fieldName:n().string.isRequired};const Bt=_t;function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vt=e=>{var{items:t,fieldName:r,onSuccess:s,secondItems:n,label:a}=e,[o,d]=(0,i.useState)(t),[p,f]=(0,i.useState)({});(0,i.useEffect)((()=>{d(t)}),[t]);var m=(e,t)=>f(Wt(Wt({},p),{},{[e]:t})),v=e=>f(e?((e,t)=>{var r={};return e.forEach((e=>r[e[t]]=!0)),r})(t,r):{}),g=e=>{var r=t.filter(((t,r)=>r!==e));s([...r,...n])},b=(e,r,i)=>{var a=t.map(((t,s)=>s===e?Wt(Wt({},t),{},{[i]:(0,T.X1)(r)}):t));s([...a,...n]),d([...a,...n])},j=(e,r,i)=>{var a=t.map(((t,s)=>s===e?Wt(Wt({},t),{},{[i]:(0,T.i7)(r)}):t));s([...a,...n]),d([...a,...n])},x=(e,r)=>{var i=t.map(((t,i)=>i===e?Wt(Wt({},t),{},{priority:r}):t));s([...i,...n]),d([...i,...n])},S=((e,t,r)=>!(0,u.xb)(e)&&e.every((e=>Dt(e,t,r))))(t,p,r),O=((e,t,r)=>e.some((e=>Dt(e,t,r))))(t,p,r),P=t.every((e=>!(0,u.xb)(e.priority)));return(0,y.jsx)("table",{className:"H0oJV9bRDQRiNHURqPynaA==",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{className:Ft,children:[(0,y.jsx)("td",{children:(0,y.jsx)(Et.XZ,{className:Lt,checked:S,indeterminate:O,onChange:v})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{className:"OftUYscbnBPP2N4D3-QIgw==",children:(0,y.jsx)(c.Z,{onClick:()=>{var e=t.filter((e=>!p[e[r]]));v(!1),s([...e,...n])},disabled:!O,children:(0,y.jsx)(l.ZP,{glyph:l.XH})})})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"on0l+CInMW-LZKpf58+wGA==",children:(0,y.jsx)(h.Z,{id:"EditingSkills.period",defaultMessage:[{type:0,value:"Период привязки"}]})})}),(0,y.jsx)("td",{className:"EOAxWpG949HeEmxZhc88aA==",children:a}),!(0,u.xb)(t)&&P&&(0,y.jsx)("td",{className:"toFdxC69vmwWSjjLQykKqw==",children:(0,y.jsx)(h.Z,{id:"TaskTemplatesList.priority",defaultMessage:[{type:0,value:"Приоритет"}]})})]}),(0,y.jsx)("div",{className:re()("AtA+pSitCfnKooeRIVGypA==","scroll"),children:o.map(((e,t)=>(0,y.jsx)(Bt,{index:t,item:e,onDelete:g,onItemStartChange:b,onItemEndChange:j,onIncDecChange:x,checked:Dt(e,p,r),onCheck:m,fieldName:r},(0,At.Vj)())))})]})})};Vt.propTypes={items:n().array.isRequired,secondItems:n().array.isRequired,fieldName:n().string.isRequired,onSuccess:n().func.isRequired,label:n().object.isRequired},Vt.defaultProps={};const zt=Vt;var Yt=e=>{var{items:t,onSuccess:r,fieldName:s,label:n,onChangeSkills:a}=e,[o,l]=(0,i.useState)(wt),[c,d]=(0,i.useState)(t.filter((e=>(0,K.nV)(e)))),[p,h]=(0,i.useState)(t.filter((e=>!(0,K.nV)(e))));return(0,i.useEffect)((()=>{d(t.filter((e=>(0,K.nV)(e)))),h(t.filter((e=>!(0,K.nV)(e))))}),[t]),(0,i.useEffect)((()=>{if(!(0,u.xb)(t)&&Array.isArray(t)){var e=c.sort(((e,t)=>e.priority>t.priority?1:e.priority<t.priority?-1:0)),r=p.sort(((e,t)=>e.priority>t.priority?1:e.priority<t.priority?-1:0));d(e),h(r),a([...e,...r])}}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Rt,{onChange:l,value:o,countActual:c.length,countHistory:p.length}),o===wt&&(0,y.jsx)(zt,{onChangeSkills:a,items:c,fieldName:s,onSuccess:r,secondItems:p,label:n}),o===Ct&&(0,y.jsx)(zt,{onChangeSkills:a,items:p,fieldName:s,onSuccess:r,secondItems:c,label:n})]})};Yt.defaultProps={items:[],onChangeSkills:p.wA},Yt.propTypes=Pt()({onSuccess:n().func.isRequired,onChangeSkills:n().func,items:n().array,fieldName:n().string.isRequired,label:n().object.isRequired});const Qt=Yt;function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){Jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=e=>{var{history:t}=e,r=(0,j.I0)(),i=(0,y.jsx)(h.Z,{id:"Menu.schema",defaultMessage:[{type:0,value:"Схемы"}]});return(0,y.jsx)(Qt,{items:t,label:i,fieldName:"scheduleSchemeId",onSuccess:e=>{e.forEach((e=>(0,T.uT)(e)));var t=e.map((e=>Xt(Xt({},e),{},{startDate:(0,T.OA)(e.startDate),endDate:(0,T.cm)(e.endDate)}))),i=t.filter((e=>(0,K.nV)(e)));r((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,"schemePeriods",i)),r((0,F.getSchemePeriodHistory)(t))}})};$t.propTypes={history:n().array.isRequired};const er=$t;var tr=r(95326),rr=e=>{var{history:t}=e;return(0,j.v9)(tr.ph)?(0,y.jsx)(ht.Z,{}):(0,y.jsxs)("div",{className:"_5ysH08UJzRl-SCqyroi69w==",children:[(0,y.jsx)("div",{className:"NIyCU8BdmSRCxgBib7ikpg==",children:(0,y.jsx)(St,{title:ae.Im,autoCompleteFieldNameKey:"scheduleSchemeIds",autoCompleteComponent:pt})}),(0,y.jsx)(er,{history:t})]})};rr.propTypes={history:n().array.isRequired};const ir=rr;var sr=k.FORM_NAMES.EMPLOYEE_FORM,nr=(0,X.v7)((0,X.Z6)(),(0,X.q9)(["scheduleSchemeId"]));const ar=(0,x.compose)((0,j.$j)((e=>({history:(0,de.G7)(e),employeeId:(0,de.j)(e)}))),(0,w.Z)({form:sr,validate:nr,destroyOnUnmount:!1}))(ir);function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){cr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dr=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,ur="zonePeriod",pr=(0,X.v7)((0,X.q9)(["zone"]),(0,X.Z6)());const hr=(0,x.compose)((0,j.$j)((e=>({currentUser:(0,de.j)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e),history:(0,de.Mc)(e)})),(e=>({addPeriod:(t,r,i)=>e((0,F.addZonePeriod)(t,r,i)),fetchHistory:t=>e((0,F.fetchZoneHistory)(t)),updateParentFormValue:t=>{(0,K.JY)(t)&&(e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,ur,t)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,ur)))},reset:()=>e((0,P.mc)(dr)),initialize:t=>e((0,P.j2)(dr,t)),updateEmployeeTimeZoneInTableData:t=>e((0,N.updateEmployeeTimeZoneInTableData)(t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return lr(lr(lr({},e),r),{},{autoCompleteFieldNameKey:"zone",onSubmit:r=>{(0,T.uT)(r);var i=lr(lr({},e.employeeFormValues),{},{zonePeriod:r}),s=(0,K.Tq)(r,"zone");t.addPeriod(r,i,(()=>{(0,J.vj)(r,"startDate","endDate")&&t.updateEmployeeTimeZoneInTableData({userId:r.userId,timeZoneData:(0,J.Q)(s)}),t.fetchHistory(r.userId),t.updateParentFormValue(r),t.reset()}))},initialValues:lr(lr({},i),{},{userId:e.currentUser})})})),(0,w.Z)({form:dr,validate:pr,enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e,r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(lr(lr({},r),{},{userId:t.currentUser}))})))(Pe.Z);var fr=e=>{var{history:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(hr,{title:ae.xp,autoCompleteComponent:Y.Z}),(0,y.jsx)(Se.Z,{history:t,mainFieldKey:"zone"})]})};fr.propTypes={history:n().array.isRequired};const mr=fr;var vr=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,yr=(0,X.v7)((0,X.q9)(["zone"]),(0,X.Z6)(Ze));const gr=(0,x.compose)((0,j.$j)((e=>({history:(0,de.Mc)(e),employeeId:(0,de.j)(e)})),(e=>({fetchHistory:t=>e((0,F.fetchZoneHistory)(t))}))),(0,w.Z)({form:vr,validate:yr}),(0,C.Z)((e=>{var{props:t}=e;t.fetchHistory(t.employeeId)})),a.ZP)(mr);var br=r(95032);function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){Sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{EMPLOYEE_FORM:Or}=k.FORM_NAMES;const Pr=(0,x.compose)((0,j.$j)((e=>({mainFormValues:(0,S.Z)(Or)(e)||{},userId:(0,q.rc)(e)})),(e=>({changeForm:(t,r)=>e((0,P.m)(Or,r,t)),updateEmployee:t=>e((0,F.updateEmployee)(t))})),((e,t,r)=>{var{fieldName:i,disableInitialValues:s}=r,{mainFormValues:n}=e,{changeForm:a}=t,o="biometry."+i,l=!s&&n.biometry[i];return xr(xr(xr(xr({},e),t),r),{},{onSubmit:e=>{var{biometryPassword:r}=e;if(r){var s={password:r};a(r,"biometry.password");var l=xr(xr({},n.biometry),s),c=xr(xr({},n),{},{biometry:l});t.updateEmployee(c)}else{a(e[i],o);var d=xr(xr({},n.biometry),e),u=xr(xr({},n),{},{biometry:d});t.updateEmployee(u)}},initialValues:{[i]:l}})})),(0,w.Z)({form:"SimpleEditingForm",enableReinitialize:!0}))(br.Z);var wr=r(72606),Cr=r(82162),kr=r(52600),Tr=r(70120);function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Rr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Er=e=>{var{input:{value:t,onChange:r}}=e;return(0,y.jsx)("div",{style:{width:"80px"},children:(0,y.jsx)(Zt.Z,{value:Number(t),onChange:r})})};Er.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){Rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Xe.oX);const Dr=Er;var Ar=r(77161),Mr=r(57701);function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Zr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qr={text:"name",value:"id"},Fr={id:"EmployeeForm.skillsSearch",defaultMessage:"Поиск по навыкам"},Lr=e=>{var{handleSubmit:t,availableSkills:r,invalid:s,intl:n}=e,[a,o]=(0,i.useState)((0,J.zO)()),[l,c]=(0,i.useState)(k.ZP.END_OF_TIME),[d,u]=(0,i.useState)(!1);return(0,y.jsxs)("div",{className:Mr.Z.container,children:[(0,y.jsx)("div",{className:Mr.Z.header,children:(0,y.jsx)(h.Z,{id:"employeeForm.AddingSkill",defaultMessage:[{type:0,value:"Добавление навыка"}]})}),(0,y.jsxs)("div",{className:Mr.Z.body,children:[(0,y.jsx)(ee.Z,{component:e=>{var{input:t}=e;return(0,J.rm)(t.value,l)?u(!0):u(!1),o(t.value),(0,y.jsx)(Tr.Z,{input:t})},name:"start"}),(0,y.jsx)(qt.i,{}),(0,y.jsx)(ee.Z,{component:e=>{var{input:t}=e;return(0,J.rm)(a,t.value)?u(!0):u(!1),c(t.value),(0,y.jsx)(Tr.Z,{input:t})},name:"end"}),(0,y.jsx)(ee.Z,{component:kr.Z,name:"skillId",dataSource:r,dataSourceConfig:qr,hintText:n.formatMessage(Fr)}),(0,y.jsx)(ee.Z,{component:Dr,name:"priority"})]}),(0,y.jsx)("div",{className:Mr.Z.bottom,children:(0,y.jsx)(Ar.Z,{onClick:t,disabled:s||d})})]})};Lr.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Xe.ZP);const Hr=Lr;var _r=(e,t)=>{var r={};return t.skillList&&t.skillList.forEach((t=>{e.skillId===t.skillId&&((0,K.SA)(t,e.start)&&(r.start="This skill already exists! Choose another date or skill!"),(0,K.SA)(t,e.end)&&(r.end="This skill already exists! Choose another date or skill!"))})),r};function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ur="EmployeeSkillAddForm",Vr={fetchSkillsListByGroup:Cr.fetchSkillsListByGroup};const zr=(0,x.compose)((0,j.$j)((e=>{var t;return{groupId:(0,Z.Wx)(e),availableSkills:(0,wr.Vy)(e),skillList:(null===(t=(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e))||void 0===t?void 0:t.skills)||[]}}),Vr),(0,w.Z)({form:Ur,validate:(0,X.v7)((0,X.q9)(["start","end","skillId"]),_r),initialValues:Gr(Gr({},$.Oz),{},{priority:1}),onSubmitSuccess:(e,t)=>{t((0,P.mc)(Ur))},enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e;t.fetchSkillsListByGroup(t.groupId)})),a.ZP)(Hr);function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(r),!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xr=e=>{var{input:{value:t,onChange:r,onBlur:i},skillsMap:s}=e,n=(0,j.I0)(),a=e=>{r(e),i(e),n((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,"skills",e))},o=(0,y.jsx)(h.Z,{id:"DisplaySettings.skill",defaultMessage:[{type:0,value:"Навык"}]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(zr,{onSubmit:e=>{(0,T.JM)(e);var r=Qr(Qr({},e),{},{name:s[e.skillId].name});a([...t,r])}}),(0,y.jsx)(Qt,{onSuccess:a,onChangeSkills:r,items:t,fieldName:"skillId",label:o})]})};Xr.propTypes=Pt()(Qr(Qr({},Xe.oX),{},{skillsMap:n().object.isRequired}));const Jr=Xr;function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ti(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ri=e=>{var{skillsMap:t}=e;return(0,y.jsx)(ee.Z,{component:Jr,name:"skills",skillsMap:t})};ri.propTypes=ei(ei({},Xe.ZP),{},{skillsMap:n().object.isRequired});const ii=ri;var si=k.FORM_NAMES.EMPLOYEE_FORM;const ni=(0,x.compose)((0,j.$j)((e=>({skillsMap:(0,I.NB)(e),initialValues:(0,S.Z)(si)(e)})),null),(0,w.Z)({form:si,destroyOnUnmount:!1}))(ii);var ai=r(5857),oi=(e,t)=>{var r=[];return e.forEach((e=>{t[e.id]&&r.push(e)})),r};function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach((function(t){di(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function di(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ui={text:"name",value:"id"},pi=e=>{var{handleSubmit:t,invalid:r,availableTaskTemplates:s,selectedItemsTasks:n,intl:a}=e,[o,l]=(0,i.useState)((0,J.zO)()),[c,d]=(0,i.useState)(k.ZP.END_OF_TIME),[u,f]=(0,i.useState)(!1),m=(0,p.eL)(n,"userTaskTemplateId");return(0,y.jsxs)("div",{className:"uhtKg33JurdtXcHoYZbK0Q==",children:[(0,y.jsx)("div",{className:"iQc6Mw3tk3PwbqwmlBGhZA==",children:(0,y.jsx)(h.Z,{id:"EmployeeForm.AddingTask",defaultMessage:[{type:0,value:"Добавление задач"}]})}),(0,y.jsxs)("div",{className:"Aw6hfx8vOaHMn45Kpo4FEA==",children:[(0,y.jsx)(ee.Z,{component:e=>{var{input:t}=e;return(0,J.rm)(t.value,c)?f(!0):f(!1),l(t.value),(0,y.jsx)(Tr.Z,{input:t})},name:"start"}),(0,y.jsx)(qt.i,{}),(0,y.jsx)(ee.Z,{component:e=>{var{input:t}=e;return(0,J.rm)(o,t.value)?f(!0):f(!1),d(t.value),(0,y.jsx)(Tr.Z,{input:t})},name:"end"}),(0,y.jsx)(ee.Z,{component:kr.Z,hintText:a.formatMessage({id:"EmployeeForm.searchTasks",defaultMessage:[{type:0,value:"Поиск по задачам"}]}),dataSource:s,dataSourceConfig:ui,disableSelectedItems:!0,selectedItems:oi(s,m),name:"userTaskTemplateId"})]}),(0,y.jsx)("div",{className:"iOQuK1R+vaG9ZFcszAugEA==",children:(0,y.jsx)(Ar.Z,{onClick:t,disabled:r||u})})]})};pi.propTypes=ci(ci({},Xe.ZP),{},{availableTaskTemplates:n().arrayOf(m.TD).isRequired});const hi=(0,a.ZP)(pi);function fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function mi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vi="EmployeeAddTask",yi={from:"required",to:"required",userTaskTemplateId:"required"},gi={fetchTaskTemplates:M.fetchTaskTemplates};const bi=(0,x.compose)(a.ZP,(0,j.$j)((e=>({groupId:(0,Z.Wx)(e),availableTaskTemplates:(0,I.pd)(e),selectedItemsTasks:(0,S.Z)("EmployeeForm")(e).tasks||[]})),gi),(0,w.Z)({form:vi,initialValues:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(r),!0).forEach((function(t){mi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},$.Oz),validate:(e,t)=>(0,ai.ZP)({data:e,fields:yi,intl:t.intl}).errors,onSubmitSuccess:(e,t)=>{t((0,P.mc)(vi))},enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e;t.fetchTaskTemplates({id:t.groupId})})))(hi),ji={taskListItem:"kSij4hKx7vU7AwmBqpHe5A=="};function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach((function(t){Oi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pi=e=>{var{input:{onChange:t,value:r,onBlur:i},taskTemplatesMap:s}=e,n=(0,j.I0)(),a=e=>{t(e),i(e),n((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,"tasks",e))},o=(0,y.jsx)(h.Z,{id:"EmployeeForm.schemeOfTasks",defaultMessage:[{type:0,value:"Задачи"}]});return(0,y.jsxs)("div",{className:ji.taskEditInput,children:[(0,y.jsx)(bi,{onSubmit:e=>{(0,T.JM)(e);var t=Si(Si({},e),{},{name:s[e.userTaskTemplateId].name});a([...r,t])}}),(0,y.jsx)(Qt,{items:r,onSuccess:a,fieldName:"userTaskTemplateId",label:o})]})};Pi.propTypes={input:Xe.bJ.isRequired,taskTemplatesMap:n().object.isRequired};const wi=Pi;function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(r),!0).forEach((function(t){Ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ti(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ni=e=>{var{taskTemplatesMap:t}=e;return(0,y.jsx)(ee.Z,{component:wi,name:"tasks",taskTemplatesMap:t})};Ni.propTypes=ki(ki({},Xe.ZP),{},{taskTemplatesMap:n().object.isRequired});const Ri=Ni;var Ei=k.FORM_NAMES.EMPLOYEE_FORM;const Di=(0,x.compose)((0,j.$j)((e=>({taskTemplatesMap:(0,I.wR)(e),mainFormValues:(0,S.Z)(Ei)(e)||{}})),null),(0,w.Z)({form:Ei,destroyOnUnmount:!1}))(Ri);var Ai=r(98477),Mi=r(57394),Ii=r(59601);var Zi=r(76614),qi="SELECT_CALENDAR",Fi="SET_HOURS_FOR_MONTH",Li=[{value:qi,label:(0,y.jsx)(h.Z,{id:"EmployeeForm.selectCalendar",defaultMessage:[{type:0,value:"Выбрать календарь"}]})},{value:Fi,label:(0,y.jsx)(h.Z,{id:"EmployeeForm.setHoursForMonth",defaultMessage:[{type:0,value:"Задать часы на месяц"}]})}],Hi=r(93898);function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Bi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gi=e=>{var{options:t,input:{onChange:r,value:i}}=e;return(0,y.jsx)("div",{className:"FNgbgcUD6Gc238EpowDi3w==",children:(0,y.jsx)(Hi.E,{options:t,onChange:r,selectedValue:i})})};Gi.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(r),!0).forEach((function(t){Bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({options:n().array.isRequired},Xe.oX);const Wi=Gi;var Ui={id:"EmployeeForm.productionCalendarsSearch",defaultMessage:"Поиск по производственному календарю"},Vi=e=>{var{handleSubmit:t,formValues:r,invalid:i,history:s,calendarSimpleList:n,intl:a}=e,o=r.calendarOption===qi;return(0,y.jsxs)("div",{className:"q0z3emNJN9lq4zvi5ge-gw==",children:[(0,y.jsx)(ee.Z,{component:Wi,options:Li,name:"calendarOption"}),(0,y.jsxs)("div",{className:"Rw3kqtE6jyr-7SBb0oIyTQ==",children:[(0,y.jsx)(ee.Z,{disabled:(0,u.xb)(s),component:Tr.Z,name:"startDate"}),(0,y.jsx)("span",{className:"_4Kmi1MmwNG9bCp+xULFcHA==",children:"—"}),(0,y.jsx)(ee.Z,{disabled:(0,u.xb)(s),component:Tr.Z,name:"endDate",minDate:null==r?void 0:r.startDate}),o?(0,y.jsx)("div",{className:"ux3pWKm3Wqcer+osEmF5LQ==",children:(0,y.jsx)(ee.Z,{component:kr.Z,dataSource:n,name:"calendar",hintText:a.formatMessage(Ui)})}):(0,y.jsx)("div",{className:"tnQRQG1vSHswY+mwHAkPOg==",children:(0,y.jsx)(ee.Z,{component:Ii.Z,name:"normHours",max:744,isValueWithoutZero:!0})})]}),(0,y.jsx)("div",{className:"-4MBkmh4GvCf3zJzL7tPCw==",children:(0,y.jsx)(Zi.Z,{onClick:t,disabled:i})})]})};Vi.propTypes=Xe.Ar;const zi=Vi;var Yi=["calendarOption","calendar","startDate","endDate"];function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(r),!0).forEach((function(t){Xi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ji="employeeAddCalendar",$i="calendarPeriod";const es=(0,x.compose)(a.ZP,(0,j.$j)((e=>({currentUser:(0,de.j)(e),history:(0,Mi.Yj)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e),formValues:(0,S.Z)(Ji)(e)||{},calendarSimpleList:(0,Mi.He)(e),loading:(0,Mi.RX)(e)})),(e=>({initializeForm:(t,r)=>e((0,P.j2)(t,r)),addCalendar:(t,r)=>{e((0,Ai.createUserNormHoursByCalendar)(t,r)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,$i))},addManualNormHours:(t,r)=>{e((0,Ai.createUserManualNormHours)(t,r)),e((0,P.Fq)(k.FORM_NAMES.EMPLOYEE_FORM,$i))},fetchUserNormHours:t=>{e((0,Ai.fetchUserNormHours)(t))},updateField:t=>{e((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,$i,t))},initialize:t=>e((0,P.j2)(Ji,t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return Ki(Ki(Ki({},e),r),{},{onSubmit:r=>{var{calendarOption:i,calendar:s,startDate:n,endDate:a}=r,o=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(r,Yi),l=()=>(0,T.Fd)(n),c=()=>{var e=(0,T.BO)(a);return e===T.o5?e:(0,J.Om)(a)},d=(0,J.zx)((0,J.zO)(J._E),n,a),u=Ki(Ki({},o),{},{startDate:l(),endDate:c(),calendarId:s,userId:e.employeeFormValues.id}),p=Ki(Ki({},o),{},{startDate:l(),endDate:c(),normHours:Number(e.formValues.normHours),userId:e.employeeFormValues.id});if(e.formValues.calendarOption===qi){if(d){var{name:h}=e.calendarSimpleList.find((e=>e.id===r.calendar));t.updateField({name:h})}t.addCalendar(u,(()=>{t.fetchUserNormHours(e.employeeFormValues.id)}))}else d&&t.updateField({name:r.normHours}),t.addManualNormHours(p,(()=>{t.fetchUserNormHours(e.employeeFormValues.id)}))},initialValues:Ki(Ki({},i),{},{userId:e.currentUser})})})),(0,w.Z)({form:Ji,validate:e=>{var t={},r=Number(e.normHours),{calendar:i}=e;return e.calendarOption!==Fi||r||(t.normHours="Required"),r>744&&(t.normHours="Is more then max hours in month"),e.calendarOption===qi&&(0,u.xb)(i)&&(t.calendar="Required"),t}}),(0,C.Z)((e=>{var{props:t}=e,r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(Ki(Ki({},r),{},{userId:t.currentUser,calendarOption:qi}))})),(0,ft.Z)(((e,t)=>{var{props:r}=e;if(r.loading!==t.loading&&!t.loading){var i=(0,u.xb)(r.history)?$.VY:$.it;r.initialize(Ki(Ki({},i),{},{userId:r.currentUser,calendarOption:t.formValues.calendarOption}))}})))(zi);var ts=e=>{var{history:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(es,{}),(0,y.jsx)("div",{className:re()("oSRhOlTwuhImKB0R2XeTmA==","scroll"),children:(0,y.jsx)(Se.Z,{history:t})})]})};ts.propTypes={history:n().array.isRequired};const rs=ts,is=()=>{var e=(0,j.I0)(),{id:t}=(0,j.v9)((e=>(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e))),r=(0,j.v9)(Mi.Yj);return(0,i.useEffect)((()=>{e((0,Ai.fetchProductionCalendarList)()),e((0,Ai.fetchUserNormHours)(t))}),[]),(0,y.jsx)(rs,{history:r})};var ss=r(29701);function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach((function(t){os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function os(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ls=e=>{var{history:t,handleSubmit:r,invalid:i}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"T+qmcLimIqwiAKSMqkLIXQ==",children:(0,y.jsx)(h.Z,{id:"GroupHistory.AddingPeriodAndOrganizationStructurePoint",defaultMessage:[{type:0,value:"Добавление периода и точки привязки"}]})}),(0,y.jsxs)("div",{className:"QSdAUI76CeXU3djGHoCpFQ==",children:[(0,y.jsx)(ee.Z,{component:Tr.Z,name:"startDate"}),(0,y.jsx)("span",{children:"—"}),(0,y.jsx)(ee.Z,{component:Tr.Z,name:"endDate"}),(0,y.jsx)(ee.Z,{component:ss.Z,name:"groupId",classContainer:"j9+fxJFkHKfmxnlp9XemoA=="})]}),(0,y.jsxs)(c.Z,{onClick:r,className:"GP20H21xptdXl-YhYeTDRA==",disabled:i,children:[(0,y.jsx)(l.ZP,{glyph:l.dt}),(0,y.jsx)(h.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})]}),(0,y.jsx)(Se.Z,{history:t})]})};ls.defaultProps={insertion:{startDate:"",endDate:"",groupId:""}},ls.propTypes=as(as({},Xe.ZP),{},{history:n().arrayOf(n().object).isRequired,insertion:n().shape({startDate:m.yb,endDate:m.yb,groupId:m.K5})});const cs=ls;function ds(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(r),!0).forEach((function(t){ps(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ds(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ps(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hs=k.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,fs=k.FORM_NAMES.EMPLOYEE_FORM,ms="groupPeriod",vs=(0,X.v7)((0,X.q9)(["startDate","endDate","groupId"]),(0,X.Z6)({start:"startDate",end:"endDate"}));const ys=(0,x.compose)((0,j.$j)((e=>({history:(0,de.Jq)(e),employeeId:(0,de.j)(e),groupsMap:(0,I.GJ)(e),groupId:(0,Z.Wx)(e),employeeFormValues:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e)})),(e=>({fetchGroupHistory:t=>e((0,F.fetchGroupHistory)(t)),addGroupValidityPeriod:(t,r,i)=>e((0,F.addGroupValidityPeriod)(t,r,i)),fetchEmployees:t=>e((0,F.fetchEmployees)(t)),reset:t=>e((0,P.mc)(t)),change:t=>e((0,P.m)(fs,ms,t)),touch:()=>e((0,P.Fq)(fs,ms)),initialize:t=>e((0,P.j2)(hs,t))})),((e,t,r)=>{var i=(0,u.xb)(e.history)?$.VY:$.it;return us(us(us(us({},e),t),r),{},{onSubmit:r=>{(0,T.uT)(r);var i=us(us({},r),{},{name:e.groupsMap[r.groupId].groupName}),s=us(us({},e.employeeFormValues),{},{groupPeriod:i});t.addGroupValidityPeriod(us(us({},r),{},{userId:e.employeeId}),s,(()=>{t.fetchGroupHistory(e.employeeId),t.reset(hs),t.fetchEmployees({id:e.groupId}),(0,K.JY)(r)&&(t.change(i),t.touch(fs,ms))}))},initialValues:us(us({},i),{},{userId:e.employeeId})})})),(0,w.Z)({form:hs,validate:vs,enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e;t.fetchGroupHistory(t.employeeId);var r=(0,u.xb)(t.history)?$.VY:$.it;t.initialize(us(us({},r),{},{userId:t.employeeId}))})))(cs);var gs=r(26970);function bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(r),!0).forEach((function(t){xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ss=e=>{var{label:t,disabled:r,overWork:s,overWorkComment:n}=e;(0,i.useEffect)((()=>{s.input.value||n.input.onChange("")}),[s.input.value]);var a=s.input.value?n.input.value:"";return(0,y.jsxs)("div",{children:[(0,y.jsx)(Et.ZP,{onChange:s.input.onChange,checked:s.input.value,label:t,disabled:r}),(0,y.jsxs)("div",{className:"LotDJtvvqSSfpPaPdBl3ag==",children:[(0,y.jsx)("span",{className:"mrUGmP+S5y6ixzPYU0oyUw==",children:(0,y.jsx)(h.Z,{id:"EmployeeForm.comment",defaultMessage:[{type:0,value:"Комментарий:"}]})}),(0,y.jsx)("input",{title:n.input.value,type:"text",value:a,onChange:e=>n.input.onChange(e.target.value),disabled:!s.input.value})]})]})};Ss.defaultProps={label:null,disabled:!1},Ss.propTypes=js(js({},Xe.oX),{},{label:n().node,disabled:n().bool});const Os=Ss;var Ps=e=>{var{fieldName:t,style:r,label:i,buttonLabel:s,className:n,mainFormValues:a,disabled:o,handleSubmit:d,pristine:u}=e;return(0,y.jsxs)("div",{className:"_4bbQaIDzmTKREuF6i+-qQw==",children:[(0,y.jsx)(gs.Z,{component:Os,names:t,style:r,label:i,buttonLabel:s,className:n,mainFormValues:a,disabled:o}),(0,y.jsx)("div",{className:"iB6IEmYv5TAg0gjg-wSapQ==",children:(0,y.jsx)(c.Z,{onClick:d,disabled:o||u,children:(0,y.jsxs)("div",{className:"_66FvBJhru840Y2UYi8Fmag==",children:[(0,y.jsx)(l.ZP,{glyph:l.BN,classCustom:"LNPnCSGALe5vT2bTJF+MPw=="}),(0,y.jsx)("div",{className:"zyXreH5l6OJ+u5k1drEkng==",children:ae.$w})]})})})]})};Ps.defaultProps={className:"",buttonLabel:null,style:null,label:null,disabled:!1,pristine:!0},Ps.propTypes={fieldName:n().array.isRequired,handleSubmit:n().func.isRequired,disabled:n().bool,pristine:n().bool,style:n().object,label:n().object,buttonLabel:n().object,className:n().string,mainFormValues:n().object.isRequired};const ws=Ps;function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){Ts(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ts(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{EMPLOYEE_FORM:Ns,OVER_WORK_FORM:Rs}=k.FORM_NAMES;const Es=(0,x.compose)((0,j.$j)((e=>({mainFormValues:(0,S.Z)(Ns)(e)||{},userId:(0,q.rc)(e)})),(e=>({changeForm:t=>{e((0,P.m)(Ns,"overWork",t.overWork)),e((0,P.Fq)(Ns,"overWork")),e((0,P.m)(Ns,"overWorkComment",t.overWorkComment)),e((0,P.Fq)(Ns,"overWorkComment"))},updateEmployee:t=>e((0,F.updateEmployee)(t))})),((e,t,r)=>{var{fieldName:i}=r,{changeForm:s}=t,n=e.mainFormValues[i[0]],a=e.mainFormValues[i[1]];return ks(ks(ks(ks({},e),t),r),{},{onSubmit:r=>{var{overWork:i,overWorkComment:n}=r;s({overWork:i,overWorkComment:n});var a=i?{overWork:i,overWorkComment:n}:{overWork:!1,overWorkComment:""},o=ks(ks({},e.mainFormValues),a);t.updateEmployee(o)},initialValues:{[i[0]]:n,[i[1]]:a}})})),(0,w.Z)({form:Rs}))(ws);var Ds=r(64835);function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ms(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Is="EmployeeReserveSkillAddForm",Zs={fetchSkillsListByGroup:Cr.fetchSkillsListByGroup};const qs=(0,x.compose)((0,j.$j)((e=>({groupId:(0,Z.Wx)(e),availableSkills:(0,wr.Vy)(e),skillList:(0,S.Z)(k.FORM_NAMES.EMPLOYEE_FORM)(e).reserveSkills||[]})),Zs),(0,w.Z)({form:Is,initialValues:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Ms(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},$.Oz),validate:(0,X.v7)((0,X.q9)(["start","end","skillId"]),_r),onSubmitSuccess:(e,t)=>{t((0,P.mc)(Is))},enableReinitialize:!0}),(0,C.Z)((e=>{var{props:t}=e;t.fetchSkillsListByGroup(t.groupId)})),a.ZP)(Ds.Z);function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){Hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _s=e=>{var{input:{value:t,onChange:r,onBlur:i},skillsMap:s}=e,n=(0,j.I0)(),a=e=>{r(e),i(e),n((0,P.m)(k.FORM_NAMES.EMPLOYEE_FORM,"reserveSkills",e))},o=Array.isArray(t)?t.sort((0,At.hM)("start")):[],l=(0,y.jsx)(h.Z,{id:"DisplaySettings.skill",defaultMessage:[{type:0,value:"Навык"}]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(qs,{onSubmit:e=>{(0,T.JM)(e);var r=Ls(Ls({},e),{},{name:s[e.skillId].name});a([...t,r])}}),(0,y.jsx)(Qt,{onSuccess:a,items:o,fieldName:"skillId",label:l})]})};_s.propTypes=Pt()(Ls(Ls({},Xe.oX),{},{skillsMap:n().object.isRequired}));const Bs=_s;function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach((function(t){Us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Us(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vs=e=>{var{skillsMap:t}=e;return(0,y.jsx)(ee.Z,{component:Bs,name:"reserveSkills",skillsMap:t})};Vs.propTypes=Ws(Ws({},Xe.ZP),{},{skillsMap:n().object.isRequired});const zs=Vs;var Ys=k.FORM_NAMES.EMPLOYEE_FORM;const Qs=(0,x.compose)((0,j.$j)((e=>({skillsMap:(0,I.NB)(e),mainFormValues:(0,S.Z)(Ys)(e)||{}})),null),(0,w.Z)({form:Ys,destroyOnUnmount:!1}))(zs);var Ks=r(75839),Xs=r(92997),Js=r(2707),$s=r(60769),en=e=>{var t,r,s,n,{item:a,onDelete:o,hidden:c,onChange:d,total:u}=e,p=(0,j.v9)(tr.Jf),h=(0,j.I0)(),[f,m]=(0,i.useState)(u);return(0,i.useEffect)((()=>{m(u)}),[a]),c?null:(0,y.jsxs)("tr",{className:$s.Z.item,children:[(0,y.jsx)("td",{children:(0,y.jsx)(Et.XZ,{className:$s.Z.checkbox,checked:a.checked,onChange:()=>h((0,F.checkRowCheckbox)(a.id))})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{className:$s.Z.trashIcon,children:(0,y.jsx)(Mt.Z,{classContainer:$s.Z.icon,glyph:l.XH,onClick:o})})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{className:$s.Z.yearStyle,children:a.year})}),(0,y.jsx)("td",{children:(0,y.jsx)(Js.Z,{onChange:e=>{h((0,F.editTotal)({value:e,id:a.id})),d(e,a)},value:f,className:$s.Z.inputTotalStyle})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{className:$s.Z.usedStyle,children:a.id===(null==p||null===(t=p.vacation)||void 0===t||null===(r=t.currentVacation)||void 0===r?void 0:r.id)?null==p||null===(s=p.vacation)||void 0===s||null===(n=s.currentVacation)||void 0===n?void 0:n.used:a.used})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{className:$s.Z.remainderStyle,children:a.remainder})})]})};en.defaultProps={onDelete:p.wA,onChange:p.wA,hidden:!1,item:{}},en.propTypes={onDelete:n().func,onChange:n().func,item:n().shape({id:n().string,checked:n().bool,year:n().oneOfType([n().string,n().number]),used:n().number,total:n().number,remainder:n().number}),hidden:n().bool,total:n().number.isRequired};const tn=en;var rn=["checked"];function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){an(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function an(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const on=()=>{var e,t,r,s=(0,j.I0)(),[n,a]=(0,i.useState)(!0),o=(0,j.v9)(tr.cB),c=(0,j.v9)(tr.Jf),d=(0,j.v9)(tr.Jf),u=null===(e=o.vacations)||void 0===e?void 0:e.filter((e=>e.checked)).map((e=>e.id)),p=null===(t=o.vacations)||void 0===t?void 0:t.some((e=>e.checked)),f=(e,t)=>{o.vacations.forEach((r=>{r.id===t.id&&r.total!==e&&a(!1)}))};return(0,y.jsxs)("table",{className:$s.Z.table,children:[(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{style:{backgroundColor:"white"},className:$s.Z.item,children:[(0,y.jsx)("td",{children:(0,y.jsx)(Et.XZ,{className:$s.Z.checkbox,onChange:e=>{s((0,F.toggleCheckAllCheckbox)(e))},checked:o.checkedAll})}),(0,y.jsx)("td",{children:(0,y.jsx)(Mt.Z,{classContainer:$s.Z.icon,glyph:l.XH,onClick:()=>{s((0,F.sendVacationDeleteAll)(u))},disabled:!o.checkedAll&&!p})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:$s.Z.yearStyle,children:(0,y.jsx)(h.Z,{id:"Common.Year",defaultMessage:[{type:0,value:"Год"}]})})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:$s.Z.vacationDay,children:(0,y.jsx)(h.Z,{id:"Employee.vacationDays",defaultMessage:[{type:0,value:"Дней отпуска"}]})})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:$s.Z.accountedForStyle,children:(0,y.jsx)(h.Z,{id:"Graph.withPreferences",defaultMessage:[{type:0,value:"Учтенные"}]})})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:$s.Z.balanceStyle,children:(0,y.jsx)(h.Z,{id:"Reports.balance",defaultMessage:[{type:0,value:"Остаток"}]})})})]}),(0,y.jsx)("div",{className:re()($s.Z.listWrap,"scroll"),children:null===(r=o.vacations)||void 0===r?void 0:r.map((e=>(0,y.jsx)(tn,{total:e.total,onChange:f,hidden:e.userId!==c.id,item:e,onDelete:()=>{return t=e.id,void s((0,F.sendVacationDelete)({id:t}));var t}},e.id)))})]}),(0,y.jsx)("div",{className:$s.Z.saveBtnStyle,children:(0,y.jsx)(Xs.Z,{disabled:n,onClick:()=>{var e=o.vacations.map((e=>{var{checked:t}=e;return nn(nn({},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,rn)),{},{userId:d.id})}));s((0,F.updateAll)(e,(()=>{s((0,F.fetchVacationsByUser)({id:c.id},(()=>{a(!0)})))})))}})})]})};var ln=r(86896),cn=r(30381),dn=r.n(cn),un=r(92469),pn=r(11468);const hn=()=>{var e=(0,j.I0)(),t=(0,ln.Z)(),r=dn()().year(),s=(0,j.v9)(tr.Jf),n=(0,j.v9)(tr.cB).vacations.map((e=>e.year)),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,p]=(0,i.useState)("".concat(r)),f={total:a,comment:l,year:d,userId:s.id},m=n.some((e=>e===Number(d)));return(0,y.jsxs)("div",{className:$s.Z.addFormWrapper,children:[(0,y.jsxs)("div",{className:$s.Z.addFormContainer,children:[(0,y.jsxs)("span",{style:{display:"flex"},children:["".concat(t.formatMessage(pn.Y),":"),(0,y.jsx)(Js.Z,{classNameInput:$s.Z.inputStyle,value:a,onChange:o}),(0,y.jsx)(un.Z,{onChange:e=>{p(e)},autoCompleteClassName:$s.Z.selectorStyle,value:d})]}),(0,y.jsxs)("div",{className:$s.Z.commentContainer,children:[(0,y.jsx)(h.Z,{id:"EmployeeForm.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),(0,y.jsx)("input",{type:"text",className:$s.Z.textInput,value:l,onChange:e=>{c(e.target.value)}})]})]}),(0,y.jsx)("div",{className:$s.Z.addBtn,children:(0,y.jsx)(Zi.Z,{onClick:()=>{e((0,F.sendVacationCreate)(f,(()=>{e((0,F.fetchEmployee)(s.id))}))),o(""),c("")},disabled:(0,u.xb)(a)||m})})]})},fn=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(hn,{}),(0,y.jsx)(on,{})]});var mn={namePeriod:ae.P$,externalUserIds:ae.tl,schemePeriods:ae.V7,positionPeriod:ae.P5,skills:ae.S6,reserveSkills:ae._v,tasks:ae.A,groupPeriod:ae.Qe,zonePeriod:ae.qd,officePeriod:ae.nC,biometryPassword:ae.ZK,overWork:ae.Ir,calendarPeriod:ae.Rd,vacation:ae.XA},vn={namePeriod:(0,y.jsx)(je,{}),externalUserIds:(0,y.jsx)(Ks.Z,{}),schemePeriods:(0,y.jsx)(ar,{}),positionPeriod:(0,y.jsx)(Ke,{autoCompleteFieldNameKey:"positionId",addingPanelTitle:ae.W$}),skills:(0,y.jsx)(ni,{}),reserveSkills:(0,y.jsx)(Qs,{}),tasks:(0,y.jsx)(Di,{}),groupPeriod:(0,y.jsx)(ys,{}),zonePeriod:(0,y.jsx)(gr,{autoCompleteFieldNameKey:"zone",mainFieldKey:"zone",autoCompleteComponent:Y.Z,addingPanelTitle:ae.xp}),officePeriod:(0,y.jsx)(Ie,{autoCompleteFieldNameKey:"officeId",addingPanelTitle:ae.zH}),biometryPassword:(0,y.jsx)(Pr,{fieldName:"password",type:"password",disableInitialValues:!0}),overWork:(0,y.jsx)(Es,{fieldName:["overWork","overWorkComment"],label:ae.AJ,className:v.Z.styleBlocking}),calendarPeriod:(0,y.jsx)(is,{}),vacation:(0,y.jsx)(fn,{})},yn=e=>(0,u.xb)(e)?ae.eA:mn[e];function gn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bn extends i.Component{constructor(e){super(e),gn(this,"handleSubmitConfirm",(()=>{var{groupId:e,closeForm:t}=this.props;this.setState({openedForm:"emptyForm"}),this.props.onClose(t,e)})),gn(this,"closeEditForm",(()=>{var{isEmployeeViewFormDirty:e}=this.props;e?this.setState({openConfirm:!0}):this.handleSubmitConfirm()})),gn(this,"handleRowClick",(e=>{this.setState({openedForm:e})})),gn(this,"closeAdditionalDrawer",(()=>{this.setState({openedForm:"emptyForm"})})),gn(this,"closeConfirm",(()=>{this.handleSubmitConfirm(),this.setState({openConfirm:!1})})),gn(this,"copyEmployee",(()=>{this.props.handleCopyEmployee(this.props.employeeId,this.props.groupId),this.handleSubmitConfirm()})),this.state={openedForm:"emptyForm",openConfirm:!1}}render(){var{openedForm:e}=this.state,{employeeId:t,intl:r,updateEmployeeCb:i}=this.props,s=!(0,u.xb)(t),n=(e=>(0,u.xb)(e)?null:vn[e])(e);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Z,{open:s,headerContent:(()=>(0,y.jsx)("div",{className:d.Z.iconCopy,children:(0,y.jsx)(c.Z,{onClick:this.copyEmployee,hint:r.formatMessage({id:"EmployeeForm.copyCard",defaultMessage:[{type:0,value:"Копировать карточку"}]}),children:(0,y.jsx)(l.ZP,{glyph:l.TI,style:{width:16,height:16}})})}))(),customBackdropClick:this.closeEditForm,hasCustomBackdropClick:!0,handleBackArrow:this.handleSubmitConfirm,title:(0,y.jsx)(b,{employeeId:t}),asideWidth:600,asideContent:n,asideTitle:yn(e),asideOpen:Boolean(n),children:(0,y.jsx)(z,{updateEmployeeCb:i,employeeId:t,onRowClick:this.handleRowClick,closeForm:this.closeConfirm,closeAdditionalDrawer:this.closeAdditionalDrawer,openedForm:e,onSubmitConfirm:this.handleSubmitConfirm,onCloseConfirm:this.closeConfirm,confirmOpened:this.state.openConfirm})})})}}bn.defaultProps={employeeId:"",isEmployeeViewFormDirty:!1,updateEmployeeCb:p.wA,handleCopyEmployee:p.wA},bn.propTypes={employeeId:n().string,updateEmployeeCb:n().func,isEmployeeViewFormDirty:n().bool,onClose:n().func.isRequired,handleCopyEmployee:n().func,closeForm:n().func.isRequired,groupId:m.K5.isRequired,intl:m.gm.isRequired};const jn=(0,a.ZP)(bn)},96130:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(28216),s=r(97779),n=r(17632),a=r(72772),o=r(12718),l=r(39209),c=r(71505),d=r(84343),u=r(95326);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=o.FORM_NAMES.EMPLOYEE_FORM;const v=(0,s.compose)((0,i.$j)((e=>({openEditForm:e.openEditForm,groupId:(0,c.Wx)(e),copiedEmployeeId:(0,u.PF)(e),isEmployeeViewFormDirty:(0,n.Z)(m)(e)})),((e,t)=>h(h({},t),{},{onClose:t=>{e((0,a.ob)(m)),t()},handleCopyEmployee:(r,i)=>{e((0,d.copyEmployee)({id:r},(r=>{t.openEditForm(null,{id:r}),e((0,d.fetchEmployees)({id:i}))})))}}))))(l.Z)},74225:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ze,i:()=>Me});var i=r(65399),s=r(26970),n=r(15113),a=r(94184),o=r.n(a),l=r(67294),c=r(28216),d=r(45697),u=r.n(d),p=r(44012),h=r(30053),f=r(50335),m=r(85893),v=(0,m.jsx)(p.Z,{id:"EmployeeForm.overWork",defaultMessage:[{type:0,value:"Не допускать переработок"}]});const y=e=>(0,m.jsx)(f.ZP,{onChange:h.wA,checked:e.overWork.input.value,disabled:!0,label:v});var g=r(57484),b=r(57581),j=r(26690),x=e=>{var{input:{value:t}}=e;return(0,m.jsx)("span",{children:t.name})};x.propTypes=n.oX;const S=x;var O=r(81977),P=r(35519),w=r(12687),C=r(93231),k=r(323),T=r(96797),N=r(30117),R=r(16928),E=r(40767),D=r(86312),A=r(3309),M=r(35667),I=r(22350),Z=r(12718),q=r(5617),F=r(65227),L=r(85027),H=r(12828),_=r(73282),B=r(50362),G=e=>{var{value:t}=e;if((0,M.xb)(t))return null;var r=t.map((e=>e.name)).join(", ");return(0,m.jsx)("div",{title:r,children:r})};G.propTypes={value:u().array.isRequired};const W=G;var U=r(53571),V=e=>{var{input:{value:t}}=e,r=[],i=null==t?void 0:t.filter((e=>(0,B.nV)(e)));return!(0,M.xb)(i)&&i.forEach((e=>{r.find((t=>t.scheduleSchemeId===e.scheduleSchemeId))||r.push(e)})),(0,m.jsx)(W,{className:U.Z.schemePeriods,value:r})};V.propTypes=n.oX;const z=V;var Y=r(30663),Q=r(16550),K=r(97779),X=r(17666),J=r(42513),$=r(60119);var ee=e=>{var{operator:t,setRoleToManager:r,history:i,employeeFetched:s,availableInFrontendSettings:n,closeEmployeeForm:a}=e;return(0,M.xb)(t)||(0,$.oO)(t)||!t.canAppointManager||!n?null:(0,m.jsx)("div",{className:"inline-block",children:(0,m.jsx)(E.Z,{className:"gMAKlqAZkZFBTD-D87koYQ==",onClick:()=>{t.canAppointManager&&r({id:t.id},(()=>{s({}),i.push("/employee/"+t.groupId),a()}))},children:(0,m.jsx)(p.Z,{id:"Common.createManager",defaultMesssage:"Сделать менеджером"})})})};ee.propTypes={operator:u().shape({canAppointManager:u().bool,groupId:u().string,id:u().string}).isRequired,setRoleToManager:u().func.isRequired,history:u().object.isRequired,employeeFetched:u().func.isRequired,availableInFrontendSettings:u().bool.isRequired,closeEmployeeForm:u().func.isRequired};const te=ee;var re=r(84343);const ie=(0,K.compose)(Q.EN,(0,c.$j)((e=>({operator:(0,J.getCurrentOperator)(e),availableInFrontendSettings:(0,X.vH)(e,"isConvertToManagerAvailable")})),{setRoleToManager:re.setRoleToManager,employeeFetched:re.employeeFetched}))(te);var se=r(94719),ne=r(41486),ae=r(5624),oe=r(31878),le=r(43637),ce=r(66071),de=r(57591);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class fe extends l.Component{constructor(){super(...arguments),he(this,"handleChange",(e=>{var{key:t,value:r}=e,{input:{onChange:i,value:s}}=this.props,n={[t]:r};i(pe(pe({},s),n))}))}render(){var{input:{value:e},hidden:t,onRowClick:r,openedForm:i,formMeta:s,onClearBiometry:n}=this.props;if(t)return null;var{deviceUserId:a,faceData:o,cardId:l,password:c,numberFingers:d}=e;return(0,m.jsxs)(de.Z,{children:[(0,m.jsx)(Y.Z,{labelClassName:U.Z.biometryTitle,label:L.Vf,children:n&&(0,m.jsx)(E.Z,{onClick:n,children:(0,m.jsx)(p.Z,{id:"Biometrics.clear",defaultMessage:[{type:0,value:"Очистить биометрию"}]})})}),(0,m.jsx)(Y.Z,{label:L.f4,disabled:!0,children:a||""}),(0,m.jsx)(Y.Z,{label:L.XY,disabled:!0,children:d||0}),(0,m.jsx)(Y.Z,{childrenClassName:U.Z.faceId,label:L.mz,disabled:!o,children:(0,m.jsx)(le.ZP,{glyph:le.LR})}),(0,m.jsx)(Y.Z,{label:L.Bh,disabled:!0,children:l}),(0,m.jsx)(Y.Z,{label:L.fq,onRowClick:r,openedForm:i,formMeta:s,rowKey:"biometryPassword",children:(0,m.jsx)(ce.Z,{value:c,disabled:!0})})]})}}fe.defaultProps={input:null,openedForm:"",onRowClick:null,hidden:!1,formMeta:null,onClearBiometry:null},fe.propTypes={input:u().object,openedForm:u().string,onRowClick:u().func,hidden:u().bool,formMeta:u().object,onClearBiometry:u().func};const me=fe;var ve=r(94769),ye=e=>{var{input:{value:t}}=e;if((0,M.xb)(t))return null;var r=t.filter((e=>(0,B.nV)(e))).sort(((e,t)=>e.priority>t.priority?1:e.priority<t.priority?-1:0));return(0,m.jsx)(m.Fragment,{children:r.map(((e,t)=>(0,m.jsx)("span",{className:U.Z.enumItem,children:"".concat(e.name," (").concat(e.priority,")")},e.id||t)))})};ye.propTypes=n.oX;const ge=ye;var be=e=>{var{input:{value:t}}=e;if((0,M.xb)(t))return null;var r=t.filter((e=>(0,B.nV)(e))).sort((0,I.hM)());return(0,m.jsx)(m.Fragment,{children:r.map((e=>{var{name:t}=e;return(0,m.jsx)("span",{className:U.Z.enumItem,children:t},t)}))})};be.propTypes=n.oX;const je=be;var xe=r(29698),Se=e=>{var{input:{value:t}}=e;if((0,M.xb)(t))return null;var r=t.filter((e=>(0,B.nV)(e))).sort((0,I.hM)());return(0,m.jsx)(m.Fragment,{children:r.map((e=>{var{name:t}=e;return(0,m.jsx)("span",{className:U.Z.enumItem,children:t},t)}))})};Se.propTypes=n.oX;const Oe=Se;var Pe=r(51947),we=r(41818),Ce=r(86896),ke=r(95326),Te=r(60769),Ne={id:"EmployeeForm.vacationAvailableForYear",defaultMessage:"Доступно на текущий год"};const Re=()=>{var e,t,r,i,s=(0,c.v9)(ke.Jf),n=(0,Ce.Z)().formatMessage(Ne);return(0,m.jsx)("div",{className:Te.Z.vacationTitle,children:"".concat(n," ").concat(null==s||null===(e=s.vacation)||void 0===e||null===(t=e.currentVacation)||void 0===t?void 0:t.remainder,"/").concat(null==s||null===(r=s.vacation)||void 0===r||null===(i=r.currentVacation)||void 0===i?void 0:i.total)})};function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Me=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:ae.Z.subItem,children:[ne.CV,(0,m.jsx)("span",{children:":"})]}),(0,m.jsxs)("div",{className:ae.Z.subItem,children:[ne.BV,(0,m.jsx)("span",{children:":"})]}),(0,m.jsxs)("div",{className:ae.Z.subItem,children:[ne.oB,(0,m.jsx)("span",{children:":"})]})]}),Ie=e=>{var t,r,{dirty:n,onSubmitConfirm:a,confirmOpened:d,onCloseConfirm:u,employeeFormValues:p,closeAdditionalDrawer:h,biometricIsAvailable:f,onRowClick:v,openedForm:x,formMeta:B,user:G,clearBiometry:W,isShowLicenseModal:U,onCloseDrawer:V,updateEmployee:Q,blockUser:K,unblockUser:X,employeeFormInitial:J,closeEmployeeForm:$,isHidePersonalData:ee,schedules:te,employeeId:re,updateEmployeeCb:le}=e,ce=(0,c.v9)(we.G7),[de,ue]=(0,l.useState)(!0);if((0,M.xb)(p))return(0,m.jsx)(j.Z,{});var pe=o()(ae.Z.body,"scroll"),he=(0,I.BC)(G,Z.ZP.RIGHTS.BIOMETRICS,Z.ZP.CRUD),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return e.map((e=>De(De({},e),{},{[t]:(0,q.y1)(e[t])})))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";return e.map((e=>e[t]!==q.CA?De(De({},e),{},{[t]:(0,F.Mm)(e[t],F._E)}):e))},be=()=>{var e,t;p.firingDate!==Z.ZP.END_OF_TIME&&(p.firingDate=(0,F.Yd)(p.firingDate,F._E),p.firingDate=(0,F.CK)(p.firingDate,F._T)),p.hiringDate!==Z.ZP.START_OF_TIME&&(p.hiringDate=(0,F.Yd)(p.hiringDate,F._E),p.hiringDate=(0,F.CK)(p.hiringDate,F._T));var r=(0,q.Pg)((0,q.lg)(p)),{skills:i,reserveSkills:s,tasks:n}=r,a=De(De({},r),{},{schemePeriods:ye(fe(ce,"endDate"),"startDate"),skills:fe(i,"end"),reserveSkills:fe(s,"end"),tasks:ye(fe(n,"end")),overWorkComment:p.overWork?p.overWorkComment:"",address:null===(e=p.address)||void 0===e?void 0:e.trim(),personnelNumber:null===(t=p.personnelNumber)||void 0===t?void 0:t.trim()}),o=a.blocked,l=o!==J.blocked;Q(a,l?o?()=>K(a.id):()=>X(a.id):()=>{le(re)}),V(a)},Se=!!(0,M.xb)(null==p?void 0:p.login),Ce=de?"password":"text";return(0,m.jsxs)("div",{className:ae.Z.root,children:[U&&(0,m.jsx)(O.Z,{}),(0,m.jsxs)("div",{className:pe,children:[(0,m.jsxs)(b.Z,{children:[(0,m.jsxs)("tr",{className:ae.Z.requiredField,children:[(0,m.jsx)("td",{children:oe._d}),(0,m.jsx)("td",{})]}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.fullNameRow,label:Me,rowKey:"namePeriod",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:se.Z,name:"namePeriod"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:ne.BJ,rowKey:"login",formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:P.I,type:"text",name:"login"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:ne.Wx,rowKey:"externalUserIds",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:xe.Z,type:"text",name:"externalUserIds"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:L.yy,rowKey:"password",formMeta:B,children:(0,m.jsxs)("div",{className:ae.Z.inputPassword,onClick:h,children:[(0,m.jsx)(i.Z,{component:w.Z,isWithoutSpaceInput:!0,type:Ce,name:"password"}),(0,m.jsx)(E.Z,{onClick:()=>ue(!de),className:ae.Z.iconEye,children:(0,Pe.kO)(de)})]})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe._J,rowKey:"groupPeriod",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:ve.Z,name:"groupPeriod.name"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.AJ,rowKey:"officePeriod",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:ve.Z,name:"officePeriod.name"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.zv,rowKey:"positionPeriod",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:ve.Z,name:"positionPeriod.name"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.WI,rowKey:"zonePeriod",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:ve.Z,name:"zonePeriod.zone"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.yT,rowKey:"calendarPeriod",openedForm:x,onRowClick:v,formMeta:B,lineClassName:ae.Z.row,children:(0,m.jsx)(i.Z,{component:S,name:"calendarPeriod"})}),(0,m.jsxs)("tr",{className:ae.Z.requiredField,children:[(0,m.jsx)("td",{children:oe.tl}),(0,m.jsx)("td",{})]}),(0,m.jsx)(Y.Z,{childrenClassName:ae.Z.changesPreferences,labelClassName:ae.Z.itemText,label:oe.sR,rowKey:"preferenceContainers",formMeta:B,children:(0,m.jsx)(i.Z,{component:A.Z,name:"preferenceContainers",dataSource:te,selectedItems:J.preferenceContainers,dataSourceConfig:{value:"id",text:"name"}})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.tt,rowKey:"schemePeriods",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:z,name:"schemePeriods"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.S6,rowKey:"skills",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:ge,name:"skills"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.Zh,rowKey:"reserveSkills",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:Oe,name:"reserveSkills"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.A,rowKey:"tasks",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)(i.Z,{component:je,name:"tasks"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:H.GJ,rowKey:"personnelNumber",formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:P.I,type:"text",name:"personnelNumber"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:L.rN,rowKey:"address",formMeta:B,hidden:ee,children:(0,m.jsx)("div",{title:null===(t=p.address)||void 0===t?void 0:t.trim(),onClick:h,children:(0,m.jsx)(i.Z,{component:P.I,type:"text",name:"address",value:null===(r=p.address)||void 0===r?void 0:r.trim()})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.aj,rowKey:"phoneNumber",formMeta:B,hidden:ee,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:R.Z,type:"text",name:"phoneNumber",hintText:"+X(XXX)XXX-XX-XX"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.iY,rowKey:"email",formMeta:B,hidden:ee,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:Pe.fM,isShowErrorWithoutTouched:!0,type:"text",name:"email",hintText:"example@domain.com"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.NC,rowKey:"dateOfBirth",formMeta:B,hidden:ee,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{className:ae.Z.dateOfBirthInput,component:_.Z,name:"dateOfBirth",buttonLabel:ne.Ao,buttonLabelClassName:ae.Z.buttonLabelClassName})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.sT,rowKey:"hiringDate",formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{className:ae.Z.dateClassName,component:C.Z,name:"hiringDate"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.NB,openedForm:x,onRowClick:v,rowKey:"vacation",formMeta:B,children:(0,m.jsx)(i.Z,{component:Re,name:"vacationBatchDTO"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.js,rowKey:"firingDate",formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:k.Z,className:ae.Z.dateClassName,name:"firingDate",mainFormValues:p,buttonLabel:ne.HK})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,childrenClassName:ae.Z.inputCell,label:oe.qb,rowKey:"notificationChannels",formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(i.Z,{component:N.Z,type:"text",name:"notificationChannels"})})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.AO,rowKey:"blocked",formMeta:B,children:(0,m.jsx)(i.Z,{component:T.XZ,name:"blocked"})}),(0,m.jsx)(Y.Z,{labelClassName:ae.Z.itemText,label:oe.i5,rowKey:"overWork",openedForm:x,onRowClick:v,formMeta:B,children:(0,m.jsx)("div",{onClick:h,children:(0,m.jsx)(s.Z,{component:y,names:["overWork","overWorkComment"]})})})]}),(0,m.jsx)(i.Z,{component:me,onRowClick:v,name:"biometry",openedForm:x,userId:p.id,hidden:!f,onClearBiometry:he&&W,formMeta:B})]}),(0,m.jsxs)("div",{className:ae.Z.bottom,children:[(0,m.jsx)(g.Z,{type:"stripped",caption:ne._8,onClick:be,disabled:Se}),(0,m.jsx)(ie,{closeEmployeeForm:$})]}),(0,m.jsx)(D.Z,{message:ne.uv,fullMessage:ne.r0,onSubmit:()=>{be(),a()},open:d&&n,close:u,buttonClassName:ae.Z.button,submitButtonMessage:ne.Rb,cancelButtonMessage:ne.EI})]})};Ie.defaultProps={updateEmployeeCb:h.wA},Ie.propTypes=De(De({},n.ZP),{},{updateEmployeeCb:u().func});const Ze=Ie},30663:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(67294),s=r(45697),n=r.n(s),a=r(47166),o=r.n(a),l=r(30053),c=r(35667);const d={label:"_2XhPTztRMwalpFt0JpWzeQ==",required:"YWzzgxaW7powfndoS0ymbg==",selectedRow:"pmDKictX5FOBTyXGvcxRwg==",title:"fQsHGCpT04bRO++lfGWruw==",disabled:"_39N8DF6lT+AH1+gCCVzYaA==",formTableRow:"zlc+M6BsUjPBmwu3b80ahA==",touched:"MkPFCzYjjKazltq3zmj19A==",cell:"_4a8sW6VLBgHy0UP+i8KOhA=="};var u=r(85893);var p=o().bind(d);class h extends i.PureComponent{constructor(){var e,t,r;super(...arguments),e=this,r=()=>{if(this.props.disabled)return null;var{onRowClick:e,rowKey:t}=this.props;e(t)},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="handleRowClick"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}get meta(){var{formMeta:e,rowKey:t}=this.props;return(0,c.xb)(e)||(0,c.xb)(t)?{}:e[t]||{}}render(){var{label:e,children:t,required:r,title:i,labelClassName:s,childrenClassName:n,lineClassName:a,hidden:o,rowKey:l,openedForm:h,disabled:f}=this.props,m=!(0,c.xb)(l)&&!(0,c.xb)(h)&&l===h,{touched:v}=this.meta,y=p("label",s,{required:r,disabled:f}),g=p(d.formTableRow,a,{title:i,selectedRow:m,disabled:f}),b=p({touched:v});return o?null:(0,u.jsxs)("tr",{onClick:this.handleRowClick,className:g,children:[(0,u.jsx)("td",{className:y,children:(0,u.jsx)("span",{className:b,children:e})}),(0,u.jsx)("td",{className:n,children:t})]})}}h.defaultProps={required:!1,title:!1,disabled:!1,childrenClassName:d.cell,onRowClick:l.wA,hidden:!1,rowKey:"",label:null,labelClassName:"",lineClassName:"cursor-pointer",openedForm:"",children:"",formMeta:{}},h.propTypes={label:n().node,required:n().bool,title:n().bool,childrenClassName:n().string,labelClassName:n().string,lineClassName:n().string,openedForm:n().string,rowKey:n().string,hidden:n().bool,disabled:n().bool,children:n().oneOfType([n().string,n().node]),onRowClick:n().func,formMeta:n().object};const f=h},95032:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r(67294),s=r(45697),n=r.n(s),a=r(65399),o=r(40767),l=r(43637),c=r(41486);var d=r(85893);class u extends i.Component{constructor(){var e,t,r;super(...arguments),e=this,r=()=>{var{handleSubmit:e}=this.props;e()},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="handleAddNewField"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var{fieldName:e,type:t,component:r,label:i}=this.props;return(0,d.jsxs)("div",{className:"KJVrip04EBloMdZLK6vVrQ==",children:[(0,d.jsx)(a.Z,{component:r,type:t,name:e,label:i}),(0,d.jsx)("div",{className:"_1sjLevwPAUNrKwfqIoIpwQ==",children:(0,d.jsx)(o.Z,{onClick:this.handleAddNewField,children:(0,d.jsxs)("div",{className:"dX5A+zH0Vrepr22owa5fsg==",children:[(0,d.jsx)(l.ZP,{glyph:l.BN,classCustom:"bbWmFs8te+7lxsFRBACcfQ=="}),(0,d.jsx)("div",{className:"s5FImOFkf3EtoFbariZoFw==",children:c.$w})]})})})]})}}u.defaultProps={component:"input",label:null},u.propTypes={component:n().oneOfType([n().node,n().func]),label:n().oneOfType([n().node,n().string]),type:n().string.isRequired,fieldName:n().string.isRequired,handleSubmit:n().func.isRequired};const p=u},75839:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var i=r(67294),s=r(44012),n=r(28216),a=r(85208),o=r(72772),l=r(94184),c=r.n(l),d=r(45697),u=r(57495),p=r(51622),h=r(49862),f=r(30053),m=r(12718),v=r(56705),y=r(91659);const g="_6EqmV-TG3x1+vGFaclw0hA==",b="_5CGNCPVHO4wRaKcSjedhfg==",j="A3QBS+CqRW3f9ybhhDX6uQ==",x="_6YxAhNUqAwSZ7vsZ4OS9aw==";var S=r(85893);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=e=>{var{isManagerForm:t}=e,r=(0,n.I0)(),l=t?m.FORM_NAMES.MANAGER_FORM:m.FORM_NAMES.EMPLOYEE_FORM;(0,i.useEffect)((()=>{r((0,v.fetchExternalSystems)())}),[r]);var d=(0,n.v9)(y.Bu),O=(0,n.v9)((e=>(0,a.Z)(l)(e))),[w,C]=(0,i.useState)(""),[k,T]=(0,i.useState)(""),[N,R]=(0,i.useState)(O.externalUserIds||[]),E=(e,t,i)=>{var s=N[t],n=[...N];n[t]=P(P({},s),{},{[i]:e}),R(n),r((0,o.m)(l,"externalUserIds",n)),r((0,o.Fq)(l,"externalUserIds"))},D=c()({"YI-AOMZogCK5YqMOZ+P4Dw==":!t,"tMwdwTZxM1EQ8e03OGGWWg==":t});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"p-hrTNCHEbNarXy3KC67Ew==",children:[(0,S.jsx)("div",{className:D,children:(0,S.jsx)(s.Z,{id:"SignInForm.login",defaultMessage:[{type:0,value:"Логин"}]})}),(0,S.jsx)("div",{className:"flNCbykhV3XCLQ11ISpuJA==",children:(0,S.jsx)(s.Z,{id:"EmployeeForm.source",defaultMessage:[{type:0,value:"Источник"}]})})]}),(0,S.jsxs)("div",{className:c()(g,"MvTlEmaBP+NcCOAcJTWjTw=="),children:[(0,S.jsxs)("div",{className:b,children:[(0,S.jsx)(p.Z,{deleteCb:f.wA,disabled:!0,className:j,rootStyle:{paddingTop:3,height:12}}),(0,S.jsx)("input",{type:"text",value:w,onChange:e=>{C(e.target.value)}})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsx)(h.Z,{value:k,onChange:T,dataSource:d})})]}),(0,S.jsx)("div",{className:"pA8KQkSzDwZDa8b-OZP6kA==",children:(0,S.jsx)(u.Z,{onClick:()=>{var e=[...N,{systemId:k,externalUserId:w}].map((e=>P(P({},e),{},{externalUserId:e.externalUserId.trim()})));R(e),T(""),C(""),r((0,o.m)(l,"externalUserIds",e)),r((0,o.Fq)(l,"externalUserIds"))},disabled:!k||!w})}),(0,S.jsx)("div",{className:c()("h-52gD3K7AiTW6yVxcO1yg==","scroll"),children:N.map(((e,t)=>(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("div",{className:b,children:[(0,S.jsx)(p.Z,{deleteCb:()=>(e=>{var t=N.filter(((t,r)=>e!==r));R(t),r((0,o.m)(l,"externalUserIds",t)),r((0,o.Fq)(l,"externalUserIds"))})(t),className:j,rootStyle:{paddingTop:3,height:12}}),(0,S.jsx)("input",{type:"text",value:e.externalUserId,onChange:e=>{E(e.target.value,t,"externalUserId")}})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsx)(h.Z,{value:e.systemId,onChange:e=>E(e,t,"systemId"),dataSource:d})})]},e.id||t)))})]})};C.propTypes={isManagerForm:d.bool},C.defaultProps={isManagerForm:!1};const k=C},11468:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var i={id:"Employee.vacationDays",defaultMessage:"Дней отпуска"}},29698:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(15113),s=r(35667),n=r(53571),a=r(85893),o=e=>{var{input:{value:t=[]}}=e;return(0,s.xb)(t)?null:(0,a.jsx)(a.Fragment,{children:t.map(((e,t)=>(0,a.jsx)("span",{className:n.Z.enumItem,children:e.externalUserId},e.id||t)))})};o.propTypes=i.oX;const l=o},94719:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(35667),a=r(5624),o=r(85893),l=e=>{var{input:{value:t}}=e;return(0,n.xb)(t)?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:a.Z.fullNameElement,children:t.lastName}),(0,o.jsx)("div",{className:a.Z.fullNameElement,children:t.firstName}),(0,o.jsx)("div",{className:a.Z.fullNameElement,children:t.middleName})]})},c=s().shape({firstName:s().string,lastName:s().string,middleName:s().string});l.propTypes={input:s().shape({value:s().oneOfType([c,s().string]),onChange:s().func}).isRequired};const d=l},64835:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j,m:()=>g});var i=r(65399),s=r(15113),n=r(67294),a=r(52600),o=r(70120),l=r(40518),c=r(65227),d=r(12718),u=r(77161),p=r(57701),h=r(41486),f=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={text:"name",value:"id"},g={id:"EmployeeForm.skillsSearch",defaultMessage:"Поиск по навыкам"},b=e=>{var{handleSubmit:t,availableSkills:r,invalid:s,intl:m}=e,[v,b]=(0,n.useState)((0,c.zO)()),[j,x]=(0,n.useState)(d.ZP.END_OF_TIME),[S,O]=(0,n.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:p.Z.header,children:h.le}),(0,f.jsxs)("div",{className:p.Z.body,children:[(0,f.jsx)(i.Z,{component:e=>{var{input:t}=e;return(0,c.rm)(t.value,j)?O(!0):O(!1),b(t.value),(0,f.jsx)(o.Z,{input:t})},name:"start"}),(0,f.jsx)(l.i,{}),(0,f.jsx)(i.Z,{component:e=>{var{input:t}=e;return(0,c.rm)(v,t.value)?O(!0):O(!1),x(t.value),(0,f.jsx)(o.Z,{input:t})},name:"end"}),(0,f.jsx)(i.Z,{component:a.Z,name:"skillId",dataSource:r,dataSourceConfig:y,hintText:m.formatMessage(g)})]}),(0,f.jsx)("div",{className:p.Z.bottom,children:(0,f.jsx)(u.Z,{onClick:t,disabled:s||S})})]})};b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s.ZP);const j=b},51947:(e,t,r)=>{"use strict";r.d(t,{Lk:()=>u,Sz:()=>d,fM:()=>p,kO:()=>h});var i=r(44012),s=r(43637),n=r(5624),a=r(85893);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,u=e=>{var{email:t}=e,r={};return t?d.test(t)||(r.email=(0,a.jsx)("span",{className:n.Z.errorLabelClassName,children:(0,a.jsx)(i.Z,{id:"EmployeeForm.unCorrectAddress",defaultMessage:[{type:0,value:"Некорректный адрес"}]})})):r.email="",r},p=e=>{var{input:t,label:r,type:i,hintText:s,disabled:n,labelClassName:o,isShowErrorWithoutTouched:c,meta:{touched:d,error:u,warning:p}}=e,h=c||d;return(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)("label",{className:o,children:r}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",l(l({},t),{},{placeholder:s,type:i,disabled:n})),h&&(u&&(0,a.jsx)("span",{children:u})||p&&(0,a.jsx)("span",{children:p}))]})]})},h=e=>{var t={width:15,height:15};return e?(0,a.jsx)(s.ZP,{glyph:s.Wi,style:t}):(0,a.jsx)(s.ZP,{glyph:s.bA,style:t})}},41486:(e,t,r)=>{"use strict";r.d(t,{$w:()=>m,$z:()=>h,A:()=>O,AJ:()=>D,Ao:()=>M,BJ:()=>l,BV:()=>n,CV:()=>a,EI:()=>F,HK:()=>A,Im:()=>T,Ir:()=>C,P$:()=>u,P5:()=>b,PX:()=>W,Qe:()=>I,Rb:()=>q,Rd:()=>k,S6:()=>j,V7:()=>g,W$:()=>N,Wx:()=>o,XA:()=>P,ZK:()=>y,_8:()=>f,_v:()=>x,eA:()=>d,eJ:()=>U,le:()=>S,nC:()=>_,nc:()=>B,oB:()=>c,op:()=>w,qd:()=>H,r0:()=>L,sT:()=>p,tl:()=>v,uv:()=>Z,xU:()=>G,xp:()=>R,zH:()=>E});var i=r(44012),s=r(85893),n=(i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.firstName",defaultMessage:[{type:0,value:"Имя"}]})),a=(i.Z,i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.lastName",defaultMessage:[{type:0,value:"Фамилия"}]})),o=(i.Z,i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.externalSystems",defaultMessage:[{type:0,value:"Внешние логины"}]})),l=(0,s.jsx)(i.Z,{id:"EmployeeForm.loginWFM",defaultMessage:[{type:0,value:"Логин WFM"}]}),c=(0,s.jsx)(i.Z,{id:"EmployeeForm.middleName",defaultMessage:[{type:0,value:"Отчество"}]}),d=(i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,(0,s.jsx)(i.Z,{id:"Common.dataEditing",defaultMessage:[{type:0,value:"Редактирование данных"}]})),u=(0,s.jsx)(i.Z,{id:"EmployeeForm.fullNameHistoryAndAdding",defaultMessage:[{type:0,value:"История изменений и редактирование Ф.И.О."}]}),p=(0,s.jsx)(i.Z,{id:"EmployeeForm.addingFullName",defaultMessage:[{type:0,value:"Добавление Ф.И.О."}]}),h=(0,s.jsx)(i.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]}),f=(0,s.jsx)(i.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),m=(0,s.jsx)(i.Z,{id:"Common.replace",defaultMessage:[{type:0,value:"Заменить"}]}),v=(0,s.jsx)(i.Z,{id:"EmployeeForm.telephonyIdEditing",defaultMessage:[{type:0,value:"Редактирование внешних логинов"}]}),y=(0,s.jsx)(i.Z,{id:"EmployeeForm.passwordEditing",defaultMessage:[{type:0,value:"Редактирование пароля"}]}),g=(0,s.jsx)(i.Z,{id:"EmployeeForm.schemePeriodEditing",defaultMessage:[{type:0,value:"Редактирование схемы работы"}]}),b=(i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.positionPeriodEditing",defaultMessage:[{type:0,value:"История изменений и добавление должности"}]})),j=(0,s.jsx)(i.Z,{id:"EmployeeForm.skillsEditing",defaultMessage:[{type:0,value:"Редактирование навыков"}]}),x=(0,s.jsx)(i.Z,{id:"EmployeeForm.reserveSkillsEditing",defaultMessage:[{type:0,value:"Редактирование резервных навыков"}]}),S=(0,s.jsx)(i.Z,{id:"EmployeeForm.addingReserveSkill",defaultMessage:[{type:0,value:"Добавление резервного навыка"}]}),O=(0,s.jsx)(i.Z,{id:"EmployeeForm.tasksEdit",defaultMessage:[{type:0,value:"Редактирование задач"}]}),P=(0,s.jsx)(i.Z,{id:"EmployeeForm.vacationEditing",defaultMessage:[{type:0,value:"Редактирование графика отпусков"}]}),w=(i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.roleEditing",defaultMessage:[{type:0,value:"Редактирование роли"}]})),C=(i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.labelOverWorkEditing",defaultMessage:[{type:0,value:"Редактирование переработок"}]})),k=(0,s.jsx)(i.Z,{id:"Employee.editingHourNorm",defaultMessage:[{type:0,value:"Редактирование нормы часов"}]}),T=(i.Z,i.Z,(0,s.jsx)(i.Z,{id:"EmployeeForm.addingScheme",defaultMessage:[{type:0,value:"Добавление схемы работы"}]})),N=(0,s.jsx)(i.Z,{id:"EmployeeForm.addingPosition",defaultMessage:[{type:0,value:"Добавление должности"}]}),R=(0,s.jsx)(i.Z,{id:"EmployeeForm.addingZone",defaultMessage:[{type:0,value:"Добавление часового пояса"}]}),E=(0,s.jsx)(i.Z,{id:"EmployeeForm.addingOffice",defaultMessage:[{type:0,value:"Добавление офиса"}]}),D=(0,s.jsx)(i.Z,{id:"EmployeeForm.overWork",defaultMessage:[{type:0,value:"Не допускать переработок"}]}),A=(0,s.jsx)(i.Z,{id:"EmployeeForm.fireOperator",defaultMessage:[{type:0,value:"Уволить сотрудника"}]}),M=(0,s.jsx)(i.Z,{id:"EmployeeForm.birthdayOperator",defaultMessage:[{type:0,value:"Указать дату рождения"}]}),I=(0,s.jsx)(i.Z,{id:"EmployeeForm.groupPeriodEditing",defaultMessage:[{type:0,value:"История изменений и добавление периодов привязки к точкам оргструктуры"}]}),Z={id:"EmployeeForm.editEmployeeData",defaultMessage:"Редактирование данных сотрудника"},q={id:"Common.Yes",defaultMessage:"Да"},F={id:"Common.No",defaultMessage:"Нет"},L=(0,s.jsx)(i.Z,{id:"Manager.Schedule.Devices.Save",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),H=(0,s.jsx)(i.Z,{id:"EmployeeForm.zonePeriodEditing",defaultMessage:[{type:0,value:"История изменений и добавление часового пояса"}]}),_=(0,s.jsx)(i.Z,{id:"EmployeeForm.officePeriodEditing",defaultMessage:[{type:0,value:"История изменений и добавление офиса"}]}),B={id:"EmployeeForm.firstName",defaultMessage:"Имя"},G={id:"EmployeeForm.lastName",defaultMessage:"Фамилия"},W={id:"EmployeeForm.middleName",defaultMessage:"Отчество"},U=(0,s.jsx)(i.Z,{id:"ManagerForm.editManagerRights",defaultMessage:[{type:0,value:"Редактирование прав менеджера"}]})},7066:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var i=r(45697),s=r.n(i),n=r(97779),a=r(28216),o=r(41818),l=r(47166),c=r.n(l),d=r(67294),u=r(25980),p=r(35667),h=r(65227),f=r(47945),m=r(85893),v=c().bind(u.Z);class y extends d.Component{render(){var{startDate:e,endDate:t,firstName:r,lastName:i,middleName:s,lastAddedItemId:n,id:a,meta:o}=this.props,l=(0,p.xb)(s)?"":s,c=(0,h.Vb)(e),d=(0,h.Vb)(t),u=v({historyItem:!0,remove:o.willBeRemoved,newItem:(0,p.xb)(o)&&n===a});return(0,m.jsx)("div",{className:u,children:"".concat(c," — ").concat(d," | ").concat(i," ").concat(r," ").concat(l)})}}y.defaultProps={meta:{},middleName:null},y.propTypes={startDate:s().string.isRequired,endDate:s().string.isRequired,firstName:s().string.isRequired,lastName:s().string.isRequired,middleName:s().string,meta:s().object,id:f.K5.isRequired,lastAddedItemId:f.K5.isRequired};const g=y,b=(0,n.compose)((0,a.$j)((e=>({lastAddedItemId:(0,o.gu)(e)}))))(g);var j=r(12463),x=e=>{var{history:t}=e;return(0,m.jsx)("table",{className:j.Z.tableStyle,children:(0,m.jsx)("tbody",{className:j.Z.historyTable,children:t.map((e=>(0,m.jsx)("tr",{children:(0,m.jsx)(b,{id:e.id,startDate:e.startDate,endDate:e.endDate,firstName:e.firstName,lastName:e.lastName,middleName:e.middleName,meta:e.meta})},e.id)))})})};x.propTypes={history:s().array.isRequired};const S=x},42513:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Se,getCurrentOperator:()=>xe,getMapIdCheckbox:()=>je,getMapIdsCheckbox:()=>be});var i=r(97779),s=r(81978),n=r(22350),a=r(84343),o=r(60119),l=r(30381),c=r.n(l),d=r(65227),u=r(3942);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(e,t)=>{var{id:r,check:i}=t;return e.map((e=>e.id===r?h(h({},e),{},{checked:i}):e))},v=(e,t)=>{var{checked:r}=t;return e.map((e=>h(h({},e),{},{checked:r})))},y=(e,t)=>{var{id:r}=t;return e.filter((e=>e.id!==r))},g=e=>e.filter((e=>!e.checked)),b=(e,t)=>{var{id:r,start:i}=t;return e.map((e=>e.id===r?h(h({},e),{},{start:i}):e))},j=(e,t)=>{var{id:r,end:i}=t;return e.map((e=>e.id===r?h(h({},e),{},{end:i}):e))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=c()().format(d._E),w=(0,s.Lq)({[u.setEmployee]:(e,t)=>null==t?void 0:t.map((e=>{var{id:t,namePeriod:r}=e;return{id:t,name:(0,o.oo)(r)}})),[u.removeEmployee]:(e,t)=>e.filter((e=>{var{id:r}=e;return r!==t}))},[]),C=(0,s.Lq)({[u.addSkill]:(e,t)=>[...e,t],[u.checkedSkill]:(e,t)=>{var{check:r,id:i}=t;return m(e,{check:r,id:i})},[u.checkedAllSkills]:(e,t)=>{var{checked:r}=t;return v(e,{checked:r})},[u.removeSkill]:(e,t)=>{var{id:r}=t;return y(e,{id:r})},[u.removeCheckedSkills]:e=>g(e),[u.editStartDateSkill]:(e,t)=>{var{id:r,startSkill:i}=t;return b(e,{id:r,start:i})},[u.editEndDateSkill]:(e,t)=>{var{id:r,endSkill:i}=t;return j(e,{id:r,end:i})},[u.editPrioritySkill]:(e,t)=>{var{id:r,prioritySkill:i}=t;return e.map((e=>e.id===r?S(S({},e),{},{priority:i}):e))},[u.resetSkills]:()=>[]},[]),k=(0,s.Lq)({[u.addReserveSkill]:(e,t)=>[...e,t],[u.removeCheckedReserveSkills]:e=>g(e),[u.checkedAllReserveSkills]:(e,t)=>{var{checked:r}=t;return v(e,{checked:r})},[u.checkedReserveSkill]:(e,t)=>{var{id:r,check:i}=t;return m(e,{check:i,id:r})},[u.removeReserveSkill]:(e,t)=>{var{id:r}=t;return y(e,{id:r})},[u.editStartDateReserveSkill]:(e,t)=>{var{id:r,startSkill:i}=t;return b(e,{id:r,start:i})},[u.editEndDateReserveSkill]:(e,t)=>{var{id:r,endSkill:i}=t;return j(e,{id:r,end:i})},[u.resetReserveSkills]:()=>[]},[]),T=(0,s.Lq)({[u.addTask]:(e,t)=>[...e,t],[u.removeCheckedTasks]:e=>g(e),[u.checkedAllTasks]:(e,t)=>{var{checked:r}=t;return v(e,{checked:r})},[u.checkedTask]:(e,t)=>{var{id:r,check:i}=t;return m(e,{check:i,id:r})},[u.removeTask]:(e,t)=>{var{id:r}=t;return y(e,{id:r})},[u.editStartDateTask]:(e,t)=>{var{id:r,startTask:i}=t;return b(e,{id:r,start:i})},[u.editEndDateTask]:(e,t)=>{var{id:r,endTask:i}=t;return j(e,{id:r,end:i})},[u.resetTask]:()=>[]},[]),N=(0,s.Lq)({[u.addGroup]:(e,t)=>[t],[u.removeGroup]:()=>[],[u.editStartDateGroup]:(e,t)=>{var{id:r,start:i}=t;return b(e,{id:r,start:i})},[u.editEndDateGroup]:(e,t)=>{var{id:r,end:i}=t;return j(e,{id:r,end:i})}},[]),R=(0,s.Lq)({[u.addTimeZone]:(e,t)=>[t],[u.removeTimeZone]:()=>[],[u.editStartDateTimeZone]:(e,t)=>{var{id:r,start:i}=t;return b(e,{id:r,start:i})},[u.editEndDateTimeZone]:(e,t)=>{var{id:r,end:i}=t;return j(e,{id:r,end:i})}},[]),E=(0,s.Lq)({[u.addPosition]:(e,t)=>[t],[u.removePosition]:()=>[],[u.editStartDatePosition]:(e,t)=>{var{id:r,start:i}=t;return b(e,{id:r,start:i})},[u.editEndDatePosition]:(e,t)=>{var{id:r,end:i}=t;return j(e,{id:r,end:i})}},[]),D=(0,s.Lq)({[u.addCalendar]:(e,t)=>[t],[u.removeCalendar]:()=>[],[u.editStartDateCalendar]:(e,t)=>{var{id:r,start:i}=t;return b(e,{id:r,start:i})},[u.editEndDateCalendar]:(e,t)=>{var{id:r,end:i}=t;return j(e,{id:r,end:i})}},[]),A=(0,s.Lq)({[u.editFiringDate]:(e,t)=>t},P),M=(0,s.Lq)({[u.editHiringDate]:(e,t)=>t},""),I=(0,s.Lq)({[u.addOffice]:(e,t)=>[t],[u.removeOffice]:()=>[],[u.editStartDateOffice]:(e,t)=>{var{id:r,start:i}=t;return b(e,{id:r,start:i})},[u.editEndDateOffice]:(e,t)=>{var{id:r,end:i}=t;return j(e,{id:r,end:i})}},[]),Z=(0,s.Lq)({[u.addSchemes]:(e,t)=>{var{selectedIds:r,start:i,end:s,checked:n}=t;return[...e,...r.map((e=>({id:e,start:i,end:s,checked:n})))]},[u.checkScheme]:(e,t)=>{var{id:r,check:i}=t;return m(e,{check:i,id:r})},[u.checkAllSchemes]:(e,t)=>{var{checked:r}=t;return v(e,{checked:r})},[u.removeCheckedSchemes]:e=>g(e),[u.removeScheme]:(e,t)=>{var{id:r}=t;return y(e,{id:r})},[u.editStartDateScheme]:(e,t)=>{var{id:r,startScheme:i}=t;return b(e,{id:r,start:i})},[u.editEndDateScheme]:(e,t)=>{var{id:r,endScheme:i}=t;return j(e,{id:r,end:i})},[u.resetSchemes]:()=>[]},[]),q=(0,s.Lq)({[u.editBlocked]:(e,t)=>t},!1),F=(0,s.Lq)({[u.editOverWork]:(e,t)=>t},!1),L=(0,s.Lq)({[u.editOverWorkComment]:(e,t)=>t},""),H=(0,s.Lq)({[u.editNotificationChannels]:(e,t)=>t},"PUSH"),_=(0,s.Lq)({[u.responseData]:(e,t)=>t,[u.resetResponseData]:()=>({})},{}),B=(0,s.Lq)({[u.setMultiEditAddress]:(e,t)=>t,[u.resetMultiEditAddress]:()=>""},""),G=(0,s.Lq)({[u.setMultiEditPhoneNumber]:(e,t)=>t,[u.resetMultiEditPhoneNumber]:()=>""},""),W=(0,s.Lq)({[u.setMultiEditEmail]:(e,t)=>t,[u.resetMultiEditEmail]:()=>""},"");const U=(0,i.combineReducers)({email:W,address:B,phoneNumber:G,employee:w,skills:C,reserveSkills:k,taskSkills:T,groups:N,userZones:R,positions:E,calendars:D,firingDate:A,hiringDate:M,offices:I,schemes:Z,blocked:q,overWork:F,overWorkComment:L,notificationChannels:H,response:_});function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=(0,s.Lq)({[a.receiveVacationData]:(e,t)=>({checkedAll:!1,vacations:t}),[a.setVacationId]:(e,t)=>z(z({},e),{},{vacationId:t}),[a.employeeFetchedWithVacations]:(e,t)=>{var r=[];Object.keys(t.vacation).forEach((e=>{null!==t.vacation[e].id&&r.push(t.vacation[e])}));var i=r.filter((t=>!e.vacations.some((e=>e.id===t.id))));return{checkedAll:!1,vacations:[...e.vacations,...i]}},[a.removeVacationData]:(e,t)=>{var r;return z(z({},e),{},{vacations:null===(r=e.vacations)||void 0===r?void 0:r.filter((e=>e.id!==t))})},[a.deleteCheckedVacation]:(e,t)=>{var r;return z(z({},e),{},{vacations:null===(r=e.vacations)||void 0===r?void 0:r.filter((e=>e.id===t))})},[a.editTotal]:(e,t)=>z(z({},e),{},{vacations:e.vacations.map((e=>e.id===t.id?z(z({},e),{},{total:t.value}):e))}),[a.toggleCheckAllCheckbox]:(e,t)=>({vacations:e.vacations.map((e=>z(z({},e),{},{checked:t}))),checkedAll:t}),[a.checkRowCheckbox]:(e,t)=>({checkedAll:!1,vacations:e.vacations.map((e=>e.id===t?z(z({},e),{},{checked:!e.checked}):e))}),[a.clearVacationsList]:e=>z(z({},e),{},{vacations:[],checkedAll:!1}),[a.addVacationData]:(e,t)=>{var r,i=null===(r=e.vacations)||void 0===r?void 0:r.map((e=>{if(e.rowId===t.rowId){if("balance"===t.inputName)return z(z({},e),{},{balance:t.inputValue});if("accountedFor"===t.inputName)return z(z({},e),{},{accountedFor:t.inputValue})}return e}));return z(z({},e),{},{vacations:i})}},{vacations:[],checkedAll:!1}),K=(0,s.Lq)({[a.loadQueues]:(e,t)=>t.sort(((e,t)=>e.name===t.name?e.id>t.id?1:-1:e.name>t.name?1:-1))},[]),X=(e,t)=>e.lastName===t.lastName?e.firstName>t.firstName?1:-1:e.lastName>t.lastName?1:-1,J=(0,s.Lq)({[a.freeEmployeeFetched]:(e,t)=>z(z({},e),{},{[t.date]:t.employees.sort(X)})},{}),$=(0,s.Lq)({[a.isLoadingEmployees]:(e,t)=>t},!1),ee=(0,s.Lq)({[a.loadEmployees]:(e,t)=>t,[a.updateEmployeeAction]:(e,t)=>e.map((e=>e.id===t.id?t:e)),[a.createEmployeeAction]:(e,t)=>{var r=[...e];return r.push(t),r},[a.deleteEmployeeAction]:(e,t)=>e.filter((e=>e.id!==t.id)),[a.setBlockUser]:(e,t)=>e.map((e=>e.id===t?z(z({},e),{},{blocked:!0}):e)),[a.setUnblockUser]:(e,t)=>e.map((e=>e.id===t?z(z({},e),{},{blocked:!1}):e))},[]),te=(0,s.Lq)({[a.fetchScheduleSchemeAction]:(e,t)=>t.sort(n.r7)},[]),re=(0,s.Lq)({[a.setScrollOptions]:(e,t)=>t},!1),ie=(0,s.Lq)({[a.setIsUserContextMenuOpen]:(e,t)=>t},!1),se=(0,s.Lq)({[a.setInitMapIds]:(e,t)=>t,[a.setMapIdCheckbox]:(e,t)=>{var{id:r}=t,i=z({},e);return i[r]=z({},t),i},[a.setMapIdsCheckbox]:(e,t)=>{var{value:r}=t,i=z({},e);return Object.keys(i).forEach((e=>{i[e]=z(z({},i[e]),{},{value:r})})),i}},{}),ne=(0,s.Lq)({[a.changeShowFired]:(e,t)=>t},!1),ae=(0,s.Lq)({[a.setTableDisplaySettings]:(e,t)=>t,[a.loadTableDisplaySettings]:(e,t)=>t},{}),oe=(0,s.Lq)({[a.setFilter]:(e,t)=>t},{}),le=(0,s.Lq)({[a.employeeFetched]:(e,t)=>t},{}),ce=(0,s.Lq)({[a.setIsLoading]:(e,t)=>t},!1),de=(0,s.Lq)({[a.copyEmployeeAction]:(e,t)=>t},""),ue=(0,s.Lq)({[a.getFullNameHistory]:(e,t)=>t},[]),pe=(0,s.Lq)({[a.getSchemePeriodHistory]:(e,t)=>t},[]),he=(0,s.Lq)({[a.setSchemePeriodLoading]:(e,t)=>t},!1),fe=(0,s.Lq)({[a.getPositionPeriodHistory]:(e,t)=>t},[]),me=(0,s.Lq)({[a.getGroupHistory]:(e,t)=>t},[]),ve=(0,s.Lq)({[a.getZoneHistory]:(e,t)=>t},[]),ye=(0,s.Lq)({[a.getOfficeHistory]:(e,t)=>t},[]),ge=(0,s.Lq)({[a.setLastAddedHistoryItemId]:(e,t)=>t},""),be=e=>e.employee.mapIds,je=(e,t)=>e.employee.mapIds[t],xe=e=>e.employee.operator;const Se=(0,i.combineReducers)({vacationReducer:Q,employee:ee,hasScroll:re,queues:K,scheme:te,showFiredEmployeesEnabled:ne,employeeTableDisplaySettings:ae,employeeFullNameHistory:ue,employeeSchemeNameHistory:pe,employeePositionPeriodHistory:fe,employeeGroupHistory:me,employeeZoneHistory:ve,employeeOfficeHistory:ye,employeeMultipleEdit:U,free:J,mapIds:se,filters:oe,operator:le,lastAddedHistoryItemId:ge,employeeSchemeNameHistoryLoading:he,copiedEmployeeId:de,isUserContextMenuOpen:ie,isLoadingEmployee:$,isLoading:ce})},95326:(e,t,r)=>{"use strict";r.d(t,{$q:()=>g,Cs:()=>N,D1:()=>j,Ej:()=>k,GJ:()=>R,Ig:()=>T,Jb:()=>m,Jf:()=>v,PF:()=>b,Vc:()=>y,Xd:()=>f,Zj:()=>p,b3:()=>x,cB:()=>O,ph:()=>h,sY:()=>S});var i=r(20573),s=r(31857),n=r(15197),a=r(60119),o=r(50362),l=r(22350);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=e=>e.employee.filters,h=e=>e.employee.employeeSchemeNameHistoryLoading,f=e=>e.employee.hasScroll,m=e=>e.employee.employee,v=e=>e.employee.operator,y=e=>e.employee.isLoading,g=e=>e.employee.isLoadingEmployee,b=e=>e.employee.copiedEmployeeId,j=e=>e.employee.isUserContextMenuOpen,x=e=>e.employee.showFiredEmployeesEnabled,S=e=>e.employee.employeeTableDisplaySettings,O=e=>e.employee.vacationReducer,P=(0,i.createSelector)(m,(e=>e.sort(o.kV))),w=(0,i.createSelector)(m,(e=>(0,l.xn)(e))),C=(0,i.createSelector)(P,x,((e,t)=>e.filter((e=>!!t||!(0,a.oO)(e))))),k=(0,i.createSelector)(C,p,s.bJ,((e,t,r)=>{var i=null==e?void 0:e.map((e=>{var t,i=null===(t=e.preferenceContainers)||void 0===t?void 0:t.map((e=>r[e]));return d(d({},e),{},{preferenceContainers:i})}));return(0,n.Rb)(i,t)})),T=(0,i.createSelector)(w,(e=>Object.values(e).map((e=>{var t,r,i;return{name:(0,a.Pp)(null==e?void 0:e.namePeriod),id:null==e?void 0:e.id,skills:null==e?void 0:e.skills,office:null==e||null===(t=e.officePeriod)||void 0===t?void 0:t.officeId,position:null==e||null===(r=e.positionPeriod)||void 0===r?void 0:r.positionId,group:null==e||null===(i=e.groupPeriod)||void 0===i?void 0:i.groupId,firingDate:null==e?void 0:e.firingDate}})))),N=(0,i.createSelector)(C,(e=>e.map((e=>{var t,r,i;return{name:(0,a.Pp)(e.namePeriod),id:e.id,skills:e.skills,office:null===(t=e.officePeriod)||void 0===t?void 0:t.officeId,position:null===(r=e.positionPeriod)||void 0===r?void 0:r.positionId,group:null===(i=e.groupPeriod)||void 0===i?void 0:i.groupId}})))),R=(0,i.createSelector)(C,(e=>e.map((e=>{var t,r,i;return{name:(0,a.Pp)(e.namePeriod),id:e.id,skills:e.skills,schemes:e.schemePeriods,office:null===(t=e.officePeriod)||void 0===t?void 0:t.officeId,position:null===(r=e.positionPeriod)||void 0===r?void 0:r.positionId,group:null===(i=e.groupPeriod)||void 0===i?void 0:i.groupId}}))))},41818:(e,t,r)=>{"use strict";r.d(t,{Jh:()=>S,j:()=>g,aZ:()=>j,P4:()=>P,Jq:()=>k,GW:()=>N,Hg:()=>C,G7:()=>w,Mc:()=>T,gu:()=>x,Hn:()=>b});var i=r(30381),s=r.n(i),n=r(85208),a=r(92708),o=r(20573),l=r(35667),c=r(65227);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return s()(e.startDate,c._E)}function f(e){return s()(e.endDate,c._E)}function m(e){return h(e)>=f(e)}function v(e,t){return function(e){if((0,l.xb)(e)||(0,l.xb)(e.startDate)||(0,l.xb)(e.endDate))return!1;var t=Object.keys(e).length>3,r=s()(e.startDate,c._E)>=s()(e.endDate,c._E);return t&&!r}(t)?e.map((e=>{var r={};return function(e,t){var r=h(e),i=f(e),s=h(t),n=f(t);return r>=s&&i<=n}(e,t)?r.willBeRemoved=!0:(function(e,t){return!m(t)&&f(t).isBetween(h(e),f(e))}(e,t)&&(r.nextStart=t.endDate),function(e,t){return!m(t)&&h(t).isBetween(h(e),f(e))}(e,t)&&(r.nextEnd=t.startDate)),u(u({},e),{},{meta:r})})):e}var y=r(12718),g=e=>e.employee.operator.id,b=e=>e.scheduleSchema.scheduleSchemas,j=e=>e.employee.operator.namePeriod,x=e=>e.employee.lastAddedHistoryItemId,S=e=>e.employee.queues,O=(e,t)=>s()(e.startDate,c._E).unix()-s()(t.startDate,c._E).unix(),P=(0,o.createSelector)((e=>e.employee.employeeFullNameHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e))),w=(0,o.createSelector)((e=>e.employee.employeeSchemeNameHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e))),C=(0,o.createSelector)((e=>e.employee.employeePositionPeriodHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e))),k=(0,o.createSelector)((e=>e.employee.employeeGroupHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e))),T=(0,o.createSelector)((e=>e.employee.employeeZoneHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e))),N=(0,o.createSelector)((e=>e.employee.employeeOfficeHistory),(0,n.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),(0,a.Z)(y.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM),((e,t,r)=>(e.sort(O),r?v(e,t):e)));(0,o.createSelector)(S,(e=>e.filter((e=>e.skill))))},61604:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addAbsPeriod:()=>U,addOnetimeAbs:()=>Q,applyAbs:()=>le,buildAbsenceForecast:()=>ue,changeAbsPeriod:()=>z,changeOnetimeAbs:()=>K,clearCurrentItem:()=>L,clearFteData:()=>F,clearSelectedIds:()=>te,deleteAbsPeriod:()=>V,deleteAbsenceForecast:()=>me,deleteOnetimeAbs:()=>X,downloadAbsenceForecastExcel:()=>ve,downloadForecastExcel:()=>ke,editForecast:()=>ae,fetchAbsProfileList:()=>Te,fetchAbsenceForecast:()=>he,fetchAllShortAbsenceForecast:()=>fe,fetchForecasts:()=>ne,fetchSkillHierarchy:()=>we,fetchSkills:()=>ce,forecastImported:()=>k,generateForecast:()=>oe,generateUntypicalForecast:()=>Ce,getQueues:()=>de,historyImported:()=>T,importAbs:()=>Se,importForecast:()=>xe,importHistory:()=>Oe,importHistoryBacklog:()=>Pe,loadForecasts:()=>b,loadForecastsRanges:()=>j,loadQueue:()=>S,loadSkills:()=>x,resetAbsPeriod:()=>Y,resetAbsenteeismForecastSettings:()=>G,resetOnetimeAbs:()=>J,resizeLayout:()=>D,saveForecast:()=>be,selectedAggregationAfterRefresh:()=>_,setAbsProfilesList:()=>q,setAbsenteeismForecastSettings:()=>B,setAllAbsence:()=>O,setCurrentItem:()=>A,setForecastChanged:()=>E,setForecastData:()=>je,setForecastDataAction:()=>C,setIsSuccessfulAggregation:()=>re,setLoading:()=>M,setLoadingSkillHierarchy:()=>Z,setReceivedAbsenceForecast:()=>W,setSelectedAggregation:()=>H,setSelectedExpandedTables:()=>R,setSelectedIds:()=>ee,setSelectedPeriod:()=>$,setSelectedTableName:()=>N,setSkillHierarchy:()=>I,updateAbsenceForecast:()=>pe,updateForecasts:()=>P,updateFte:()=>w});var i=r(44012),s=r(81978),n=r(41524),a=r(35667),o=r(65227),l=r(88599),c=r(82028),d=r(69301),u=r(1216),p=r(91833),h=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){y(n,i,s,a,o,"next",e)}function o(e){y(n,i,s,a,o,"throw",e)}a(void 0)}))}}var b=(0,s.PH)("loadForecasts"),j=(0,s.PH)("loadForecasts"),x=(0,s.PH)("loadSkills"),S=(0,s.PH)("loadQueue"),O=(0,s.PH)("setAllAbsence"),P=(0,s.PH)("updateForecasts"),w=(0,s.PH)("updateFte"),C=(0,s.PH)("setForecastDataAction"),k=(0,s.PH)("forecastImported"),T=(0,s.PH)("historyImported"),N=(0,s.PH)("setSelectedTableName"),R=(0,s.PH)("setSelectedExpandedTables"),E=(0,s.PH)("setForecastChanged"),D=(0,s.PH)("resizeLayout"),A=(0,s.PH)("setCurrentItem"),M=(0,s.PH)("setLoading"),I=(0,s.PH)("setSkillHierarchy"),Z=(0,s.PH)("setLoadingSkillHierarchy"),q=(0,s.PH)("setAbsProfilesList"),F=(0,s.PH)("clearFteData"),L=(0,s.PH)("clearCurrentItem"),H=(0,s.PH)("setSelectedAggregation"),_=(0,s.PH)("selectedAggregationAfterRefresh"),B=(0,s.PH)("setAbsenteeismForecastSettings"),G=(0,s.PH)("resetAbsenteeismForecastSettings"),W=(0,s.PH)("setReceivedAbsenceForecast"),U=(0,s.PH)("addAbsPeriod"),V=(0,s.PH)("deleteAbsPeriod"),z=(0,s.PH)("changeAbsPeriod"),Y=(0,s.PH)("resetAbsPeriod"),Q=(0,s.PH)("addOnetimeAbs"),K=(0,s.PH)("changeOnetimeAbs"),X=(0,s.PH)("changeOnetimeAbs"),J=(0,s.PH)("resetOnetimeAbs"),$=(0,s.PH)("setSelectedPeriod"),ee=(0,s.PH)("setSelectedIds"),te=(0,s.PH)("clearSelectedIds"),re=(0,s.PH)("setIsSuccessfulAggregation"),ie=(0,h.jsx)(i.Z,{id:"ForecastComputing.couldNotCalculateForecast"}),se=(0,h.jsx)(i.Z,{id:"ForecastComputing.couldNotImportHistory"}),ne=function(e){var{type:t="queue",id:r,from:i,to:s,aggregation:n}=e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2?arguments[2]:void 0;return function(){var e=g((function*(e){try{e(M(!0));var h=(0,o.iX)(s,o._E,!1),f=(0,o.b7)(i),{response:v,success:y}=yield function(e){var{type:t,id:r,from:i,to:s,aggregation:n}=e;switch(t){case u.UR:return(0,c.t9)("forecasting/read-by-skill",{skillId:r,from:i,to:s,aggregation:n});case u.Sp:return(0,c.t9)("forecasting/read-by-multi-skill",{ids:r,from:i,to:s,aggregation:n});case u.c8:return(0,c.t9)("forecasting/read-by-queue",{queueId:r,from:i,to:s,aggregation:n});case u.Bn:return(0,c.t9)("forecasting/read-by-multi-queue",{ids:r,from:i,to:s,aggregation:n});case u.jv:return(0,c.t9)("forecasting/read-by-line",{lineId:r,from:i,to:s,aggregation:n});case u.ez:return(0,c.t9)("forecasting/read-by-multi-line",{ids:r,from:i,to:s,aggregation:n});default:throw Error("Unknown type '".concat(t,"'"))}}({type:t,id:r,from:f,to:h,aggregation:n});y&&(e(b(m(m({},v),{},{aggregation:n}))),e((0,p.sendSelectedEntities)(a)),e((0,p.setType)(t)),e(re(!0)),e(E(!1)),"function"==typeof d&&d())}catch(e){console.error("fetchForecasts error: ",e),(0,l.x)(e)}finally{e(M(!1))}}));return function(t){return e.apply(this,arguments)}}()};function ae(e){var{tableName:t,number:r,value:i,notificationMessages:s,onSuccess:n}=e,a="forecasting/edit-".concat(t),o=[{number:r,value:i}];return function(){var e=g((function*(e){try{var{response:t}=yield(0,c.t9)(a,o);e(P(t?t.correspondValues[0]:{})),e(E(!0)),n&&n()}catch(e){console.error(e),(0,l.x)(e,s.couldNotUpdateForecast)}}));return function(t){return e.apply(this,arguments)}}()}function oe(e,t){var{from:r,to:s,historyFrom:a,historyTo:o,objects:d,abs:u,absenceProfileId:p}=e;return function(){var e=g((function*(e){try{e(M(!0));var{response:f,success:v}=yield(0,c.t9)("forecasting/generate",{from:r,to:s,historyFrom:a,historyTo:o,objects:d,abs:u,absenceProfileId:p});v?(e(j(f?m(m({},f),{},{forecastLoading:!1}):{forecastLoading:!1})),"function"==typeof t&&t(),n.T.success((0,h.jsx)(i.Z,{id:"ForecastComputing.forecastCalculated"}))):(0,l.x)(null,ie)}catch(e){(0,l.x)(e,ie),console.error(e)}finally{e(M(!1))}}));return function(t){return e.apply(this,arguments)}}()}function le(e,t){var{from:r,to:i,historyFrom:s,historyTo:a,objects:o,abs:d,absenceProfileId:u}=e;return g((function*(){try{var{success:e}=yield(0,c.t9)("forecasting/absence/accept",{from:r,to:i,historyFrom:s,historyTo:a,objects:o,abs:d,absenceProfileId:u});e?("function"==typeof t&&t(),n.T.success()):(n.T.error(),(0,l.x)())}catch(e){(0,l.x)(),console.error(e)}}))}function ce(e){if((0,a.xb)(e))throw Error("id is required in fetchSkills");return function(){var t=g((function*(t){try{var r=yield(0,c.ZP)("POST","skill/naming/read-by-group",{id:e}),i=yield r.json();t(x(i.response))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function de(e){return function(){var t=g((function*(t){try{var{response:r}=yield(0,c.t9)("queue/read-by-group",e);t(S(r))}catch(e){console.error("getQueues = ",e)}}));return function(e){return t.apply(this,arguments)}}()}var ue=(e,t)=>g((function*(){try{var{success:r}=yield(0,c.t9)("forecasting/absence/create",e);r&&(n.T.success(),"function"==typeof t&&t())}catch(e){console.error("buildAbsenceForecast = ",e),(0,l.x)(e)}})),pe=(e,t)=>g((function*(){try{var{success:r}=yield(0,c.t9)("forecasting/absence/update",e);r&&(n.T.success(),"function"==typeof t&&t())}catch(e){console.error("updateAbsenceForecast = ",e),(0,l.x)(e)}})),he=e=>function(){var t=g((function*(t){try{var{success:r,response:i}=yield(0,c.t9)("forecasting/absence/read",e);r&&t(W(i))}catch(e){console.error("fetchAbsenceForecast = ",e),(0,l.x)(e)}}));return function(e){return t.apply(this,arguments)}}(),fe=e=>function(){var t=g((function*(t){try{var{success:r,response:i}=yield(0,c.t9)("forecasting/absence/read-all-short",e);r&&t(O(i))}catch(e){console.error("fetchAllShortAbsenceForecast = ",e)}}));return function(e){return t.apply(this,arguments)}}(),me=(e,t)=>g((function*(){try{var{success:r}=yield(0,c.t9)("forecasting/absence/delete",e);r&&(n.T.success(),"function"==typeof t&&t())}catch(e){console.error("deleteAbsenceForecast = ",e),(0,l.x)(e)}})),ve=e=>g((function*(){try{var t=yield(0,c.ZP)("POST","forecasting/absence/excel",e),r=yield t.blob();(0,d.s)(r,"absence_forecast.xlsx")}catch(e){console.error("downloadAbsenceForecastExcel = ",e)}})),ye=(0,h.jsx)(i.Z,{id:"Forecast.couldNotSaveForecast",defaultMessage:[{type:0,value:"Не удалось сохранить прогноз."}]}),ge=(0,h.jsx)(i.Z,{id:"Forecast.forecastSaved",defaultMessage:[{type:0,value:"Прогноз сохранен."}]});function be(e){var{successCb:t=null}=e;return function(){var e=g((function*(e){try{yield(0,c.t9)("forecasting/save"),n.T.success(ge),t&&t(),e(E(!1))}catch(e){console.error(e),(0,l.x)(e,ye)}}));return function(t){return e.apply(this,arguments)}}()}function je(e){return t=>{e.queueChanged?ne(e.queue,e.dateFrom,e.dateTo,e.aggregation)(t,e):t(C(e))}}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"15min";return r=>{var s;switch(t){case"hour":s="import/forecast-hours";break;case"day":s="import/forecast-days";break;default:s="import/forecast"}(0,c.t9)(s,e).then((e=>{r(k(e.response)),n.T.success((0,h.jsx)(i.Z,{id:"ForecastComputing.forecastImported"}))})).catch((e=>{console.error(e),(0,l.x)(e)}))}}var Se=(e,t,r)=>g((function*(){var i;switch(t){case"hours":i="import/abs-hours";break;case"days":i="import/abs-days"}try{var{success:s}=yield(0,c.t9)(i,e);s&&n.T.success()}catch(e){console.error("importAbs = ",e),(0,l.x)(e)}finally{r&&r()}}));function Oe(e,t){return function(){var r=g((function*(r){try{var{response:s}=yield(0,c.t9)("import/calls-history",e);r(T(s)),n.T.success((0,h.jsx)(i.Z,{id:"ForecastComputing.historyImported",defaultMessage:[{type:0,value:"История импортирована."}]}))}catch(e){console.error(e),(0,l.x)(e,se)}finally{t&&t()}}));return function(e){return r.apply(this,arguments)}}()}function Pe(e,t){return function(){var r=g((function*(r){try{var{response:s}=yield(0,c.t9)("import/backlog-history",e);r(T(s)),n.T.success((0,h.jsx)(i.Z,{id:"ForecastComputing.historyImported",defaultMessage:[{type:0,value:"История импортирована."}]}))}catch(e){console.error(e),(0,l.x)(e,se)}finally{t&&t()}}));return function(e){return r.apply(this,arguments)}}()}function we(){return function(){var e=g((function*(e){e(Z(!0));try{var{response:t}=yield(0,c.t9)("skill/naming/read-hierarchy");e(I(t)),e(Z(!1))}catch(t){console.error(t),(0,l.x)(t),e(Z(!1))}}));return function(t){return e.apply(this,arguments)}}()}function Ce(e,t){return g((function*(){try{yield(0,c.t9)("forecasting/generate/untypical",e),"function"==typeof t&&t(),n.T.success()}catch(e){console.error(e),(0,l.x)(e)}}))}var ke=e=>{var{type:t,id:r,from:i,to:s,aggregation:n}=e;return g((function*(){try{var e=(0,o.iX)(s,o._E,!1),a=(0,o.b7)(i),l=yield function(e){var{type:t,id:r,from:i,to:s,aggregation:n}=e;switch(t){case u.UR:return(0,c.ZP)("POST","forecasting/read-by-skill/excel",{skillId:r,from:i,to:s,aggregation:n});case u.c8:return(0,c.ZP)("POST","forecasting/read-by-queue/excel",{queueId:r,from:i,to:s,aggregation:n});case u.jv:return(0,c.ZP)("POST","forecasting/read-by-line/excel",{lineId:r,from:i,to:s,aggregation:n});case u.Sp:return(0,c.ZP)("POST","forecasting/read-by-multi-skill/excel",{ids:r,from:i,to:s,aggregation:n});case u.Bn:return(0,c.ZP)("POST","forecasting/read-by-multi-queue/excel",{ids:r,from:i,to:s,aggregation:n});case u.ez:return(0,c.ZP)("POST","forecasting/read-by-multi-line/excel",{ids:r,from:i,to:s,aggregation:n});default:throw Error("Unknown type '".concat(t,"'"))}}({type:t,id:r,from:a,to:e,aggregation:n}),p=yield l.blob();(0,d.s)(p,"forecasting.xlsx")}catch(e){console.error("downloadForecastExcel = ",e)}}))};function Te(){return function(){var e=g((function*(e){try{var{response:t}=yield(0,c.t9)("forecasting/absence/read-all-short");e(q(t))}catch(e){console.error(e),(0,l.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}},52614:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addForecastPeriodByTypeAndSkill:()=>$,addPeriodByType:()=>ce,addPeriodForecast:()=>O,addPeriodOperational:()=>xe,addPeriodOperationalForecast:()=>q,addPeriodTactical:()=>ue,addPeriodTacticalForecast:()=>A,checkForUnsaved:()=>te,clearForecastCash:()=>ie,clearForecastCashByType:()=>se,computeStrategicForecast:()=>ne,deleteByIdForecastPeriod:()=>x,deleteForecastOperational:()=>_,deleteForecastPeriodByType:()=>J,deleteForecastTactical:()=>E,deletePeriodByType:()=>me,deletePeriodForecast:()=>k,deletePeriodOperational:()=>je,deletePeriodOperationalForecast:()=>H,deletePeriodTactical:()=>ve,deletePeriodTacticalForecast:()=>D,editCallsByType:()=>de,editCallsOperationalByType:()=>Oe,editCallsTacticalByType:()=>pe,editSeasonByType:()=>ae,editSeasonOperationalByType:()=>Pe,editSeasonTacticalByType:()=>he,editTotalCallsByType:()=>oe,editTotalOperationalCallsByType:()=>Se,fetchForecastsByType:()=>Q,getForecastsOperational:()=>be,getForecastsStrategic:()=>ye,getForecastsTactical:()=>ge,getForecastsTrend:()=>le,replacePeriodOperationalByType:()=>we,saveForecast:()=>re,savePeriodsForecastOperational:()=>C,savePeriodsForecastStrategic:()=>P,savePeriodsForecastTactical:()=>w,sendEditCallsByType:()=>K,sendEditSeasonByType:()=>X,setCountColumnsTableStrategic:()=>T,setDayMainSelectorOperationalPeriod:()=>L,setEditOperationalPeriod:()=>F,setEditTacticalPeriod:()=>M,setForecastOperational:()=>Z,setForecastStrategic:()=>g,setForecastTactical:()=>R,setForecastsChangingStatus:()=>B,setForecastsOperational:()=>I,setForecastsScaleTable:()=>b,setForecastsStrategic:()=>y,setForecastsTactical:()=>N,setForecastsTrend:()=>S,setResultEditPeriod:()=>j,setSelectedQueue:()=>v,setSelectedSkill:()=>m,withColor:()=>fe});var i=r(81978),s=r(44012),n=r(41524),a=r(34018),o=r(82028),l=r(62220),c=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){h(n,i,s,a,o,"next",e)}function o(e){h(n,i,s,a,o,"throw",e)}a(void 0)}))}}var m=(0,i.PH)("setSelectedSkill"),v=(0,i.PH)("setSelectedQueue"),y=(0,i.PH)("setForecastsStrategic"),g=(0,i.PH)("setForecastStrategic"),b=(0,i.PH)("setForecastsScaleTable"),j=(0,i.PH)("setResultEditPeriod"),x=(0,i.PH)("deleteByIdForecastPeriod"),S=(0,i.PH)("setForecastsTrend"),O=(0,i.PH)("addPeriodForecast"),P=(0,i.PH)("savePeriodsForecastStrategic"),w=(0,i.PH)("savePeriodsForecastTactical"),C=(0,i.PH)("savePeriodsForecastOperational"),k=(0,i.PH)("deletePeriodForecast"),T=(0,i.PH)("setCountColumnsTableStrategic"),N=(0,i.PH)("setForecastsTactical"),R=(0,i.PH)("setForecastTactical"),E=(0,i.PH)("deleteForecastTactical"),D=(0,i.PH)("deletePeriodTacticalForecast"),A=(0,i.PH)("addPeriodTacticalForecast"),M=(0,i.PH)("setEditTacticalPeriod"),I=(0,i.PH)("setForecastsOperational"),Z=(0,i.PH)("setForecastOperational"),q=(0,i.PH)("addPeriodOperationalForecast"),F=(0,i.PH)("setEditOperationalPeriod"),L=(0,i.PH)("setDayMainSelectorOperationalPeriod"),H=(0,i.PH)("deletePeriodOperationalForecast"),_=(0,i.PH)("deleteForecastOperational"),B=(0,i.PH)("setForecastsChangingStatus"),G=(0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.SaveError",defaultMessage:[{type:0,value:"Не удалось сохранить прогноз."}]}),W=(0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.EditCalls",defaultMessage:[{type:0,value:"Не удалось отредактировать прогноз."}]}),U=(0,c.jsx)(s.Z,{id:"Notifications.cannotReadTrend",defaultMessage:[{type:0,value:"Не удалось получить тренд"}]}),V=(0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.Fail.AddPeriod",defaultMessage:[{type:0,value:"Не удалось добавить период"}]}),z=(0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.EditCalls",defaultMessage:[{type:0,value:"Не удалось удалить период."}]}),Y=(0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.ForecastError",defaultMessage:[{type:0,value:"Не удалось прочитать прогноз."}]});function Q(e){return(0,o.t9)("forecasting/read-by-type-and-queue",e)}function K(e){return(0,o.t9)("forecasting/edit-calls-by-type",e)}function X(e){return(0,o.t9)("forecasting/edit-season-by-type",e)}function J(e){return(0,o.t9)("forecasting/remove-period-by-type",e)}function $(e){return(0,o.t9)("forecasting/add-period-by-type-and-queue",e)}function ee(e){return(0,o.t9)("forecasting/edit-calls-sum-by-type",e)}function te(e){return function(){var t=f((function*(t){try{var{response:{isUserHasUnsavedChanges:r}}=yield function(e){var{forecastType:t}=e;return(0,o.t9)("forecasting/check-for-unsaved-changes",{forecastType:t})}({forecastType:e});t(B(!!r))}catch(e){console.error("checkForUnsaved error: ",e)}}));return function(e){return t.apply(this,arguments)}}()}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var r=f((function*(r){try{var{success:i}=yield function(e){var{forecastType:t}=e;return(0,o.t9)("forecasting/save-by-type",{forecastType:t})}({forecastType:e});i&&(r(B(!1)),t&&t(),n.T.success((0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.SaveSuccess",defaultMessage:[{type:0,value:"Данные прогноза успешно сохранены."}]})))}catch(e){console.error("saveForecast error: ",e),n.T.error(G)}}));return function(e){return r.apply(this,arguments)}}()}function ie(){return function(){var e=f((function*(e){try{yield(0,o.t9)("forecasting/clear"),e(B(!1))}catch(e){console.error("clearForecastCash error: ",e)}}));return function(t){return e.apply(this,arguments)}}()}function se(e){return function(){var t=f((function*(t){try{yield function(e){return(0,o.t9)("forecasting/clear-by-type",e)}(e),t(B(!1))}catch(e){console.error("clearForecastCashByType error: ",e)}}));return function(e){return t.apply(this,arguments)}}()}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var r=f((function*(r){try{var{response:i}=yield function(e){return(0,o.t9)("forecasting/compute-strategical",e)}(e),s=(0,l.cZ)(i);r(j(s)),r(B(!0)),t&&t()}catch(e){console.error("computeStrategicForecast error: ",e),n.T.error(W)}}));return function(e){return r.apply(this,arguments)}}()}function ae(e){return function(){var t=f((function*(t){try{var{response:r}=yield X(e),i=(0,l.cZ)(r);t(j(i)),t(B(!0))}catch(e){console.error("editSeasonByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function oe(e){return function(){var t=f((function*(t){try{var{response:r}=yield ee(e),i=(0,l.cZ)(r);t(M(i)),t(B(!0))}catch(e){console.error("editTotalCallsByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function le(){return function(){var e=f((function*(e){try{var{response:t}=yield(0,o.t9)("forecasting/read-trend");e(S(t))}catch(e){console.error("getForecastsTrend: ",e),n.T.error(U)}}));return function(t){return e.apply(this,arguments)}}()}function ce(e,t){return function(){var r=f((function*(r){try{var{response:i}=yield $(e),s=(0,l.cZ)(i);r(g(s)),r(O({from:e.from,to:e.to,aggregationId:s.aggregationId})),t&&t(),r(le())}catch(e){console.error("addPeriodByType error: ",e),n.T.error(V)}}));return function(e){return r.apply(this,arguments)}}()}function de(e){return function(){var t=f((function*(t){try{var{response:r}=yield K(e),i=(0,l.cZ)(r);t(j(i)),t(B(!0))}catch(e){console.error("editCallsByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function ue(e,t){return function(){var r=f((function*(r){try{var{response:i}=yield $(e),s=(0,l.cZ)(i);r(R(s)),r(A({from:e.from,to:e.to,aggregationId:s.aggregationId})),t&&t()}catch(e){console.error("addPeriodByType error: ",e),n.T.error(V)}}));return function(e){return r.apply(this,arguments)}}()}function pe(e){return function(){var t=f((function*(t){try{var{response:r}=yield K(e),i=(0,l.cZ)(r);t(M(i)),t(B(!0))}catch(e){console.error("editCallsTacticalByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function he(e){return function(){var t=f((function*(t){try{var{response:r}=yield X(e),i=(0,l.cZ)(r);t(M(i)),t(B(!0))}catch(e){console.error("editSeasonTacticalByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function fe(e){return e.map(((e,t)=>u(u({},e),{},{color:(0,a.Lq)(t)})))}function me(e){return function(){var t=f((function*(t){try{yield J(e),t(x(e)),t(k(e)),t(le()),t(te(l.kV.STRATEGICAL)),n.T.success((0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.DeleteByPeriod",defaultMessage:[{type:0,value:"Период удален успешно"}]}))}catch(e){console.error("deletePeriodByType error: ",e),n.T.error(z)}}));return function(e){return t.apply(this,arguments)}}()}function ve(e){return function(){var t=f((function*(t){try{yield J(e),t(E(e)),t(D(e)),t(te(l.kV.TACTICAL)),n.T.success((0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.DeleteByPeriod",defaultMessage:[{type:0,value:"Период удален успешно"}]}))}catch(e){console.error("deletePeriodTactical error: ",e),n.T.error(z)}}));return function(e){return t.apply(this,arguments)}}()}function ye(e){return function(){var t=f((function*(t){try{var{response:r}=yield Q(e);t(y((0,l.zf)(r))),t(le()),t(B(!1)),t(P((0,l.VR)(r)))}catch(e){console.error("getForecastsStrategic error: ",e),n.T.error(Y)}}));return function(e){return t.apply(this,arguments)}}()}function ge(e){return function(){var t=f((function*(t){try{var{response:r}=yield Q(e);t(N((0,l.zf)(fe(r)))),t(B(!1)),t(w((0,l.Vz)(r)))}catch(e){console.error("getForecastsTactical error: ",e),n.T.error(Y)}}));return function(e){return t.apply(this,arguments)}}()}function be(e){return function(){var t=f((function*(t){try{var{response:r}=yield Q(e);t(I((0,l.zf)(fe(r)))),t(C((0,l.Al)(r))),t(B(!1))}catch(e){console.error("getForecastsOperational error: ",e),n.T.error(Y)}}));return function(e){return t.apply(this,arguments)}}()}function je(e){return function(){var t=f((function*(t){try{yield J(e),t(_(e)),t(H(e)),t(te(l.kV.OPERATIONAL)),n.T.success((0,c.jsx)(s.Z,{id:"ForecastGenerate.Notification.DeleteByPeriod",defaultMessage:[{type:0,value:"Период удален успешно"}]}))}catch(e){console.error("deletePeriodOperational error: ",e),n.T.error(z)}}));return function(e){return t.apply(this,arguments)}}()}function xe(e,t){return function(){var r=f((function*(r){try{var{response:i}=yield $(e),s=(0,l.cZ)(i);r(Z(s)),r(q({day:e.from,aggregationId:s.aggregationId})),t&&t()}catch(e){console.error("addPeriodOperational error: ",e),n.T.error(V)}}));return function(e){return r.apply(this,arguments)}}()}function Se(e){return function(){var t=f((function*(t){try{var{response:r}=yield ee(e),i=(0,l.cZ)(r);t(F(i)),t(B(!0))}catch(e){console.error("editTotalOperationalCallsByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function Oe(e){return function(){var t=f((function*(t){try{var{response:r}=yield K(e),i=(0,l.cZ)(r);t(F(i)),t(B(!0))}catch(e){console.error("editCallsOperationalByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function Pe(e){return function(){var t=f((function*(t){try{var{response:r}=yield X(e),i=(0,l.cZ)(r);t(F(i)),t(B(!0))}catch(e){console.error("editSeasonOperationalByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}function we(e){return function(){var t=f((function*(t){try{var{response:r}=yield function(e){return(0,o.t9)("forecasting/replace-period-by-type",e)}(e),i=(0,l.cZ)(r);t(F(i)),t(te(l.kV.OPERATIONAL))}catch(e){console.error("replacePeriodOperationalByType error: ",e),n.T.error(W)}}));return function(e){return t.apply(this,arguments)}}()}},91833:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addRemoveLine:()=>l,addRemoveQueue:()=>a,addRemoveSkill:()=>s,clearLineIds:()=>c,clearQueueIds:()=>o,clearSelectedNames:()=>u,clearSkillIds:()=>n,sendSelectedEntities:()=>p,setSelectedNames:()=>d,setType:()=>h});var i=r(81978),s=(0,i.PH)("addRemoveSkill"),n=(0,i.PH)("clearSkillIds"),a=(0,i.PH)("addRemoveQueue"),o=(0,i.PH)("clearQueueIds"),l=(0,i.PH)("addRemoveLine"),c=(0,i.PH)("clearLineIds"),d=(0,i.PH)("setSelectedNames"),u=(0,i.PH)("clearSelectedNames"),p=(0,i.PH)("sendSelectedEntities"),h=(0,i.PH)("setType")},82605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addOperation:()=>d,createOperation:()=>b,deleteOperation:()=>x,fetchOperation:()=>S,fetchSetQueuesBySkills:()=>O,loadOperation:()=>u,removeOperation:()=>h,removeOperationDTO:()=>g,setCheckedCalendarDays:()=>m,setCheckedWeekDays:()=>f,setListQueues:()=>y,setOperationType:()=>v,updateOperation:()=>j,updateOperationAction:()=>p});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(82982);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("addOperation"),u=(0,i.PH)("loadOperation"),p=(0,i.PH)("updateOperationAction"),h=(0,i.PH)("removeOperation"),f=(0,i.PH)("setCheckedWeekDays"),m=(0,i.PH)("setCheckedCalendarDays"),v=(0,i.PH)("setOperationType"),y=(0,i.PH)("setListQueues"),g=(0,i.PH)("removeOperationDTO");function b(e,t){return function(){var r=c((function*(r){try{var{response:i,success:o}=yield(0,a.t9)("operation/create",e);o&&(r(d(i)),s.T.success(),t&&t())}catch(e){console.error("createOperation error: ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function j(e,t){return function(){var r=c((function*(r){try{var{response:i,success:o}=yield(0,a.t9)("operation/update",e);o&&(r(p(i)),s.T.success(),t&&t())}catch(e){console.error("updateOperation error: ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function x(e,t){return c((function*(){try{var{success:r}=yield(0,a.t9)("operation/delete",{id:e});r&&t&&t(),s.T.success()}catch(e){console.error("deleteOperation error: ",e),(0,n.x)(e)}}))}function S(e,t){return function(){var r=c((function*(r){try{var{response:i,success:s}=yield(0,a.t9)("operation/read",{id:e});s&&(r(v(i.single?o.Z:o.k)),r(u(i)),t&&t())}catch(e){console.error("fetchOperation error: ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function O(e){return function(){var t=c((function*(t){try{var{response:r}=yield(0,a.t9)("skill/read",{id:e});t(y(r.queues))}catch(e){console.error("fetchSetQueuesBySkills error: ",e),(0,n.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},82982:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,k:()=>s});var i="single",s="periodic"},75249:(e,t,r)=>{"use strict";r.d(t,{A0:()=>d,CD:()=>l,Db:()=>v,G7:()=>g,NO:()=>a,UC:()=>y,Ue:()=>c,Xi:()=>n,ZZ:()=>p,jc:()=>b,kZ:()=>o,qI:()=>m,s1:()=>h,sk:()=>u,uA:()=>f});var i=r(44012),s=r(85893),n=140,a=(0,s.jsx)(i.Z,{id:"OperationForm.addOperation",defaultMessage:[{type:0,value:"Добавление операции"}]}),o=(0,s.jsx)(i.Z,{id:"OperationForm.editOperation",defaultMessage:[{type:0,value:"Редактирование операции"}]}),l=(0,s.jsx)(i.Z,{id:"OperationForm.singleOperation",defaultMessage:[{type:0,value:"Разовая"}]}),c=(0,s.jsx)(i.Z,{id:"OperationForm.periodicOperation",defaultMessage:[{type:0,value:"Периодичная"}]}),d=(0,s.jsx)(i.Z,{id:"OperationForm.periodic",defaultMessage:[{type:0,value:"Периодичность"}]}),u=(0,s.jsx)(i.Z,{id:"OperationForm.repeatability",defaultMessage:[{type:0,value:"Повторяемость"}]}),p=(0,s.jsx)(i.Z,{id:"OperationForm.week",defaultMessage:[{type:0,value:"неделю"}]}),h=(0,s.jsx)(i.Z,{id:"OperationForm.month",defaultMessage:[{type:0,value:"месяц"}]}),f=(0,s.jsx)(i.Z,{id:"OperationForm.every",defaultMessage:[{type:0,value:"Каждую"}]}),m=(0,s.jsx)(i.Z,{id:"OperationForm.everyForMonth",defaultMessage:[{type:0,value:"Каждый"}]}),v=(0,s.jsx)(i.Z,{id:"Calendar.displayGraphPeriod",defaultMessage:[{type:0,value:"Период"}]}),y={id:"Common.find",defaultMessage:"Поиск"},g=e=>({0:e({id:"Common.Monday",defaultMessage:[{type:0,value:"Понедельник"}]}),1:e({id:"Common.Tuesday",defaultMessage:[{type:0,value:"Вторник"}]}),2:e({id:"Common.Wednesday",defaultMessage:[{type:0,value:"Среда"}]}),3:e({id:"Common.Thursday",defaultMessage:[{type:0,value:"Четверг"}]}),4:e({id:"Common.Friday",defaultMessage:[{type:0,value:"Пятница"}]}),5:e({id:"Common.Saturday",defaultMessage:[{type:0,value:"Суббота"}]}),6:e({id:"Common.Sunday",defaultMessage:[{type:0,value:"Воскресенье"}]})}),b=()=>({0:"01",1:"02",2:"03",3:"04",4:"05",5:"06",6:"07",7:"08",8:"09",9:"10",10:"11",11:"12",12:"13",13:"14",14:"15",15:"16",16:"17",17:"18",18:"19",19:"20",20:"21",21:"22",22:"23",23:"24",24:"25",25:"26",26:"27",27:"28",28:"29",29:"30",30:"31"})},56237:(e,t,r)=>{"use strict";r.d(t,{CV:()=>s,Rx:()=>a,YQ:()=>i,Yg:()=>n,xz:()=>o});var i={id:"ForecastGenerate.forecast",defaultMessage:"Прогноз"},s={id:"ForecastGenerate.actual",defaultMessage:"Факт"},n={id:"Table.averageWaitingTime",defaultMessage:"Среднее время ожидания"},a={id:"Table.levelService",defaultMessage:"Уровень сервиса"},o={id:"Table.workload",defaultMessage:"Загруженность"}},55140:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var i=e=>[e({id:"CalendarViewSelect.monday",defaultMessage:[{type:0,value:"Пн."}]}),e({id:"CalendarViewSelect.tuesday",defaultMessage:[{type:0,value:"Вт."}]}),e({id:"CalendarViewSelect.wednesday",defaultMessage:[{type:0,value:"Ср."}]}),e({id:"CalendarViewSelect.thursday",defaultMessage:[{type:0,value:"Чт."}]}),e({id:"CalendarViewSelect.friday",defaultMessage:[{type:0,value:"Пт."}]}),e({id:"CalendarViewSelect.saturday",defaultMessage:[{type:0,value:"Сб."}]}),e({id:"CalendarViewSelect.sunday",defaultMessage:[{type:0,value:"Вс."}]})]},62220:(e,t,r)=>{"use strict";r.d(t,{TV:()=>y,kV:()=>v,Z9:()=>k,vo:()=>P,KZ:()=>j,fx:()=>O,vq:()=>x,$A:()=>S,pc:()=>g,so:()=>b,NY:()=>m,zf:()=>C,cZ:()=>w,Al:()=>R,VR:()=>T,Vz:()=>N,nJ:()=>u,hv:()=>d,nQ:()=>h,Nw:()=>p,ir:()=>f,$9:()=>E});var i=r(44012),s=r(65227),n=r(55140),a=r(85893);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(0,a.jsx)(i.Z,{id:"ForecastGenerate.callsForecast",defaultMessage:[{type:0,value:"Прогноз звонков"}]}),u=(0,a.jsx)(i.Z,{id:"ForecastGenerate.callsActual",defaultMessage:[{type:0,value:"Факт звонков"}]}),p=(0,a.jsx)(i.Z,{id:"ForecastGenerate.seasonForecast",defaultMessage:[{type:0,value:"Прогноз сезонность"}]}),h=(0,a.jsx)(i.Z,{id:"ForecastGenerate.seasonActual",defaultMessage:[{type:0,value:"Факт сезонность"}]}),f=(0,a.jsx)(i.Z,{id:"ForecastGenerate.trendForecast",defaultMessage:[{type:0,value:"Прогноз тренд"}]}),m={callsForecast:d,callsActual:u,seasonForecast:p,seasonActual:h,trendForecast:f},v={STRATEGICAL:"STRATEGICAL",TACTICAL:"TACTICAL",OPERATIONAL:"OPERATIONAL"},y={FIFTEEN_MINUTES:"FIFTEEN_MINUTES",THIRTY_MINUTES:"THIRTY_MINUTES",HOUR:"HOUR"},g=e=>e===v.STRATEGICAL,b=e=>e===v.TACTICAL,j=e=>e===v.OPERATIONAL,x=e=>e.includes("/forecast/analysis-trends/strategic"),S=e=>e.includes("/forecast/analysis-trends/tactical"),O=e=>e.includes("/forecast/analysis-trends/operational"),P=e=>70*e+158,w=e=>l(l({},e),{},{to:(0,s.I_)(e.to),from:(0,s.I_)(e.from)});function C(e){return e.map((e=>l(l({},e),{},{from:(0,s.I_)(e.from),to:(0,s.I_)(e.to)})))}var k=e=>x(e)?v.STRATEGICAL:S(e)?v.TACTICAL:v.OPERATIONAL;function T(e){return e.map((e=>({from:(0,s.I_)(e.from),to:(0,s.I_)(e.to),aggregationId:e.aggregationId})))}function N(e){return T(e)}function R(e){return e.map((e=>({day:(0,s.I_)(e.from),aggregationId:e.aggregationId})))}function E(e,t){var r=(0,n.G)(t);return e.map(((e,t)=>[r[t]]))}},32384:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>n,kr:()=>a,mo:()=>i,ps:()=>o,vc:()=>l,x4:()=>s});var i="FIFTEEN_MINUTES",s="DAY",n="THIRTY_MINUTES",a="HOUR",o="WEEK",l="MONTH"},1216:(e,t,r)=>{"use strict";r.d(t,{Bn:()=>a,Sp:()=>s,UR:()=>i,c8:()=>n,ez:()=>l,jv:()=>o});var i="skill",s="multiSkill",n="queue",a="multiQueue",o="line",l="multiLine"},35382:(e,t,r)=>{"use strict";r.d(t,{E8:()=>u,M$:()=>n,S8:()=>i,a:()=>p,iX:()=>s,mU:()=>o,mv:()=>c,tR:()=>l,ur:()=>d,w8:()=>a});var i=340,s="#09acf7",n="#ffb300",a="#50bf4c",o="#dc2911",l="#a2bae3",c="#16d0ab",d="#f3990b",u="#79ccf2",p="#b3bdc5"},75055:(e,t,r)=>{"use strict";r.d(t,{NA:()=>n,W2:()=>c,_T:()=>h,dP:()=>s,jR:()=>u,ko:()=>d,kp:()=>p,mB:()=>a,nO:()=>o,ot:()=>i,ss:()=>l,xv:()=>f});var i="stats",s="calls",n="lost",a="expectation",o="aht",l="fte",c="absenteeism",d="abs",u="queueCapacityActual",p="expiredActual",h="processedActual",f="calculatedFiguresEndPeriod"},21687:(e,t,r)=>{"use strict";r.d(t,{pr:()=>g,Gi:()=>m,VT:()=>h,Lc:()=>f,c:()=>p,mN:()=>y,rN:()=>v});var i=r(30381),s=r.n(i),n=(r(12336),r(65227)),a=r(22350),o=r(50049),l=(0,o.vU)({Jan:{id:"Common.jan",defaultMessage:[{type:0,value:"Янв"}]},Feb:{id:"Common.feb",defaultMessage:[{type:0,value:"Фев"}]},Mar:{id:"Common.mar",defaultMessage:[{type:0,value:"Мар"}]},Apr:{id:"Common.apr",defaultMessage:[{type:0,value:"Апр"}]},May:{id:"Common.may",defaultMessage:[{type:0,value:"Май"}]},Jun:{id:"Common.jun",defaultMessage:[{type:0,value:"Июн"}]},Jul:{id:"Common.jul",defaultMessage:[{type:0,value:"Июл"}]},Aug:{id:"Common.aug",defaultMessage:[{type:0,value:"Авг"}]},Sep:{id:"Common.sep",defaultMessage:[{type:0,value:"Сен"}]},Oct:{id:"Common.oct",defaultMessage:[{type:0,value:"Окт"}]},Nov:{id:"Common.nov",defaultMessage:[{type:0,value:"Ноя"}]},Dec:{id:"Common.dec",defaultMessage:[{type:0,value:"Дек"}]}}),c=(r(56237),r(75055)),d=r(32384),u=(0,o.vU)({Jan:{id:"Common.jan",defaultMessage:[{type:0,value:"Янв"}]},Feb:{id:"Common.feb",defaultMessage:[{type:0,value:"Фев"}]},Mar:{id:"Common.mar",defaultMessage:[{type:0,value:"Мар"}]},Apr:{id:"Common.apr",defaultMessage:[{type:0,value:"Апр"}]},May:{id:"Common.may",defaultMessage:[{type:0,value:"Май"}]},Jun:{id:"Common.jun",defaultMessage:[{type:0,value:"Июн"}]},Jul:{id:"Common.jul",defaultMessage:[{type:0,value:"Июл"}]},Aug:{id:"Common.aug",defaultMessage:[{type:0,value:"Авг"}]},Sep:{id:"Common.sep",defaultMessage:[{type:0,value:"Сен"}]},Oct:{id:"Common.oct",defaultMessage:[{type:0,value:"Окт"}]},Nov:{id:"Common.nov",defaultMessage:[{type:0,value:"Ноя"}]},Dec:{id:"Common.dec",defaultMessage:[{type:0,value:"Дек"}]},fifteenMinutes:{id:"Forecast.fifteenMinutes",defaultMessage:[{type:0,value:"15 минут"}]},thirtyMinutes:{id:"Forecast.thirtyMinutes",defaultMessage:[{type:0,value:"30 минут"}]},hour:{id:"Forecast.hour",defaultMessage:[{type:0,value:"Час"}]},day:{id:"Forecast.day",defaultMessage:[{type:0,value:"День"}]},week:{id:"Forecast.week",defaultMessage:[{type:0,value:"Неделя"}]},month:{id:"Forecast.month",defaultMessage:[{type:0,value:"Месяц"}]},indicators:{id:"Forecast.indicators",defaultMessage:[{type:0,value:"Показатели"}]},numberOfHits:{id:"Forecast.numberOfHits",defaultMessage:[{type:0,value:"Количество обращений"}]},needForStaff:{id:"Forecast.needForStaff",defaultMessage:[{type:0,value:"Потребность в сотрудниках"}]},averageProcessingTimeOfTask:{id:"Forecast.averageProcessingTimeOfTask",defaultMessage:[{type:0,value:"Среднее время обработки задачи/покупателя"}]},forecastSaved:{id:"Forecast.forecastSaved",defaultMessage:[{type:0,value:"Прогноз сохранен."}]},couldNotSaveForecast:{id:"Forecast.couldNotSaveForecast",defaultMessage:[{type:0,value:"Не удалось сохранить прогноз."}]},forecastImported:{id:"Forecast.forecastImported",defaultMessage:[{type:0,value:"Прогноз импортирован."}]},couldNotImportForecast:{id:"Forecast.couldNotImportForecast",defaultMessage:[{type:0,value:"Не удалось импортировать прогноз."}]},couldNotCalculateForecast:{id:"Forecast.couldNotCalculateForecast",defaultMessage:[{type:0,value:"Не удалось расчитать прогноз."}]},forecastUpdated:{id:"Forecast.forecastUpdated",defaultMessage:[{type:0,value:"Прогноз обновлен."}]},couldNotUpdateForecast:{id:"Forecast.couldNotUpdateForecast",defaultMessage:[{type:0,value:"Не удалось обновить прогноз."}]}}),p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,s=(0,n.Nu)(i),a=(0,n.ip)(s,t),o=i?". SLA - ".concat(a):"";switch(e){case c.ot:return t.formatMessage({id:"Forecast.Stats",defaultMessage:[{type:0,value:"Расчётные показатели (SL)"}]},{value:"".concat(o)});case c.NA:return t.formatMessage({id:"Forecast.lost",defaultMessage:[{type:0,value:"Процент потерянных"}]});case c.mB:return t.formatMessage({id:"Table.AverageWaitTime",defaultMessage:[{type:0,value:"Среднее время ожидания"}]});case c.xv:return t.formatMessage({id:"Forecast.calculatedFiguresEndPeriod",defaultMessage:[{type:0,value:"Расчётные показатели на конец периода"}]});case c.dP:return t.formatMessage({id:"Forecast.Calls",defaultMessage:[{type:0,value:"Количество"}]},{value:"".concat(r)});case c.nO:return t.formatMessage({id:"Forecast.CallProcessingTime",defaultMessage:[{type:0,value:"Среднее время обработки (AHT)"}]});case c.ss:return t.formatMessage({id:"Forecast.NeedForStaff",defaultMessage:[{type:0,value:"Потребность в сотрудниках (FTE)"}]});case c.jR:return t.formatMessage({id:"Forecast.queueCapacityActual",defaultMessage:[{type:0,value:"Размер очереди"}]});case c.kp:return t.formatMessage({id:"Forecast.expiredActual",defaultMessage:[{type:0,value:"Просрочено"}]});case c._T:return t.formatMessage({id:"Forecast.processedActual",defaultMessage:[{type:0,value:"Обработано"}]});case c.W2:return"".concat(t.formatMessage({id:"Forecast.abs",defaultMessage:[{type:0,value:"Абсентеизм"}]})," (%)");default:throw Error("Unknown table name '".concat(e,"'"))}},h=(e,t,r)=>t===d.ps||t===d.vc?(0,a.O$)(e,r,l):t===d.kr||t===d.mo||t===d.Ho?e.map((e=>{var t=s()(e,"YYYY, MM, DD HH:mm","en",!0);return t.isValid()?t.locale(s().locale()).format(n.pc):e})):t===d.x4?e.map((e=>{var t=s()(e,"YYYY, MM, DD","en",!0);return t.isValid()?t.locale(s().locale()).format("ddd. MMM DD"):e})):void 0,f=e=>{var{formatMessage:t}=e;return{forecastSaved:t(u.forecastSaved),couldNotSaveForecast:t(u.couldNotSaveForecast),forecastImported:t(u.forecastImported),couldNotCalculateForecast:t(u.couldNotCalculateForecast),forecastUpdated:t(u.forecastUpdated),couldNotUpdateForecast:t(u.couldNotUpdateForecast)}},m={0:{periods:[{from:"",to:""}]},1:{periods:[{from:"",to:""}]},2:{periods:[{from:"",to:""}]},3:{periods:[{from:"",to:""}]},4:{periods:[{from:"",to:""}]},5:{periods:[{from:"",to:""}]},6:{periods:[{from:"",to:""}]}},v={MONDAY:0,TUESDAY:1,WEDNESDAY:2,THURSDAY:3,FRIDAY:4,SATURDAY:5,SUNDAY:6},y=e=>null==e?void 0:e.filter((e=>e.from||e.to)),g=[{day:"",timeStart:"00:00",timeEnd:"00:00",id:0}]},78171:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>re,defaultAbsSettings:()=>J});var i=r(81978),s=r(97779),n=r(30381),a=r.n(n),o=r(35667),l=r(65227),c=r(12718),d=r(61604),u=r(82605),p=r(91833),h=(0,i.Lq)({[p.addRemoveSkill]:(e,t)=>{var{skill:r,isCheck:i}=t;return i?[...e,r]:e.filter((e=>{var{id:t}=e;return t!==r.id}))},[p.clearSkillIds]:()=>[]},[]),f=(0,i.Lq)({[p.addRemoveQueue]:(e,t)=>{var{queue:r,isCheck:i}=t;return i?[...e,r]:e.filter((e=>{var{id:t}=e;return t!==r.id}))},[p.clearQueueIds]:()=>[]},[]),m=(0,i.Lq)({[p.addRemoveLine]:(e,t)=>{var{line:r,isCheck:i}=t;return i?[...e,r]:e.filter((e=>{var{id:t}=e;return t!==r.id}))},[p.clearLineIds]:()=>[]},[]),v=(0,i.Lq)({[p.setSelectedNames]:(e,t)=>t,[p.clearSelectedNames]:()=>""},""),y=(0,i.Lq)({[p.sendSelectedEntities]:(e,t)=>t},!1),g=(0,i.Lq)({[p.setType]:(e,t)=>t},"none");const b=(0,s.combineReducers)({skillIds:h,queueIds:f,lineIds:m,selectedNames:v,isSendData:y,type:g});var j=r(35382),x=r(75055),S=r(32384),O=r(21687);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=(0,i.Lq)({[d.setForecastDataAction]:(e,t)=>w(w({},e),t),[d.loadForecasts]:(e,t)=>t,[d.loadForecastsRanges]:(e,t)=>w(w({},e),t),[d.forecastImported]:e=>w({},e),[d.historyImported]:e=>w({},e),[d.updateForecasts]:(e,t)=>{var r=(e,t,r)=>(0,o.xb)(e)?e:e.map(((e,i)=>i===t?r:e)),{number:i,serviceLevel:s,occupancy:n,acw:a,workUnits:l,workUnitsAbsoluteError:c,workUnitsRelativeError:d,fte:u,fteAbsoluteError:p,fteRelativeError:h,aht:f,ahtAbsoluteError:m,ahtRelativeError:v,abs:y,abandonRate:g,serviceLevelWeighted:b,absAbsoluteError:j}=t;return w(w({},e),{},{absErrorAbsolute:r(e.absErrorAbsolute,i,j),serviceLevel:r(e.serviceLevel,i,s),serviceLevelWeighted:r(e.serviceLevelWeighted,i,b),occupancy:r(e.occupancy,i,n),workUnitsForecast:r(e.workUnitsForecast,i,l),workUnitsErrorAbsolute:r(e.workUnitsErrorAbsolute,i,c),abandonRate:r(e.abandonRate,i,g),acw:r(e.acw,i,a),workUnitsErrorRelative:r(e.workUnitsErrorRelative,i,d),fteForecast:r(e.fteForecast,i,u),fteErrorAbsolute:r(e.fteErrorAbsolute,i,p),fteErrorRelative:r(e.fteErrorRelative,i,h),ahtForecast:r(e.ahtForecast,i,f),ahtErrorAbsolute:r(e.ahtErrorAbsolute,i,m),ahtErrorRelative:r(e.ahtErrorRelative,i,v),absForecast:r(e.absForecast,i,y)})},[d.updateFte]:(e,t)=>{var{tableName:r,number:i,value:s}=t,n=e[r].map(((e,t)=>t===i?s:e));return w(w({},e),{},{[r]:[...n]})},[d.clearFteData]:()=>({})},{queues:[],forecastsByQueues:[]}),T=(0,i.Lq)({[d.loadForecastsRanges]:(e,t)=>w(w({},e),t)},{}),N=(0,i.Lq)({[d.setSelectedIds]:(e,t)=>t,[d.clearSelectedIds]:()=>[]},[]),R=(0,i.Lq)({[d.loadSkills]:(e,t)=>t},[]),E=(0,i.Lq)({[d.loadQueue]:(e,t)=>t},[]),D=(0,i.Lq)({[d.setSelectedTableName]:(e,t)=>t},x.ss),A=(0,i.Lq)({[d.setSelectedExpandedTables]:(e,t)=>w(w({},e),t)},{fte:!0,calls:!0,aht:!0,stats:!0,calculatedFiguresEndPeriod:!0,lost:!0,expectation:!0}),M=(0,i.Lq)({[d.setForecastChanged]:(e,t)=>t},!1),I={leftWidth:j.S8,topHeight:400},Z=(0,i.Lq)({[d.resizeLayout]:(e,t)=>w(w({},e),t)},I),q=(0,i.Lq)({[d.setCurrentItem]:(e,t)=>t,[d.clearCurrentItem]:()=>({})},{}),F=(0,i.Lq)({[d.setIsSuccessfulAggregation]:(e,t)=>t},!1),L=(0,i.Lq)({[u.setCheckedWeekDays]:(e,t)=>t},[]),H=(0,i.Lq)({[u.setCheckedCalendarDays]:(e,t)=>t},[]),_=(0,i.Lq)({[u.setOperationType]:(e,t)=>t},"single"),B=(0,i.Lq)({[u.updateOperationAction]:(e,t)=>t,[u.loadOperation]:(e,t)=>t,[u.removeOperationDTO]:()=>({})},{}),G=(0,i.Lq)({[d.setLoading]:(e,t)=>t},!1),W=(0,i.Lq)({[d.setLoadingSkillHierarchy]:(e,t)=>t},!1),U=(0,i.Lq)({[u.setListQueues]:(e,t)=>t},[]),V=(0,i.Lq)({[d.setSkillHierarchy]:(e,t)=>t},{}),z=(0,i.Lq)({[d.setAbsProfilesList]:(e,t)=>t},[]),Y=(0,i.Lq)({[d.setSelectedPeriod]:(e,t)=>w(w({},e),t)},{from:a()().startOf("day").format(l._E),to:a()().endOf("day").format(l._E)}),Q=(0,i.Lq)({[d.setSelectedAggregation]:(e,t)=>t},S.mo),K=(0,i.Lq)({[d.selectedAggregationAfterRefresh]:(e,t)=>t},S.mo),X=(0,i.Lq)({[d.setAllAbsence]:(e,t)=>t},[]),J={absFactSkill:"",absActivities:[],historicalPeriod:{to:(0,l.zO)(l.vc,!0),from:(0,l.WN)((0,l.zO)(l.vc,!0),1,l.vc,"year")},dimension:c.ZP.DAY},$=(0,i.Lq)({[d.setAbsenteeismForecastSettings]:(e,t)=>t,[d.setReceivedAbsenceForecast]:(e,t)=>({id:t.id,absFactSkill:t.skillId,absActivities:t.absenceActivities,dimension:t.generationStep,historicalPeriod:{to:t.to,from:t.from}}),[d.resetAbsenteeismForecastSettings]:()=>J},J),ee=(0,i.Lq)({[d.addAbsPeriod]:(e,t)=>{var r=[...e[t].periods,{from:"",to:""}];return w(w({},e),{},{[t]:{periods:r}})},[d.setReceivedAbsenceForecast]:(e,t)=>{var r=w({},O.Gi);return t.periodExclusions.forEach((e=>{var t,i=O.rN[e.dayOfWeek],s=(0,O.mN)(null===(t=r[i])||void 0===t?void 0:t.periods);r[i]={periods:[...(0,o.xb)(s)?[]:s,{from:e.timeStart,to:e.timeEnd}]}})),r},[d.changeAbsPeriod]:(e,t)=>{var{weekDayIndex:r,periodIndex:i,newPeriod:s}=t,n=e[r].periods.map(((e,t)=>t===i?w(w({},e),s):e));return w(w({},e),{},{[r]:{periods:n}})},[d.deleteAbsPeriod]:(e,t)=>{var{weekDayIndex:r,periodIndex:i}=t,s=e[r].periods.filter(((e,t)=>t!==i));return w(w({},e),{},{[r]:{periods:s}})},[d.resetAbsPeriod]:()=>O.Gi},O.Gi),te=(0,i.Lq)({[d.addOnetimeAbs]:e=>[...e,{day:"",timeStart:"00:00",timeEnd:"00:00",id:e.length}],[d.setReceivedAbsenceForecast]:(e,t)=>{var r=t.singleExclusions.map(((e,t)=>(e.id=t,e)));return(0,o.xb)(r)?O.pr:r},[d.changeOnetimeAbs]:(e,t)=>{var{exceptionIndex:r,newDateAndTime:{day:i,timeStart:s,timeEnd:n}}=t;return e.map(((e,t)=>t===r?{day:i,timeStart:s,timeEnd:n,id:e.id}:e))},[d.deleteOnetimeAbs]:(e,t)=>e.filter(((e,r)=>r!==t.exceptionIndex)).map(((e,t)=>w(w({},e),{},{id:t}))),[d.resetOnetimeAbs]:()=>O.pr},O.pr);const re=(0,s.combineReducers)({absenteeismForecastSettings:$,periodicExceptions:ee,onetimeExceptions:te,absenceAllList:X,data:k,ranges:T,selectedIds:N,skills:R,listIds:b,queues:E,selectedTableName:D,isChanged:M,layoutSizes:Z,currentItem:q,checkedWeekDays:L,checkedCalendarDays:H,operationType:_,openOperationDTO:B,loading:G,listQueues:U,skillHierarchy:V,selectedPeriod:Y,selectedAggregation:Q,selectedAggregationAfterRefresh:K,isSuccessfulAggregation:F,expandedTables:A,absProfilesList:z,loadingSkillHierarchy:W})},69984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A,getChangingStatus:()=>C,getDataOperational:()=>k,getDataStrategic:()=>x,getDataTactical:()=>S,getOperationalPeriods:()=>T,getSelectDayMainSelectorOperational:()=>N,getSelectedSkill:()=>j,getStrategicNumberColumns:()=>w,getStrategicPeriod:()=>P,getTacticalPeriods:()=>O});var i=r(81978),s=r(97779),n=r(22350),a=r(52614),o=(0,i.Lq)({[a.setSelectedSkill]:(e,t)=>t},""),l=(0,i.Lq)({[a.setSelectedQueue]:(e,t)=>t},""),c=(0,i.Lq)({[a.setForecastsStrategic]:(e,t)=>(0,a.withColor)(t),[a.setForecastStrategic]:(e,t)=>(0,a.withColor)([t,...e]).sort((0,n.Wz)("from")),[a.setResultEditPeriod]:(e,t)=>{var r=t.aggregationId;return(0,a.withColor)(e.map((e=>e.aggregationId===r?t:e)))},[a.deleteByIdForecastPeriod]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))}},[]),d=(0,i.Lq)({[a.setForecastsTactical]:(e,t)=>(0,a.withColor)(t),[a.setForecastTactical]:(e,t)=>(0,a.withColor)([t,...e]).sort((0,n.Wz)("from")),[a.setEditTacticalPeriod]:(e,t)=>{var r=t.aggregationId;return(0,a.withColor)(e.map((e=>e.aggregationId===r?t:e)))},[a.deleteForecastTactical]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))}},[]),u=(0,i.Lq)({[a.setForecastsOperational]:(e,t)=>t,[a.setForecastOperational]:(e,t)=>(0,a.withColor)([t,...e]).sort((0,n.Wz)("from")),[a.setEditOperationalPeriod]:(e,t)=>{var r=t.aggregationId;return(0,a.withColor)(e.map((e=>e.aggregationId===r?t:e)))},[a.deleteForecastOperational]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))}},[]),p=(0,i.Lq)({[a.setForecastsTrend]:(e,t)=>t.callsActual?t:{}},{}),h=(0,i.Lq)({[a.setForecastsScaleTable]:(e,t)=>t},10),f=(0,i.Lq)({[a.addPeriodForecast]:(e,t)=>[...e,t],[a.deletePeriodForecast]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))},[a.savePeriodsForecastStrategic]:(e,t)=>t},[]),m=(0,i.Lq)({[a.addPeriodTacticalForecast]:(e,t)=>[...e,t],[a.deletePeriodTacticalForecast]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))},[a.savePeriodsForecastTactical]:(e,t)=>t},[]),v=(0,i.Lq)({[a.setCountColumnsTableStrategic]:(e,t)=>t},null),y=(0,i.Lq)({[a.addPeriodOperationalForecast]:(e,t)=>[...e,t],[a.deletePeriodOperationalForecast]:(e,t)=>{var{aggregationId:r}=t;return e.filter((e=>e.aggregationId!==r))},[a.savePeriodsForecastOperational]:(e,t)=>t},[]),g=(0,i.Lq)({[a.setDayMainSelectorOperationalPeriod]:(e,t)=>t},""),b=(0,i.Lq)({[a.setForecastsChangingStatus]:(e,t)=>t},!1),j=e=>e.forecastsGenerate.selectedSkill,x=e=>e.forecastsGenerate.dataStrategic,S=e=>e.forecastsGenerate.dataTactical,O=e=>e.forecastsGenerate.tactical.periodsTactical,P=e=>e.forecastsGenerate.strategic.periods,w=e=>e.forecastsGenerate.strategic.numberColumns,C=e=>e.forecastsGenerate.isChanged,k=e=>e.forecastsGenerate.dataOperational,T=e=>e.forecastsGenerate.operational.periodsOperational,N=e=>e.forecastsGenerate.operational.dayHeaderSelector,R=(0,s.combineReducers)({scaleTable:h,periods:f,numberColumns:v}),E=(0,s.combineReducers)({periodsTactical:m,numberColumns:v}),D=(0,s.combineReducers)({periodsOperational:y,dayHeaderSelector:g});const A=(0,s.combineReducers)({selectedSkill:o,selectedQueue:l,dataStrategic:c,dataTrend:p,dataTactical:d,dataOperational:u,strategic:R,tactical:E,operational:D,isChanged:b})},75364:(e,t,r)=>{"use strict";r.d(t,{GD:()=>_,Y3:()=>D,If:()=>R,B$:()=>Z,v2:()=>Te,ig:()=>$,fi:()=>J,Cm:()=>Q,g6:()=>K,Iv:()=>X,i3:()=>I,hC:()=>Ce,o1:()=>V,OW:()=>q,lB:()=>k,yd:()=>ke,DM:()=>H,Xr:()=>z,jM:()=>se,mi:()=>E,o9:()=>A,Gz:()=>fe,xC:()=>le,rw:()=>te,Ip:()=>ie,TQ:()=>re,tA:()=>ee,GG:()=>N,V$:()=>pe,JP:()=>T,gb:()=>oe,Sh:()=>W,cT:()=>U,IE:()=>F,KF:()=>L,bN:()=>Re,xS:()=>B,y7:()=>ne,cd:()=>ae,pw:()=>G,qM:()=>M,UE:()=>Y,E9:()=>de,ro:()=>ce,eg:()=>Ne});var i=r(30381),s=r.n(i),n=r(85208),a=r(20573),o=r(12336),l=r(12718),c=r(65227),d=r(35667),u=r(38646),p=r(22350),h=r(61371),f=r(17666),m=r(10890),v=r(21687),y=r(75055),g=r(35382),b=r(34018),j=r(69797),x=r(56237);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w{constructor(e){var{name:t,data:r,intl:i=null,frontendSettings:s}=e;this._intl=i,this._name=t,this._actual=r.actual,this._forecast=r.forecast,this._forecastCorrected=r.forecastCorrected,this._occupancy=r.occupancy,this._serviceLevel=r.serviceLevel,this._acw=r.acw,this._abandonRate=r.abandonRate,this._frontendSettings=s}get intl(){if(!this._intl)throw Error("intl must be provided");return this._intl}get name(){return this._name}get actual(){return(0,j._D)(this._actual||[])}get forecast(){return(0,j._D)(this._forecast||[])}get abandonRate(){var e;return null===(e=this._abandonRate)||void 0===e?void 0:e.map((e=>{var t;return parseFloat(null===(t=Number(e))||void 0===t?void 0:t.toFixed(1))}))}get forecastCorrected(){return(0,j._D)(this._forecastCorrected||[])}get occupancy(){return(0,j._D)(this._occupancy||[])}get serviceLevel(){return(0,j._D)(this._serviceLevel||[])}get acw(){return(0,j._D)(this._acw||[])}get isStats(){return this._serviceLevel&&this._occupancy}get actualDataset(){return O(O({},o.vL),{},{label:this.name,borderColor:g.E8,pointBorderColor:g.E8,pointBackgroundColor:g.E8,pointHoverBackgroundColor:g.E8,pointHoverBorderColor:g.E8,backgroundColor:(0,b.Zn)(g.E8,.3),fill:!0,data:this.actual})}get forecastDataset(){var e="#2d3e50",t="#09acf7",r=this._frontendSettings["forecasts.allowChartEditing"].value;return O(O({},o.vL),{},{borderDash:[3,3],label:this.name,borderColor:e,pointBorderColor:e,pointBackgroundColor:e,pointBorderWidth:2,pointHoverBorderWidth:2,pointHoverBackgroundColor:t,pointHoverBorderColor:t,cursor:"pointer",fill:!1,data:this.forecast,dragData:!!r})}get correctedForecastDataset(){return O(O({},o.vL),{},{label:this.name,borderColor:g.a,pointBorderColor:g.a,pointBackgroundColor:g.a,pointHoverBackgroundColor:g.a,pointHoverBorderColor:g.a,fill:!1,data:this.forecastCorrected})}get abandonRateDataset(){var e="#2b2b2b",t="#09acf7";return O(O({},o.vL),{},{borderDash:[3,3],label:this.name,borderColor:e,pointBorderColor:e,pointBackgroundColor:e,pointBorderWidth:2,pointHoverBorderWidth:2,pointHoverBackgroundColor:t,pointHoverBorderColor:t,cursor:"pointer",fill:!1,data:this.abandonRate})}get occupancyDataset(){var e=this._frontendSettings["forecasts.allowChartEditing"].value;return O(O({},o.vL),{},{label:this.intl.formatMessage(x.xz),borderColor:g.M$,pointBorderColor:g.M$,pointBackgroundColor:g.M$,pointBorderWidth:2,cursor:"pointer",fill:!1,data:this.occupancy,dragData:!!e})}get serviceLevelDataset(){return O(O({},o.vL),{},{label:this.intl.formatMessage(x.Rx),borderColor:g.iX,pointBorderColor:g.iX,pointBackgroundColor:g.iX,pointHoverBackgroundColor:g.iX,pointHoverBorderColor:g.iX,data:this.serviceLevel})}get averageWaitingTimeDataset(){return O(O({},o.vL),{},{label:this.intl.formatMessage(x.Yg),borderColor:g.w8,pointBorderColor:g.w8,pointBackgroundColor:g.w8,pointHoverBackgroundColor:g.w8,pointHoverBorderColor:g.w8,data:this.acw})}}var C=r(1216),k=e=>e.forecasts.data,T=e=>(0,p.Lb)(e.forecasts.periodicExceptions),N=e=>e.forecasts.periodicExceptions,R=e=>e.forecasts.absenteeismForecastSettings,E=e=>e.forecasts.onetimeExceptions,D=e=>e.forecasts.absenceAllList,A=e=>(0,p.xn)(e.forecasts.onetimeExceptions),M=e=>e.forecasts.loading,I=e=>e.forecasts.data.dates||[],Z=e=>e.forecasts.data.aggregation||l.ZP.FIFTEEN_MINUTES,q=e=>{var{dateFrom:t=s()().startOf("day").format(c._E)}=e.forecasts.data;return t},F=e=>e.forecasts.selectedAggregation,L=e=>e.forecasts.selectedPeriod,H=e=>e.forecasts.isSuccessfulAggregation,_=e=>e.forecasts.absProfilesList,B=e=>e.forecasts.selectedTableName,G=e=>{var t;return null===(t=e.user.groupPeriod)||void 0===t?void 0:t.groupId},W=e=>e.forecasts.queues,U=e=>e.forecasts.expandedTables,V=e=>{var{dateTo:t=s()().endOf("day").format(c._E)}=e.forecasts.data;return t},z=e=>e.forecasts.layoutSizes,Y=e=>e.forecasts.isChanged,Q=e=>e.forecasts.currentItem,K=e=>(Q(e)||{}).id||null,X=e=>Q(e).name||"",J=e=>e.forecasts.checkedWeekDays,$=e=>e.forecasts.checkedCalendarDays,ee=e=>e.forecasts.operationType,te=e=>e.forecasts.openOperationDTO,re=e=>J(e).map((t=>(0,n.Z)("PeriodOperationForm".concat(t))(e))),ie=e=>$(e).map((t=>(0,n.Z)("PeriodOperationForm".concat(t))(e))),se=e=>e.forecasts.listQueues,ne=e=>e.forecasts.skillHierarchy,ae=e=>e.forecasts.loadingSkillHierarchy,oe=(0,a.createSelector)(ne,(e=>{var t={valueKey:"id",labelKey:"groupName",childrenKey:"children",data:(0,d.xb)(e)?[]:[e]};return(0,u.aM)(t)})),le=(0,a.createSelector)(ne,(e=>(0,u.dw)(e).filter((e=>!e.isGroup)).map((e=>e.id)))),ce=(0,a.createSelector)(Q,k,((e,t)=>(null==e?void 0:e.type)===C.UR&&t.computeType===h.v.BACKLOG)),de=(0,a.createSelector)(Q,(e=>(null==e?void 0:e.type)===C.UR)),ue={0:"MONDAY",1:"TUESDAY",2:"WEDNESDAY",3:"THURSDAY",4:"FRIDAY",5:"SATURDAY",6:"SUNDAY"},pe=(0,a.createSelector)(N,(e=>{var t=[];return Object.keys(e).forEach((r=>{e[r].periods.forEach((e=>{e.from&&e.to&&"undefined"!==r&&t.push({dayOfWeek:ue[r],timeStart:e.from,timeEnd:e.to})}))})),t})),he=(0,a.createSelector)(k,(e=>({serviceLevel:e.serviceLevel,occupancy:e.occupancy,dates:e.dates}))),fe=(0,a.createSelector)(E,(e=>{var t=[];return e.forEach((e=>{(0,d.xb)(e.day)||t.push({day:e.day,timeStart:e.timeStart,timeEnd:e.timeEnd})})),t})),me=(0,a.createSelector)(k,(e=>({queueCapacityEndOfInterval:e.queueCapacityEndOfInterval,expiredEndOfInterval:e.expiredEndOfInterval,inTurnEndOfInterval:e.inTurnEndOfInterval,dates:e.dates}))),ve=(0,a.createSelector)(k,(e=>({callsForecast:e.workUnitsForecast,callsActual:e.workUnitsActual,callsErrorAbsolute:e.workUnitsErrorAbsolute,callsErrorRelative:(e.workUnitsErrorRelative||[]).map((e=>Math.floor(1e3*e)/10+"%")),dates:e.dates}))),ye=(0,a.createSelector)(k,(e=>({ahtForecast:e.ahtForecast,ahtActual:e.ahtActual,ahtErrorAbsolute:e.ahtErrorAbsolute,ahtErrorRelative:(e.ahtErrorRelative||[]).map((e=>Math.floor(1e3*e)/10+"%")),dates:e.dates}))),ge=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>Math.floor(1e3*e)/10+"%"))},be=(0,a.createSelector)(k,(e=>({absActual:e.absActual,absForecast:e.absForecast,fteActual:e.fteActual,fteForecast:e.fteForecast,fteErrorAbsolute:e.fteErrorAbsolute,fteErrorRelative:ge(e.fteErrorRelative),fteCorrected:e.fteCorrected,fteCorrectedErrorAbsolute:e.fteCorrectedErrorAbsolute,fteCorrectedErrorRelative:ge(e.fteCorrectedErrorRelative),dates:e.dates}))),je=(0,a.createSelector)(k,(e=>({abandonRate:e.abandonRate,dates:e.dates}))),xe=(0,a.createSelector)(k,(e=>({acw:e.acw,dates:e.dates}))),Se=(0,a.createSelector)(k,(e=>({expiredActual:e.expiredActual,expiredForecast:e.expiredForecast,dates:e.dates}))),Oe=(0,a.createSelector)(k,(e=>({queueCapacityActual:e.queueCapacityActual,queueCapacityForecast:e.queueCapacityForecast,dates:e.dates}))),Pe=(0,a.createSelector)(k,(e=>({processedActual:e.processedActual,processedForecast:e.processedForecast,dates:e.dates}))),we=(0,a.createSelector)(B,he,ve,ye,be,je,xe,Se,Oe,Pe,me,((e,t,r,i,s,n,a,o,l,c,d)=>{switch(e){case y.ot:return{serviceLevel:t.serviceLevel,occupancy:t.occupancy};case y.xv:return{queueCapacityEndOfInterval:d.queueCapacityEndOfInterval,expiredEndOfInterval:d.expiredEndOfInterval,inTurnEndOfInterval:d.inTurnEndOfInterval};case y.dP:return{forecast:r.callsForecast,actual:r.callsActual};case y.nO:return{forecast:i.ahtForecast,actual:i.ahtActual};case y.ss:return{forecast:s.fteForecast,actual:s.fteActual,forecastCorrected:s.fteCorrected};case y.NA:return{abandonRate:n.abandonRate};case y.mB:return{acw:a.acw};case y.kp:return{forecast:o.expiredForecast,actual:o.expiredActual};case y.jR:return{forecast:l.queueCapacityForecast,actual:l.queueCapacityActual};case y._T:return{forecast:c.processedForecast,actual:c.processedActual};case y.W2:return{forecast:s.absForecast,actual:s.absActual};default:return{}}})),Ce=(0,a.createSelector)(we,B,ce,m.U,f.e0,((e,t,r,i,s)=>{var n=new w({name:t,data:e,intl:i,frontendSettings:s});return n.isStats?(e=>[e.occupancyDataset,e.serviceLevelDataset])(n):r?(e=>[e.actualDataset,e.forecastDataset,e.correctedForecastDataset])(n):(e=>[e.actualDataset,e.forecastDataset,e.abandonRateDataset,e.averageWaitingTimeDataset])(n)})),ke=(0,a.createSelector)(I,Z,m.U,((e,t,r)=>(0,v.VT)(e,t,r))),Te=(0,a.createSelector)(k,m.U,((e,t)=>{var r={type:"bar",color:g.mU,name:t.formatMessage({id:"Table.overdue",defaultMessage:[{type:0,value:"Просроченные"}]}),stack:"1"},i={type:"bar",color:g.tR,name:t.formatMessage({id:"Table.pending",defaultMessage:[{type:0,value:"В ожидании"}]}),stack:"1"},s={type:"bar",color:g.mv,name:t.formatMessage({id:"Table.new",defaultMessage:[{type:0,value:"Новые"}]}),stack:"1"},n={type:"line",color:g.ur,name:t.formatMessage({id:"Table.processedForecast",defaultMessage:[{type:0,value:"Обработано"}]})},a={type:"line",color:g.mU,name:t.formatMessage({id:"Table.overdue",defaultMessage:[{type:0,value:"Просроченные"}]}),stack:"1"},l={type:"line",color:g.tR,name:t.formatMessage({id:"Table.pending",defaultMessage:[{type:0,value:"В ожидании"}]}),stack:"1"};return{labels:e.dates,datasets:[(0,o.Ty)({data:e.expiredForecast,options:r}),(0,o.Ty)({data:e.inTurnForecast,options:i}),(0,o.Ty)({data:e.workUnitsForecast,options:s}),(0,o.Ty)({data:e.processedForecast,options:n})],datasetsCalculatedFiguresChart:[(0,o.Ty)({data:e.expiredEndOfInterval,options:a}),(0,o.Ty)({data:e.inTurnEndOfInterval,options:l})]}})),Ne=e=>!(0,d.xb)(e.forecasts.selectedIds),Re=e=>e.forecasts.selectedIds},55354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{schedulesMock:()=>i});var i=[{cells:[{zone:"Europe/Moscow",day:"2023-06-01",userId:"24e1b0a0-3a21-4a14-bdfa-016d3c2c501f",color:"#b339e6",mainActivity:"9a42617a-7fdd-415c-a2ac-e4ceba9b0664",period:"06:15-16:15",acronym:null,firstActivityStart:"2023-06-01 03:15:00 +0000",lastActivityEnd:"2023-06-01 13:15:00 +0000"},{zone:"Europe/Moscow",day:"2023-06-03",userId:"24e1b0a0-3a21-4a14-bdfa-016d3c2c501f",color:"#000000",mainActivity:"9a42617a-7fdd-415c-a2ac-e4ceba9b0664",period:"06:15-16:15",acronym:null,firstActivityStart:"2023-06-01 03:15:00 +0000",lastActivityEnd:"2023-06-01 13:15:00 +0000"}],userId:"24e1b0a0-3a21-4a14-bdfa-016d3c2c501f"},{cells:[{zone:"Europe/Moscow",day:"2023-06-02",userId:"5c5aef48-f0c2-4ad1-9db5-b2dfd4f5b3e0",color:"#b339e6",mainActivity:"9a42617a-7fdd-415c-a2ac-e4ceba9b0664",period:"08:15-18:15",acronym:null,firstActivityStart:"2023-06-01 05:15:00 +0000",lastActivityEnd:"2023-06-01 15:15:00 +0000"},{zone:"Europe/Moscow",day:"2023-06-06",userId:"5c5aef48-f0c2-4ad1-9db5-b2dfd4f5b3e0",color:"#b99999",mainActivity:"9a42617a-7fdd-415c-a2ac-e4ceba9b0664",period:"08:15-18:15",acronym:null,firstActivityStart:"2023-06-01 05:15:00 +0000",lastActivityEnd:"2023-06-01 15:15:00 +0000"},{zone:"Europe/Moscow",day:"2023-06-09",userId:"5c5aef48-f0c2-4ad1-9db5-b2dfd4f5b3e0",color:"#b33333",mainActivity:"9a42617a-7fdd-415c-a2ac-e4ceba9b0664",period:"08:15-18:15",acronym:null,firstActivityStart:"2023-06-01 05:15:00 +0000",lastActivityEnd:"2023-06-01 15:15:00 +0000"}],userId:"5c5aef48-f0c2-4ad1-9db5-b2dfd4f5b3e0"}]},78269:(e,t,r)=>{"use strict";r.r(t),r.d(t,{acceptAdditionSchedules:()=>z,accountingReportDataFetched:()=>C,accountingReportIsLoading:()=>k,additionalScheduleApplicationSent:()=>S,additionalSchedulesFetched:()=>x,cancelRequest:()=>$,createApplication:()=>B,createSwapScheduleRequest:()=>K,fetchAccountingReportData:()=>Q,fetchAdditionalSchedules:()=>V,fetchGroupDaySchedule:()=>_,fetchGroupMonthSchedule:()=>L,fetchMyApplications:()=>F,fetchOperatorData:()=>G,fetchOperatorDataByDay:()=>W,fetchOperatorDayData:()=>U,fetchOperatorWorkHoursReportData:()=>H,fetchPossibleIntervals:()=>X,loadOperatorDataAction:()=>v,loadOperatorDataByDayAction:()=>y,loadOperatorDayDataAction:()=>g,operatorApplicationCreated:()=>b,operatorApplicationsFetched:()=>j,operatorGroupDayScheduleFetched:()=>P,operatorGroupGraphFetched:()=>O,operatorWorkHoursReportDataFetched:()=>w,saveNewScheduleActivities:()=>J,sendApplication:()=>Y,setIntervalsWereRequested:()=>D,setIsLoadingIntervals:()=>I,setMultiFilter:()=>N,setOperatorDataAlreadyFetched:()=>f,setOperatorGlobalSettingsAlreadyFetched:()=>m,setPossibleIntervals:()=>R,setRequestedIntervalsId:()=>E,setTemplateIsValid:()=>M,setTemporaryActivities:()=>A,swapScheduleRequestCreated:()=>T});var i=r(30381),s=r.n(i),n=r(81978),a=r(44012),o=r(41524),l=r(88599),c=r(82028),d=r(65227),u=r(85893);function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,n.PH)("setOperatorDataAlreadyFetched"),m=(0,n.PH)("setOperatorGlobalSettingsAlreadyFetched"),v=(0,n.PH)("loadOperatorData"),y=(0,n.PH)("loadOperatorDataByDay"),g=(0,n.PH)("loadOperatorDayData"),b=(0,n.PH)("operatorApplicationCreated"),j=(0,n.PH)("operatorApplicationsFetched"),x=(0,n.PH)("additionalSchedulesFetched"),S=(0,n.PH)("additionalScheduleApplicationSent"),O=(0,n.PH)("operatorGroupGraphFetched"),P=(0,n.PH)("operatorGroupDayScheduleFetched"),w=(0,n.PH)("operatorWorkHoursReportDataFetched"),C=(0,n.PH)("accountingReportDataFetched"),k=(0,n.PH)("accountingReportIsLoading"),T=(0,n.PH)("swapScheduleRequestCreated"),N=(0,n.PH)("setMultiFilter"),R=(0,n.PH)("setPossibleIntervals"),E=(0,n.PH)("setRequestedIntervalsId"),D=(0,n.PH)("setIntervalsWereRequested"),A=(0,n.PH)("setTemporaryActivities"),M=(0,n.PH)("setTemplateIsValid"),I=(0,n.PH)("setIsLoadingIntervals"),Z=(0,u.jsx)(a.Z,{id:"Notifications.failedToCreateApplication",defaultMessage:[{type:0,value:"Не удалось создать заявку."}]}),q=(0,u.jsx)(a.Z,{id:"Notifications.failedToSendApplicationForAdditionalShift",defaultMessage:[{type:0,value:"Не удалось отправить заявку на доп. смену."}]});function F(e){return function(){var t=h((function*(t){(0,c.t9)("change-schedule/read-all-my",e).then((e=>t(j(e.response)))).catch((e=>console.error(e)&&(0,l.x)(e)))}));return function(e){return t.apply(this,arguments)}}()}function L(e){return function(){var t=h((function*(t){Promise.all([(0,c.t9)("user-schedule/read-published-schedule-table-by-group",e),(0,c.t9)("operator/read-all-hired",e)]).then((e=>t(O({schedules:e[0].response,users:e[1].response}))))}));return function(e){return t.apply(this,arguments)}}()}function H(e){return function(){var t=h((function*(t){return(0,c.t9)("operator/read-report-user",e).then((e=>t(w(e.response))))}));return function(e){return t.apply(this,arguments)}}()}function _(e){var t=s()(e.from,d._E).format(d.vc);return function(){var r=h((function*(r){Promise.all([(0,c.t9)("user-schedule/read-published-details-by-group",e),(0,c.t9)("operator/read-all-hired",e)]).then((e=>r(P({activities:e[0].response,users:e[1].response,date:t}))))}));return function(e){return r.apply(this,arguments)}}()}function B(e){return function(){var t=h((function*(t){(0,c.t9)("change-schedule/request",e).then((e=>{t(b(e.response)),o.T.success((0,u.jsx)(a.Z,{id:"Notifications.applicationCreated",defaultMessage:[{type:0,value:"Заявка создана."}]}))})).catch((e=>(0,l.x)(e,Z)))}));return function(e){return t.apply(this,arguments)}}()}function G(e){return function(){var t=h((function*(t){try{var r=yield(0,c.ZP)("POST","user-schedule/read-schedule-by-operator?groupId=".concat(e.groupId),e),i=yield r.json();t(v(i.response))}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function W(e){return function(){var t=h((function*(t){try{var r=yield(0,c.ZP)("POST","user-schedule/read-schedule-by-operator?groupId=".concat(e.groupId),e),i=yield r.json();t(y(i.response))}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function U(e){return function(){var t=h((function*(t){return(0,c.t9)("user-schedule/read-day-by-user",e).then((e=>t(g(e.response)))).catch((e=>{console.error(e),(0,l.x)(e)}))}));return function(e){return t.apply(this,arguments)}}()}function V(e){return function(){var t=h((function*(t){try{var r=yield(0,c.ZP)("POST","additional-user-schedule/read-day-by-user",e),i=yield r.json();t(x(i.response))}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return h((function*(){try{var r=yield(0,c.ZP)("POST","additional-user-schedule/accept",e),i=yield r.json();i.success?(o.T.success((0,u.jsx)(a.Z,{id:"Notifications.requestForAdditionalShiftSent",defaultMessage:[{type:0,value:"Успешно."}]})),t(i)):(0,l.x)(null,q)}catch(e){(0,l.x)(e,q)}}))}function Y(e){var t=(0,u.jsx)(a.Z,{id:"Notifications.requestForAdditionalShiftSent",defaultMessage:[{type:0,value:"Успешно."}]});return function(){var r=h((function*(r){try{var i=yield(0,c.ZP)("POST","additional-user-schedule/create",e),s=yield i.json();r(x(s.response)),s.success?o.T.success(t):(0,l.x)(null,q)}catch(e){console.error(e),(0,l.x)(e,q)}}));return function(e){return r.apply(this,arguments)}}()}function Q(e){return function(){var t=h((function*(t){t(k(!0));try{var r=yield(0,c.t9)("accounting/report-for-operator",e);t(C(r.response)),t(k(!1))}catch(e){t(k(!1)),console.error("fetchAccountingReportData: ",e),(0,l.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function K(e,t){return h((function*(){try{var r=yield(0,c.t9)("swap-schedule-request/create",e);o.T.success(),t&&t(r.response)}catch(e){console.error("createSwapScheduleRequest: ",e),(0,l.x)(e)}}))}var X=e=>function(){var t=h((function*(t){try{t(I(!0));var{response:r,success:i}=yield(0,c.t9)("user-schedule/move-interval/find",e);i&&(t(R(r)),t(I(!1)))}catch(e){console.error("fetchPossibleIntervals",e)}finally{t(I(!1))}}));return function(e){return t.apply(this,arguments)}}(),J=(e,t)=>h((function*(){try{var{success:r}=yield(0,c.t9)("user-schedule/move-interval/accept",e);r&&(t(),o.T.success())}catch(e){console.error("saveNewScheduleActivities",e)}})),$=(e,t)=>h((function*(){try{var{success:r}=yield(0,c.t9)("change-schedule/cancel",e);r&&("function"==typeof t&&t(),o.T.success())}catch(e){console.error("cancelRequest",e)}}))},87618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createPreference:()=>x,deletePreference:()=>P,deletePreferenceByUserAndDays:()=>w,fetchPreference:()=>S,fetchPreferenceByPeriod:()=>b,fetchPreferenceEnableStatuses:()=>j,fetchPreferenceStatistic:()=>O,fetchProposeByStub:()=>C,receiveCreatePreference:()=>h,receiveFetchPreference:()=>p,receiveFetchPreferenceByPeriod:()=>u,receiveFetchPreferenceEnableStatuses:()=>m,receiveFetchPreferenceStatistic:()=>f,receiveProposeByStub:()=>y,savePreferences:()=>k,setCheckedPreferenceCells:()=>v,setReceiveProposeByStubLoading:()=>g});var i=r(81978),s=r(44012),n=r(41524),a=r(82028),o=r(88599),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,i.PH)("receiveFetchPreferenceByPeriod"),p=(0,i.PH)("receiveFetchPreference"),h=(0,i.PH)("receiveCreatePreference"),f=(0,i.PH)("receiveFetchPreferenceStatistic"),m=(0,i.PH)("receiveFetchPreferenceEnableStatuses"),v=(0,i.PH)("setCheckedPreferenceCells"),y=(0,i.PH)("receiveProposeByStub"),g=(0,i.PH)("setReceiveProposeByStubLoading");function b(e){return function(){var t=d((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("preference/read-by-period",e);i&&t(u(r))}catch(e){console.error("fetchPreferenceByPeriod: ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function j(e){return function(){var t=d((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("preference/enable-status",e);i&&t(m(r))}catch(e){console.error("fetchPreferenceEnableStatuses: ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function x(e){return function(){var t=d((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("preference/create",e);i&&t(h(r))}catch(e){console.error("createPreference: ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function S(e){return function(){var t=d((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("preference/read",e);i&&t(p(r))}catch(e){console.error("createPreference: ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function O(e){return function(){var t=d((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("preference/statistic",e);i&&t(f(r))}catch(e){console.error("fetchPreferenceStatistic: ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function P(e,t){return d((function*(){try{var{success:r}=yield(0,a.t9)("preference/delete",e);r&&"function"==typeof t&&t()}catch(e){console.error("deletePreference: ",e),(0,o.x)(e)}}))}function w(e,t){return d((function*(){try{var{success:r}=yield(0,a.t9)("preference/delete-by-user-and-days",e);r&&"function"==typeof t&&t()}catch(e){console.error("deletePreferenceByUserAndDays: ",e),(0,o.x)(e)}}))}function C(e){return function(){var t=d((function*(t){t(g(!0));try{var{response:r,success:i}=yield(0,a.t9)("preference/propose-by-stub/v2",e);i&&(t(y(r)),t(g(!1)))}catch(e){console.error("fetchProposeByStub",e),t(g(!1))}}));return function(e){return t.apply(this,arguments)}}()}function k(e,t){return d((function*(){try{yield(0,a.t9)("preference/save-all",e),"function"==typeof t&&t(),n.T.success((0,l.jsx)(s.Z,{id:"Notifications.notificationTypes.SUCCESS",defaultMessage:[{type:0,value:"Успешная операция"}]}))}catch(e){console.error("savePreferences error = ",e),(0,o.x)(e)}}))}},58056:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearPeriodRequestDetail:()=>T,clearSwapRequestDetails:()=>C,clearSwapsRequests:()=>f,clearSwapsResponse:()=>O,createSwapScheduleResponse:()=>G,deleteSwapRequest:()=>L,deleteSwapResponse:()=>H,getDetailResponseOfRequest:()=>U,getResponsesOfRequest:()=>B,getSwapRequestDetailsActivities:()=>_,getSwapsRequests:()=>q,getSwapsResponse:()=>F,isLoadingDetailResponse:()=>N,isLoadingList:()=>m,isLoadingResponsesOfRequest:()=>w,isLoadingSwapRequestDetailsActivities:()=>x,resolveSwapScheduleResponse:()=>W,setActiveRefreshBtn:()=>E,setDataFilter:()=>M,setDetailResponse:()=>R,setFilterHeaderResponseSwap:()=>g,setFilterResponseSwap:()=>y,setFilterSwap:()=>v,setHeaderFilterSwap:()=>b,setPeriodRequestDetail:()=>k,setRequestFilterType:()=>D,setResponseFilterType:()=>A,setResponsesOfRequest:()=>P,setSwapRequestDetailsActivities:()=>j,setSwapsRequests:()=>h,setSwapsResponse:()=>S});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(56296),c=r(76648),d=r(85893);function u(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){u(n,i,s,a,o,"next",e)}function o(e){u(n,i,s,a,o,"throw",e)}a(void 0)}))}}var h=(0,i.PH)("setSwapsRequests"),f=(0,i.PH)("clearSwapsRequests"),m=(0,i.PH)("isLoadingList"),v=(0,i.PH)("setFilterSwap"),y=(0,i.PH)("setFilterResponseSwap"),g=(0,i.PH)("setFilterHeaderResponseSwap"),b=(0,i.PH)("setHeaderFilterSwap"),j=(0,i.PH)("setSwapRequestDetailsActivities"),x=(0,i.PH)("isLoadingSwapRequestDetailsActivities"),S=(0,i.PH)("setSwapsResponse"),O=(0,i.PH)("clearSwapsResponse"),P=(0,i.PH)("setResponsesOfRequest"),w=(0,i.PH)("isLoadingResponsesOfRequest"),C=(0,i.PH)("clearSwapRequestDetails"),k=(0,i.PH)("setPeriodRequestDetail"),T=(0,i.PH)("clearPeriodRequestDetail"),N=(0,i.PH)("isLoadingDetailResponse"),R=(0,i.PH)("setDetailResponse"),E=(0,i.PH)("setActiveRefreshBtn"),D=(0,i.PH)("setRequestFilterType"),A=(0,i.PH)("setResponseFilterType"),M=(0,i.PH)("setDataFilter"),I="APPROVE",Z=(0,d.jsx)(s.Z,{id:"Notifications.errorDetailResponseOfRequest",defaultMessage:[{type:0,value:"Ошибка запроса данных для детализации отклика"}]}),q=e=>function(){var t=p((function*(t){t(m(!0));try{var r={ownership:l.K.ALL},i=e&&0!==Object.keys(e).length?e:r,s=yield function(e){return(0,o.ZP)("POST","swap-schedule-request/read-all-for-operator",e)}(i),{error:n,response:c}=yield s.json();n?(0,a.x)():t(h(c)),t(m(!1))}catch(n){console.error("getSwapsRequests error: ",n),(0,a.x)(n),t(m(!1))}}));return function(e){return t.apply(this,arguments)}}(),F=e=>function(){var t=p((function*(t){t(m(!0));try{var r=e||{},i=yield function(e){return(0,o.ZP)("POST","swap-schedule-response/read-all-for-operator",e)}(r),{error:s,response:n}=yield i.json();s?(0,a.x)():t(S(n)),t(m(!1))}catch(s){console.error("getSwapsResponse error: ",s),(0,a.x)(s),t(m(!1))}}));return function(e){return t.apply(this,arguments)}}(),L=e=>{var{id:t,filterData:r}=e;return function(){var e=p((function*(e){e(m(!0));try{var i=yield(n={id:t},(0,o.ZP)("POST","swap-schedule-request/delete",n)),{error:s}=yield i.json();e(m(!1)),s?(0,a.x)():e(q(r))}catch(s){console.error("deleteSwapRequest error: ",s),e(m(!1)),(0,a.x)(s)}var n}));return function(t){return e.apply(this,arguments)}}()},H=e=>{var{id:t,filter:r}=e;return function(){var e=p((function*(e){e(m(!0));try{var i=yield(n={id:t},(0,o.ZP)("POST","swap-schedule-response/delete",n)),{error:s}=yield i.json();e(m(!1)),s?(0,a.x)():e(F(r))}catch(s){console.error("deleteSwapResponse error: ",s),e(m(!1)),(0,a.x)(s)}var n}));return function(t){return e.apply(this,arguments)}}()},_=e=>function(){var t=p((function*(t){t(x(!0));try{var r=(yield(0,o.t9)("user-schedule/read-published-details-by-user",e)).response;t(j(r)),t(x(!1))}catch(e){console.error("getSwapRequestDetailsActivities error: ",e),(0,a.x)(e),t(x(!1))}}));return function(e){return t.apply(this,arguments)}}(),B=e=>function(){var t=p((function*(t){t(w(!0));try{var r=yield(0,o.t9)("swap-schedule-request/read-responses-of-request",{id:e});t(P(r.response)),t(w(!1))}catch(e){console.error("getResponsesOfRequest error: ",e),(0,a.x)(e),t(w(!1))}}));return function(e){return t.apply(this,arguments)}}(),G=(e,t)=>p((function*(){try{var r=yield(0,o.t9)("swap-schedule-response/create",e),{success:i,error:s}=r;i?(n.T.success(),t&&t(r.id)):s&&(0,a.x)()}catch(s){console.error("createSwapScheduleResponse error: ",s),(0,a.x)(s)}})),W=(e,t,r)=>p((function*(){var{formatMessage:i,allowedAction:s}=r,l=(e=>{var{allowedAction:t,status:r,formatMessage:i}=e,s=i({id:"Operator.SwapSchedule.ApproveAutoSwapSuccess"}),n=i({id:"Operator.SwapSchedule.DeclineSwapSuccess"}),a=i({id:"Operator.SwapSchedule.ApproveWithManagerSuccess"}),o=i({id:"Operator.SwapSchedule.DeclineSwapSuccess"});return r===I&&t===c.xf?s:"DECLINE"===r&&t===c.xf?n:r===I&&t===c.Fd?a:o})({formatMessage:i,allowedAction:s,status:e.status});try{yield(0,o.t9)("swap-schedule-response/resolve",e),t&&t(),n.T.success(l)}catch(e){console.error("resolveSwapScheduleResponse error: ",e),(0,a.x)(e)}})),U=e=>function(){var t=p((function*(t){t(N(!0));try{var r=yield function(e){return(0,o.t9)("swap-schedule-response/read-request-of-response",{id:e})}(e),{response:i,error:s}=r;s?(0,a.x)(null,Z):t(R(i)),t(N(!1))}catch(s){console.error("getDetailResponseOfRequest error: ",s),(0,a.x)(s),t(N(!1))}}));return function(e){return t.apply(this,arguments)}}()},76648:(e,t,r)=>{"use strict";r.d(t,{$P:()=>n,Fd:()=>s,xf:()=>i});var i="SWAP_AUTOMATIC",s="SWAP_MANAGER_REGULATION",n=[i,s]},56296:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,Y:()=>c});var i=r(44012),s=r(85893),n=(0,s.jsx)(i.Z,{id:"Operator.SwapFilter.TitleAll",defaultMessage:[{type:0,value:"Operator.SwapFilter.TitleAll"}]}),a=(0,s.jsx)(i.Z,{id:"Operator.SwapFilter.TitleMy",defaultMessage:[{type:0,value:"Operator.SwapFilter.TitleMy"}]}),o=(0,s.jsx)(i.Z,{id:"Operator.SwapFilter.TitleOther",defaultMessage:[{type:0,value:"Operator.SwapFilter.TitleOther"}]}),l={ALL:"ALL",MY:"MY",OTHERS:"OTHERS"},c=[{value:l.ALL,label:n},{value:l.MY,label:a},{value:l.OTHERS,label:o}]},83119:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>H,getMyActivities:()=>L});var i=r(81978),s=r(97779),n=r(63926),a=r(24862),o=r(60119),l=r(78269),c=r(14095),d=r(87618),u=(0,i.Lq)({[d.receiveFetchPreferenceByPeriod]:(e,t)=>t},[]),p=(0,i.Lq)({[d.setCheckedPreferenceCells]:(e,t)=>t},[]),h=(0,i.Lq)({[d.receiveFetchPreferenceEnableStatuses]:(e,t)=>t},[]),f=(0,i.Lq)({[d.receiveCreatePreference]:(e,t)=>t},{}),m=(0,i.Lq)({[d.receiveFetchPreference]:(e,t)=>t},{}),v=(0,i.Lq)({[d.receiveFetchPreferenceStatistic]:(e,t)=>t},{}),y=(0,i.Lq)({[d.receiveProposeByStub]:(e,t)=>t},{startValues:[],endValues:[],workHourStartValues:[],workHourEndValues:[]}),g=(0,i.Lq)({[d.setReceiveProposeByStubLoading]:(e,t)=>t},!1);const b=(0,s.combineReducers)({preferencesByPeriod:u,preferenceEnableStatuses:h,createdPreference:f,checkedPreferenceCells:p,fetchedPreference:m,fetchedPreferenceStatistic:v,propose:y,isProposeLoading:g});function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=(0,i.Lq)({[l.operatorApplicationsFetched]:(e,t)=>t},[]),O=(0,i.Lq)({[l.loadOperatorDataAction]:(e,t)=>t},{}),P=(0,i.Lq)({[l.loadOperatorDataByDayAction]:(e,t)=>t},{}),w=(0,i.Lq)({[l.loadOperatorDayDataAction]:(e,t)=>(t.schedule||(t.schedule={}),t.schedule.activities||(t.schedule.activities=[]),t.punctuality||(t.punctuality={}),void 0===t.punctuality.percent&&(t.punctuality.percent="-"),t.punctuality.violations||(t.punctuality.violations=[]),t.logs||(t.logs=[]),(0,n.o)(t),t)},{}),C=(0,i.Lq)({[l.additionalSchedulesFetched]:(e,t)=>t},[]),k=(0,i.Lq)({[l.setPossibleIntervals]:(e,t)=>t},[]),T=(0,i.Lq)({[l.setIsLoadingIntervals]:(e,t)=>t},!1),N=(0,i.Lq)({[l.setTemplateIsValid]:(e,t)=>t},!1),R=(0,i.Lq)({[l.setRequestedIntervalsId]:(e,t)=>t},""),E=(0,i.Lq)({[l.setIntervalsWereRequested]:(e,t)=>t},!1),D=(0,i.Lq)({[l.setTemporaryActivities]:(e,t)=>t},[]),A=(0,i.Lq)({[l.operatorWorkHoursReportDataFetched]:(e,t)=>t},[]),M=(0,i.Lq)({[l.operatorGroupGraphFetched]:(e,t)=>{var{users:r=[],schedules:i=[]}=t,s=new Map;return r.forEach((e=>s.set(e.id,{userName:(0,o.Pp)(e),userId:e.id,position:e.positionName}))),i.rows.forEach((e=>{e.cells.forEach((e=>{var t=s.get(e.userId);t&&(t[e.day]=e)}))})),Array.from(s,(e=>e[1]))},[l.operatorGroupDayScheduleFetched]:(e,t)=>{var{users:r=[],activities:i=[],date:s}=t,n=new Map;return r.forEach((e=>n.set(e.id,{userName:(0,o.Pp)(e),userId:e.id,position:e.positionName}))),i.forEach((e=>{var t=n.get(e.userId);if(t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);(0,a.ZP)(r),t[s]||(t[s]={}),t[s].activities||(t[s].activities=[]),t[s].activities=[...t[s].activities,r]}})),Array.from(n,(e=>e[1]))}},[]),I=(0,s.combineReducers)({accountingReport:(0,s.combineReducers)({data:(0,i.Lq)({[l.accountingReportDataFetched]:(e,t)=>t},{}),isLoading:(0,i.Lq)({[l.accountingReportIsLoading]:(e,t)=>t},!1)})}),Z=(0,i.Lq)({[l.setMultiFilter]:(e,t)=>t},{}),q=(0,i.Lq)({[l.setOperatorDataAlreadyFetched]:(e,t)=>t},!1),F=(0,i.Lq)({[l.setOperatorGlobalSettingsAlreadyFetched]:(e,t)=>t},!1),L=e=>e.operator.operatorSchedules.activities||[];const H=(0,s.combineReducers)({operatorSchedules:O,operatorSchedulesByDay:P,operatorDayData:w,operatorApplications:S,additionalSchedules:C,groupGraph:M,workHoursReport:A,reports:I,swaps:c.ZP,preferences:b,multiFilter:Z,operatorDataAlreadyFetched:q,globalSettingsAlreadyFetched:F,isTemplateValid:N,possibleIntervalsToChange:k,requestedIntervalsId:R,temporaryDayActivities:D,intervalsWereRequested:E,isLoadingIntervals:T})},14095:(e,t,r)=>{"use strict";r.d(t,{Fx:()=>k,Ir:()=>R,Lm:()=>N,Mu:()=>E,NX:()=>P,TG:()=>M,Vc:()=>C,ZP:()=>L,aA:()=>A,b9:()=>F,e$:()=>q,eV:()=>D,hS:()=>I,pu:()=>Z,sS:()=>T,xf:()=>w});var i=r(81978),s=r(97779),n=r(65227),a=r(58056),o=(0,i.Lq)({[a.isLoadingList]:(e,t)=>t},!1),l=(0,i.Lq)({[a.setSwapsRequests]:(e,t)=>t,[a.clearSwapsRequests]:()=>[]},[]),c=(0,i.Lq)({[a.setSwapsResponse]:(e,t)=>t,[a.clearSwapsResponse]:()=>[]},[]),d=(0,s.combineReducers)({details:(0,i.Lq)({[a.setResponsesOfRequest]:(e,t)=>t,[a.clearSwapRequestDetails]:()=>({})},{}),activities:(0,i.Lq)({[a.setSwapRequestDetailsActivities]:(e,t)=>t,[a.clearSwapRequestDetails]:()=>[]},[])}),u=(0,i.Lq)({[a.setRequestFilterType]:(e,t)=>t},"actual"),p=(0,i.Lq)({[a.setResponseFilterType]:(e,t)=>t},"actual"),h=(0,i.Lq)({[a.setFilterSwap]:(e,t)=>t},{}),f=(0,i.Lq)({[a.setFilterResponseSwap]:(e,t)=>t},{}),m=(0,i.Lq)({[a.setFilterHeaderResponseSwap]:(e,t)=>t},{}),v=(0,i.Lq)({[a.setHeaderFilterSwap]:(e,t)=>t},null),y=(0,i.Lq)({[a.isLoadingDetailResponse]:(e,t)=>t},!1),g=(0,i.Lq)({[a.setDetailResponse]:(e,t)=>t},{}),b=(0,i.Lq)({[a.setDataFilter]:(e,t)=>t},{}),j=(0,i.Lq)({[a.setPeriodRequestDetail]:(e,t)=>t,[a.clearPeriodRequestDetail]:()=>(0,n.su)()},(0,n.su)()),x=(0,s.combineReducers)({filter:h,filterHeader:v,requestFilterType:u}),S=(0,s.combineReducers)({data:c,filterHeader:m,filters:f,isLoadingDetail:y,dataDetail:g,responseFilterType:p}),O=(0,i.Lq)({[a.setActiveRefreshBtn]:(e,t)=>t},{isActive:!0,filter:{}}),P=e=>e.operator.swaps.periodSwapRequest,w=e=>e.operator.swaps.swapRefresh,C=e=>e.operator.swaps.isLoading,k=e=>e.operator.swaps.requests,T=e=>e.operator.swaps.response.data,N=e=>e.operator.swaps.request.filter,R=e=>e.operator.swaps.response.filters,E=e=>e.operator.swaps.request.filterHeader,D=e=>e.operator.swaps.requestDetails.activities,A=e=>e.operator.swaps.requestDetails.details,M=e=>e.operator.swaps.response.filterHeader,I=e=>e.operator.swaps.response.isLoadingDetail,Z=e=>e.operator.swaps.response.dataDetail,q=e=>e.operator.swaps.request.requestFilterType,F=e=>e.operator.swaps.response.responseFilterType;const L=(0,s.combineReducers)({isLoading:o,requests:l,request:x,response:S,requestDetails:d,swapRefresh:O,periodSwapRequest:j,dataFilter:b})},91896:(e,t,r)=>{"use strict";r.r(t),r.d(t,{downloadLicensesReportExcel:()=>b,fetchLicensesReport:()=>g,receiveData:()=>p,receiveDownloadExcelError:()=>v,receiveError:()=>h,resetLicensesReport:()=>y,setDownloadExcelLoading:()=>f,setLoading:()=>u,setPeriod:()=>d,successDownloadExcelLoading:()=>m});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(69301);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("setPeriod"),u=(0,i.PH)("setLoading"),p=(0,i.PH)("receiveData"),h=(0,i.PH)("receiveError"),f=(0,i.PH)("setDownloadExcelLoading"),m=(0,i.PH)("successDownloadExcelLoading"),v=(0,i.PH)("receiveDownloadExcelError"),y=(0,i.PH)("resetLicensesReport"),g=e=>{var{from:t,to:r}=e;return function(){var e=c((function*(e){e(u());try{var{response:i,success:o,error:l}=yield(0,n.t9)("license/report",{from:t,to:r});o?(e(p(i)),s.T.success()):(e(h(l.message)),(0,a.x)(l))}catch(l){e(h(l.message)),(0,a.x)(l)}}));return function(t){return e.apply(this,arguments)}}()},b=e=>{var{from:t,to:r}=e;return function(){var e=c((function*(e){e(f());try{var i=yield(0,n.ZP)("POST","license/report/excel",{from:t,to:r}),s=yield i.blob();(0,o.s)(s,"licenses.xlsx")}catch(t){e(v(t.message)),(0,a.x)(t)}finally{e(m())}}));return function(t){return e.apply(this,arguments)}}()}},19233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{downloadOverworkMinutes:()=>j,downloadOverworkReportExcel:()=>b,fetchOverworkReport:()=>g,receiveOverworkReportData:()=>p,receiveOverworkReportDownloadExcelError:()=>v,receiveOverworkReportError:()=>h,resetOverworkReport:()=>y,setOverworkReportDownloadExcelLoading:()=>f,setOverworkReportLoading:()=>u,setOverworkReportPeriod:()=>d,successOverworkReportDownloadExcel:()=>m});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(69301);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("setOverworkReportPeriod"),u=(0,i.PH)("setOverworkReportLoading"),p=(0,i.PH)("receiveOverworkReportData"),h=(0,i.PH)("receiveOverworkReportError"),f=(0,i.PH)("setOverworkReportDownloadExcelLoading"),m=(0,i.PH)("successOverworkReportDownloadExcel"),v=(0,i.PH)("receiveOverworkReportDownloadExcelError"),y=(0,i.PH)("resetOverworkReport"),g=e=>{var{from:t,to:r,groupId:i}=e;return function(){var e=c((function*(e){e(u());try{var{response:o,success:l,error:c}=yield(0,n.t9)("overwork/report-by-period",{from:t,to:r,groupId:i});l?(e(p(o)),s.T.success()):(e(h(c.message)),(0,a.x)(c))}catch(c){e(h(c.message)),(0,a.x)(c)}}));return function(t){return e.apply(this,arguments)}}()},b=e=>{var{from:t,to:r,groupId:i}=e;return function(){var e=c((function*(e){e(f());try{var s=yield(0,n.ZP)("POST","overwork/report-by-period/detail/excel",{from:t,to:r,groupId:i}),l=yield s.blob();(0,o.s)(l,"overwork-report.xlsx")}catch(t){e(v(t.message)),(0,a.x)(t)}finally{e(m())}}));return function(t){return e.apply(this,arguments)}}()},j=e=>{var{from:t,to:r,groupId:i}=e;return function(){var e=c((function*(e){e(f());try{var s=yield(0,n.ZP)("POST","overwork/report-by-period/detail/minutes/excel",{from:t,to:r,groupId:i}),l=yield s.blob();(0,o.s)(l,"overwork-report.xlsx")}catch(t){e(v(t.message)),(0,a.x)(t)}finally{e(m())}}));return function(t){return e.apply(this,arguments)}}()}},49906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{WORK_SCHEDULE_TABLE_DISPLAY_SETTINGS:()=>j,accountinReportIsLoading:()=>X,accountingReportDataFetched:()=>K,accountingReportDownloadExcel:()=>Be,addReport:()=>S,clearExecuteForm:()=>N,clearExecuteFormReport:()=>qe,createReport:()=>Ce,dayGraphReportDataFetched:()=>q,deleteReport:()=>Te,downloadPunctualityReportInOutExcel:()=>Ye,editReport:()=>ke,executeReport:()=>Ne,exportReport:()=>Re,fetchAccountingReportData:()=>_e,fetchDayGraphReportData:()=>be,fetchDayGraphReportGroupSchedule:()=>je,fetchFactPlanReportData:()=>Ie,fetchGraphReportData:()=>ge,fetchGroupPeriodPunctualityData:()=>Ae,fetchGroupPunctualityData:()=>De,fetchPepReportDetailByDay:()=>Ze,fetchReports:()=>we,fetchScheduleSchemeForReport:()=>ze,fetchT13ReportData:()=>Me,fetchTableDisplayCellsWorker:()=>Pe,fetchWorkHoursReportData:()=>Ee,getScheduleCsv:()=>Se,getScheduleExcel:()=>xe,graphReportDataFetched:()=>M,groupActivitiesDayReport:()=>F,groupPunctualityDataFetched:()=>U,hideCreateForm:()=>k,hideExecuteForm:()=>T,importTemplate:()=>Le,loadReports:()=>x,pepReportByDayDownloadExcel:()=>Ue,pepReportByMonthDownloadExcel:()=>Ve,pepReportDownloadExcel:()=>We,performReport:()=>w,periodGroupPunctualityDataFetched:()=>V,periodGroupPunctualityError:()=>z,periodWorkSchedule:()=>J,punctualityDetailReportDownloadExcel:()=>Ge,receiveFactPlanReportData:()=>ie,receiveGroupPeriodPunctualityDate:()=>re,receivePepReportDetailByDay:()=>ce,removeReport:()=>P,resetPeriodGroupPunctualityData:()=>Q,scheduleLoadnigAction:()=>R,setAccountingReportDate:()=>L,setArUsersIdSortFilter:()=>oe,setDayGraphReportDate:()=>B,setDayGraphReportFilter:()=>he,setFactPlanReportDatePeriod:()=>se,setFilterByReport:()=>le,setGraphReportDate:()=>A,setGroupPeriodPunctualityDate:()=>G,setGroupPunctualityDate:()=>H,setInitTableDisplayCells:()=>ne,setIsLoadingFactPlanReport:()=>I,setIsLoadingFactPlanReportExcel:()=>Z,setLoadingPepReportByDayExcel:()=>ue,setLoadingPepReportDetailByDay:()=>de,setMapUsersByScheme:()=>ae,setMonthPeriodWorkSchedule:()=>ee,setPepReportDetailByDayFilters:()=>pe,setPeriodGroupPunctualityLoading:()=>Y,setT13ReportDate:()=>D,setTableDisplayCells:()=>te,setTableDisplayCellsWorker:()=>Oe,setWorkScheduleEmployeeReportDate:()=>_,setYearPeriodWorkSchedule:()=>$,showPopup:()=>C,t13DownloadExcel:()=>Fe,t13ReportDataFetched:()=>E,updateReport:()=>O,workHoursReportDataFetched:()=>W});var i=r(81978),s=r(44012),n=r(41524),a=r(78340),o=r(88599),l=r(82028),c=r(35667),d=r(69301),u=r(69355),p=r(65227),h=r(64463),f=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){g(n,i,s,a,o,"next",e)}function o(e){g(n,i,s,a,o,"throw",e)}a(void 0)}))}}var j="workScheduleTableDisplaySettings",x=(0,i.PH)("loadReports"),S=(0,i.PH)("addReport"),O=(0,i.PH)("updateReport"),P=(0,i.PH)("removeReport"),w=(0,i.PH)("performReport"),C=(0,i.PH)("showPopup"),k=(0,i.PH)("hideCreateForm"),T=(0,i.PH)("hideExecuteForm"),N=(0,i.PH)("clearExecuteForm"),R=(0,i.PH)("scheduleLoadnigAction"),E=(0,i.PH)("t13ReportDataFetched"),D=(0,i.PH)("setT13ReportDate"),A=(0,i.PH)("setGraphReportDate"),M=(0,i.PH)("graphReportDataFetched"),I=(0,i.PH)("setIsLoadingFactPlanReport"),Z=(0,i.PH)("setIsLoadingFactPlanReportExcel"),q=(0,i.PH)("dayGraphReportDataFetched"),F=(0,i.PH)("groupActivitiesDayReport"),L=(0,i.PH)("setAccountingReportDate"),H=(0,i.PH)("setGroupPunctualityDate"),_=(0,i.PH)("setWorkScheduleEmployeeReportDate"),B=(0,i.PH)("setDayGraphReportDate"),G=(0,i.PH)("setGroupPeriodPunctualityDate"),W=(0,i.PH)("workHoursReportDataFetched"),U=(0,i.PH)("groupPunctualityDataFetched"),V=(0,i.PH)("periodGroupPunctualityDataFetched"),z=(0,i.PH)("periodGroupPunctualityError"),Y=(0,i.PH)("setPeriodGroupPunctualityLoading"),Q=(0,i.PH)("resetPeriodGroupPunctualityData"),K=(0,i.PH)("accountingReportDataFetched"),X=(0,i.PH)("accountinReportIsLoading"),J=(0,i.PH)("periodWorkSchedule"),$=(0,i.PH)("setYearPeriodWorkSchedule"),ee=(0,i.PH)("setMonthPeriodWorkSchedule"),te=(0,i.PH)("setTableDisplayCells"),re=(0,i.PH)("receiveGroupPeriodPunctualityDate"),ie=(0,i.PH)("receiveFactPlanReportData"),se=(0,i.PH)("setFactPlanReportDatePeriod"),ne=(0,i.PH)("setTableDisplayCells"),ae=(0,i.PH)("setMapUsersByScheme"),oe=(0,i.PH)("setArUsersIdSortFilter"),le=(0,i.PH)("setFilterByReport"),ce=(0,i.PH)("receivePepReportDetailByDay"),de=(0,i.PH)("setLoadingPepReportDetailByDay"),ue=(0,i.PH)("setLoadingPepReportByDayExcel"),pe=(0,i.PH)("setPepReportDetailByDayFilters"),he=(0,i.PH)("setDayGraphReportFilter"),fe=(0,f.jsx)(s.Z,{id:"Notifications.failedToCreateReport",defaultMessage:[{type:0,value:"Не удалось создать отчет."}]}),me=(0,f.jsx)(s.Z,{id:"Notifications.failedToUpdateReport",defaultMessage:[{type:0,value:"Не удалось обновить отчет."}]}),ve=(0,f.jsx)(s.Z,{id:"Notifications.failedToDeleteReport",defaultMessage:[{type:0,value:"Не удалось удалить отчет."}]}),ye=(0,f.jsx)(s.Z,{id:"Notifications.failedToImportTemplate",defaultMessage:[{type:0,value:"Не удалось импортировать шаблон."}]});function ge(e,t){return function(){var r=b((function*(r){try{var i=yield(0,a.getReportData)(e);r(M(v(v({},i),{},{isScheduleTableByUserZoneEnabled:t}))),n.T.success()}catch(e){console.error("fetchGraphReportData = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function be(e,t){return function(){var r=b((function*(r){try{var i=yield(0,a.getReportData)(e);r(q(i)),"function"==typeof t&&t()}catch(e){console.error("fetchDayGraphReportData = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function je(e){var{groupId:t,from:r,to:i}=e;return function(){var e=b((function*(e){try{e((0,a.setGroupScheduleLoading)(!0));var{response:s}=yield(0,l.t9)("user-schedule/read-details-by-group",{groupId:t,from:r,to:i});e(F({groupId:t,from:r,to:i,data:s})),n.T.success()}catch(e){console.error("fetchDayGraphReportGroupSchedule = ",e),(0,o.x)(e)}finally{e((0,a.setGroupScheduleLoading)(!1))}}));return function(t){return e.apply(this,arguments)}}()}function xe(e){return b((function*(){try{var{from:t,to:r,userIds:i,groupId:s}=e,n={from:t,to:(0,p.b7)((0,p.Om)(r)),userIds:i,groupId:s};yield(0,l.ZP)("POST","excel/schedule-report",n).then((e=>e.blob())).then((e=>{(0,d.s)(e,"schedule-report.xlsx")}))}catch(e){console.error("getExcelByUsers e: ",e),(0,o.x)(e)}}))}function Se(e){return b((function*(){try{var{from:t,to:r,userIds:i,groupId:s}=e,n={from:t,to:r,userIds:i,groupId:s};yield(0,l.ZP)("POST","excel/activity-upload-report",n).then((e=>e.blob())).then((e=>{(0,d.s)(e,"schedule-report.csv")}))}catch(e){console.error("getCsvByUsers e: ",e),(0,o.x)(e)}}))}function Oe(e){return function(){var t=b((function*(t){try{u.ZP.set(j,e),t(te(e))}catch(e){console.error(j+" error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Pe(){return function(){var e=b((function*(e){try{var t=u.ZP.get(j,h.g);e(ne(t))}catch(e){console.error(j+" error = ",e),(0,o.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function we(e){return function(){var t=b((function*(t){try{var r=yield(0,l.ZP)("POST","report/read-by-group",e),i=yield r.json();t(x(i.response))}catch(e){console.error(e),(0,o.x)(e),t(x([]))}}));return function(e){return t.apply(this,arguments)}}()}function Ce(e,t){return function(){var r=b((function*(r){return(0,l.t9)("report/create",e).then((i=>{r(S(v(v({},e),{},{id:i.response.id}))),n.T.success((0,f.jsx)(s.Z,{id:"Notifications.reportCreated",defaultMessage:[{type:0,value:"Отчет создан."}]})),"function"==typeof t&&t(v(v({},e),{},{id:i.response.id}))})).catch((e=>{console.error("createReport error = ",e),(0,o.x)(e,fe)}))}));return function(e){return r.apply(this,arguments)}}()}function ke(e,t){return function(){var r=b((function*(r){try{var i=yield(0,l.ZP)("POST","report/update",e),a=yield i.json();a&&a.success?("function"==typeof t&&t(),n.T.success((0,f.jsx)(s.Z,{id:"Notifications.reportUpdated",defaultMessage:[{type:0,value:"Отчет обновлен."}]}))):(0,o.x)(null,me),r(O(e))}catch(e){console.error(e),(0,o.x)(e,me)}}));return function(e){return r.apply(this,arguments)}}()}function Te(e){return function(){var t=b((function*(t){try{var r=yield(0,l.ZP)("POST","report/delete",{id:e});yield r.json(),t(P({id:e})),n.T.success((0,f.jsx)(s.Z,{id:"Notifications.reportDeleted",defaultMessage:[{type:0,value:"Отчет удален."}]}))}catch(e){console.error(e),(0,o.x)(e,ve)}}));return function(e){return t.apply(this,arguments)}}()}function Ne(e){return function(){var t=b((function*(t){t(R({scheduleLoading:!0}));try{var r=yield(0,l.ZP)("POST","report/execute",e),i=yield r.json();t(w(v(v({},i.response),{},{id:e.reportId})))}catch(e){console.error("executeReport error = ",e),(0,o.x)(e)}finally{t(R({scheduleLoading:!1}))}}));return function(e){return t.apply(this,arguments)}}()}function Re(e){return b((function*(){try{var t=yield(0,l.ZP)("POST","report/export",e),r=document.createElement("a");r.href=window.URL.createObjectURL(yield t.blob(),{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8;"}),r.download="report.xlsx",r.style.display="none",document.body.append(r),r.click()}catch(e){console.log(e)}}))}function Ee(e){return function(){var t=b((function*(t){return(0,l.t9)("operator/read-report-group",e).then((e=>t(W(e.response))))}));return function(e){return t.apply(this,arguments)}}()}function De(e){return function(){var t=b((function*(t){try{t(U([]));var{response:r,success:i}=yield(0,l.t9)("user-schedule/read-details-with-punctuality-by-group",e);i&&t(U(r)),n.T.success()}catch(e){(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ae(e){return function(){var t=b((function*(t){t(Y());try{var r=yield Promise.all([(0,l.t9)("operator/read-by-group-and-period",e),(0,l.t9)("user-schedule/read-punctuality-table-by-group",e)]);if(r){var i={},s=r[0].response,a=r[1].response,c=new Map;i.byDate=a,Object.entries(a).forEach((e=>{var[t,r]=e;t&&Object.entries(r).forEach((e=>{var[r,i]=e;if(r){var s=i,n=c.get(r);n?n[t]=s:c.set(r,{[t]:s})}}))})),s.forEach((e=>{var t=c.get(e.id);t&&(t.user=e)})),i.byUser=Array.from(c).map((e=>e[1])),t(V(i)),n.T.success()}}catch(e){console.error("fetchGroupPeriodPunctualityData: ",e),t(z(e)),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Me(e){return function(){var t=b((function*(t){try{var r=yield(0,l.ZP)("POST","timesheet/report",e),i=yield r.json();t(E(i.response))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return function(){var t=b((function*(t){t(I(!0));try{var{response:r,success:i}=yield(0,l.t9)("pep/report-by-group",e);i&&t(ie(r))}catch(e){console.log(e)}finally{t(I(!1))}}));return function(e){return t.apply(this,arguments)}}()}function Ze(e){return function(){var t=b((function*(t){t(de(!0));try{var{response:r,success:i}=yield(0,l.t9)("pep/report-detail-by-day",e);i&&t(ce(null==r?void 0:r.childrenReportList))}catch(e){(0,o.x)(e),console.log("fetchPepReportDetailByDay error = ",e)}finally{t(de(!1))}}));return function(e){return t.apply(this,arguments)}}()}function qe(){return e=>{e(N())}}function Fe(e){return b((function*(){try{yield(0,l.ZP)("POST","timesheet/report/excel",e).then((e=>e.blob())).then((e=>{(0,d.s)(e,"t13Report.xls")}))}catch(e){console.log(e)}}))}function Le(e){return b((function*(){try{yield(0,l.t9)("timesheet/template-upload",e),n.T.success()}catch(e){console.error("importTemplate error: ",e),(0,o.x)(e,ye)}}))}function He(e,t){e(X(t))}function _e(e){return function(){var t=b((function*(t){He(t,!0),yield(0,l.t9)("accounting/report-for-manager",e).then((e=>{t(K(e.response)),n.T.success(),He(t,!1)})).catch((e=>{He(t,!1),(0,o.x)(e),console.log(e)}))}));return function(e){return t.apply(this,arguments)}}()}function Be(e){return b((function*(){try{var t=yield(0,l.ZP)("POST","accounting/accounting-report-excel",e),r=yield t.blob();(0,d.s)(r,"accounting-report.xlsx")}catch(e){console.error("accountingReportDownloadExcel: ",e)}}))}function Ge(e){return b((function*(){try{var t=yield(0,l.ZP)("POST","punctuality/detail/report/excel",e),r=yield t.blob();(0,d.s)(r,"punctuality-report.xlsx")}catch(e){console.error("punctualityDetailReportDownloadExcel: ",e)}}))}function We(e){return function(){var t=b((function*(t){t(Z(!0));try{var r=yield(0,l.ZP)("POST","pep/report-by-group/excel",e),i=yield r.blob();(0,d.s)(i,"pep-report.xlsx")}catch(e){console.error("pepReportDownloadExcel: ",e)}finally{t(Z(!1))}}));return function(e){return t.apply(this,arguments)}}()}function Ue(e){return function(){var t=b((function*(t){t(ue(!0));try{var r=yield(0,l.ZP)("POST","pep/report-detail-by-day/excel",e),i=yield r.blob();(0,d.s)(i,"pep-report.xlsx")}catch(e){console.error("pepReportByDayDownloadExcel: ",e),(0,o.x)(e)}finally{t(ue(!1))}}));return function(e){return t.apply(this,arguments)}}()}function Ve(e){return function(){var t=b((function*(t){t(ue(!0));try{var r=yield(0,l.ZP)("POST","pep/report-detail-by-month/excel",e),i=yield r.blob();(0,d.s)(i,"pep-report.xlsx")}catch(e){console.error("pepReportByMonthDownloadExcel: ",e),(0,o.x)(e)}finally{t(ue(!1))}}));return function(e){return t.apply(this,arguments)}}()}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=b((function*(t){try{var r={id:e.groupId},i=yield(0,l.ZP)("POST","operator/read-by-group",r),{response:s}=yield i.json(),n=function(e){if((0,c.xb)(e))return e;var t={};return e.forEach((e=>{var{id:r,scheduleSchemeId:i,scheduleSchemeName:s}=e;t[r]={id:r,scheduleSchemeId:i,scheduleSchemeName:s}})),t}(s);t(ae(n))}catch(e){console.error("fetchScheduleSchemeForReport error",e)}}));return function(e){return t.apply(this,arguments)}}()}function Ye(e){return b((function*(){try{var{from:t,to:r,groupId:i}=e,s={from:t,to:r,groupId:i};yield(0,l.ZP)("POST","punctuality/login/report/excel",s).then((e=>e.blob())).then((e=>{(0,d.s)(e,"in-out.xlsx")}))}catch(e){console.error("downloadPunctualityReportInOutExcel = ",e),(0,o.x)(e)}}))}},31149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{downloadScheduleBuildLogExcel:()=>b,fetchScheduleBuildLog:()=>g,receiveScheduleBuildLogData:()=>p,receiveScheduleBuildLogDownloadExcelError:()=>y,receiveScheduleBuildLogError:()=>h,resetScheduleBuildLog:()=>f,setScheduleBuildLogDownloadExcelLoading:()=>m,setScheduleBuildLogLoading:()=>u,setScheduleBuildLogPeriod:()=>d,successScheduleBuildLogDownloadExcel:()=>v});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(69301);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("setScheduleBuildLogPeriod"),u=(0,i.PH)("setScheduleBuildLogLoading"),p=(0,i.PH)("receiveScheduleBuildLogData"),h=(0,i.PH)("receiveScheduleBuildLogError"),f=(0,i.PH)("resetScheduleBuildLog"),m=(0,i.PH)("setScheduleBuildLogDownloadExcelLoading"),v=(0,i.PH)("successScheduleBuildLogDownloadExcel"),y=(0,i.PH)("receiveScheduleBuildLogDownloadExcelError"),g=e=>{var{from:t,to:r}=e;return function(){var e=c((function*(e){e(u());try{var{response:i,success:o,error:l}=yield(0,n.t9)("user-schedule/generate/log",{from:t,to:r});o?(e(p(i)),s.T.success()):(e(h(l.message)),(0,a.x)(l))}catch(l){e(h(l.message)),(0,a.x)(l)}}));return function(t){return e.apply(this,arguments)}}()},b=e=>{var{from:t,to:r}=e;return function(){var e=c((function*(e){e(m());try{var i=yield(0,n.ZP)("POST","user-schedule/generate/log/excel",{from:t,to:r}),s=yield i.blob();(0,o.s)(s,"schedule-log.xlsx")}catch(t){e(y(t.message)),(0,a.x)(t)}finally{e(v())}}));return function(t){return e.apply(this,arguments)}}()}},64463:(e,t,r)=>{"use strict";r.d(t,{V:()=>n,g:()=>a});var i=r(11034),s=r(90408),n=e=>[{component:i.Z,name:s.KS,label:e.formatMessage(s.Zp),disable:!0,hidden:!0},{component:i.Z,name:s.Sc,label:e.formatMessage(s.G)},{component:i.Z,name:s.Lg,label:e.formatMessage(s.f1)},{component:i.Z,name:s.jM,label:e.formatMessage(s.QK)},{component:i.Z,name:s._$,label:e.formatMessage(s.D7)}],a={[s.Sc]:!0,[s.KS]:!0,[s.Lg]:!0,[s._$]:!0,[s.jM]:!0}},90408:(e,t,r)=>{"use strict";r.d(t,{_$:()=>q,D7:()=>B,Sc:()=>A,G:()=>L,jM:()=>I,QK:()=>G,KS:()=>M,Zp:()=>H,Lg:()=>Z,f1:()=>_,EL:()=>W});var i=r(44012),s=r(30381),n=r.n(s),a=r(90794),o=r(69554),l=r(65227),c=r(50362),d=r(35667),u=r(45697),p=r.n(u),h=r(19618),f=r(85893),m=e=>{var{index:t}=e;return(0,f.jsx)("div",{className:h.Z.cell,children:t+1})};m.propTypes={index:p().number.isRequired};const v=m;var y=r(67294),g=r(94184),b=r.n(g),j=r(48994),x=r(50527);class S extends y.Component{render(){var{dayStartMoment:e,dayColumnWidth:t}=this.props,r=(0,l.zO)(l.vc)===e.format(l.vc),i=6===e.day()||0===e.day(),s=JSON.parse(localStorage.getItem(x.H2)),n=b()("flex-container","flex-container_centered","text-align_left",{"context-color_now":r});return(0,f.jsxs)("div",{style:{width:t,fontWeight:i?"bold":"initial"},className:n,onClick:this.handleClick,onContextMenu:e=>e.preventDefault(),children:[(0,f.jsx)("div",{children:(0,j.kC)(e.format("ddd."))}),(0,f.jsx)("div",{children:"en"===s.value?e.format("MM/DD"):e.format(l.pz)})]})}}S.propTypes={dayStartMoment:p().object.isRequired,dayColumnWidth:p().number.isRequired};const O=S;var P=r(47441),w=r(22350),C=r(47945),k=e=>{var{cellData:{color:t,period:r},cellData:i}=e;if((0,d.xb)(i))return(0,f.jsx)("div",{className:h.Z.cellTime});var s={backgroundColor:t},n=r.split("-"),a=1===n.length,o=(0,w._T)(t),l=b()(h.Z.cellTime,{[h.Z.darkText]:!o}),c=b()({[h.Z.acronymContainer]:a});return(0,f.jsx)("div",{style:s,className:l,children:i.acronym?(0,f.jsx)("div",{className:h.Z.acronymContainer,children:i.acronym}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:c,children:[n[0],n[1]&&" ..."]}),(0,f.jsx)("div",{children:n[1]})]})})};k.defaultProps={cellData:{acronym:"",color:"",dayStart:"",firstActivityStart:"",lastActivityEnd:"",period:"",userId:""}},k.propTypes={cellData:p().shape({acronym:p().oneOfType([p().string,p().any]),color:p().string,dayStart:C.yb,firstActivityStart:C.yb,lastActivityEnd:C.yb,period:p().string,userId:p().string})};const T=k;var N=e=>{var{text:t}=e;return(0,f.jsx)("div",{className:h.Z.cell,title:t,children:(0,f.jsx)("div",{className:"text-ellipsis",children:t})})};N.propTypes={text:p().string.isRequired};const R=N;var E=e=>{var{userPosition:t}=e;return(0,f.jsx)("div",{title:t,className:h.Z.cell,children:(0,f.jsx)("div",{className:"text-ellipsis",children:(0,f.jsx)("span",{children:t})})})};E.propTypes={userPosition:p().string},E.defaultProps={userPosition:""};const D=E;var A="number",M="userFullName",I="scheduleSchemes",Z="userPosition",q="acquainted",F={[A]:(0,f.jsx)(i.Z,{id:"PanelWorkSchedule.acquainted",defaultMessage:[{type:0,value:"Номер"}]}),[M]:(0,f.jsx)(i.Z,{id:"PanelWorkSchedule.name",defaultMessage:[{type:0,value:"ФИО"}]}),[Z]:(0,f.jsx)(i.Z,{id:"PanelWorkSchedule.position",defaultMessage:[{type:0,value:"Должность"}]}),[q]:(0,f.jsx)(i.Z,{id:"PanelWorkSchedule.signature",defaultMessage:[{type:0,value:"Ознакомлен(а)"}]}),[I]:(0,f.jsx)(i.Z,{id:"PanelWorkSchedule.scheme",defaultMessage:[{type:0,value:"Схема"}]})},L={id:"PanelWorkSchedule.acquainted",defaultMessage:"Номер"},H={id:"PanelWorkSchedule.name",defaultMessage:"ФИО"},_={id:"PanelWorkSchedule.position",defaultMessage:"Должность"},B={id:"PanelWorkSchedule.signature",defaultMessage:"Ознакомлен(а)"},G={id:"PanelWorkSchedule.scheme",defaultMessage:"Схема"},W=e=>{var{from:t,to:r,settingCells:i}=e,s=(e=>{var{from:t,to:r}=e,i=[],s=n()(t,l._E).startOf("d"),o=n()(r,l._E).add(1,"d").diff(s,"days");return[...Array(o)].forEach(((e,t)=>{var r=s.clone().add(t,"d").startOf("d");i.push(new a.Z({width:60,hasTitle:!1,key:r.format(l.vc),headerClassName:h.Z.header,renderHeader:()=>(0,f.jsx)(O,{dayStartMoment:r,dayColumnWidth:P.Cq}),label:r.format(l.pz),renderCell:e=>{var t=r.format(l.vc);return(0,f.jsx)(T,{date:t,cellData:e[t]})}}))})),i})({from:t,to:r}),u=[new a.Z({key:A,headerClassName:h.Z.header,width:40,hasTitle:!1,fixed:!0,renderHeader:()=>(0,f.jsx)("div",{children:"№"}),renderCell:(e,t)=>(0,f.jsx)(v,{index:t})}),new a.Z({key:M,width:200,headerClassName:h.Z.header,fixed:!0,hasTitle:!1,filterable:!0,sortable:!0,label:F[M],renderCell:e=>{var t=e.userFullName;return(0,f.jsx)("div",{className:h.Z.cell,title:t,children:(0,f.jsx)("div",{className:"text-ellipsis",children:t})})}}),new a.Z({key:Z,headerClassName:h.Z.header,width:150,fixed:!0,filterable:!0,hasTitle:!1,sortable:!0,label:F[Z],renderCell:e=>(0,f.jsx)(D,{userPosition:e.userPosition})}),new a.Z({key:I,width:150,headerClassName:h.Z.header,fixed:!0,filterable:!0,hasTitle:!1,sortable:!0,label:F[I],filterComponent:o.Z,getValue:e=>e.scheduleSchemes.map((e=>(0,d.xb)(e)?"":e.name.trim())),renderCell:e=>{var t=e.scheduleSchemes.reduce(((e,t)=>[...e,(0,c.Tq)(t,"name")]),[]).join(", ");return(0,f.jsx)(R,{text:t})}})],p=[new a.Z({key:q,headerClassName:h.Z.header,width:150,label:F[q],renderCell:()=>(0,f.jsx)("div",{className:h.Z.cellSign})})];return[...u.filter((e=>i[e.key])),...s,...p.filter((e=>i[e.key]))]}},47441:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>n,KM:()=>a,qI:()=>o,wG:()=>l});var i=r(30381),s=r.n(i),n=60,a=e=>[{id:0,name:e({id:"MonthSelect.january",defaultMessage:[{type:0,value:"Январь"}]})},{id:1,name:e({id:"MonthSelect.february",defaultMessage:[{type:0,value:"Февраль"}]})},{id:2,name:e({id:"MonthSelect.march",defaultMessage:[{type:0,value:"Март"}]})},{id:3,name:e({id:"MonthSelect.april",defaultMessage:[{type:0,value:"Апрель"}]})},{id:4,name:e({id:"MonthSelect.may",defaultMessage:[{type:0,value:"Май"}]})},{id:5,name:e({id:"MonthSelect.june",defaultMessage:[{type:0,value:"Июнь"}]})},{id:6,name:e({id:"MonthSelect.july",defaultMessage:[{type:0,value:"Июль"}]})},{id:7,name:e({id:"MonthSelect.august",defaultMessage:[{type:0,value:"Август"}]})},{id:8,name:e({id:"MonthSelect.september",defaultMessage:[{type:0,value:"Сентябрь"}]})},{id:9,name:e({id:"MonthSelect.october",defaultMessage:[{type:0,value:"Октябрь"}]})},{id:10,name:e({id:"MonthSelect.november",defaultMessage:[{type:0,value:"Ноябрь"}]})},{id:11,name:e({id:"MonthSelect.december",defaultMessage:[{type:0,value:"Декабрь"}]})}],o=e=>({0:e({id:"MonthSelect.january",defaultMessage:[{type:0,value:"Январь"}]}),1:e({id:"MonthSelect.february",defaultMessage:[{type:0,value:"Февраль"}]}),2:e({id:"MonthSelect.march",defaultMessage:[{type:0,value:"Март"}]}),3:e({id:"MonthSelect.april",defaultMessage:[{type:0,value:"Апрель"}]}),4:e({id:"MonthSelect.may",defaultMessage:[{type:0,value:"Май"}]}),5:e({id:"MonthSelect.june",defaultMessage:[{type:0,value:"Июнь"}]}),6:e({id:"MonthSelect.july",defaultMessage:[{type:0,value:"Июль"}]}),7:e({id:"MonthSelect.august",defaultMessage:[{type:0,value:"Август"}]}),8:e({id:"MonthSelect.september",defaultMessage:[{type:0,value:"Сентябрь"}]}),9:e({id:"MonthSelect.october",defaultMessage:[{type:0,value:"Октябрь"}]}),10:e({id:"MonthSelect.november",defaultMessage:[{type:0,value:"Ноябрь"}]}),11:e({id:"MonthSelect.december",defaultMessage:[{type:0,value:"Декабрь"}]})}),l=e=>{for(var t=[],r=(e||s()().year())-5,i=r;i<=r+10;i++)t.push(i);return(e=>e.map((e=>({id:e,name:String(e)}))))(t)}},46547:(e,t,r)=>{"use strict";r.d(t,{Al:()=>y,JS:()=>h,MX:()=>v,Pi:()=>j,Q9:()=>b,U3:()=>x,_P:()=>f,dK:()=>c,dm:()=>p,fn:()=>l,o7:()=>g,ro:()=>u,x9:()=>d});var i=r(44012),s=r(60119),n=r(50362),a=r(55635),o=r(85893),l=(0,o.jsx)(i.Z,{id:"Reports.t13",defaultMessage:[{type:0,value:"Табель учета рабочего времени (Т-13)"}]}),c=(0,o.jsx)(i.Z,{id:"Reports.workSchedule",defaultMessage:[{type:0,value:"График рабочего времени"}]}),d=(0,o.jsx)(i.Z,{id:"Reports.punctualityReport",defaultMessage:[{type:0,value:"Пунктуальность за сутки"}]}),u=(0,o.jsx)(i.Z,{id:"Reports.periodPunctualityReport",defaultMessage:[{type:0,value:"Общая пунктуальность"}]}),p=(0,o.jsx)(i.Z,{id:"Reports.scheduleCards",defaultMessage:[{type:0,value:"Карточки расписания сотрудников"}]}),h=(0,o.jsx)(i.Z,{id:"Reports.workScheduleDay",defaultMessage:[{type:0,value:"График рабочего времени (сутки)"}]}),f=(0,o.jsx)(i.Z,{id:"Reports.accounting",defaultMessage:[{type:0,value:"Расчет заработной платы"}]}),m=(0,o.jsx)(i.Z,{id:"Reports.planFactReport",defaultMessage:[{type:0,value:"План/Факт PEP"}]}),v=(0,o.jsx)(i.Z,{id:"WorkScheduleEmployee.Title",defaultMessage:[{type:0,value:"Рабочий график сотрудников"}]}),y=(0,o.jsx)(i.Z,{id:"Reports.overworkReport",defaultMessage:[{type:0,value:"Отклонения от нормы часов"}]}),g=(0,o.jsx)(i.Z,{id:"Reports.scheduleBuildLog",defaultMessage:[{type:0,value:"Журнал построения расписания"}]}),b=(0,o.jsx)(i.Z,{id:"Reports.licenses",defaultMessage:[{type:0,value:"Лицензии"}]}),j=(e,t)=>{var{t13reportAvailable:r,dayGraphReportAvailableOld:i,reportsScheduleCardsAvailable:s,dayGraphReportAvailable:n,isScheduleSaveSettingsEnable:o,isVisibleReportWorkSchedule:j,isOverworkReportAvailable:x,isShowSalarySettings:S}=e;return[{url:"/reports/main/graph",title:c,available:i.value},{url:"/reports/main/day-graph",title:h,available:n.value},{url:"/reports/main/schedule-cards",title:p,available:s.value},{url:"/reports/main/punctuality",title:d,available:!0},{url:"/reports/main/period-punctuality",title:u,available:!0},{url:"/reports/main/overwork",title:y,available:x.value},{url:"/reports/main/plan-fact",title:m,available:o.value&&"true"===t.IS_SCHEDULE_VERSIONING_ENABLE},{url:"/reports/main/work-schedule",title:v,available:j.value},{url:"/reports/main/accounting",title:f,available:S.value&&"true"===t[a.dv]},{url:"/reports/main/t13",title:l,available:r.value},{url:"/reports/main/schedule-log",title:g,available:!0},{url:"/reports/main/licenses",title:b,available:!0}]},x=(e,t)=>{var{schedules:r,users:i}=t,a=i.reduce(((e,t)=>(e[t.id]={activities:null,userId:t.id,userName:(0,s.oo)(t.namePeriod),userFullName:(0,s.Pp)(t.namePeriod),userPosition:(0,n.Tq)(t.positionPeriod,"name"),scheduleSchemes:t.schemePeriods,positionPeriods:t.positionPeriods,namePeriods:t.namePeriods},e)),{});return r.rows.forEach((e=>{e.cells.forEach((e=>{a[e.userId]&&(a[e.userId][e.day]=e)}))})),a}},90559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(97779),s=r(81978),n=r(30381),a=r.n(n),o=r(65227),l=r(19233),c=r(20524),d=r(31149),u=r(91896),p=()=>{var e=a()().format("YYYY-MM");return{from:e,to:e}},h=()=>{var e=a()().format(o.vc);return{from:e,to:e}},f=(0,i.combineReducers)({period:(0,s.Lq)({[l.setOverworkReportPeriod]:(e,t)=>t,[l.resetOverworkReport]:()=>p()},p()),status:(0,s.Lq)({[l.setOverworkReportLoading]:()=>c.Z.loading,[l.receiveOverworkReportData]:()=>c.Z.succeeded,[l.receiveOverworkReportError]:()=>c.Z.failed,[l.resetOverworkReport]:()=>c.Z.idle},c.Z.idle),error:(0,s.Lq)({[l.receiveOverworkReportError]:(e,t)=>t,[l.receiveOverworkReportData]:()=>null,[l.resetOverworkReport]:()=>null},null),data:(0,s.Lq)({[l.receiveOverworkReportData]:(e,t)=>t.reportData||null,[l.resetOverworkReport]:()=>null},null),downloadExcelStatus:(0,s.Lq)({[l.setOverworkReportDownloadExcelLoading]:()=>c.Z.loading,[l.successOverworkReportDownloadExcel]:()=>c.Z.succeeded},c.Z.idle),downloadExcelError:(0,s.Lq)({[l.receiveOverworkReportDownloadExcelError]:(e,t)=>t},null)}),m=(0,i.combineReducers)({period:(0,s.Lq)({[d.setScheduleBuildLogPeriod]:(e,t)=>t,[d.resetScheduleBuildLog]:()=>h()},h()),status:(0,s.Lq)({[d.setScheduleBuildLogLoading]:()=>c.Z.loading,[d.receiveScheduleBuildLogData]:()=>c.Z.succeeded,[d.receiveScheduleBuildLogError]:()=>c.Z.failed,[d.resetScheduleBuildLog]:()=>c.Z.idle},c.Z.idle),error:(0,s.Lq)({[d.receiveScheduleBuildLogError]:(e,t)=>t,[d.receiveScheduleBuildLogData]:()=>null,[d.resetScheduleBuildLog]:()=>null},null),data:(0,s.Lq)({[d.receiveScheduleBuildLogData]:(e,t)=>t.logs||null,[d.resetScheduleBuildLog]:()=>null},[]),downloadExcelStatus:(0,s.Lq)({[d.setScheduleBuildLogDownloadExcelLoading]:()=>c.Z.loading,[d.successScheduleBuildLogDownloadExcel]:()=>c.Z.succeeded},c.Z.idle),downloadExcelError:(0,s.Lq)({[d.receiveScheduleBuildLogDownloadExcelError]:(e,t)=>t},null)}),v=(0,i.combineReducers)({period:(0,s.Lq)({[u.setPeriod]:(e,t)=>t,[u.resetLicensesReport]:()=>h()},h()),status:(0,s.Lq)({[u.setLoading]:()=>c.Z.loading,[u.receiveData]:()=>c.Z.succeeded,[u.receiveError]:()=>c.Z.failed,[u.resetLicensesReport]:()=>c.Z.idle},c.Z.idle),error:(0,s.Lq)({[u.receiveError]:(e,t)=>t,[u.receiveData]:()=>null,[u.resetLicensesReport]:()=>null},null),data:(0,s.Lq)({[u.receiveData]:(e,t)=>t,[u.resetLicensesReport]:()=>null},[]),downloadExcelStatus:(0,s.Lq)({[u.setDownloadExcelLoading]:()=>c.Z.loading,[u.successDownloadExcelLoading]:()=>c.Z.succeeded,[u.resetLicensesReport]:()=>c.Z.idle},c.Z.idle),downloadExcelError:(0,s.Lq)({[u.receiveDownloadExcelError]:(e,t)=>t,[u.resetLicensesReport]:()=>null},null)});const y=(0,i.combineReducers)({overworkReport:f,scheduleBuildLog:m,licensesReport:v})},10915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ne});var i=r(81978),s=r(97779),n=r(30381),a=r.n(n),o=r(48318),l=r(63926),c=r(65227),d=r(49906),u=r(20524),p=r(46547);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=a()().startOf("month").format(c._E),y=a()().endOf("month").format(c._E),g=a()().subtract(1,"month").format(c.ch),[b,j]=(0,c.ae)(v,y),x={from:b,to:j},S=new Intl.Collator,O=(0,i.Lq)({[d.loadReports]:(e,t)=>t.sort(((e,t)=>S.compare(e.name,t.name)))||[],[d.addReport]:(e,t)=>[t,...e].sort(((e,t)=>S.compare(e.name,t.name))),[d.removeReport]:(e,t)=>e.filter((e=>e.id!==t.id)),[d.updateReport]:(e,t)=>{var r=e.find((e=>e.id===t.id)),i=e.indexOf(r);return[...e.slice(0,i),t,...e.slice(i+1)].sort(((e,t)=>S.compare(e.name,t.name)))}},[]),P=(0,i.Lq)({[d.accountinReportIsLoading]:(e,t)=>t},!1),w=(0,i.Lq)({[d.accountingReportDataFetched]:(e,t)=>t},{}),C=(0,i.Lq)({[d.t13ReportDataFetched]:(e,t)=>t},{}),k=(0,i.Lq)({[d.workHoursReportDataFetched]:(e,t)=>t},[]),T=(0,i.Lq)({[d.groupPunctualityDataFetched]:(e,t)=>t.map((e=>((0,l.o)(e,!1),e)))},[]),N=(0,s.combineReducers)({status:(0,i.Lq)({[d.setPeriodGroupPunctualityLoading]:()=>u.Z.loading,[d.periodGroupPunctualityDataFetched]:()=>u.Z.succeeded,[d.periodGroupPunctualityError]:()=>u.Z.failed,[d.resetPeriodGroupPunctualityData]:()=>u.Z.idle},u.Z.idle),error:(0,i.Lq)({[d.periodGroupPunctualityError]:(e,t)=>t,[d.periodGroupPunctualityDataFetched]:()=>null,[d.resetPeriodGroupPunctualityData]:()=>null},null),data:(0,i.Lq)({[d.periodGroupPunctualityDataFetched]:(e,t)=>t,[d.resetPeriodGroupPunctualityData]:()=>null},{})}),R=(0,i.Lq)({[d.receiveGroupPeriodPunctualityDate]:(e,t)=>t},x),E=(0,i.Lq)({[d.performReport]:(e,t)=>t,[d.clearExecuteForm]:()=>null},null),D=(0,i.Lq)({[d.showPopup]:(e,t)=>t},!1),A=(0,i.Lq)({[d.hideCreateForm]:(e,t)=>t},!1),M=(0,i.Lq)({[d.hideExecuteForm]:(e,t)=>t},!1),I=(0,i.Lq)({[d.scheduleLoadnigAction]:(e,t)=>f(f({},e),t)},!1),Z=(0,i.Lq)({[d.periodWorkSchedule]:(e,t)=>f(f({},e),t)},x),q=(0,i.Lq)({[d.setYearPeriodWorkSchedule]:(e,t)=>t},a()().year()),F=(0,i.Lq)({[d.setMonthPeriodWorkSchedule]:(e,t)=>t},a()().month()),L=(0,i.Lq)({[d.setTableDisplayCells]:(e,t)=>t,[d.setInitTableDisplayCells]:(e,t)=>t},{}),H=(0,i.Lq)({[d.setMapUsersByScheme]:(e,t)=>t},{}),_=(0,i.Lq)({[d.setArUsersIdSortFilter]:(e,t)=>t},[]),B=(0,i.Lq)({[d.setFilterByReport]:(e,t)=>t},{}),G=(0,i.Lq)({[d.setT13ReportDate]:(e,t)=>t},a()()),W=(0,i.Lq)({[d.setGraphReportDate]:(e,t)=>t},x),U=(0,i.Lq)({[d.graphReportDataFetched]:(e,t)=>{var r=(0,p.U3)(e,t);return Object.values(r).sort(((e,t)=>{var r=e.userFullName.trim().toLowerCase().replace(/^ё/,"е"),i=t.userFullName.trim().toLowerCase().replace(/^ё/,"е");return r<i?-1:r>i?1:0}))}},[]),V=(0,i.Lq)({[d.dayGraphReportDataFetched]:p.U3,[d.groupActivitiesDayReport]:o.TT},[]),z=(0,i.Lq)({[d.setGroupPunctualityDate]:(e,t)=>t},a()().startOf("day").format(c._E)),Y=(0,i.Lq)({[d.setDayGraphReportDate]:(e,t)=>t},a()().startOf("day").format(c._E)),Q=(0,i.Lq)({[d.setDayGraphReportFilter]:(e,t)=>t},{}),K=(0,i.Lq)({[d.setGroupPeriodPunctualityDate]:(e,t)=>t},x),X=(0,i.Lq)({[d.setAccountingReportDate]:(e,t)=>t},x),J=(0,i.Lq)({[d.setWorkScheduleEmployeeReportDate]:(e,t)=>t},x),$=(0,i.Lq)({[d.setFactPlanReportDatePeriod]:(e,t)=>t},g),ee=(0,i.Lq)({[d.receiveFactPlanReportData]:(e,t)=>t},{}),te=(0,i.Lq)({[d.setIsLoadingFactPlanReport]:(e,t)=>t},!1),re=(0,i.Lq)({[d.setIsLoadingFactPlanReportExcel]:(e,t)=>t},!1),ie=(0,s.combineReducers)({data:(0,i.Lq)({[d.receivePepReportDetailByDay]:(e,t)=>t},[]),isLoading:(0,i.Lq)({[d.setLoadingPepReportDetailByDay]:(e,t)=>t},!1),isDownloading:(0,i.Lq)({[d.setLoadingPepReportByDayExcel]:(e,t)=>t},!1),filters:(0,i.Lq)({[d.setPepReportDetailByDayFilters]:(e,t)=>t},{})}),se=(0,s.combineReducers)({periodWS:Z,year:q,month:F,cellsSetting:L,mapUserByScheme:H,usersIdSortFiltered:_,filter:B});const ne=(0,s.combineReducers)({reports:O,data:E,factPlanReportDate:$,factPlanReportData:ee,isLoadingFactPlanReport:te,isLoadingFactPlanReportExcel:re,pepReportByDay:ie,showPopupVision:D,scheduleLoadnigAction:I,hideCreateReportForm:A,hideExecuteReportForm:M,t13ReportData:C,t13ReportDate:G,graphReportDate:W,graphReportData:U,groupPunctualityDate:z,groupPeriodPunctualityDate:K,dayGraphReportDate:Y,dayGraphReportData:V,accountingReportDate:X,workScheduleEmployeeReportDate:J,workHoursReportData:k,groupPunctualityReportData:T,groupPeriodPunctualityReport:N,accountingReportData:w,accountingReportIsLoading:P,workSchedule:se,groupPeriodPunctualityReportDate:R,dayGraphReportFilter:Q})},94689:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,s:()=>i});var i="/reports/main",s={workScheduleEmployee:"work-schedule",planFact:"plan-fact"}},80452:(e,t,r)=>{"use strict";r.r(t),r.d(t,{checkRadioButton:()=>d,fetchCharts:()=>p,receiveCharts:()=>c,resetCharts:()=>u,updateUserScheduleInChangeLog:()=>h});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("receiveCharts"),d=(0,i.PH)("checkRadioButton"),u=(0,i.PH)("resetCharts");function p(e){return function(){var t=l((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("logger/read-changes",e);i&&t(c(r))}catch(e){console.error("fetchCharts = ",e),(0,n.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function h(e,t){return l((function*(){try{var{success:r}=yield(0,a.t9)("user-schedule/restore",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("updateUserScheduleInChangeLog error = ",e),(0,n.x)(e)}}))}},6287:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createEvent:()=>m,deleteEvent:()=>v,deleteEventForUser:()=>y,fetchEventsByPeriod:()=>f,getEventsExcel:()=>g,receiveEventsData:()=>u,receiveEventsError:()=>p,resetEvents:()=>h,setEventsLoading:()=>d});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(69301);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("setEventsLoading"),u=(0,i.PH)("receiveEventsData"),p=(0,i.PH)("receiveEventsError"),h=(0,i.PH)("resetEvents"),f=(e,t)=>function(){var r=c((function*(r){try{var{response:i,success:s}=yield(0,a.t9)("events/read-all-by-period",e);s&&(r(u(i)),"function"==typeof t&&t())}catch(e){console.error("fetchEventsByPeriod = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}(),m=(e,t)=>c((function*(){try{var{success:r}=yield(0,a.t9)("events/distribute",e);r&&("function"==typeof t&&t(),s.T.success())}catch(e){console.error("createEvent = ",e),(0,n.x)(e)}})),v=(e,t)=>c((function*(){try{var{success:r}=yield(0,a.t9)("events/withdraw",{id:e});r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("deleteEvent = ",e),(0,n.x)(e)}})),y=(e,t)=>{var{eventId:r,userId:i}=e;return c((function*(){try{var{success:e}=yield(0,a.t9)("events/withdraw-for-user",{eventId:r,userId:i});e&&"function"==typeof t&&t()}catch(e){console.error("deleteEventForUser = ",e),(0,n.x)(e)}}))},g=e=>c((function*(){try{yield(0,a.ZP)("POST","events/report/excel",{ids:e}).then((e=>e.blob())).then((e=>{s.T.success(),(0,o.s)(e,"events-report.xlsx")}))}catch(e){console.error("getEventsExcel =  ",e),(0,n.x)(e)}}))},78340:(e,t,r)=>{"use strict";r.r(t),r.d(t,{approveLaborCodeViolation:()=>ct,checkRecalculatedFte:()=>Tr,checkRecalculatedOffices:()=>Nr,checkSeatsCall:()=>C,checkUnsavedChanges:()=>_t,chooseTypeUserSchedule:()=>nr,clearCheckedOptimizeDays:()=>bt,clearDay:()=>q,clearFilter:()=>be,clearOfficeSeatsLabels:()=>Qe,clearPrevActivities:()=>ut,clearScheduleSelectedCheckboxes:()=>wt,clearStatistics:()=>Ue,closeDetailsPopup:()=>me,closePopup:()=>A,copiedDay:()=>Z,copyActivities:()=>vr,copyShifts:()=>wr,createAllLaborCodeViolationLogs:()=>cr,deleteLaborCodeViolationsItem:()=>dt,deleteShifts:()=>Pr,employeesFetchSuccess:()=>Ee,fetchADay:()=>mr,fetchAllDistinctGroupSkills:()=>N,fetchAllDistinctGroupTemplates:()=>R,fetchBalancerStatsByUserIds:()=>ir,fetchGraphData:()=>rr,fetchGroupSchedule:()=>fr,fetchGroupSkills:()=>zt,fetchHiredEmployeesByGroupAndPeriod:()=>Kt,fetchLaborCodeViolationsByGroup:()=>dr,fetchLaborCodeViolationsByUser:()=>ur,fetchLaborCodeViolationsByUsers:()=>pr,fetchOfficeSeats:()=>Rr,fetchPunctualityByPeriod:()=>br,fetchPunctualityReport:()=>gr,fetchQueueErlangBySkillsCount:()=>Ut,fetchSLForecastsByArray:()=>Wt,fetchStatisticsByMultiSkill:()=>Vt,fetchSubstitutes:()=>jr,fetchSubstitutesByUserId:()=>xr,fetchUserSchedule:()=>or,fetchUserScheduleInDayPage:()=>lr,finishUpdatingData:()=>Fe,forecastsFetched:()=>G,generateAllCheckedCheckboxes:()=>Pt,getBalancerStats:()=>Jt,getReportData:()=>$t,getScheduleTableByUsers:()=>Cr,getUsers:()=>Qt,graphDataFetched:()=>T,ignoreUserInFilter:()=>je,importSchedule:()=>kr,intervalOnChanged:()=>k,isGraphDataLoading:()=>ie,isLoadingPublishByGroup:()=>se,loadADay:()=>E,loadDisplaySettings:()=>Gt,loadPunctualityAction:()=>I,loadPunctualityByGroup:()=>B,loadPunctualityReport:()=>_,manTimeFetched:()=>L,openPopup:()=>D,optimizeForGroup:()=>Or,personGraphGenerating:()=>H,publishByGroup:()=>M,publishSchedule:()=>yr,receiveCommentByUsers:()=>at,receiveDetailGraphData:()=>Y,receiveGroupSkills:()=>U,receiveLCViolationsByUsersData:()=>$e,receiveLCViolationsByUsersError:()=>et,receiveLaborCodeViolationsByGroup:()=>Be,receiveLaborCodeViolationsByUser:()=>_e,receiveOfficeSeatsData:()=>Ye,receiveOfficeSeatsError:()=>Ke,receiveQueueErlangBySkillsCount:()=>Ge,receiveSLForecasts:()=>W,receiveStatisticsByMultiSkill:()=>We,refreshSelectedSkillIds:()=>ht,removeDay:()=>oe,removeEventDay:()=>xt,resetLCViolationsByUsers:()=>tt,resetOfficeSeats:()=>Xe,resetPeriodTableData:()=>Ve,saveDisplaySettings:()=>Bt,selectCell:()=>he,sendEmployeeRequest:()=>Sr,sendOptimizeDays:()=>Er,setActiveGraphPeriod:()=>$,setCheckedDays:()=>ae,setCheckedGraphCellsNumber:()=>Ct,setCheckedOptimizeDays:()=>gt,setComputingType:()=>jt,setCurrentChartIsSum:()=>de,setCurrentChartShowDataLabels:()=>ue,setCurrentChartType:()=>ce,setCurrentDatePeriod:()=>J,setCurrentDayDetail:()=>pe,setCurrentViolationListDatePeriod:()=>ee,setDayPageStart:()=>It,setDetailsStart:()=>ne,setDetailsUserId:()=>le,setDisplaySettings:()=>qt,setFilter:()=>ge,setFilterViolationList:()=>te,setGraphDisplaySettingsOpened:()=>Ft,setGraphTablePaginationPage:()=>Ie,setGraphTablePaginationSize:()=>Me,setGroupScheduleLoading:()=>De,setLCViolationsByUsersLoading:()=>Je,setLaborCodeViolationsDrawerOpen:()=>xe,setLastUpdatedSort:()=>Ae,setMultiFilter:()=>X,setOfficeSeatsLoading:()=>ze,setOpenScheduleBlockConfirm:()=>Tt,setOptimizeType:()=>yt,setOptimizingStatus:()=>re,setPrevLocation:()=>ot,setProhibitChangesStatus:()=>kt,setReportOpenedFromDrawer:()=>Lt,setScheduleBlockFilter:()=>Nt,setSelectAllGraphCells:()=>Ot,setSelectedOfficesIds:()=>ft,setSelectedSkillIds:()=>pt,setSelectorActiveMode:()=>mt,setSelectorModes:()=>vt,setShowDetails:()=>He,setShowDropDown:()=>ve,setShowStatByWeek:()=>ye,setSkillAndOfficeListStatus:()=>St,setSortedByActivitiesDay:()=>Zt,setTableSorters:()=>Ze,setTopContentHeight:()=>we,setUpdatingDataInDetailsBody:()=>Le,setUserDataColumnWidth:()=>Pe,shiftBlockSave:()=>Dr,startUpdatingData:()=>qe,stashTableFilter:()=>Se,storePrevActivities:()=>lt,substitutesFetched:()=>F,successCopyShift:()=>it,successDeleteShift:()=>st,successUserScheduleChooseType:()=>nt,successUserScheduleUpdate:()=>rt,unselectAllCells:()=>fe,updateADayInTable:()=>Q,updateBalancerStatsForUserIds:()=>Ce,updateEmployeeGroupNameInTableData:()=>Te,updateEmployeeNameInTableData:()=>ke,updateEmployeeTimeZoneInTableData:()=>Ne,updateUserInTable:()=>K,updateUserSchedule:()=>sr,userActivitiesFetched:()=>V,userActivitiesWithPunctualityFetched:()=>z,userScheduleInDayPageFetched:()=>Oe,userScheduleUpdateError:()=>Re});var i=r(30381),s=r.n(i),n=r(81978),a=r(44012),o=r(41524),l=r(82028),c=r(88599),d=r(22350),u=r(65227),p=r(30053),h=r(35667),f=r(69355),m=r(88e3),v=r(86162);function y(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function g(){var e;return e=function*(e){return yield(t=1e3,new Promise((e=>setTimeout(e,t)))),{error:null,success:!0,response:e};var t},g=function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){y(n,i,s,a,o,"next",e)}function o(e){y(n,i,s,a,o,"throw",e)}a(void 0)}))},g.apply(this,arguments)}var b=r(85893),j=["groupId"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){P(n,i,s,a,o,"next",e)}function o(e){P(n,i,s,a,o,"throw",e)}a(void 0)}))}}function C(e){return(0,l.t9)("user-schedule/check/seats",e)}var k=(0,n.PH)("intervalOnChanged"),T=(0,n.PH)("graphDataFetched"),N=(0,n.PH)("fetchAllDistinctGroupSkills"),R=(0,n.PH)("fetchAllDistinctGroupTemplates"),E=(0,n.PH)("loadADay"),D=(0,n.PH)("openPopup"),A=(0,n.PH)("closePopup"),M=(0,n.PH)("publishByGroup"),I=(0,n.PH)("loadPunctuality"),Z=(0,n.PH)("copiedDay"),q=(0,n.PH)("clearDay"),F=(0,n.PH)("substitutesFetched"),L=(0,n.PH)("manTimeFetched"),H=(0,n.PH)("personGraphGenerating"),_=(0,n.PH)("loadPunctualityReport"),B=(0,n.PH)("loadPunctualityByGroup"),G=(0,n.PH)("forecastsFetched"),W=(0,n.PH)("receiveSLForecasts"),U=(0,n.PH)("groupQueuesFetched"),V=(0,n.PH)("userActivitiesFetched"),z=(0,n.PH)("userActivitiesWithPunctualityFetched"),Y=(0,n.PH)("receiveDetailGraphData"),Q=(0,n.PH)("updateADayInTable"),K=(0,n.PH)("updateUserInTable"),X=(0,n.PH)("setMultiFilter"),J=(0,n.PH)("setCurrentDatePeriod"),$=(0,n.PH)("setActiveGraphPeriod"),ee=(0,n.PH)("setCurrentViolationListDatePeriod"),te=(0,n.PH)("setFilterViolationList"),re=(0,n.PH)("setOptimizingStatus"),ie=(0,n.PH)("isGraphDataLoading"),se=(0,n.PH)("isLoadingPublishByGroup"),ne=(0,n.PH)("setDetailsStart"),ae=(0,n.PH)("setDetailsStart"),oe=(0,n.PH)("removeDay"),le=(0,n.PH)("setDetailsUserId"),ce=(0,n.PH)("setCurrentChartType"),de=(0,n.PH)("setCurrentChartIsSum"),ue=(0,n.PH)("setCurrentChartShowDataLabels"),pe=(0,n.PH)("setCurrentDayDetail"),he=(0,n.PH)("selectCell"),fe=(0,n.PH)("unselectAllCells"),me=(0,n.PH)("closeDetailsPopup"),ve=(0,n.PH)("setShowDropDown"),ye=(0,n.PH)("setShowStatByWeek"),ge=(0,n.PH)("setFilter"),be=(0,n.PH)("clearFilter"),je=(0,n.PH)("ignoreUserInFilter"),xe=(0,n.PH)("setLaborCodeViolationsDrawerOpen"),Se=(0,n.PH)("stashTableFilter"),Oe=(0,n.PH)("userScheduleInDayPageFetched"),Pe=(0,n.PH)("setUserDataColumnWidth"),we=(0,n.PH)("setTopContentHeight"),Ce=(0,n.PH)("updateBalancerStatsForUserIds"),ke=(0,n.PH)("updateEmployeeNameInTableData"),Te=(0,n.PH)("updateEmployeeGroupNameInTableData"),Ne=(0,n.PH)("updateEmployeeTimeZoneInTableData"),Re=(0,n.PH)("userScheduleUpdateError"),Ee=(0,n.PH)("employeesFetchSuccess"),De=(0,n.PH)("setGroupScheduleLoading"),Ae=(0,n.PH)("setLastUpdatedSort"),Me=(0,n.PH)("setGraphTablePaginationSize"),Ie=(0,n.PH)("setGraphTablePaginationPage"),Ze=(0,n.PH)("setTableSorters"),qe=(0,n.PH)("startUpdatingData"),Fe=(0,n.PH)("finishUpdatingData"),Le=(0,n.PH)("setUpdatingDataInDetailsBody"),He=(0,n.PH)("finishDataUpdate"),_e=(0,n.PH)("receiveLaborCodeViolationsByUser"),Be=(0,n.PH)("receiveLaborCodeViolationsByGroup"),Ge=(0,n.PH)("receiveQueueErlangBySkillsCount"),We=(0,n.PH)("receiveStatisticsByMultiSkill"),Ue=(0,n.PH)("clearStatistics"),Ve=(0,n.PH)("resetPeriodTableData"),ze=(0,n.PH)("setOfficeSeatsLoading"),Ye=(0,n.PH)("receiveOfficeSeatsData"),Qe=(0,n.PH)("clearOfficeSeatsLabels"),Ke=(0,n.PH)("receiveOfficeSeatsError"),Xe=(0,n.PH)("resetOfficeSeats"),Je=(0,n.PH)("setLCViolationsByUsersLoading"),$e=(0,n.PH)("receiveLCViolationsByUsersData"),et=(0,n.PH)("receiveLCViolationsByUsersError"),tt=(0,n.PH)("resetLCViolationsByUsers"),rt=(0,n.PH)("successUserScheduleUpdate"),it=(0,n.PH)("successCopyShift"),st=(0,n.PH)("successDeleteShift"),nt=(0,n.PH)("successUserScheduleChooseType"),at=(0,n.PH)("receiveCommentByUsers"),ot=(0,n.PH)("setPrevLocation"),lt=(0,n.PH)("storePrevActivities"),ct=(0,n.PH)("approveLaborCodeViolation",((e,t)=>({[e]:t}))),dt=(0,n.PH)("deleteLaborCodeViolationsItem"),ut=(0,n.PH)("clearPrevActivities"),pt=(0,n.PH)("setSelectedSkillIds"),ht=(0,n.PH)("refreshSelectedSkillIds"),ft=(0,n.PH)("setSelectedOfficesIds"),mt=(0,n.PH)("setSelectorActiveMode"),vt=(0,n.PH)("setSelectorModes"),yt=(0,n.PH)("setOptimizeType"),gt=(0,n.PH)("setCheckedOptimizeDays"),bt=(0,n.PH)("clearCheckedOptimizeDays"),jt=(0,n.PH)("setComputingType"),xt=(0,n.PH)("removeEventDay"),St=(0,n.PH)("setSkillAndOfficeListStatus"),Ot=(0,n.PH)("setSelectAllGraphCells"),Pt=(0,n.PH)("generateAllCheckedCheckboxes"),wt=(0,n.PH)("clearScheduleSelectedCheckboxes"),Ct=(0,n.PH)("setCheckedGraphCellsNumber"),kt=(0,n.PH)("setProhibitChangesStatus"),Tt=(0,n.PH)("setOpenScheduleBlockConfirm"),Nt=(0,n.PH)("setScheduleBlockFilter"),Rt=(0,b.jsx)(a.Z,{id:"Notifications.scheduleControlBlock",defaultMessage:[{type:0,value:"Изменение расписания заблокировано."}]}),Et=(0,b.jsx)(a.Z,{id:"Notifications.couldNotGetPossibleSubstitutes",defaultMessage:[{type:0,value:"Не удалось получить список возможных замещающих."}]}),Dt=(0,b.jsx)(a.Z,{id:"Notifications.couldNotOptimizeSchedule",defaultMessage:[{type:0,value:"Не удалось оптимизировать расписание"}]}),At=(0,b.jsx)(a.Z,{id:"Graph.DeleteShiftsError",message:"Ошибка при удалении смен"}),Mt=(0,b.jsx)(a.Z,{id:"Graph.CopyShiftsError",message:"Ошибка при копировании смен"}),It=(0,n.PH)("setDayPageStart"),Zt=(0,n.PH)("setSortedByActivitiesDay"),qt=(0,n.PH)("setDisplaySettings"),Ft=(0,n.PH)("setGraphDisplaySettingsOpened"),Lt=(0,n.PH)("setReportOpenedFromDrawer"),Ht={showSchedule:!0};function _t(e){return function(){var t=w((function*(t){try{var r=yield function(e){return(0,l.ZP)("POST","user-schedule/check-publish-by-group",e)}(e),i=yield r.json(),s=!!i.response;i.success&&t(Le(!1)),t(k(s))}catch(e){t(Le(!1)),console.error("checkUnsavedChanges error: ",e)}}));return function(e){return t.apply(this,arguments)}}()}function Bt(e){return t=>{t(qt(e));var r=S(S(S({},Ht),f.ZP.get("Graph.displaySettings",{})),e);f.ZP.set("Graph.displaySettings",r)}}function Gt(){return e=>{var t=f.ZP.get("Graph.displaySettings",Ht);e(qt(t))}}function Wt(e){var{from:t,to:r,aggregation:i,ids:s}=e;return function(){var e=w((function*(e){try{var{response:n,success:a}=yield(0,l.t9)("forecasting/read-sl-by-multi-skill",{from:t,to:r,aggregation:i,ids:s});a&&e(W(n))}catch(e){console.error("fetchSLForecastsByArray error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function Ut(e,t){return function(){var r=w((function*(r){try{var{response:i}=yield(0,l.t9)("queue/erlang-by-skills/count",e);r(Ge(i)),t&&t()}catch(e){console.error("fetchQueueErlangBySkillsCount error =",e)}}));return function(e){return r.apply(this,arguments)}}()}function Vt(e,t){var{from:r,to:i,aggregation:s,ids:n}=e;return function(){var a=w((function*(a){try{var{response:o}=yield(0,l.t9)("forecasting/read-raw-statistics-by-multi-skill",e);a(We({data:o,from:r,to:i,aggregation:s,ids:n})),t&&t()}catch(e){console.error("fetchStatisticsByMultiSkill error =",e)}}));return function(e){return a.apply(this,arguments)}}()}function zt(e){var{groupId:t}=e;return function(){var e=w((function*(e){try{var{response:r}=yield(0,l.t9)("skill/naming/read-by-group",{id:t});e(U({data:r,groupId:t}))}catch(e){console.error("fetchGroupQueues error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function Yt(e){var{from:t,to:r,groupId:i}=e;return(0,l.t9)("user-schedule/read-schedule-table-by-group",{from:t,to:r,groupId:i})}function Qt(e){var{from:t,to:r,groupId:i}=e;return(0,l.t9)("v2/operator/read-all-hired-with-periods",{from:t,to:r,groupId:i})}function Kt(e,t){return function(){var r=w((function*(r){try{var{response:i,success:s}=yield Qt(e);s&&(r(Ee(i)),"function"==typeof t&&t(i))}catch(e){console.error("fetchHiredEmployeesByGroupAndPeriod error: ",e),(0,c.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}var Xt=e=>{var{from:t,to:r,groupId:i,scheduleRows:s}=e;return(0,l.t9)("user-schedule/comment/read-all-by-period",s?{from:t,to:r,groupId:i,userIds:s.map((e=>e.id))}:{from:t,to:r,groupId:i})};function Jt(e){var{from:t,groupId:r}=e,i=(0,u.X5)(t,u._E);return(0,l.t9)("balancer/stats",{from:i,to:i,groupId:r})}function $t(e){return er.apply(this,arguments)}function er(){return(er=w((function*(e){var[t,r]=yield Promise.all([Yt(e),Qt(e)]);return{schedules:t.response,users:r.response,success:t.success&&r.success}}))).apply(this,arguments)}var tr=(e,t,r)=>e.length>0&&1===t.page||r;function rr(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var i=w((function*(i){var{from:s,to:n,groupId:a,userIds:o=[],filter:d,urlParams:u,sortByDay:p}=e;i(ie(!0));try{var h=yield function(e){var{from:t,to:r,groupId:i,filter:s,sortByDay:n,userIds:a=[],urlParams:{page:o,size:c,sortName:d,sortType:u}}=e,p={sortByDay:n,from:t,to:r,groupId:i,filter:s,userIds:a};return n&&"schedule_start"===d||delete p.sortByDay,(0,l.t9)("user-schedule/v2/read-filtered-table?page=".concat(o,"&size=").concat(c,"&sort=").concat(d,",").concat(u),p)}({from:s,to:n,groupId:a,userIds:o,filter:d,urlParams:u,sortByDay:p}),{response:f}=yield Xt(S(S({},e),{},{scheduleRows:h.response.scheduleRows}));if(h.success){var m=tr(d,u,r);i(_t({from:s,to:n,groupId:a})),i(T({response:h.response,isShouldReplaceAllState:m})),i(at(f)),"function"==typeof t&&t(h.response)}}catch(e){console.error("fetchGraphData error: ",e),(0,c.x)(e)}finally{i(ie(!1))}}));return function(e){return i.apply(this,arguments)}}()}function ir(e){var{from:t,userIds:r,groupId:i}=e;return function(){var e=w((function*(e){try{var{response:s}=yield function(e){var{from:t,userIds:r,groupId:i}=e,s=(0,u.X5)(t,u._E);return(0,l.t9)("balancer/stats",{from:s,to:s,groupId:i,userIds:r})}({from:t,userIds:r,groupId:i});e(Ce(s))}catch(e){console.error("fetchBalancerStatsByUserIds error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{userId:r,activities:i,groupId:s}=e,n={groupId:s,scheduleActivities:i.map((e=>({id:e.id,start:e.start,end:e.end,workActivityId:e.workActivityId,userId:r})))};return function(){var e=w((function*(e){e(qe()),e(Le(!0));try{var{success:i}=yield(0,l.t9)("user-schedule/update",n);i&&(e(rt()),t&&(yield t()))}catch(t){e(Le(!1)),e(Re({userId:r})),"access_denied"===t.error?(0,c.x)(t,m.Rk):(0,c.x)(t),console.error("updateUserSchedule error = ",t)}finally{e(Fe())}}));return function(t){return e.apply(this,arguments)}}()}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{userId:r,activities:i,isSeatAccountingEnabled:s,groupId:n}=e,d={groupId:n,scheduleActivities:i.map((e=>({id:e.id,start:e.start,end:e.end,workActivityId:e.workActivityId,userId:r})))};return function(){var e=w((function*(e){e(qe());try{if(s){var{success:i,response:n}=yield C(d);i&&n?(yield(0,l.t9)("user-schedule/choose-type",d),e(nt()),t&&t()):n||o.T.error((0,b.jsx)(a.Z,{id:"Offices.allPlacesAreOccupied",defaultMessage:[{type:0,value:"Все места в офисе на этот период заняты"}]}))}else yield(0,l.t9)("user-schedule/choose-type",d),e(nt()),t&&t()}catch(t){e(Re({userId:r})),(0,c.x)(t,Rt),console.error("chooseTypeUserSchedule error = ",t)}finally{e(Fe())}}));return function(t){return e.apply(this,arguments)}}()}function ar(e,t){var r=t?"user-schedule/read-details-with-punctuality-by-user":"user-schedule/read-details-by-user";return(0,l.t9)(r,e)}function or(e){var{userId:t,groupId:r,from:i,to:s}=e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var e=w((function*(e){var o=n?{userId:t,groupId:r,from:i,to:s}:{userId:t,from:i,to:s};try{var l=yield ar(o,n),d={userId:t,from:i,to:s,data:l.response};e(n?z(d):V(d)),a&&a(l.response)}catch(t){e(Le(!1)),console.error("fetchUserSchedule error: ",t),(0,c.x)(t)}}));return function(t){return e.apply(this,arguments)}}()}function lr(e){var{userId:t,groupId:r,from:i,to:s}=e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return function(){var e=w((function*(e){try{var o=yield ar({userId:t,groupId:r,from:i,to:s},n),l={userId:t,activities:o.response};e(Oe(l)),a&&"function"==typeof a&&a()}catch(e){console.error("fetchUserScheduleInDayPage error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function cr(e,t){return w((function*(){try{var{success:r}=yield(0,l.t9)("labor-code/violation-log/create-all",e);r&&"function"==typeof t&&t()}catch(e){console.error("createAllLaborCodeViolationLogs error: ",e),(0,c.x)(e)}}))}function dr(e){var{from:t,to:r,groupId:i}=e;return function(){var e=w((function*(e){try{var{response:s,success:n}=yield(0,l.t9)("labor-code/violations/checking/by-group",{from:t,to:r,groupId:i});n&&e(Be(s))}catch(e){console.error("fetchLaborCodeViolationsByGroup error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}var ur=e=>{var{from:t,to:r,userId:i}=e;return function(){var e=w((function*(e){try{var{response:s,success:n}=yield(0,l.t9)("labor-code/violations/checking/by-user",{from:t,to:r,userId:i});n&&((0,h.xb)(s)?e(dt(i)):e(_e(s)))}catch(e){console.error("fetchLaborCodeViolationsByUser error: ",e),(0,c.x)(e)}}));return function(t){return e.apply(this,arguments)}}()},pr=e=>{var{from:t,to:r,userIds:i}=e;return function(){var e=w((function*(e){e(Je);try{var{response:s,success:n}=yield(0,l.t9)("labor-code/violations/checking/by-users",{from:t,to:(0,u.iX)(r),userIds:i});n&&e($e({data:(0,d.xn)(s,"userId"),userIds:i}))}catch(t){e(et(t)),console.error("fetchLaborCodeViolationsByUser error: ",t),(0,c.x)(t)}}));return function(t){return e.apply(this,arguments)}}()},hr=e=>{var t;return(null==e||null===(t=e.scheduleRows)||void 0===t?void 0:t.map((e=>e.id)))||[]};function fr(e){var{groupId:t,from:r,to:i,filter:s,userIds:n=[],urlParams:a}=e,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2?arguments[2]:void 0,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var e=w((function*(e){try{e(De(!0));var p=yield function(e){var{from:t,to:r,groupId:i,filter:s,userIds:n=[],urlParams:{page:a,size:o,sortName:c,sortType:d}}=e;return(0,l.t9)("user-schedule/v2/read-filtered-details?page=".concat(a,"&size=").concat(o,"&sort=").concat(c,",").concat(d),{from:t,to:r,groupId:i,filter:s,userIds:n})}({groupId:t,from:r,to:i,userIds:n,filter:s,urlParams:a}),h=p.response,f=hr(h),m=yield function(e,t){var{userIds:r,groupId:i,from:s,to:n}=e,a={userIds:r,groupId:i,from:s,to:n};if(t)return(0,l.t9)("user-schedule/read-details-with-punctuality-by-users",a)}({userIds:f,groupId:t,from:r,to:i},o),v=tr(s,a,u);e(Y({groupId:t,from:r,to:i,data:h,isShouldReplaceAllState:v,punctuality:null==m?void 0:m.response})),"function"==typeof d&&d(h)}catch(e){console.error("fetchGroupSchedule error: ",e),(0,c.x)(e)}finally{e(De(!1))}}));return function(t){return e.apply(this,arguments)}}()}function mr(e){return function(){var t=w((function*(t){try{var{day:r,groupId:i}=e,s=yield(0,l.ZP)("POST","user-schedule/read-day",e),n=yield s.json(),a=yield(0,l.ZP)("POST","operator/read-all-hired ",{from:r,to:r,groupId:i}),o=yield a.json();t(E({schedules:n.response,users:o.response}))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function vr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.wA;return function(){var i=w((function*(i){try{var s=yield(0,l.t9)("user-schedule/copy-schedule",e);i(Z(t)),r(s.response)}catch(e){(0,c.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function yr(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var s=w((function*(s){try{s(se(!0));var{response:n}=yield function(e,t,r){return(0,l.t9)("user-schedule/publish-by-group",{groupId:e,from:t,to:r})}(e,t,r);o.T.success(),yield s(M(n)),i&&i(n)}catch(e){(0,c.x)(e)}finally{s(se(!1))}}));return function(e){return s.apply(this,arguments)}}()}function gr(e){return function(){var t=w((function*(t){try{var r=yield(0,l.ZP)("POST","user-schedule/read-punctuality",{id:e}),i=yield r.json();i.success&&t(_(i.response))}catch(e){console.log(e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function br(e){return function(){var t=w((function*(t){try{var r=yield(0,l.ZP)("POST","user-schedule/read-punctuality-by-group",e),i=yield r.json();i.success&&t(B(i.response))}catch(e){console.log(e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function jr(e,t,r,i,s){return function(){var n=w((function*(n){try{var a=yield(0,l.ZP)("POST","v2/operator/naming/read-all-free",{groupId:e,from:t,to:r,skills:i}),o=yield a.json();o.success?n(F({groupId:e,skills:i,user:s,from:t,to:r,substitutes:o.response})):(0,c.x)(null,Et)}catch(e){console.error(e),(0,c.x)(e,Et)}}));return function(e){return n.apply(this,arguments)}}()}function xr(e,t,r){return function(){var i=w((function*(i){try{var n=yield(0,l.ZP)("POST","operator/read",{id:e}),a=yield n.json(),o=s()(t,u._E).local().format(u._E),d=s()(t,u._E).endOf("day").format(u._E);if(a.success){var p=a.response,h=r?p.skills.map((e=>e.queueId)):[];i(jr(p.groupId,o,d,h,p))}else(0,c.x)(null,Et)}catch(e){console.error(e),(0,c.x)(e,Et)}}));return function(e){return i.apply(this,arguments)}}()}function Sr(e,t){return w((function*(){return(0,l.t9)("user-date-group/create",e).then((()=>{(0,l.t9)("user-schedule/generate-for-relocated",{positionId:e.positionId,userId:e.userId,date:e.date,containerId:e.containerId}).then((e=>{o.T.success(),t&&t(e.response)})).catch((e=>{(0,c.x)(e)}))})).catch((e=>{(0,c.x)(e)}))}))}var Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.wA,r=arguments.length>2?arguments[2]:void 0;return function(){var i=w((function*(i){try{i(re(!0));var{response:s}=yield(e=>(0,l.t9)("user-schedule/optimize-for-group",e))(e),{numberOfUsersWithOptimizedShifts:n}=s,a=r({id:"Notifications.optimizedShiftsOfEmployees",defaultMessage:[{type:0,value:"Оптимизированы смены сотрудников:"}]});t(),o.T.success(a+n)}catch(e){console.error("optimizeForGroup error: ",e),(0,c.x)(e,Dt)}finally{i(re(!1))}}));return function(e){return i.apply(this,arguments)}}()};function Pr(e,t,r,i){return function(){var s=w((function*(s){s(qe());try{var{errors:n}=yield(0,l.t9)("user-schedule/delete-shifts",e);s(st()),r&&r(),t&&(0,h.xb)(n)&&(o.T.success(),t(),i()),(0,h.xb)(n)||(o.T.warn((0,b.jsx)(a.Z,{id:"Graph.SomeScheduleAreNotDeleted",defaultMessage:[{type:0,value:"Некоторые смены не были удалены"}]})),i())}catch(e){console.error("deleteShifts error: ",e),(0,c.x)(e,At)}finally{s(Fe())}}));return function(e){return s.apply(this,arguments)}}()}function wr(e,t,r){return function(){var i=w((function*(i){i(qe());try{var{errors:s}=yield(0,l.t9)("user-schedule/copy-shifts",e);i(it()),t&&(0,h.xb)(s)&&(o.T.success(),t()),r&&r(),(0,h.xb)(s)||o.T.warn((0,b.jsx)(a.Z,{id:"Graph.SomeScheduleAreNotCopied",defaultMessage:[{type:0,value:"Некоторые смены не были скопированы"}]}))}catch(e){console.error("copyShifts error: ",e),(0,c.x)(e,Mt)}finally{i(Fe())}}));return function(e){return i.apply(this,arguments)}}()}function Cr(e,t){return function(){var r=w((function*(r){var{groupId:i}=e,s=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,j);try{var{response:n,success:a}=yield(0,l.t9)("user-schedule/v2/read-schedule-table-by-users?groupId=".concat(i),s),o=yield Xt(e);r(_t({from:s.from,to:s.to,groupId:i})),r(K(n)),r(at(o.response)),a&&r(Le(!1)),"function"==typeof t&&(0,h.xb)(n.errors)&&t()}catch(e){r(Le(!1)),console.error("getScheduleTableByUsers error: ",e)}}));return function(e){return r.apply(this,arguments)}}()}function kr(e,t,r){return w((function*(){try{yield(0,l.t9)("import/schedule",e),o.T.success((0,b.jsx)(a.Z,{id:"Notifications.schedulesImported",defaultMessage:[{type:0,value:"Расписание импортировано."}]})),t&&t()}catch(e){r&&r(),console.error("importSchedules error = ",e),(0,c.x)(e)}}))}function Tr(e,t){return w((function*(){try{var{response:r}=yield(0,l.t9)("forecasting/check-recalculated-fte",e);r&&"function"==typeof t&&t()}catch(e){console.error("checkRecalculatedFte error = ",e)}}))}function Nr(e,t){return w((function*(){try{var{response:r}=yield(0,l.t9)("forecasting/check-recalculated-office",e);r&&"function"==typeof t&&t()}catch(e){console.error("checkRecalculatedOffices error = ",e),(0,c.x)(e)}}))}function Rr(e){return function(){var t=w((function*(t){try{t(ze());var{response:r}=yield(0,l.t9)("forecasting/read-raw-seats-by-multi-office",e);t(Ye(r))}catch(e){console.error("fetchOfficeSeats error = ",e),t(Ke(e.message))}}));return function(e){return t.apply(this,arguments)}}()}var Er=(e,t,r)=>w((function*(){var i=t===v.LF?"user-schedule/v2/schedule-optimize":"user-schedule/optimize-rest-by-days";try{var{success:s}=yield(0,l.t9)(i,e);s&&(o.T.success(),"function"==typeof r&&r())}catch(e){console.error("scheduleOptimize error = ",e),(0,c.x)(e)}})),Dr=(e,t)=>w((function*(){try{var{success:r}=yield function(e){return g.apply(this,arguments)}(e);r&&(o.T.success(),"function"==typeof t&&t())}catch(e){console.error("shiftBlockSave error = ",e),(0,c.x)(e)}}))},20085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{checkCells:()=>b,clearKdoExportData:()=>h,clearUserFilter:()=>y,fetchKdoStatusesByGroup:()=>w,fetchScheduleTable:()=>S,fetchStats:()=>O,fetchUsers:()=>x,publish:()=>P,receiveKdoStatusesByGroup:()=>f,receiveScheduleTable:()=>u,receiveStats:()=>p,receiveUsers:()=>d,setStatusFilter:()=>j,setUserFilter:()=>m,stashUserFilter:()=>v,unselectUser:()=>g});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(65227);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("receiveUsers"),u=(0,i.PH)("receiveScheduleTable"),p=(0,i.PH)("receiveStats"),h=(0,i.PH)("clearKdoExportData"),f=(0,i.PH)("receiveKdoStatuses"),m=(0,i.PH)("setUserFilter"),v=(0,i.PH)("stashUserFilter"),y=(0,i.PH)("clearUserFilter"),g=(0,i.PH)("unselectUser"),b=(0,i.PH)("checkCells"),j=(0,i.PH)("setStatusFilter"),x=e=>{var{groupId:t,from:r,to:i}=e;return function(){var e=c((function*(e){try{var{response:s}=yield(0,a.t9)("v2/operator/read-all-hired",{groupId:t,from:r,to:i});e(d(s))}catch(e){console.error("fetchUsers error = ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()},S=e=>{var{groupId:t,from:r,to:i}=e;return function(){var e=c((function*(e){try{var{response:s}=yield(0,a.t9)("user-schedule/read-schedule-table-by-group",{groupId:t,from:r,to:i});e(u(s))}catch(e){console.error("fetchScheduleTable error = ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()},O=e=>{var{groupId:t,from:r}=e,i=(0,o.X5)(r,o._E);return function(){var e=c((function*(e){try{var{response:r}=yield(0,a.t9)("balancer/stats",{groupId:t,from:i,to:i});e(p(r))}catch(e){console.error("fetchStats error = ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c((function*(){try{yield(0,a.t9)("kdo/publish",e),s.T.success(),t&&t()}catch(e){console.error("publish error = ",e),(0,n.x)(e)}}))},w=e=>{var{from:t,to:r,groupId:i}=e;return function(){var e=c((function*(e){try{var{response:s}=yield(0,a.t9)("kdo/read-status-table-by-group",{from:t,to:r,groupId:i});e(f(s))}catch(e){console.error("fetchKdoStatusesByGroup error = ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}},48691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchDisplaySettings:()=>T,fetchMonitoringData:()=>k,fetchMonitoringSettings:()=>w,inProgress:()=>g,loadMonitoringData:()=>y,loadMonitoringSettingsAction:()=>x,loadQueues:()=>b,setDisplaySettings:()=>O,setMonitoringFilter:()=>S,updateDisplaySettings:()=>N,updateMonitoringSettings:()=>C,updateMonitoringSettingsAction:()=>j});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(30053),c=r(69355),d=r(19873),u=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){m(n,i,s,a,o,"next",e)}function o(e){m(n,i,s,a,o,"throw",e)}a(void 0)}))}}var y=(0,i.PH)("loadMonitoringData"),g=(0,i.PH)("inProgress"),b=(0,i.PH)("loadQueues"),j=(0,i.PH)("updateMonitoringSettings"),x=(0,i.PH)("loadMonitoringSettings"),S=(0,i.PH)("setMonitoringFilter"),O=(0,i.PH)("setDisplaySettings"),P=(0,u.jsx)(s.Z,{id:"Notifications.failedToSaveSettings",defaultMessage:[{type:0,value:"Не удалось сохранить настройки."}]});function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.wA;return function(){var e=v((function*(e){try{var{response:r}=yield(0,o.t9)("monitoring-settings/read");e(x(r)),t(r)}catch(e){console.error("fetchMonitoringSettings error = ",e)}}));return function(t){return e.apply(this,arguments)}}()}function C(e,t){return function(){var r=v((function*(r){try{var{response:i}=yield(0,o.t9)("monitoring-settings/update",e);r(j(i)),n.T.success((0,u.jsx)(s.Z,{id:"Notifications.settingsSaved",defaultMessage:[{type:0,value:"Настройки сохранены."}]})),t&&t()}catch(e){console.error("updateMonitoringSettings error =",e),(0,a.x)(e,P)}}));return function(e){return r.apply(this,arguments)}}()}function k(e){return function(){var t=v((function*(t){try{t(g(!0));var{response:r}=yield(0,o.t9)("monitoring/read",e);t(g(!1)),t(y(r))}catch(e){t(g(!1)),console.error("fetchMonitoringData error =",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}var T=()=>e=>{var t=c.ZP.get(d.Wj);e(O(h(h({},t),{},{operatorName:!0,activityTime:!0,workActivityName:!0,userStatusName:!0})))},N=(e,t)=>function(){var r=v((function*(r){try{c.ZP.set(d.Wj,e),yield r(O(e)),"function"==typeof t&&t()}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()},7291:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearAllTrashItem:()=>_,clearDetailListRequest:()=>R,clearFilterHeader:()=>P,clearListSwapRequests:()=>D,clearMapIdsRequest:()=>T,clearRequests:()=>S,fetchActualRequests:()=>ke,fetchDetailListRequest:()=>ve,fetchRequests:()=>fe,fetchRequestsByGroup:()=>Te,fetchRequestsOnPeriod:()=>Re,fetchRequestsPeriod:()=>me,fetchSwapListRequest:()=>ye,fetchUserListForActivity:()=>ge,getDetailListRequest:()=>Pe,getFreeUserListByPeriod:()=>Se,getListSwapsRequest:()=>Oe,getNewViolationsData:()=>Me,getRequests:()=>Ce,getRequestsExcel:()=>Ie,getRequestsForPeriod:()=>we,getUserListForActivity:()=>xe,isLoadingLaborCode:()=>Y,isLoadingRequest:()=>j,isLoadingStats:()=>V,loadActualRequests:()=>f,loadRequestsByGroup:()=>b,receiveFreeUserListByPeriod:()=>K,receiveFreeUserListByPeriodError:()=>J,requestsLoadingAction:()=>v,requestsLoadingSpinnerAction:()=>y,resetFreeUserListByPeriod:()=>$,responseRequests:()=>Ne,saveAdditionalUserSchedule:()=>he,saveApproveDeclineRequests:()=>Ae,saveChangeScheduleResponse:()=>pe,saveChangeScheduleResponseApprove:()=>je,saveDeclineAdditionalSchedule:()=>be,selectAllTrashItem:()=>H,sendApproveDeclineRequests:()=>De,sendRequests:()=>g,setAdditionAllCheckSwaps:()=>G,setAdditionStateSwap:()=>M,setCheckAllSwaps:()=>Z,setCheckedSwap:()=>I,setDetailListRequest:()=>N,setFilterHeader:()=>O,setFreeUserListByPeriodLoading:()=>X,setHasRequestsCollision:()=>te,setLaborCodeRequests:()=>z,setListSwapRequests:()=>E,setManagerSwapFilter:()=>Q,setMapAllIdsRequests:()=>C,setMapIdRequest:()=>k,setMapIdsRequests:()=>w,setRequestData:()=>Ee,setRequestDataAction:()=>m,setRequests:()=>x,setReserveAccess:()=>re,setStatsRequests:()=>U,setTrashStateSwap:()=>A,setUserIdForActivity:()=>q,setUserIdForCheckedSwaps:()=>W,setUserListForActivity:()=>F,setUserListLoading:()=>B,setUserListShow:()=>L,setViolationsByCheckedIds:()=>ee});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(30053),c=r(69301),d=r(35667),u=r(85893);function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("loadActualRequests"),m=(0,i.PH)("setRequestDataAction"),v=(0,i.PH)("requestsLoadingAction"),y=(0,i.PH)("requestsLoadingSpinnerAction"),g=(0,i.PH)("sendRequests"),b=(0,i.PH)("loadRequestsByGroup"),j=(0,i.PH)("isLoadingRequest"),x=(0,i.PH)("setRequests"),S=(0,i.PH)("clearRequests"),O=(0,i.PH)("setFilterHeader"),P=(0,i.PH)("clearFilterHeader"),w=(0,i.PH)("setMapIdsRequests"),C=(0,i.PH)("setMapAllIdsRequests"),k=(0,i.PH)("setMapIdRequest"),T=(0,i.PH)("clearMapIdsRequest"),N=(0,i.PH)("setDetailListRequest"),R=(0,i.PH)("clearDetailListRequest"),E=(0,i.PH)("setListSwapRequests"),D=(0,i.PH)("clearListSwapRequests"),A=(0,i.PH)("setTrashStateSwap"),M=(0,i.PH)("setAdditionStateSwap"),I=(0,i.PH)("setCheckedSwap"),Z=(0,i.PH)("setCheckAllSwaps"),q=(0,i.PH)("setUserIdForActivity"),F=(0,i.PH)("setUserListForActivity"),L=(0,i.PH)("setUserListShow"),H=(0,i.PH)("selectAllTrashItem"),_=(0,i.PH)("clearAllTrashItem"),B=(0,i.PH)("setUserListLoading"),G=(0,i.PH)("setAdditionAllCheckSwaps"),W=(0,i.PH)("setUserIdForCheckedSwaps"),U=(0,i.PH)("setStatsRequests"),V=(0,i.PH)("isLoadingStats"),z=(0,i.PH)("setLaborCodeRequests"),Y=(0,i.PH)("isLoadingLaborCode"),Q=(0,i.PH)("setManagerSwapFilter"),K=(0,i.PH)("receiveFreeUserListByPeriod"),X=(0,i.PH)("setFreeUserListByPeriodLoading"),J=(0,i.PH)("receiveFreeUserListByPeriodError"),$=(0,i.PH)("resetFreeUserListByPeriod"),ee=(0,i.PH)("setViolationsByCheckedIds"),te=(0,i.PH)("setHasRequestsCollision"),re=(0,i.PH)("setReserveAccess"),ie=(0,u.jsx)(s.Z,{id:"Notifications.couldNotSaveResponseApprove",defaultMessage:[{type:0,value:"Не удалось сохранить ответ на заявку"}]}),se=(0,u.jsx)(s.Z,{id:"Notifications.couldNotGetUserListForActivity",defaultMessage:[{type:0,value:"Не удалось получить список пользователей"}]}),ne=(0,u.jsx)(s.Z,{id:"Notifications.couldNotGetListSwapsRequest",defaultMessage:[{type:0,value:"Не удалось получить список доп.смен"}]}),ae=(0,u.jsx)(s.Z,{id:"Notifications.couldNotGetDetailListRequest",defaultMessage:[{type:0,value:"Не удалось получить данные по заявке"}]}),oe=(0,u.jsx)(s.Z,{id:"Notifications.getRequestsForPeriodError",defaultMessage:[{type:0,value:"Ошибка получения заявок за период"}]}),le=(0,u.jsx)(s.Z,{id:"Notifications.getRequestsError",defaultMessage:[{type:0,value:"Ошибка получения заявок"}]}),ce=(0,u.jsx)(s.Z,{id:"Notifications.couldNotSaveApproveDeclineRequests",defaultMessage:[{type:0,value:"Не удалось изменить статусы заявок"}]}),de=(0,u.jsx)(s.Z,{id:"ErrorCode.requestsHaveCollision",defaultMessage:[{type:0,value:"Не удалось выполнить операцию. Выбранные заявки имеют пересечение по времени"}]});function ue(e){var t={};return 0===e.length||e.forEach((e=>{t[e.id]=!1})),t}function pe(e){return(0,o.t9)("change-schedule/response",e)}function he(e){return(0,o.t9)("additional-user-schedule/create-all-shifts",e)}function fe(e){return(0,o.t9)("change-schedule/read-all-not-approved",e)}function me(e){return(0,o.t9)("change-schedule/read-all-period",e)}function ve(e){return(0,o.t9)("change-schedule/read",{id:e})}function ye(e){return(0,o.t9)("additional-user-schedule/read-user-shifts",e)}function ge(e){return(0,o.t9)("v2/operator/naming/read-all-free",e)}function be(e,t){return h((function*(){try{var{answerComment:r,status:i,id:o}=e,l={answerComment:r,status:i,id:o},{error:c}=yield pe(l);c||(n.T.success((0,u.jsx)(s.Z,{id:"Schedule.Notifications.success",defaultMessage:[{type:0,value:"Сохранено успешно"}]})),t&&t())}catch(c){console.error("saveChangeScheduleResponseApprove error: ",c),(0,a.x)(c,ie)}}))}function je(e,t){return h((function*(){try{var{answerComment:r,list:i,status:o,id:l}=e,{error:c}=yield he(i);if(!c){var d={answerComment:r,status:o,id:l},{error:p}=yield pe(d);p||(n.T.success((0,u.jsx)(s.Z,{id:"Schedule.Notifications.success",defaultMessage:[{type:0,value:"Сохранено успешно"}]})),t&&t())}}catch(c){console.error("saveChangeScheduleResponseApprove error: ",c),(0,a.x)(c)}}))}function xe(e,t){return function(){var r=h((function*(r){try{r(B(!0));var{groupId:i,from:s,to:n,skills:o,id:l,userId:c}=e,d={groupId:i,from:s,to:n,skills:o,userId:c},{response:u,error:p}=yield ge(d);p||(r(F({data:u,swapId:l})),"function"==typeof t&&t({data:u,swapId:l})),r(B(!1))}catch(p){console.error("fetchUserListForActivity error: ",p),(0,a.x)(p,se),r(B(!1))}}));return function(e){return r.apply(this,arguments)}}()}var Se=(e,t)=>function(){var r=h((function*(r){r(X());try{var{response:i,success:s,error:n}=yield ge(e);s?(r(K({users:i})),"function"==typeof t&&t()):(r(J(n.message)),(0,a.x)(n))}catch(n){r(J(n.message)),console.error("getFreeUserListByPeriod error: ",n),(0,a.x)(n)}}));return function(e){return r.apply(this,arguments)}}();function Oe(e){return function(){var t=h((function*(t){try{var{start:r,end:i,userId:s}=e,n={userId:s,from:r,to:i},{response:o,success:c}=yield ye(n);if(c){var{viewList:d}=o,u=(0,l.pA)(d),p=(0,l.P7)(u,s),h=(0,l.eL)(p);t(E(h))}}catch(e){console.error("getListSwapsRequest error: ",e),(0,a.x)(e,ne)}}));return function(e){return t.apply(this,arguments)}}()}function Pe(e){return function(){var t=h((function*(t){try{var{response:r,error:i}=yield ve(e);i?(0,a.x)(null,ae):t(N(r))}catch(i){console.error("getDetailListRequest error: ",i),(0,a.x)(i,ae)}}));return function(e){return t.apply(this,arguments)}}()}function we(e){return function(){var t=h((function*(t){t(j(!0));try{var r=yield me(e),{response:i,error:s}=r;if(s)(0,a.x)(null,oe);else{var n=ue(i);t(w(n)),t(x(i))}t(j(!1))}catch(s){console.error("getRequests error: ",s),(0,a.x)(s,oe),t(j(!1))}}));return function(e){return t.apply(this,arguments)}}()}function Ce(e){return function(){var t=h((function*(t){t(j(!0));try{var r=yield fe(e),{response:i,error:s}=r;if(s)(0,a.x)(null,le);else{var n=ue(i);t(w(n)),t(x(i))}t(j(!1))}catch(s){console.error("getRequests error: ",s),(0,a.x)(s,le),t(j(!1))}}));return function(e){return t.apply(this,arguments)}}()}function ke(e){return function(){var t=h((function*(t){t(y({requestLoading:!0}));try{var r=yield(0,o.ZP)("POST","change-schedule/read-all-not-approved",e),i=yield r.json();t(f(i.response)),t(y({requestLoading:!1}))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function Te(e){return function(){var t=h((function*(t){try{var r=yield(0,o.ZP)("POST","change-schedule/read-all-by-group",e),i=yield r.json();t(b(i.response||[]))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return function(){var r=h((function*(r){try{(0,o.t9)("change-schedule/response",e).then((i=>{r(g(e)),t(i)})).catch((e=>{(0,a.x)(e)}))}catch(e){console.log(e)}}));return function(e){return r.apply(this,arguments)}}()}function Re(e){return function(){var t=h((function*(t){t(y({requestLoading:!0}));try{var r=yield(0,o.ZP)("POST","change-schedule/read-all-period",{from:e.from||e.start,to:e.to||e.end,groupId:e.id}),i=yield r.json();t(v(i.response)),t(y({requestLoading:!1}))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function Ee(e){return t=>{try{t(m(e))}catch(e){console.log(e)}}}function De(e,t){return(0,o.t9)("change-schedule/response-all",{ids:e,status:t})}function Ae(e,t){return function(){var r=h((function*(r){try{var{ids:i,status:s}=e,{error:o}=yield De(i,s);o||(r(T()),n.T.success("Заявки сохранены успешно"),t&&t())}catch(o){(0,a.x)(o,ce),console.error("saveApproveDeclineRequests error: ",o)}}));return function(e){return r.apply(this,arguments)}}()}function Me(e){return function(){var t=h((function*(t){try{var r=yield(0,o.ZP)("POST","change-schedule/check-batch",e);(0,d.xb)(r.errors)||(n.T.error(de),t(te(!0)));var i=yield r.json();t(te(!1)),t(ee(i.response))}catch(e){console.error("getNewViolationData error: ",e)}}));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return h((function*(){try{var t=yield(0,o.ZP)("POST","change-schedule/request/report-by-group",e),r=yield t.blob();(0,c.s)(r,"requests-report.xlsx")}catch(e){console.error("getExcelByUsers e: ",e),(0,a.x)(e)}}))}},47458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addSchedule:()=>y,addScheduleAction:()=>C,buildSchedule:()=>J,clearScheduleActivities:()=>O,clearSelectedScheduleContainer:()=>w,createSchedule:()=>W,deleteSchedule:()=>Y,deleteVariant:()=>k,editActivity:()=>Q,editSchedule:()=>z,employeeRequestPermissionGroupsFetched:()=>A,fetchAllSchedules:()=>B,fetchEmployeeRequestPermissionGroups:()=>ee,fetchPermissionGroupsMapping:()=>$,fetchSchedule:()=>G,fetchSchedules:()=>_,generateSchedule:()=>U,generateScheduleAction:()=>T,intervalIsChanged:()=>K,intervalOnChanged:()=>N,isLoadingSchedule:()=>b,isScheduleSchemaLoading:()=>v,loadAllSchedules:()=>f,loadSchedules:()=>m,loadingRecalculateFTE:()=>M,massEditSchemes:()=>ie,massUpdateSchemes:()=>g,permissionGroupsMappingFetched:()=>D,publishSchedule:()=>X,publishScheduleAction:()=>R,recalculateFTE:()=>re,removeSchedule:()=>j,removeVariant:()=>V,scheduleLoadnigAction:()=>E,setScheduleHasBeenUpdated:()=>Z,setSelectedGroupIds:()=>I,setSelectedGroupIdsCb:()=>H,setSelectedScheduleContainer:()=>P,updateActivity:()=>S,updateSchedule:()=>x});var i=r(44012),s=r(81978),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,s.PH)("loadAllSchedules"),m=(0,s.PH)("loadSchedules"),v=(0,s.PH)("isScheduleSchemaLoading"),y=(0,s.PH)("addSchedule"),g=(0,s.PH)("massUpdateSchemes"),b=(0,s.PH)("isLoadingSchedule"),j=(0,s.PH)("removeSchedule"),x=(0,s.PH)("updateSchedule"),S=(0,s.PH)("updateActivity"),O=(0,s.PH)("clearScheduleActivities"),P=(0,s.PH)("setSelectedScheduleContainer"),w=(0,s.PH)("clearSelectedScheduleContainer"),C=(0,s.PH)("addScheduleAction"),k=(0,s.PH)("deleteVariant"),T=(0,s.PH)("generateScheduleAction"),N=(0,s.PH)("intervalOnChanged"),R=(0,s.PH)("publishScheduleAction"),E=(0,s.PH)("scheduleLoadnigAction"),D=(0,s.PH)("permissionGroupsMappingFetched"),A=(0,s.PH)("employeeRequestPermissionGroupsFetched"),M=(0,s.PH)("loadingRecalculateFTE"),I=(0,s.PH)("setSelectedGroupIds"),Z=(0,s.PH)("setScheduleHasBeenUpdated"),q=(0,l.jsx)(i.Z,{id:"Notifications.scheduleCouldNotBeBuilt",defaultMessage:[{type:0,value:"Не удалось построить расписание."}]}),F=(0,l.jsx)(i.Z,{id:"Notifications.failedToPublishSchedule",defaultMessage:[{type:0,value:"Не удалось опубликовать расписание."}]}),L=(0,l.jsx)(i.Z,{id:"Notifications.scheduleRecalculateFTEFail",defaultMessage:[{type:0,value:"FTE пересчитать не удалось."}]});function H(e){return t=>{t(I(e))}}function _(e){return function(){var t=h((function*(t){t(b(!0));try{if(e&&e.groupId){var r=yield(0,o.ZP)("POST","schedule-container/read-by-group",{id:e.groupId}),i=yield r.json();t(m(i.response))}else{var s=yield(0,o.ZP)("POST","schedule-container/read-all"),n=yield s.json();t(m(n.response)),t(f(n.response))}}catch(e){console.error("fetchSchedules = ",e)}finally{t(b(!1))}}));return function(e){return t.apply(this,arguments)}}()}function B(){return function(){var e=h((function*(e){e(v(!0));try{var{response:t,success:r}=yield(0,o.t9)("schedule-container/read-all");r&&e(f(t))}catch(e){console.error("fetchAllSchedules error =",e)}finally{e(v(!1))}}));return function(t){return e.apply(this,arguments)}}()}function G(e){return function(){var t=h((function*(t){try{var r=yield(0,o.ZP)("POST","schedule-container/read",{id:e}),i=yield r.json();t(P(i.response)),t(C(i.response))}catch(e){console.error("fetchSchedule = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function W(e,t){return function(){var r=h((function*(r){try{var{response:i,success:s}=yield(0,o.t9)("schedule-container/create",e),l=d(d({},e),{},{id:i.id});s&&("function"==typeof t&&t(l),n.T.success()),r(y(l))}catch(e){console.error("createSchedule = ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function U(e){return t=>{t(T(e))}}function V(e){return t=>{t(k({index:e}))}}function z(e,t){return function(){var r=h((function*(r){try{var{success:i}=yield(0,o.t9)("schedule-container/update",e);r(x(e)),i&&("function"==typeof t&&t(),n.T.success())}catch(e){(0,a.x)(e),console.error("editSchedule = ",e)}}));return function(e){return r.apply(this,arguments)}}()}function Y(e){return function(){var t=h((function*(t){try{var r=yield(0,o.ZP)("POST","schedule-container/delete",{id:e});yield r.json(),t(j(e)),n.T.success((0,l.jsx)(i.Z,{id:"Schedule.removed",defaultMessage:[{type:0,value:"Смена успешно удалена"}]}))}catch(e){console.error("deleteSchedule = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function Q(e,t){return r=>{r(S({index:e,activities:t}))}}function K(e){return t=>{t(N(e))}}function X(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"user-schedule/publish-by-users":"user-schedule/publish-by-groups";return function(){var s=h((function*(s){s(E({scheduleLoading:!0}));try{var c=yield(0,o.ZP)("POST",r,e);(yield c.json()).success?(n.T.success((0,l.jsx)(i.Z,{id:"Notifications.schedulePublished",defaultMessage:[{type:0,value:"Расписание опубликовано."}]})),t&&t()):(0,a.x)(null,F),s(E({scheduleLoading:!1}))}catch(e){console.error("publishSchedule = ",e),s(E({scheduleLoading:!1}))}}));return function(e){return s.apply(this,arguments)}}()}function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var s=h((function*(s){s(E({scheduleLoading:!0}));try{var{success:c}=r?yield(0,o.t9)("user-schedule/v2/generate-for-select",e):yield(0,o.t9)("user-schedule/v2/generate",e);c&&(n.T.success((0,l.jsx)(i.Z,{id:"Notifications.scheduleIsBuilt",defaultMessage:[{type:0,value:"Расписание построено."}]})),s(E({scheduleLoading:!1})),s(Z(!0)),s(N(e)),t&&t())}catch(e){console.error("buildSchedule = ",e),(0,a.x)(e,q),s(E({scheduleLoading:!1}))}}));return function(e){return s.apply(this,arguments)}}()}function $(e){return function(){var t=h((function*(t){return(0,o.t9)("permission-group/read-mapping-hierarchy",e).then((e=>{t(D(e.response))}))}));return function(e){return t.apply(this,arguments)}}()}function ee(){return function(){var e=h((function*(e){return(0,o.t9)("permission-group/read-all-hierarchy").then((t=>e(A(t.response))))}));return function(t){return e.apply(this,arguments)}}()}function te(e,t){e(M(t))}function re(e,t){return function(){var r=h((function*(r){try{te(r,!0);var s=yield function(e){return(0,o.ZP)("POST","user-schedule/recalculate-fte",e)}(e),c=yield s.json();c.success?(t&&t(),n.T.success((0,l.jsx)(i.Z,{id:"Notifications.scheduleRecalculateFTESuccess",defaultMessage:[{type:0,value:"FTE пересчитано."}]}))):console.error("recalculate error = ",c.error),te(r,!1)}catch(e){console.error("recalculate error: ",e),te(r,!1),(0,a.x)(e,L)}}));return function(e){return r.apply(this,arguments)}}()}function ie(e){return function(){var t=h((function*(t){try{var{success:r}=yield(0,o.t9)("schedule-scheme/batch/edit",e);r&&(n.T.success(),t(B))}catch(e){console.error("massEditSchemes = ",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},62574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addAdditionalUserSchedule:()=>Q,additionalUserScheduleError:()=>Z,clearFteAdditional:()=>v,copyAdditionalSchedule:()=>Y,copyAdditionalUserSchedule:()=>J,createAdditionalSchedule:()=>V,createEmptyCellActivity:()=>k,deleteAdditionalSchedule:()=>W,deleteAdditionalUserSchedule:()=>X,fetchAdditionalUserSchedule:()=>H,fetchFteQueue:()=>F,fetchScheduleContainers:()=>ne,fetchUserAdditional:()=>$,getAdditionalUserSchedule:()=>G,getEmptyActivity:()=>_,getFteQueue:()=>L,getUserAdditional:()=>re,notifyAdditional:()=>te,notifyAdditionalUserSchedule:()=>se,readAdditionalSchedule:()=>z,receiveCheckboxWithReserveSkills:()=>M,receiveListScheduleContainersData:()=>N,receiveListScheduleContainersError:()=>R,resetListScheduleContainers:()=>E,saveAdditional:()=>ee,saveAdditionalUserSchedule:()=>ie,setActiveSaveButton:()=>P,setAdditionalScheduleFilter:()=>I,setAdditionalUserSchedule:()=>j,setCheckboxLabelChart:()=>y,setDateCurrentPeriod:()=>b,setEmptyCellActivity:()=>T,setFteQueueUser:()=>m,setListScheduleContainersLoading:()=>D,setScheduleZoomValue:()=>A,setSelectSkill:()=>g,setSelectedUserAdditional:()=>w,setSettingCell:()=>S,setShowUserSelect:()=>x,setUsersLoading:()=>O,startAdditionalGenerate:()=>ae,toggleShowAdditionalWindow:()=>f,updateAdditionalSchedule:()=>U,updateAdditionalUserSchedule:()=>K,updateItemAdditional:()=>C});var i=r(44012),s=r(81978),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,s.PH)("toggleShowAdditionalWindow"),m=(0,s.PH)("setFteQueueUser"),v=(0,s.PH)("clearFteAdditional"),y=(0,s.PH)("setCheckboxLabelChart"),g=(0,s.PH)("setSelectSkill"),b=(0,s.PH)("setDateCurrentPeriod"),j=(0,s.PH)("setAdditionalUserSchedule"),x=(0,s.PH)("setShowUserSelect"),S=(0,s.PH)("setSettingCell"),O=(0,s.PH)("setUsersLoading"),P=(0,s.PH)("setActiveSaveButton"),w=(0,s.PH)("setSelectedUserAdditional"),C=(0,s.PH)("updateItemAdditional"),k=(0,s.PH)("createEmptyCellActivity"),T=(0,s.PH)("setEmptyCellActivity"),N=(0,s.PH)("receiveListScheduleContainersData"),R=(0,s.PH)("receiveListScheduleContainersError"),E=(0,s.PH)("resetListScheduleContainers"),D=(0,s.PH)("setListScheduleContainersLoading"),A=(0,s.PH)("setScheduleZoomValue"),M=(0,s.PH)("receiveCheckboxWithReserveSkills"),I=(0,s.PH)("setAdditionalScheduleFilter"),Z=(0,s.PH)("additionalUserScheduleError"),q=(0,l.jsx)(i.Z,{id:"Notifications.couldNotSendNotifyAdditionalUserSchedule",defaultMessage:[{type:0,value:"Уведомления о дополнительных сменах не отправлены"}]});function F(e){return(0,o.t9)("additional-user-schedule/read-fte",e)}function L(e){return function(){var t=h((function*(t){try{var{skillId:r,from:i,to:s}=e,n=yield F({skillId:r,from:i,to:s});t(m(n.response))}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function H(e){return(0,o.t9)("additional-user-schedule/read-by-skill",e)}var _=e=>({activities:[],skillId:e}),B=(e,t)=>[_(e),...t];function G(e){return function(){var t=h((function*(t){try{var{skillId:r,from:i,to:s}=e,{response:n}=yield H({skillId:r,from:i,to:s});t(j(B(r,n)))}catch(e){console.error("getAdditionalUserSchedule error = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function W(e){return(0,o.t9)("additional-user-schedule/delete",{id:e})}function U(e){return(0,o.t9)("additional-user-schedule/update",e)}function V(e){return(0,o.t9)("additional-user-schedule/create",e)}function z(e){return(0,o.t9)("additional-user-schedule/read",{id:e})}function Y(e){return(0,o.t9)("additional-user-schedule/copy",{id:e})}function Q(e){return function(){var t=h((function*(t){try{var{item:r,from:i,to:s}=e,n=d(d({},r),{},{status:"NOT_ASSIGNED"}),o={skillId:r.skillId,from:i,to:s},{response:l}=yield V(n),{response:c}=yield z(l.id);t(C({index:0,item:c})),t(T(!1)),t(P(!0)),t(L(o))}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function K(e,t){return function(){var r=h((function*(r){try{var{skillId:i,from:s,to:n,item:o,index:l}=e,c={skillId:i,from:s,to:n};yield U(o);var{response:d}=yield z(o.id);r(C({index:l,item:d})),r(P(!0)),r(L(c)),t&&t()}catch(e){r(Z()),console.error("updateAdditionalUserSchedule: ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function X(e){return function(){var t=h((function*(t){try{var{additionalId:r,skillId:i,from:s,to:n}=e,o={skillId:i,from:s,to:n};yield W(r),t(T()),t(L(o)),t(G(o)),t(P(!0))}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function J(e){return function(){var t=h((function*(t){try{var{additionalId:r,skillId:i,from:s,to:n}=e,o={skillId:i,from:s,to:n},{success:l}=yield Y(r);t(T()),l&&(t(L(o)),t(G(o))),t(P(!0))}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function $(e){return(0,o.t9)("v2/operator/naming/read-all-free",e)}function ee(e){return(0,o.t9)("additional-user-schedule/assign-all",e)}function te(e){return(0,o.t9)("additional-user-schedule/notify",e)}function re(e,t){return function(){var r=h((function*(r){r(O(!0));try{var{id:i,groupId:s,from:n,to:a,skills:o}=e,l={groupId:s,from:n,to:a,skills:o},{response:c,success:d}=yield $(l);d&&(r(S({id:i,setting:{users:c}})),"function"==typeof t&&t(c)),r(O(!1))}catch(e){r(O(!1)),console.error(e)}}));return function(e){return r.apply(this,arguments)}}()}function ie(e,t){return function(){var r=h((function*(r){try{var{assigns:i,skillId:s,from:o,to:l}=e,c={skillId:s,from:o,to:l,isNotifyAll:!1};yield ee({assigns:i}),yield te(c),t&&t(),r(v()),r(P(!1)),n.T.success()}catch(e){(0,a.x)(e),console.error("saveAdditionalUserSchedule error: ",e)}}));return function(e){return r.apply(this,arguments)}}()}function se(e){return h((function*(){try{var{skillId:t,from:r,to:s}=e,o={skillId:t,from:r,to:s,isNotifyAll:!0};yield te(o),n.T.success((0,l.jsx)(i.Z,{id:"Notifications.AdditionalShiftNotificationsSent",defaultMessage:[{type:0,value:"Уведомления о дополнительных сменах отправлены"}]}))}catch(e){(0,a.x)(e,q),console.error("notifyAdditionalUserSchedule error: ",e)}}))}var ne=e=>function(){var t=h((function*(t){t(D());try{var{response:r,success:i,error:s}=yield(0,o.t9)("schedule-container/read-available-brief",e);t(i?N(r.containers):R(s.message))}catch(s){console.error("getContainersSchedule error: ",s),(0,a.x)(s),t(R(s.message))}}));return function(e){return t.apply(this,arguments)}}();function ae(e,t,r){return function(){var s=h((function*(s){try{var{skillId:c,from:d,to:u}=e,p={skillId:c,from:d,to:u},{response:h}=yield(0,o.t9)("additional-user-schedule/generate",e);n.T.success((0,l.jsx)(i.Z,{id:"Notifications.sendAdditionalGenerate",defaultMessage:[{type:0,value:"Создано "},{type:1,value:"count"},{type:0,value:" дополнительных смен"}],values:{count:h.generatedAdditionalSchedules.length}})),s(L(p)),s(j(B(c,h.generatedAdditionalSchedules))),s(P(!0)),t&&t()}catch(e){console.error("getContainersSchedule error: ",e),(0,a.x)(e),r&&r()}r&&r()}));return function(e){return s.apply(this,arguments)}}()}},6912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createNorm:()=>m,doBalancing:()=>v,fetchStats:()=>h,normCreated:()=>p,normUpdated:()=>u,statsFetched:()=>d,updateNorm:()=>f});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(65227);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("statsFetched"),u=(0,i.PH)("normUpdated"),p=(0,i.PH)("normCreated");function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return function(){var s=c((function*(s){var l={from:(0,o.X5)(t,"MM.YYYY"),to:(0,o.X5)(r||t,"MM.YYYY")};if(Array.isArray(e))l.userIds=e;else{if("string"!=typeof e)throw new Error("ids parameter has wrong type. array and string allowed");l.groupId=e}(0,a.t9)("balancer/stats",l).then((e=>{s(d(e.response)),i(e.response)})).catch((e=>{(0,n.x)(e)}))}));return function(e){return s.apply(this,arguments)}}()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return function(){var r=c((function*(r){(0,a.t9)("user-norm/update",e).then((e=>{t(e.response),r(u(e.response)),s.T.success()})).catch((e=>{(0,n.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return function(){var r=c((function*(r){(0,a.t9)("user-norm/create",e).then((i=>{t(i.response),r(p({norm:e,createdNormId:i.response.id})),s.T.success()})).catch((e=>{(0,n.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return c((function*(){(0,a.t9)("balancer/balance",e).then((e=>{t(e.response),s.T.success()})).catch((e=>{(0,n.x)(e)}))}))}},89473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeDetailsFetched:()=>u,changesLogFetched:()=>c,fetchChangeDetails:()=>m,fetchChangesLog:()=>f,fetchEmployees:()=>v,removeLogFetched:()=>d,scheduleChangesIsLoading:()=>h,scheduleChangesUsersFetched:()=>p});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("changesLogFetched"),d=(0,i.PH)("removeLogFetched"),u=(0,i.PH)("changeDetailsFetched"),p=(0,i.PH)("scheduleChangesUsersFetched"),h=(0,i.PH)("scheduleChangesIsLoading");function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var r=l((function*(r){r(h(!0));try{var{response:i}=yield(0,a.t9)("logger/read-all",e);r(c(i)),t&&t(i)}catch(e){console.error("fetchChangesLog error = ",e),(0,n.x)(e)}finally{r(h(!1))}}));return function(e){return r.apply(this,arguments)}}()}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{operatorId:r,revision:i,resource:n}=e;return function(){var e=l((function*(e){try{var o=yield(0,a.t9)("logger/read-details",{operatorId:r,revision:i,resource:n});e(u(o.response)),t&&t(o.response)}catch(e){console.error("fetchChangeDetails error = ",e),s.T.error()}}));return function(t){return e.apply(this,arguments)}}()}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return r=>Promise.all([(0,a.t9)("administrator/read-all"),(0,a.t9)("manager/view-by-group?readmode=AVAILABLE",{id:e}),(0,a.t9)("operator/view-by-group?readmode=AVAILABLE",{id:e})]).then((e=>(t(),r(p([...e[0].response.map((e=>({type:"administrator",id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName:"")+(e.middleName?" "+e.middleName:"")}))),...e[1].response.map((e=>({type:"manager",id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName:"")+(e.middleName?" "+e.middleName:"")}))),...e[2].response.map((e=>({type:"employee",id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName[0]+".":"")+(e.middleName?" "+e.middleName[0]+".":"")})))]))))).catch((e=>(0,n.x)(e)))}},69853:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fakeDdata:()=>i});var i=[{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'Пузырева Наталья "',subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'Попова Ксения "',subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid3",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'Арджюнов Арджунчик "',subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 27 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange || scheduleGeneration"},{id:"uid4",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"eee4 eeee 44",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 24 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange || scheduleGeneration"},{id:"uid1",date:"Mon, 22 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'ккк цца "',subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 23 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'Сорокин Сорокин "',subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 7 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 1 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'Тестович Тест "',subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 12 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Testееквtor TestOperator TestOperator",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 23 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 23 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 12 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"oper-5/2",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 12 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 21 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 13 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"oper-swim-1",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 11 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 15 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"oper-5/2",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"oper-swim-2",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_1 О1 О1",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_2 О2 О2",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_3 О3 О3",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Для 1592 Для",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'кк кпа "',subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_4 О4 О4",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"kill me kill",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Татарова Татьяна Николаевна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Кузнецова Алена Андреевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'3 3 "',subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_1_1679 О О",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Оператор_2_1679 О О",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Бережная Линда Леонидовна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Ильина Мария Анатольевна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Воробьева Елизавета Викторовна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Макарова Вероника Олеговна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Корсакова Елена Владимировна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Тарбанова Анастасия Викторовна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"Попова Екатерина Андреевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"1 1 1",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН Татьяна Николаевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН1 Татьяна Николаевна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к Татьяна Николаевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:'asd asd "',subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к6 Татьяна Николаевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к7 Татьяна Николаевна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к8 Татьяна Николаевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к9 Татьяна Николаевна",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"},{id:"uid1",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"СОРОКИН12к10 Татьяна Николаевна",subjectId:"uid",subjectName:"LastName FirstName MiddleName",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 26 Mar 2018 14:26:49 GMT",changeType:"manualChange",details:{before:[{startTime:"13:00",endTime:"15:15",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"862e9ce4-40e1-4937-8500-bc06a0eef527",externalIdActivity:null},{startTime:"15:15",endTime:"15:35",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"b73aa858-6f6d-4282-8711-cdd76341dfcc",externalIdActivity:null},{startTime:"15:35",endTime:"17:45",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"2b7725ff-3416-44e3-8590-8853dc208c45",externalIdActivity:null},{startTime:"17:45",endTime:"18:05",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"3c3681ac-4d6c-4cd1-bc3f-5508e0d0042a",externalIdActivity:null},{startTime:"18:05",endTime:"21:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6160d8ce-2870-4f0c-b4cc-26d3362726e4",externalIdActivity:null}],after:[{startTime:"12:00",endTime:"15:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"6c9871eb-5002-456f-8c6d-74b9d7c6a4d4",externalIdActivity:null},{startTime:"15:00",endTime:"15:20",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"ab509260-87c2-4b21-bde8-1d77de2a1154",externalIdActivity:null},{startTime:"15:20",endTime:"17:10",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"172fa398-931d-4a5c-a9bb-28619677a8ea",externalIdActivity:null},{startTime:"17:10",endTime:"17:30",id:"84c1059b-b81e-4388-98cd-c9f15ecce662",scheduleActivityId:"c0bd8f27-488b-4a4f-97d6-e26a97dff80a",externalIdActivity:null},{startTime:"17:30",endTime:"20:00",id:"ce7bd50a-ef15-4b2e-9756-89f13cfd2e68",scheduleActivityId:"c051dc49-6fc7-4e20-a614-44a029c216a7",externalIdActivity:null}]}},{id:"uid2",date:"Mon, 26 Mar 2018 14:26:49 GMT",time:"HH:mm",userId:"uid",userName:"MiddleName 2 LastName FirstName",subjectName:"LastName FirstName MiddleName",subjectId:"uid",subjectType:"group || employee",changePeriodStart:"Mon, 26 Mar 2018 14:26:49 GMT",changePeriodEnd:"Mon, 27 Mar 2018 14:26:49 GMT",changeType:"scheduleGeneration"}]},522:(e,t,r)=>{"use strict";r.r(t),r.d(t,{commentAdded:()=>f,commentDetailsFetched:()=>p,commentsFetched:()=>u,fetchCommentDetails:()=>y,fetchComments:()=>m,fetchEmployees:()=>g,scheduleCommentsUsersFetched:()=>h,sendComment:()=>v});var i=r(81978),s=r(30381),n=r.n(s),a=r(41524),o=r(88599),l=r(82028);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,i.PH)("commentsFetched"),p=(0,i.PH)("commentDetailsFetched"),h=(0,i.PH)("scheduleCommentsUsersFetched"),f=(0,i.PH)("commentAdded");function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return function(){var r=d((function*(r){return(0,l.t9)("comments/read-period-by-group",e).then((e=>{t(e.response),r(u(e.response))})).catch((e=>{(0,o.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function v(e,t){return function(){var r=d((function*(r){(0,l.t9)("comments/create",e).then((()=>{r(f(e)),a.T.success(),t&&t(e)})).catch((e=>{(0,o.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return function(){var r=d((function*(r){return(0,l.t9)("",e).then((e=>{t(e.response),r(p(e.response)),a.T.success()})).catch((e=>{(0,o.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return r=>Promise.all([(0,l.t9)("manager/read-all"),(0,l.t9)("operator/read-all-hired",{from:n()(0).format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD"),groupId:e})]).then((e=>(t(),r(h([...e[0].response.map((e=>({type:"manager",id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName[0]+".":"")+(e.middleName?" "+e.middleName[0]+".":"")}))),...e[1].response.map((e=>({type:"employee",id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName[0]+".":"")+(e.middleName?" "+e.middleName[0]+".":"")})))]))))).catch((e=>(0,o.x)(e)))}},79642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActivityList:()=>h,checkSeats:()=>N,clearFormDetailSchedule:()=>b,fetchActivityList:()=>T,fetchUserFreeSchedule:()=>C,getActivityList:()=>O,getNormalizeNameUsers:()=>w,getUserFreeSchedule:()=>P,normalizeActivity:()=>k,saveAdditionalUserSchedule:()=>x,saveChangeFormDetailSchedule:()=>S,saveChangeScheduleDetail:()=>E,setCurrentActivity:()=>m,setCurrentUserFreeList:()=>y,setIsChangesWithoutWorkplaceViolations:()=>f,setPeriodSchedule:()=>g,setUserFreeList:()=>v});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(30053),c=r(78340),d=r(85893);function u(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){u(n,i,s,a,o,"next",e)}function o(e){u(n,i,s,a,o,"throw",e)}a(void 0)}))}}var h=(0,i.PH)("ActivityList"),f=(0,i.PH)("setIsChangesWithoutWorkplaceViolations"),m=(0,i.PH)("setCurrentActivity"),v=(0,i.PH)("setUserFreeList"),y=(0,i.PH)("setCurrentUserFreeList"),g=(0,i.PH)("setPeriodSchedule"),b=(0,i.PH)("clearFormDetailSchedule"),j=(0,d.jsx)(s.Z,{id:"Notifications.couldNotSaveChanges",defaultMessage:[{type:0,value:"Не удалось сохранить изменения"}]});function x(e){return(0,o.t9)("additional-user-schedule/create-all-shifts",e)}function S(e){return(0,o.t9)("user-schedule/choose-type",e)}function O(){return(0,o.t9)("work-activity/read-all")}function P(e){return(0,o.t9)("operator/read-all-hired",e)}function w(e){var t=[];return e.forEach((e=>{var r={};r.name="".concat(e.namePeriod.lastName," ").concat(e.namePeriod.firstName[0].toUpperCase(),"."),r.id=e.id,r.positionName=e.positionPeriod,t.push(r)})),t}function C(e){return function(){var t=p((function*(t){try{var{response:r,error:i}=yield P(e);if(!i){var s=w(r);t(v(s))}}catch(i){console.error(i)}}));return function(e){return t.apply(this,arguments)}}()}function k(e){var t=[];return e.forEach((e=>{var r={id:e.id,name:e.name};t.push(r)})),t}function T(){return function(){var e=p((function*(e){try{var{response:t,error:r}=yield O();r||e(h(k(t)))}catch(r){console.error(r)}}));return function(t){return e.apply(this,arguments)}}()}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.wA;return function(){var r=p((function*(r){try{r((0,c.setUpdatingDataInDetailsBody)(!0));var{response:i,success:s}=yield(0,o.t9)("user-schedule/check/seats",e);s&&(r(f(i)),t&&"function"==typeof t&&t(i))}catch(e){r((0,c.setUpdatingDataInDetailsBody)(!1)),(0,a.x)(e),console.error(e)}}));return function(e){return r.apply(this,arguments)}}()}var R=function(){var e=p((function*(e,t){var{error:r}=yield S(e);r||(n.T.success((0,d.jsx)(s.Z,{id:"Notifications.savedSuccessfully",defaultMessage:[{type:0,value:"Сохранено успешно"}]})),t&&t())}));return function(t,r){return e.apply(this,arguments)}}();function E(e,t){return p((function*(){try{var{workActivityId:r,userId:i,start:o,end:l,data:u,isSeatAccountingEnabled:p,groupId:h}=e,{error:f}=yield x(u);if(!f){var m={groupId:h,scheduleActivities:[{workActivityId:r,userId:i,start:o,end:l}]};if(p){var{success:v,response:y}=yield(0,c.checkSeatsCall)([{start:o,end:l,workActivityId:r,userId:i}]);v&&y&&(yield R(m,t)),y||n.T.error((0,d.jsx)(s.Z,{id:"Offices.allPlacesAreOccupied",defaultMessage:[{type:0,value:"Все места в офисе на этот период заняты"}]}))}else yield R(m,t)}}catch(f){console.error("saveChangeScheduleDetail error = ",f),(0,a.x)(f,j)}}))}},64621:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addScheduleSchema:()=>m,deleteScheduleSchema:()=>E,deleteUntypicalDay:()=>M,editScheduleSchema:()=>g,fetchAllScheduleSchemeList:()=>T,fetchScheduleSchema:()=>k,fetchSpecialDaysForMultiEdit:()=>A,loadScheduleSchema:()=>f,massUpdateSpecialDays:()=>I,removeAllScheduleSchemes:()=>q,removeScheduleSchema:()=>y,resetSelectedScheduleSchema:()=>C,resizeLayout:()=>S,saveScheduleSchema:()=>N,selectedScheduleSchema:()=>w,setCopyScheduleId:()=>v,showCopyPopup:()=>P,showGroupEditPopup:()=>O,specialDaysFetched:()=>b,specialDaysForMultiEditFetched:()=>j,specialDaysForMultiEditIsLoading:()=>x,updateScheduleSchema:()=>R,updateScheduleSchemesGroup:()=>Z});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("loadScheduleSchema"),m=(0,i.PH)("addScheduleSchema"),v=(0,i.PH)("setCopyScheduleId"),y=(0,i.PH)("removeScheduleSchema"),g=(0,i.PH)("editScheduleSchema"),b=(0,i.PH)("specialDaysFetched"),j=(0,i.PH)("specialDaysForMultiEditFetched"),x=(0,i.PH)("specialDaysForMultiEditIsLoading"),S=(0,i.PH)("resizeLayout"),O=(0,i.PH)("showGroupEditPopup"),P=(0,i.PH)("showCopyPopup"),w=(0,i.PH)("selectedScheduleSchema"),C=(0,i.PH)("resetSelectedScheduleSchema");function k(e){return function(){var t=h((function*(t){try{var{response:r,success:i}=yield(0,o.t9)("schedule-scheme/read-by-group",e);i&&t(f(r||[]))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function T(){return function(){var e=h((function*(e){try{var{response:t,success:r}=yield(0,o.t9)("schedule-scheme/read-all");r&&e(f(t||[]))}catch(e){(0,a.x)(e),console.log(e)}}));return function(t){return e.apply(this,arguments)}}()}function N(e,t){return function(){var r=h((function*(r){try{var{response:i,success:s}=yield(0,o.t9)("schedule-scheme/create",e);s&&(r(m(d(d({},e),i))),r(v(i.id)),n.T.success(),t&&t())}catch(e){console.error("saveScheduleSchema error: ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function R(e,t){var r=(0,l.jsx)(s.Z,{id:"Notifications.ScheduleSchemeUpdateSuccess",defaultMessage:[{type:0,value:"Схема изменена"}]}),i=(0,l.jsx)(s.Z,{id:"Notifications.ScheduleSchemeUpdateFail",defaultMessage:[{type:0,value:"Изменить схему не удалось"}]});return function(){var s=h((function*(s){try{yield function(e){return(0,o.t9)("schedule-scheme/update",e)}(e),n.T.success(r),s(g(e)),t&&t()}catch(e){(0,a.x)(e,i),console.error("updateScheduleSchema error: ",e)}}));return function(e){return s.apply(this,arguments)}}()}function E(e,t){return function(){var r=h((function*(r){try{var{success:i}=yield function(e){return(0,o.t9)("schedule-scheme/delete",e)}(e);r(y(e)),i&&(n.T.success(),"function"==typeof t&&t())}catch(e){console.error("deleteScheduleSchema error: ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function D(e,t){e(x(t))}function A(e){return function(){var t=h((function*(t){D(t,!0);try{var{response:r}=yield(0,o.t9)("schedule-scheme/untypical/batch/read-by-group",{id:e});t(j(r)),D(t,!1)}catch(e){D(t,!1),console.error("fetchSpecialDaysForMultiEdit error: ",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}var M=(e,t)=>h((function*(){try{var{success:r}=yield(0,o.t9)("schedule-scheme/untypical/delete",e);r&&(n.T.success(),"function"==typeof t&&t())}catch(e){console.error("deleteUntypicalDay = ",e),(0,a.x)(e)}}));function I(e,t){return h((function*(){try{var{success:r}=yield(0,o.t9)("schedule-scheme/untypical/batch/edit",e);r&&"function"==typeof t&&(t(),n.T.success())}catch(e){console.error("massUpdateSpecialDays = ",e),(0,a.x)(e)}}))}function Z(e,t){return h((function*(){try{var{success:r}=yield(0,o.t9)("schedule-scheme/batch/change-group",e);r&&"function"==typeof t&&(t(),n.T.success())}catch(e){console.error("updateScheduleSchemesGroup = ",e),(0,a.x)(e)}}))}function q(e,t){return h((function*(){try{var{success:r}=yield(0,o.t9)("schedule-scheme/remove-all",e);r&&"function"==typeof t&&(t(),n.T.success())}catch(e){console.error("removeAllScheduleSchemes = ",e),(0,a.x)(e)}}))}},9668:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createComment:()=>O,deleteCommentsByParam:()=>C,deleteSelectedComments:()=>w,downloadCommentsExcel:()=>k,fetchCommentsList:()=>T,receiveAllCommentsCheckBox:()=>S,receiveCommentsCheckBox:()=>x,receiveCommentsDownloadExcelError:()=>b,receiveCommentsList:()=>y,receiveCreateComments:()=>h,receiveUpdateComments:()=>f,removeComment:()=>m,removeCommentsByParam:()=>v,setCommentsDownloadExcelLoading:()=>g,successCommentsDownloadExcel:()=>j,updateComments:()=>P});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(69301);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){u(n,i,s,a,o,"next",e)}function o(e){u(n,i,s,a,o,"throw",e)}a(void 0)}))}}var h=(0,i.PH)("receiveCreateComments"),f=(0,i.PH)("receiveUpdateComments"),m=(0,i.PH)("removeComment"),v=(0,i.PH)("removeCommentsByParam"),y=(0,i.PH)("receiveCommentsList"),g=(0,i.PH)("setCommentsDownloadExcelLoading"),b=(0,i.PH)("receiveCommentsDownloadExcelError"),j=(0,i.PH)("successCommentsDownloadExcel"),x=(0,i.PH)("receiveCommentsCheckBox"),S=(0,i.PH)("receiveAllCommentsCheckBox");function O(e,t){return function(){var r=p((function*(r){try{var{response:i,success:o}=yield(0,n.t9)("user-schedule/comment/create",e);o&&("function"==typeof t&&t(),r(h(i)),s.T.success())}catch(e){console.error("createComments = ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function P(e,t){return function(){var r=p((function*(r){try{var{response:i,success:o}=yield(0,n.t9)("operation/update",e);o&&(r(f(i)),s.T.success(),t&&t())}catch(e){console.error("updateOComments error = ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function w(e,t){return p((function*(){try{var{success:r}=yield(0,n.t9)("user-schedule/comment/delete-all",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("deleteAllComments error = ",e),(0,a.x)(e)}}))}function C(e){return p((function*(){try{var{success:t}=yield(0,n.t9)("user-schedule/comment/delete/by-params",c({},e));t&&s.T.success()}catch(e){console.error("deleteCommentsByParam error = ",e),(0,a.x)(e)}}))}var k=e=>function(){var t=p((function*(t){t(g());try{var r=yield(0,n.ZP)("POST","user-schedule/comment/report/download",c({},e)),i=yield r.blob();(0,o.s)(i,"comments.xlsx")}catch(e){t(b(e.message)),(0,a.x)(e)}finally{t(j())}}));return function(e){return t.apply(this,arguments)}}();function T(e){return function(){var t=p((function*(t){try{var{response:r,success:i}=yield(0,n.t9)("user-schedule/comment/read/by-params",e);i&&t(y(r))}catch(e){console.error("fetchCommentsList = ",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},24928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearSwapList:()=>m,clearUserToFromActivities:()=>g,getAllSwap:()=>P,getAllUsers:()=>w,getUserReqResSwap:()=>k,resolveSwapSchedule:()=>T,setActiveRefreshBtn:()=>j,setSwapList:()=>p,setSwapLoading:()=>h,setSwapLoadingDetail:()=>b,setSwapUser:()=>f,setUserFromActivities:()=>v,setUserToActivities:()=>y});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(65227),c=r(85893);function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("setSwapList"),h=(0,i.PH)("setSwapLoading"),f=(0,i.PH)("setSwapUser"),m=(0,i.PH)("clearSwapList"),v=(0,i.PH)("setUserFromActivities"),y=(0,i.PH)("setUserToActivities"),g=(0,i.PH)("clearUserToFromActivities"),b=(0,i.PH)("setSwapLoadingDetail"),j=(0,i.PH)("setActiveRefreshBtn"),x=(0,c.jsx)(s.Z,{id:"Notifications.couldNotGetAllUsers",defaultMessage:[{type:0,value:"Список пользователей не получен"}]}),S=(0,c.jsx)(s.Z,{id:"Notifications.couldNotGetUserReqResSwap",defaultMessage:[{type:0,value:"Список активностей не получен"}]}),O=(0,c.jsx)(s.Z,{id:"Notifications.couldNotResolveSwap",defaultMessage:[{type:0,value:"Обмен сменами не сохранен"}]});function P(e){return function(){var t=u((function*(t){try{t(h(!0));var r={};e&&(r=e);var{error:i,response:s=[]}=yield(0,o.t9)("swap-schedule-request/read-all-for-manager",r);i?((0,a.x)(),t(p([]))):s&&t(p(s)),t(h(!1))}catch(i){console.error("getAllSwap error = ",i),(0,a.x)(i),t(h(!1))}}));return function(e){return t.apply(this,arguments)}}()}function w(e){return function(){var t=u((function*(t){try{var{error:r,response:i=[]}=yield(0,o.t9)("operator/view-by-group?readmode=HIRED",{id:e});r?(0,a.x)():t(f((s=i)&&s.length&&s.map((e=>({id:e.id,model:e,name:e.lastName+(e.firstName?" "+e.firstName:"")+(e.middleName?" "+e.middleName:"")})))))}catch(r){console.error("getAllUsers error = ",r),(0,a.x)(r,x)}var s}));return function(e){return t.apply(this,arguments)}}()}function C(e){var{userId:t,from:r,to:i}=e,s={userId:t,from:(0,l.b7)(r),to:(0,l.iX)(i)};return(0,o.ZP)("POST","user-schedule/read-details-by-user",s)}function k(e){return function(){var t=u((function*(t){t(b(!0));try{var{request:r,response:i}=e,s=yield C(r),n=yield C(i),o=yield s.json(),l=yield n.json();o.error?(0,a.x)(null,S):t(v(o.response)),l.error?(0,a.x)(null,S):t(y(l.response)),t(b(!1))}catch(e){console.error("getUserRequestSwap error: ",e),(0,a.x)(e,S),t(b(!1))}}));return function(e){return t.apply(this,arguments)}}()}function T(e,t){return u((function*(){try{var r=yield(s=e,(0,o.ZP)("POST","swap-schedule-response/resolve",s)),{error:i}=yield r.json();i||(n.T.success(),t())}catch(i){console.error("resolveSwapSchedule error: ",i),(0,a.x)(i,O)}var s}))}},28487:(e,t,r)=>{"use strict";r.r(t),r.d(t,{copyTasks:()=>E,createTask:()=>k,deleteTask:()=>A,deleteTasks:()=>M,distributeTasks:()=>T,fetchByTaskGroup:()=>C,freeTasks:()=>N,isDeletingTask:()=>w,redistributeTasks:()=>R,taskAdded:()=>x,taskCreated:()=>f,taskDeleted:()=>b,taskFetched:()=>y,taskGroupsFetched:()=>S,taskGroupsUpdated:()=>O,taskUpdated:()=>g,tasksDeleted:()=>j,tasksFetched:()=>m,tasksUpdated:()=>v,toggleTaskForm:()=>P,updateTask:()=>D});var i=r(81978),s=r(44012),n=r(41524),a=r(35667),o=r(88599),l=r(82028),c=r(30053),d=r(12718),u=r(85893);function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("taskCreated"),m=(0,i.PH)("tasksFetched"),v=(0,i.PH)("tasksUpdated"),y=(0,i.PH)("taskFetched"),g=(0,i.PH)("taskUpdated"),b=(0,i.PH)("taskDeleted"),j=(0,i.PH)("tasksDeleted"),x=(0,i.PH)("taskAdded"),S=(0,i.PH)("taskGroupsFetched"),O=(0,i.PH)("taskGroupsUpdated"),P=(0,i.PH)("toggleTaskForm"),w=(0,i.PH)("isDeletingTask");function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupId:"",from:"",to:""},t=arguments.length>1?arguments[1]:void 0;return r=>{(0,l.t9)("user-task/read-period",e).then((e=>{r(m(e.response)),t&&t(e.response)})).catch((e=>{console.error("fetchByTaskGroup error =",e),(0,o.x)(e)}))}}function k(e,t){return function(){var r=h((function*(r){try{var i=yield(0,l.ZP)("POST","user-task/create",e),s=yield i.json();s.success?(e.id=s.response.id,(0,l.t9)("user-task/read",{id:s.response.id}).then((e=>{t&&t(e.response),r(f(e.response))})),n.T.success()):(0,o.x)()}catch(e){console.error("createTask error =",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return h((function*(){(0,l.t9)("user-task/distribute-batch",{ids:e,behavior:t?d.ZP.TASK_BEHAVIORS.FORCE:d.ZP.TASK_BEHAVIORS.NONE}).then((e=>{n.T.success(),r(e.response)})).catch((e=>{console.error("distributeTasks error =",e),(0,o.x)(e),i(e)}))}))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return h((function*(){return(0,l.t9)("user-task/withdraw-batch",e).then((e=>{n.T.success(),t(e.response)})).catch((e=>{console.error("freeTasks error =",e),(0,o.x)(e),r(e)}))}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return h((function*(){return(0,l.t9)("user-task/redistribute-batch",{ids:e}).then((e=>{n.T.success(),t&&t(e.response)})).catch((e=>{console.error("redistributeTasks error =",e),(0,o.x)(e),r(e)}))}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.wA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.wA;return h((function*(){var{taskIds:i,from:a,to:c}=e;return(0,l.t9)("user-task/copy-task-batch-period",{ids:i,from:a,to:c}).then((()=>{n.T.success((0,u.jsx)(s.Z,{id:"Tasks.tasksCopied",defaultMessage:[{type:0,value:"Задачи скопированы."}]})),t(i)})).catch((e=>{console.error("copyTasks error =",e),(0,o.x)(e),r(e)}))}))}function D(e,t){return function(){var r=h((function*(r){try{var i=yield(0,l.ZP)("POST","user-task/update",e);(yield i.json()).success?((0,l.t9)("user-task/read",{id:e.id}).then((e=>{t&&t(e.response),r(g(e.response))})),n.T.success((0,u.jsx)(s.Z,{id:"Notifications.updated",defaultMessage:[{type:0,value:"Обновлено."}]}))):(0,o.x)()}catch(e){console.error("updateTask error =",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function A(e,t){return function(){var r=h((function*(r){try{var{success:i,errors:c}=yield(0,l.t9)("user-task/delete",{id:e});i&&(r(b(e)),r(P(!1)),n.T.success((0,u.jsx)(s.Z,{id:"Notifications.deleted",defaultMessage:[{type:0,value:"Удалено."}]}))),t&&(0,a.xb)(c)&&t()}catch(e){console.error("deleteTask error =",e),(0,o.x)(e)}finally{r(P(!1)),r(w(!1))}}));return function(e){return r.apply(this,arguments)}}()}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return function(){var i=h((function*(i){return(0,l.t9)("user-task/delete-batch",e).then((()=>{i(j(e)),n.T.success([(0,u.jsx)(s.Z,{id:"Notifications.deleted",defaultMessage:[{type:0,value:"Удалено."}]}),e.count]),i(P(!1)),i(w(!1)),t(e)})).catch((e=>{console.error("deleteTasks error =",e),(0,o.x)(e),r(e)}))}));return function(e){return i.apply(this,arguments)}}()}},90057:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c,t:()=>o});var i=r(45697),s=r.n(i),n=r(15286),a=r(85893),o=865,l=e=>{var{setScheduleZoomValue:t,value:r}=e;return(0,a.jsx)(n.Z,{min:o,max:2985,step:20,value:r,onChange:t})};l.propTypes={setScheduleZoomValue:s().func.isRequired,value:s().number.isRequired};const c=l},50015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(67294),s=r(45697),n=r.n(s),a=r(47166),o=r.n(a),l=r(85893),c=o().bind({root:"w5t-EeO171KRweR9mVrsWw==",withoutTopMargin:"JCpT87RVvaAETdL6z6tMpA==",bordered:"c4VJgicGp2UItzr-PK3LcQ=="});class d extends i.Component{render(){var{ticks:e,withoutTopMargin:t,hidden:r,bordered:i,style:s}=this.props,n=c("root","flex-item_fixed",{withoutTopMargin:t,bordered:i});if(r)return null;var a=[...e].sort(((e,t)=>t-e));return(0,l.jsx)("div",{className:n,style:s,children:a.map(((t,r)=>(0,l.jsx)("div",{className:r===e.length-1?"flex-item_fixed":"flex-item_flexible",children:t},t)))})}}d.defaultProps={ticks:[],style:{},hidden:!1,bordered:!1,withoutTopMargin:!1},d.propTypes={ticks:n().array,withoutTopMargin:n().bool,hidden:n().bool,style:n().object,bordered:n().bool};const u=d},74717:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(45697),s=r.n(i),n=r(3598),a=r.n(n),o=r(43637),l=r(40767),c=r(85893),d=e=>{var{onClick:t,hint:r,hidden:i}=e;return i?null:(0,c.jsx)(l.Z,{onClick:t,hint:r,children:(0,c.jsx)(o.ZP,{glyph:o.UX})})};d.defaultProps={hidden:!1,hint:""},d.propTypes=a()({onClick:s().func.isRequired,hidden:s().bool,hint:s().string});const u=d},50496:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(67294),s=r(45697),n=r.n(s),a=r(43637),o=r(40767),l=r(85893);class c extends i.Component{render(){var{onClick:e,hint:t,disabled:r}=this.props;return r?null:(0,l.jsx)(o.Z,{onClick:e,hint:t,children:(0,l.jsx)(a.ZP,{glyph:a.sv})})}}c.defaultProps={disabled:!1,hint:""},c.propTypes={onClick:n().func.isRequired,disabled:n().bool,hint:n().string};const d=c},96694:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(40767),l=r(43637),c=r(35667),d=r(47945),u=r(44012),p=r(85893),h=e=>{var{isChanged:t}=e;return t?(0,p.jsx)("span",{className:"pl",children:(0,p.jsx)(u.Z,{id:"Common.thereAreUnsavedChanges",defaultMessage:[{type:0,value:"Есть неопубликованные изменения"}]})}):null};h.defaultProps={isChanged:!1},h.propTypes={isChanged:s().bool};const f=h;var m=r(75073),v=a()(["success",m.Z.unsavedChanges]);function y(e){var{onClick:t,hint:r,disabled:i,isChanged:s,from:n,to:a}=e,d=i||!s||(0,c.xb)(n)||(0,c.xb)(a);return(0,p.jsxs)(o.Z,{className:v,hint:r,onClick:t,disabled:d,children:[(0,p.jsx)(l.ZP,{glyph:l.mB}),(0,p.jsx)(f,{isChanged:s})]})}y.defaultProps={disabled:!1,isChanged:!1,from:null,to:null},y.propTypes={hint:s().string.isRequired,disabled:s().bool,isChanged:s().bool,from:d.yb,to:d.yb,onClick:s().func.isRequired};const g=y},86162:(e,t,r)=>{"use strict";r.d(t,{$d:()=>v,EK:()=>d,KS:()=>j,LF:()=>c,Mb:()=>f,Nb:()=>x,O7:()=>y,UH:()=>l,VK:()=>u,a2:()=>O,dK:()=>p,iK:()=>h,oT:()=>g,oZ:()=>m,tL:()=>b,wR:()=>S});var i=r(44012),s=r(30381),n=r.n(s),a=r(65227),o=r(85893),l="RESTS",c="SCHEDULES",d="MMMM YYYY",u=(0,a.So)((0,a.zO)()),p=(0,a.Uk)((0,a.zO)()),h=(0,o.jsx)(i.Z,{id:"Graph.rests",defaultMessage:[{type:0,value:"Перерывы"}]}),f=(0,o.jsx)(i.Z,{id:"Graph.schedules",defaultMessage:[{type:0,value:"Смены"}]}),m=(0,o.jsx)(i.Z,{id:"Graph.restsDescription",defaultMessage:[{type:0,value:"При оптимизации плавающие перерывы будут перемещены исходя из оптимального расчета FTE."}]}),v=(0,o.jsx)(i.Z,{id:"Graph.schedulesDescription",defaultMessage:[{type:0,value:"При оптимизации будет выбран более подходящий вариант смены по выбранной при построении расписания схеме."}]}),y=(0,o.jsx)(i.Z,{id:"Graph.schemasOffset",defaultMessage:[{type:0,value:"Возможно смещение смен в пределах контейнера."}]}),g=(0,o.jsx)(i.Z,{id:"Graph.warningCheckbox",defaultMessage:[{type:0,value:"После оптимизации смены могут измениться. Массово восстановить их будет невозможно."}]}),b=(0,o.jsx)(i.Z,{id:"Graph.doOptimize",defaultMessage:[{type:0,value:"Оптимизировать"}]}),j=(e,t)=>{var r=[],i=[];r.push(i);for(var s=0,a=n()(e+"-"+t,"YYYY-MM").startOf("month"),o=n()(a).endOf("month");a<o;){var l=a.weekday()+1;l<s&&(i=[],r.push(i));var c={},d=n()(a).format("DD");c.day=d,c.date="".concat(e,"-").concat(t,"-").concat(d),i[l]=c,s=l,a.add(1,"d")}for(;r.length<=5;)r.push([]);return r},x=e=>n()(e,d).add(1,"month").format(d),S=e=>n()(e,d).subtract(1,"month").format(d),O=e=>n()(e,"MM").format(d)},22402:(e,t,r)=>{"use strict";r.d(t,{JZ:()=>l,LN:()=>k,N6:()=>m,Oe:()=>h,T4:()=>p,Ub:()=>c,WB:()=>y,Wv:()=>a,ZO:()=>O,ZR:()=>d,aU:()=>T,cI:()=>b,gt:()=>f,hO:()=>o,l$:()=>w,m8:()=>g,pY:()=>P,qP:()=>S,t9:()=>u,w7:()=>C,xI:()=>j,yT:()=>x,zV:()=>v});var i=r(44012),s=r(43637),n=r(85893),a=(0,n.jsx)(i.Z,{id:"Graph.massDeleteDrawerTitle",defaultMessage:[{type:0,value:"Удалить выбранные комментарии"}]}),o=(0,n.jsx)(i.Z,{id:"Graph.massDeleteButtonTitle",defaultMessage:[{type:0,value:"Удалить выбранные комментарии"}]}),l={id:"Graph.functionSettingTitle",defaultMessage:"Настройка функций"},c={id:"Graph.confirmTitle",defaultMessage:"Удалить комментарии"},d={id:"Graph.confirmFullMessagePartOne",defaultMessage:"Комментарии всех выбранных пользователей за период"},u={id:"Graph.confirmFullMessagePartTwo",defaultMessage:"будут удалены без возможности восстановления"},p=(0,n.jsx)(i.Z,{id:"Graph.uploadSelectedCommentsLabel",defaultMessage:[{type:0,value:"Выгрузить выбранные комментарии"}]}),h=(0,n.jsx)(i.Z,{id:"Graph.massDeleteForm.commentsAuthors",defaultMessage:[{type:0,value:"Авторы комментариев"}]}),f=(0,n.jsx)(i.Z,{id:"Settings.Employees",defaultMessage:[{type:0,value:"Сотрудники"}]}),m=(0,n.jsx)(i.Z,{id:"Graph.massDeleteForm.period",defaultMessage:[{type:0,value:"Период"}]}),v=(0,n.jsx)(i.Z,{id:"Graph.optimize",defaultMessage:[{type:0,value:"Оптимизация"}]}),y={id:"Graph.optimize",defaultMessage:"Оптимизация"},g={id:"Common.refresh",defaultMessage:"Обновить"},b={id:"ScheduleComputing.buildSchedule",defaultMessage:"Построить расписание"},j={id:"LaborCode.scheduleViolations",defaultMessage:"Нарушение ТК"},x={id:"Graph.denyChanges",defaultMessage:"Запретить изменения"},S={id:"Graph.employeeRequest",defaultMessage:"Запрос сотрудника"},O={id:"ScheduleComments.title",defaultMessage:"Комментарии к сменам"},P={id:"WorkScheduleEmployee.Title",defaultMessage:"Рабочий график сотрудников"},w={id:"Schedule.Panel.Btn.RecountFTE",defaultMessage:"Пересчитать FTE"},C={id:"ScheduleComputing.publishSchedule",defaultMessage:"Опубликовать расписание"},k={detailScheduleBtnShowed:!1,scheduleReportBtnShowed:!1,importScheduleBtnShowed:!1,optimizeBtnShowed:!1,scheduleViolationsBtnShowed:!1,denyChangesBtnShowed:!1},T=[{iconGlyph:s.tF,style:{width:18,height:18},caption:(0,n.jsx)(i.Z,{id:"Graph.violationLaborCode",defaultMessage:[{type:0,value:"Нарушение ТК сотрудником"}]}),paragraph:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{id:"Graph.violationLaborCodeFirstText",defaultMessage:[{type:0,value:"Наведение на иконку показывает список нарушений ТК сотрудником."}]}),(0,n.jsx)("br",{}),(0,n.jsx)(i.Z,{id:"Graph.violationLaborCodeSecondText",defaultMessage:[{type:0,value:"Клик ведёт на страницу с полным списком нарушений."}]})]})},{iconGlyph:s.bn,style:{width:16,height:16},caption:(0,n.jsx)(i.Z,{id:"Graph.Shape",defaultMessage:[{type:0,value:"Треугольник в правом верхнем углу"}]}),paragraph:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{id:"Graph.shapeFirstText",defaultMessage:[{type:0,value:"Показывает, что к смене есть комментарии."}]}),(0,n.jsx)("br",{}),(0,n.jsx)(i.Z,{id:"Graph.shapeSecondText",defaultMessage:[{type:0,value:"При открытии детального вида смены, будет ссылка для перехода на список комментариев."}]})]})},{iconGlyph:s.Ux,style:{width:18,height:18},caption:(0,n.jsx)(i.Z,{id:"Graph.Star",defaultMessage:[{type:0,value:"Звёздочка в правом нижнем углу"}]}),paragraph:(0,n.jsx)(i.Z,{id:"Graph.starFirstText",defaultMessage:[{type:0,value:"Показывает, что смена построена по предпочтениям сотрудника."}]})}]},75514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Et});var i=r(28216),s=r(97779),n=r(74806),a=r(17666),o=r(67294),l=r(45697),c=r.n(l),d=r(3598),u=r.n(d),p=r(30381),h=r.n(p),f=r(65227),m=r(47945),v=r(96437),y=r(44012),g=r(94184),b=r.n(g),j=r(60258),x=r(43637),S=r(40767),O=r(12718),P=r(22350),w=r(94689),C=r(52429),k=r(85893);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=e=>(0,k.jsx)("svg",N(N({width:14,height:12,xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1C0 0.447715 0.447715 0 1 0H13C13.5523 0 14 0.447715 14 1C14 1.55228 13.5523 2 13 2H1C0.447715 2 0 1.55228 0 1ZM0 5C0 4.44772 0.447715 4 1 4H13C13.5523 4 14 4.44772 14 5C14 5.55228 13.5523 6 13 6H1C0.447715 6 0 5.55228 0 5ZM0 9C0 8.44772 0.447715 8 1 8H13C13.5523 8 14 8.44772 14 9C14 9.55229 13.5523 10 13 10H1C0.447715 10 0 9.55229 0 9Z"})}));var D=r(57273),A=r(98805),M=r(74717),I=r(50496),Z=r(96694),q=r(81977),F=r(95766),L=e=>{var{handleRefresh:t,hint:r,disabled:s}=e,n=(0,i.v9)(F.M),[a,l]=(0,o.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[a&&n&&(0,k.jsx)(q.Z,{onClose:()=>l(!1)}),(0,k.jsx)(S.Z,{onClick:()=>{t(),l(!0)},hint:r,disabled:!t||s,children:(0,k.jsx)(x.ZP,{glyph:x.Du})})]})};L.propTypes={handleRefresh:c().func.isRequired,hint:c().string.isRequired,disabled:c().bool.isRequired};const H=L;var _=r(53514);class B extends o.Component{render(){var{hint:e,onClick:t,hidden:r,classContainer:i,disabled:s}=this.props;return r?null:(0,k.jsx)(_.Z,{disabled:s,classContainer:i,hint:e,glyph:x.Kh,onClick:t})}}B.defaultProps={classContainer:"",disabled:!1},B.propTypes={hint:c().string.isRequired,onClick:c().func.isRequired,hidden:c().bool.isRequired,classContainer:c().string,disabled:c().bool};const G=B;var W=r(56089),U=r(40518),V=r(75073),z=r(78340),Y=e=>{var{from:t,to:r,onStartDateChange:s,onEndDateChange:n,disabled:a}=e,l=(0,i.I0)();return(0,o.useEffect)((()=>l((0,z.setCurrentDatePeriod)({from:t,to:r}))),[t,r]),(0,k.jsxs)("h2",{className:b()(V.Z.periodContainer,"control-panel__header2"),children:[(0,k.jsx)("span",{className:"pr",children:(0,k.jsx)(W.Z,{disabled:a,date:t,onChange:s,selectsStart:!0})}),(0,k.jsx)("span",{className:"pr",children:(0,k.jsx)(U.i,{disabled:a})}),(0,k.jsx)("span",{className:"pr",children:(0,k.jsx)(W.Z,{disabled:a,date:r,onChange:n,selectsEnd:!0,minDate:t})})]})};Y.defaultProps={from:"",to:"",disabled:!1},Y.propTypes={from:m.yb,to:m.yb,onStartDateChange:l.func.isRequired,onEndDateChange:l.func.isRequired,disabled:c().bool};const Q=Y;var K=r(86225),X=(0,r(50049).vU)({ScheduleImport:{id:"Schedule.uploadActivities",defaultMessage:[{type:0,value:"Загрузить активности из excel"}]}}),J=e=>{var{onImportRequest:t,onSuccess:r,intl:{formatMessage:i},hidden:s,iconStyle:n,disabled:a}=e,l=(0,o.useRef)(null),c=i(X.ScheduleImport);return(0,k.jsxs)("label",{className:V.Z.importContainer,hidden:s,children:[(0,k.jsx)(S.Z,{hint:c,style:{display:"flex"},disabled:a,children:(0,k.jsx)(x.ZP,{glyph:x.bb,className:n})}),(0,k.jsx)("input",{ref:l,style:{display:"none"},type:"file",onChange:e=>{var i=e.target.files[0];if(l&&(l.current.value=""),i){var s=new FormData;s.append("file",i),t(s,(()=>{r&&r()}))}}})]})};J.propTypes={onImportRequest:c().func.isRequired,intl:c().object.isRequired,hidden:c().bool.isRequired,onSuccess:c().func.isRequired,iconStyle:c().string,disabled:c().bool},J.defaultProps={iconStyle:"svg-icon",disabled:!1};const $=(0,n.ZP)(J);var ee=r(22402),te=r(85208),re=r(72772),ie=r(8043),se=r(35105),ne=r(34011),ae=r(95326),oe=r(84343),le=r(86896),ce=r(65399),de=r(15113),ue=r(70120),pe=r(3309),he=r(86312),fe=r(35667);var me=r(9668);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=e=>{var{employeesList:t,handleSubmit:r,formValues:s,managerList:n}=e,[a,l]=(0,o.useState)(!1),c=(0,i.I0)(),d=(0,le.Z)(),u=(0,fe.xb)(null==s?void 0:s.authorIds)&&(0,fe.xb)(null==s?void 0:s.userIds),p=d.formatMessage(ee.ZR),m=d.formatMessage(ee.t9),v={text:"name",value:"id"},y="".concat(p,"  ").concat(h()(null==s?void 0:s.from,f._E).format("DD-MM-YYYY")," - ").concat(h()(null==s?void 0:s.to,f._E).format("DD-MM-YYYY"),"  ").concat(m),g=d.formatMessage({id:"Graph.massDeleteForm.commentsAuthorsSearch",defaultMessage:[{type:0,value:"Поиск по авторам"}]}),b=d.formatMessage({id:"Graph.massDeleteForm.employeesSearch",defaultMessage:[{type:0,value:"Поиск по сотрудникам"}]}),j=t.filter((e=>e.firingDate===O.ZP.END_OF_TIME||e.firingDate>=(null==s?void 0:s.from)));return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"fJraaHorigcnUCgJqxJ36Q==",children:[(0,k.jsx)("span",{className:"_0YKpUZx0ZXZDHuN973oD9w==",children:ee.N6}),(0,k.jsxs)("div",{className:"wAhQng-SG04nxbKK6RyBWg==",children:[(0,k.jsx)(ce.Z,{component:ue.Z,name:"from"}),(0,k.jsx)("span",{children:"—"}),(0,k.jsx)(ce.Z,{component:ue.Z,name:"to",minDate:null==s?void 0:s.from})]})]}),(0,k.jsxs)("div",{className:"UbTCRlxdMWoNPuX8SycX8g==",children:[(0,k.jsx)("span",{style:{flex:1},children:ee.Oe}),(0,k.jsx)("div",{className:"KKo1Ml49YuwZXG1oFTTp5g==",children:(0,k.jsx)(ce.Z,{component:pe.Z,name:"authorIds",dataSource:n,dataSourceConfig:v,placeholder:g})})]}),(0,k.jsxs)("div",{className:"Yl9AQFdbLWdRJ78ls6vBDg==",children:[(0,k.jsx)("span",{style:{flex:1},children:ee.gt}),(0,k.jsx)("div",{className:"_53NmCOocyJkF2YoJhyhs2g==",children:(0,k.jsx)(ce.Z,{component:pe.Z,name:"userIds",dataSource:j.sort((0,P.hM)()),dataSourceConfig:v,placeholder:b})})]}),(0,k.jsxs)("div",{className:"SzLowiuDnMSLlQ8fWKOa1w==",children:[(0,k.jsxs)(S.Z,{onClick:()=>{l(!0)},disabled:u,children:[(0,k.jsx)(x.ZP,{glyph:x.XH,style:{marginLeft:5,marginRight:10}}),ee.hO]}),(0,k.jsxs)(S.Z,{className:"ePfQdGqzaOFJnK2FtH8U3w==",onClick:()=>{var e=ye(ye({},s),{},{to:(0,f.iX)(s.to)});c((0,me.downloadCommentsExcel)(e))},disabled:u,children:[(0,k.jsx)(x.ZP,{glyph:x.gq,style:{marginLeft:5,marginRight:10}}),ee.T4]})]})]}),(0,k.jsx)(he.Z,{message:ee.Ub,fullMessage:y,open:a,onSubmit:r,close:()=>l(!1)})]})};be.propTypes=de.Ar;const je=be;var xe=r(71505);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we="MassDeleteCommentsForm";const Ce=(0,s.compose)((0,i.$j)((e=>({employeesList:(0,ae.Ig)(e),managerList:(0,a.Tj)(e),groupId:(0,xe.Wx)(e),formValues:(0,te.Z)(we)(e)})),(e=>({initializeForm:(t,r)=>{e((0,re.j2)(we,r))},fetchManagersWithComments:()=>e((0,ne.fetchManagersWithComments)()),fetchEmployees:t=>e((0,oe.fetchEmployees)(t)),onSubmit:t=>{var r=Oe(Oe({},t),{},{from:(0,f.CK)(t.from),to:(0,f.iX)(t.to)});e((0,me.deleteCommentsByParam)(r))}}))),(0,ie.Z)({form:we}),(0,se.Z)((e=>{var{props:t}=e,r={authorIds:[],userIds:[],from:(0,f.b7)((0,f.zO)()),to:(0,f.iX)((0,f.zO)())};t.initializeForm(we,r),t.fetchManagersWithComments(),t.fetchEmployees({id:t.groupId})})))(je);var ke=r(36853),Te=r(69382),Ne=r(50335);const Re="_2phoewnDExejsGM976Me2g==",Ee="HR+34OjJ09G7cb-YZQGLjg==";var De=r(86162);var Ae=e=>{var{day:t,onCheckboxChange:r,optimizeDays:i,disabled:s}=e,n=null==i?void 0:i.includes(t.date),a=n&&!s;n&&s&&r(t.date);var o=b()({"hZcjQUX--OxUtR5eMDROxg==":a,"mzgUz6FYB3mVr2XN7dYoag==":s});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:o,children:t.day}),(0,k.jsx)(Ne.XZ,{onChange:()=>r(t.date),checked:a,className:o,disabled:s})]})};Ae.defaultProps={optimizeDays:[],disabled:!1},Ae.propTypes={day:c().object.isRequired,onCheckboxChange:c().func.isRequired,optimizeDays:c().array,disabled:c().bool};const Me=Ae;var Ie=e=>{var{day:t}=e,r=(0,i.I0)(),s=(0,i.v9)(ke.a4),n=(0,i.v9)(ke.bb)===De.LF?(0,f.mw)((0,f.YD)(t.date,1,f.vc),f.vc):(0,f.mw)(t.date,f.vc);return(0,k.jsx)(Me,{day:t,onCheckboxChange:e=>{r((0,z.setCheckedOptimizeDays)(e))},optimizeDays:s,disabled:n})};Ie.propTypes={day:c().object.isRequired};const Ze=Ie,qe="NTkMPpJZc5sL1tsu4AY8uA==",Fe="_5tk7bUb7fsOdBBW3SXFi7A==",Le="rgnepCSvCHa3fOSoJAlfMQ==",He="vNlHAnlaEW-VEZmAk62VRg==";var _e=e=>{var{date:t,weeks:r,onIncrementMonth:i,onDecrementMonth:s,disabled:n}=e,a=e=>(0,k.jsx)(Ze,{day:e});return(0,k.jsxs)("table",{className:"Oq9DEKAb-GMMkb5Vsy-ioA==",children:[(0,k.jsxs)("thead",{children:[(0,k.jsx)("tr",{className:"yiF10swzeAIXbesO0Fa6TA==",children:(0,k.jsx)("td",{colSpan:"7",children:(0,k.jsxs)("div",{className:"glEV8w+OjRIfc-NvRzRuBA==",children:[(0,k.jsx)(S.Z,{onClick:s,disabled:n,children:(0,k.jsx)(x.ZP,{glyph:x.Y4})}),(0,k.jsx)("div",{className:"QFxOrv0XcYZ5IGrDZwQWnA==",children:t}),(0,k.jsx)(S.Z,{onClick:i,children:(0,k.jsx)(x.ZP,{glyph:x.LZ})})]})})}),(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Fe,children:[(0,f.mH)(0),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Fe,children:[(0,f.mH)(1),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Fe,children:[(0,f.mH)(2),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Fe,children:[(0,f.mH)(3),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Fe,children:[(0,f.mH)(4),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Le,children:[(0,f.mH)(5),(0,k.jsx)("span",{children:"."})]})}),(0,k.jsx)("td",{className:qe,children:(0,k.jsxs)("div",{className:Le,children:[(0,f.mH)(6),(0,k.jsx)("span",{children:"."})]})})]})]}),(0,k.jsx)("tbody",{children:r.map(((e,t)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:He,children:e[1]&&a(e[1])}),(0,k.jsx)("td",{className:He,children:e[2]&&a(e[2])}),(0,k.jsx)("td",{className:He,children:e[3]&&a(e[3])}),(0,k.jsx)("td",{className:He,children:e[4]&&a(e[4])}),(0,k.jsx)("td",{className:He,children:e[5]&&a(e[5])}),(0,k.jsx)("td",{className:He,children:e[6]&&a(e[6])}),(0,k.jsx)("td",{className:He,children:e[7]&&a(e[7])})]},e.id||t)))})]})};_e.propTypes={date:c().string.isRequired,weeks:c().array.isRequired,disabled:c().bool.isRequired,onIncrementMonth:c().func.isRequired,onDecrementMonth:c().func.isRequired};const Be=_e,Ge=()=>{var e=(0,i.I0)(),[t,r]=(0,o.useState)((0,De.a2)(De.dK)),[s,n]=(0,o.useState)((0,De.KS)(De.VK,De.dK)),a=t===(0,De.a2)(De.dK);return(0,o.useEffect)((()=>{var e=(0,f.So)(t,De.EK),r=(0,f.Uk)(t,De.EK);n((0,De.KS)(e,r))}),[t]),(0,k.jsx)(Be,{date:t,weeks:s,onIncrementMonth:()=>{r((0,De.Nb)(t)),e((0,z.clearCheckedOptimizeDays)([]))},onDecrementMonth:()=>{r((0,De.wR)(t)),e((0,z.clearCheckedOptimizeDays)([]))},disabled:a})};var We=e=>{var{onToggleAgreement:t,onSwitchType:r,optimizeType:i,agreement:s,isCheckedOptimizeDays:n,onSubmit:a}=e;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"_2T--Arxqtd1x7zY8SjWcFA==",children:[(0,k.jsxs)("div",{className:"e4ISPE0Ng8qRKSaN3qKI4A==",children:[(0,k.jsx)(Te.Z,{label:De.iK,checked:i===De.UH,classNameLabel:Ee,handler:()=>r(De.UH)}),(0,k.jsx)("div",{className:Re,children:De.oZ})]}),(0,k.jsxs)("div",{className:"NbxR4CGS4WL5WJJcU3aexg==",children:[(0,k.jsx)(Te.Z,{label:De.Mb,checked:i===De.LF,classNameLabel:Ee,handler:()=>r(De.LF)}),(0,k.jsx)("div",{className:Re,children:De.$d}),(0,k.jsx)("div",{className:"WSYgmFS06l5XeVr+DgQPIg==",children:De.O7})]})]}),(0,k.jsx)("div",{className:"H5W3y08PYVj3iYtb-62dkw==",children:(0,k.jsx)(Ge,{})}),(0,k.jsxs)("div",{className:"SImW3DT-wx96ubNpgtXaww==",children:[(0,k.jsxs)("div",{className:"qfWC7KB4qmsbnEWB71oiBQ==",children:[(0,k.jsx)(Ne.XZ,{onChange:t,checked:s}),(0,k.jsx)("div",{className:"qPt2b-ISLo5Vieim5APQZw==",children:De.oT})]}),(0,k.jsx)("div",{className:"h0edubsHvhf+vBVZByTo3Q==",children:(0,k.jsx)(S.Z,{disabled:!s||n,onClick:a,children:De.tL})})]})]})};We.propTypes={onToggleAgreement:c().func.isRequired,optimizeType:c().string.isRequired,agreement:c().bool.isRequired,isCheckedOptimizeDays:c().bool.isRequired,onSubmit:c().func.isRequired,onSwitchType:c().func.isRequired};const Ue=We;var Ve=e=>{var{from:t,to:r,groupId:s}=e,n=(0,i.I0)(),a=(0,i.v9)(ke.bb),l=(0,i.v9)(ke.a4),c=(0,i.v9)(ke.Xd),d=(0,i.v9)(ke.bT),u=(0,i.v9)(ke.uc),[p,h]=(0,o.useState)(!1),m=(0,fe.xb)(l);return(0,k.jsx)(Ue,{onToggleAgreement:()=>h(!p),optimizeType:a,agreement:p,isCheckedOptimizeDays:m,onSubmit:()=>{n((0,z.sendOptimizeDays)({days:l,groupId:s},a,(()=>n((0,z.fetchGraphData)({from:t,to:(0,f.iX)(r,f._E,!0),groupId:s,filter:c,urlParams:d,sortByDay:u})))))},onSwitchType:e=>n((0,z.setOptimizeType)(e))})};Ve.propTypes={groupId:c().string.isRequired,from:c().string.isRequired,to:c().string.isRequired};const ze=Ve;var Ye=r(30053);const Qe="ykgPJ-dYfzY6pn79bH3XLw==",Ke=()=>(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"bwPv1cn8haBwnLswgQkCEg==",children:(0,k.jsx)(y.Z,{id:"Graph.conventions",defaultMessage:[{type:0,value:"Условные обозначения"}]})}),(0,k.jsxs)("div",{className:"njykThNrtk8UrF58D8BFOw==",children:[ee.aU.map((e=>(0,k.jsxs)("div",{className:"_4+WESjSlMvbxkKDhp5MIaQ==",children:[(0,k.jsx)(x.ZP,{className:"",glyph:e.iconGlyph,style:e.style}),(0,k.jsx)("span",{className:"Uc-GiwuS3xVl-GDOdalD1g==",children:e.caption}),(0,k.jsx)("div",{className:"D9RdXyekjqryUTkHpmhDAg==",children:e.paragraph})]}))),(0,k.jsx)("div",{style:{height:"150%"}})]})]});var Xe=(0,k.jsx)(y.Z,{id:"Graph.Pin",defaultMessage:[{type:0,value:"Закрепить"}]}),Je=(0,k.jsx)(y.Z,{id:"WorkScheduleEmployee.Title",defaultMessage:[{type:0,value:"Рабочий график сотрудников"}]}),$e=(0,k.jsx)(y.Z,{id:"Graph.massDeleteDrawerTitle",defaultMessage:[{type:0,value:"Удаление и выгрузка комментариев"}]}),et=(0,k.jsx)(y.Z,{id:"Schedule.uploadActivities",defaultMessage:[{type:0,value:"Загрузить активности из excel"}]}),tt=(0,k.jsx)(y.Z,{id:"Notifications.optimizeSchedule",defaultMessage:[{type:0,value:"Оптимизировать расписание"}]}),rt=(0,k.jsx)(y.Z,{id:"LaborCode.scheduleViolations",defaultMessage:[{type:0,value:"Нарушения ТК"}]}),it=(0,k.jsx)(y.Z,{id:"Graph.denyChanges",defaultMessage:[{type:0,value:"Запретить изменения"}]}),st=e=>{var{hidden:t,onIconClick:r,checkboxDisabled:i,onChangeCheckbox:s,title:n,checkboxChecked:a,iconContent:o}=e;return t?null:(0,k.jsxs)("div",{className:"c-mCAVsxtMIrVe-piD31eA==",children:[(0,k.jsx)("div",{onClick:"function"==typeof r&&r,className:b()("QBRFzccNOCzEM1Y-nTAZmA=="),children:o}),(0,k.jsx)("span",{className:"x79ecX+Z1ZX01bYXdWdhfQ==",children:n}),(0,k.jsx)(Ne.XZ,{disabled:i,classNameLabel:"fDNn2emg1m2xzEukByuFfg==",iconClassName:"_0gA2ZBwxdzsmLO+M45nzYQ==",label:Xe,checked:a,onChange:s})]})};st.defaultProps={onIconClick:Ye.wA,onChangeCheckbox:Ye.wA,hidden:!1,checkboxDisabled:!1,checkboxChecked:!1,iconContent:null,title:""},st.propTypes={onIconClick:c().func,onChangeCheckbox:c().func,hidden:c().bool,checkboxDisabled:c().bool,checkboxChecked:c().bool,title:c().oneOfType([c().string,c().node]),iconContent:c().oneOfType([c().string,c().node])};const nt=st;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ct=e=>{var t,{hiddenBlocked:r,showedSettingsFromLocaleStorage:s,onOpenMassDeletedForm:n,goToScheduleReport:a,onRefresh:l,importSchedule:c,onOpenOptimizeForm:d,onClose:u,frontendSettings:p,user:h,isLaborCodeCheckingEnabled:f}=e,m=(0,i.I0)(),v=(0,P.BC)(h,O.ZP.RIGHTS.SCHEDULE,O.ZP.CRUD),y=!(0,P.BC)(h,O.ZP.RIGHTS.REPORTS),g=(0,P.BC)(h,O.ZP.RIGHTS.SHIFT_BLOCK,O.ZP.CRUD),[b,j]=(0,o.useState)(s);(0,o.useEffect)((()=>{b.denyChangesBtnShowed||m((0,z.setProhibitChangesStatus)(!1))}),[b.denyChangesBtnShowed]);var S=e=>{j(ot(ot({},b),{},{[e]:!b[e]}))};(0,o.useEffect)((()=>{C.Z.setItem("graphControlButtons",JSON.stringify(b))}),[b]);var w=5===(null===(t=Object.keys(b))||void 0===t?void 0:t.filter((e=>b[e]))).length,T=(0,k.jsx)($,{onImportRequest:c,onSuccess:()=>{u(),l()},iconStyle:Qe});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"CxNjcVlB7ouq7GLOc5T9Eg==",children:[(0,k.jsx)(nt,{onIconClick:n,checkboxDisabled:w&&!b.detailScheduleBtnShowed,hidden:!v,onChangeCheckbox:()=>{S("detailScheduleBtnShowed")},checkboxChecked:b.detailScheduleBtnShowed,title:$e,iconContent:(0,k.jsx)(x.ZP,{glyph:x.qt,className:Qe})}),(0,k.jsx)(nt,{onIconClick:a,checkboxChecked:b.scheduleReportBtnShowed,onChangeCheckbox:()=>{S("scheduleReportBtnShowed")},title:Je,checkboxDisabled:w&&!b.scheduleReportBtnShowed,hidden:!p.isVisibleReportWorkSchedule.value||y,iconContent:(0,k.jsx)(x.ZP,{glyph:x.Kh,className:Qe})}),(0,k.jsx)(nt,{checkboxChecked:b.importScheduleBtnShowed,onChangeCheckbox:()=>{S("importScheduleBtnShowed")},title:et,checkboxDisabled:w&&!b.importScheduleBtnShowed,hidden:!v,iconContent:T}),(0,k.jsx)(nt,{onIconClick:d,checkboxChecked:b.optimizeBtnShowed,onChangeCheckbox:()=>{S("optimizeBtnShowed")},title:tt,checkboxDisabled:w&&!b.optimizeBtnShowed,hidden:!v,iconContent:(0,k.jsx)(x.ZP,{glyph:x.rX,className:Qe})}),(0,k.jsx)(nt,{onIconClick:()=>{m((0,z.setLaborCodeViolationsDrawerOpen)(!0))},checkboxChecked:b.scheduleViolationsBtnShowed,onChangeCheckbox:()=>{S("scheduleViolationsBtnShowed")},title:rt,checkboxDisabled:w&&!b.scheduleViolationsBtnShowed,hidden:!f,iconContent:(0,k.jsx)(x.ZP,{glyph:x.gG,className:Qe})}),(0,k.jsx)(nt,{onIconClick:()=>{},checkboxChecked:b.denyChangesBtnShowed,onChangeCheckbox:()=>{S("denyChangesBtnShowed")},title:it,checkboxDisabled:w&&!b.denyChangesBtnShowed,hidden:r||!g,iconContent:(0,k.jsx)(x.ZP,{glyph:x.pK,className:"-jU+C77Dr4VK6b-Fe0XhJg=="})})]}),(0,k.jsx)(Ke,{})]})};ct.defaultProps={onClose:Ye.wA,isLaborCodeCheckingEnabled:!1,hiddenBlocked:!1},ct.propTypes={showedSettingsFromLocaleStorage:c().shape({detailScheduleBtnShowed:c().bool,scheduleReportBtnShowed:c().bool,importScheduleBtnShowed:c().bool,optimizeBtnShowed:c().bool,scheduleViolationsBtnShowed:c().bool,denyChangesBtnShowed:c().bool}).isRequired,onOpenMassDeletedForm:c().func.isRequired,goToScheduleReport:c().func.isRequired,onRefresh:c().func.isRequired,importSchedule:c().func.isRequired,onOpenOptimizeForm:c().func.isRequired,frontendSettings:c().object.isRequired,user:D.Z.isRequired,onClose:c().func,isLaborCodeCheckingEnabled:c().bool,hiddenBlocked:c().bool};const dt=ct;var ut=r(42324);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ht(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ft=e=>{var t=JSON.parse(C.Z.getItem("graphControlButtons")),r=(0,i.v9)(a.e0),s=(0,i.v9)(ut.ts),n=(0,i.v9)((e=>(0,a.vH)(e,"isLaborCodeCheckingEnabled")));return(0,k.jsx)(dt,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({hiddenBlocked:!0,frontendSettings:r,isLaborCodeCheckingEnabled:n,user:s,showedSettingsFromLocaleStorage:t},e))},mt=()=>(0,k.jsx)("div",{className:"Bk1PEgUdDTAAHP8BC2+n1Q==",children:(0,k.jsx)("span",{style:{marginTop:"10px"},children:(0,k.jsx)(y.Z,{id:"Graph.headerText",defaultMessage:[{type:0,value:"Вы можете закрепить функции на основном экране или кликнуть по иконке для перехода в конкретный раздел без закрепления функции на основном экране."}]})})});var vt=r(59553),yt=e=>{var{hidden:t,hint:r}=e,s=(0,i.I0)(),n=(0,i.v9)(ke.se),a=(0,i.v9)(ke.SL);return t?null:(0,k.jsx)(S.Z,{hint:r,onClick:()=>{a.length>0?s((0,z.setOpenScheduleBlockConfirm)(!0)):(s((0,z.setProhibitChangesStatus)(!n)),s((0,z.setOpenScheduleBlockConfirm)(!1)))},active:n,children:(0,k.jsx)(x.ZP,{glyph:vt.Z.id})})};yt.defaultProps={hidden:!1,hint:""},yt.propTypes={hidden:c().bool,hint:c().string};const gt=yt;var bt=e=>{var{hint:t,disabled:r,onClick:i,hidden:s}=e;return s?null:(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(S.Z,{disabled:r,onClick:i,hint:t,style:{alignItems:"center"},children:[(0,k.jsx)(x.ZP,{glyph:x.JH.id}),(0,k.jsx)("span",{className:"pl",style:{fontSize:12},children:(0,k.jsx)(y.Z,{id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]})})]})})};bt.defaultProps={disabled:!1,hidden:!1,onClick:Ye.wA},bt.propTypes={hint:c().string.isRequired,disabled:c().bool,hidden:c().bool,onClick:c().func};const jt=bt;var xt=r(66883),St=e=>{var{intl:t,onClick:r,isLabel:i,active:s,notClickable:n,hidden:a,disabled:o}=e,l=t.formatMessage({id:"Graph.massDeleteDrawerTitle",defaultMessage:[{type:0,value:"Удаление и выгрузка комментариев"}]});if(a)return null;var c=b()({[xt.Z.styleIcon]:n},xt.Z.svgIcon);return(0,k.jsxs)(S.Z,{onClick:r,className:s,hint:l,disabled:o,children:[(0,k.jsx)(x.ZP,{glyph:x.qt,className:c}),i&&(0,k.jsx)("span",{className:b()("pl mb",c),children:(0,k.jsx)("span",{children:l})})]})};St.defaultProps={active:!1,notClickable:!1,disabled:!1},St.propTypes={onClick:c().func.isRequired,isLabel:c().bool.isRequired,hidden:c().bool.isRequired,intl:c().object.isRequired,active:c().bool,notClickable:c().bool,disabled:c().bool};const Ot=(0,n.ZP)(St);var Pt=e=>{var{period:{from:t,to:r},onPublish:s,groupId:n,frontendSettings:a,intervalIsChangedState:l,recalculateFTE:c,isLoadingRecalculate:d,isLoadingPublishByGroup:u,isShowRecalculate:p,isShowAddSchedule:m,intl:v,user:g,handleShowAddSchedule:T,handleEmployeeRequestAvailable:N,handleGraphCommentRequest:R,importSchedule:D,isLaborCodeCheckingEnabled:q,graphPeriod:L,onDateChange:_,onRefresh:B,setCurrentDatePeriod:W,setCurrentViolationListDatePeriod:U,push:Y}=e,X=(0,i.I0)(),J=(0,i.v9)(ke.ni),te=(0,i.v9)(ke.a7),[re,ie]=(0,o.useState)(!1),[se,ne]=(0,o.useState)(!1);(0,o.useEffect)((()=>("reports/main/work-schedule"===J&&X((0,z.setGraphDisplaySettingsOpened)(!0)),()=>{X((0,z.setPrevLocation)("")),X((0,z.setGraphDisplaySettingsOpened)(!1))})),[J]);var ae=(0,i.v9)(ke.Xd),oe=(0,i.v9)(ke.bT),le=(0,i.v9)(F.a),ce=(0,i.v9)(ke.uc),de=(0,i.v9)(ke.se),ue=JSON.parse(C.Z.getItem("graphControlButtons")),pe=()=>{X((0,z.setGraphDisplaySettingsOpened)(!1))},he=()=>{ie(!0)},fe=!(0,P.BC)(g,O.ZP.RIGHTS.REPORTS),me=()=>ne(!0),ve=()=>{var e=(0,f.iX)(r,f._E,!1),[i,s]=(0,f.ae)(t,r,!0);W({from:i,to:s}),U({from:i,to:s}),B({from:t,to:e})},ye=e=>{if("fromDrawer"===e)return X((0,z.setReportOpenedFromDrawer)(!0)),void Y("/reports/main/".concat(w._.workScheduleEmployee));X((0,z.setReportOpenedFromDrawer)(!1)),Y("/reports/main/".concat(w._.workScheduleEmployee))},ge=(0,P.BC)(g,O.ZP.RIGHTS.SCHEDULE,O.ZP.CRUD),be=h()(t).isAfter(r);return(0,k.jsxs)("div",{className:b()("control-panel",V.Z.container),children:[(0,k.jsx)("div",{className:V.Z.burgerBtnContainer,onClick:()=>{X((0,z.setGraphDisplaySettingsOpened)(!0))},title:v.formatMessage(ee.JZ),children:(0,k.jsx)(E,{})}),(0,k.jsx)(j.ZP,{open:te,handleBackArrow:()=>{X((0,z.setGraphDisplaySettingsOpened)(!1)),X((0,z.setReportOpenedFromDrawer)(!1))},title:v.formatMessage(ee.JZ),headerWithSubtitleClassName:V.Z.displaySettingsHeader,subtitle:(0,k.jsx)(mt,{}),arrowBackClassName:V.Z.arrowBackClassName,subtitleContentClassName:V.Z.subTitleContentClassName,width:378,children:(0,k.jsx)(ft,{onClose:pe,onOpenMassDeletedForm:he,onRefresh:ve,onOpenOptimizeForm:me,goToScheduleReport:()=>ye("fromDrawer"),importSchedule:D})}),(0,k.jsx)(Q,{from:t,to:r,onStartDateChange:e=>{var[t,i]=(0,f.ae)(e,(0,f.iX)(r,f._E,!1),!0);_({from:t,to:i})},onEndDateChange:e=>{var[r,i]=(0,f.ae)(t,(0,f.iX)(e,f._E,!1),!0);_({from:r,to:i})}}),(0,k.jsx)(H,{handleRefresh:ve,disabled:be,hint:v.formatMessage(ee.m8)}),(0,k.jsx)(jt,{onClick:T,hint:v.formatMessage(ee.cI),hidden:!m,disabled:de}),(0,k.jsx)(A.Z,{disabled:de,onClick:c,from:L.from,to:L.to,groupId:n,isLoading:d,isShow:p,hint:v.formatMessage(ee.l$),recountFTEClassName:V.Z.recountFTEBtn,isLabel:!0}),(0,k.jsx)(gt,{hint:v.formatMessage(ee.yT),hidden:!0}),(0,k.jsx)(Ot,{disabled:de,isLabel:!1,onClick:he,hidden:!ge||!(null!=ue&&ue.detailScheduleBtnShowed)}),(0,k.jsx)(j.ZP,{hasCustomBackdropClick:!0,customBackdropClick:()=>{var e={from:t,to:r,groupId:n,filter:ae,sortByDay:ce,urlParams:oe};ie(!1),X((0,z.fetchGraphData)(e)),pe()},open:re,handleBackArrow:()=>{ie(!1)},title:ee.Wv,width:700,children:(0,k.jsx)(Ce,{from:t,to:r,groupId:n})}),(0,k.jsx)(M.Z,{onClick:N,hint:v.formatMessage(ee.qP),hidden:de||!a.employeeRequestAvailable.value}),(0,k.jsx)(I.Z,{onClick:R,hint:v.formatMessage(ee.ZO),disabled:de||!a.graphCommentRequiredToChangeQueue.value}),(0,k.jsx)(G,{disabled:de,classContainer:V.Z.scheduleReportIcon,onClick:ye,hint:v.formatMessage(ee.pY),hidden:!a.isVisibleReportWorkSchedule.value||!(null!=ue&&ue.scheduleReportBtnShowed)||fe}),(0,k.jsx)($,{disabled:de,onImportRequest:D,onSuccess:ve,hidden:!ge||!(null!=ue&&ue.importScheduleBtnShowed)}),(0,k.jsx)(S.Z,{disabled:de,onClick:me,hidden:!ge||!(null!=ue&&ue.optimizeBtnShowed),hint:v.formatMessage(ee.WB),children:(0,k.jsx)(x.ZP,{glyph:x.rX})}),(0,k.jsx)(j.ZP,{open:se,hasCustomBackdropClick:!0,customBackdropClick:()=>{pe(),ne(!1)},handleBackArrow:()=>{ne(!1)},title:ee.zV,width:500,children:(0,k.jsx)(ze,{from:t,to:r,groupId:n})}),q&&(0,k.jsx)(K.Z,{disabled:de,customBackdropClick:pe,hint:v.formatMessage(ee.xI),isBtnHidden:!(null!=ue&&ue.scheduleViolationsBtnShowed)}),(0,k.jsx)(Z.Z,{disabled:de||u||!ge,onClick:s,hint:v.formatMessage(ee.w7),isChanged:l,from:t,to:r}),le===O.ck.WARNING&&(0,k.jsx)("div",{className:V.Z.licenseInfo,children:(0,k.jsx)(y.Z,{id:"License.overLicenses",defaultMessage:[{type:0,value:"Достигнут лимит лицензий"}]})})]})};Pt.defaultProps={isLaborCodeCheckingEnabled:!1},Pt.propTypes=u()({period:c().object.isRequired,user:D.Z.isRequired,graphPeriod:c().shape({from:c().string,to:c().string}).isRequired,onPublish:c().func.isRequired,groupId:m.K5.isRequired,frontendSettings:c().object.isRequired,intervalIsChangedState:c().bool.isRequired,recalculateFTE:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,isLoadingPublishByGroup:c().bool.isRequired,isShowRecalculate:c().bool.isRequired,isShowAddSchedule:c().bool.isRequired,intl:c().object.isRequired,setCurrentDatePeriod:c().func.isRequired,setCurrentViolationListDatePeriod:c().func.isRequired,onRefresh:c().func.isRequired,handleShowAddSchedule:c().func.isRequired,handleEmployeeRequestAvailable:c().func.isRequired,handleGraphCommentRequest:c().func.isRequired,push:c().func.isRequired,importSchedule:c().func.isRequired,onDateChange:c().func.isRequired,isLaborCodeCheckingEnabled:c().bool});const wt=Pt;var Ct=r(59813);function kt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tt extends o.Component{constructor(e){super(e),kt(this,"handleShowAddSchedule",(()=>{this.props.openPopup(v._.scheduleComputing)})),kt(this,"handleEmployeeRequestAvailable",(()=>{var{openPopup:e,groupId:t,fetchGraphData:r,periodGraphModeDatePeriod:i,tableFilters:s,tableUrlParams:n,tableUserIds:a,fetchLaborCodeViolationsByUsers:o,isLaborCodeCheckingEnabled:l}=this.props,{from:c,to:d}=i,[u,p]=(0,f.ae)(c,d);e(v._.employeeRequest,{groupId:t,onRequestSend:()=>{r({groupId:t,from:u,to:p,userIds:[],filter:s,urlParams:n},(()=>{l&&o({userIds:a,from:u,to:p})})),e()}})})),kt(this,"handleGraphCommentRequest",(()=>{var{openPopup:e,groupId:t,periodGraphModeDatePeriod:r}=this.props,{from:i,to:s}=r;e(v._.scheduleComments,{style:{width:"1000px",height:"500px",textAlign:"left"},groupId:t,params:{dateFrom:i,dateTo:s,timeFrom:"00:00",timeTo:"23:59"}})}));var{from:t=h()().startOf("month").local().format(f._E),to:r=h()().endOf("month").local().format(f._E)}=e;e.setCurrentDatePeriod({from:t,to:r})}render(){var{periodGraphModeDatePeriod:e,onPublish:t,groupId:r,frontendSettings:i,intervalIsChangedState:s,recalculateFTE:n,isLoadingRecalculate:a,isLoadingPublishByGroup:o,isShowRecalculate:l,isShowAddSchedule:c,intl:d,setCurrentDatePeriod:u,setCurrentViolationListDatePeriod:p,onRefresh:h,user:f,push:m,importSchedule:v,isLaborCodeCheckingEnabled:y,onDateChange:g,from:b,to:j}=this.props;return(0,k.jsx)(wt,{period:{from:b,to:j},graphPeriod:e,onPublish:t,onDateChange:g,groupId:r,frontendSettings:i,intervalIsChangedState:s,recalculateFTE:n,isLoadingRecalculate:a,isLoadingPublishByGroup:o,isShowRecalculate:l,isShowAddSchedule:c,intl:d,user:f,setCurrentDatePeriod:u,setCurrentViolationListDatePeriod:p,onRefresh:h,handleShowAddSchedule:this.handleShowAddSchedule,handleEmployeeRequestAvailable:this.handleEmployeeRequestAvailable,handleGraphCommentRequest:this.handleGraphCommentRequest,push:m,importSchedule:v,isLaborCodeCheckingEnabled:y})}}Tt.propTypes=u()({from:m.yb.isRequired,to:m.yb.isRequired,onRefresh:c().func.isRequired,onPublish:c().func.isRequired,openPopup:c().func.isRequired,fetchGraphData:c().func.isRequired,tableFilters:Ct.PX.isRequired,tableUrlParams:Ct.SR.isRequired,groupId:m.K5.isRequired,frontendSettings:c().object.isRequired,push:c().func.isRequired,intervalIsChangedState:c().bool.isRequired,intl:c().object.isRequired,recalculateFTE:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,isShowRecalculate:c().bool.isRequired,isShowAddSchedule:c().bool.isRequired,isLoadingPublishByGroup:c().bool.isRequired,setCurrentDatePeriod:c().func.isRequired,setCurrentViolationListDatePeriod:c().func.isRequired,periodGraphModeDatePeriod:c().object.isRequired,user:c().object.isRequired,importSchedule:c().func.isRequired,onDateChange:c().func.isRequired,isLaborCodeCheckingEnabled:c().bool.isRequired,fetchLaborCodeViolationsByUsers:c().func.isRequired,tableUserIds:c().arrayOf(c().string).isRequired});const Nt=Tt;var Rt=r(83825);const Et=(0,s.compose)((0,i.$j)((e=>({periodGraphModeDatePeriod:(0,ke.Qz)(e),isLoadingPublishByGroup:(0,Rt.getIsLoadingPublishByGroup)(e),tableUserIds:(0,ke.B4)(e),tableFilters:(0,ke.Xd)(e),tableUrlParams:(0,ke.bT)(e),isLaborCodeCheckingEnabled:(0,a.vH)(e,"isLaborCodeCheckingEnabled")})),{setCurrentDatePeriod:z.setCurrentDatePeriod,setCurrentViolationListDatePeriod:z.setCurrentViolationListDatePeriod,fetchLaborCodeViolationsByUsers:z.fetchLaborCodeViolationsByUsers}),n.ZP)(Nt)},86225:(e,t,r)=>{"use strict";r.d(t,{Z:()=>K});var i=r(28216),s=r(97779),n=r(17666),a=r(78340),o=r(36853),l=r(45697),c=r.n(l),d=r(44012),u=r(45165),p=r(40767),h=r(43637),f=r(30053),m=r(67294),v=r(16550),y=r(92879),g=r(65227),b=r(35667),j=r(94184),x=r.n(j),S=r(56089);var O=r(47945),P=r(85893);class w extends m.PureComponent{render(){var{from:e,to:t,onStartDateChange:r,onEndDateChange:i}=this.props;return(0,P.jsxs)("h2",{className:x()("BqoOYuQeskck8+JU3NwDpA==","control-panel__header2"),children:[(0,P.jsx)("span",{className:"pr",children:(0,P.jsx)(d.Z,{id:"Calendar.displayGraphPeriod",defaultMessage:[{type:0,value:"Период"}]})}),(0,P.jsx)("span",{className:"pr",children:(0,P.jsx)(S.Z,{date:e,onChange:r,selectsStart:!0})}),(0,P.jsx)("span",{className:"pr",children:(0,P.jsx)("span",{children:"-"})}),(0,P.jsx)("span",{className:"pr",children:(0,P.jsx)(S.Z,{date:t,onChange:i,minDate:e,selectsEnd:!0})})]})}}w.defaultProps={from:"",to:""},w.propTypes={from:O.yb,to:O.yb,onStartDateChange:c().func.isRequired,onEndDateChange:c().func.isRequired};const C=w;var k=r(90794),T=r(74806),N=r(53514),R=r(44983),E=r(86565),D=r(64483),A=r(57484),M=r(37297),I=r(15197);function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class q extends m.PureComponent{constructor(e){super(e),Z(this,"handleSearchChange",(e=>{this.setState({searchTerm:e})})),Z(this,"handleDeleteFilter",(()=>{var{column:e,onChangeFilter:t,onRequestClose:r}=this.props;this.setState({selected:{}}),t({},e),r()})),Z(this,"getFlatArray",(e=>{var{searchTerm:t}=this.state,{column:{key:r}}=this.props,i=[];return e.forEach((e=>{(0,b.xb)(e[r])||Object.values(e[r]).map((e=>i.push(e.description)))})),[...new Set(i)].filter((e=>e.toLowerCase().includes(t.toLowerCase())))})),Z(this,"updateFilter",(e=>{var t=(0,I.zW)(e);this.setState({selected:t})})),Z(this,"saveFilter",(()=>{var{onChangeFilter:e,onRequestClose:t,column:r}=this.props,{selected:i}=this.state;e({[I.Gl.INCLUDES]:i},r),t()}));var{filter:t}=e,r=(0,I.y)(t,I.Gl.INCLUDES);this.state={selected:(0,I.zW)(r),searchTerm:""}}render(){var{data:e,column:t,onRequestClose:r,filter:i,intl:{formatMessage:s}}=this.props,{searchTerm:n,selected:a}=this.state,o=s({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),l=(0,P.jsx)(d.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]}),{isFilterLabel:c=!1,formattedFilterValue:u}=t,p=0===Object.keys(i).length,m=Object.keys(a),v=this.getFlatArray(e).map((e=>({text:e,value:e})));return(0,P.jsxs)("div",{className:"table-filter",children:[(0,P.jsx)("div",{className:"table-filter__header",children:(0,P.jsx)(N.Z,{glyph:h.Tw,onClick:r,classContainer:"table-filter__close-button"})}),(0,P.jsx)("div",{className:"table-filter_tool-bar",children:(0,P.jsx)(R.Z,{disabled:p,onClear:this.handleDeleteFilter})}),(0,P.jsx)("div",{children:(0,P.jsx)(E.Z,{value:n,onChange:this.handleSearchChange,className:D.Z.searchField,placeholder:o})}),(0,P.jsx)(M.Z,{onChange:this.updateFilter,dataSource:v,dataSourceConfig:{text:"text",value:"value"},labelRenderer:f.wA,isFilterLabel:c,formattedFilterValue:u,values:m}),(0,P.jsx)("div",{className:D.Z.saveFilterBtn,children:(0,P.jsx)(A.Z,{onClick:this.saveFilter,type:"transparent",caption:l})})]})}}q.defaultProps={filter:{}},q.propTypes={column:c().object.isRequired,data:c().array.isRequired,intl:O.gm.isRequired,onRequestClose:c().func.isRequired,filter:c().object,onChangeFilter:c().func.isRequired};const F=(0,T.ZP)(q);var L=(0,P.jsx)(d.Z,{id:"Common.employeeFullName",defaultMessage:[{type:0,value:"Ф.И.О. сотрудника"}]}),H=(0,P.jsx)(d.Z,{id:"Common.violationList",defaultMessage:[{type:0,value:"Список нарушений"}]}),_=e=>{var{groupId:t,violationListPeriod:{from:r,to:i},setCurrentViolationListDatePeriod:s}=e,n=(0,v.UO)(),a=n.from,o=n.to,l={from:(0,g.CK)(a,g._E),to:(0,g.CK)(o,g._E)};(0,m.useEffect)((()=>{if(n.from&&n.to)return s(l)}),[]),(0,m.useEffect)((()=>{var s=(0,g.iX)(i);e.fetchLaborCodeViolationsByGroup({groupId:t,from:r,to:s})}),[t,r,i]);var{violationListByPeriod:c,setFilterViolationList:d,filters:u}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"SKwBS7J7xYxcZJd6LdR8gw==",children:(0,P.jsx)(C,{from:r,to:i,onStartDateChange:e=>{var t={from:(0,g.CK)(e,g._E),to:(0,g.CK)(i,g._E)};s(t)},onEndDateChange:e=>{var t={from:(0,g.CK)(r,g._E),to:(0,g.CK)(e,g._E)};s(t)}})}),(0,P.jsx)("div",{className:"_9gI2w4W4jZ2uK7er+UesCQ==",children:(0,P.jsx)(y.ZP,{filters:u,setFilters:d,data:c,columns:[new k.Z({headerClassName:"virtualized-table__header-cell",key:"userShortName",hasTitle:!0,filterable:!0,width:195,label:L,renderHeader:()=>(0,P.jsx)("div",{className:"OK9yfemkcGOW7yOuo5dzmA==",children:L}),renderCell:e=>{var{violations:t,userShortName:r,userFullName:i}=e,s=Object.values(t).length>1,n=x()({"Mu3L9v5NBn79c27NK2cCBA==":s,"_5n47r-gLAV4jEe64tuKCtw==":!s});return(0,P.jsx)("div",{className:n,title:i,children:(0,P.jsx)("span",{className:"AemLwpAn4FrKwGkdezIOVQ==",children:r})})}}),new k.Z({headerClassName:"virtualized-table__header-cell",key:"violations",width:310,hasTitle:!1,filterable:!0,filterComponent:F,label:H,getValue:e=>Object.values(e.violations).map((e=>e.description)),renderCell:e=>{var{violations:t}=e,r=Object.values(t),i=r.length>1,s=x()({"BqB9oWryMLR7S-aIVjRNEQ==":i,"_7NAXX0aZzwMlIhMStTA8CA==":!i});return(0,P.jsx)("div",{className:"EekkXvt+nWrvZM4gg7-EQg==",children:r.map(((e,t)=>{var{description:r,dates:i}=e,n=i.map((e=>(0,g.SE)(e,g.vc))).join(", ");return(0,P.jsx)("div",{className:s,title:n,children:r},e.id||t)}))})}})],rowHeight:t=>{var{index:r}=t,{violationListByPeriod:i}=e,s=i[r-1];return!(0,b.xb)(s)&&Object.keys(s.violations).length>1?20*Object.keys(s.violations).length:30},hideBottomLeftGridScrollbar:!0,columnsAutoWidth:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll"})})]})},B=(0,g.J$)(),G=(0,g.nD)(B);_.defaultProps={violationListByPeriod:[],violationListPeriod:{from:B,to:G}},_.propTypes={violationListPeriod:c().shape({from:c().string,to:c().string}),setCurrentViolationListDatePeriod:c().func.isRequired,violationListByPeriod:c().array,setFilterViolationList:c().func.isRequired,filters:c().object.isRequired,fetchLaborCodeViolationsByGroup:c().func.isRequired,groupId:c().string.isRequired};const W=_;var U=r(71505);const V=(0,s.compose)((0,i.$j)((e=>({violationListByPeriod:(0,o.tk)(e),violationListPeriod:(0,o.ac)(e),groupId:(0,U.Wx)(e),filters:(0,o.wn)(e)})),{setCurrentViolationListDatePeriod:a.setCurrentViolationListDatePeriod,fetchLaborCodeViolationsByGroup:a.fetchLaborCodeViolationsByGroup,setFilterViolationList:a.setFilterViolationList}))(W);var z=(0,P.jsx)(d.Z,{id:"LaborCode.scheduleViolations",defaultMessage:[{type:0,value:"Нарушения ТК"}]}),Y=e=>{var{setLaborCodeViolationsDrawerOpen:t,laborCodeViolationsDrawerOpen:r,isLaborCodeCheckingEnabled:i,hidden:s,isBtnHidden:n,btnClassName:a,isLabel:o,hint:l,customBackdropClick:c,disabled:d}=e;return s?null:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(p.Z,{hidden:n,onClick:()=>t(!0),className:a,hint:l,disabled:d,children:[(0,P.jsx)(h.ZP,{glyph:h.gG}),(0,P.jsx)("div",{hidden:!o,style:{marginLeft:5},children:z})]}),i&&(0,P.jsx)(u.Z,{width:520,open:r,hasCustomBackdropClick:!0,handleBackArrow:()=>{t(!1)},customBackdropClick:()=>{c(),t(!1)},title:z,children:(0,P.jsx)(V,{})})]})};Y.defaultProps={laborCodeViolationsDrawerOpen:!1,hidden:!1,isBtnHidden:!1,customBackdropClick:f.wA,isLabel:!1,disabled:!1,btnClassName:"",hint:""},Y.propTypes={setLaborCodeViolationsDrawerOpen:c().func.isRequired,laborCodeViolationsDrawerOpen:c().bool,hint:c().string,hidden:c().bool,disabled:c().bool,isBtnHidden:c().bool,isLabel:c().bool,customBackdropClick:c().func,btnClassName:c().string,isLaborCodeCheckingEnabled:c().bool.isRequired};const Q=Y,K=(0,s.compose)((0,i.$j)((e=>({laborCodeViolationsDrawerOpen:(0,o.z)(e),isLaborCodeCheckingEnabled:(0,n.vH)(e,"isLaborCodeCheckingEnabled")})),{setLaborCodeViolationsDrawerOpen:a.setLaborCodeViolationsDrawerOpen}))(Q)},33143:(e,t,r)=>{"use strict";r.d(t,{Du:()=>a,Vp:()=>c,W8:()=>f,WZ:()=>h,kE:()=>l,kv:()=>n,mr:()=>d});var i=r(44012),s=r(85893),n={id:"Graph.searchCriteria",defaultMessage:"Критерии поиска"},a={id:"Graph.searchType",defaultMessage:"Тип поиска"},o={id:"Menu.preferences",defaultMessage:"Предпочтения"},l={PREFERENCE:"PREFERENCE",ACTIVITY:"ACTIVITY"},c={text:"name",value:"type"},d=e=>[{name:e.formatMessage(o),type:l.PREFERENCE}],u={id:"Graph.withPreferences",defaultMessage:"Учтенные"},p={id:"Graph.withoutPreferences",defaultMessage:"Не учтенные"},h=(e,t)=>{if(e===l.PREFERENCE)return[{text:t.formatMessage(u),value:"withPreferences"},{text:t.formatMessage(p),value:"withoutPreferences"}]},f=(0,s.jsx)(i.Z,{id:"AutoCompleteMultiSelect.selectAll",defaultMessage:[{type:0,value:"Выбрать все"}]})},6440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var i=r(74806),s=r(97779),n=r(28216),a=r(17666),o=r(45697),l=r.n(o),c=r(10152),d=r(52663),u=r(95477),p=r(22318),h=r(45258),f=r(17812),m=r(80366),v=r(67294),y=r(57484),g=r(50335),b=r(96797),j=r(40767),x=r(56089),S=r(65227),O=r(30053),P=r(35667),w=r(47945),C=r(54392);const k="f+jOANxxku6xEMubviwKgQ==";var T=r(44012),N=r(85893),R=(0,N.jsx)(T.Z,{id:"ScheduleComputing.ConsiderPreferences",defaultMessage:[{type:0,value:"Учитывать предпочтения (%)"}]}),E=(T.Z,(0,N.jsx)(T.Z,{id:"Employee.build",defaultMessage:[{type:0,value:"Построить"}]})),D=(0,N.jsx)(T.Z,{id:"Employee.buildingGraph",defaultMessage:[{type:0,value:"Построение графика"}]}),A={id:"Menu.operator",default:"Оператор"},M=e=>{var{show:t,onCloseRequest:r,buildScheduleData:i,onChangeStartOfPeriod:s,onChangeEndOfPeriod:n,onSuccess:a,preloaderIsVisible:o,onChangeNormalize:l,onChangePreferencePercent:c,intl:O,buildSchedule:w,isShowEmployeePreferences:T}=e,[M,I]=(0,v.useState)(!1);if((0,P.xb)(i))return null;var Z=()=>{r(),I(!1)},q=O.formatMessage(A),F="".concat(i.userName," ").concat(q);return(0,N.jsx)(d.Z,{open:t,onClose:Z,children:(0,N.jsxs)("div",{className:"_6x751TtCDBnu1jV1tOfDRQ==",children:[o&&(0,N.jsx)("div",{className:"forecast__computing-loading",children:(0,N.jsx)("div",{className:"progressbar-container_circular",children:(0,N.jsx)(u.Z,{size:86})})}),(0,N.jsxs)("form",{children:[(0,N.jsx)(h.Z,{position:"static",children:(0,N.jsxs)("div",{className:"_8KdsXajbC66A73AmeDvoSw==",children:[(0,N.jsx)(p.Z,{style:{fontSize:"18px"},children:D}),(0,N.jsx)(j.Z,{onClick:Z,className:"j+LPhD8cXyfoKsXinfpriw==",children:(0,N.jsx)(f.Z,{children:(0,N.jsx)(m.Z,{})})})]})}),(0,N.jsx)("div",{className:"_6lmlCfulLOL+3CzO++Lp0A==",children:F}),(0,N.jsxs)("div",{className:"IXXSew92gmudYC1bWCbEnQ==",children:[(0,N.jsx)("span",{className:k,children:(0,N.jsx)(x.Z,{date:i.from,onChange:s,dateFormat:S.vc,selectsStart:!0})}),(0,N.jsx)("span",{children:(0,N.jsx)("span",{className:"vpjjQVxqMWXYw6lb5BLCBw==",children:"-"})}),(0,N.jsx)("span",{className:k,children:(0,N.jsx)(x.Z,{date:i.to,onChange:n,dateFormat:S.vc,minDate:i.from,selectsEnd:!0})})]}),(0,N.jsx)("div",{className:"fQY3WenyDlXw2U69KY5dXw==",children:(0,N.jsx)(g.ZP,{onChange:l,checked:i.normalizeHours,label:C.rC})}),(0,N.jsx)("div",{children:(0,N.jsx)(b.lF,{input:{value:i.preferencePercent,onChange:c},className:"AaO09cB0IkunhTRMNQ-eJw==",label:R,hidden:!T})}),(0,N.jsx)("div",{className:"ED0muAU5tp6e-PRjWB9QFg==",children:(0,N.jsx)(g.ZP,{onChange:()=>{I(!M)},checked:M,classNameLabel:"I45-Jz8mo7CoDBzAvuX-MQ==",label:C.FQ})}),(0,N.jsx)("div",{className:"gqrs9tONTZW9sADtiL6ufQ==",children:(0,N.jsx)(y.Z,{caption:E,onClick:()=>{var{from:e,to:t,userId:s,preferencePercent:n,normalizeHours:o}=i,l={from:(0,S.X5)(e),to:(0,S.X5)(t),normalizeHours:o,preferencePercent:n,userIds:[s],removeComment:!M};w(l,(()=>{a(s),r()}))}})})]})]})})};M.defaultProps={buildScheduleData:null,onSuccess:O.wA,preloaderIsVisible:!1,isShowEmployeePreferences:!1},M.propTypes={show:l().bool.isRequired,isShowEmployeePreferences:l().bool,onCloseRequest:l().func.isRequired,buildScheduleData:l().shape({userName:l().string,normalizeHours:l().bool,userId:w.K5,from:(0,c.Z)(S._E),to:(0,c.Z)(S._E),preferencePercent:l().number}),onChangeNormalize:l().func.isRequired,onChangeStartOfPeriod:l().func.isRequired,onChangeEndOfPeriod:l().func.isRequired,onChangePreferencePercent:l().func.isRequired,onSuccess:l().func,preloaderIsVisible:l().bool,intl:w.gm.isRequired,buildSchedule:l().func.isRequired};const I=M;var Z=r(36853),q={buildSchedule:r(47458).buildSchedule};const F=(0,s.compose)(i.ZP,(0,n.$j)((e=>({initialPeriod:(0,Z.Qz)(e),isShowEmployeePreferences:(0,a.vH)(e,"isShowEmployeePreferences")})),q))(I)},91002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(67294),s=r(45697),n=r.n(s),a=r(46799),o=r(12336),l=r(88547),c=r(85893);class d extends i.PureComponent{constructor(){var e,t,r;super(...arguments),e=this,r=e=>{var{onTicksUpdate:t}=this.props;e.ticks&&t(e.ticks)},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="afterBuildTicks"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var{width:e,data:t,showDataLabels:r,height:i,showVerticalGrid:s}=this.props;return(0,c.jsx)(a.x1,{datasetKeyProvider:o.lk,data:t,widht:e,height:i,options:(0,l.B)({afterBuildTicks:this.afterBuildTicks,showDataLabels:r,showVerticalGrid:s})})}}d.propTypes={width:n().number.isRequired,height:n().number.isRequired,data:n().object.isRequired,onTicksUpdate:n().func.isRequired,showDataLabels:n().bool.isRequired,showVerticalGrid:n().bool.isRequired};const u=d},88547:(e,t,r)=>{"use strict";r.d(t,{B:()=>o,g:()=>l}),r(59523);var i=r(12336);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e=>{var{afterBuildTicks:t,showDataLabels:r,showVerticalGrid:i}=e;return{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:i,ticks:{display:!1},gridLines:{offsetGridLines:!0}}],yAxes:[{display:!0,scaleLabel:{display:!1},ticks:{beginAtZero:!0,display:!1,precision:0,suggestedMax:3},afterBuildTicks:t}]},plugins:{datalabels:{display:r&&"auto",align:"top"}},layout:{padding:{left:20,right:i?30:10,top:25,bottom:10}}}},l=e=>{var{afterBuildTicks:t,showDataLabels:r,showVerticalGrid:s,intl:a}=e;return n(n({},o({afterBuildTicks:t,showDataLabels:r,showVerticalGrid:s})),{},{tooltips:{callbacks:{label:(0,i.id)({intl:a})}}})}},95506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i.Z});var i=r(91002)},37361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>nt});var i=r(45697),s=r.n(i),n=r(94184),a=r.n(n),o=r(67294),l=r(30053),c=r(28216),d=r(17666),u=r(78340),p=r(36853),h=r(35667),f=r(86896),m=r(44012),v=r(50335),y=r(64835),g=r(85073),b=r(40767),j=r(1379),x=r(85893),S=e=>{var{modes:t,activeMode:r,onChange:i}=e,s=e=>"offices"===e?(0,x.jsx)(m.Z,{id:"SettingsMenu.offices",defaultMessage:[{type:0,value:"Офисы"}]}):"skills"===e?(0,x.jsx)(m.Z,{id:"SettingsMenu.skills",defaultMessage:[{type:0,value:"Навыки"}]}):"";return(0,x.jsx)(x.Fragment,{children:t.length>1&&t.map((e=>{var t=s(e);return(0,x.jsx)(b.Z,{className:a()("mt",j.Z.headElement,j.Z.modeElement),active:e===r,onClick:()=>i(e),children:t},e)}))})};S.propTypes={modes:s().arrayOf(s().string).isRequired,activeMode:s().string.isRequired,onChange:s().func.isRequired};const O=S;var P=r(4722);const w=()=>{var e=(0,c.I0)(),t=(0,c.v9)(p.VI),r=(0,c.v9)(p.et);return(0,o.useEffect)((()=>{e((0,u.setCurrentChartIsSum)(!1)),e((0,u.setCurrentChartShowDataLabels)(!1)),e((0,u.setCurrentChartType)(P.k))}),[r]),(0,x.jsx)(O,{modes:t,onChange:t=>e((0,u.setSelectorActiveMode)(t)),activeMode:r})};var C=r(91637),k=r(66034),T={id:"EmployeeForm.officeSearch",defaultMessage:"Поиск по офисам"},N=e=>{var{list:t,selectedIds:r,onChange:i,filterString:s,setFilterString:n,activeMode:l}=e,d=(0,f.Z)(),u=(0,c.v9)(p.Dr),[b,S]=(0,o.useState)(235),[O,P]=(0,o.useState)([]),N=e=>[...new Set(e)];(0,o.useEffect)((()=>{i(r)}),[r.length]);var R=(0,k.Mh)(),E=e=>i(e);(0,o.useEffect)((()=>{u?S(340):u||S(235)}),[u]);var D=d.formatMessage(y.m),A=d.formatMessage(T),M="skills"===l?{searchMessageFormattedSkills:D}:{searchMessageFormattedOffices:A},I=(e,t)=>{var s=e?[...r,t]:r.filter((e=>e!==t));i(s),P(N(s))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:a()("with-divider",j.Z.container),children:[(0,x.jsx)(v.ZP,{onChange:e=>{var r=e?t.map((e=>e.id)):[];i(r)},checked:t.every((e=>r.includes(e.id))),indeterminate:t.some((e=>r.includes(e.id))),label:(0,x.jsx)(m.Z,{id:"Graph.select_all"}),className:a()("mt",j.Z.headElement)}),(0,x.jsx)(w,{})]}),(0,x.jsx)("div",{className:u?j.Z.inputWidthLarger:j.Z.inputSearch,children:(0,x.jsx)(C.Z,{dataSource:t,dataSourceConfig:R,cbAfterClosingPopover:()=>{P(N([...O,...r]))},manuallySelectedIds:O,onChange:e=>{E(e),P(N(e))},values:r,dropDownHeight:300,dropDownWidth:b,checkboxClassName:j.Z.checkbox,hintText:M,setSearchInputValue:e=>{n(e),(e=>{if(e.length>=3){var r=((e,t)=>{var{text:r}=R;return e.filter((e=>!(0,h.xb)(e[r])&&e[r].toLowerCase().includes(t)))})(t,e),i=null==r?void 0:r.map((e=>e[R.value]));E([...O,...i])}})(e)},onKeyDown:e=>{"Backspace"===e.code&&3===s.length&&E(O)},buttonStyle:u?j.Z.buttonWidthLarger:j.Z.button,classContainer:j.Z.inputContainer})}),(0,x.jsx)("div",{className:j.Z.listContainer,children:(0,x.jsx)("div",{className:j.Z.list,children:t.map((e=>{var t=(0,x.jsxs)("span",{title:e.name,children:[(0,x.jsx)(g.Z,{color:e.color}),e.name]}),i=-1!==r.indexOf(e.id)||-1!==r.indexOf(e.id);return(0,x.jsx)(v.ZP,{name:e.id,checked:i,onChange:I,label:t,className:j.Z.checkbox},e.id)}))})})]})};N.defaultProps={filterString:"",activeMode:"",setFilterString:l.wA},N.propTypes={list:s().arrayOf(s().object).isRequired,selectedIds:s().arrayOf(s().string).isRequired,onChange:s().func.isRequired,filterString:s().string,activeMode:s().string,setFilterString:s().func};const R=N;var E=e=>{var{filterString:t,setFilterString:r,activeMode:i}=e,s=(0,c.I0)(),n=(0,c.v9)(d.TB),a=(0,c.v9)(p.Ft);return(0,x.jsx)(R,{activeMode:i,filterString:t,setFilterString:r,onChange:e=>{s((0,u.setSelectedOfficesIds)(e)),(0,h.xb)(e)&&s((0,u.clearOfficeSeatsLabels)())},list:n,selectedIds:a})};E.defaultProps={filterString:"",activeMode:"",setFilterString:l.wA},E.propTypes={filterString:s().string,activeMode:s().string,setFilterString:s().func};const D=E;var A=r(71505),M=e=>{var{filterString:t,setFilterString:r,activeMode:i}=e,s=(0,c.I0)(),n=(0,c.v9)(p.Jg),a=(0,c.v9)(p.ET),o=(0,c.v9)(A.Wx);return(0,x.jsx)(R,{activeMode:i,filterString:t,setFilterString:r,onChange:e=>{s((0,u.setSelectedSkillIds)({groupId:o,skillIds:e})),(0,h.xb)(e)&&s((0,u.clearStatistics)())},list:n,selectedIds:a})};M.defaultProps={filterString:"",activeMode:"",setFilterString:l.wA},M.propTypes={filterString:s().string,activeMode:s().string,setFilterString:s().func};const I=M;var Z=e=>{var{width:t,activeMode:r}=e,[i,s]=(0,o.useState)("");return(0,x.jsxs)("div",{className:j.Z.root,style:{width:t},children:["skills"===r&&(0,x.jsx)(I,{activeMode:r,filterString:i,setFilterString:s}),"offices"===r&&(0,x.jsx)(D,{activeMode:r,filterString:i,setFilterString:s})]})};Z.propTypes={activeMode:s().string.isRequired,width:s().number.isRequired};const q=Z,F=()=>{var e=(0,c.I0)(),t=(0,c.v9)((e=>(0,d.vH)(e,"isSeatAccountingEnabled"))),r=(0,c.v9)(p.et),i=(0,c.v9)(p.i6);return(0,o.useEffect)((()=>{var r=["skills"];t&&r.push("offices"),e((0,u.setSelectorModes)(r))}),[t]),(0,x.jsx)(q,{activeMode:r,width:i})};var L=r(50015),H=r(97779),_=r(74806),B=r(3598),G=r.n(B),W=(r(59523),r(95506)),U=r(46799),V=r(12336),z=r(88547),Y=r(47945);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class J extends o.PureComponent{constructor(){super(...arguments),X(this,"afterBuildTicks",(e=>{var{onTicksUpdate:t}=this.props;e.ticks&&t(e.ticks)}))}render(){var{width:e,data:t,showDataLabels:r,height:i,showVerticalGrid:s,intl:n,options:a}=this.props;return(0,x.jsx)(U.x1,{data:t,widht:e,height:i,options:K(K({},(0,z.g)({intl:n,afterBuildTicks:this.afterBuildTicks,showDataLabels:r,showVerticalGrid:s})),a),datasetKeyProvider:V.lk})}}J.defaultProps={showVerticalGrid:!0,options:{}},J.propTypes={width:s().number.isRequired,height:s().number.isRequired,data:s().object.isRequired,onTicksUpdate:s().func.isRequired,intl:Y.gm.isRequired,showDataLabels:s().bool.isRequired,showVerticalGrid:s().bool,options:s().object};const $=J;var ee=r(63078),te=r(8813),re=r(43376),ie=r(21672),se={id:"Graph.displayInfoFTETotal",defaultMessage:"Вывести информацию по FTE в сумме"},ne={id:"Graph.displayFTEMarks",defaultMessage:"Вывод меток FTE прогноза и факта"};var ae=e=>{var{showServiceLevelButtonDisabled:t,renderAdditionalControls:r}=e,i=(0,c.I0)(),s=(0,f.Z)(),{type:n,isSum:l,showDataLabels:h}=(0,c.v9)(ie.Tb),v=(0,c.v9)((e=>(0,d.vH)(e,"isShowServiceLevel"))),y=(0,c.v9)(p.ET),g=!(0,c.v9)(ie._0),b=(e=>e===P.SL)(n),j=(0,c.v9)(p.et),S=(0,c.v9)(p.Ft);(0,o.useEffect)((()=>{y.length&&i((0,u.fetchQueueErlangBySkillsCount)({ids:y}))}),[i,y]),(0,o.useEffect)((()=>{b&&t&&i((0,u.setCurrentChartType)(P.k))}),[b,i,t]);var O=(e=>e===P.M)(n),w=(e=>e===P.k)(n),C=a()("panel-chart-t","panel-chart-i","pl-10",{active:O&&!g,disabled:g}),k=a()("panel-chart-t","panel-chart-i",{active:w&&!g,disabled:g}),T=a()("panel-chart-t","panel-chart-i",{active:b&&!g,disabled:g,"tHofmcqJEYBH4ABjyHFONw==":t}),N=e=>{i((0,u.setCurrentChartIsSum)(e))};(0,o.useEffect)((()=>{l&&("skills"===j&&y.length<2||"offices"===j&&S.length<2)&&i((0,u.setCurrentChartIsSum)(!1))}),[S.length,y.length]);var R=e=>{i((0,u.setCurrentChartShowDataLabels)(e))},E=v&&"skills"===j;return(0,x.jsx)(ee.qj,{children:e=>{var{width:n}=e;return(0,x.jsxs)("div",{className:"g-panel-chart",style:{width:n},children:[(0,x.jsx)("div",{className:k,children:(0,x.jsx)(re.Z,{onClick:()=>i((0,u.setCurrentChartType)(P.k)),active:w,disabled:g,children:(0,x.jsx)(m.Z,{id:"Manager.Graph.ForecastPlan",defaultMessage:[{type:0,value:"Прогноз + план"}]})})}),(0,x.jsx)("div",{className:C,children:(0,x.jsx)(re.Z,{onClick:()=>i((0,u.setCurrentChartType)(P.M)),active:O,disabled:g,children:(0,x.jsx)(m.Z,{id:"Manager.Graph.Differences",defaultMessage:[{type:0,value:"Отклонения"}]})})}),E&&(0,x.jsx)("div",{className:T,children:(0,x.jsx)(re.Z,{onClick:()=>i((0,u.setCurrentChartType)(P.SL)),active:b,disabled:g||t||l,children:(0,x.jsx)(m.Z,{id:"Manager.Graph.ServiceLevel",defaultMessage:[{type:0,value:"Уровень сервиса (SL)"}]})})}),(0,x.jsx)("span",{className:"panel-chart-i pl-20",title:s.formatMessage(se),children:(0,x.jsx)(te.Z,{onChange:N,checked:l,className:"pt-5",label:"Σ",disabled:g||b||"skills"===j&&y.length<2||"offices"===j&&S.length<2})}),(0,x.jsx)("div",{className:"panel-chart-i",title:s.formatMessage(ne),children:(0,x.jsx)(te.Z,{onChange:R,checked:h,className:"pt-5",label:"123",disabled:g})}),"function"==typeof r&&r(n)]})}})};ae.defaultProps={showServiceLevelButtonDisabled:!1,renderAdditionalControls:null},ae.propTypes=G()({showServiceLevelButtonDisabled:s().bool,renderAdditionalControls:s().func});const oe=ae;var le=r(5464),ce=e=>{var{afterBuildTicks:t,showDataLabels:r,maxTicks:i}=e;return{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1,ticks:{display:!1},scaleLabel:{display:!0}}],yAxes:[{display:!1,scaleLabel:{display:!1},ticks:{display:!1,max:0!==i?i+30:1},afterBuildTicks:t}]},plugins:{datalabels:{display:r&&"auto",align:"top",anchor:"end",clip:"true",color:le.pg}}}},de=r(546),ue=e=>{var t,{data:r,height:i,onTicksUpdate:s,shouldShowDataLabels:n}=e,a=n,o=(0,c.v9)(de.Rn),l=null==r||null===(t=r.datasets)||void 0===t?void 0:t.map((e=>(0,h.xb)(e.data)?0:Math.max(...e.data))),d=(0,h.xb)(l)?0:5*Math.round(Math.max(...l)/5);return(0,x.jsx)(U.$Q,{data:r,width:o,height:i,options:ce({afterBuildTicks:e=>{e.ticks&&(e.ticks.includes(0)||e.ticks.push(0),s(e.ticks))},showDataLabels:a,maxTicks:d})})};ue.propTypes=G()({data:s().object.isRequired,height:s().number.isRequired,onTicksUpdate:s().func.isRequired,shouldShowDataLabels:s().bool.isRequired});const pe=(0,_.ZP)(ue);var he=r(91002),fe=e=>{var{height:t,onTicksUpdate:r,aggregation:i}=e,s=(0,f.Z)(),n="DAY"===i,a=(0,c.v9)((e=>n?(0,ie.Hq)(e,{intl:s}):(0,ie.GD)(e,{intl:s}))),o=(0,c.v9)(de.Rn),l=(0,c.v9)(p.C);return(0,x.jsx)(he.Z,{width:o,height:t,data:a,onTicksUpdate:r,showDataLabels:l,showVerticalGrid:"DAY"===i})};fe.propTypes={height:s().number.isRequired,onTicksUpdate:s().func.isRequired,aggregation:s().oneOf(["DAY","FIFTEEN_MINUTES"]).isRequired};const me=fe;var ve=r(15286);var ye=e=>{var{value:t,min:r,onChange:i}=e,s=(3e3-r)/5;return(0,x.jsx)("div",{className:"VHX8g2hgmlMu3v4UCoFWMA==",children:(0,x.jsx)(ve.Z,{min:r,max:3e3,step:s,value:t,width:170,onChange:i})})};ye.propTypes={min:s().number.isRequired,value:s().number.isRequired,onChange:s().func.isRequired};const ge=ye;function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se={position:"relative",overflow:"hidden"};class Oe extends o.Component{constructor(){super(...arguments),xe(this,"getChartHeight",(()=>{var{height:e}=this.props;return e-35-5})),xe(this,"getInnerWrapStyle",(()=>{var{left:e,width:t,height:r}=this.props;return je(je({},{position:"absolute",left:e,top:35,width:t,paddingTop:10,height:this.getChartHeight()}),{},{left:e-25,height:r-35-5})})),xe(this,"getGraphChart",(()=>{var{width:e,data:t,showDataLabels:r,onTicksUpdate:i,customTooltipEnabled:s,intl:n,filter:a,selectorActiveMode:o,chartSlData:l}=this.props;return"offices"===o?(0,x.jsx)(me,{height:this.getChartHeight(),onTicksUpdate:i,aggregation:"FIFTEEN_MINUTES"}):"SL"===a.type?(0,x.jsx)(pe,{data:l,height:this.getChartHeight(),onTicksUpdate:i,shouldShowDataLabels:r}):s?(0,x.jsx)($,{data:t,width:e,height:this.getChartHeight(),intl:n,showDataLabels:r,onTicksUpdate:i,showVerticalGrid:!1}):(0,x.jsx)(W.Z,{data:t,width:e,height:this.getChartHeight(),showDataLabels:r,onTicksUpdate:i,showVerticalGrid:!1})}))}render(){var{detailsColumnWidth:e,onDetailsColumnZoom:t,queueErlangBySkillsCount:r}=this.props,i=0===r;return(0,x.jsxs)("div",{className:"flex-item_flexible",style:Se,children:[(0,x.jsx)(oe,{showServiceLevelButtonDisabled:i,renderAdditionalControls:r=>(0,x.jsx)(ge,{onChange:t,value:e,min:r-15})}),(0,x.jsx)("div",{style:this.getInnerWrapStyle(),children:this.getGraphChart()})]})}}Oe.defaultProps={queueErlangBySkillsCount:0},Oe.propTypes=G()({width:s().number.isRequired,height:s().number.isRequired,left:s().number.isRequired,queueErlangBySkillsCount:s().number,detailsColumnWidth:s().number.isRequired,onDetailsColumnZoom:s().func.isRequired,data:s().object.isRequired,chartSlData:s().object.isRequired,filter:s().shape({type:s().string,isSum:s().bool,showDataLabels:s().bool}).isRequired,customTooltipEnabled:s().bool.isRequired,onTicksUpdate:s().func.isRequired,showDataLabels:s().bool.isRequired,intl:Y.gm.isRequired,selectorActiveMode:s().oneOf(["skills","offices"]).isRequired});const Pe=Oe;var we=r(77848),Ce=r(25493);const ke=(0,H.compose)(_.ZP,(0,c.$j)(((e,t)=>({data:(0,we.ZQ)(e,t),showDataLabels:(0,ie.yn)(e),queueErlangBySkillsCount:(0,ie.fp)(e),customTooltipEnabled:(0,ie.rP)(e),filter:(0,ie.Tb)(e),chartSlData:(0,we.ul)(e,t),selectorActiveMode:(0,p.et)(e)}))),(0,Ce.c)(["dispatch"]))(Pe);var Te=r(73935),Ne=e=>{var{children:t}=e;return t?(0,Te.createPortal)(t,document.body):null};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ne.defaultProps={children:null},Ne.propTypes={children:s().node};var Ae={top:0,left:0,showTooltip:!1,data:null},Me=e=>{var{ChartComponent:t,width:r,height:i,options:s}=e,n=(0,o.useRef)(null),[l,c]=(0,o.useState)(Ae),[d,u]=(0,o.useState)({}),p=e=>{var t;if(0!==e.opacity){var r=null==n?void 0:n.current.getBoundingClientRect(),i=r.top+e.caretY,s=r.width/2-e.caretX<0,a=r.left+e.caretX;s?a-=e.width+10:a+=10;var o,l=e.body.flatMap((e=>e.lines)),d=[...new Set(l)],u=null===(t=e.title)||void 0===t?void 0:t[0],p=d.map(((t,r)=>Ee({text:t},e.labelColors[r])));c({top:(o={top:i,left:a,data:p,title:u,rightHalf:s}).top,left:o.left,data:o.data,title:o.title,rightHalf:o.rightHalf,showTooltip:!0})}else c((e=>Ee(Ee({},e),{},{showTooltip:!1})))};return(0,o.useEffect)((()=>{u(Ee(Ee({},s),{},{tooltips:Ee(Ee({},s.tooltips),{},{enabled:!1,mode:"x",intersect:!0,position:"nearest",custom:p})}))}),[s]),(0,x.jsxs)("div",{ref:n,style:{width:r,height:i},children:[(0,x.jsx)(t,Ee(Ee({},e),{},{options:Ee(Ee({},s),d)})),(0,x.jsx)(Ne,{children:l.showTooltip&&(0,x.jsxs)("div",{style:{top:l.top-15,left:l.left},className:a()("WEqgBF1yliJYOoVzFtzC1Q==",{"_60rHVulttzEPYjgQ8RNeEA==":l.rightHalf}),children:[l.title&&(0,x.jsx)("span",{children:l.title}),l.data.map(((e,t)=>(0,x.jsxs)("div",{className:"szgrPrfSkEM5mw4VGQa+JA==",children:[(0,x.jsx)("div",{style:{backgroundColor:e.backgroundColor,borderColor:e.borderColor},className:"KAg9DKAQfWDQ6982hCTUBg=="}),(0,x.jsx)("span",{children:e.text})]},e.text+t.toString())))]})})]})};Me.propTypes={ChartComponent:s().func.isRequired,width:s().number.isRequired,height:s().number.isRequired,options:s().object.isRequired};const Ie=Me;function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Le=e=>(0,x.jsx)(Ie,qe(qe({},e),{},{ChartComponent:$,options:(0,z.B)({afterBuildTicks:t=>{var{onTicksUpdate:r}=e;t.ticks&&r(t.ticks)},showDataLabels:e.showDataLabels,showVerticalGrid:e.showVerticalGrid})}));Le.propTypes={showDataLabels:s().bool.isRequired,showVerticalGrid:s().bool.isRequired,onTicksUpdate:s().func.isRequired};const He=Le;function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var We={position:"relative",overflow:"hidden"};class Ue extends o.Component{constructor(){super(...arguments),Ge(this,"getChartHeight",(()=>{var{height:e}=this.props;return e-35})),Ge(this,"getInnerWrapStyle",(()=>{var{left:e,width:t,height:r}=this.props;return Be(Be({},{position:"absolute",left:e,top:35,width:t,paddingTop:10,height:this.getChartHeight()}),{},{height:r-35})})),Ge(this,"getGraphChart",(()=>{var{width:e,data:t,chartSlData:r,showDataLabels:i,onTicksUpdate:s,customTooltipEnabled:n,intl:a,filter:o,selectorActiveMode:l}=this.props;return"offices"===l?(0,x.jsx)(me,{height:this.getChartHeight(),onTicksUpdate:s,aggregation:"DAY"}):"SL"===o.type?(0,x.jsx)(pe,{data:r,height:this.getChartHeight(),onTicksUpdate:s,shouldShowDataLabels:i}):n&&this.props.height?(0,x.jsx)(He,{data:t,width:e,height:this.getChartHeight(),intl:a,showDataLabels:i,onTicksUpdate:s,showVerticalGrid:!0}):(0,x.jsx)(W.Z,{data:t,width:e,height:this.getChartHeight(),showDataLabels:i,onTicksUpdate:s,showVerticalGrid:!0})}))}render(){var{queueErlangBySkillsCount:e,selectorActiveMode:t}=this.props;if((0,h.xb)(t))return null;var r=0===e;return(0,x.jsxs)("div",{className:"flex-item_flexible",style:We,children:[(0,x.jsx)(oe,{showServiceLevelButtonDisabled:r}),(0,x.jsx)("div",{style:this.getInnerWrapStyle(),children:this.getGraphChart()})]})}}Ue.defaultProps={queueErlangBySkillsCount:0},Ue.propTypes=G()({width:s().number.isRequired,height:s().number.isRequired,left:s().number.isRequired,queueErlangBySkillsCount:s().number,data:s().object.isRequired,chartSlData:s().object.isRequired,filter:s().shape({type:s().string,isSum:s().bool,showDataLabels:s().bool}).isRequired,customTooltipEnabled:s().bool.isRequired,onTicksUpdate:s().func.isRequired,showDataLabels:s().bool.isRequired,intl:Y.gm.isRequired,selectorActiveMode:s().oneOf(["skills","offices",""]).isRequired});const Ve=Ue;var ze=r(20573),Ye=r(65227),Qe=r(32384),Ke=r(10890),Xe=["aggregatedStats"];var Je=(0,ze.createSelector)((()=>Qe.x4)),$e=(0,ze.createSelector)(ie.fD,Ke.U,((e,t)=>e.map((e=>(0,Ye.M_)(e,t,"YYYY, MM, DD"))))),et=(0,ze.createSelector)(p.vo,Ke.U,((e,t)=>{var r;return null==e||null===(r=e.dates)||void 0===r?void 0:r.map((e=>(0,Ye.M_)(e,t,"YYYY, MM, DD")))})),tt=(0,ze.createSelector)(p.a,ie.Tb,$e,p.sz,Je,p.ET,Ke.U,((e,t,r,i,s,n,a)=>{var{formatMessage:o}=a,{aggregatedStats:l}=e,c=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Xe);return{legend:!1,labels:r,datasets:(0,le.tk)({filter:t,skillIds:n,aggregatedStats:l,forecasts:c,skillsMap:i,aggregation:s,formatMessage:o})}})),rt=(0,ze.createSelector)(p.vo,et,p.ET,Ke.U,((e,t,r,i)=>{var s,{formatMessage:n}=i,a={type:"bar",color:le.pg,name:n({id:"Chart.SL",defaultMessage:[{type:0,value:"SL"}]})},o={data:null==e||null===(s=e.aggregatedStats)||void 0===s?void 0:s.serviceLevel,options:a};return{legend:!1,labels:t,datasets:(0,h.xb)(r)?[]:(0,V.xT)(o)}}));const it=(0,H.compose)(_.ZP,(0,c.$j)(((e,t)=>({data:tt(e,t),chartSlData:rt(e,t),showDataLabels:(0,ie.yn)(e),queueErlangBySkillsCount:(0,ie.fp)(e),customTooltipEnabled:(0,ie.rP)(e),filter:(0,ie.Tb)(e),selectorActiveMode:(0,p.et)(e)}))),(0,Ce.c)(["dispatch","period"]))(Ve);var st=e=>{var{height:t,leftSideWidth:r,isForecastingRights:i,chartLeftOffset:s,chartWidth:n,mode:l,hidden:c,onDetailsColumnZoom:d,detailsColumnWidth:u}=e,[p,h]=(0,o.useState)([]);return(0,x.jsxs)("div",{className:"flex-container",style:{display:c?"none":"",height:t,borderBottom:"2px solid black"},children:[(0,x.jsxs)("div",{className:a()("flex-item_fixed","flex-container","g-r-b"),style:{width:r},children:[i&&(0,x.jsx)(F,{}),(0,x.jsx)(L.Z,{ticks:p})]}),"period"===l?(0,x.jsx)(it,{left:s,width:n,height:t,onTicksUpdate:h}):(0,x.jsx)(ke,{left:s,width:n,height:t,onTicksUpdate:h,onDetailsColumnZoom:d,detailsColumnWidth:u})]})};st.defaultProps={onDetailsColumnZoom:l.wA,hidden:!1,detailsColumnWidth:0},st.propTypes={height:s().number.isRequired,leftSideWidth:s().number.isRequired,isForecastingRights:s().bool.isRequired,hidden:s().bool,chartLeftOffset:s().number.isRequired,chartWidth:s().number.isRequired,mode:s().oneOf(["period","day"]).isRequired,onDetailsColumnZoom:s().func,detailsColumnWidth:s().number};const nt=st},96437:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ne,_:()=>Te});var i=r(67294),s=r(45697),n=r.n(s),a=r(3598),o=r.n(a),l=r(33937),c=r(43637),d=r(43376),u=r(30053),p=r(23859),h=r(30381),f=r.n(h),m=r(44012),v=r(25431),y=r(91594),g=r(87257),b=r(79895),j=r(13258),x=r(62822),S=r(50998),O=r(8286),P=r(67661),w=r(282),C=r(65227),k=r(55517),T=r(38646),N=r(50335),R=r(56089),E=r(85893);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I extends i.PureComponent{constructor(e){super(e),M(this,"joinTasksToTaskGroupsTree",((e,t)=>{var r={},i=(0,T.bU)(e,t,"userTaskGroupId",!0);return(0,T._u)(i,"children",((e,t,i)=>{t.workActivityId||(r[t.id]=i.filter((e=>!!e.workActivityId)))})),r.null=e,{groupChildTasksMap:r,taskTemplatesTree:i}})),this.state={},e.taskTemplates&&e.tasksGroupsTree&&(this.state=A(A({},this.state),this.joinTasksToTaskGroupsTree(e.taskTemplates,e.tasksGroupsTree)))}UNSAFE_componentWillReceiveProps(e){e.taskTemplates===this.props.taskTemplates&&e.tasksGroupsTree===this.props.tasksGroupsTree||this.setState((t=>A(A({},t),this.joinTasksToTaskGroupsTree(e.taskTemplates,e.tasksGroupsTree))))}render(){var{onChange:e,value:t,taskTemplates:r,defaultStartDate:i,defaultEndDate:s}=this.props;return(0,E.jsx)("div",{children:r.map((r=>{var n=t.find&&t.find((e=>e.userTaskTemplateId===r.id));return(0,E.jsxs)("div",{children:[(0,E.jsx)(k.Z,{}),(0,E.jsxs)("div",{className:"flex-container pv+",style:{lineHeight:"40px"},children:[(0,E.jsx)("div",{children:(0,E.jsx)(N.ZP,{style:{display:"inline-block",verticalAlign:"middle"},checked:!!n,onCheck:(n,a)=>{var o=[...t];a?o.push({userTaskTemplateId:r.id,start:i||f()().startOf("day").format(C._E),end:s||f()().endOf("day").format(C._E)}):o=o.filter((e=>e.userTaskTemplateId!==r.id)),e(o)},label:r.name})}),(0,E.jsx)("div",{className:"flex-item_flexible"}),!!n&&this.props.useDates&&(0,E.jsxs)("div",{children:[(0,E.jsx)(R.Z,{date:f()(n.start,C._E).local().format(C.vc),onChange:r=>{n.start=(0,C.b7)(r),e([...t])},dateFormat:C.vc}),(0,E.jsx)("span",{children:" - "}),(0,E.jsx)(R.Z,{date:f()(n.end,C._E).local().format(C.vc),onChange:r=>{n.end=(0,C.iX)(r,C._E,!1),e([...t])},dateFormat:C.vc})]})]})]},r.id)}))})}}I.defaultProps={defaultEndDate:"",defaultStartDate:""},I.propTypes={onChange:n().func.isRequired,value:n().array.isRequired,taskTemplates:n().array.isRequired,tasksGroupsTree:n().object.isRequired,useDates:n().bool.isRequired,defaultEndDate:n().string,defaultStartDate:n().string};const Z=I;function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H extends i.Component{constructor(e){super(e),L(this,"autoCompleteMenuStyle",{maxHeight:"400px",overflowY:"auto"}),this.state={stepIndex:0,date:e.date||f()().format("YYYY-MM-DD"),groupId:e.groupId,employeeGroupId:void 0,containerId:void 0,employeeId:void 0,comment:"",queues:{},tasks:[]}}getSteps(){var e=[(0,E.jsx)(y.Z,{children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.target",defaultMessage:[{type:0,value:"Назначение"}]})})}),(0,E.jsx)(y.Z,{children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.employee",defaultMessage:[{type:0,value:"Сотрудник"}]})})}),(0,E.jsx)(y.Z,{children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.position",defaultMessage:[{type:0,value:"Должность"}]})})}),(0,E.jsx)(y.Z,{children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.skills",defaultMessage:[{type:0,value:"Навыки"}]})})})];return this.props.frontendSettings.graphCommentRequiredToChangeQueue.value&&e.push((0,E.jsx)(y.Z,{children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(m.Z,{id:"Common.comment",defaultMessage:[{type:0,value:"Комментарий"}]})})})),e}getStepContent(){var{permissionGroupsMap:e={},permissionGroupsMapping:t,commentTemplates:r=[],fetchEmployees:i,sendRequest:s,onRequestSend:n,groupId:a,employees:o={},containers:l=[],queues:c=[],positions:d=[]}=this.props;switch(this.state.stepIndex){case 0:return(0,E.jsxs)("div",{className:"p+",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{className:"mh",children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.onDate",defaultMessage:[{type:0,value:"На дату"}]})}),(0,E.jsx)(R.Z,{style:{marginTop:"-10px"},container:"dialog",onChange:e=>this.setState({date:e}),date:this.state.date,dateFormat:C.vc}),(0,E.jsx)("span",{className:"mh",children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.toGroup",defaultMessage:[{type:0,value:"В группу"}]})}),e[a]?e[a].name:""]}),(0,E.jsx)(w.Z,{primary:!0,className:"mt",label:(0,E.jsx)(m.Z,{id:"Common.next",defaultMessage:[{type:0,value:"Далее"}]}),onClick:()=>this.setState({stepIndex:1})})]});case 1:var u=t,p=(o[this.state.date]||[]).map((e=>F(F({},e),{},{userName:[e.lastName,e.firstName,e.middleName].filter((e=>!!e)).join(" ")})));return(0,E.jsxs)("div",{className:"p+",children:[(0,E.jsxs)("div",{className:"",children:[(0,E.jsx)(v.ZP,{popoverProps:{canAutoPosition:!0},openOnFocus:!0,filter:v.ZP.caseInsensitiveFilter,menuStyle:this.autoCompleteMenuStyle,hintText:(0,E.jsx)(m.Z,{id:"Common.permissionGroup"}),dataSource:u,searchText:this.state.groupSearch,dataSourceConfig:{text:"groupName",value:"id"},onNewRequest:(e,t)=>{this.setState({employeeGroupId:u[t].id,employeeId:void 0,groupSearch:u[t].name}),i(u[t].id,this.state.date)},fullWidth:!0}),(0,E.jsx)(v.ZP,{popoverProps:{canAutoPosition:!0},openOnFocus:!0,filter:v.ZP.caseInsensitiveFilter,menuStyle:this.autoCompleteMenuStyle,hintText:(0,E.jsx)(m.Z,{id:"Common.employee"}),dataSource:p,searchText:this.state.employeeSearch,dataSourceConfig:{text:"userName",value:"id"},onNewRequest:(e,t)=>{this.setState({employeeId:p[t].id,employeeSearch:p[t].userName})},fullWidth:!0})]}),(0,E.jsx)(w.Z,{className:"mt",label:(0,E.jsx)(m.Z,{id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]}),onClick:()=>this.setState({stepIndex:0})}),(0,E.jsx)(w.Z,{primary:!0,className:"mt",disabled:!this.state.employeeId,label:(0,E.jsx)(m.Z,{id:"Common.forward",defaultMessage:[{type:0,value:"Далее"}]}),onClick:()=>this.setState({stepIndex:2})})]});case 2:return(0,E.jsxs)("div",{className:"p+",children:[(0,E.jsx)(v.ZP,{popoverProps:{canAutoPosition:!0},openOnFocus:!0,filter:v.ZP.caseInsensitiveFilter,menuStyle:this.autoCompleteMenuStyle,hintText:(0,E.jsx)(m.Z,{id:"Common.position"}),dataSource:d,searchText:this.state.positionSearch,dataSourceConfig:{text:"name",value:"id"},onNewRequest:(e,t)=>{this.setState({positionId:d[t].id,positionSearch:d[t].name})},fullWidth:!0}),(0,E.jsx)(v.ZP,{popoverProps:{canAutoPosition:!0},openOnFocus:!0,filter:v.ZP.caseInsensitiveFilter,menuStyle:this.autoCompleteMenuStyle,hintText:(0,E.jsx)(m.Z,{id:"Common.scheduleContainer"}),dataSource:l,searchText:this.state.containerSearch,dataSourceConfig:{text:"name",value:"id"},onNewRequest:(e,t)=>{this.setState({containerId:l[t].id,containerSearch:l[t].name})},fullWidth:!0}),(0,E.jsx)(w.Z,{className:"mt",label:(0,E.jsx)(m.Z,{id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]}),onClick:()=>this.setState({stepIndex:1})}),(0,E.jsx)(w.Z,{primary:!0,className:"mt",disabled:!this.state.positionId||!this.state.containerId,label:(0,E.jsx)(m.Z,{id:"Common.forward",defaultMessage:[{type:0,value:"Далее"}]}),onClick:()=>this.setState({stepIndex:3})})]});case 3:return(0,E.jsxs)("div",{className:"p",children:[(0,E.jsxs)("div",{className:"",children:[(0,E.jsxs)("div",{className:"inline-block",style:{width:"350px"},children:[(0,E.jsx)("div",{className:"os-form__label",children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.queues",defaultMessage:[{type:0,value:"Очереди"}]})}),(0,E.jsx)(b.Z,{className:"p+ scrollbar",style:{height:"250px",overflowY:"scroll",textAlign:"left"},children:c.filter((e=>!!e.skill)).map((e=>(0,E.jsx)(j.Z,{label:e.name,onCheck:(t,r)=>this.setState({queues:F(F({},this.state.queues),{},{[e.id]:r})}),checked:!0===this.state.queues[e.id]},e.id)))})]}),(0,E.jsxs)("div",{className:"inline-block",style:{width:"350px"},children:[(0,E.jsx)("div",{className:"os-form__label",children:(0,E.jsx)(m.Z,{id:"EmployeeRequest.tasks",defaultMessage:[{type:0,value:"Задачи"}]})}),(0,E.jsx)(b.Z,{className:"p+ scrollbar",style:{height:"250px",overflow:"scroll",textAlign:"left"},children:(0,E.jsx)(Z,{groupId:this.state.groupId,useDates:!1,onChange:e=>this.setState({tasks:e.map((e=>e.userTaskTemplateId))}),value:this.state.tasks.map((e=>({userTaskTemplateId:e}))),tasksGroupsTree:this.props.tasksGroupsTree,taskTemplates:this.props.taskTemplates})})]})]}),(0,E.jsx)(w.Z,{className:"mt",label:(0,E.jsx)(m.Z,{id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]}),onClick:()=>this.setState({stepIndex:2})}),(0,E.jsx)(w.Z,{primary:!0,className:"mt",disabled:!this.state.employeeId,label:(0,E.jsx)(m.Z,{id:"Common.forward",defaultMessage:[{type:0,value:"Далее"}]}),onClick:()=>this.setState({stepIndex:4})})]});case 4:return(0,E.jsxs)("div",{className:"pb+ ph+",children:[(0,E.jsxs)("div",{className:"flex-container",children:[(0,E.jsx)("div",{style:{flexBasis:"50%",height:"250px",overflowY:"auto"},className:"scrollbar text-align_left",children:(0,E.jsx)(x.Z,{children:r.map(((e,t)=>(0,E.jsx)(S.Z,{title:e.title,primaryText:(0,E.jsx)("div",{style:{display:"block"},className:"text-ellipsis",children:e.title}),style:{textAlign:"left"},secondaryText:e.text,onClick:()=>{this.setState({comment:e.text})}},t)))})}),(0,E.jsx)("div",{style:{flexBasis:"50%",maxHeight:"250px"},className:"pl+",children:(0,E.jsx)(O.Z,{style:{textAlign:"left"},label:(0,E.jsx)(m.Z,{id:"Common.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),value:this.state.comment,fullWidth:!0,multiLine:!0,onChange:e=>this.setState({comment:e.target.value})})})]}),(0,E.jsx)(w.Z,{className:"mt",label:(0,E.jsx)(m.Z,{id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]}),onClick:()=>this.setState({stepIndex:3})}),(0,E.jsx)(w.Z,{primary:!0,className:"mt",disabled:!this.state.employeeId||!this.state.comment,label:(0,E.jsx)(m.Z,{id:"Common.ready",defaultMessage:[{type:0,value:"Готово"}]}),onClick:()=>s({comment:this.state.comment,groupId:this.state.groupId,date:this.state.date,userId:this.state.employeeId,positionId:this.state.positionId,skillIds:Object.keys(this.state.queues).filter((e=>!0===this.state.queues[e])),taskIds:this.state.tasks,containerId:this.state.containerId},n)})]})}}render(){return(0,E.jsxs)("div",{style:{width:"850px"},children:[(0,E.jsx)(P.Z,{activeStep:this.state.stepIndex,children:this.getSteps()}),this.getStepContent()]})}}var _=r(97779),B=r(28216),G=r(84343),W=r(32138),U=r(49489),V=r(37548),z=r(65062),Y=r(47458),Q=r(78340),K=r(35105);const X=(0,_.compose)((0,B.$j)((e=>{return{employees:e.employee.free,positions:(t=e.settings.positions.sort(((e,t)=>e.name===t.name?e.id>t.id?1:-1:e.name>t.name?1:-1)).reduce(((e,t)=>(e[t.name]=t,e)),{}),Object.keys(t).map((e=>t[e]))),commentTemplates:e.settings.commentTemplates,tasksGroupsTree:e.settings.tasksGroupsTree,frontendSettings:e.settings.frontendSettings,containers:e.schedule.schedules,userGroupId:e.user.groupId,queues:e.employee.queues,permissionGroupsMap:e.schedule.employeeRequestPermissionGroupsMap,permissionGroupsMapping:e.schedule.permissionGroupsMapping,taskTemplates:e.settings.taskTemplates.sort(((e,t)=>e.name>t.name?1:-1))};var t}),{fetchEmployees:G.fetchFreeEmployees,fetchSkills:G.fetchSkills,fetchSchedules:Y.fetchSchedules,fetchTaskTemplates:U.fetchTaskTemplates,fetchPositions:W.fetchPositions,sendRequest:Q.sendEmployeeRequest,fetchEmployeeRequestPermissionGroups:Y.fetchEmployeeRequestPermissionGroups,fetchTasksGroupsHierarchy:z.fetchTasksGroupsHierarchy,fetchCommentTemplates:V.fetchCommentTemplates,fetchPermissionGroupsMapping:Y.fetchPermissionGroupsMapping}),(0,K.Z)((e=>{var{props:t}=e;t.fetchSchedules({groupId:t.groupId}),t.fetchPermissionGroupsMapping({id:t.groupId}),t.fetchSkills({groupId:t.groupId}),t.fetchTasksGroupsHierarchy(),t.fetchTaskTemplates({id:t.groupId}),t.fetchCommentTemplates(),t.fetchEmployeeRequestPermissionGroups(),t.fetchPositions(t.groupId)})))(H);var J=r(59544),$=r(52387),ee=r(30797),te=r(35667);class re extends i.Component{constructor(e){var t,r,i;super(e),t=this,i=e=>{this.setState({text:e.target.value})},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(r="onTextChange"))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,this.state={text:""}}render(){if((0,te.xb)(this.props.item.childComments))return null;var e=[...this.props.item.childComments];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"context-color_secondary text-style_body-2 pt",style:{height:"250px",marginTop:-32},children:(0,E.jsx)(ee.Z,{headerStyle:{height:0},classNameBottomRightGrid:"scrollbar",rowHeight:56,width:this.props.width,data:e,columnsAutoWidth:!0,columns:this.props.columns})}),(0,E.jsx)(k.Z,{}),(0,E.jsxs)("div",{className:"flex-container flex-container_align-items-flex-end p",children:[(0,E.jsx)("div",{className:"flex-item_flexible pr",children:(0,E.jsx)(O.Z,{label:(0,E.jsx)(m.Z,{id:"Common.comment"}),helperText:(0,E.jsx)(m.Z,{id:"Common.ctrlEnterToSend"}),fullWidth:!0,multiLine:!0,value:this.state.text,onChange:this.onTextChange,onKeyDown:e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&this.state.text&&(this.props.onNewCommentSubmit(this.state.text),this.setState({text:""}),e.preventDefault())}})}),(0,E.jsx)("div",{children:(0,E.jsx)(w.Z,{disabled:!this.state.text,primary:!0,label:(0,E.jsx)(m.Z,{id:"Actions.add"}),onClick:()=>{this.props.onNewCommentSubmit(this.state.text),this.setState({text:""})}})})]})]})}}re.defaultProps={item:{},columns:[],width:0},re.propTypes={item:n().object,columns:n().array,width:n().number,onNewCommentSubmit:n().func.isRequired};const ie=re;var se=r(99813),ne=r(3839),ae=r(21940);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de={headerClassName:"ph",cellClassName:"p text-ellipsis fit-parent"},ue=()=>[new ne.sg({headerClassName:"pl++",cellClassName:"pl++ pt",key:"bindingDate",sortable:!0,width:150,filterable:!0,label:"Дата",getValue:e=>e.bindingDate&&e.bindingDate.split("-").reverse().join(".")}),new ne.sg(le(le({},de),{},{key:"userHandler",width:220,label:"Сотрудник",filterable:!0,sortable:!0,getValue:e=>e.userHandlerName.split(" ").map(((e,t)=>0!==t&&e?e[0]+".":e)).join(" ")})),new ne.sg(le(le({},de),{},{key:"userHandlerPositionName",width:200,label:"Должность",filterable:!0,sortable:!0})),new ne.sg(le(le({},de),{},{key:"userHandlerPersonelNumber",width:150,label:"Табельный номер",filterable:!0})),new ne.sg(le(le({},de),{},{key:"userCreator",width:180,label:"От кого",filterable:!0,sortable:!0,getValue:e=>e.userCreatorName.split(" ").map(((e,t)=>0!==t&&e?e[0]+".":e)).join(" ")})),new ne.sg(le(le({},de),{},{key:"text",width:220,filterable:!0,label:"Комментарий",renderCell:e=>(0,E.jsx)("div",{className:"cursor-pointer overflow-hidden fit-parent",onClick:t=>{ae.Z.popover((0,E.jsx)("div",{className:"p context-color_secondary",style:{maxWidth:300},children:e.text}),t.target,{anchorOrigin:{vertical:"top",horizontal:"left"}}),t.stopPropagation()},children:e.text})})),new ne.sg(le(le({},de),{},{key:"createTime",width:150,sortable:!0,label:"Добавлен",filterable:!0,getValue:e=>f()(e.createTime,"YYYY-MM-DD HH:mm:ss.sss").format("DD.MM.YYYY HH:mm")})),new ne.sg(le(le({},de),{},{key:"childComments.length",width:50,sortable:!0,label:"",renderCell:e=>e.childComments&&0!==e.childComments.length&&(0,E.jsxs)("div",{style:{height:"100%"},className:"popup__header_left-aligned flex-container flex-container_align-items-center",children:[(0,E.jsx)("span",{children:e.childComments.length}),(0,E.jsx)("span",{children:(0,E.jsx)(se.Z,{})})]})}))];function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class he extends i.Component{constructor(e){super(e),pe(this,"onNewCommentSubmit",(e=>{var{user:t}=this.props;this.props.sendComment({text:e,userHandler:this.state.selectedComment.userHandler,userCreator:t.id,bindingDate:this.state.selectedComment.bindingDate,createTime:f()().format("YYYY-MM-DD HH:mm:ss.000"),title:e.substring(0,15),userHandlerName:this.state.selectedComment.userHandlerName,userHandlerPersonelNumber:this.state.selectedComment.userHandlerPersonelNumber,userHandlerPositionName:this.state.selectedComment.userHandlerPositionName,userCreatorName:[t.lastName,t.firstName,t.middleName].filter((e=>!!e)).join(" ")},(()=>this.commentDetails.forceUpdate()))})),pe(this,"getRowHeight",(e=>{var{index:t}=e;return 0===t?32:0!==t&&this.table&&this.table.state.filteredSortedData[t-1]===this.state.selectedComment?338:56})),this.state={selectedComment:void 0,popupTargetCell:void 0}}componentDidMount(){0!==Object.keys(this.props.params).length&&this.props.groupId&&this.props.fetchComments({from:this.props.params.dateFrom,to:this.props.params.dateTo,groupId:this.props.groupId,includeActivities:!1})}render(){var{comments:e,params:{dateFrom:t=f()().format("YYYY-MM-DD"),dateTo:r=f()().format("YYYY-MM-DD")},style:i}=this.props;return(0,E.jsxs)("div",{className:"section",children:[(0,E.jsxs)("div",{className:"flex-container flex-container_vertical overflow-hidden",style:i,children:[(0,E.jsxs)("div",{className:"flex-item_fixed",style:{background:"white",zIndex:2,position:"relative"},children:[(0,E.jsx)("div",{className:"pr++ pl++",children:(0,E.jsx)("h1",{className:"text-style_headline",children:(0,E.jsx)(m.Z,{id:"ScheduleComments.title"})})}),(0,E.jsx)(k.Z,{})]}),(0,E.jsxs)("div",{ref:e=>this.tableContainer=e,className:"flex-item_flexible flex-container flex-container_vertical context-color_secondary text-style_body-2",children:[(0,E.jsxs)("div",{className:"ph++ pv flex-item_fixed",children:[f()(t,C._E).format(C._T),"...",f()(r,C._E).format(C._T)]}),(0,E.jsx)("div",{className:"flex-item_flexible",children:(0,E.jsx)(ee.Z,{ref:e=>this.table=e,width:1e3,hoveredRowCellStyle:{boxShadow:"rgba(0, 0, 0, 0.16) 10px 3px 10px, rgba(0, 0, 0, 0.23) 10px 3px 10px",zIndex:1},cellStyle:{boxShadow:"rgba(0, 0, 0, 0.16) 0px 0px 0px, rgba(0, 0, 0, 0.23) 0px 0px 0px",background:"white"},cellClassName:"cursor-pointer",classNameBottomRightGrid:"scrollbar",onCellClick:(e,t)=>{for(var r=e.currentTarget,i=r.previousSibling;i&&i.style.top===r.style.top;)i=(r=i).previousSibling;this.setState({selectedComment:t},(()=>{this.table.multiGrid.recomputeGridSize(),setTimeout((()=>{this.table.multiGrid._bottomRightGrid.scrollToPosition({scrollTop:56*this.table.state.filteredSortedData.indexOf(t)-56}),this.setState({popupTargetCell:r})}))}))},rowHeight:this.getRowHeight,columnsAutoWidth:!0,headerStyle:{fontWeight:"bold",zIndex:1},data:e,columns:ue()})})]})]}),this.state.selectedComment&&this.state.popupTargetCell&&(0,E.jsx)($.ZP,{open:!0,anchorEl:this.state.popupTargetCell,canAutoPosition:!1,onClose:()=>{var e=this.table.state.filteredSortedData.indexOf(this.state.selectedComment);this.setState({selectedComment:void 0,popupTargetCell:void 0},(()=>this.table.multiGrid.recomputeGridSize({rowIndex:e})))},anchorOrigin:{horizontal:"left",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},style:{marginTop:56,width:this.table.state.calculatedWidth,left:this.tableContainer.getBoundingClientRect().left,boxShadow:"rgba(0, 0, 0, 0.16) 0px 6px 4px"},children:(0,E.jsxs)("div",{style:{position:"relative"},children:[(0,E.jsx)(ie,{ref:e=>this.commentDetails=e,item:this.state.selectedComment,width:this.table.state.calculatedWidth,columns:ue(),onNewCommentSubmit:this.onNewCommentSubmit}),(0,E.jsx)(J.Z,{style:{position:"absolute",top:8,right:8},className:"material-icons cursor-pointer",onClick:()=>{var e=this.table.state.filteredSortedData.indexOf(this.state.selectedComment);this.setState({selectedComment:void 0,popupTargetCell:void 0},(()=>this.table.multiGrid.recomputeGridSize({rowIndex:e})))}})]})})]})}}he.defaultProps={comments:[],groupId:"",style:{},user:{},params:{dateFrom:f()().format("YYYY-MM-DD"),dateTo:f()().format("YYYY-MM-DD")}},he.propTypes={comments:n().array,groupId:n().string,style:n().object,fetchComments:n().func.isRequired,sendComment:n().func.isRequired,params:n().shape({dateFrom:n().string,dateTo:n().string}),user:n().object};const fe=he;var me=r(16550),ve=r(74806),ye=r(71505),ge=r(42324),be=r(522);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Oe=(0,_.compose)(me.EN,ve.ZP,(0,B.$j)(((e,t)=>{var{params:r}=t.match;return r.selectedManagersIds="string"==typeof r.selectedManagersIds?[r.selectedManagersIds]:r.selectedManagersIds,r.selectedEmployeeIds="string"==typeof r.selectedEmployeeIds?[r.selectedEmployeeIds]:r.selectedEmployeeIds,{comments:e.scheduleComments.comments,users:e.scheduleComments.users,user:(0,ge.ts)(e),params:r,groupId:(0,ye.Wx)(e)}}),{fetchComments:be.fetchComments,fetchCommentDetails:be.fetchCommentDetails,fetchEmployees:be.fetchEmployees,sendComment:be.sendComment},((e,t,r)=>xe(xe(xe(xe({},e),t),r),{},{push:r.history.push}))))(fe);var Pe=r(99926);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te={scheduleComputing:"scheduleComputing",employeeRequest:"employeeRequest",scheduleComments:"scheduleComments"};class Ne extends i.PureComponent{constructor(){super(...arguments),ke(this,"popups",{[Te.scheduleComputing]:Pe.h,[Te.employeeRequest]:X,[Te.scheduleComments]:Oe})}render(){var{isScheduleLoading:e}=this.props,t=this.popups[this.props.popupName],r=e?u.wA:this.props.onClose;return(0,E.jsxs)(l.G,{dialog:!0,show:!!this.props.popupName,onClose:r,children:[this.props.popupName&&(0,E.jsx)(t,Ce({},this.props.componentProps)),(0,E.jsx)(d.Z,{onClick:this.props.onClose,disabled:e,children:(0,E.jsx)("div",{className:"popup__close-button",children:(0,E.jsx)(c.ZP,{glyph:p.Z.id})})})]})}}Ne.defaultProps={popupName:null,componentProps:{}},Ne.propTypes=o()({popupName:n().oneOf([Te.scheduleComputing,Te.employeeRequest,Te.scheduleComments]),componentProps:n().object,onClose:n().func.isRequired,isScheduleLoading:n().bool.isRequired})},91637:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r(67294),s=r(45697),n=r.n(s),a=r(52387),o=r(94184),l=r.n(o),c=r(37297),d=r(47968),u=r(30053),p=r(35667),h=r(22350);var f=r(85893);function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends i.PureComponent{constructor(){super(...arguments),m(this,"state",{open:!1,searchTerm:""}),m(this,"createRootRef",(e=>this.rootEl=e)),m(this,"createInputRef",(e=>this.inputEl=e)),m(this,"toggleOpen",(()=>{var{onClose:e,onSetShowDropDown:t,cbAfterClosingPopover:r}=this.props;this.setState((e=>({open:!e.open})),(()=>{t&&t(this.state.open),this.state.open||(e&&e(),this.setState({searchTerm:""}),r())}))})),m(this,"handleInputChange",(e=>{var{value:t}=e.target;this.setState({searchTerm:t,open:!0}),this.props.setSearchInputValue(t)})),m(this,"handleInputKeyDown",(e=>{var{key:t}=e,{onKeyDown:r}=this.props;"Enter"===t&&this.toggleOpen(),"function"==typeof r&&r(e)})),m(this,"handleListChange",(e=>{var{onChange:t}=this.props;t(e),this.inputEl.focus()})),m(this,"filter",(e=>{var{dataSourceConfig:{text:t}}=this.props,{searchTerm:r}=this.state;return r?e.filter((e=>!(0,p.xb)(e[t])&&e[t].toLowerCase().includes(r.toLowerCase()))):e}))}render(){var{dataSource:e,dataSourceConfig:t,values:r,disables:i,dropDownHeight:s,dropDownWidth:n,hintText:o,checkboxClassName:u,classContainer:p,buttonStyle:m,manuallySelectedIds:v}=this.props,y=null==e?void 0:e.sort((0,h.hM)("name")),g=Object.values(o)[0],b=this.filter(y),j="byPosition"!==Object.values(o)[1]?b:b.filter((e=>null!==e.userPosition)),x={padding:10};return n&&(x.width=n),(0,f.jsxs)("div",{ref:this.createRootRef,className:l()("IH9H0hboCb0OwVpluqT6nw==",p),children:[(0,f.jsx)("input",{ref:this.createInputRef,type:"text",name:"input",tabIndex:0,onClick:this.toggleOpen,autoComplete:"off",value:this.state.searchTerm,onChange:this.handleInputChange,placeholder:g,onKeyDown:this.handleInputKeyDown}),(0,f.jsx)(d.Z,{open:this.state.open,onClick:this.toggleOpen,className:l()("glqQKpyXn1VCTjt-JAWyeA==",m)}),(0,f.jsx)(a.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:this.rootEl,open:this.state.open,onClose:this.toggleOpen,disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,f.jsx)("div",{style:x,children:(0,f.jsx)(c.Z,{manuallySelectedIds:v,dataSource:j,dataSourceConfig:t,checkboxClassName:u,values:r,disables:i,sisables:r,onChange:this.handleListChange,listHeight:s})})})]})}}v.defaultProps={values:[],checkboxClassName:"",classContainer:"",buttonStyle:"",disables:[],manuallySelectedIds:[],setSearchInputValue:u.wA,cbAfterClosingPopover:u.wA,onKeyDown:u.wA,onSetShowDropDown:u.wA,onClose:u.wA},v.propTypes={dataSource:n().array.isRequired,dataSourceConfig:n().object.isRequired,values:n().array,manuallySelectedIds:n().array,disables:n().array,onSetShowDropDown:n().func,cbAfterClosingPopover:n().func,checkboxClassName:n().string,onChange:n().func.isRequired,dropDownHeight:n().number.isRequired,dropDownWidth:n().number.isRequired,hintText:n().object.isRequired,onClose:n().func,onKeyDown:n().func,classContainer:n().string,buttonStyle:n().string,setSearchInputValue:n().func};const y=v},66034:(e,t,r)=>{"use strict";r.d(t,{E7:()=>C,Mh:()=>Z,YO:()=>q,ag:()=>w,mM:()=>h,qP:()=>l});var i=r(44012),s=r(85893),n=(0,s.jsx)(i.Z,{id:"Filter.scheduleSchemeName",defaultMessage:[{type:0,value:"По схемам"}]}),a=(0,s.jsx)(i.Z,{id:"Filter.byEmployees",defaultMessage:[{type:0,value:"По сотрудникам"}]}),o=(0,s.jsx)(i.Z,{id:"Filter.bySkills",defaultMessage:[{type:0,value:"По навыкам"}]}),l={id:"Schedule.statByWeekIcon",defaultMessage:"План/факт по неделям"},c=(0,s.jsx)(i.Z,{id:"Filter.byReserveSkills",defaultMessage:[{type:0,value:"По резервным навыкам"}]}),d=(0,s.jsx)(i.Z,{id:"Filter.byStats",defaultMessage:[{type:0,value:"По норме часов"}]}),u=(0,s.jsx)(i.Z,{id:"Filter.bySkillTasks",defaultMessage:[{type:0,value:"По задачам"}]}),p=(0,s.jsx)(i.Z,{id:"Filter.byPosition",defaultMessage:[{type:0,value:"По должности"}]}),h=(0,s.jsx)(i.Z,{id:"Filter.filter",defaultMessage:[{type:0,value:"Фильтр"}]}),f=(0,s.jsx)(i.Z,{id:"Filter.bySameSkills",defaultMessage:[{type:0,value:"По совпадению навыков"}]}),m=(0,s.jsx)(i.Z,{id:"Filter.byOffice",defaultMessage:[{type:0,value:"По офисам"}]}),v="EMPLOYEE",y="POSITION",g="SCHEME",b="MATCHING_SKILL",j="SKILL",x="RESERVE_SKILL",S="USER_TASK_TEMPLATE",O="NORM_HOURS",P="OFFICE",w={[v]:a,[y]:p,[g]:n,[j]:o,[x]:c,[b]:f,[S]:u,[O]:d,[P]:m},C=[v,y,g,b,j,x,S,O,P],k={id:"UserFilter.byEmployees",defaultMessage:"По сотрудникам"},T={id:"UserFilter.byPosition",defaultMessage:"По должности"},N={id:"Filter.scheduleSchemeName",defaultMessage:"По схемам"},R={id:"Filter.bySkills",defaultMessage:"По навыкам"},E={id:"Filter.byReserveSkills",defaultMessage:"По резервным навыкам"},D={id:"Filter.bySameSkills",defaultMessage:"По совпадению навыков"},A={id:"Filter.bySkillTasks",defaultMessage:"По задачам"},M={id:"Filter.byStats",defaultMessage:"По норме часов"},I={id:"Filter.byOffice",defaultMessage:"По офисам"},Z=()=>({text:"name",value:"id"}),q=e=>{var{fieldName:t,intl:r}=e,i=r.formatMessage(k),s=r.formatMessage(T),n=r.formatMessage(N),a=r.formatMessage(R),o=r.formatMessage(E),l=r.formatMessage(D),c=r.formatMessage(A),d=r.formatMessage(M),u=r.formatMessage(I);return{[v]:{byEmployeesFormatted:i,filterField:"byEmployees"},[y]:{byPositionFormatted:s,filterField:"byPosition"},[g]:{bySchemesFormatted:n,filterField:"bySchemes"},[j]:{bySkillsFormatted:a,filterField:"bySkills"},[x]:{byReserveSkillsFormatted:o,filterField:"byReserveSkills"},[b]:{bySameSkillsFormatted:l,filterField:"bySameSkills"},[S]:{byTasksFormatted:c,filterField:"byTasks"},[O]:{byStatsFormatted:d,filterField:"byStats"},[P]:{byOfficeFormatted:u,filterField:"byOffice"}}[t]}},98805:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var i=r(28216),s=r(97779),n=r(16550),a=r(22350),o=r(35667),l=r(65227),c=r(12718),d=r(71505),u=r(42324),p=r(67294),h=r(45697),f=r.n(h),m=r(10152),v=r(44012),y=r(40767),g=r(43637),b=r(81977),j=r(44007),x=r(32384),S=r(47945),O=r(85893);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=e=>{var{from:t,to:r,groupId:i,onClick:s,selectorMode:n,aggregation:a,selectedOfficeIds:o,refreshSelectedSkillIds:l,fetchOfficeSeats:c,activeGraphPeriod:d,isShow:u,isLoading:h=!1,isLabel:f,hint:m,hasSkills:x,hasRightsToForecasting:S,isShowLicenseModal:P,isAggregationPeriod:C,recountFTEClassName:k,disabled:T}=e,[N,R]=(0,p.useState)(!1),E=C?d:{from:t,to:r},D=!x||!S||h||T;return u?(0,O.jsxs)(O.Fragment,{children:[N&&P&&(0,O.jsx)(b.Z,{onClose:()=>R(!1)}),(0,O.jsxs)(y.Z,{onClick:()=>{var e=w(w({},E),{},{groupId:i});s(e,(()=>"offices"===n?c(w(w({},E),{},{aggregation:a,ids:o})):l(i))),R(!0)},disabled:D,hint:m,className:k,children:[(0,O.jsx)(g.ZP,{glyph:j.Z.id}),f&&(0,O.jsx)("span",{className:"pl",style:{fontSize:12},children:(0,O.jsx)(v.Z,{id:"Schedule.Panel.Btn.FTE",defaultMessage:[{type:0,value:"FTE"}]})})]})]}):null};k.defaultProps={isLoading:!1,isShow:!1,isLabel:!1,from:"",to:"",recountFTEClassName:"",disabled:!1},k.propTypes={recountFTEClassName:f().string,disabled:f().bool,match:f().shape({params:f().shape({from:f().string,to:f().string})}).isRequired,onClick:f().func.isRequired,from:(0,m.Z)(l._E),to:(0,m.Z)(l._E),groupId:S.K5.isRequired,hint:f().string.isRequired,isLoading:f().bool,isShow:f().bool,isLabel:f().bool,hasSkills:f().bool.isRequired,hasRightsToForecasting:f().bool.isRequired,selectorMode:f().string.isRequired,aggregation:f().oneOf([x.x4,x.mo]).isRequired,selectedOfficeIds:f().array.isRequired,refreshSelectedSkillIds:f().func.isRequired,fetchOfficeSeats:f().func.isRequired,isShowLicenseModal:f().bool.isRequired,activeGraphPeriod:f().object.isRequired,isAggregationPeriod:f().bool.isRequired};const T=k;var N=r(36853),R=r(78340),E=r(88333),D=r(95766);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Z=(0,s.compose)(n.EN,(0,i.$j)((e=>({currentGroupId:(0,d.Wx)(e),activeGraphPeriod:(0,N.EQ)(e),skills:(0,N.SM)(e),user:(0,u.ts)(e),selectorMode:(0,N.et)(e),selectedOfficeIds:(0,N.Ft)(e),isShowLicenseModal:(0,D.M)(e)})),{refreshSelectedSkillIds:R.refreshSelectedSkillIds,fetchOfficeSeats:R.fetchOfficeSeats}),(0,E.G)((e=>{var{currentGroupId:t,skills:r,user:i,from:s,to:n}=e,d=s&&n||!s&&!n;return M(M({},e),{},{aggregation:d?c.ZP.DAY:c.ZP.FIFTEEN_MINUTES,to:d?(0,l.Om)(n):(0,l.Om)(s),hasSkills:!(0,o.xb)(r[t]),hasRightsToForecasting:(0,a.BC)(i,c.ZP.RIGHTS.FORECASTING),isAggregationPeriod:!!d})})))(T)},85073:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(45697),s=r.n(i),n=r(1379),a=r(85893),o=e=>{var{color:t}=e;return(0,a.jsx)("div",{style:{backgroundColor:t},className:n.Z.colorLabel})};o.propTypes={color:s().string.isRequired};const l=o},88e3:(e,t,r)=>{"use strict";r.d(t,{$I:()=>v,Q1:()=>y,Rk:()=>S,S5:()=>f,TN:()=>x,U7:()=>O,UM:()=>g,WZ:()=>c,Xi:()=>h,_4:()=>m,cd:()=>j,dG:()=>a,eS:()=>u,gm:()=>o,mZ:()=>d,wH:()=>b,yc:()=>l});var i=r(44012),s=r(69355),n=r(85893),a=70,o=3e3,l=280,c=296,d=250,u=140,p=120,h=140,f=120,m="white",v="Graph.topContentHeight",y="Graph.userDataColumnWidth",g=50;function b(){var e=s.ZP.get(v,p);return e<h?h:e}function j(){var e=s.ZP.get(y,l);return e<c?c:e}var x=(0,n.jsx)(i.Z,{id:"Schedule.Panel.Btn.ChangeDetail",defaultMessage:[{type:0,value:"Изменение расписания"}]}),S=(0,n.jsx)(i.Z,{id:"Schedule.Error.NoRights",defaultMessage:[{type:0,value:"Нет прав"}]}),O=(0,n.jsx)(i.Z,{id:"Common.Loading",defaultMessage:[{type:0,value:"Загрузка..."}]})},19873:(e,t,r)=>{"use strict";r.d(t,{VN:()=>l,Wj:()=>a,pF:()=>o});var i=r(44012),s=r(98106),n=r(85893),a="MonitoringDisplaySettings",o=(0,n.jsx)(i.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),l=e=>[{name:"operatorName",label:e.formatMessage(s.JE),disabled:!0,hidden:!0},{name:"activityTime",label:e.formatMessage(s.Ln),disabled:!0,hidden:!0},{name:"workActivityName",label:e.formatMessage(s.N0),disabled:!0,hidden:!0},{name:"userStatusName",label:e.formatMessage(s.KN),disabled:!0,hidden:!0},{name:"schemePeriods",label:e.formatMessage(s.Lg)},{name:"personnelNumber",label:e.formatMessage(s.M4)},{name:"login",label:e.formatMessage(s.jj)},{name:"groupPeriod",label:e.formatMessage(s.gW)},{name:"officePeriod",label:e.formatMessage(s.Pq)},{name:"skills",label:e.formatMessage(s.y)},{name:"phoneNumber",label:e.formatMessage(s.s2)},{name:"hiringDate",label:e.formatMessage(s.H1)},{name:"externalUserIds",label:e.formatMessage(s.E_)},{name:"normHours",label:e.formatMessage(s.xg)}]},98106:(e,t,r)=>{"use strict";r.d(t,{$0:()=>D,Bu:()=>o,E_:()=>L,Gt:()=>b,H1:()=>q,I$:()=>V,JE:()=>p,KN:()=>g,LV:()=>C,Lg:()=>j,Ln:()=>f,M4:()=>S,M_:()=>m,N:()=>c,N0:()=>v,O$:()=>k,O5:()=>H,PF:()=>B,Pq:()=>E,VW:()=>h,XY:()=>u,ZP:()=>G,bZ:()=>y,cM:()=>R,fR:()=>T,fx:()=>Z,gW:()=>N,jj:()=>P,k3:()=>O,kY:()=>F,lM:()=>d,nG:()=>w,oE:()=>U,oY:()=>Q,p_:()=>W,qJ:()=>l,qt:()=>x,s2:()=>I,xg:()=>_,y:()=>A,y4:()=>M});var i=r(44012),s=r(43637),n=r(74321),a=r(85893),o="monitoring.autoUpdateEnabled",l="monitoring.updateInterval",c=3,d=(e,t)=>[{label:(0,a.jsx)(i.Z,{id:"Graph.employeeCard",defaultMessage:[{type:0,value:"Карточка сотрудника"}]}),icon:(0,a.jsx)(s.ZP,{glyph:s.tB,className:n.Z.icon}),handler:()=>{t.openEmployeeForm(e.operatorId)}}],u=(0,a.jsx)(i.Z,{id:"Monitoring.nameEmployee",defaultMessage:[{type:0,value:"ФИО сотрудника"}]}),p={id:"Monitoring.nameEmployee",defaultMessage:"ФИО сотрудника"},h=(0,a.jsx)(i.Z,{id:"Monitoring.time",defaultMessage:[{type:0,value:"Время"}]}),f={id:"Monitoring.time",defaultMessage:"Время"},m=(0,a.jsx)(i.Z,{id:"Monitoring.schedule",defaultMessage:[{type:0,value:"Расписание"}]}),v={id:"Monitoring.schedule",defaultMessage:"Расписание"},y=(0,a.jsx)(i.Z,{id:"Monitoring.employeeStatus",defaultMessage:[{type:0,value:"Статус сотрудника"}]}),g={id:"Monitoring.employeeStatus",defaultMessage:"Статус сотрудника"},b=(0,a.jsx)(i.Z,{id:"Employee.scheduleScheme",defaultMessage:[{type:0,value:"Схема работы"}]}),j={id:"Employee.scheduleScheme",defaultMessage:"Схема работы"},x=(0,a.jsx)(i.Z,{id:"EmployeeForm.personnelNumber",defaultMessage:[{type:0,value:"Номер"}]}),S={id:"EmployeeForm.personnelNumber",defaultMessage:"Табельный номер"},O=(0,a.jsx)(i.Z,{id:"Employee.login",defaultMessage:[{type:0,value:"Логин WFM"}]}),P={id:"Employee.login",defaultMessage:"Логин WFM"},w={id:"SignInForm.login",defaultMessage:"Логин"},C={id:"EmployeeAddForm.password",defaultMessage:"Пароль"},k={id:"SignInForm.signIn",defaultMessage:"Войти"},T=(0,a.jsx)(i.Z,{id:"DisplaySettings.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),N={id:"DisplaySettings.groupName",defaultMessage:"Точка оргструктуры"},R=(0,a.jsx)(i.Z,{id:"Employee.office",defaultMessage:[{type:0,value:"Офис"}]}),E={id:"Employee.office",defaultMessage:"Офис"},D=(0,a.jsx)(i.Z,{id:"EmployeeForm.schemeOfSkills",defaultMessage:[{type:0,value:"Навыки"}]}),A={id:"EmployeeForm.schemeOfSkills",defaultMessage:"Навыки"},M=(0,a.jsx)(i.Z,{id:"Employee.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]}),I={id:"Employee.phoneNumber",defaultMessage:"Номер телефона"},Z=(0,a.jsx)(i.Z,{id:"Employee.hiringDate",defaultMessage:[{type:0,value:"Дата найма"}]}),q={id:"Employee.hiringDate",defaultMessage:"Дата найма"},F=(0,a.jsx)(i.Z,{id:"ManagerForm.externalIds",defaultMessage:[{type:0,value:"Внешние логины"}]}),L={id:"ManagerForm.externalIds",defaultMessage:"Внешние логины"},H=(0,a.jsx)(i.Z,{id:"Employee.normHours",defaultMessage:[{type:0,value:"Норма часов"}]}),_={id:"Employee.normHours",defaultMessage:"Норма часов"},B=(0,a.jsx)(i.Z,{id:"DisplaySettingsForm.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]}),G=(0,a.jsx)(i.Z,{id:"Monitoring.updateTime",defaultMessage:[{type:0,value:"Период обновления в секундах"}]}),W={id:"DisplaySettingsForm.displaySetting",defaultMessage:"Настройка отображения"},U=(0,a.jsx)(i.Z,{id:"DisplaySettings.hintMessage",defaultMessage:[{type:0,value:"Выберите поля, которые будут показаны на основном экране."}]}),V=(0,a.jsx)(i.Z,{id:"Monitoring.statusUnknown",defaultMessage:[{type:0,value:"Состояние неизвестно"}]}),z={id:"ExternalSystems.absent",defaultMessage:"Отсутствует"},Y={id:"ExternalSystems.notDetermined",defaultMessage:"Не определен"},Q=(e,t)=>"00000000-0000-0000-0000-0000000000001"===e.externalId||"-1"===e.externalId||"-3"===e.externalId?t.formatMessage(z):"ffffffff-ffff-ffff-ffff-ffffffffffff"===e.externalId||"-2"===e.externalId?t.formatMessage(Y):e.name},99926:(e,t,r)=>{"use strict";r.d(t,{h:()=>ae});var i=r(94184),s=r.n(i),n=r(30381),a=r.n(n),o=r(45697),l=r.n(o),c=r(67294),d=r(44012),u=r(65399),p=r(86658),h=r(50335),f=r(7127),m=r(3212),v=r(56089),y=r(96797),g=r(55470),b=r(35667),j=r(12718),x=r(65227);function S(e){e.stopPropagation()}var O=r(30053),P=r(22350),w=r(47945),C=r(57484),k=r(81343),T=r(28216),N=r(54392);const R="O1f0PmbNSFausDaCH3MrTw==";var E=r(78340),D=r(85893);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=(0,D.jsx)(d.Z,{id:"ScheduleComputing.publish",defaultMessage:[{type:0,value:"Опубликовать"}]}),Z=e=>{var{isScheduleBuilding:t,rootGroup:r,computeSchedule:i,disabled:s,graphFetchParams:n,checkUnsavedChanges:o,isEnableSavingSchedule:l,publishSchedule:c,groupIds:d,userIds:u,from:p,to:h,month:f,isActivePublish:m,generateByFiltered:v,isDisabledButtonPublish:y}=e,g=(0,T.I0)();return t?(0,D.jsx)("div",{className:"_9wW+m-BFsy2yd4MzFVozfg==",children:(0,D.jsx)(k.I,{style:!0,onSubmit:()=>{i(r)},popup:!0,message:N.kv,fullMessage:N.pg,submitButtonMessage:N.LK,cancelButtonMessage:N.sO,disabled:s,children:(0,D.jsx)(C.Z,{className:"mh",disabled:s,caption:N.LK,onClick:O.wA})})}):(0,D.jsx)(C.Z,{className:"mh",onClick:()=>{c(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(v?{userIds:u}:{groupIds:d},l?{from:a()(f,x.ZM).startOf("month").format(x.vc),to:a()(f,x.ZM).endOf("month").format(x.vc)}:{from:p,to:h}),(()=>{o(n)})),g((0,E.setComputingType)("publish"))},primary:!0,caption:I,disabled:!(v||!(0,b.xb)(d))||!m||y})};Z.defaultProps={generateByFiltered:!1},Z.propTypes={isScheduleBuilding:l().bool.isRequired,rootGroup:l().string.isRequired,computeSchedule:l().func.isRequired,disabled:l().bool.isRequired,checkUnsavedChanges:l().func.isRequired,graphFetchParams:l().object.isRequired,isEnableSavingSchedule:l().bool.isRequired,publishSchedule:l().func.isRequired,generateByFiltered:l().bool,groupIds:l().array.isRequired,userIds:l().array.isRequired,month:l().string.isRequired,from:l().string.isRequired,to:l().string.isRequired,isActivePublish:l().bool.isRequired,isDisabledButtonPublish:l().bool.isRequired};const q=Z;var F=r(95477),L=e=>{var{action:t}=e;return(0,D.jsxs)("div",{className:"forecast__computing-loading",children:[(0,D.jsx)("div",{className:"progressbar-container_circular",children:(0,D.jsx)(F.Z,{size:86})}),(0,D.jsx)("p",{className:"forecast__computing-preloader-text",children:"generate"===t?(0,D.jsx)(d.Z,{id:"ScheduleComputing.scheduleGeneraged",defaultMessage:[{type:0,value:"Расписание формируется..."}]}):(0,D.jsx)(d.Z,{id:"ScheduleComputing.publishing",defaultMessage:[{type:0,value:"Расписание публикуется..."}]})})]})};L.propTypes={action:l().oneOf(["generate","publish"]).isRequired};const H=L;var _=r(59813);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class U extends c.Component{constructor(e){super(e),W(this,"getGroupsIds",(()=>{var{selectedNodes:e}=this.state;return Object.keys(e).filter((t=>!this.isIdSelected(e[t].groupId)))})),W(this,"getUserIds",(()=>{var{filteredTableData:e}=this.props;return e.map((e=>e.userId))})),W(this,"isIdSelected",(e=>Boolean(this.state.selectedNodes[e]))),W(this,"handleSuccess",(()=>{var{currentGroupId:e,graphDatePeriod:t,fetchGraphData:r,refreshSelectedSkillIds:i,filterChart:s,fetchLaborCodeViolationsByGroup:n,isLaborCodeCheckingEnabled:a,tableFilters:o,tableUrlParams:l}=this.props,{to:c}=t,d=G(G({},t),{},{to:(0,x.iX)(c),groupId:e,filter:o,urlParams:l});r(d),a&&n(d),"SL"!==s.type&&i(e)})),W(this,"computeSchedule",(e=>{var{buildSchedule:t,formValues:{normalizeHours:r,preferencePercent:i,saveComments:s,generateByFiltered:n,socialJustice:o},globalSettings:{IS_SCHEDULE_VERSIONING_ENABLE:l},frontendSettings:c,tableFilterIgnoreList:d,currentGroupId:u,tableFilters:p,setComputingType:h}=this.props,{from:f,to:m,month:v}=this.state,y=e&&"true"===l&&c.isScheduleSaveSettingsEnable.value;h("generate");var g=a()(v,x.ZM).startOf("month").format(x.vc),b=a()(v,x.ZM).endOf("month").format(x.vc),j={normalizeHours:r,from:y?g:f,to:y?b:m,preferencePercent:i,removeComment:!s,socialJustice:o};n?t(G(G({},j),{},{removeOperators:d,filter:p,actualManagerGroup:u}),this.handleSuccess,n):t(G(G({},j),{},{groupIds:this.getGroupsIds()}),this.handleSuccess)})),W(this,"addToSelections",(e=>{this.setState((t=>({selectedNodes:G(G({},t.selectedNodes),{},{[e.id]:e})})))})),W(this,"removeFromSelected",(e=>{this.setState((t=>{var r=G({},t.selectedNodes);return delete r[e.id],{selectedNodes:r}}))})),W(this,"changeNodeSelection",((e,t)=>{t?this.addToSelections(e):this.removeFromSelected(e)})),W(this,"selectAllChildren",((e,t)=>{this.changeNodeSelection(e,t),e.children.forEach((e=>{this.selectAllChildren(e,t)}))})),W(this,"handleCheckNode",((e,t)=>{this.selectAllChildren(t,e)})),W(this,"handleStartChange",(e=>{this.setState({from:e})})),W(this,"handleEndChange",(e=>{this.setState({to:e})})),W(this,"shouldDisabledMonth",((e,t)=>{var r=a()().month();return!(a()().year()!==t||e>r)})),W(this,"shouldDisabledYear",(e=>e<a()().year())),this.state={month:a()().add(1,"month").format(x.ZM),selectedNodes:{},from:a()(this.props.graphDatePeriod.from,x._E).format(x.vc),to:a()(this.props.graphDatePeriod.to,x._E).format(x.vc),buildSchedule:!0}}render(){var{publishSchedule:e,currentGroupId:t,graphDatePeriod:r,theme:i,frontendSettings:n,isShowEmployeePreferences:o,formValues:{generateByFiltered:l=!1},tableFilters:c,isActivePublish:w,user:C,scheduleAction:k,globalSettings:T,checkUnsavedChanges:E,computingType:A}=this.props,{selectedNodes:M,to:I,from:Z,buildSchedule:F,month:L}=this.state,_=!(0,P.BC)(C,j.ZP.RIGHTS.SCHEDULE,j.ZP.CRUD),B=G(G({},r),{},{to:(0,x.iX)(r.to),groupId:t}),W=!Z||!I||(0,b.xb)(M)&&!l,U=s()("forecast__computing-sidebar-content scroll","Hz9rYneAXRtUqAk-lnCu1g=="),V=k.scheduleLoading,z=k&&V,Y=Object.values(M).some((e=>e.root)),Q=Y&&"true"===T.IS_SCHEDULE_VERSIONING_ENABLE&&n.isScheduleSaveSettingsEnable.value;return(0,D.jsxs)("div",{className:s()(i.container,"forecast__computing"),children:[(0,D.jsxs)("div",{className:"forecast__computing-sidebar",children:[(0,D.jsx)("h3",{className:"forecast__computing-sidebar-header",children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.structureOrganization",defaultMessage:[{type:0,value:"Структура организации"}]})}),(0,D.jsxs)("div",{className:U,children:[(0,D.jsx)(u.Z,{name:"generateByFiltered",component:g.Z,className:[R,"_2yIepY-Vi2uFG4R3fA9MMg=="],label:N.N_,disabled:(0,b.xb)(c)}),(0,D.jsx)(p.ZP,{autoHide:!0,children:(0,D.jsx)(m.e,{onChange:O.wA,renderLabel:e=>(0,D.jsx)("div",{style:{paddingTop:"3px"},onClick:S,title:e.name||e.groupName,children:(0,D.jsx)(h.ZP,{className:"PxGVgANs29wy38yNJISCXw==",checked:M[e.id],onChange:t=>{this.handleCheckNode(t,e)},label:e.name||e.groupName,disabled:l})})})})]})]}),(0,D.jsxs)("div",{className:"in6C7gxoXFdTASb2-PIK+A==",children:[(0,D.jsxs)("div",{className:i.buttons,children:[(0,D.jsx)("span",{className:i.buttonLeft,role:"button",tabIndex:0,style:F?{color:"#8171d4"}:{},onKeyDown:O.wA,onClick:()=>{this.setState({buildSchedule:!0})},children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.buildSchedule",defaultMessage:[{type:0,value:"Построить расписание"}]})}),(0,D.jsx)("span",{role:"button",tabIndex:0,onKeyDown:O.wA,className:i.buttonRight,style:F?{}:{color:"#8171d4"},onClick:()=>{this.setState({buildSchedule:!1})},children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.publishSchedule",defaultMessage:[{type:0,value:"Опубликовать расписание"}]})})]}),(0,D.jsx)("h2",{className:s()("H8QZesLYI-UCvk5ZDim+9Q==","forecast__computing-header"),children:F?(0,D.jsx)(d.Z,{id:"ScheduleComputing.buildScheduleH2",defaultMessage:[{type:0,value:"Построить расписание"}]}):(0,D.jsx)(d.Z,{id:"ScheduleComputing.publishScheduleH2",defaultMessage:[{type:0,value:"Опубликовать расписание"}]})}),(0,D.jsx)("div",{className:i.scheduleDates}),(0,D.jsxs)("div",{className:s()(i.block,"forecast__computing-row","flex-container","mr++","WXKV1yWmD99700zWNemYPA=="),style:{marginBottom:Q?30:34.5},children:[Q?(0,D.jsx)("div",{children:(0,D.jsx)("span",{className:"inline-block inline-block_middle ph+",children:(0,D.jsx)(f.A,{shouldDisabledMonth:this.shouldDisabledMonth,shouldDisabledYear:this.shouldDisabledYear,onChange:(e,t)=>{var r=a()().year()===t,i=a()().add(1,"month").format(x.ZM),s=r?i:e;this.setState({month:s})},value:L,selectStyle:{padding:3,height:25,fontSize:14}})})}):(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:i.label,children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.from",defaultMessage:[{type:0,value:"с"}]})}),(0,D.jsx)(v.Z,{date:Z,dateFormat:x.vc,onChange:this.handleStartChange}),(0,D.jsx)("span",{className:i.label,children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.to",defaultMessage:[{type:0,value:"по"}]})}),(0,D.jsx)(v.Z,{date:I,minDate:Z,dateFormat:x.vc,onChange:this.handleEndChange})]}),F&&(0,D.jsx)("div",{className:s()("_2L2MJWn9wXOwTN0K0C8P+A==",{}),children:(0,D.jsx)(u.Z,{component:g.Z,name:"normalizeHours",label:N.rC})})]}),(0,D.jsxs)("div",{className:"S6yvM+78N0olM7Cn8lINXQ==",children:[F&&o&&(0,D.jsx)(u.Z,{component:y.lF,name:"preferencePercent",className:"S-X3wg+JrK58nsAuFvjYFA==",label:N.MK}),F&&(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{children:(0,D.jsx)(u.Z,{name:"saveComments",component:g.Z,className:R,label:N.FQ})}),(0,D.jsx)("div",{children:(0,D.jsx)(u.Z,{name:"socialJustice",component:g.Z,className:R,label:N.AC})})]})]}),Q&&(0,D.jsx)("div",{className:"LCjFCI1MPKd5nZnxPFgN8A==",children:(0,D.jsx)(d.Z,{id:"ScheduleComputing.dataReport",defaultMessage:[{type:0,value:"Данные будут сохранены для отчёта"}]})}),(0,D.jsx)("div",{style:{paddingTop:Q?0:25.5},children:(0,D.jsx)(q,{isDisabledButtonPublish:_,isScheduleBuilding:F,rootGroup:Y,computeSchedule:this.computeSchedule,disabled:W,checkUnsavedChanges:E,graphFetchParams:B,isEnableSavingSchedule:Q,publishSchedule:e,groupIds:this.getGroupsIds(),userIds:this.getUserIds(),generateByFiltered:l,month:L,from:Z,to:I,isActivePublish:w})}),z&&(0,D.jsx)(H,{isLoading:V,action:A})]})]})}}U.defaultProps={normalizeHours:!1,isShowEmployeePreferences:!1,socialJustice:!0,formValues:{},globalSettings:{},computingType:"",user:{},tableFilterIgnoreList:[]},U.propTypes={globalSettings:l().object,normalizeHours:l().bool,socialJustice:l().bool,isShowEmployeePreferences:l().bool,tableFilters:_.PX.isRequired,tableUrlParams:_.SR.isRequired,formValues:l().object,user:l().object,computingType:l().string,buildSchedule:l().func.isRequired,setComputingType:l().func.isRequired,theme:l().object.isRequired,frontendSettings:l().object.isRequired,graphDatePeriod:l().object.isRequired,fetchGraphData:l().func.isRequired,currentGroupId:w.K5.isRequired,publishSchedule:l().func.isRequired,scheduleAction:l().object.isRequired,refreshSelectedSkillIds:l().func.isRequired,checkUnsavedChanges:l().func.isRequired,filterChart:l().object.isRequired,fetchLaborCodeViolationsByGroup:l().func.isRequired,isLaborCodeCheckingEnabled:l().bool.isRequired,filteredTableData:l().array.isRequired,isActivePublish:l().bool.isRequired,tableFilterIgnoreList:l().array};const V=U;var z=r(97779),Y=r(85208),Q=r(8043),K=r(17666),X=r(71505),J=r(47458),$=r(36853);const ee=(0,r(52760).ZP)((()=>({block:{marginBottom:"10px"},label:{display:"inline-block",width:"35px"},buttonLeft:{display:"inline-block",color:"#908ca7",textDecoration:"none",padding:"0.7em 1em",outline:"none",borderWidth:"1px 0.5px",borderStyle:"solid",transition:"0.2s",fontWeight:"500",cursor:"pointer",borderBottomLeftRadius:"7px",borderTopLeftRadius:"7px"},buttonRight:{display:"inline-block",color:"#908ca7",textDecoration:"none",padding:"0.7em 1em",outline:"none",borderWidth:"1px 0.5px",borderStyle:"solid",transition:"0.2s",fontWeight:"500",cursor:"pointer",borderBottomRightRadius:"7px",borderTopRightRadius:"7px"},buttons:{paddingTop:"2em"},scheduleDate:{paddingTop:"0.5em"},scheduleDates:{fontWeight:"500"}})));var te=r(42324);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne="scheduleComputingForm";const ae=(0,z.compose)((0,T.$j)((e=>({scheduleAction:e.schedule.scheduleLoadnigAction,user:(0,te.ts)(e),globalSettings:(0,K.Tv)(e),currentGroupId:(0,X.Wx)(e),filteredTableData:(0,$.Op)(e),tableFilters:(0,$.Xd)(e),tableUrlParams:(0,$.bT)(e),selectedGroupIds:e.schedule.selectedGroupIds,graphDatePeriod:(0,$.Qz)(e),frontendSettings:(0,K.e0)(e),computingType:(0,$.H8)(e),isActivePublish:e.schedule.intervalIsChanged[0]?e.schedule.intervalIsChanged[0].isChanged:null,isShowEmployeePreferences:(0,K.vH)(e,"isShowEmployeePreferences"),formValues:(0,Y.Z)(ne)(e)||{},filterChart:(0,$.Tb)(e),isLaborCodeCheckingEnabled:(0,K.vH)(e,"isLaborCodeCheckingEnabled"),initialValues:{generateByFiltered:!(0,b.xb)((0,$.Xd)(e))},tableFilterIgnoreList:(0,$.JK)(e)})),{setSelectedGroupIdsCb:J.setSelectedGroupIdsCb,buildSchedule:J.buildSchedule,publishSchedule:J.publishSchedule,checkUnsavedChanges:E.checkUnsavedChanges,fetchGraphData:E.fetchGraphData,refreshSelectedSkillIds:E.refreshSelectedSkillIds,fetchLaborCodeViolationsByGroup:E.fetchLaborCodeViolationsByGroup,setComputingType:E.setComputingType},((e,t,r)=>ie(ie(ie(ie({},e),r),t),{},{setSelectedGroupIdsCb:e=>t.setSelectedGroupIdsCb(e),publishSchedule:(e,r)=>{var{from:i,to:s,groupIds:n,userIds:o}=e,l=a()(s,x.vc).add(1,"day").format(x.vc);(0,b.xb)(o)?t.publishSchedule({from:i,to:l,groupIds:n},r):t.publishSchedule({from:i,to:l,userIds:o},r,!0)},initialValues:{socialJustice:!0}}))),ee,(0,Q.Z)({form:ne}))(V)},54392:(e,t,r)=>{"use strict";r.d(t,{AC:()=>p,FQ:()=>u,LK:()=>o,MK:()=>d,N_:()=>h,kv:()=>a,pg:()=>n,rC:()=>c,sO:()=>l});var i=r(44012),s=r(85893),n=(0,s.jsx)(i.Z,{id:"ScheduleComputing.confirmFullMessage",defaultMessage:[{type:0,value:"Вы уверены, что хотите построить расписание? Построенное расписание нельзя будет удалить."}]}),a=(0,s.jsx)(i.Z,{id:"ScheduleComputing.buildSchedule",defaultMessage:[{type:0,value:"Построить расписание"}]}),o=(0,s.jsx)(i.Z,{id:"ScheduleComputing.build",defaultMessage:[{type:0,value:"Построить"}]}),l=(0,s.jsx)(i.Z,{id:"ScheduleComputing.scheduleCancelButtonMessage",defaultMessage:[{type:0,value:"Отказаться"}]}),c=(0,s.jsx)(i.Z,{id:"ScheduleComputing.normalizeHours",defaultMessage:[{type:0,value:"Привести к норме часов"}]}),d=(0,s.jsx)(i.Z,{id:"ScheduleComputing.ConsiderPreferences",defaultMessage:[{type:0,value:"Учитывать предпочтения (%)"}]}),u=(0,s.jsx)(i.Z,{id:"ScheduleComputing.SaveComments",defaultMessage:[{type:0,value:"Сохранить комментарии на период построения"}]}),p=(0,s.jsx)(i.Z,{id:"ScheduleComputing.EvenlyStartShifts",defaultMessage:[{type:0,value:"Равномерность по началу смен"}]}),h=(0,s.jsx)(i.Z,{id:"ScheduleComputing.byFiltered",defaultMessage:[{type:0,value:"По выбранным пользователям"}]})},4722:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,SL:()=>n,k:()=>s});var i="differences",s="forecastPlan",n="SL"},96905:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,w:()=>s});var i=300,s=1e3},28269:(e,t,r)=>{"use strict";r.d(t,{Do:()=>l,V6:()=>o,eV:()=>s,p9:()=>n,t2:()=>i,zX:()=>a});var i="kdoExportFixedColumnWidth",s=550,n="uploaded",a="notUploaded",o="inProcess",l={in_work:"in_work",success:"success",error:"error"}},59813:(e,t,r)=>{"use strict";r.d(t,{PX:()=>d,SR:()=>c,_p:()=>l});var i=r(45697),s=r.n(i),n=r(47945),a=s().oneOf(["EMPLOYEE","SKILL","POSITION","RESERVE_SKILL","MATCHING_SKILL","USER_TASK_TEMPLATE","SCHEME","OFFICE","NORM_HOURS"]).isRequired,o={type:a,values:s().arrayOf(s().shape({id:s().string.isRequired,name:s().string.isRequired})).isRequired},l=s().shape({totalNumberRows:s().number.isRequired,userIds:s().arrayOf(s().string),filters:s().shape({[a]:s().shape(o)})}),c=s().shape({sortType:s().oneOf(["asc","desc"]).isRequired,sortName:s().oneOf(["name","schedule_start"]).isRequired,page:s().number.isRequired,size:s().number.isRequired}),d=s().arrayOf(s().shape({type:a,values:s().arrayOf(n.K5).isRequired}))},59954:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(81978),s=r(97779),n=r(80452);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(0,i.Lq)({[n.receiveCharts]:(e,t)=>t.map((e=>o(o({},e),{},{checked:!1}))),[n.checkRadioButton]:(e,t)=>e.map((e=>e.recordId===t?o(o({},e),{},{checked:!e.checked}):e.recordId!==t?o(o({},e),{},{checked:!1}):e)),[n.resetCharts]:()=>[]},[]);const d=(0,s.combineReducers)({chartsInChangeLog:c})},7780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(81978),s=r(97779),n=r(22350),a=r(6287),o=r(20524);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=(0,i.Lq)({[a.receiveEventsData]:(e,t)=>({status:o.Z.succeeded,error:null,data:t.map((e=>c(c({},e),{},{assignedUsers:e.assignedUsers.sort((0,n.hM)("fullName"))})))}),[a.setEventsLoading]:e=>c(c({},e),{},{status:o.Z.loading}),[a.receiveEventsError]:(e,t)=>c(c({},e),{},{status:o.Z.failed,error:t}),[a.resetEvents]:()=>({data:[],status:o.Z.idle,error:null})},{status:o.Z.idle,error:null,data:[]});const p=(0,s.combineReducers)({eventsTable:u})},63703:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Xe,storeLaborCodeViolationsGroupMapReducer:()=>Se,storeLaborCodeViolationsUserMapReducer:()=>xe});var i=r(30381),s=r.n(i),n=r(97779),a=r(81978),o=r(34018),l=r(35667),c=r(65227),d=r(63926),u=r(22350),p=r(30053),h=r(58482),f=r(60119),m=r(78340),v=r(4722),y=r(48318),g=r(20524);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=(0,a.Lq)({[m.forecastsFetched]:(e,t)=>j(j({},e),{},{[t.queueId]:j(j({},e[t.queueId]),{},{[t.aggregation]:t.data})}),[m.receiveStatisticsByMultiSkill]:(e,t)=>j(j({},(0,y.Ho)({stats:t.data.stats,aggregation:t.aggregation})),{},{aggregatedStats:t.data.aggregatedStats})},{}),O=(0,n.combineReducers)({lastFetchedDates:(0,a.Lq)({[m.forecastsFetched]:(e,t)=>t.data.dates,[m.receiveStatisticsByMultiSkill]:(e,t)=>t.data.dates,[m.clearStatistics]:()=>[]},[])}),P=(0,a.Lq)({[m.receiveSLForecasts]:(e,t)=>t},{}),w=(0,a.Lq)({[m.receiveGroupSkills]:(e,t)=>{var{groupId:r,data:i}=t,s=(0,o.Qn)(e[r]);return j(j({},e),{},{[r]:(0,o.on)(i,s).sort((0,u.hM)("name"))})}},{}),C=(0,a.Lq)({[m.fetchAllDistinctGroupSkills]:(e,t)=>t},{}),k=(0,a.Lq)({[m.fetchAllDistinctGroupTemplates]:(e,t)=>t},{}),T=(0,a.Lq)({[m.graphDataFetched]:y.e,[m.updateBalancerStatsForUserIds]:(e,t)=>{var r=j({},e);return t.forEach((e=>{(0,l.xb)(r[e.userNorm.userId])||(r[e.userNorm.userId].stats=e)})),r},[m.updateADayInTable]:(e,t)=>{var r=t.dayStart,i=j({},e);return t.color?i[t.userId][r]=t:delete i[t.userId][r],i},[m.updateUserInTable]:(e,t)=>{var r=t.reduce(((t,r)=>{var i={},{userId:s,stats:n,userName:a,userFullName:o,userPosition:l,timeZoneData:c,overWork:d}=e[r.userId];return i[r.userId]=j({userId:s,stats:n,userName:a,userFullName:o,userPosition:l,timeZoneData:c,overWork:d},(e=>{var t={};return e.schedule.forEach((e=>{t[e.day]=e})),e.preferenceTable.forEach((e=>{t[e.day]?t[e.day]=j(j({},t[e.day]),{},{preference:e}):t[e.day]={preference:e}})),e.shiftBlockTable.forEach((e=>{t[e.day]?t[e.day]=j(j({},t[e.day]),{},{shiftBlock:e}):t[e.day]={shiftBlock:e}})),t})(r)),j(j({},t),i)}),{});return j(j({},e),r)},[m.receiveCommentByUsers]:(e,t)=>Object.keys(e).reduce(((r,i)=>(r[i]=j(j({},e[i]),t[i]),r)),{}),[m.updateEmployeeNameInTableData]:(e,t)=>{var{firstName:r,lastName:i,id:s,middleName:n}=t,a={[s]:j(j({},e[s]),{},{userName:(0,f.oo)({firstName:r,lastName:i,middleName:n})})};return j(j({},e),a)},[m.updateEmployeeGroupNameInTableData]:(e,t)=>{var r={[t.userId]:j(j({},e[t.userId]),{},{userPosition:t.name})};return j(j({},e),r)},[m.updateEmployeeTimeZoneInTableData]:(e,t)=>{var{userId:r,timeZoneData:i}=t,s={[r]:j(j({},e[r]),{},{timeZoneData:i})};return j(j({},e),s)},[m.removeEventDay]:(e,t)=>{var r,i,{userId:s,day:n}=t,a={[s]:j(j({},e[s]),{},{days:(null===(r=e[s])||void 0===r||null===(i=r.days)||void 0===i?void 0:i.filter((e=>e!==n)))||[]})};return j(j({},e),a)},[m.resetPeriodTableData]:()=>({})},{}),N=(0,a.Lq)({[m.graphDataFetched]:(e,t)=>{var r=[...new Set([...e.userIds,...t.response.scheduleRows.map((e=>e.id))])];return{totalNumberRows:t.response.totalNumberRows,userIds:r,filters:(0,u.xn)(t.response.filters,"type")}}},{totalNumberRows:1,userIds:[],filters:{}}),R=(0,a.Lq)({[m.receiveDetailGraphData]:(e,t)=>{var r=[...new Set([...e.userIds,...t.data.scheduleRows.map((e=>e.id))])];return{totalNumberRows:t.data.totalNumberRows,userIds:r,filters:(0,u.xn)(t.data.filters,"type")}}},{totalNumberRows:1,userIds:[],filters:{}}),E=(0,a.Lq)({[m.receiveDetailGraphData]:y.PA,[m.userScheduleInDayPageFetched]:(e,t)=>{var{userId:r,activities:i}=t,s=j({},e);return s[r]=s[r]||{},s[r].activities=i,s},[m.userActivitiesWithPunctualityFetched]:(e,t)=>{var{userId:r,data:i}=t;if(i.length>0){var s,n,a,{schedule:o,logs:l,violations:c,userName:d,biometricPoints:u}=i[0],p=j(j({},e),{},{[r]:{userId:r,activities:o,logs:l,violations:c,userName:(null===(s=e[r])||void 0===s?void 0:s.userName)||d,biometricPoints:u}});return null!==(n=e[r])&&void 0!==n&&n.stats&&(p[r].stats=e[r].stats),null!==(a=e[r])&&void 0!==a&&a.userPosition&&(p[r].userPosition=e[r].userPosition),p}return e},[m.updateBalancerStatsForUserIds]:(e,t)=>{var r=j({},e);return t.forEach((e=>{(0,l.xb)(r[e.userNorm.userId])||(r[e.userNorm.userId].stats=e)})),r},[m.userScheduleUpdateError]:(e,t)=>{var{userId:r}=t,i=j({},e);i[r]=i[r]||{};var s=i[r].activities||[];return i[r].activities=[...s],i},[m.userActivitiesFetched]:(e,t)=>{var{from:r,to:i,userId:n,data:a}=t,o=s()(r),l=s()(i),c=j({},e);c[n]=c[n]||{};var d=(c[n].activities||[]).filter((e=>s()(e.start).unix()<o.unix()&&s()(e.end).unix()>l.unix()));return c[n].activities=[...d,a].sort(((e,t)=>e.start>t.start?1:-1)),c},[m.updateEmployeeNameInTableData]:(e,t)=>{var{firstName:r,lastName:i,id:s,middleName:n}=t,a={[s]:j(j({},e[s]),{},{userName:(0,f.oo)({firstName:r,lastName:i,middleName:n})})};return j(j({},e),a)},[m.updateEmployeeGroupNameInTableData]:(e,t)=>{var r={[t.userId]:j(j({},e[t.userId]),{},{userPosition:t.name})};return j(j({},e),r)},[m.updateEmployeeTimeZoneInTableData]:(e,t)=>{var{userId:r,timeZoneData:i}=t,s={[r]:j(j({},e[r]),{},{timeZoneData:i})};return j(j({},e),s)},[m.removeEventDay]:(e,t)=>{var r,i,{userId:s,day:n}=t,a={[s]:j(j({},e[s]),{},{days:(null===(r=e[s])||void 0===r||null===(i=r.days)||void 0===i?void 0:i.filter((e=>e!==n)))||[]})};return j(j({},e),a)}},{}),D=(0,a.Lq)({[m.selectCell]:(e,t)=>{var{userId:r,date:i,checked:s}=t;return s?[...e,t]:e.filter((e=>e.userId!==r||e.date!==i))},[m.unselectAllCells]:()=>[]},[]),A=(0,a.Lq)({[m.graphDataFetched]:(e,t)=>t.isShouldReplaceAllState},!0),M=(0,a.Lq)({[m.receiveDetailGraphData]:(e,t)=>t.isShouldReplaceAllState},!0),I=(0,a.Lq)({[m.isGraphDataLoading]:(e,t)=>t},!1),Z=(0,a.Lq)({[m.manTimeFetched]:(e,t)=>t},{}),q=(0,a.Lq)({[m.loadADay]:(e,t)=>{var r={};t.users.map((e=>r[e.id]=e));var i=(t.schedules||[]).map((e=>e.userId));return[...(t.schedules||[]).map((e=>(e.userPosition=r[e.userId]?r[e.userId].positionName:"",e))),...t.users.filter((e=>-1===i.indexOf(e.id))).map((e=>({activities:[],userName:"".concat(e.lastName||""," ").concat(e.firstName||""," ").concat(e.middleName||""),userId:e.id,userPosition:e.positionName})))].sort(((e,t)=>e.userPosition!==t.userPosition?e.userPosition<t.userPosition?1:-1:e.userName<t.userName?1:-1)).reverse()},[m.clearDay]:(e,t)=>{if(!t)return[];var r=e.find((e=>e.userId===t.userId));return r&&(r.activities=[],delete r.id),[...e]}},[]),F=(0,a.Lq)({[m.openPopup]:(e,t)=>t,[m.closePopup]:()=>({})},{}),L=(0,a.Lq)({[m.loadPunctualityAction]:(e,t)=>((0,d.o)(t),t)},{}),H=(0,a.Lq)({[m.substitutesFetched]:(e,t)=>{var{groupId:r,date:i,skills:s,substitutes:n,user:a}=t,o=(0,u.pK)(s),l=j({},e);return l[r]=l[r]||{},l[r][i]=l[r][i]||{},l[r][i]=l[r][i]||{},l[r][i][o]=n,a&&(l[a.id]=l[a.id]||{},l[a.id].user=a,l[a.id][i]=n),l}},{}),_=(0,a.Lq)({[m.loadPunctualityReport]:(e,t)=>t,[m.loadPunctualityByGroup]:(e,t)=>t},[]),B=(0,a.Lq)({[m.setOptimizingStatus]:(e,t)=>t},!1),G=(0,a.Lq)({[m.personGraphGenerating]:(e,t)=>j(j({},e),t)},{doing:!1}),W=(0,a.Lq)({[m.setMultiFilter]:(e,t)=>t},{}),U=(0,a.Lq)({[m.setCurrentDatePeriod]:(e,t)=>t},(0,c.Fu)()),V=(0,a.Lq)({[m.setActiveGraphPeriod]:(e,t)=>t},(0,y.MN)()),z=s()().startOf("month").format(c._E),Y=s()().endOf("month").format(c._E),Q=(0,a.Lq)({[m.setCurrentViolationListDatePeriod]:(e,t)=>t},{from:z,to:Y}),K=(0,a.Lq)({[m.setFilterViolationList]:(e,t)=>t},{}),X=(0,a.Lq)({[m.setCheckedDays]:(e,t)=>e.some((e=>JSON.stringify(e)===JSON.stringify(t)))?e.filter((e=>JSON.stringify(e)!==JSON.stringify(t))):[...e,t],[m.clearScheduleSelectedCheckboxes]:()=>[],[m.generateAllCheckedCheckboxes]:(e,t)=>{var{period:r,tableData:i}=t;if((0,l.xb)(r)||(0,l.xb)(i))return e;var n=[];return Object.keys(i).forEach((e=>{(0,c.Qt)(s()(null==r?void 0:r.from,c._E),s()(null==r?void 0:r.to,c._E),c._E,s()(null==r?void 0:r.from,c._E)).forEach((t=>{n.push({day:t,userId:e})}))})),n}},[]),J=(0,a.Lq)({[m.setDetailsStart]:(e,t)=>j(j({},e),{},{prevStart:e.start||t,start:t}),[m.setDetailsUserId]:(e,t)=>j(j({},e),{},{userId:t}),[m.userActivitiesWithPunctualityFetched]:(e,t)=>{var{userId:r,data:i}=t;if(i.length>0){var{schedule:s,logs:n,violations:a,userName:o,biometricPoints:l}=i[0];return j(j({},e),{},{userId:r,activities:s,logs:n,violations:a,userName:o,biometricPoints:l})}return j(j({},e),{},{userId:r,activities:[],logs:[],violations:[]})},[m.userScheduleUpdateError]:e=>(0,l.xb)(e)?e:j(j({},e),{},{activities:[...e.activities]}),[m.closeDetailsPopup]:()=>({})},{}),$=(0,a.Lq)({[m.setCurrentChartType]:(e,t)=>j(j({},e),{},{type:t}),[m.setCurrentChartIsSum]:(e,t)=>j(j({},e),{},{isSum:t}),[m.setCurrentChartShowDataLabels]:(e,t)=>j(j({},e),{},{showDataLabels:t})},{type:v.k,isSum:!1,showDataLabels:!1}),ee=(0,a.Lq)({[m.setCurrentDayDetail]:(e,t)=>t},{}),te=(0,a.Lq)({[m.setFilter]:(e,t)=>j(j({},e),{},{[t.fieldName]:t.values}),[m.clearFilter]:()=>({})},{}),re=(0,a.Lq)({[m.clearFilter]:()=>[],[m.ignoreUserInFilter]:(e,t)=>[...e,t]},[]),ie=(0,a.Lq)({[m.stashTableFilter]:(e,t)=>t,[m.clearFilter]:()=>({})},{}),se=(0,a.Lq)({[m.setDayPageStart]:(e,t)=>t},""),ne=(0,a.Lq)({[m.setSortedByActivitiesDay]:(e,t)=>t},""),ae=(0,a.Lq)({[m.setDisplaySettings]:(e,t)=>j(j({},e),t)},{}),oe=(0,a.Lq)({[m.setUserDataColumnWidth]:(e,t)=>t},0),le=(0,a.Lq)({[m.setTopContentHeight]:(e,t)=>t},0),ce=(0,a.Lq)({[m.employeesFetchSuccess]:(e,t)=>(0,u.xn)(t)},{}),de=(0,a.Lq)({[m.setGroupScheduleLoading]:(e,t)=>t},!1),ue=(0,a.Lq)({[m.setShowDropDown]:(e,t)=>t},!1),pe=(0,a.Lq)({[m.setShowStatByWeek]:(e,t)=>t},!1),he=(0,a.Lq)({[m.setTableSorters]:(e,t)=>t},[]),fe=(0,a.Lq)({[m.setLastUpdatedSort]:(e,t)=>t},{sortOrder:"",direction:0,column:{}}),me=(0,a.Lq)({[m.setLastUpdatedSort]:(e,t)=>{var{direction:r}=t,{key:i}=t.column;return 0===r?"name":"schedules"===i?"schedule_start":"name"}},"name"),ve=(0,a.Lq)({[m.setGraphTablePaginationSize]:(e,t)=>t},60),ye=(0,a.Lq)({[m.setGraphTablePaginationPage]:(e,t)=>t},1),ge=(0,a.Lq)({[m.setShowDetails]:(e,t)=>t},!0),be=(0,a.Lq)({[m.setLaborCodeViolationsDrawerOpen]:(e,t)=>t},!1),je=(0,a.Lq)({[m.receiveLaborCodeViolationsByGroup]:(e,t)=>t},[]),xe=(e,t)=>{if((0,l.xb)(t))return e;var{userId:r,violations:i}=t[0];return j(j({},e),{},{[r]:i})},Se=(e,t)=>{var r={};return t.forEach((e=>{r[e.userId]=e.violations})),r},Oe=(0,a.Lq)({[m.receiveLaborCodeViolationsByUser]:xe,[m.receiveLaborCodeViolationsByGroup]:Se,[m.deleteLaborCodeViolationsItem]:(e,t)=>(0,p.CE)(e,t)},{}),Pe=(0,a.Lq)({[m.setLCViolationsByUsersLoading]:h.vB,[m.receiveLCViolationsByUsersData]:(e,t)=>{var{data:r,userIds:i}=t;return i.forEach((t=>{delete e.data[t]})),j(j({},e),{},{data:j(j({},e.data),r),status:g.Z.succeeded})},[m.receiveLaborCodeViolationsByUser]:y.kS,[m.receiveLCViolationsByUsersError]:h.aQ,[m.deleteLaborCodeViolationsItem]:(e,t)=>(0,y.ep)(e.data,t,e),[m.resetLCViolationsByUsers]:()=>(0,h.dR)({})},(0,h.dR)({})),we=(0,a.Lq)({[m.receiveLaborCodeViolationsByUser]:xe},{}),Ce=(0,a.Lq)({[m.receiveLaborCodeViolationsByGroup]:Se,[m.approveLaborCodeViolation]:(e,t)=>j(j({},e),t)},{}),ke=(0,a.Lq)({[m.storePrevActivities]:(e,t)=>j(j({},e),t),[m.clearPrevActivities]:()=>({})},{}),Te=(0,a.Lq)({[m.startUpdatingData]:()=>!0,[m.finishUpdatingData]:()=>!1},!1),Ne=(0,a.Lq)({[m.setUpdatingDataInDetailsBody]:(e,t)=>t},!1),Re=(0,a.Lq)({[m.setSelectedSkillIds]:(e,t)=>{var{groupId:r,skillIds:i}=t;return j(j({},e),{},{[r]:i})},[m.refreshSelectedSkillIds]:(e,t)=>{var r=e[t];return(0,l.xb)(r)?e:j(j({},e),{},{[t]:[...r]})}},[]),Ee=(0,a.Lq)({[m.setSelectedOfficesIds]:(e,t)=>t},[]),De=(0,h.dR)({}),Ae=(0,a.Lq)({[m.setOfficeSeatsLoading]:h.vB,[m.receiveOfficeSeatsData]:h.$V,[m.clearOfficeSeatsLabels]:h._7,[m.receiveOfficeSeatsError]:h.aQ,[m.resetOfficeSeats]:()=>De},De),Me=(0,a.Lq)({[m.setSelectorModes]:(e,t)=>t},[]),Ie=(0,a.Lq)({[m.setSelectorActiveMode]:(e,t)=>t},"skills"),Ze=(0,a.Lq)({[m.setScheduleBlockFilter]:(e,t)=>t},{type:"",values:[]}),qe=(0,a.Lq)({},0),Fe=(0,a.Lq)({[m.receiveQueueErlangBySkillsCount]:(e,t)=>t},0),Le=(0,a.Lq)({[m.successCopyShift]:()=>(0,u.Vj)(),[m.successDeleteShift]:()=>(0,u.Vj)(),[m.successUserScheduleUpdate]:()=>(0,u.Vj)(),[m.successUserScheduleChooseType]:()=>(0,u.Vj)()},(0,u.Vj)()),He=(0,a.Lq)({[m.setOptimizeType]:(e,t)=>t},"RESTS"),_e=(0,a.Lq)({[m.setSkillAndOfficeListStatus]:(e,t)=>t},!0),Be=(0,a.Lq)({[m.setSelectAllGraphCells]:(e,t)=>t.selected},!1),Ge=(0,a.Lq)({[m.setCheckedGraphCellsNumber]:(e,t)=>t},0),We=(0,a.Lq)({[m.setProhibitChangesStatus]:(e,t)=>t},!1),Ue=(0,a.Lq)({[m.setOpenScheduleBlockConfirm]:(e,t)=>t},!1),Ve=(0,a.Lq)({[m.setCheckedOptimizeDays]:(e,t)=>e.includes(t)?[...e].filter((e=>e!==t)):[...e,t],[m.clearCheckedOptimizeDays]:(e,t)=>t},[]),ze=(0,a.Lq)({[m.setPrevLocation]:(e,t)=>t},""),Ye=(0,a.Lq)({[m.setGraphDisplaySettingsOpened]:(e,t)=>t},!1),Qe=(0,a.Lq)({[m.setReportOpenedFromDrawer]:(e,t)=>t},!1),Ke=(0,a.Lq)({[m.setComputingType]:(e,t)=>t},"");const Xe=(0,n.combineReducers)({daysForBlocked:X,allDistinctGroupSkills:C,allDistinctGroupTemplates:k,tableData:T,detailTableData:E,tableDataFilters:N,tableDetailDataFilters:R,daysData:q,prevLocation:ze,popupsData:F,operatorPunctuality:L,substitutes:H,manTime:Z,personGraphGenerating:G,punctualityReport:_,graphDisplaySettingsOpened:Ye,reportOpenedFromDrawer:Qe,forecasts:S,forecastsHelper:O,forecastsSL:P,groupSkills:w,queueErlangBySkillsCount:Fe,multiFilter:W,datePeriod:U,isOptimizing:B,isGraphDataLoading:I,isShouldReplaceAllState:A,isShouldReplaceAllDetailState:M,isShowGraphFilterDropDown:ue,isShowStatByWeek:pe,laborCodeViolations:je,laborCodeViolationsByUserMap:we,laborCodeViolationsDrawerOpen:be,violationListDatePeriod:Q,filterViolationList:K,details:J,filterChart:$,selectedCells:D,dayDetail:ee,tableFilter:te,tableFilterStash:ie,tableFilterIgnoreList:re,dayPageStart:se,sortedByActivitiesDay:ne,displaySettings:ae,userDataColumnWidth:oe,topContentHeight:le,employeesMap:ce,groupScheduleLoading:de,tableSorters:he,tableSortName:me,graphTablePaginationSize:ve,graphTablePaginationPage:ye,lastUpdatedSort:fe,showDetailsPage:ge,laborCodeViolationsUserMap:Oe,approvedLaborCodeViolations:Ce,prevActivities:ke,dataUpdating:Te,detailsBodyDataUpdating:Ne,selectedSkillIdMap:Re,numberOfErlangQueues:qe,selectedOfficesIds:Ee,selectorModes:Me,selectorActiveMode:Ie,skillAndOfficeListStatus:_e,selectAllGraphCells:Be,checkedGraphCellsNumber:Ge,prohibitChangesStatus:We,officeSeats:Ae,scheduleUpdateTrigger:Le,estimateLCViolationsByUsers:Pe,optimizeType:He,optimizeDays:Ve,activeGraphPeriod:V,openScheduleBlockConfirm:Ue,scheduleBlockFilter:Ze,computingType:Ke})},48318:(e,t,r)=>{"use strict";r.d(t,{Ho:()=>y,MN:()=>j,PA:()=>v,TT:()=>f,e:()=>m,ep:()=>b,kS:()=>g});var i=r(16313),s=r.n(i),n=r(65227),a=r(22350),o=r(63926),l=r(24862),c=r(35667),d=r(20524);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(e,t)=>{var{data:r}=t,i=s()(e);return Object.keys(i).forEach((e=>{i[e].activities=[]})),r.forEach((e=>{var{userId:t}=e;i[t]&&i[t].activities.push(e)})),i},m=(e,t)=>{var{scheduleRows:r}=t.response,i=(e=>e.reduce(((e,t)=>(e[t.id]={userId:t.id,stats:t.stat,userName:t.operatorNaming.shortName,userFullName:t.operatorNaming.fullName,userPosition:t.position.name,timeZoneData:(0,n.Q)(t.zone),overWork:t.overWork},t.schedule.forEach((r=>{e[t.id][r.day]=r})),t.preferenceTable.forEach((r=>{e[t.id][r.day]?e[t.id][r.day]=p(p({},e[t.id][r.day]),{},{preference:r}):e[t.id][r.day]={preference:r}})),t.shiftBlockTable.forEach((r=>{e[t.id][r.day]?e[t.id][r.day]=p(p({},e[t.id][r.day]),{},{shiftBlock:r}):e[t.id][r.day]={shiftBlock:r}})),e)),{}))(r);return t.isShouldReplaceAllState?i:p(p({},e),i)},v=(e,t)=>{var{data:{scheduleRows:r},punctuality:i=[]}=t,s=((e,t)=>e.reduce(((e,r)=>{var i,s;return(0,c.xb)(t)||((0,o.o)(t[r.id]),null===(i=t[r.id])||void 0===i||null===(s=i.schedule)||void 0===s||s.forEach(l.n_)),e[r.id]={punctuality:t[r.id]||{},activities:r.scheduleActivity,userId:r.id,stats:r.stat,userName:r.operatorNaming.shortName,userFullName:r.operatorNaming.fullName,userPosition:r.position.name,timeZoneData:(0,n.Q)(r.zone),overWork:r.overWork,preferenceTable:r.preferenceTable,shiftBlockTable:r.shiftBlockTable},e}),{}))(r,(0,a.xn)(i,"userId"));return t.isShouldReplaceAllState?s:p(p({},e),s)},y=e=>{var{stats:t,aggregation:r}=e,i={};return Object.keys(t).forEach((e=>{i[e]={[r]:t[e]}})),i},g=(e,t)=>{var r=(0,c.xb)(t)?t:{[t[0].userId]:t[0]};return p(p({},e),{},{data:p(p({},e.data),r),status:d.Z.succeeded})},b=(e,t,r)=>{var i={};return Object.keys(e).forEach((r=>{r!==t&&(i[r]=e[r])})),p(p({},r),{},{data:i,status:d.Z.succeeded})},j=()=>({from:(0,n.b7)((0,n.zO)()),to:(0,n.iX)((0,n.Fu)().to)})},8164:(e,t,r)=>{"use strict";r.r(t),r.d(t,{checkCellsReducer:()=>k,default:()=>R,makeKdoStatusesUserMap:()=>j,makeScheduleTable:()=>x});var i=r(81978),s=r(97779),n=r(30381),a=r.n(n),o=r(16313),l=r.n(o),c=r(65227),d=r(60119),u=r(20085),p=r(28269);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(0,i.Lq)({},a()().startOf("month").format(c._E)),y=(0,i.Lq)({},a()().endOf("month").format(c._E)),g=(0,i.Lq)({[u.receiveUsers]:(e,t)=>t},[]),b=(0,i.Lq)({[u.receiveStats]:(e,t)=>{var r={};return t.forEach((e=>{var{actualHours:t,differenceActualMinutes:i}=e,{userId:s,normHours:n}=e.userNorm;r[s]={normHours:n,actualHours:t,differenceActualMinutes:i}})),r}},{}),j=e=>{var t={};return e.forEach((e=>{var{userId:r,day:i}=e;t[r]=f(f({},t[r]),{},{[i]:e})})),t},x=e=>{var t={};return e.forEach((e=>{var{dayStart:r,userId:i}=e,s=a()(r,c._E).local().format("YYYY-MM-DD");t[i]=f(f({},t[i]),{},{[s]:e})})),t},S=(0,i.Lq)({[u.receiveScheduleTable]:(e,t)=>x(t),[u.clearKdoExportData]:()=>({})},{}),O=(0,i.Lq)({[u.receiveKdoStatusesByGroup]:(e,t)=>j(t)},{}),P=(e,t)=>{var r=(0,d.Pp)(t.namePeriod);return e.filter((e=>e!==r))},w=(0,i.Lq)({[u.setUserFilter]:(e,t)=>t,[u.clearUserFilter]:()=>[],[u.unselectUser]:P},[]),C=(0,i.Lq)({[u.stashUserFilter]:(e,t)=>t,[u.clearUserFilter]:()=>[],[u.unselectUser]:P},[]),k=(e,t)=>{var{userIds:r,days:i,checked:s,shouldDisable:n=(()=>!1)}=t,a=l()(e);return r.forEach((e=>{var t=a[e]||{};i.forEach((r=>{n({userId:e,day:r})||(t[r]=s)})),a[e]=t})),a},T=(0,i.Lq)({[u.checkCells]:k,[u.clearKdoExportData]:()=>({})},{}),N=(0,i.Lq)({[u.setStatusFilter]:(e,t)=>f(f({},e),t),[u.clearKdoExportData]:()=>({})},{[p.p9]:!1,[p.zX]:!1,[p.V6]:!1});const R=(0,s.combineReducers)({periodStart:v,periodEnd:y,users:g,statsUserMap:b,scheduleTable:S,statusMap:O,userFilter:w,userFilterStash:C,selection:T,statusFilter:N})},18817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(81978),s=r(97779),n=r(48691),a=(0,i.Lq)({[n.loadMonitoringSettingsAction]:(e,t)=>t},{}),o=(0,i.Lq)({[n.loadMonitoringData]:(e,t)=>t},[]),l=(0,i.Lq)({[n.loadQueues]:(e,t)=>t},{}),c=(0,i.Lq)({[n.inProgress]:(e,t)=>t},!1),d=(0,i.Lq)({[n.setMonitoringFilter]:(e,t)=>t},{}),u=(0,i.Lq)({[n.setDisplaySettings]:(e,t)=>t},{});const p=(0,s.combineReducers)({monitoring:o,monitoringSettings:a,queues:l,inProgress:c,monitoringFilter:d,displaySettings:u})},68815:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(81978),s=r(97779),n=r(7291);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(0,i.Lq)({[n.loadActualRequests]:(e,t)=>t,[n.loadRequestsByGroup]:(e,t)=>t,[n.requestsLoadingAction]:(e,t)=>t,[n.sendRequests]:(e,t)=>e.map((e=>e.id===t.id?o(o({},e),t):e))},[]),d=(0,i.Lq)({[n.setRequestDataAction]:(e,t)=>o(o({},e),t)},[]),u=(0,i.Lq)({[n.requestsLoadingSpinnerAction]:(e,t)=>t},null);const p=(0,s.combineReducers)({actuals:c,dates:d,loadingSpinner:u})},83825:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>he,getIsLoadingPublishByGroup:()=>ce,getSwapActivityUserFrom:()=>de,getSwapActivityUserTo:()=>ue,getSwapList:()=>oe,getSwapLoading:()=>ne,getSwapLoadingDetail:()=>ae,getSwapRefresh:()=>pe,getSwapUsers:()=>le});var i=r(81978),s=r(97779),n=r(16313),a=r.n(n),o=r(22350),l=r(38646),c=r(47458),d=r(78340),u=r(24928),p=r(30381),h=r.n(p),f=r(65227),m=r(7291),v=r(20524);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=(0,i.Lq)({[m.setRequests]:(e,t)=>t,[m.clearRequests]:()=>[]},[]),x=(0,i.Lq)({[m.isLoadingRequest]:(e,t)=>t},!1),S=(0,i.Lq)({[m.isLoadingStats]:(e,t)=>t},!1),O=(0,i.Lq)({[m.isLoadingLaborCode]:(e,t)=>t},!1),P=(0,i.Lq)({[m.setFilterHeader]:(e,t)=>t,[m.clearFilterHeader]:()=>({})},{}),w=(0,i.Lq)({[m.setMapIdsRequests]:(e,t)=>t,[m.setMapIdRequest]:(e,t)=>{var{id:r,isChecked:i}=t,s=g({},e),n={[r]:i};return g(g({},s),n)},[m.clearMapIdsRequest]:()=>({}),[m.setMapAllIdsRequests]:(e,t)=>((e,t)=>{var r={};return Object.keys(t).forEach((t=>{r[t]=e})),r})(t.checked,e)},{}),C=(0,i.Lq)({[m.setDetailListRequest]:(e,t)=>t,[m.clearDetailListRequest]:()=>({})},{}),k=(0,i.Lq)({[m.setUserListLoading]:(e,t)=>t},!1),T=(0,i.Lq)({[m.setListSwapRequests]:(e,t)=>t,[m.clearListSwapRequests]:()=>({}),[m.setTrashStateSwap]:(e,t)=>{var{id:r,value:i}=t;return g(g({},e),{[r]:g(g({},e[r]),{},{isTrash:i})})},[m.setAdditionStateSwap]:(e,t)=>{var{id:r,value:i}=t,s=g(g({},e[r]),{},{isAddition:i,checked:!1,user:{userId:e[r].user.userId,isShow:!1,data:e[r].user.data}});return g(g({},e),{[r]:s})},[m.setUserListShow]:(e,t)=>{var{id:r,value:i}=t;return g(g({},e),{[r]:g(g({},e[r]),{},{user:g(g({},e[r].user),{},{isShow:i})})})},[m.setUserListForActivity]:(e,t)=>{var{data:r,swapId:i}=t;return g(g({},e),{[i]:g(g({},e[i]),{},{user:g(g({},e[i].user),{},{data:r,swapId:i})})})},[m.setUserIdForActivity]:(e,t)=>{var{swapId:r,userId:i}=t,s=e[r],{user:n}=s,a=g(g({},s),{},{user:g(g({},n),{},{selectUserId:i})});return g(g({},e),{[r]:a})},[m.setUserIdForCheckedSwaps]:(e,t)=>{var{userId:r}=t,i=g({},e);return Object.keys(e).filter((t=>e[t].checked)).forEach((t=>{var s=e[t],n=g(g({},s.user),{},{selectUserId:r}),a=g({},s.user),o=!s.deleteOnly&&s.checked;i[t]=g(g({},s),{},{user:o?n:a,isTrash:!o,isAddition:!1,checked:!1})})),i},[m.selectAllTrashItem]:e=>{var t={};return Object.keys(e).forEach((r=>{var i=e[r],{user:{userId:s,data:n}}=i;t[r]=g(g({},i),{},{isTrash:!0,user:{userId:s,data:n,isShow:!1},isAddition:!1,checked:!1})})),t},[m.clearAllTrashItem]:e=>{var t={};return Object.keys(e).forEach((r=>{var i=e[r],{user:s}=i;t[r]=g(g({},i),{},{isTrash:!1,user:g(g({},s),{},{isShow:!1}),isAddition:!0})})),t},[m.setAdditionAllCheckSwaps]:e=>{var t=g({},e);return Object.keys(e).filter((t=>e[t].checked)).forEach((r=>{var i=e[r],{user:s}=i;t[r]=g(g({},i),{},{isTrash:!1===i.checked,user:{userId:s.userId,isShow:!1,data:s.data},isAddition:!i.deleteOnly&&!!i.checked,checked:!1})})),t},[m.setCheckedSwap]:(e,t)=>{var{check:r,swapId:i}=t;return g(g({},e),{[i]:g(g({},e[i]),{},{checked:r})})},[m.setCheckAllSwaps]:(e,t)=>{var r={};return Object.keys(e).forEach((i=>{var s=e[i];r[i]=g(g({},s),{},{checked:!s.deleteOnly&&t})})),r}},{}),N=(0,i.Lq)({[m.receiveFreeUserListByPeriod]:(e,t)=>({status:v.Z.succeeded,error:null,users:t.users}),[m.setFreeUserListByPeriodLoading]:e=>g(g({},e),{},{status:v.Z.loading}),[m.receiveFreeUserListByPeriodError]:(e,t)=>g(g({},e),{},{status:v.Z.failed,error:t}),[m.resetFreeUserListByPeriod]:()=>({status:v.Z.idle,error:null,users:[]})},{status:v.Z.idle,error:null,users:[]}),R=(0,i.Lq)({[m.setReserveAccess]:(e,t)=>t},!1),E=(0,i.Lq)({[m.setViolationsByCheckedIds]:(e,t)=>t},[]),D=(0,i.Lq)({[m.setHasRequestsCollision]:(e,t)=>t},!1),A=h()().format(f.vc),M=(0,i.Lq)({[m.setManagerSwapFilter]:(e,t)=>t},{filter:"actual",from:A,to:A}),I=(0,i.Lq)({[m.setStatsRequests]:(e,t)=>t.reduce(((e,t)=>(e[t.userNorm.userId]=t,e)),{})},{}),Z=(0,i.Lq)({[m.setLaborCodeRequests]:(e,t)=>t.reduce(((e,t)=>(e[t.userId]=t,e)),{})},{});const q=(0,s.combineReducers)({data:j,isLoadingRequests:x,filterHead:P,mapIds:w,detail:C,listSwaps:T,userListLoading:k,freeUsers:N,reserveAccess:R,stats:I,isLoadingStats:S,laborCode:Z,isLoadingLaborCode:O,managerSwapFilter:M,violationsByCheckedIds:E,hasRequestsCollision:D});function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=(0,i.Lq)({[c.loadSchedules]:(e,t)=>t,[c.removeSchedule]:(e,t)=>e.filter((e=>e.id!==t)),[c.updateSchedule]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)]},[c.addSchedule]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return-1!==r?[...e.slice(0,r),t,...e.slice(r+1)]:[...e,t]}},[]),B=(0,i.Lq)({[c.loadSchedules]:(e,t)=>(0,o.xn)(t)},{}),G=(0,i.Lq)({[c.isLoadingSchedule]:(e,t)=>t},!1),W=(0,i.Lq)({[c.setScheduleHasBeenUpdated]:(e,t)=>t},!1),U=(0,i.Lq)({[c.loadAllSchedules]:(e,t)=>(0,o.xn)(t)},{}),V=(0,i.Lq)({[c.addScheduleAction]:(e,t)=>t&&t.variants?(t.variants.forEach((e=>{if(e.endTime<=e.startTime){e.endTime=(0,o.He)((0,o.xs)(e.endTime)+86400);var t=!1;e.activities.map((e=>((e.endTime<=e.startTime||t)&&(e.endTime>e.startTime&&(e.startTime=(0,o.He)((0,o.xs)(e.startTime)+86400)),t=!0,e.endTime=(0,o.He)((0,o.xs)(e.endTime)+86400)),e)))}})),t.variants):[],[c.updateActivity]:(e,t)=>{var{index:r}=t;return[...e.slice(0,r),{activities:t.activities},...e.slice(r+1)]},[c.generateScheduleAction]:(e,t)=>[...e,...t],[c.clearScheduleActivities]:()=>[],[c.deleteVariant]:(e,t)=>e.filter(((e,r)=>r!==t.index))},[]),z=(0,i.Lq)({[c.setSelectedScheduleContainer]:(e,t)=>{if(t&&t.variants){var r=a()(t);return r.variants.forEach((e=>{r.containsNightSchedules=r.containsNightSchedules||e.endTime<=e.startTime&&"00:00"!==e.endTime})),r}return t},[c.clearSelectedScheduleContainer]:()=>({})},{}),Y=(0,i.Lq)({[c.generateScheduleAction]:(e,t)=>[...e,...t],[c.deleteVariant]:(e,t)=>e.filter(((e,r)=>r!==t.index))},[]),Q=(0,i.Lq)({[d.publishByGroup]:()=>[{isChanged:!1}],[d.clearDay]:()=>[{isChanged:!0}],[c.intervalOnChanged]:(e,t)=>[{isChanged:t}],[d.intervalOnChanged]:(e,t)=>[{isChanged:t}],[d.graphDataFetched]:e=>[{isChanged:e[0].isChanged}]},[{isChanged:!1}]),K=(0,i.Lq)({[d.isLoadingPublishByGroup]:(e,t)=>t},!1),X=(0,i.Lq)({[c.scheduleLoadnigAction]:(e,t)=>L(L({},e),t)},{}),J=(0,i.Lq)({[c.publishScheduleAction]:(e,t)=>L(L({},e),t)},{}),$=(0,i.Lq)({[c.permissionGroupsMappingFetched]:(e,t)=>t.sort(((e,t)=>e.groupName>t.groupName?1:-1))},[]),ee=(0,i.Lq)({[c.employeeRequestPermissionGroupsFetched]:(e,t)=>(0,l.kf)(t)},{}),te=(0,i.Lq)({[c.loadingRecalculateFTE]:(e,t)=>t},!1),re=(0,i.Lq)({[u.setSwapLoading]:(e,t)=>L(L({},e),{},{isLoading:t}),[u.setSwapLoadingDetail]:(e,t)=>L(L({},e),{},{isLoadingDetail:t}),[u.setSwapList]:(e,t)=>L(L({},e),{},{list:t}),[u.setSwapUser]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return L(L({},e),{},{users:t})},[u.clearSwapList]:e=>L(L({},e),{},{list:[]}),[u.setUserFromActivities]:(e,t)=>L(L({},e),{},{activityUserFrom:t}),[u.setUserToActivities]:(e,t)=>L(L({},e),{},{activityUserTo:t}),[u.clearUserToFromActivities]:e=>L(L({},e),{},{activityUserFrom:[],activityUserTo:[]})},{}),ie=(0,i.Lq)({[u.setActiveRefreshBtn]:(e,t)=>t},{isActive:!0,filter:{}}),se=(0,i.Lq)({[c.setSelectedGroupIds]:(e,t)=>t},{}),ne=e=>e.schedule.swap.isLoading||!1,ae=e=>e.schedule.swap.isLoadingDetail||!1,oe=e=>e.schedule.swap.list||[],le=e=>e.schedule.swap.users||[],ce=e=>e.schedule.isLoadingPublishByGroup||!1,de=e=>e.schedule.swap.activityUserFrom||[],ue=e=>e.schedule.swap.activityUserTo||[],pe=e=>e.schedule.swapRefresh;const he=(0,s.combineReducers)({schedules:_,scheduleContainersMap:B,allScheduleContainersMap:U,activities:V,schedule:z,generatedSchemas:Y,intervalIsChanged:Q,scheduleLoadnigAction:X,publishScheduleAction:J,permissionGroupsMapping:$,employeeRequestPermissionGroupsMap:ee,isLoadingRecalculate:te,isLoadingPublishByGroup:K,isLoadingSchedules:G,swap:re,swapRefresh:ie,selectedGroupIds:se,requests:q,scheduleHasBeenUpdated:W})},58073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var i=r(81978),s=r(97779),n=r(65227),a=r(62574),o=r(90057),l=r(20524);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(0,i.Lq)({[a.toggleShowAdditionalWindow]:(e,t)=>t},!1),h=(0,i.Lq)({[a.setFteQueueUser]:(e,t)=>t,[a.clearFteAdditional]:()=>({})},{}),f=(0,i.Lq)({[a.setCheckboxLabelChart]:(e,t)=>t,[a.clearFteAdditional]:()=>!1},!1),m=(0,i.Lq)({[a.receiveCheckboxWithReserveSkills]:(e,t)=>t},!1),v=(0,i.Lq)({[a.setActiveSaveButton]:(e,t)=>t},!1),y=(0,i.Lq)({[a.setSelectSkill]:(e,t)=>t,[a.clearFteAdditional]:()=>""},""),g=(0,i.Lq)({[a.setDateCurrentPeriod]:(e,t)=>t},(0,n.su)()),b=(0,i.Lq)({[a.setAdditionalUserSchedule]:(e,t)=>t,[a.updateItemAdditional]:(e,t)=>{var{index:r,item:i}=t,s=[],n=0===r;return e.forEach(((e,t)=>{e.id===i.id||n&&r===t?s.push(i):e.id!==i.id&&s.push(e)})),s},[a.createEmptyCellActivity]:(e,t)=>{var{queueId:r}=t;return[(0,a.getEmptyActivity)(r),...e]},[a.clearFteAdditional]:()=>[],[a.additionalUserScheduleError]:e=>e.map((e=>d(d({},e),{},{activities:[...e.activities]})))},[]),j=(0,i.Lq)({[a.setUsersLoading]:(e,t)=>t},!1),x=(0,i.Lq)({[a.setSettingCell]:(e,t)=>{var{id:r,setting:i}=t,s=d({},e);return s[r]=d(d({},s[r]),i),s},[a.setSelectedUserAdditional]:(e,t)=>{var{id:r,userId:i}=t,s=d({},e),n={userId:i};return s[r]=d(d({},s[r]),n),s},[a.clearFteAdditional]:()=>({})},{}),S=(0,i.Lq)({[a.createEmptyCellActivity]:()=>!0,[a.setEmptyCellActivity]:function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}},!0),O=(0,i.Lq)({[a.receiveListScheduleContainersData]:(e,t)=>({status:l.Z.succeeded,error:null,data:t}),[a.receiveListScheduleContainersError]:(e,t)=>d(d({},e),{},{status:l.Z.failed,error:t}),[a.resetListScheduleContainers]:()=>({data:[],status:l.Z.idle,error:null}),[a.setListScheduleContainersLoading]:e=>d(d({},e),{},{status:l.Z.loading})},{status:l.Z.idle,error:null,data:[]}),P=(0,i.Lq)({[a.setScheduleZoomValue]:(e,t)=>t},o.t),w=(0,i.Lq)({[a.setAdditionalScheduleFilter]:(e,t)=>t},"allShifts");const C=(0,s.combineReducers)({showWindow:p,fte:h,isLabelChart:f,skillId:y,date:g,dataAdditional:b,settingCell:x,isFirstEmpty:S,isActiveSaveButton:v,isCreateAdditionalScheduleWithReserveSkills:m,listContainers:O,zoom:P,scheduleFilterName:w,usersLoading:j})},82756:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var i=r(81978),s=r(6912);const n=(0,i.Lq)({[s.statsFetched]:(e,t)=>t,[s.normCreated]:(e,t)=>{var{norm:r,createdNormId:i}=t;return r.id=i,[...e]}},[])},79426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(97779),s=r(81978),n=r(89473),a=(0,s.Lq)({[n.scheduleChangesUsersFetched]:(e,t)=>t},[]),o=(0,s.Lq)({[n.changesLogFetched]:(e,t)=>t,[n.removeLogFetched]:()=>[]},[]),l=(0,s.Lq)({[n.changeDetailsFetched]:(e,t)=>t},[]),c=(0,s.Lq)({[n.scheduleChangesIsLoading]:(e,t)=>t},!1);const d=(0,i.combineReducers)({users:a,changes:o,details:l,loading:c})},30360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(81978),s=r(97779),n=r(522),a=(0,i.Lq)({[n.scheduleCommentsUsersFetched]:(e,t)=>t},[]),o=(0,i.Lq)({[n.commentsFetched]:(e,t)=>{var r=t.reduce(((e,t)=>(e[t.userHandler+t.bindingDate]=null,e)),{});return t.sort(((e,t)=>e.createTime>t.createTime?1:-1)).forEach((e=>{var t=r[e.userHandler+e.bindingDate];t?(delete e.bindingDate,delete e.userHandler,t.childComments.push(e)):(r[e.userHandler+e.bindingDate]=e,e.childComments=[])})),Object.keys(r).map((e=>r[e]))},[n.commentAdded]:(e,t)=>{var r=e.find((e=>e.userHandler===t.userHandler&&e.bindingDate===t.bindingDate));return r?(delete t.bindingDate,delete t.userHandler,r.childComments.push(t)):(e.push(t),t.childComments=[]),[...e]}},[]);const l=(0,s.combineReducers)({users:a,comments:o})},76800:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var i=r(81978),s=r(97779),n=r(65227),a=r(79642),o=(0,i.Lq)({[a.ActivityList]:(e,t)=>t,[a.clearFormDetailSchedule]:()=>[]},[]),l=(0,i.Lq)({[a.setIsChangesWithoutWorkplaceViolations]:(e,t)=>t},!0),c=(0,i.Lq)({[a.setCurrentActivity]:(e,t)=>t,[a.clearFormDetailSchedule]:()=>""},""),d=(0,i.Lq)({[a.setPeriodSchedule]:(e,t)=>t,[a.clearFormDetailSchedule]:()=>(0,n.su)()},(0,n.su)()),u=(0,i.Lq)({[a.setUserFreeList]:(e,t)=>t,[a.clearFormDetailSchedule]:()=>[]},[]),p=(0,i.Lq)({[a.setCurrentUserFreeList]:(e,t)=>t,[a.clearFormDetailSchedule]:()=>""},"");const h=(0,s.combineReducers)({activityList:o,isChangesWithoutWorkplaceViolations:l,currentActivity:c,period:d,users:u,currentUser:p})},95030:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var i=r(81978),s=r(97779),n=r(16313),a=r.n(n),o=r(22350),l=r(64621),c=r(96905),d=r(47458);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,i.Lq)({[l.loadScheduleSchema]:(e,t)=>t.filter((e=>e)).map((e=>p(p({},e),{},{containersMap:e.containers.reduce(((e,t)=>(e[t.day]=t,e)),{})}))).sort(o.r7),[l.addScheduleSchema]:(e,t)=>{var r;return t.containersMap=null==t||null===(r=t.containers)||void 0===r?void 0:r.reduce(((e,t)=>(e[t.day]=t,e)),{}),[...e,t].sort(o.r7)},[l.removeScheduleSchema]:(e,t)=>e.filter((e=>e.id!==t.id)),[l.editScheduleSchema]:(e,t)=>{var r=e.find((e=>e.id===t.id)),i=e.indexOf(r),s=a()(t);return s.containersMap=(0,o.xn)(s.containers,"day"),[...e.slice(0,i),s,...e.slice(i+1)].sort(o.r7)}},[]),m=(0,i.Lq)({[l.specialDaysFetched]:(e,t)=>t.reduce(((e,t)=>{var r=e[t.date]||[];return r.push(t),e[t.date]=r,e}),{})},{}),v=(0,i.Lq)({[l.specialDaysForMultiEditFetched]:(e,t)=>t},[]),y=(0,i.Lq)({[l.setCopyScheduleId]:(e,t)=>t},""),g=(0,i.Lq)({[l.specialDaysForMultiEditIsLoading]:(e,t)=>t},!1),b={leftWidth:c.S},j=(0,i.Lq)({[l.resizeLayout]:(e,t)=>p(p({},e),t)},b),x=(0,i.Lq)({[l.showGroupEditPopup]:(e,t)=>t},!1),S=(0,i.Lq)({[d.isScheduleSchemaLoading]:(e,t)=>t},!1),O=(0,i.Lq)({[l.showCopyPopup]:(e,t)=>t},!1),P=(0,i.Lq)({[l.selectedScheduleSchema]:(e,t)=>t,[l.resetSelectedScheduleSchema]:()=>({})},{});const w=(0,s.combineReducers)({scheduleSchemas:f,specialDays:m,layoutSizes:j,specialDaysForMultiEdit:v,specialDaysForMultiEditIsLoading:g,showGroupEditPopup:x,isScheduleSchemaLoading:S,showCopyPopup:O,selectedScheduleSchema:P,setCopiedSchemaId:y})},19619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(81978),s=r(97779),n=r(9668);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(0,i.Lq)({[n.receiveCommentsList]:(e,t)=>t.map((e=>o(o({},e),{},{checked:!1}))),[n.receiveCommentsCheckBox]:(e,t)=>e.map((e=>e.id===t?o(o({},e),{},{checked:!e.checked}):e)),[n.receiveAllCommentsCheckBox]:(e,t)=>t?e.map((e=>o(o({},e),{},{checked:!0}))):e.map((e=>o(o({},e),{},{checked:!1})))},[]),d=(0,i.Lq)({[n.receiveCreateComments]:(e,t)=>t},{});const u=(0,s.combineReducers)({shiftsComments:c,createdComment:d})},71538:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(97779),s=r(81978),n=r(38646),a=r(82821),o=r(65680),l=r(28487);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(0,s.Lq)({[l.tasksFetched]:(e,t)=>t,[l.tasksUpdated]:(e,t)=>{var r=new Map;return e.forEach((e=>r.set(e.id,e))),t.forEach((e=>r.set(e.id,e))),Array.from(r).map((e=>e[1]))},[l.taskCreated]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[l.taskDeleted]:(e,t)=>e.filter((e=>e.id!==t)),[l.tasksDeleted]:(e,t)=>{var r=t.map((e=>e.id));return e.filter((e=>-1===r.indexOf(e.id)))},[l.taskAdded]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[l.taskFetched]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t.id));return i?r[r.indexOf(i)]=t:r.push(t),r},[l.taskUpdated]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t.id));return r[r.indexOf(i)]=t,r}},[]),h=(0,s.Lq)({[l.toggleTaskForm]:(e,t)=>t},!1),f=(0,s.Lq)({[l.isDeletingTask]:(e,t)=>t},!1),m=(0,s.Lq)({[l.taskGroupsFetched]:(e,t)=>{var r=t.update?d({},e):{name:e.name,id:null,children:[]};return t.groups.sort(((e,t)=>e.name>t.name?1:-1)).forEach((e=>(0,n.aF)(r,t.taskGroupId,e))),r},[l.taskGroupsUpdated]:(e,t)=>{var r=d({},e);return t.forEach((e=>(0,n.dU)(r,e))),r},[a.frontendSettingsFetched]:(e,t)=>{var r=d({},e),i=t.find((e=>"emptyRootTitle"===e.key));return r.name=i?i.value:r.name,r}},{name:o.Wk.emptyRootTitle,id:null,children:[]});const v=(0,i.combineReducers)({tasks:p,toggleTaskForm:h,isDeletingTask:f,taskGroupsTree:m})},546:(e,t,r)=>{"use strict";r.d(t,{A7:()=>m,Do:()=>l,KB:()=>b,Og:()=>o,Rn:()=>g,SS:()=>d,WM:()=>x,X9:()=>f,af:()=>u,lX:()=>c,om:()=>v,ot:()=>h,qC:()=>y,tT:()=>j,wm:()=>p,yR:()=>a});var i=r(20573),s=r(12336),n=r(10890),a=e=>e.scheduleAdditional.showWindow,o=e=>e.scheduleAdditional.isLabelChart,l=e=>e.scheduleAdditional.isActiveSaveButton,c=e=>e.scheduleAdditional.skillId,d=e=>e.scheduleAdditional.date,u=e=>e.scheduleAdditional.dataAdditional,p=(e,t)=>e.scheduleAdditional.settingCell[t],h=e=>e.scheduleAdditional.settingCell,f=e=>e.scheduleAdditional.isFirstEmpty,m=e=>e.scheduleAdditional.listContainers.data,v=e=>e.scheduleAdditional.isCreateAdditionalScheduleWithReserveSkills,y=e=>e.scheduleAdditional.usersLoading,g=e=>e.scheduleAdditional.zoom,b=e=>e.scheduleAdditional.scheduleFilterName,j=(0,i.createSelector)(b,u,((e,t)=>{switch(e){case"availableReserve":return t.filter(((e,t)=>0===t||e.reserveAccess));case"inAvailableReserve":return t.filter(((e,t)=>0===t||!e.reserveAccess));default:return t}})),x=(0,i.createSelector)((e=>e.scheduleAdditional.fte),n.U,((e,t)=>{var{formatMessage:r}=t,i={color:"#bbbbb9",name:r({id:"Manager.Graph.Additional.FteForecast",defaultMessage:[{type:0,value:"Fte прогнозируемый"}]})},n={color:"#7accf0",name:r({id:"Manager.Graph.Additional.FteHistory",defaultMessage:[{type:0,value:"Fte фактический"}]}),stack:"1"},a={color:"#ffe8b6",name:r({id:"Manager.Graph.Additional.FteAdditional",defaultMessage:[{type:0,value:"Fte добавленный"}]}),stack:"1"};return{labels:e.dates,datasets:[(0,s.tQ)(i,e.fteForecast),(0,s.Ty)({data:e.fteHistory,options:n}),(0,s.Ty)({data:e.fteAdditional,options:a})]}}))},21672:(e,t,r)=>{"use strict";r.d(t,{GD:()=>O,Hq:()=>P,Tb:()=>f,_0:()=>j,fD:()=>g,fp:()=>y,rP:()=>x,yn:()=>b});var i=r(20573),s=r(65227),n=r(35667),a=r(17666),o=r(36853),l=r(5464),c=r(10890),d=r(20524);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=e=>e.graph.filterChart,m=e=>e.graph.filterChart.type,v=e=>e.graph.filterChart.isSum,y=e=>e.graph.queueErlangBySkillsCount,g=e=>e.graph.forecastsHelper.lastFetchedDates,b=e=>e.graph.filterChart.showDataLabels,j=e=>(e=>"skills"===(0,o.et)(e)&&!(0,n.xb)((0,o.ET)(e))&&!(0,n.xb)(o.a))(e)||(e=>"offices"===(0,o.et)(e)&&!(0,n.xb)((0,o.Ft)(e))&&(0,o.jZ)(e)===d.Z.succeeded)(e),x=(0,i.createSelector)(m,v,((e,t)=>"forecastPlan"===e&&!t)),S=(0,i.createSelector)(o.SZ,o.Ft,a.it,m,v,((e,t,r,i,s)=>({legend:!1,datasets:"differences"===i?s?(0,l.Y3)(e.aggregatedStats):(0,l.nY)(t,e.stats,r):s?(0,l.oz)(e.aggregatedStats):(0,l.wQ)(t,e.stats,r)}))),O=(0,i.createSelector)(S,o.SZ,((e,t)=>{var r,i=(null===(r=t.dates)||void 0===r?void 0:r.map((e=>(0,s.f)(e,"YYYY, MM, DD, HH:mm"))))||[];return p(p({},e),{},{labels:i})})),P=(0,i.createSelector)(S,o.SZ,c.U,((e,t,r)=>{var i,n=(null===(i=t.dates)||void 0===i?void 0:i.map((e=>(0,s.M_)(e,r,"YYYY, MM, DD"))))||[];return p(p({},e),{},{labels:n})}))},77848:(e,t,r)=>{"use strict";r.d(t,{P6:()=>v,ZQ:()=>y,ul:()=>g});var i=r(20573),s=r(12336),n=r(35667),a=r(65227),o=r(32384),l=r(5464),c=r(36853),d=r(10890),u=r(21672),p=["aggregatedStats"];var h=(0,i.createSelector)((()=>o.mo)),f=(0,i.createSelector)(u.fD,(e=>e.map((e=>(0,a.f)(e,"YYYY, MM, DD, HH:mm"))))),m=(0,i.createSelector)(c.vo,(e=>(0,n.xb)(e.dates)?[]:e.dates.map((e=>(0,a.f)(e,"YYYY, MM, DD, HH:mm"))))),v=(0,i.createSelector)(c.a,u.Tb,u.fD,c.sz,h,c.ET,d.U,((e,t,r,i,s,n,a)=>({legend:!1,labels:r,datasets:(0,l.lp)({filter:t,skillIds:n,forecasts:e,skillsMap:i,aggregation:s,intl:a})}))),y=(0,i.createSelector)(c.a,u.Tb,f,c.sz,h,c.ET,d.U,((e,t,r,i,s,n,a)=>{var{formatMessage:o}=a,{aggregatedStats:c}=e,d=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,p);return{legend:!1,labels:r,datasets:(0,l.tk)({filter:t,skillIds:n,aggregatedStats:c,forecasts:d,skillsMap:i,aggregation:s,formatMessage:o})}})),g=(0,i.createSelector)(c.vo,m,c.ET,d.U,((e,t,r,i)=>{var a,{formatMessage:o}=i,c={type:"bar",color:l.pg,name:o({id:"Chart.SL",defaultMessage:[{type:0,value:"SL"}]})},d={data:null==e||null===(a=e.aggregatedStats)||void 0===a?void 0:a.serviceLevel,options:c};return{legend:!1,labels:t,datasets:(0,n.xb)(r)?[]:(0,s.xT)(d)}}))},5464:(e,t,r)=>{"use strict";r.d(t,{Y3:()=>S,lp:()=>m,nY:()=>x,oz:()=>j,pg:()=>v,tk:()=>f,wQ:()=>b});var i=r(12336),s=r(69797),n=r(35667),a=r(4722),o=r(67705);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=(e,t,r)=>(0,n.xb)(e)||(0,n.xb)(e[t])||(0,n.xb)(r)?{}:e[t][r]||{},p=e=>{var{skillIds:t,forecasts:r,skillsMap:s,aggregation:a,actualFieldName:o,forecastFieldName:l}=e;if((0,n.xb)(t)||(0,n.xb)(r))return[];var c=[];return t.forEach((e=>{if(!(0,n.xb)(r)&&!(0,n.xb)(r[e])){var t=u(r,e,a),d=s[e];o&&c.push((0,i.ZH)(d,t[o])),c.push((0,i.vc)(d,t[l]))}})),c},h=(e,t)=>(0,n.xb)(e)?[]:e.map(((e,r)=>e-t[r])),f=e=>{var{filter:t,skillIds:r,forecasts:o,aggregatedStats:l,skillsMap:d,aggregation:f,formatMessage:m}=e;if(t.isSum)switch(t.type){case a.M:return(e=>{var{skillIds:t,forecasts:r,aggregation:a}=e;if((0,n.xb)(t))return[];var o=t.map((e=>{var t=u(r,e,a);return(0,n.xb)(t)?[]:(e=>{if((0,n.xb)(e))return[];var{fteForecast:t,fteActual:r}=e;return h(r,t)})(t)}));return[(0,i.Hd)((0,s.JN)(o))]})({skillIds:r,forecasts:o,aggregation:f,formatMessage:m});case a.k:return[(0,i.kj)(null==l?void 0:l.fteActual,m),(0,i.BL)(null==l?void 0:l.fteForecast,m)];default:return[]}switch(t.type){case a.M:return(e=>{var{skillIds:t,forecasts:r,skillsMap:s,aggregation:a}=e;return t.map((e=>{var t=s[e],o=u(r,e,a);if((0,n.xb)(o))return(0,i.GU)(t,[]);var{fteForecast:l,fteActual:c}=o,d=h(c,l);return(0,i.GU)(t,d)}))})({skillIds:r,forecasts:o,skillsMap:d,aggregation:f,formatMessage:m});case a.k:return p(c(c({},{skillIds:r,forecasts:o,skillsMap:d,aggregation:f,formatMessage:m}),{},{actualFieldName:"fteActual",forecastFieldName:"fteForecast"}));case a.SL:return p(c(c({},{skillIds:r,forecasts:o,skillsMap:d,aggregation:f,formatMessage:m}),{},{forecastFieldName:"serviceLevel"}));default:return[]}},m=e=>{var t,{filter:r,skillIds:o,forecasts:l,skillsMap:d,aggregation:f,intl:m}=e;if((0,n.xb)(m))throw Error("Intl object must be provided to createCallsDatasets()");if(r.isSum)switch(r.type){case a.M:return(e=>{var{skillIds:t,forecasts:r,aggregation:a}=e;if((0,n.xb)(t))return[];var o=t.map((e=>{var t=u(r,e,a),{callsForecast:i,callsActual:s}=t;return h(s,i)}));return[(0,i.Hd)((0,s.JN)(o))]})({skillIds:o,forecasts:l,aggregation:f});case a.k:return(e=>{var{skillIds:t,forecasts:r,aggregation:a,formatMessage:o}=e;return(e=>{var{skillIds:t,forecasts:r,aggregation:a,formatMessage:o,actualFieldName:l,forecastFieldName:c}=e;if((0,n.xb)(t))return[];var d=[],p=[];return t.forEach((e=>{if((0,n.xb)(r)||(0,n.xb)(r[e]))return[];var t=u(r,e,a);d.push(t[l]),p.push(t[c])})),[(0,i.kj)((0,s.JN)(d),o),(0,i.BL)((0,s.JN)(p),o)]})({skillIds:t,forecasts:r,aggregation:a,formatMessage:o,actualFieldName:"callsActual",forecastFieldName:"callsForecast"})})({skillIds:o,forecasts:l,aggregation:f,formatMessage:m.formatMessage});default:return[]}switch(r.type){case a.M:return(e=>{var{skillIds:t,forecasts:r,skillsMap:s,aggregation:a}=e;return t.map((e=>{var t=s[e],o=(e=>{if((0,n.xb)(e))return[];var{callsForecast:t,callsActual:r}=e;return h(r,t)})(u(r,e,a));return(0,i.GU)(t,o)}))})({skillIds:o,forecasts:l,skillsMap:d,aggregation:f});case a.k:return t={skillIds:o,forecasts:l,skillsMap:d,aggregation:f,formatMessage:m.formatMessage},p(c(c({},t),{},{actualFieldName:"callsActual",forecastFieldName:"callsForecast"}));default:return[]}},v="#79ccf2",y=(e,t,r)=>({label:r,data:e,borderColor:t,borderWidth:2,fill:!1,pointRadius:0}),g=(e,t,r)=>({label:r,data:e,borderColor:t,borderWidth:2,fill:!1,pointBackgroundColor:t,pointBorderColor:t,pointBorderWidth:2,pointHoverBackgroundColor:t,pointHoverBorderColor:t,pointHoverBorderWidth:2,pointHoverRadius:2,pointRadius:2}),b=(e,t,r)=>(0,n.xb)(t)?[]:e.reduce(((e,s)=>{var n,{seatsFact:a=[],seatsLimit:o=0}=t[s]||{},l=null===(n=r[s])||void 0===n?void 0:n.name,c=l+" Limit",d=a.map((()=>o)),{color:u}=r[s];return[...e,(0,i.ZH)({color:u,name:l},a),y(d,u,c)]}),[]),j=e=>{if((0,n.xb)(e))return[];var{seatsFact:t,seatsLimit:r}=e,s=t.map((()=>r));return[(0,i.ZH)({color:o.mW,name:"Sum"},e.seatsFact),y(s,o.mW,"Limit")]},x=(e,t,r)=>(0,n.xb)(t)?[]:e.map((e=>{var i,{seatsFact:s=[],seatsLimit:n=0}=t[e]||{},a=null===(i=r[e])||void 0===i?void 0:i.name,o=s.map((e=>n-e)),{color:l}=r[e];return g(o,l,a)})),S=e=>{if((0,n.xb)(e))return[];var{seatsFact:t,seatsLimit:r}=e,i=t.map((e=>r-e));return[g(i,o.mW,"Aggregated Diff")]}},36853:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>f,B4:()=>b,C:()=>oe,D3:()=>q,Dr:()=>te,EQ:()=>k,ET:()=>ge,Ft:()=>be,G0:()=>U,GB:()=>y,GP:()=>R,Gu:()=>me,H8:()=>ce,HB:()=>P,IF:()=>_e,IJ:()=>X,JK:()=>ye,Jg:()=>Ie,K3:()=>p,K6:()=>x,M0:()=>j,MS:()=>le,Oo:()=>G,Op:()=>Ae,PT:()=>ke,Qz:()=>w,Rr:()=>Me,SL:()=>M,SM:()=>Y,SZ:()=>Se,Tb:()=>ae,Tq:()=>B,VI:()=>xe,WG:()=>ie,WJ:()=>d,WW:()=>z,Xd:()=>we,Xh:()=>S,YX:()=>Ze,_J:()=>_,a:()=>$,a0:()=>h,a4:()=>Le,a7:()=>u,ac:()=>T,az:()=>Re,bT:()=>Ce,bb:()=>Fe,c0:()=>I,cY:()=>A,ci:()=>pe,co:()=>D,dW:()=>re,et:()=>je,fm:()=>N,hx:()=>Ne,i6:()=>Te,ii:()=>Z,jZ:()=>Oe,jc:()=>m,k0:()=>ue,mo:()=>Pe,nb:()=>Q,ni:()=>C,pt:()=>E,qC:()=>He,qe:()=>J,sD:()=>de,se:()=>g,sz:()=>qe,tk:()=>he,tq:()=>se,uB:()=>K,uc:()=>W,vo:()=>ee,wn:()=>F,wt:()=>H,wv:()=>ve,xT:()=>V,xz:()=>O,yB:()=>fe,z:()=>L});var i=r(20573),s=r(22350),n=r(15197),a=r(35667),o=r(71505),l=r(88e3),c=r(33143),d=e=>e.graph.tableData,u=e=>e.graph.graphDisplaySettingsOpened,p=e=>e.graph.reportOpenedFromDrawer,h=e=>e.graph.tableDataFilters,f=e=>e.graph.skillAndOfficeListStatus,m=e=>e.graph.selectAllGraphCells,v=e=>e.graph.scheduleBlockFilter,y=e=>e.graph.openScheduleBlockConfirm,g=e=>null==e?void 0:e.graph.prohibitChangesStatus,b=e=>e.graph.tableDataFilters.userIds,j=e=>e.graph.tableDetailDataFilters.userIds,x=e=>e.graph.tableDataFilters.totalNumberRows,S=e=>e.graph.tableDetailDataFilters,O=e=>e.graph.tableDetailDataFilters.totalNumberRows,P=e=>e.graph.details.biometricPoints,w=e=>e.graph.datePeriod,C=e=>e.graph.prevLocation,k=e=>e.graph.activeGraphPeriod,T=e=>e.graph.violationListDatePeriod,N=e=>e.graph.isOptimizing,R=e=>e.graph.isShouldReplaceAllState,E=e=>e.graph.isShouldReplaceAllDetailState,D=e=>e.graph.isGraphDataLoading,A=e=>e.graph.details.start,M=e=>e.graph.daysForBlocked,I=e=>e.graph.isShowGraphFilterDropDown,Z=e=>e.graph.details.prevStart,q=e=>e.graph.details.userId,F=e=>e.graph.filterViolationList,L=e=>e.graph.laborCodeViolationsDrawerOpen,H=e=>e.graph.details.activities,_=e=>e.graph.details.logs,B=e=>e.graph.details.violations,G=e=>e.graph.selectedCells,W=e=>e.graph.sortedByActivitiesDay,U=e=>e.graph.dayDetail,V=e=>e.graph.tableFilter,z=e=>e.graph.tableFilterStash,Y=e=>e.graph.groupSkills,Q=e=>e.graph.displaySettings,K=e=>e.graph.displaySettings.showLog,X=e=>e.graph.userDataColumnWidth,J=e=>e.graph.topContentHeight,$=e=>e.graph.forecasts,ee=e=>e.graph.forecastsSL,te=e=>e.graph.isShowStatByWeek,re=e=>e.graph.tableSorters,ie=e=>e.graph.dataUpdating,se=e=>e.graph.detailsBodyDataUpdating,ne={},ae=e=>e.graph.filterChart,oe=e=>e.graph.filterChart.showDataLabels,le=e=>e.graph.estimateLCViolationsByUsers.data,ce=e=>e.graph.computingType,de=e=>t=>(e=>e.graph.laborCodeViolationsUserMap)(t)[e]||ne,ue=e=>t=>le(t)[e]||ne,pe=e=>t=>(e=>e.graph.approvedLaborCodeViolations)(t)[e]||ne,he=(0,i.createSelector)(F,(e=>e.graph.laborCodeViolations),((e,t)=>(0,n.Rb)(t,e).sort((0,s.hM)("userShortName")))),fe=e=>t=>t.graph.prevActivities[e]||[],me=e=>{var t,r=V(e);return Object.keys(r).length<=0||(null===(t=Object.keys(r))||void 0===t?void 0:t.some((e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.length)<=0})))},ve=(e,t)=>q(e)===t.userId,ye=e=>e.graph.tableFilterIgnoreList,ge=e=>{var t=(0,o.Wx)(e);return e.graph.selectedSkillIdMap[t]||[]},be=e=>e.graph.selectedOfficesIds,je=e=>e.graph.selectorActiveMode,xe=e=>e.graph.selectorModes,Se=e=>e.graph.officeSeats.data,Oe=e=>e.graph.officeSeats.status,Pe=(0,i.createSelector)(Q,(e=>e.showLog?21:40)),we=(0,i.createSelector)(z,(e=>Object.keys(e).map((t=>({type:t,values:e[t]}))).filter((e=>!(0,a.xb)(e.values))))),Ce=(0,i.createSelector)((e=>e.graph.lastUpdatedSort.sortOrder),(e=>e.graph.graphTablePaginationSize),(e=>e.graph.graphTablePaginationPage),(e=>e.graph.tableSortName),((e,t,r,i)=>({sortType:e,sortName:i,size:t,page:r}))),ke=(0,i.createSelector)(D,(e=>e.graph.groupScheduleLoading),((e,t)=>e||t)),Te=(0,i.createSelector)(X,(e=>e-50)),Ne=(0,i.createSelector)(d,q,((e,t)=>{var r=e[t];return null==r?void 0:r.userFullName})),Re=(0,i.createSelector)(w,(e=>e)),Ee=(0,i.createSelector)(d,(e=>Object.keys(e).map((t=>e[t])))),De=(0,i.createSelector)((e=>e.graph.detailTableData),(e=>Object.keys(e).map((t=>e[t])))),Ae=(0,i.createSelector)(Ee,ye,((e,t)=>e.filter((e=>!t.includes(e.userId))))),Me=(0,i.createSelector)(De,ye,((e,t)=>e.filter((e=>!t.includes(e.userId))))),Ie=(0,i.createSelector)(o.Wx,Y,((e,t)=>t[e]||[])),Ze=(e,t,r)=>(0,i.createSelector)(v,d,((i,s)=>{if(!r)return!1;if(r&&0===i.values.length)return!0;if(i.type===c.kE.PREFERENCE){var n,o,l,d,u;if(1===i.values.length&&i.values.includes("withPreferences"))return!0===(null===(n=s[e][t])||void 0===n||null===(o=n.preference)||void 0===o?void 0:o.taken);if(1===i.values.length&&i.values.includes("withoutPreferences"))return!1===(null===(l=s[e][t])||void 0===l||null===(d=l.preference)||void 0===d?void 0:d.taken);if(i.values.includes("withPreferences")&&i.values.includes("withoutPreferences"))return!(0,a.xb)(null===(u=s[e][t])||void 0===u?void 0:u.preference)}})),qe=(0,i.createSelector)(Ie,(e=>(0,s.xn)(e))),Fe=e=>e.graph.optimizeType,Le=e=>e.graph.optimizeDays,He=((0,i.createSelector)(X,(e=>e+l.eS)),(0,i.createSelector)(d,M,((e,t)=>t.some((t=>{var r,i;return!(0,a.xb)(null===(r=e[t.userId])||void 0===r||null===(i=r[t.day])||void 0===i?void 0:i.shiftBlock)}))))),_e=(0,i.createSelector)(d,M,((e,t)=>t.some((t=>{var r,i;return(0,a.xb)(null===(r=e[t.userId])||void 0===r||null===(i=r[t.day])||void 0===i?void 0:i.shiftBlock)}))))},31857:(e,t,r)=>{"use strict";r.d(t,{AB:()=>u,BC:()=>o,D9:()=>a,N8:()=>m,Qs:()=>h,ao:()=>f,bB:()=>p,bJ:()=>c,qF:()=>n,tg:()=>d,yR:()=>l});var i=r(20573),s=r(71505),n=e=>e.schedule.activities,a=e=>e.schedule.schedule,o=e=>e.schedule.generatedSchemas,l=e=>e.schedule.scheduleContainersMap,c=e=>e.schedule.allScheduleContainersMap,d=e=>e.schedule.isLoadingSchedules,u=e=>{var{scheduleContainersMap:t}=e.schedule;return Object.keys(t).map((e=>{var r;return{name:null===(r=t[e])||void 0===r?void 0:r.name,id:e}}))},p=e=>e.schedule.schedules,h=e=>e.schedule.schedules,f=(0,i.createSelector)(h,s.Wx,((e,t)=>e.filter((e=>e.groupId===t)))),m=e=>e.schedule.scheduleHasBeenUpdated},56975:(e,t,r)=>{"use strict";r.d(t,{Hn:()=>s,Uw:()=>u,V3:()=>n,Xr:()=>o,k4:()=>l,kf:()=>c,lW:()=>a,nO:()=>p,s$:()=>h,wt:()=>d});var i=r(22350),s=e=>e.scheduleSchema.scheduleSchemas,n=e=>(0,i.xn)(e.scheduleSchema.scheduleSchemas),a=e=>e.scheduleSchema.setCopiedSchemaId,o=e=>e.scheduleSchema.layoutSizes,l=e=>e.scheduleSchema.specialDaysForMultiEdit,c=e=>e.scheduleSchema.specialDaysForMultiEditIsLoading,d=e=>e.scheduleSchema.isScheduleSchemaLoading,u=e=>e.scheduleSchema.showGroupEditPopup,p=e=>e.scheduleSchema.showCopyPopup,h=e=>e.scheduleSchema.selectedScheduleSchema},52707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addToMainDetailsFilter:()=>te,approveAll:()=>J,approveAllByDay:()=>F,approveAllByUser:()=>q,approveCell:()=>M,checkGroups:()=>ne,clearDetailsTableFilter:()=>k,clearFilterForMultiSelectPoints:()=>G,clearMainDetailsFilter:()=>ie,dayToLocalDate:()=>ve,deleteItemFromFilterPoints:()=>B,editGroupsTracking:()=>Se,editScheduleControlCells:()=>he,fetchHierarchyTree:()=>xe,fetchScheduleControlDetails:()=>be,fetchStats:()=>ge,getGroupsTracking:()=>je,isScheduleControlSettingsUpdating:()=>Q,readGroupsTracking:()=>le,readHierarchyPermissionGroup:()=>de,readScheduleControlDetails:()=>ue,readScheduleControlDetailsTableData:()=>pe,remapStatuses:()=>Pe,removeFromMainDetailsFilter:()=>re,removeUserNameFromDetailsFilter:()=>T,saveApplies:()=>Oe,saveScheduleControlSettings:()=>me,scheduleControlSettingsSaved:()=>K,sendEditGroupsTracking:()=>ce,setActivateCellByFilterStates:()=>V,setCheckedForAllCell:()=>X,setDataForCellsGroupsState:()=>W,setDataForMultiSelectPoints:()=>H,setDateForHeaderTable:()=>L,setDetailsLeftSideWidth:()=>P,setDetailsTableData:()=>A,setDetailsTableFilter:()=>w,setDetailsTableLoading:()=>I,setExpandedGroups:()=>se,setFilterForMultiSelectPoints:()=>_,setGroupDataLoading:()=>Z,setGroupsTracking:()=>E,setGroupsTrackingFilter:()=>D,setNewCheckedForCells:()=>Y,setParamsPointsOrganizations:()=>R,setPointsOrganizations:()=>N,setPrevArrayCheckedPoints:()=>z,setSavedApproves:()=>ee,setScheduleControlPeriod:()=>O,setStatesForCellGroup:()=>U,setStats:()=>$,stashDetailsTableFilter:()=>C,updateScheduleControlSettings:()=>fe});var i=r(81978),s=r(44012),n=r(30381),a=r.n(n),o=r(41524),l=r(78340),c=r(88599),d=r(82028),u=r(60119),p=r(50362),h=r(65227),f=r(11567),m=r(35667),v=r(96650),y=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){x(n,i,s,a,o,"next",e)}function o(e){x(n,i,s,a,o,"throw",e)}a(void 0)}))}}var O=(0,i.PH)("setScheduleControlPeriod"),P=(0,i.PH)("setDetailsLeftSideWidth"),w=(0,i.PH)("setDetailsTableFilter"),C=(0,i.PH)("stashDetailsTableFilter"),k=(0,i.PH)("clearDetailsTableFilter"),T=(0,i.PH)("removeUserNameFromDetailsFilter"),N=(0,i.PH)("setPointsOrganizations"),R=(0,i.PH)("setParamsPointsOrganizations"),E=(0,i.PH)("setGroupsTracking"),D=(0,i.PH)("setGroupsTrackingFilter"),A=(0,i.PH)("setDetailsTableData"),M=(0,i.PH)("approveCell"),I=(0,i.PH)("setDetailsTableLoading"),Z=(0,i.PH)("setGroupDataLoading"),q=(0,i.PH)("approveAllByUser"),F=(0,i.PH)("approveAllByDay"),L=(0,i.PH)("setDateForHeaderTable"),H=(0,i.PH)("setDataForMultiSelectPoints"),_=(0,i.PH)("setFilterForMultiSelectPoints"),B=(0,i.PH)("deleteItemFromFilterPoints"),G=(0,i.PH)("clearFilterForMultiSelectPoints"),W=(0,i.PH)("setDataForCellsGroupsState"),U=(0,i.PH)("setStatesForCellGroup"),V=(0,i.PH)("setActivateCellByFilterStates"),z=(0,i.PH)("setPrevArrayCheckedPoints"),Y=(0,i.PH)("setNewCheckedForCells"),Q=(0,i.PH)("isScheduleControlSettingsUpdating"),K=(0,i.PH)("scheduleControlSettingsSaved"),X=(0,i.PH)("setCheckedForAllCell"),J=(0,i.PH)("approveAll"),$=(0,i.PH)("setStats"),ee=(0,i.PH)("setSavedApproves"),te=(0,i.PH)("addToMainDetailsFilter"),re=(0,i.PH)("removeFromMainDetailsFilter"),ie=(0,i.PH)("clearMainDetailsFilter"),se=(0,i.PH)("setExpandedGroups"),ne=(0,i.PH)("checkGroups"),ae=(0,y.jsx)(s.Z,{id:"ScheduleControl.Notification.NotOrgPoints",defaultMessage:[{type:0,value:"Не удалось получить орг. структуры"}]}),oe=(0,y.jsx)(s.Z,{id:"ScheduleControl.Notification.NotDataByGroups",defaultMessage:[{type:0,value:"Не удалось получить данные по группам"}]});function le(e){return(0,d.t9)("schedule-control/read-groups",e)}function ce(e){return(0,d.t9)("schedule-control/edit-groups",e)}function de(){return(0,d.t9)("permission-group/read-hierarchy")}function ue(e){return(0,d.t9)("schedule-control/read-users",e)}function pe(e){return Promise.all([ue(e),(0,l.getUsers)(e)])}function he(e){return(0,d.t9)("schedule-control/edit-users",e)}function fe(e){return(0,d.t9)("schedule-control/edit-settings",e)}function me(e){return function(){var t=S((function*(t){try{t(Q(!0));var{success:r}=yield fe(e);r&&(t(K(e)),o.T.success())}catch(e){console.error(e),(0,c.x)(e)}finally{t(Q(!1))}}));return function(e){return t.apply(this,arguments)}}()}var ve=e=>e.map((e=>b(b({},e),{},{day:a()(e.day,h._E).local().format(h.vc)}))),ye=e=>{var t=ve(e.tableData.userScheduleControlList),r=ve(e.tableData.groupScheduleControlList),i={};return e.users.forEach((e=>{var{id:t,namePeriod:r,positionPeriod:s}=e;i[t]={userId:t,userName:(0,u.oo)(r),userFullName:(0,u.Pp)(r),userPosition:(0,p.Tq)(s,"name")}})),t.forEach((e=>{var t=r.find((t=>t.day===e.day))||{};i[e.userId]&&(i[e.userId][e.day]=e,i[e.userId][e.day].blocked=t.block===v.x)})),{data:i,groupScheduleControlList:r}};function ge(e){return function(){var t=S((function*(t){try{var{response:r}=yield(0,l.getBalancerStats)(e);t($(r))}catch(e){console.error("fetchStats error: ",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function be(e){return function(){var t=S((function*(t){try{t(I(!0));var[r,i]=yield pe(e);t(A(ye({tableData:r.response,users:i.response}))),t(ge(e))}catch(e){console.error("fetchScheduleControlDetails error: ",e),(0,c.x)(e)}finally{t(I(!1))}}));return function(e){return t.apply(this,arguments)}}()}function je(e){return function(){var t=S((function*(t){try{t(Z(!0));var{from:r,to:i}=e,s={from:r,to:i},{response:n}=yield le(s),a=ve(n),o=(0,f.AM)(a),l=(0,f.ck)(a),c=(0,f.h8)(l),d=(0,f.hb)(c,o);t(L(d)),t(E(l)),t(W(o))}catch(e){console.error("getGroupsTracking error = ",e)}finally{t(Z(!1))}}));return function(e){return t.apply(this,arguments)}}()}function xe(e){var{from:t,to:r}=e;return function(){var e=S((function*(e){try{var{response:i}=yield de(),s=(0,f.Uy)([i]),n=(a=s.items,o=[],(0,m.xb)(a)||a.forEach((e=>{var{groupName:t,id:r}=e,i={value:r,text:t};o.push(i)})),o);e(N(i)),e(R(s)),e(H(n)),e(je({from:t,to:r}))}catch(e){console.error("fetchHierarchyTree error: ",e),(0,c.x)(e,ae)}var a,o}));return function(t){return e.apply(this,arguments)}}()}function Se(e){return function(){var t=S((function*(t){try{var{listId:r,state:i,from:s,to:n}=e,a={listId:r,state:i},o={from:s,to:n};yield ce(a),t(je(o))}catch(e){console.error("editGroupsTracking error = ",e),(0,c.x)(e,oe)}}));return function(e){return t.apply(this,arguments)}}()}function Oe(e){return function(){var t=S((function*(t){try{yield he(e),t(ee(e))}catch(e){console.error("applyStatusesForSelectedDays error = ",e),(0,c.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var r=S((function*(r){try{yield(i=e,(0,d.t9)("schedule-control/remap-statuses",i)),r(be(e)),t&&t(),o.T.success((0,y.jsx)(s.Z,{id:"ScheduleControl.RemapStatusesSuccess",defaultMessage:[{type:0,value:"Перемаппинг статусов биометрии завершён."}]}))}catch(e){console.error("remapStatuses error = ",e)}var i}));return function(e){return r.apply(this,arguments)}}()}},20455:(e,t,r)=>{"use strict";r.d(t,{Gf:()=>l,M:()=>i,XS:()=>n,_n:()=>o,at:()=>a,lY:()=>s});var i={UNBLOCK:"UNBLOCK",BLOCK:"BLOCK"},s=e=>"APPROVED"===e,n=e=>"NOT_APPROVED"===e,a=e=>e===i.BLOCK,o=e=>e===i.UNBLOCK;function l(e){return!(e%2)}},11567:(e,t,r)=>{"use strict";r.d(t,{AM:()=>y,H$:()=>g,MJ:()=>x,Pp:()=>P,Uy:()=>f,Wi:()=>j,ck:()=>v,h8:()=>S,hb:()=>k,jk:()=>w,rZ:()=>C,uJ:()=>h});var i=r(30381),s=r.n(i),n=r(35667),a=r(65227),o=r(22350),l=r(12718),c=r(20455);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(e,t,r)=>u(u(u(u({},e),t),r),{},{isRead:(0,o.BC)(e.user,l.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS),isReadUsers:(0,o.BC)(e.user,l.ZP.RIGHTS.SCHEDULE_CONTROL_USERS),isCRUD:(0,o.BC)(e.user,l.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS,l.ZP.CRUD)});function f(e){var t=0,r=[];return(0,n.xb)(e)?{count:t}:(function e(i){i&&0!==i.length&&Array.isArray(i)&&i.forEach((i=>{t+=1,r.push(i),e(i.children)}))}([...e]),{count:t,items:r})}function m(e,t){return r=e.day,i=t.day,(n=s()(r,a.vc))>(o=s()(i,a.vc))?1:n<o?-1:0;var r,i,n,o}function v(e){var t=function(e){var t={},r={};return e.forEach((e=>{t[e.groupId]?t[e.groupId].push(e):t[e.groupId]=[e]})),Object.keys(t).forEach((e=>{var i=t[e];r[e]={groupId:e,row:i,show:!0}})),r}(e);return function(e){var t={};return Object.keys(e).forEach((r=>{var i=[...e[r].row];i.sort(m),t[r]=u(u({},e[r]),{},{row:i})})),t}(t)}function y(e){var t={};return e.forEach((e=>{t[e.id]=u(u({},e),{},{active:!0,checked:!1})})),t}function g(e){var t=[];return Object.keys(e).forEach((r=>{var i=e[r];i.checked&&t.push(i.id)})),t}function b(e,t){var{approve:r,decline:i,open:s,close:n}=e,{approve:a,block:o}=t,l=!1;return r&&!(0,c.lY)(a)||i&&!(0,c.XS)(a)||s&&!(0,c._n)(o)?l:!(n&&!(0,c.at)(o))||l}function j(e,t){for(var{approve:r,decline:i,open:s,close:n}=e,a={},o=!(r||i||s||n),l=Object.keys(t),c=0;c<l.length;c++){var d=t[l[c]];if(o)a[d.id]=u(u({},d),{},{active:!0});else{var{approve:p,block:h}=d,f=b(e,{approve:p,block:h});a[d.id]=u(u({},d),{},{active:f})}}return a}function x(e,t,r){var i=u({},e);return Object.keys(e).forEach((s=>{var n=e[s],{active:a,id:o}=n,l=-1!==t.indexOf(o);a&&l&&(i[o]=u(u({},n),{},{checked:r}))})),i}function S(e){var t=[];return Object.keys(e).forEach((r=>{var{row:i}=e[r];i.forEach(((e,r)=>{(0,n.xb)(t[r])?t[r]={day:e.day,cellIds:[e.id],checked:!1}:t[r].cellIds.push(e.id)}))})),t}function O(e,t){return t.some((t=>e[t]&&e[t].active))}function P(e,t){var r=!0,i=!1,s=O(e,t);return(0,n.xb)(t)||(0,n.xb)(e)||!s?{isEvery:!1,isSome:!1}:(t.forEach((t=>{var s=e[t]||{},{active:n,checked:a}=s;n&&(a?i=!0:r=!1)})),{isEvery:r,isSome:i})}function w(e,t){var r=!0,i=O(e,t);return!((0,n.xb)(e)||(0,n.xb)(t)||!i)&&(t.forEach((t=>{var i=e[t]||{},{active:s,block:n}=i;s&&(0,c._n)(n)&&(r=!1)})),r)}function C(e,t){var r=!0,i=O(e,t);return!((0,n.xb)(e)||(0,n.xb)(t)||!i)&&(t.forEach((t=>{var i=e[t]||{},{active:s,approve:n}=i;s&&(0,c.XS)(n)&&(r=!1)})),r)}function k(e,t){var r=[];return e.forEach((e=>{var i=u({},e);i.blocked=w(t,i.cellIds),r.push(i)})),r}},75425:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>d,C9:()=>l,M0:()=>n,Yc:()=>p,_3:()=>f,bZ:()=>c,q7:()=>o,qo:()=>a,vx:()=>h,zw:()=>u});var i=r(44012),s=r(85893),n=(0,s.jsx)(i.Z,{id:"ScheduleControl.All",defaultMessage:[{type:0,value:"Все"}]}),a=(0,s.jsx)(i.Z,{id:"ScheduleControl.Approved",defaultMessage:[{type:0,value:"Подтвержденные"}]}),o=(0,s.jsx)(i.Z,{id:"ScheduleControl.NotApproved",defaultMessage:[{type:0,value:"Неподтвержденные"}]}),l=(0,s.jsx)(i.Z,{id:"ScheduleControl.Open",defaultMessage:[{type:0,value:"Открытые"}]}),c=(0,s.jsx)(i.Z,{id:"ScheduleControl.Closed",defaultMessage:[{type:0,value:"Закрытые"}]}),d="approve",u="decline",p="open",h="close",f=()=>({[d]:!1,[u]:!1,[p]:!1,[h]:!1})},84597:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.values(e).forEach((e=>{t=s(s({},t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.values(e).forEach((e=>{e&&e.approve&&(t=s(s({},t),{},{[e.id]:e.approve}))})),t}(e))})),{usersStatus:t}}function o(e,t){var r={};return Object.keys(t.usersStatus).forEach((i=>{t.usersStatus[i]!==e.usersStatus[i]&&(r[i]=t.usersStatus[i])})),{usersStatus:r}}r.d(t,{gL:()=>a,h4:()=>o})},69021:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,r:()=>s});var i="APPROVED",s="NOT_APPROVED"},96650:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var i="BLOCK"},54260:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G,getStatsByUserId:()=>B});var i=r(30381),s=r.n(i),n=r(97779),a=r(81978),o=r(65227),l=r(22350),c=r(52707),d=r(11567),u=r(75425),p=r(84597),h=r(16313),f=r.n(h),m=r(69021);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b="month",j={from:s()().startOf(b).format(o._E),to:s()().endOf(b).format(o._E)},x=(0,a.Lq)({[c.setScheduleControlPeriod]:(e,t)=>t},j),S=(0,a.Lq)({[c.setPointsOrganizations]:(e,t)=>t},{}),O=(0,a.Lq)({[c.setParamsPointsOrganizations]:(e,t)=>t},{count:0}),P=(0,a.Lq)({[c.setGroupsTracking]:(e,t)=>t},{}),w=(0,a.Lq)({[c.setGroupsTrackingFilter]:(e,t)=>y(y({},e),t)},(0,u._3)()),C=(0,a.Lq)({[c.setDetailsTableData]:(e,t)=>t.data,[c.approveCell]:(e,t)=>{var r=y({},e),{userId:i,day:s,approve:n}=t;return r[i][s].approve=n,r},[c.approveAll]:function(e,t){var r=f()(e);return Object.values(r).forEach((e=>Object.values(e).forEach((e=>{e.approve&&!e.blocked&&(e.approve=t?m.C:m.r)})))),r},[c.approveAllByUser]:(e,t)=>{var r=y({},e),{userId:i,approve:s}=t;return Object.keys(r[i]).forEach((e=>{var t=r[i][e];t.approve&&!t.blocked&&(t.approve=s)})),r},[c.approveAllByDay]:(e,t)=>{var r=y({},e),{date:i,approve:s}=t;return Object.values(r).forEach((e=>{e[i]&&(r[e.userId][i].approve=s)})),r}},{}),k=(0,a.Lq)({[c.setStats]:(e,t)=>t},[]),T=(0,a.Lq)({[c.setDetailsTableData]:(e,t)=>(0,p.gL)(t.data),[c.setSavedApproves]:(e,t)=>({usersStatus:y(y({},e.usersStatus),t.usersStatus)})},{usersStatus:[]}),N=(0,a.Lq)({[c.setDetailsTableData]:(e,t)=>{var{groupScheduleControlList:r}=t;return(0,l.xn)(r,"day")}},{}),R=(0,a.Lq)({[c.setDetailsLeftSideWidth]:(e,t)=>t},0),E=(0,a.Lq)({[c.setDetailsTableFilter]:(e,t)=>y(y({},e),{},{[t.fieldName]:t.values}),[c.removeUserNameFromDetailsFilter]:(e,t)=>{var r=e.userName||[];return y(y({},e),{},{userName:r.filter((e=>e!==t))})},[c.clearDetailsTableFilter]:()=>({})},{}),D=(0,a.Lq)({[c.stashDetailsTableFilter]:(e,t)=>t,[c.removeUserNameFromDetailsFilter]:(e,t)=>{var r=e.userName||[];return y(y({},e),{},{userName:r.filter((e=>e!==t))})},[c.clearDetailsTableFilter]:()=>({})},{}),A=(0,a.Lq)({[c.addToMainDetailsFilter]:(e,t)=>[...new Set(e).add(t)],[c.removeFromMainDetailsFilter]:(e,t)=>e.filter((e=>e!==t)),[c.clearMainDetailsFilter]:()=>[]},[]),M=(0,a.Lq)({[c.setDetailsTableLoading]:(e,t)=>t},!1),I=(0,a.Lq)({[c.setDataForMultiSelectPoints]:(e,t)=>t},[]),Z=(0,a.Lq)({[c.setFilterForMultiSelectPoints]:(e,t)=>t,[c.deleteItemFromFilterPoints]:(e,t)=>{var{id:r}=t;return[...e].filter((e=>e!==r))},[c.clearFilterForMultiSelectPoints]:()=>[]},[]),q=(0,a.Lq)({[c.setDataForCellsGroupsState]:(e,t)=>t,[c.setStatesForCellGroup]:(e,t)=>{var{id:r,states:i}=t;return y(y({},e),{},{[r]:y(y({},e[r]),i)})},[c.setActivateCellByFilterStates]:(e,t)=>(0,d.Wi)(t,e),[c.setNewCheckedForCells]:(e,t)=>{var{cellIds:r,checked:i}=t;return(0,d.MJ)(e,r,i)},[c.setCheckedForAllCell]:(e,t)=>{var{checked:r}=t,i=Object.keys(e);return(0,d.MJ)(e,i,r)},[c.checkGroups]:(e,t)=>{var{groupIds:r,checked:i}=t,s=Object.values(e).filter((e=>r.includes(e.groupId))),n={};return s.forEach((e=>{e.active?n[e.id]=y(y({},e),{},{checked:i}):n[e.id]=e})),y(y({},e),n)}},{}),F=(0,a.Lq)({[c.setPrevArrayCheckedPoints]:(e,t)=>t},[]),L=(0,a.Lq)({[c.setGroupDataLoading]:(e,t)=>t},!1),H=(0,a.Lq)({[c.setExpandedGroups]:(e,t)=>t},[]),_=(0,n.combineReducers)({dataMultiSelect:I,filterByPoints:Z,cells:q,prevCheckedPoints:F,expandedGroups:H,scheduleControlDataIsLoading:L}),B=(e,t)=>e.scheduleControl.stats.find((e=>e.userNorm.userId===t));const G=(0,n.combineReducers)({period:x,orgPoints:S,dataGroups:P,filterGroups:w,details:C,detailsLeftSideWidth:R,detailsTableFilter:E,detailsTableFilterStash:D,paramsOrgPoints:O,detailsTableColumnsDataMap:N,isDetailsTableLoading:M,scheduleCtrlProps:_,detailsMainFilter:A,stats:k,savedApproves:T})},78830:(e,t,r)=>{"use strict";r.r(t),r.d(t,{accountingRuleRemoved:()=>f,accountingRuleUpdated:()=>m,accountingRulesFetched:()=>p,addAccountingRule:()=>h,createAccountingRule:()=>g,fetchAccountingRules:()=>y,removeAccountingRule:()=>b,setAccountingLoading:()=>v,updateAccountingRule:()=>j});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("accountingRulesFetched"),h=(0,i.PH)("addAccountingRule"),f=(0,i.PH)("accountingRuleRemoved"),m=(0,i.PH)("accountingRuleUpdated"),v=(0,i.PH)("setAccountingLoading");function y(){return function(){var e=u((function*(e){try{e(v(!0));var{response:t}=yield(0,a.t9)("accounting/read-all");e(p(t))}catch(e){(0,n.x)(e),console.error("fetchAccountingRules error = ",e)}finally{e(v(!1))}}));return function(t){return e.apply(this,arguments)}}()}function g(e){return function(){var t=u((function*(t){yield(0,a.t9)("accounting/create",e).then((r=>{t(h(l(l({},r.response),e))),s.T.success()})).catch((e=>{(0,n.x)(e.error),console.error(e.error)}))}));return function(e){return t.apply(this,arguments)}}()}function b(e){return function(){var t=u((function*(t){yield(0,a.t9)("accounting/delete",{id:e}).then((()=>{t(f(e)),s.T.success()})).catch((e=>{(0,n.x)(e.error),console.error(e.error)}))}));return function(e){return t.apply(this,arguments)}}()}function j(e,t){return function(){var r=u((function*(r){try{yield(0,a.t9)("accounting/update",e),r(m(e)),s.T.success(),t&&t()}catch(e){(0,n.x)(e),console.error("updateAccountingRule: ",e)}}));return function(e){return r.apply(this,arguments)}}()}},46981:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createDay:()=>S,createDayAction:()=>y,deleteDay:()=>j,deleteDayAction:()=>v,editDay:()=>b,fetchCalendar:()=>g,loadCalendar:()=>h,setPeriod:()=>x,setPeriodAction:()=>m,updateCalendar:()=>f});var i=r(81978),s=r(30381),n=r.n(s),a=r(41524),o=r(88599),l=r(82028);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){u(n,i,s,a,o,"next",e)}function o(e){u(n,i,s,a,o,"throw",e)}a(void 0)}))}}var h=(0,i.PH)("loadCalendar"),f=(0,i.PH)("updateCalendar"),m=(0,i.PH)("setPeriodAction"),v=(0,i.PH)("deleteDayAction"),y=(0,i.PH)("createDayAction");function g(e){return function(){var t=p((function*(t){try{var r=n()(),i=r.year(),s=r.month(),a=n()([i,s]).format("YYYY-MM-DD"),o=n()(n()([i,s]).toDate()).endOf("month").format("YYYY-MM-DD");e||(e={}),e.from||(e.from=a),e.to||(e.to=o);var c=yield(0,l.ZP)("POST","workday/read-period",e),d=yield c.json();t(h(d.response))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function b(e,t){return function(){var r=p((function*(r){return(0,l.t9)("workday/update",e).then((i=>{r(f(e)),t&&t(i),a.T.success()})).catch((e=>{console.log(e),(0,o.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function j(e){return function(){var t=p((function*(t){try{yield(0,l.ZP)("POST","workday/delete",{id:e}),t(v()),a.T.success()}catch(e){console.log(e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function x(e){return t=>{var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);t(m(r))}}function S(e){return p((function*(){try{yield(0,l.ZP)("POST","workday/create",e),a.T.success()}catch(e){console.log(e),(0,o.x)(e)}}))}},37548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{commentTemplateCreated:()=>h,commentTemplateRemoved:()=>f,commentTemplateUpdated:()=>m,commentTemplatesFetched:()=>p,createCommentTemplate:()=>y,deleteCommentTemplate:()=>b,fetchCommentTemplates:()=>v,updateCommentTemplate:()=>g});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("commentTemplatesFetched"),h=(0,i.PH)("commentTemplateCreated"),f=(0,i.PH)("commentTemplateRemoved"),m=(0,i.PH)("commentTemplateUpdated");function v(e){return function(){var t=u((function*(t){return(0,a.t9)("comment-templates/read-all",e).then((e=>t(p(e.response)))).catch((()=>(0,n.x)()))}));return function(e){return t.apply(this,arguments)}}()}function y(e,t){return function(){var r=u((function*(r){return(0,a.t9)("comment-templates/create",e).then((i=>{r(h(l(l({},e),i.response))),t&&(t(i.response),s.T.success())})).catch((()=>(0,n.x)()))}));return function(e){return r.apply(this,arguments)}}()}function g(e,t){return function(){var r=u((function*(r){return(0,a.t9)("comment-templates/update",e).then((i=>{r(m(e)),t&&(t(i.response),s.T.success())})).catch((()=>(0,n.x)()))}));return function(e){return r.apply(this,arguments)}}()}function b(e,t){return function(){var r=u((function*(r){return(0,a.t9)("comment-templates/delete",{id:e}).then((i=>{r(f(e)),t&&(t(i.response),s.T.success())})).catch((()=>(0,n.x)()))}));return function(e){return r.apply(this,arguments)}}()}},84058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createGlobalRules:()=>f,createPeriodPreference:()=>u,deletePeriodPreference:()=>h,fetchAllPreferences:()=>d,receiveFetchAllPeriodPreferences:()=>c,updatePeriodPreference:()=>p});var i=r(81978),s=r(41524),n=r(82028),a=r(88599);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("receiveFetchAllPeriodPreferences");function d(){return function(){var e=l((function*(e){try{var{response:t,success:r}=yield(0,n.t9)("preference-period/read-all");r&&e(c(t))}catch(e){(0,a.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function u(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("preference-period/create",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){(0,a.x)(e)}}))}function p(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("preference-period/update",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){(0,a.x)(e)}}))}function h(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("preference-period/delete",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){(0,a.x)(e)}}))}function f(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("preference-period/create-global",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){(0,a.x)(e)}}))}},21447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{employeeStatusesSaveAll:()=>f,fetchEmployeeStatuses:()=>h,isLoadingEmployeeStatuses:()=>d,isRemoveEmployeeStatuses:()=>u,receiveAllEmployeeStatuses:()=>c,removeEmployeeStatus:()=>m,resetEmployeeStatuses:()=>p});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("receiveAllEmployeeStatuses"),d=(0,i.PH)("isLoadingEmployeeStatuses"),u=(0,i.PH)("isRemoveEmployeeStatuses"),p=(0,i.PH)("resetEmployeeStatuses"),h=e=>function(){var t=l((function*(t){try{t(d(!0));var{response:r,success:i}=yield(0,a.t9)("user-status/read-all");i&&(t(c(r)),"function"==typeof e&&e())}catch(e){(0,n.x)(e)}finally{t(d(!1))}}));return function(e){return t.apply(this,arguments)}}(),f=(e,t)=>l((function*(){try{var{success:r}=yield(0,a.t9)("user-status/save-all",e);r&&"function"==typeof t&&t(),s.T.success()}catch(e){(0,n.x)(e)}})),m=(e,t)=>function(){var r=l((function*(r){try{r(u(!0));var{success:i}=yield(0,a.t9)("user-status/delete",{id:e});i&&"function"==typeof t&&t(),s.T.success()}catch(e){console.error("removeEmployeeStatus = ",e),(0,n.x)(e)}finally{r(u(!1))}}));return function(e){return r.apply(this,arguments)}}()},56705:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changeStatusMappingUserStatus:()=>S,checkStatusMappingAllRows:()=>x,checkStatusMappingRow:()=>j,employeeSystemsSaveAll:()=>E,fetchExternalStatusMapping:()=>D,fetchExternalSystems:()=>R,fetchStatuses:()=>T,fetchStatusesWithFilter:()=>A,fetchSystems:()=>P,getStatusesMappingExcel:()=>Z,importStatusesMapping:()=>I,isLoadingStatuses:()=>k,receiveExternalSystemsStatuses:()=>f,receiveStatusMappingData:()=>v,resetExternalSystemsStatuses:()=>m,resetStatusesMapping:()=>C,saveAllExternalSystemsStatuses:()=>N,saveStatusMapping:()=>M,setLoadingStatusMapping:()=>y,setStatusMappingFilter:()=>g,setStatusMappingSorters:()=>b,setSubmittingStatusMapping:()=>O,statusesMappingImported:()=>w});var i=r(81978),s=r(44012),n=r(41524),a=r(82028),o=r(88599),l=r(69301),c=r(12718),d=r(30053),u=r(85893);function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("fetchExternalSystemsStatuses"),m=(0,i.PH)("resetExternalSystemsStatuses"),v=(0,i.PH)("receiveExternalStatusMappingData"),y=(0,i.PH)("setLoadingExternalStatusMapping"),g=(0,i.PH)("setStatusMappingFilter"),b=(0,i.PH)("setStatusMappingSorters"),j=(0,i.PH)("checkStatusMappingRow"),x=(0,i.PH)("checkStatusMappingAllRows"),S=(0,i.PH)("changeStatusMappingUserStatus"),O=(0,i.PH)("setSubmittingStatusMapping"),P=(0,i.PH)("fetchSystems"),w=(0,i.PH)("statusesMappingImported"),C=(0,i.PH)("resetStatusesMapping"),k=(0,i.PH)("isLoadingStatuses");function T(){return function(){var e=h((function*(e){try{e(k(!0));var{response:t}=yield(0,a.t9)("external-status/read-all");e(f(t))}catch(e){console.log("fetchStatuses = ",e),(0,o.x)(e)}finally{e(k(!1))}}));return function(t){return e.apply(this,arguments)}}()}function N(e,t){return h((function*(){try{var{success:r}=yield(0,a.t9)("external-status/save-all",e);r&&"function"==typeof t&&t(),n.T.success()}catch(e){console.log("saveStatuses = ",e),(0,o.x)(e)}}))}function R(e){return function(){var t=h((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("external-system/read-all");i&&(t(P(r)),"function"==typeof e&&e())}catch(e){(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function E(e,t){return h((function*(){try{var{success:r}=yield(0,a.t9)("external-system/save-all",e);r&&(n.T.success(),"function"==typeof t&&t())}catch(e){(0,o.x)(e)}}))}var D=()=>function(){var e=h((function*(e){e(y(!0));try{var{response:t}=yield(0,a.t9)("external-status/mapping/read-all");e(v(t))}catch(e){(0,o.x)(e)}finally{e(y(!1))}}));return function(t){return e.apply(this,arguments)}}();function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.wA;return function(){var r=h((function*(r){try{r(y(!0));var{response:i,success:s}=yield(0,a.t9)("external-status/mapping/v2/read-with-filter?page=".concat(e.page,"&size=").concat(e.size,"&sort=").concat(e.sort),e.payload);s&&(r(v(i)),t())}catch(e){console.log("fetchStatusesWithFilter = ",e),(0,o.x)(e)}finally{r(y(!1))}}));return function(e){return r.apply(this,arguments)}}()}var M=(e,t)=>function(){var r=h((function*(r){r(O(!0));try{var{success:i}=yield(0,a.t9)("external-status/mapping/save-all",e);i&&(r(A({page:1,size:100,sort:c.ZP.EMPTY_WORK_ACTIVITY_ID,payload:{selectStatusFilter:{},selectedUserStatus:[],onlyUnknowns:!1}})),"function"==typeof t&&t(),n.T.success())}catch(e){(0,o.x)(e)}finally{r(O(!1))}}));return function(e){return r.apply(this,arguments)}}();function I(e,t){return function(){var r=h((function*(r){try{var{success:i,response:l}=yield(0,a.t9)("import/external-status-mapping",e);r(w(l)),n.T.success((0,u.jsx)(s.Z,{id:"ExternalSystems.import",defaultMessage:[{type:0,value:"Статусы импортированы."}]})),i&&"function"==typeof t&&t()}catch(e){console.error("importStatusesMapping = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function Z(){return h((function*(){try{yield(0,a.ZP)("POST","export/external-status-mapping").then((e=>e.blob())).then((e=>{(0,l.s)(e,"statuses-mapping.xlsx")}))}catch(e){console.error("getStatusesMappingExcel = ",e),(0,o.x)(e)}}))}},82821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createFrontendSetting:()=>T,deleteFrontendSetting:()=>R,fetchAllFrontendSettings:()=>j,fetchCreateFrontendSettings:()=>x,fetchDeleteFrontendSettings:()=>O,fetchFrontendSettings:()=>C,fetchInitFrontendSettings:()=>k,fetchInitializeFrontendSettings:()=>P,fetchPublicRuLocaleFrontSetting:()=>w,fetchUpdateFrontendSettings:()=>S,frontendSettingCreated:()=>v,frontendSettingRemoved:()=>y,frontendSettingUpdated:()=>g,frontendSettingsFetched:()=>m,setRussianLocalizationSetting:()=>b,updateFrontendSetting:()=>N});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(52429),l=r(64640),c=r(66994);function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,i.PH)("frontendSettingsFetched"),v=(0,i.PH)("frontendSettingCreated"),y=(0,i.PH)("frontendSettingRemoved"),g=(0,i.PH)("frontendSettingUpdated"),b=(0,i.PH)("setRussianLocalizationSetting");function j(){return(0,a.t9)("front-settings/read-all")}function x(e){return(0,a.t9)("front-settings/create",h(h({},e),{},{value:e.value}))}function S(e){return(0,a.t9)("front-settings/update",h(h({},e),{},{value:e.value}))}function O(e){return(0,a.t9)("front-settings/delete",{id:e.id})}function P(){var e=window.$oswfm&&window.$oswfm.backend||l.ZP.backend;return fetch(e+"front-settings/read-specific-keys",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"}})}function w(){return function(){var e=u((function*(e){try{var t=window.$oswfm&&window.$oswfm.backend||l.ZP.backend,r=yield fetch(t+"front-settings/is-hide-russian-localization",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"}}),i=yield r.json();i.success&&(e(b(i.response)),o.Z.setItem("isHideRussianLocalization",i.response.value),"true"===i.response.value&&e((0,c.loadLocale)(o.Z.getItem(c.LOCALE_KEY))))}catch(e){console.log(e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function C(){return function(){var e=u((function*(e){try{var t=yield j();e(m(t.response.map((e=>{var t=h({},e);try{t.value=JSON.parse(e.value)}catch(r){t.value=e.value}return t}))))}catch(e){console.log(e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function k(){return function(){var e=u((function*(e){try{var t=yield P(),r=yield t.json();e(m(r.response))}catch(e){console.error("fetchInitFrontendSettings error: ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function T(e,t){return function(){var r=u((function*(r){try{var i=yield x(e),a=h(h({},e),{},{id:i.response.id});r(v(a)),t&&t(a),s.T.success()}catch(e){console.log(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function N(e,t){return function(){var r=u((function*(r){try{yield S(e),r(g(e)),t&&t(e),s.T.success()}catch(e){console.log(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function R(e,t){return function(){var r=u((function*(r){try{var i=yield O(e);r(y(e.key)),t&&t(i.response),s.T.success()}catch(e){console.log(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}},25944:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchGlobalSetting:()=>v,fetchGlobalSettings:()=>m,loadGlobalSetting:()=>h,loadGlobalSettings:()=>p,updateGlobalSetting:()=>f,updateGlobalSettings:()=>y,updateGlobalSettingsAll:()=>b,updateGlobalSettingsArray:()=>g});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(22917);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("loadGlobalSettings"),h=(0,i.PH)("loadGlobalSetting"),f=(0,i.PH)("updateGlobalSetting");function m(e){return function(){var t=u((function*(t){try{var r=yield(0,n.ZP)("POST","global-setting/read-all"),i=yield r.json();i.success&&(t(p(i.response)),"function"==typeof e&&e())}catch(e){(0,a.x)(e),t((0,o.setGlobalSettingsAlreadyFetched)(!1))}}));return function(e){return t.apply(this,arguments)}}()}function v(e,t){return function(){var r=u((function*(r){try{var i=yield(0,n.ZP)("POST","global-setting/read",{id:e}),s=yield i.json();s.success&&(r(h(s.response,s.response)),"function"==typeof t&&t())}catch(e){(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function y(e,t,r){return function(){var i=u((function*(i){try{var s=yield(0,n.ZP)("POST","global-setting/update",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)),o=yield s.json();o.success&&(i(f({},o.response)),"function"==typeof t&&t())}catch(e){r(e),(0,a.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function g(e,t,r){return()=>{Promise.all(Object.keys(e).map((t=>{var r=e[t];return(0,n.t9)("global-setting/update",{key:t,value:r})}))).then(t).catch(r)}}function b(e,t){return u((function*(){try{yield(0,n.t9)("global-setting/update-all",e),s.T.success(),t&&t()}catch(e){console.error("updateGlobalSettingsAll error",e),(0,a.x)(e)}}))}},46045:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchLaborCodeSettings:()=>y,receiveLaborCodeSettingsData:()=>d,receiveLaborCodeSettingsError:()=>u,resetLaborCodeSettingsData:()=>p,setDisabledSaveBtn:()=>v,setLaborCodeSettingsLoading:()=>c,setResetPeriod:()=>m,setSelectedPeriod:()=>f,setYear:()=>h,updateLaborCodeSettings:()=>g});var i=r(81978),s=r(41524),n=r(82028),a=r(88599);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("setLaborCodeSettingsLoading"),d=(0,i.PH)("receiveLaborCodeSettingsData"),u=(0,i.PH)("receiveLaborCodeSettingsError"),p=(0,i.PH)("resetLaborCodeSettingsData"),h=(0,i.PH)("setYear"),f=(0,i.PH)("setSelectedPeriod"),m=(0,i.PH)("setResetPeriod"),v=(0,i.PH)("setDisabledSaveBtn"),y=(e,t)=>function(){var r=l((function*(r){r(c());try{var{success:i,response:s}=yield(0,n.t9)("labor-code/settings/read-full",e);r(d(s)),i&&"function"==typeof t&&t()}catch(e){(0,a.x)(e),console.error("fetchLaborCodeSettings = ",e)}}));return function(e){return r.apply(this,arguments)}}(),g=(e,t)=>l((function*(){try{var{success:r}=yield(0,n.t9)("labor-code/settings/save-full",e);r&&"function"==typeof t&&t(),s.T.success()}catch(e){(0,a.x)(e),console.error("updateLaborCodeSettings = ",e)}}))},34011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addFullName:()=>V,addGroupValidityPeriod:()=>U,addManagers:()=>S,addOfficePeriod:()=>Q,addPositionPeriod:()=>z,addZonePeriod:()=>Y,appointRoleToOperator:()=>W,blockManager:()=>K,changeShowFired:()=>T,copyManager:()=>Z,copyManagerAction:()=>C,createManager:()=>_,createManagerTableDisplaySettings:()=>M,deleteManager:()=>B,editManager:()=>G,fetchManager:()=>L,fetchManagers:()=>q,fetchManagersWithComments:()=>F,fetchTableDisplaySettings:()=>I,getCreatedManager:()=>H,loadManager:()=>x,loadManagers:()=>b,loadManagersWithComments:()=>j,loadTableDisplaySettings:()=>R,removeManagers:()=>P,setBlockManager:()=>D,setManagerListFilter:()=>E,setScrollOptions:()=>O,setTableDisplaySettings:()=>N,setUnblockManager:()=>A,showManagers:()=>k,unblockManager:()=>X,updateManagers:()=>w});var i=r(81978),s=r(44012),n=r(41524),a=r(82028),o=r(88599),l=r(30053),c=r(60119),d=r(50362),u=r(84343),p=r(69355),h=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){y(n,i,s,a,o,"next",e)}function o(e){y(n,i,s,a,o,"throw",e)}a(void 0)}))}}var b=(0,i.PH)("loadManagers"),j=(0,i.PH)("loadManagersWithComments"),x=(0,i.PH)("loadManager"),S=(0,i.PH)("addManagers"),O=(0,i.PH)("setScrollOptions"),P=(0,i.PH)("removeManagers"),w=(0,i.PH)("updateManagers"),C=(0,i.PH)("copyManagerAction"),k=(0,i.PH)("showManagers"),T=(0,i.PH)("changeShowFired"),N=(0,i.PH)("setTableDisplaySettings"),R=(0,i.PH)("loadTableDisplaySettings"),E=(0,i.PH)("setManagerListFilter"),D=(0,i.PH)("setBlockManager"),A=(0,i.PH)("setUnblockManager");function M(e){return function(){var t=g((function*(t){try{p.ZP.set("managerTableDisplaySettings",e),yield t(N(e)),n.T.success()}catch(e){console.error(e)}}));return function(e){return t.apply(this,arguments)}}()}function I(){return e=>{var t=m(m({},p.ZP.get("managerTableDisplaySettings")),{},{namePeriod:!0,positionPeriod:!0});e(R(t))}}function Z(e,t){return function(){var r=g((function*(r){try{var{response:i,success:l}=yield(0,a.t9)("v2/manager/copy",e);l&&(r(C(i.id)),n.T.success((0,h.jsx)(s.Z,{id:"Notifications.copyEmployee",defaultMessage:[{type:0,value:"Сотрудник скопирован."}]})),"function"==typeof t&&t(i.id))}catch(e){console.error("copyEmployee error = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function q(){return function(){var e=g((function*(e){try{var{response:t}=yield(0,a.t9)("v2/manager/read-all");e(b(t))}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}()}function F(){return function(){var e=g((function*(e){try{var{response:t}=yield(0,a.t9)("v2/manager/read-all-with-comments");e(j(t))}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}()}function L(e,t){return function(){var r=g((function*(r){try{var{response:i}=yield(0,a.t9)("v2/manager/read",{id:e});r(x(i)),t&&t(i)}catch(e){console.error(e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}var H=e=>(0,a.t9)("v2/manager/read",{id:e});function _(e,t){return function(){var r=g((function*(r){try{var{response:i,success:s}=yield(0,a.t9)("v2/manager/create",e);if(e.superuser=!1,e.rights&&e.rights.length&&(e.superuser=!!e.rights.find((e=>"settings"===e.action&&"CRUD"===e.permission))),s){var l=yield H(i.id);l.success&&(r(S(l.response)),n.T.success()),t&&t(i)}}catch(e){console.error(e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function B(e){return function(){var t=g((function*(t){try{var{success:r}=yield(0,a.t9)("v2/manager/delete",{id:e});r&&(t(P(e)),n.T.success())}catch(e){console.error(e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}var G=(e,t)=>function(){var r=g((function*(r){try{var i=(0,d.cC)((0,c.JC)(e)),{success:s}=yield(0,a.t9)("v2/manager/update",i);e.superuser=!1,e.rights&&e.rights.length&&(e.superuser=!!e.rights.find((e=>"settings"===e.action&&"CRUD"===e.permission))),s&&(r(w(e)),n.T.success(),"function"==typeof t&&t(e))}catch(e){console.log("editManager = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}();function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return g((function*(){try{yield(0,a.t9)("user-appoint-role/to-operator",e),t&&t(),n.T.success()}catch(e){console.error("appoinRoleToOperator error = ",e),(0,o.x)(e)}}))}function U(e,t,r){return function(){var i=g((function*(i){try{var{response:s,success:n}=yield(0,a.t9)("group-validity-period/create",e);n&&(i((0,u.setLastAddedHistoryItemId)(s.id)),i(w(t)),r&&r(e))}catch(e){console.error("addGroupValidityPeriod error = ",e)}}));return function(e){return i.apply(this,arguments)}}()}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.wA;return function(){var i=g((function*(i){try{var{response:s,success:n}=yield(0,a.t9)("user-name-validity-period/create",e);n&&(i((0,u.setLastAddedHistoryItemId)(s.id)),i(w(t)),r&&r())}catch(e){console.error("addFullName error = ",e)}}));return function(e){return i.apply(this,arguments)}}()}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.wA;return function(){var i=g((function*(i){try{var{response:s,success:n}=yield(0,a.t9)("position-validity-period/create",e);n&&(i((0,u.setLastAddedHistoryItemId)(s.id)),i(w(t)),r&&r())}catch(e){console.error("onAddPositionPeriod error =",e)}}));return function(e){return i.apply(this,arguments)}}()}function Y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.wA;return function(){var i=g((function*(i){try{var{response:s,success:n}=yield(0,a.t9)("user-zone-validity-period/create",e);n&&(i((0,u.setLastAddedHistoryItemId)(s.id)),i(w(t)),r&&r())}catch(e){console.error("addZonePeriod error =",e)}}));return function(e){return i.apply(this,arguments)}}()}function Q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.wA;return function(){var i=g((function*(i){try{var{response:s,success:n}=yield(0,a.t9)("office-validity-period/create",e);n&&(i((0,u.setLastAddedHistoryItemId)(s.id)),i(w(t)),r&&r())}catch(e){console.error("addOfficePeriod error =",e)}}));return function(e){return i.apply(this,arguments)}}()}function K(e){return function(){var t=g((function*(t){try{var{success:r}=yield(0,a.t9)("block-user",{id:e});r&&t(D(e))}catch(e){console.error(e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function X(e){return function(){var t=g((function*(t){try{var{success:r}=yield(0,a.t9)("unblock-user",{id:e});r&&t(A(e))}catch(e){console.error(e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},11146:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addOffice:()=>m,changeOffice:()=>g,createOffice:()=>S,deleteOffice:()=>P,editOffice:()=>O,fetchOffices:()=>x,importOffices:()=>w,loadOffices:()=>f,removeOffice:()=>v,setOfficesListFilter:()=>b,updateOffice:()=>y});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("loadOffices"),m=(0,i.PH)("addOffice"),v=(0,i.PH)("removeOffice"),y=(0,i.PH)("updateOffice"),g=(0,i.PH)("changeOffice"),b=(0,i.PH)("setOfficesListFilter"),j=(0,l.jsx)(s.Z,{id:"Notifications.couldNotDeletedOffice",defaultMessage:[{type:0,value:"Невозможно удалить офис."}]});function x(e){return function(){var t=h((function*(t){try{var{response:r}=yield(0,o.t9)("office/read-all");t(f(r)),e&&e(r)}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function S(e){return function(){var t=h((function*(t){try{var{response:r}=yield(0,o.t9)("office/create",e);yield t(m(d(d({},e),{},{id:r.id}))),n.T.success((0,l.jsx)(s.Z,{id:"Offices.addedNewOffice",defaultMessage:[{type:0,value:"Добавлен новый офис"}]}))}catch(e){console.log(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function O(e){return function(){var t=h((function*(t){try{yield(0,o.t9)("office/update",e),t(y(e)),n.T.success()}catch(e){console.log(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function P(e){return function(){var t=h((function*(t){try{var{success:r}=yield function(e){return(0,o.t9)("office/delete",{id:e})}(e);r&&(t(v(e)),n.T.success())}catch(e){console.error(e),(0,a.x)(e,j)}}));return function(e){return t.apply(this,arguments)}}()}function w(e){var{data:t,successCb:r,completeCb:i}=e;return h((function*(){try{yield(0,o.t9)("import/offices",t),n.T.success((0,l.jsx)(s.Z,{id:"Notifications.officesImported",defaultMessage:[{type:0,value:"Офисы импортированы."}]})),r&&r()}catch(e){console.error("importOffices error: ",e),(0,a.x)(e)}finally{i()}}))}},71319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addPermissionGroups:()=>m,createPermissionGroup:()=>j,deletePermissionGroup:()=>x,editPermissionGroup:()=>S,fetchHierarchyTree:()=>g,fetchPermissionGroups:()=>b,loadPermissionGroups:()=>f,removePermissionGroups:()=>v,updatePermissionGroups:()=>y});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(38646),l=r(42517);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("loadPermissionGroups"),m=(0,i.PH)("addPermissionGroups"),v=(0,i.PH)("removePermissionGroups"),y=(0,i.PH)("updatePermissionGroups");function g(){return function(){var e=h((function*(e){try{var{response:t}=yield(0,n.t9)("permission-group/read-hierarchy");e(f(t)),e((0,l.initCurrentGroupId)(t))}catch(e){console.log(e)}}));return function(t){return e.apply(this,arguments)}}()}function b(){return function(){var e=h((function*(e){try{var t=yield(0,n.ZP)("POST","permission-group/read-hierarchy"),r=yield t.json();(0,o.dw)(r.response).forEach((e=>{e.group=!0,e.name=e.groupName})),e(f(r.response)),e((0,l.initCurrentGroupId)(r.response))}catch(e){console.log(e)}}));return function(t){return e.apply(this,arguments)}}()}function j(e){return function(){var t=h((function*(t){try{var r=yield(0,n.ZP)("POST","permission-group/create",e),i=yield r.json();t(m(d(d({},e),{},{name:e.groupName,externalId:e.externalGroupId,id:i.response.id,children:[]}))),s.T.success()}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function x(e,t){return function(){var r=h((function*(r){return(0,n.t9)("permission-group/delete",{id:e}).then((()=>{r(v(e)),s.T.success(),t&&t(e)})).catch((e=>(0,a.x)(e)))}));return function(e){return r.apply(this,arguments)}}()}function S(e,t){return function(){var r=h((function*(r){try{var i=yield(0,n.ZP)("POST","permission-group/update",e);(yield i.json()).success?(s.T.success(),"function"==typeof t&&t()):(0,a.x)(),r(y(e))}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}},32138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{changePosition:()=>g,createPosition:()=>j,deletePosition:()=>P,fetchPositions:()=>x,positionAdded:()=>y,positionCreated:()=>p,positionDeleted:()=>v,positionFetched:()=>f,positionUpdated:()=>m,positionsFetched:()=>h,setPositionsListFilter:()=>b,updateAllPositions:()=>O,updatePosition:()=>S});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(30053),c=r(85893);function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("positionCreated"),h=(0,i.PH)("positionsFetched"),f=(0,i.PH)("positionFetched"),m=(0,i.PH)("positionUpdated"),v=(0,i.PH)("positionDeleted"),y=(0,i.PH)("positionAdded"),g=(0,i.PH)("changePosition"),b=(0,i.PH)("setPositionsListFilter");function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.wA;return function(){var r=u((function*(r){try{var i=yield(0,o.ZP)("POST","position/create",e),l=yield i.json();e.id=l.response.id,r(p(e)),t&&(t(e),n.T.success((0,c.jsx)(s.Z,{id:"Notifications.created",defaultMessage:[{type:0,value:"Создано."}]})))}catch(e){console.error("createPosition error: ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return function(){var i=u((function*(i){try{var s;(s=e?yield(0,o.t9)("position/read-by-group",{id:e}):yield(0,o.t9)("position/read-all")).success?(i(h(s.response)),"function"==typeof t&&t(s.response)):("function"==typeof r&&r(s.response),(0,a.x)())}catch(e){console.error("fetchPositions error = ",e),"function"==typeof r&&r(e),(0,a.x)(e)}}));return function(e){return i.apply(this,arguments)}}()}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.wA;return function(){var r=u((function*(r){try{var i=yield(0,o.ZP)("POST","position/update",e);(yield i.json()).success&&(t?(t(e),r(g(e)),n.T.success((0,c.jsx)(s.Z,{id:"Notifications.updated",defaultMessage:[{type:0,value:"Обновлено."}]}))):(0,a.x)())}catch(e){console.error("updatePosition error: ",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function O(e){return u((function*(){try{yield(0,o.ZP)("POST","position/update-all",e),n.T.success()}catch(e){console.error("updateAllOffices error: ",e),(0,a.x)(e)}}))}function P(e){return function(){var t=u((function*(t){try{yield(0,o.t9)("position/delete",{id:e}),t(v(e)),n.T.success((0,c.jsx)(s.Z,{id:"Notifications.deleted",defaultMessage:[{type:0,value:"Удалено."}]}))}catch(e){console.error("deletePosition error: ",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},16372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addMultiplePreference:()=>v,addPreference:()=>c,checkAllItems:()=>m,receiveChecked:()=>h,removeMultiplePreference:()=>g,removePreference:()=>p,removePreferences:()=>d,replaceMultiplePreference:()=>y,resetPreference:()=>u,setCheckAllCheckbox:()=>f});var i=r(81978),s=r(41524),n=r(82028),a=r(88599);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("addPreference"),d=(0,i.PH)("removePreferences"),u=(0,i.PH)("resetPreference"),p=(0,i.PH)("removePreference"),h=(0,i.PH)("receiveChecked"),f=(0,i.PH)("setCheckAllCheckbox"),m=(0,i.PH)("checkAllItems"),v=(e,t)=>l((function*(){try{var{success:r}=yield(0,n.t9)("v2/operator/batch/add-all",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("addMultiplePreference = ",e),(0,a.x)(e)}})),y=(e,t)=>l((function*(){try{var{success:r}=yield(0,n.t9)("v2/operator/batch/replace-all",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("replaceMultiplePreference = ",e),(0,a.x)(e)}})),g=(e,t)=>l((function*(){try{var{success:r}=yield(0,n.t9)("v2/operator/batch/remove-all",e);r&&(s.T.success(),"function"==typeof t&&t())}catch(e){console.error("removeMultiplePreference = ",e),(0,a.x)(e)}}))},98477:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearHolidays:()=>h,copyProductionCalendar:()=>R,createProductionCalendar:()=>k,createUserManualNormHours:()=>C,createUserNormHoursByCalendar:()=>w,deleteProductionCalendar:()=>E,fetchProductionCalendarByYear:()=>N,fetchProductionCalendarList:()=>O,fetchUserNormHours:()=>P,isNormHoursLoading:()=>S,receiveProductionCalendarByYear:()=>u,receiveProductionCalendarByYearError:()=>m,receiveProductionSimpleList:()=>d,receiveSavingData:()=>g,receiveSavingError:()=>b,receiveUserNormHours:()=>x,resetCalendarByYear:()=>v,resetSaving:()=>j,setCheckedHoliday:()=>p,setProductionCalendarByYearLoading:()=>f,setSavingLoading:()=>y,updateProductionCalendar:()=>T});var i=r(81978),s=r(41524),n=r(88599),a=r(82028),o=r(30053);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("receiveProductionSimpleList"),u=(0,i.PH)("receiveProductionCalendarByYear"),p=(0,i.PH)("setCheckedHoliday"),h=(0,i.PH)("clearHolidays"),f=(0,i.PH)("setProductionCalendarByYearLoading"),m=(0,i.PH)("receiveProductionCalendarByYearError"),v=(0,i.PH)("resetCalendarByYear"),y=(0,i.PH)("setSavingLoading"),g=(0,i.PH)("receiveSavingData"),b=(0,i.PH)("receiveSavingError"),j=(0,i.PH)("resetSaving"),x=(0,i.PH)("receiveUserNormHours"),S=(0,i.PH)("isNormHoursLoading");function O(){return function(){var e=c((function*(e){try{var{response:t,success:r}=yield(0,a.t9)("production-calendar/read-all-simple");r&&e(d(t))}catch(e){console.error(e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function P(e){return function(){var t=c((function*(t){t(S(!0));try{var{response:r,success:i}=yield(0,a.t9)("calendar-validity-period/read-by-user",{userId:e});i&&t(x(r)),t(S(!1))}catch(e){console.error("error in fetchUserNormHours",e),t(S(!1))}}));return function(e){return t.apply(this,arguments)}}()}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.wA;return c((function*(){try{var{success:r}=yield(0,a.t9)("calendar-validity-period/create",e);r&&(s.T.success(),"function"==typeof t()&&t())}catch(e){console.error(e),(0,n.x)(e)}}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.wA;return c((function*(){try{var{success:r}=yield(0,a.t9)("calendar-validity-period/create-manual",e);r&&(s.T.success(),"function"==typeof t()&&t())}catch(e){console.error(e),(0,n.x)(e)}}))}function k(e,t){return function(){var r=c((function*(r){r(y());try{var{response:i,success:o}=yield(0,a.t9)("production-calendar/create",e);o&&(s.T.success(),r(g({})),o&&"function"==typeof t&&t(i))}catch(e){r(b(e.message)),console.error(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function T(e,t){return function(){var r=c((function*(r){r(y());try{var{success:i}=yield(0,a.t9)("production-calendar/update",e);i&&(s.T.success(),r(g({})),i&&"function"==typeof t&&t())}catch(e){r(b(e.message)),console.error(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function N(e,t){return function(){var r=c((function*(r){r(f());try{var{response:i,success:s}=yield(0,a.t9)("production-calendar/read-by-year",e);s&&(r(u(i)),"function"==typeof t&&t(i))}catch(e){m(e.message),console.error(e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function R(e,t){return c((function*(){try{var{success:r}=yield(0,a.t9)("production-calendar/copy",{id:e});r&&"function"==typeof t&&t()}catch(e){console.error(e),(0,n.x)(e)}}))}function E(e,t){return c((function*(){try{var{success:r}=yield(0,a.t9)("production-calendar/delete",{id:e});r&&"function"==typeof t&&t()}catch(e){console.error(e),(0,n.x)(e)}}))}},43454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addMonitoringRule:()=>m,clearAllWorkActivities:()=>b,createMonitoringRule:()=>C,deleteMonitoringRule:()=>T,editPushNotifications:()=>u,fetchGlobalSettingsForPush:()=>x,fetchMonitoringRules:()=>w,fetchPushNotifications:()=>j,loadMonitoringRules:()=>f,loadPushNotifications:()=>d,removeMonitoringRule:()=>v,setLoadingPush:()=>p,setSwitchNotifications:()=>h,setSwitchWorkShiftsActivities:()=>y,setWorkActivitiesInNotifications:()=>g,updateAllGlobalSettings:()=>P,updateAllPushNotifications:()=>O,updateMonitoringRule:()=>k,updatePushNotifications:()=>S});var i=r(81978),s=r(67708),n=r(88599),a=r(82028),o=r(25944);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))}}var d=(0,i.PH)("loadPushNotifications"),u=(0,i.PH)("editPushNotification"),p=(0,i.PH)("setLoadingPush"),h=(0,i.PH)("setSwitchNotifications"),f=(0,i.PH)("loadMonitoringRules"),m=(0,i.PH)("addMonitoringRule"),v=(0,i.PH)("removeMonitoringRule"),y=(0,i.PH)("setSwitchWorkShiftsActivities"),g=(0,i.PH)("setWorkActivitiesInNotifications"),b=(0,i.PH)("clearAllWorkActivities");function j(e){return function(){var t=c((function*(t){try{var r=yield(0,a.ZP)("POST","notification-message/read-all-custom"),i=yield r.json();i.success&&(t(d(i.response,i.response)),"function"==typeof e&&e())}catch(e){(0,n.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function x(e){return function(){var t=c((function*(t){try{t(p(!0));var r=yield(0,a.ZP)("POST","global-setting/read-all"),i=yield r.json();i.success&&(t((0,o.loadGlobalSettings)(i.response,i.response)),"function"==typeof e&&e()),t(p(!1))}catch(e){(0,n.x)(e),t(p(!1))}}));return function(e){return t.apply(this,arguments)}}()}function S(e,t){return function(){var r=c((function*(r){try{var i=yield(0,a.ZP)("POST","notification-message/update",e);(yield i.json()).success&&"function"==typeof t&&t(),r(u(e))}catch(e){console.error("updatePushNotifications = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function O(e,t){return function(){var r=c((function*(r){try{var i=yield(0,a.ZP)("POST","notification-message/update-all",e);(yield i.json()).success&&"function"==typeof t&&t(),r(u(e))}catch(e){console.error("updateAllPushNotifications = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function P(e,t){return function(){var r=c((function*(r){try{var i=yield(0,a.ZP)("POST","global-setting/update-all",e);(yield i.json()).success&&(r(x()),"function"==typeof t&&t())}catch(e){console.error("updateAllGlobalSettings = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function w(){return function(){var e=c((function*(e){try{var{response:t,success:r}=yield(0,a.t9)("monitoring/notify-rule/read-all");r&&e(f(t))}catch(e){console.error("fetchMonitoringRules error = ",e),(0,n.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function C(e,t){return function(){var r=c((function*(r){try{var{response:i}=yield(0,a.t9)("monitoring/notify-rule/create",e);yield r(m(i)),t&&t(),s.Z.success()}catch(e){console.error("createMonitoringRule error = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function k(e,t){return c((function*(){try{yield(0,a.t9)("monitoring/notify-rule/update",e),t&&t(),s.Z.success()}catch(e){console.log("updateMonitoringRule = ",e),(0,n.x)(e)}}))}function T(e,t){return function(){var r=c((function*(r){try{yield(0,a.t9)("monitoring/notify-rule/delete",{id:e}),t&&t(),r(v(e)),s.Z.success()}catch(e){console.log("deleteMonitoringRule = ",e),(0,n.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}},56664:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addQueue:()=>y,changeQueue:()=>k,createQueue:()=>R,deleteQueue:()=>E,editQueue:()=>D,fetchGroups:()=>w,fetchQueues:()=>N,fetchQueuesHierarchy:()=>T,getGroups:()=>C,hierarchyFetched:()=>x,importQueues:()=>M,loadQueue:()=>v,loadedGroups:()=>S,readQueue:()=>g,removeQueue:()=>b,setQueuesListFilter:()=>O,updateAllQueues:()=>A,updateQueue:()=>j});var i=r(44012),s=r(81978),n=r(41524),a=r(35667),o=r(82028),l=r(88599),c=r(22350),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){f(n,i,s,a,o,"next",e)}function o(e){f(n,i,s,a,o,"throw",e)}a(void 0)}))}}var v=(0,s.PH)("loadQueue"),y=(0,s.PH)("addQueue"),g=(0,s.PH)("readQueue"),b=(0,s.PH)("removeQueue"),j=(0,s.PH)("updateQueue"),x=(0,s.PH)("hierarchyFetched"),S=(0,s.PH)("loadedGroups"),O=(0,s.PH)("setQueuesListFilter"),P=(0,d.jsx)(i.Z,{id:"Notifications.failedToImportQueues",defaultMessage:[{type:0,value:"Не удалось импортировать очереди."}]});function w(){return(0,o.t9)("permission-group/read-hierarchy")}function C(){return function(){var e=m((function*(e){try{var{error:t,response:r}=yield w();if(!t){var i=(0,c.rH)(r);e(S(i))}}catch(t){console.error("getGroups error: ",t)}}));return function(t){return e.apply(this,arguments)}}()}function k(e){return t=>{t(j(e))}}function T(e){if(console.warn("fetchQueuesHierarchy is deprecated"),(0,a.xb)(e))throw Error("groupId is required in fetchSkills");return function(){var t=m((function*(t){try{var r=yield(0,o.ZP)("POST","skill/naming/read-by-group",{id:e}),i=yield r.json();t(x(i.response))}catch(e){console.error("fetchQueuesHierarchy = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupId:void 0};return function(){var t=m((function*(t){try{var r;r=e.groupId?yield(0,o.ZP)("POST","skill/naming/read-by-group",{id:e.groupId}):yield(0,o.ZP)("POST","skill/read-all");var i=yield r.json();t(v(i.response))}catch(e){console.error("fetchQueues error: ",e)}}));return function(e){return t.apply(this,arguments)}}()}function R(e,t){return function(){var r=m((function*(r){try{var i=yield(0,o.t9)("queue/create",e);r(y(p(p({},e),{},{id:i.response.id}))),t&&t(),n.T.success()}catch(e){(0,l.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function E(e){return function(){var t=m((function*(t){try{yield(0,o.t9)("queue/delete",{id:e}),t(b(e)),N()(t),n.T.success()}catch(e){console.error("deleteQueue error: ",e),(0,l.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function D(e){return function(){var t=m((function*(t){try{var{success:r}=yield(0,o.t9)("queue/update",e);r&&t(),n.T.success()}catch(e){console.error("editQueue error: ",e),(0,l.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function A(e){return m((function*(){try{yield(0,o.t9)("queue/update-all",e),n.T.success()}catch(e){console.error("updateAllQueues error:",e),(0,l.x)(e)}}))}function M(e){var{data:t,successCb:r,completeCb:s}=e;return m((function*(){try{yield(0,o.t9)("import/queues",t),n.T.success((0,d.jsx)(i.Z,{id:"Notifications.queuesImported",defaultMessage:[{type:0,value:"Очереди импортированы."}]})),r&&r()}catch(e){console.error("importQueues error: ",e),(0,l.x)(e,P)}finally{s&&s()}}))}},98034:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addNewBundle:()=>d,deleteActivitySetting:()=>p,editingPseudoName:()=>u,fetchSpecifyingBundle:()=>m,receiveSpecifyingBundle:()=>c,resetSpecifyingBundle:()=>f,setSpecifyingBundleListFilter:()=>h,updateSpecifyingBundle:()=>v});var i=r(81978),s=r(67708),n=r(88599),a=r(82028);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("receiveSpecifyingBundle"),d=(0,i.PH)("addNewBundle"),u=(0,i.PH)("editingPseudoName"),p=(0,i.PH)("deleteActivitySetting"),h=(0,i.PH)("setSpecifyingBundleListFilter"),f=(0,i.PH)("resetSpecifyingBundle"),m=e=>function(){var t=l((function*(t){try{var{response:r,success:i}=yield(0,a.t9)("pep-setting/read-setting");t(c(r)),i&&"function"==typeof e&&e()}catch(e){console.error("fetchSpecifyingBundle = ",e),(0,n.x)(e)}}));return function(e){return t.apply(this,arguments)}}();function v(e,t){return l((function*(){try{var{success:r}=yield(0,a.t9)("pep-setting/update",e);r&&"function"==typeof t&&t(),s.Z.success()}catch(e){console.error("updateSpecifyingBundle = ",e),(0,n.x)(e)}}))}},82162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addLine:()=>P,addSkill:()=>O,checkHasErlang:()=>ee,clearQueuesErlang:()=>A,createLine:()=>K,createSkill:()=>V,deleteLine:()=>Q,deleteQueue:()=>Y,deleteSkill:()=>z,editLine:()=>$,editQueue:()=>U,editSkill:()=>G,fetchLine:()=>J,fetchLineByQueue:()=>H,fetchQueue:()=>X,fetchQueueBySkill:()=>L,fetchQueuesErlang:()=>I,fetchSkill:()=>B,fetchSkillsByGroup:()=>q,fetchSkillsListByGroup:()=>F,isLinesLoading:()=>R,isQueuesLoading:()=>N,lineFetch:()=>y,queueFetch:()=>v,receiveQueuesErlang:()=>D,removeLine:()=>k,removeQueue:()=>C,removeSkill:()=>w,setHasErlang:()=>E,setLoading:()=>T,setSkillDataByQueue:()=>M,setSkillOptions:()=>b,skillFetch:()=>g,skillsFetch:()=>f,skillsListFetch:()=>m,updateLine:()=>S,updateQueue:()=>x,updateQueuesErlang:()=>Z,updateSkill:()=>j,updateSkills:()=>W});var i=r(81978),s=r(72772),n=r(41524),a=r(12718),o=r(88599),l=r(82028);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){p(n,i,s,a,o,"next",e)}function o(e){p(n,i,s,a,o,"throw",e)}a(void 0)}))}}var f=(0,i.PH)("skillsFetch"),m=(0,i.PH)("skillsListFetch"),v=(0,i.PH)("queueFetch"),y=(0,i.PH)("lineFetch"),g=(0,i.PH)("skillFetch"),b=(0,i.PH)("setSkillOptions"),j=(0,i.PH)("updateSkill"),x=(0,i.PH)("updateQueue"),S=(0,i.PH)("updateLine"),O=(0,i.PH)("addSkill"),P=(0,i.PH)("addLine"),w=(0,i.PH)("removeSkill"),C=(0,i.PH)("removeQueue"),k=(0,i.PH)("removeLine"),T=(0,i.PH)("setLoading"),N=(0,i.PH)("isQueuesLoading"),R=(0,i.PH)("isLinesLoading"),E=(0,i.PH)("setHasErlang"),D=(0,i.PH)("receiveQueuesErlang"),A=(0,i.PH)("clearQueuesErlang"),M=(0,i.PH)("setSkillDataByQueue");function I(e){return function(){var t=h((function*(t){try{var{response:r}=yield(0,l.t9)("queue/erlang",e);t(D(r))}catch(e){console.error("fetchQueuesErlang = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function Z(e,t){return function(){var r=h((function*(r){try{var{success:i}=yield(0,l.t9)("queue/batch/edit",e);i&&"function"==typeof t&&(t(),r(A())),n.T.success()}catch(e){console.error("fetchQueuesErlang = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function q(e){return function(){var t=h((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("skill/naming/read-by-group",{id:e});i&&t(f(r))}catch(e){(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function F(e){return function(){var t=h((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("skill/naming/read-list-by-group",{id:e});i&&t(m(r))}catch(e){console.error("fetchSkillsListByGroup error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function L(e){return function(){var t=h((function*(t){try{t(N({skillId:e,loading:!0}));var{response:r,success:i}=yield(0,l.t9)("skill/naming/read-list-by-skill",{id:e});i&&t(v(r))}catch(e){console.error("fetchQueueBySkill error = ",e),(0,o.x)(e)}finally{t(N({skillId:e,loading:!1}))}}));return function(e){return t.apply(this,arguments)}}()}function H(e,t){return function(){var r=h((function*(r){try{r(R({queueId:e,skillId:t,loading:!0}));var{response:i,success:s}=yield(0,l.t9)("line/naming/read-list-by-queue",{id:e});s&&r(y({data:i,skillId:t}))}catch(e){console.error("fetchLineByQueue error = ",e),(0,o.x)(e)}finally{r(R({queueId:e,skillId:t,loading:!1}))}}));return function(e){return r.apply(this,arguments)}}()}var _=e=>d(d({},e),{},{groups:e.groups.map((e=>e.id))});function B(e){return function(){var t=h((function*(t){try{t(T(!0));var{response:r,success:i}=yield(0,l.t9)("skill/read",{id:e});i&&(t((0,s.j2)(a.FORM_NAMES.SKILL,_(r))),t(M(r)))}catch(e){console.error("fetchSkill error = ",e),(0,o.x)(e)}finally{t(T(!1))}}));return function(e){return t.apply(this,arguments)}}()}function G(e){return function(){var t=h((function*(t){try{var{success:r}=yield(0,l.t9)("skill/update",e);r&&t(j({id:e.id,name:e.name})),n.T.success()}catch(e){console.error("editSkill error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function W(e,t){return h((function*(){try{var{success:r}=yield(0,l.t9)("skill/batch/edit",e);r&&(n.T.success(),t&&"function"==typeof t&&t())}catch(e){console.error("updateSkills error = ",e),(0,o.x)(e)}}))}function U(e){return function(){var t=h((function*(t){try{var{success:r}=yield(0,l.t9)("queue/update",e);r&&t(x({id:e.id,name:e.name,skillId:e.skillId})),n.T.success()}catch(e){console.error("editQueue error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function V(e,t){return h((function*(){try{var{success:r}=yield(0,l.t9)("skill/create",e);r&&t&&t(),n.T.success()}catch(e){console.error("createSkill error = ",e),(0,o.x)(e)}}))}function z(e){return function(){var t=h((function*(t){try{var{success:r}=yield(0,l.t9)("skill/delete",{id:e});r&&t(w(e)),n.T.success()}catch(e){console.error("deleteSkill error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function Y(e){var{id:t,skillId:r}=e;return function(){var e=h((function*(e){try{var{success:i}=yield(0,l.t9)("queue/delete",{id:t});i&&e(C({queueId:t,skillId:r})),n.T.success()}catch(e){console.error("deleteQueue error: ",e),(0,o.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function Q(e){var{id:t,queueId:r,skillId:i}=e;return function(){var e=h((function*(e){try{var{success:s}=yield(0,l.t9)("line/delete",{id:t});s&&e(k({lineId:t,queueId:r,skillId:i})),n.T.success()}catch(e){(0,o.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function K(e,t){return function(){var r=h((function*(r){try{var{response:i,success:s}=yield(0,l.t9)("line/create",e);s&&(t&&t(i),r(P(d(d({},e),{},{id:i.id})))),n.T.success()}catch(e){console.error("createLine error = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function X(e,t){return function(){var r=h((function*(r){try{var{response:i,success:n}=yield(0,l.t9)("queue/read",{id:e});n&&(r((0,s.j2)(a.FORM_NAMES.QUEUE,i)),t&&t())}catch(e){console.log(e)}}));return function(e){return r.apply(this,arguments)}}()}function J(e,t){return function(){var r=h((function*(r){try{var{response:i,success:n}=yield(0,l.t9)("line/read",{id:e});n&&(r((0,s.j2)(a.FORM_NAMES.LINE,i)),t&&t())}catch(e){(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function $(e,t){return function(){var r=h((function*(r){try{var{success:i}=yield(0,l.t9)("line/update",e);i&&(r(S({id:e.id,name:e.name,queueId:e.queueId,skillId:e.skillId})),t&&t()),n.T.success()}catch(e){console.error("editLine error = ",e),(0,o.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function ee(e){return function(){var t=h((function*(t){try{var{response:r,success:i}=yield(0,l.t9)("queue/erlang/count",{id:e});i&&t(E(r))}catch(e){console.error("checkHasErlang error = ",e),(0,o.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}},72633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchSpecialDays:()=>u,specialDayCreated:()=>l,specialDayDeleted:()=>d,specialDayUpdated:()=>c,specialDaysFetched:()=>o});var i=r(81978),s=r(88599),n=r(82028);function a(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var o=(0,i.PH)("specialDaysFetched"),l=(0,i.PH)("specialDayCreated"),c=(0,i.PH)("specialDayUpdated"),d=(0,i.PH)("specialDayDeleted");function u(e,t){return function(){var r,i=(r=function*(r){try{var i=yield(0,n.t9)("special-day/read-period",e);r(o(i.response)),t&&t(i.response)}catch(e){console.error("fetchSpecialDays error = ",e),(0,s.x)(e)}},function(){var e=this,t=arguments;return new Promise((function(i,s){var n=r.apply(e,t);function o(e){a(n,i,s,o,l,"next",e)}function l(e){a(n,i,s,o,l,"throw",e)}o(void 0)}))});return function(e){return i.apply(this,arguments)}}()}},38886:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchAllSetting:()=>u,setLoading:()=>d,setSwapSetting:()=>c,updateGlobalSettings:()=>p});var i=r(81978),s=r(41524),n=r(82028),a=r(88599),o=r(68757);function l(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var c=(0,i.PH)("setSwapSetting"),d=(0,i.PH)("setLoading");function u(){return function(){var e,t=(e=function*(e){try{e(d(!0));var t=yield(0,n.ZP)("POST","global-setting/read-all"),r=yield t.json(),{response:i,error:s}=r;if(s)(0,a.x)();else{var l=(0,o.X_)(i);e(c(l))}e(d(!1))}catch(s){console.error("fetchAllSetting error: ",s),(0,a.x)(s),e(d(!1))}},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){l(n,i,s,a,o,"next",e)}function o(e){l(n,i,s,a,o,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function p(e){return()=>{Promise.all(Object.keys(e).map((t=>{var r=e[t];return(0,n.t9)("global-setting/update",{key:t,value:r})}))).then((()=>{s.T.success()})).catch((e=>{(0,a.x)(e),console.error("updateGlobalSettings error = ",e)}))}}},49489:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addTaskTemplate:()=>S,createTaskTemplate:()=>b,deleteTaskTemplate:()=>w,fetchTaskTemplate:()=>O,fetchTaskTemplates:()=>j,fetchTaskTemplatesByTaskGroup:()=>g,fetchTasksWithSubtaskTemplates:()=>x,taskTemplateAdded:()=>y,taskTemplateCreated:()=>u,taskTemplateDeleted:()=>v,taskTemplateFetched:()=>f,taskTemplateUpdated:()=>m,taskTemplatesFetched:()=>p,tasksWithSubtaskTemplatesFetched:()=>h,updateTaskTemplate:()=>P});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(85893);function c(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){c(n,i,s,a,o,"next",e)}function o(e){c(n,i,s,a,o,"throw",e)}a(void 0)}))}}var u=(0,i.PH)("taskTemplateCreated"),p=(0,i.PH)("taskTemplatesFetched"),h=(0,i.PH)("taskTemplatesFetched"),f=(0,i.PH)("taskTemplateFetched"),m=(0,i.PH)("taskTemplateUpdated"),v=(0,i.PH)("taskTemplateDeleted"),y=(0,i.PH)("taskTemplateAdded");function g(e){return function(){var t=d((function*(t){return(0,o.t9)("user-task-template/read-by-tasks-group",{taskGroupId:e}).then((e=>t(p(e.response))))}));return function(e){return t.apply(this,arguments)}}()}function b(e,t){return function(){var r=d((function*(r){try{var i=yield(0,o.ZP)("POST","user-task-template/create",e),s=yield i.json();s.success?(e.id=s.response.id,(0,o.t9)("user-task-template/read",{id:s.response.id}).then((e=>{t&&t(e.response),r(u(e.response))})),n.T.success()):(0,a.x)()}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function j(e,t){return function(){var r=d((function*(r){try{var i;i=e&&e.id?yield(0,o.ZP)("POST","user-task-template/read-all-by-group",e):yield(0,o.ZP)("POST","user-task-template/read-all");var s=yield i.json();s.success?(r(p(s.response)),t&&t(s.response)):(0,a.x)()}catch(e){console.log(e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function x(e,t){return function(){var r=d((function*(r){try{var{response:i,success:s}=yield(0,o.t9)("user-task-template/read-all-with-subtasks",e);s&&(r(h(i)),t&&t(i))}catch(e){console.error("fetchSubtaskTemplates error =",e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=d((function*(t){try{t(y(e))}catch(e){console.log(e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function O(e,t){var{id:r}=e;return function(){var e=d((function*(e){try{var{response:i}=yield(0,o.t9)("user-task-template/read",{id:r});e(m(i)),t&&t(i)}catch(e){console.error("fetchTaskTemplate error = ",e),(0,a.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function P(e,t){return d((function*(){try{var{success:r,response:i}=yield(0,o.t9)("user-task-template/update",e);r&&(t&&t(i),n.T.success((0,l.jsx)(s.Z,{id:"Notifications.updated",defaultMessage:[{type:0,value:"Обновлено."}]})))}catch(e){console.error("updateTaskTemplate error = ",e),(0,a.x)(e)}}))}function w(e,t){return function(){var r=d((function*(r){try{var{success:i}=yield(0,o.t9)("user-task-template/delete",{id:e.id});i&&(r(v(e)),t&&t(e),n.T.success((0,l.jsx)(s.Z,{id:"Notifications.deleted",defaultMessage:[{type:0,value:"Удалено."}]})))}catch(e){console.error(e),(0,a.x)(e)}}));return function(e){return r.apply(this,arguments)}}()}},65062:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createTaskGroup:()=>y,deleteTaskGroup:()=>b,editTaskGroup:()=>g,fetchTasksGroupsHierarchy:()=>v,taskGroupCreated:()=>f,taskGroupDeleted:()=>h,taskGroupUpdated:()=>m,tasksGroupsHierarchyFetched:()=>p});var i=r(81978),s=r(41524),n=r(88599),a=r(82028);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){d(n,i,s,a,o,"next",e)}function o(e){d(n,i,s,a,o,"throw",e)}a(void 0)}))}}var p=(0,i.PH)("tasksGroupsHierarchyFetched"),h=(0,i.PH)("taskGroupDeleted"),f=(0,i.PH)("taskGroupCreated"),m=(0,i.PH)("taskGroupUpdated");function v(e){return function(){var t=u((function*(t){return(0,a.t9)("user-task-group/read-all",{}).then((r=>{t(p(r.response)),e&&e(r.response)})).catch((e=>{console.log(e),(0,n.x)(e)}))}));return function(e){return t.apply(this,arguments)}}()}function y(e,t){return function(){var r=u((function*(r){return(0,a.t9)("user-task-group/create",e).then((i=>{var n=l(l({},e),i.response);r(f(n)),t&&t(n),s.T.success()})).catch((e=>{console.log(e),(0,n.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function g(e,t){return function(){var r=u((function*(r){return(0,a.t9)("user-task-group/update",e).then((()=>{r(m(e)),t&&t(e),s.T.success()})).catch((e=>{console.log(e),(0,n.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}function b(e,t){return function(){var r=u((function*(r){return(0,a.t9)("user-task-group/delete",{id:e}).then((()=>{r(h(e)),t&&t(e),s.T.success()})).catch((e=>{console.log(e),(0,n.x)(e)}))}));return function(e){return r.apply(this,arguments)}}()}},87271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchUserStatus:()=>c,receiveUserStatuses:()=>o,setUserStatusListFilter:()=>l});var i=r(81978),s=r(82028),n=r(88599);function a(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var o=(0,i.PH)("receiveUserStatuses"),l=(0,i.PH)("setUserStatusListFilter");function c(){return function(){var e,t=(e=function*(e){try{var{response:t}=yield(0,s.t9)("user-status/read-all");e(o(t))}catch(e){console.log("fetchUserStatus = ",e),(0,n.x)(e)}},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(e){a(n,i,s,o,l,"next",e)}function l(e){a(n,i,s,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()}},45913:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addAll:()=>p,editTotal:()=>d,receiveVacationDataMultiEdit:()=>c,removeVacationDataMultiEdit:()=>u,replaceAll:()=>h});var i=r(81978),s=r(41524),n=r(82028),a=r(88599);function o(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){o(n,i,s,a,l,"next",e)}function l(e){o(n,i,s,a,l,"throw",e)}a(void 0)}))}}var c=(0,i.PH)("receiveVacationDataMultiEdit"),d=(0,i.PH)("editTotal"),u=(0,i.PH)("removeVacationDataMultiEdit");function p(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("v2/operator/batch/add-all",e);r&&(t(),s.T.success())}catch(e){console.error("addAll error = ",e),(0,a.x)(e)}}))}function h(e,t){return l((function*(){try{var{success:r}=yield(0,n.t9)("v2/operator/batch/replace-all",e);r&&(t(),s.T.success())}catch(e){console.error("replaceAll error = ",e),(0,a.x)(e)}}))}},21737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addWorkActivity:()=>x,createAutoReplaceableActivities:()=>q,createWorkActivity:()=>_,createWorkActivityTableDisplaySettings:()=>D,deleteAutoReplaceableActivity:()=>L,deleteWorkActivity:()=>B,editWorkActivity:()=>U,fetchAbsenceWorkActivities:()=>I,fetchAllWorkActivities:()=>M,fetchAutoReplaceableActivities:()=>Z,fetchTableDisplaySettings:()=>A,fetchTimeSheets:()=>H,importWorkActivities:()=>V,loadTableDisplaySettings:()=>w,receiveAbsenceWorkActivities:()=>g,receiveAllWorkActivityData:()=>y,receiveAllWorkActivityError:()=>b,removeAutoReplaceableWorkActivities:()=>R,removeWorkActivity:()=>S,resetAllWorkActivity:()=>j,setAllWorkActivityLoading:()=>v,setAutoChangeBunchId:()=>O,setAutoReplaceableWorkActivities:()=>N,setTableDisplaySettings:()=>P,setWorkActivitiesListFilter:()=>T,timeSheetsFetched:()=>k,updateAutoReplaceableActivities:()=>F,updateWorkActivity:()=>C,updateWorkActivityAll:()=>W,updateWorkActivityPush:()=>G});var i=r(81978),s=r(44012),n=r(41524),a=r(88599),o=r(82028),l=r(69355),c=r(64068),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){f(n,i,s,a,o,"next",e)}function o(e){f(n,i,s,a,o,"throw",e)}a(void 0)}))}}var v=(0,i.PH)("setAllWorkActivityLoading"),y=(0,i.PH)("receiveAllWorkActivityData"),g=(0,i.PH)("receiveAbsenceWorkActivities"),b=(0,i.PH)("receiveAllWorkActivityError"),j=(0,i.PH)("resetAllWorkActivity"),x=(0,i.PH)("addWorkActivity"),S=(0,i.PH)("removeWorkActivity"),O=(0,i.PH)("setAutoChangeBunchId"),P=(0,i.PH)("setTableDisplaySettings"),w=(0,i.PH)("loadTableDisplaySettings"),C=(0,i.PH)("updateWorkActivity"),k=(0,i.PH)("timeSheetsFetched"),T=(0,i.PH)("setWorkActivitiesListFilter"),N=(0,i.PH)("setAutoReplaceableWorkActivities"),R=(0,i.PH)("removeAutoReplaceableWorkActivities"),E=(0,d.jsx)(s.Z,{id:"Notifications.failedToImportWorkActivity",defaultMessage:[{type:0,value:"Не удалось импортировать Активности WFM."}]});function D(e){return function(){var t=m((function*(t){try{l.ZP.set("workActivityTableDisplaySettings",e),yield t(P(e)),n.T.success()}catch(e){console.error("createWorkActivityTableDisplaySettings error = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function A(){return e=>{var t=l.ZP.get("workActivityTableDisplaySettings",{name:!0,externalId:!0,color:!0});e(w(t))}}function M(e){return function(){var t=m((function*(t){try{t(v());var{response:r,success:i}=yield(0,o.t9)("work-activity/read-all");i&&(t(y(r)),e&&e(r)),e&&e(r)}catch(e){t(b(e.message)),console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function I(e){return function(){var t=m((function*(t){try{var{response:r,success:i}=yield(0,o.t9)("work-activity/absence");i&&(t(g(r)),e&&e(r))}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function Z(e){return function(){var t=m((function*(t){try{var{response:r,success:i}=yield(0,o.t9)("work-activity/auto-replace/read-all");i&&t(N(r)),e&&e(r)}catch(e){console.log(e)}}));return function(e){return t.apply(this,arguments)}}()}function q(e,t){return m((function*(){try{var{success:r}=yield(0,o.t9)("work-activity/auto-replace/create",e);r&&"function"==typeof t&&t(),n.T.success()}catch(e){console.log(e),(0,a.x)(e)}}))}function F(e,t){return m((function*(){try{var{success:r}=yield(0,o.t9)("work-activity/auto-replace/update",e);r&&"function"==typeof t&&t(),n.T.success()}catch(e){console.log(e),(0,a.x)(e)}}))}function L(e){return function(){var t=m((function*(t){try{yield(0,o.t9)("work-activity/auto-replace/delete",{id:e}),t(R(e)),n.T.success()}catch(e){console.error("removeAutoReplaceableActivities = ",e)}}));return function(e){return t.apply(this,arguments)}}()}function H(){return function(){var e=m((function*(e){try{var{response:t}=yield(0,o.t9)("timesheet/read-all");e(k(t))}catch(e){console.log("fetchTimeSheets error: ",e)}}));return function(t){return e.apply(this,arguments)}}()}function _(e,t){var{color:r}=e,i=p(p({},e),{},{draftColor:r}),s=(0,c.ln)(i);return function(){var e=m((function*(e){try{var{response:r,success:l}=yield(0,o.t9)("work-activity/create",s);l&&(e(x(p(p({},i),{},{id:r.id}))),n.T.success(),t&&"function"==typeof t&&t())}catch(e){console.error("createWorkActivity error: ",e),(0,a.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function B(e){return function(){var t=m((function*(t){try{yield(0,o.t9)("work-activity/delete",{id:e}),t(S(e)),n.T.success()}catch(e){console.error("deleteWorkActivity error: ",e),(0,a.x)(e)}}));return function(e){return t.apply(this,arguments)}}()}function G(e){return()=>{Promise.all(Object.keys(e).map((t=>{var r=e[t];return(0,o.t9)("work-activity/update",r)}))).then((()=>{n.T.success()})).catch((e=>{(0,a.x)(e),console.log("updateWorkActivity error = ",e)}))}}function W(e,t){return m((function*(){try{yield(0,o.t9)("work-activity/update-all",e),n.T.success(),t&&t()}catch(e){console.log("updateWorkActivityAll error",e),(0,a.x)(e)}}))}function U(e,t){var{color:r}=e,i=p(p({},e),{},{draftColor:r}),l=(0,c.ln)(e);return function(){var e=m((function*(e){try{var{success:r}=yield(0,o.t9)("work-activity/update",l);r&&(e(C(i)),n.T.success((0,d.jsx)(s.Z,{id:"Notifications.activitySavedSuccess",defaultMessage:[{type:0,value:"Активность успешно сохранена"}]})),"function"==typeof t&&t())}catch(e){console.log("editWorkActivity error: ",e),(0,a.x)(e)}}));return function(t){return e.apply(this,arguments)}}()}function V(e){var{data:t,successCb:r,completeCb:i}=e;return m((function*(){try{yield(0,o.t9)("import/work-activities",t),n.T.success((0,d.jsx)(s.Z,{id:"Notifications.workActivityImported",defaultMessage:[{type:0,value:"Активности WFM импортированы."}]})),r&&r()}catch(e){console.error("importWorkActivity error = ",e),(0,a.x)(e,E)}finally{i&&i()}}))}},26308:(e,t,r)=>{"use strict";r.d(t,{D5:()=>o,Qn:()=>a,gD:()=>n,kb:()=>d,pm:()=>l,xp:()=>c});var i=r(44012),s=r(85893),n={id:"ExternalSystems.absent",defaultMessage:"Отсутствует"},a={id:"ExternalSystems.notDetermined",defaultMessage:"Не определен"},o={id:"default_external_system",defaultMessage:"Внешняя система"},l=(0,s.jsx)(i.Z,{id:"ExternalSystems.labelNumber",defaultMessage:[{type:0,value:"ID"}]}),c=(0,s.jsx)(i.Z,{id:"ExternalSystems.labelName",defaultMessage:[{type:0,value:"Название"}]}),d=(0,s.jsx)(i.Z,{id:"ExternalSystems.labelExternalSystems",defaultMessage:[{type:0,value:"Внешние системы"}]})},12828:(e,t,r)=>{"use strict";r.d(t,{GJ:()=>n,eM:()=>a});var i=r(44012),s=r(85893),n=(i.Z,i.Z,(0,s.jsx)(i.Z,{id:"Manager.Schedule.PersonnelNumber",defaultMessage:[{type:0,value:"Табельный номер"}]})),a={id:"Manager.Schedule.TelephonyId",defaultMessage:"Логин внешней системы"}},73282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(30381),s=r.n(i),n=r(15113),a=r(56089),o=r(40767),l=r(43637),c=r(65227),d=r(35667),u=r(85893),p=s()("1920-01-01"),h=e=>{var{input:{onChange:t,value:r},className:i,buttonLabel:s,buttonLabelClassName:n}=e,h=(0,c.zO)(c.vc);return(0,d.xb)(r)?(0,u.jsx)(o.Z,{className:n,onClick:()=>t(h),children:s}):(0,u.jsxs)("div",{children:[(0,u.jsx)(a.Z,{className:i,onChange:t,minDate:p,date:r||h,dateFormat:c.vc,minYear:1920}),(0,u.jsx)(o.Z,{onClick:()=>{t(null)},children:(0,u.jsx)(l.ZP,{glyph:l.Tw})})]})};h.propTypes=n.oX;const f=h},85027:(e,t,r)=>{"use strict";r.d(t,{AO:()=>O,Ad:()=>p,Bh:()=>L,HD:()=>U,Ip:()=>H,LT:()=>y,Oz:()=>c,Sh:()=>u,T_:()=>h,UR:()=>q,VY:()=>o,Vf:()=>D,WC:()=>d,WI:()=>C,Wh:()=>W,XY:()=>M,_J:()=>w,_d:()=>B,_h:()=>E,aj:()=>N,cn:()=>j,dL:()=>F,f4:()=>A,fq:()=>Z,iY:()=>R,it:()=>l,js:()=>x,lA:()=>V,mO:()=>m,mz:()=>I,nH:()=>z,oL:()=>f,qb:()=>S,rN:()=>T,sT:()=>P,tl:()=>G,u9:()=>_,ub:()=>v,xS:()=>k,xl:()=>g,yy:()=>b});var i=r(44012),s=r(12718),n=r(65227),a=r(85893),o={startDate:s.ZP.START_OF_TIME,endDate:s.ZP.END_OF_TIME},l={startDate:(0,n.b7)((0,n.zO)()),endDate:s.ZP.END_OF_TIME},c={start:(0,n.b7)((0,n.zO)()),end:s.ZP.END_OF_TIME},d=(0,a.jsx)(i.Z,{id:"ManagerForm.control",defaultMessage:[{type:0,value:"Управление"}]}),u=(0,a.jsx)(i.Z,{id:"ManagerForm.schedule",defaultMessage:[{type:0,value:"Расписание"}]}),p=(0,a.jsx)(i.Z,{id:"ManagerForm.reporting",defaultMessage:[{type:0,value:"Отчетность"}]}),h=(0,a.jsx)(i.Z,{id:"ManagerForm.workActivityLevels",defaultMessage:[{type:0,value:"Доступ к активностям"}]}),f=(0,a.jsx)(i.Z,{id:"ManagerForm.controlPoints",defaultMessage:[{type:0,value:"Учет отметок"}]}),m=(0,a.jsx)(i.Z,{id:"ManagerForm.expandAll",defaultMessage:[{type:0,value:"Развернуть все"}]}),v=(0,a.jsx)(i.Z,{id:"ManagerForm.collapseAll",defaultMessage:[{type:0,value:"Свернуть все"}]}),y=(0,a.jsx)(i.Z,{id:"ManagerForm.externalIds",defaultMessage:[{type:0,value:"Внешние логины"}]}),g=(0,a.jsx)(i.Z,{id:"ManagerForm.login",defaultMessage:[{type:0,value:"Логин WFM"}]}),b=(0,a.jsx)(i.Z,{id:"ManagerForm.password",defaultMessage:[{type:0,value:"Пароль"}]}),j=(0,a.jsx)(i.Z,{id:"ManagerForm.position",defaultMessage:[{type:0,value:"Должность"}]}),x=(0,a.jsx)(i.Z,{id:"ManagerForm.firingDate",defaultMessage:[{type:0,value:"Дата увольнения"}]}),S=(0,a.jsx)(i.Z,{id:"ManagerForm.messageTypeForm",defaultMessage:[{type:0,value:"Тип уведомления"}]}),O=(0,a.jsx)(i.Z,{id:"ManagerForm.blocking",defaultMessage:[{type:0,value:"Блокировка"}]}),P=(0,a.jsx)(i.Z,{id:"ManagerForm.hiringDate",defaultMessage:[{type:0,value:"Дата приема на работу"}]}),w=(0,a.jsx)(i.Z,{id:"ManagerForm.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),C=(0,a.jsx)(i.Z,{id:"ManagerForm.zone",defaultMessage:[{type:0,value:"Часовой пояс"}]}),k=(0,a.jsx)(i.Z,{id:"ManagerForm.office",defaultMessage:[{type:0,value:"Офис"}]}),T=(0,a.jsx)(i.Z,{id:"ManagerForm.address",defaultMessage:[{type:0,value:"Фактический адрес"}]}),N=(0,a.jsx)(i.Z,{id:"ManagerForm.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]}),R=(0,a.jsx)(i.Z,{id:"ManagerForm.email",defaultMessage:[{type:0,value:"Адрес электронной почты"}]}),E=(0,a.jsx)(i.Z,{id:"ManagerForm.rights",defaultMessage:[{type:0,value:"Права:"}]}),D=(0,a.jsx)(i.Z,{id:"ManagerForm.biometrySettings",defaultMessage:[{type:0,value:"Параметры биометрии"}]}),A=(0,a.jsx)(i.Z,{id:"ManagerForm.deviceUserId",defaultMessage:[{type:0,value:"ID пользователя"}]}),M=(0,a.jsx)(i.Z,{id:"ManagerForm.numberFingers",defaultMessage:[{type:0,value:"Отпечатки пальцев (шт.):"}]}),I=(0,a.jsx)(i.Z,{id:"ManagerForm.faceData",defaultMessage:[{type:0,value:"Идентификатор лица:"}]}),Z=(0,a.jsx)(i.Z,{id:"ManagerForm.biometryPassword",defaultMessage:[{type:0,value:"Пароль:"}]}),q=(0,a.jsx)(i.Z,{id:"ManagerForm.globalManager",defaultMessage:[{type:0,value:"Менеджер всех устройств"}]}),F=(0,a.jsx)(i.Z,{id:"ManagerForm.biometryRole",defaultMessage:[{type:0,value:"Роль:"}]}),L=(0,a.jsx)(i.Z,{id:"ManagerForm.cardId",defaultMessage:[{type:0,value:"Идентификатор лица:"}]}),H=(0,a.jsx)(i.Z,{id:"ManagerForm.changingManagerToOperator",defaultMessage:[{type:0,value:"Перевод менеджера в операторы"}]}),_=(i.Z,(0,a.jsx)(i.Z,{id:"ManagerToOperator.TurnToOperator",defaultMessage:[{type:0,value:"Сделать сотрудником"}]})),B=(0,a.jsx)(i.Z,{id:"EmployeeForm.requiredFields",defaultMessage:[{type:0,value:"Обязательные поля:"}]}),G=(0,a.jsx)(i.Z,{id:"EmployeeForm.additionalFields",defaultMessage:[{type:0,value:"Дополнительные поля:"}]}),W=[{value:s.ZP.RIGHTS.SETTINGS,label:(0,a.jsx)(i.Z,{id:"ManagerForm.settings",defaultMessage:[{type:0,value:"Настройки"}]}),disabledButtons:[1]},{value:s.ZP.RIGHTS.OPERATORS,label:(0,a.jsx)(i.Z,{id:"ManagerForm.operators",defaultMessage:[{type:0,value:"Сотрудники"}]})},{value:s.ZP.RIGHTS.SCHEDULE_SCHEME,label:(0,a.jsx)(i.Z,{id:"Menu.schema",defaultMessage:[{type:0,value:"Схемы"}]})},{value:s.ZP.RIGHTS.SCHEDULE_CONTAINERS,label:(0,a.jsx)(i.Z,{id:"Menu.shift",defaultMessage:[{type:0,value:"Смены"}]})},{value:s.ZP.RIGHTS.KDO_STATUS_CONTAINERS,label:(0,a.jsx)(i.Z,{id:"ManagerForm.kdoStatusContainers",defaultMessage:[{type:0,value:"Чтение статусов КДО"}]}),disabledButtons:[2]},{value:s.ZP.RIGHTS.KDO_SCHEDULE_PUBLISH,label:(0,a.jsx)(i.Z,{id:"ManagerForm.kdoSchedulePublish",defaultMessage:[{type:0,value:"Публикация в КДО"}]}),disabledButtons:[1]}],U=[{value:s.ZP.RIGHTS.FORECASTING,label:(0,a.jsx)(i.Z,{id:"ManagerForm.forecasting",defaultMessage:[{type:0,value:"Прогноз"}]})},{value:s.ZP.RIGHTS.SCHEDULE_GENERATE,label:(0,a.jsx)(i.Z,{id:"ScheduleComputing.buildSchedule",defaultMessage:[{type:0,value:"Построение расписания"}]}),disabledButtons:[1]},{value:s.ZP.RIGHTS.SCHEDULE,label:(0,a.jsx)(i.Z,{id:"ManagerForm.schedule",defaultMessage:[{type:0,value:"Расписание"}]}),disabledButtons:[0]},{value:s.ZP.RIGHTS.SCHEDULE_CHANGES,label:(0,a.jsx)(i.Z,{id:"ManagerForm.scheduleChanges",defaultMessage:[{type:0,value:"Работа с заявками"}]})},{value:s.ZP.RIGHTS.SWAP_SCHEDULE,label:(0,a.jsx)(i.Z,{id:"ManagerForm.swaps",defaultMessage:[{type:0,value:"Обмен сменами"}]})},{value:s.ZP.RIGHTS.TASK,label:(0,a.jsx)(i.Z,{id:"Menu.tasks",defaultMessage:[{type:0,value:"Задачи"}]})},{value:s.ZP.RIGHTS.ADDITIONAL_SCHEDULE,label:(0,a.jsx)(i.Z,{id:"ManagerForm.additionalSchedules",defaultMessage:[{type:0,value:"Дополнительные смены"}]})}],V=[{value:s.ZP.RIGHTS.REPORTS,label:(0,a.jsx)(i.Z,{id:"ManagerForm.reports",defaultMessage:[{type:0,value:"Отчеты"}]})},{value:s.ZP.RIGHTS.MONITORING,label:(0,a.jsx)(i.Z,{id:"Menu.monitoring",defaultMessage:[{type:0,value:"Мониторинг"}]})},{value:s.ZP.RIGHTS.LOGGER,label:(0,a.jsx)(i.Z,{id:"ManagerForm.changeLog",defaultMessage:[{type:0,value:"Журнал изменений"}]}),disabledButtons:[1]}],z=[{value:s.ZP.RIGHTS.BIOMETRICS,label:(0,a.jsx)(i.Z,{id:"ManagerForm.biometry",defaultMessage:[{type:0,value:"Биометрия"}]})},{value:s.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS,label:(0,a.jsx)(i.Z,{id:"ScheduleControl",defaultMessage:[{type:0,value:"Учет времени"}]})},{value:s.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,label:(0,a.jsx)(i.Z,{id:"ScheduleControlUsers",defaultMessage:[{type:0,value:"Учет времени пользователя"}]})}]},61371:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var i={BACKLOG:"BACKLOG",ERLANG:"ERLANG",DIRECT:"DIRECT"}},55635:(e,t,r)=>{"use strict";r.d(t,{$F:()=>i,FH:()=>o,II:()=>a,dv:()=>s,pT:()=>n});var i="commonAccountingSettings",s="IS_ACCOUNTING_REPORT_ENABLED",n="IS_SALARY_ACCOUNTING_FOR_MANAGER_ENABLED",a="IS_ACCOUNTING_REPORT_FOR_OPERATOR_ENABLED",o="IS_SALARY_ACCOUNTING_FOR_OPERATOR_ENABLED"},18173:(e,t,r)=>{"use strict";r.d(t,{S1:()=>a,Ty:()=>n,VK:()=>l,oC:()=>c,qb:()=>o,w:()=>d});var i=r(44012),s=r(85893),n=(0,s.jsx)(i.Z,{id:"ChangeSlForm.name",defaultMessage:[{type:0,value:"Название очереди"}]}),a=(0,s.jsx)(i.Z,{id:"ChangeSlForm.SimultaneousActions",defaultMessage:[{type:0,value:"Одновременные действия"}]}),o=(0,s.jsx)(i.Z,{id:"ChangeSlForm.Service",defaultMessage:[{type:0,value:"SL (Уровень сервиса, %)"}]}),l=(0,s.jsx)(i.Z,{id:"ChangeSlForm.ResponseTime",defaultMessage:[{type:0,value:"Время ответа (сек)"}]});function c(e){var t=[];return e.forEach((e=>{var{name:r,id:i}=e,s={name:r,id:i};t.push(s)})),t}var d=e=>e||""},68757:(e,t,r)=>{"use strict";r.d(t,{BC:()=>o,NO:()=>d,WT:()=>a,X_:()=>l,ac:()=>c,wp:()=>n});var i=r(44012),s=r(85893),n=[{value:"ALL_USERS",label:(0,s.jsx)(i.Z,{id:"Settings.SwapUserAll",defaultMessage:[{type:0,value:"Всем сотрудникам"}]})},{value:"USERS_OF_SAME_PERMISSION_GROUP",label:(0,s.jsx)(i.Z,{id:"Settings.SwapUserGroup",defaultMessage:[{type:0,value:"Внутри своей группы"}]})}],a=[{value:"SWAP_AUTOMATIC",label:(0,s.jsx)(i.Z,{id:"Settings.SwapAutomatic",defaultMessage:[{type:0,value:"Автоматический обмен"}]})},{value:"SWAP_MANAGER_REGULATION",label:(0,s.jsx)(i.Z,{id:"Settings.SwapManagerRegulation",defaultMessage:[{type:0,value:"Участие менеджера"}]})},{value:"SWAP_DECLINE",label:(0,s.jsx)(i.Z,{id:"Settings.SwapDecline",defaultMessage:[{type:0,value:"Отказ в обмене"}]})}],o={SWAP_SCHEDULE_SERVICE_STATUS:"SWAP_SCHEDULE_SERVICE_STATUS",SWAP_SCHEDULE_MANAGER_APPROVAL:"SWAP_SCHEDULE_MANAGER_APPROVAL",SWAP_SCHEDULE_SCOPE:"SWAP_SCHEDULE_SCOPE",SKILLS_MATCH_RULE:"SKILLS_MATCH_RULE",SKILLS_MISMATCH_RULE:"SKILLS_MISMATCH_RULE",WORK_ACTIVITIES_MATCH_RULE:"WORK_ACTIVITIES_MATCH_RULE",WORK_ACTIVITIES_MISMATCH_RULE:"WORK_ACTIVITIES_MISMATCH_RULE",USER_TASK_TEMPLATES_MATCH_RULE:"USER_TASK_TEMPLATES_MATCH_RULE",USER_TASK_TEMPLATES_MISMATCH_RULE:"USER_TASK_TEMPLATES_MISMATCH_RULE"};function l(e){var t=function(e){var t={};return e.forEach((e=>{t[e.key]=e.value})),t}(e),r=Object.keys(o),i={};return r.forEach((e=>{i[e]=t[e]})),i}var c=(0,s.jsx)(i.Z,{id:"Settings.SwapAvailability",defaultMessage:[{type:0,value:"Доступность обмена"}]}),d=(0,s.jsx)(i.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})},64068:(e,t,r)=>{"use strict";r.d(t,{$8:()=>T,A4:()=>I,BZ:()=>R,DR:()=>b,F1:()=>M,IU:()=>_,Kf:()=>y,LD:()=>A,QD:()=>B,T$:()=>F,TO:()=>u,XR:()=>d,Xl:()=>q,Y2:()=>L,_D:()=>D,eS:()=>h,jO:()=>W,kk:()=>N,ln:()=>G,n5:()=>O,ng:()=>j,nn:()=>m,oh:()=>v,pm:()=>c,qG:()=>E,qf:()=>p,s8:()=>H,uB:()=>l,wx:()=>S,xV:()=>x,xt:()=>g,y8:()=>f,yV:()=>Z});var i=r(44012),s=r(16313),n=r.n(s),a=r(35667),o=r(85893),l=(0,o.jsx)(i.Z,{id:"WorkActivityForm.name",defaultMessage:[{type:0,value:"Название"}]}),c=(0,o.jsx)(i.Z,{id:"WorkActivityForm.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),d=(0,o.jsx)(i.Z,{id:"WorkActivityForm.color",defaultMessage:[{type:0,value:"Цвет"}]}),u=(0,o.jsx)(i.Z,{id:"WorkActivityForm.acronymInput",defaultMessage:[{type:0,value:"Акроним"}]}),p=(0,o.jsx)(i.Z,{id:"WorkActivityForm.hourlyWage",defaultMessage:[{type:0,value:"Ставка (₽/час)"}]}),h=(0,o.jsx)(i.Z,{id:"WorkActivityForm.notErasableActivity",defaultMessage:[{type:0,value:"Не удаляется при построении расписания"}]}),f=(0,o.jsx)(i.Z,{id:"Events.duration",defaultMessage:[{type:0,value:"Длительность (мин.)"}]}),m={id:"Events.duration",defaultMessage:"Длительность (мин.)"},v={id:"WorkActivity.considerAbsenteeism",defaultMessage:"Считать абсентеизмом"},y=(0,o.jsx)(i.Z,{id:"WorkActivityForm.allowedStatuses",defaultMessage:[{type:0,value:"Разрешенные статусы"}]}),g=(0,o.jsx)(i.Z,{id:"WorkActivityForm.timesheetActivity",defaultMessage:[{type:0,value:"Табельная активность"}]}),b=(0,o.jsx)(i.Z,{id:"WorkActivity.addWorkActivity",defaultMessage:[{type:0,value:"Добавить активность"}]}),j=(0,o.jsx)(i.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),x=(0,o.jsx)(i.Z,{id:"WorkActivityForm.editingSubstitutionActivities",defaultMessage:[{type:0,value:"Редактирование заменяющих активностей"}]}),S=(0,o.jsx)(i.Z,{id:"WorkActivityForm.employeeManagementConfiguration",defaultMessage:[{type:0,value:"Настройка управления сотрудниками"}]}),O=(0,o.jsx)(i.Z,{id:"Common.Yes",defaultMessage:[{type:0,value:"Да"}]}),P=(0,o.jsx)(i.Z,{id:"Common.oneHour",defaultMessage:[{type:0,value:"1 ч."}]}),w=(0,o.jsx)(i.Z,{id:"Common.thirtyMinute",defaultMessage:[{type:0,value:"30 мин."}]}),C=(0,o.jsx)(i.Z,{id:"Common.fifteenMinute",defaultMessage:[{type:0,value:"15 мин."}]}),k=(0,o.jsx)(i.Z,{id:"Common.fiveMinute",defaultMessage:[{type:0,value:"5 мин."}]}),T=(0,o.jsx)(i.Z,{id:"WorkActivityForm.checkingAccommodation",defaultMessage:[{type:0,value:"Размещение в офисе"}]}),N=(0,o.jsx)(i.Z,{id:"WorkActivity.considerAbsenteeism",defaultMessage:[{type:0,value:"Cчитать абсентеизмом"}]}),R=(0,o.jsx)(i.Z,{id:"WorkActivityForm.occupiesWorkplace",defaultMessage:[{type:0,value:"Занимает рабочее место"}]}),E=(0,o.jsx)(i.Z,{id:"WorkActivityForm.standard",defaultMessage:[{type:0,value:"Стандартный"}]}),D=(0,o.jsx)(i.Z,{id:"WorkActivityForm.labelTargetNeed",defaultMessage:[{type:0,value:"Целевая потребность"}]}),A=(0,o.jsx)(i.Z,{id:"WorkActivityForm.labelAlwaysUncheck",defaultMessage:[{type:0,value:"Снимать всегда"}]}),M=(0,o.jsx)(i.Z,{id:"WorkActivityForm.WorkActivityLevel",defaultMessage:[{type:0,value:"Доступ к активности"}]}),I=(0,o.jsx)(i.Z,{id:"WorkActivityForm.employeeManagement",defaultMessage:[{type:0,value:"Управление для сотрудника"}]}),Z=(0,o.jsx)(i.Z,{id:"WorkActivityForm.employeeCanUpdate",defaultMessage:[{type:0,value:"Сотрудники могут управлять активностью"}]}),q=(0,o.jsx)(i.Z,{id:"WorkActivityForm.standardText",defaultMessage:[{type:0,value:"Замещение выполняется, если у сотрудника нет навыков для основной активности или они укомплектованы по FTE и на это время есть потребность в навыке целевой активности."}]}),F=(0,o.jsx)(i.Z,{id:"WorkActivityForm.targetNeedText",defaultMessage:[{type:0,value:"Замещение выполняется, если навык целевой активности имеет более высокий приоритет по сравнению с навыком основной активности."}]}),L=(0,o.jsx)(i.Z,{id:"WorkActivityForm.alwaysUncheckText",defaultMessage:[{type:0,value:"Замещение выполняется, если навык целевой активности имеет более высокий приоритет по сравнению с навыком основной активности, вне зависимости от потребности по FTE (но согласно ограничениям)."}]}),H=[{value:3600,label:P},{value:1800,label:w},{value:900,label:C}],_=[{value:60,label:P},{value:30,label:w},{value:15,label:C},{value:5,label:k}],B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e)&&!e.length)return[];var t=[];return Array.isArray(e)&&e.length&&e.forEach((e=>{if((0,a.xb)(e.substitutions))return null;t.push(...e.substitutions)})),t},G=e=>{var t=n()(e),{substitutionSettings:r}=t;return(0,a.xb)(r)||r.forEach((e=>(delete e.settingId,e))),t},W=e=>{var t={};return e.duration>1440&&(t.duration="More than 24h"),e.duration<5&&(t.duration="Less than 5m"),e.duration%5!=0&&(t.duration="Not multiple of five"),(Number.isNaN(e.duration)||(0,a.xb)(e.duration))&&delete t.duration,t}},65680:(e,t,r)=>{"use strict";r.d(t,{Nj:()=>h,R_:()=>c,Wk:()=>p,Xc:()=>n,ZC:()=>a,av:()=>d,dc:()=>o});var i=r(44012),s=r(85893),n="refreshGraphAfterPublish",a="showEmptyActivities",o="isScheduleExchangeAvailable",l="isKdoExportAvailable",c="graphFteUpdateInterval",d="blockScheduleDuringOperations",u="isOverworkReportAvailable",p={title:"OPTISYSTEMS WFM",emptyRootTitle:"Корень",poweredBy:"Powered by OptiSystems",logoUrl:"/img/logo-green-light.png",smallLogoUrl:"/img/logo.png",faviconLogo:"/img/favicon.png",reportsScheduleCardsAvailable:!1,scheduleCardsReportListedPositions:["Продавец-кассир","Кассир-продавец АУТСОРСИНГ","Кассир-контролер","Продавец контактной торговли АУТСОРСИНГ","Продавец на выкладке АУТСОРСИНГ","Продавец скоропортящихся товаров","Продавец","Повар-продавец"],settingsCommentTemplatesAvailable:!1,employeeRequestAvailable:!0,allowGraphCopyPaste:!0,dayGraphReportAvailable:!0,dayGraphReportAvailableOld:!0,graphBuildScheduleAvailable:!0,graphCommentRequiredToChangeQueue:!1,blockEditUserProfile:!1,graphReplaceEmployeeSelectSubstituteAvailable:!0,graphReplaceEmployeeAdditionalScheduleAvailable:!0,graphReplaceEmployeeNoReplaceAvailable:!0,"forecasts.allowChartEditing":!1,employeeSkillDefaultEnd:"2030-01-01 00:00:00 +0000","ScheduleSchema.showSchemaLastDayBorder":!1,"ScheduleSchema.showTargetDayNumber":!1,"ScheduleSchema.showSchemaMaxDay":!1,[o]:!1,isShowSalarySettings:!1,isShowNotificationCenterSettings:!1,isBiometricsAvailable:!1,isScheduleControlAvailable:!1,isShowEmployeePreferences:!1,isThermometerAvailable:!1,isUserPasswordChangeBlocked:!1,t13reportAvailable:!0,isWorkScheduleCSVAvailable:!1,isVisibleReportWorkSchedule:!0,isConvertToManagerAvailable:!1,displayLoadTemplateButtonInT13Report:!1,removeActivityConfirmWindowEnabled:!0,[n]:!1,[a]:!1,[l]:!1,[c]:4e3,[d]:!1,isScheduleSaveSettingsEnable:!0,isShowServiceLevel:!0,isOzonEmployeeWorkspaceBlocked:!1,isSeatAccountingEnabled:!1,[u]:!1,isVisibleInOutPunctualityReport:!0,isEstimatedIndicatorsEndAvailable:!0,isLaborCodeCheckingEnabled:!1,isShowEvents:!1,isHideRussianLocalization:!1,isSchemeListShowedByGroup:!0,isShowLinksToDashboards:!0,isGraphStartSinceToday:!1,isHidePersonalData:!1,allowEmployeesToUpdateSchedule:!1},h={title:(0,s.jsx)(i.Z,{id:"FrontendSettings.title",defaultMessage:[{type:0,value:"Тайтл"}]}),emptyRootTitle:(0,s.jsx)(i.Z,{id:"FrontendSettings.emptyRootTitle",defaultMessage:[{type:0,value:"Название общего корня объединенных деревьев"}]}),isSchemeListShowedByGroup:(0,s.jsx)(i.Z,{id:"FrontendSettings.isSchemeListShowedByGroup",defaultMessage:[{type:0,value:"Видимость схем ограничена группой"}]}),poweredBy:(0,s.jsx)(i.Z,{id:"FrontendSettings.poweredBy",defaultMessage:[{type:0,value:"Powered by текст (при авторизации)"}]}),isHidePersonalData:(0,s.jsx)(i.Z,{id:"FrontendSettings.hidingFieldsInCards",defaultMessage:[{type:0,value:"Скрыть поля с ПД в карточках"}]}),logoUrl:(0,s.jsx)(i.Z,{id:"FrontendSettings.logoUrl",defaultMessage:[{type:0,value:"Путь к лого"}]}),smallLogoUrl:(0,s.jsx)(i.Z,{id:"FrontendSettings.smallLogoUrl",defaultMessage:[{type:0,value:"Путь к малому лого"}]}),faviconLogo:(0,s.jsx)(i.Z,{id:"FrontendSettings.faviconLogo",defaultMessage:[{type:0,value:"Путь к favicon'ке организации"}]}),isShowLinksToDashboards:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowLinksToDashboards",defaultMessage:[{type:0,value:"Доступность кнопки 'Дашборды'"}]}),reportsScheduleCardsAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.reportsScheduleCardsAvailable",defaultMessage:[{type:0,value:"Отчет карточки расписаний сотрудников"}]}),scheduleCardsReportListedPositions:(0,s.jsx)(i.Z,{id:"FrontendSettings.scheduleCardsReportListedPositions",defaultMessage:[{type:0,value:"Дефолтный фильтр по должностям в отчете 'Карточки расписания сотрудников'"}]}),settingsCommentTemplatesAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.settingsCommentTemplatesAvailable",defaultMessage:[{type:0,value:"Доступность шаблонов комментариев в меню настроек"}]}),employeeRequestAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.employeeRequestAvailable",defaultMessage:[{type:0,value:"Доступность запроса сотрудника из другой группы"}]}),allowGraphCopyPaste:(0,s.jsx)(i.Z,{id:"FrontendSettings.allowGraphCopyPaste",defaultMessage:[{type:0,value:"copy/paste в таблице графика через ctrl+c/ctrl+v"}]}),dayGraphReportAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.dayGraphReportAvailable",defaultMessage:[{type:0,value:"Доступность отчета 'График рабочего времени (сутки)'"}]}),dayGraphReportAvailableOld:(0,s.jsx)(i.Z,{id:"FrontendSettings.dayGraphReportAvailableOld",defaultMessage:[{type:0,value:"Доступность отчета 'График рабочего времени'"}]}),graphBuildScheduleAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphBuildScheduleAvailable",defaultMessage:[{type:0,value:"Доступность 'Поставить смену' через контекстное меню в графике"}]}),graphCommentRequiredToChangeQueue:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphCommentRequiredToChangeQueue",defaultMessage:[{type:0,value:"Обязательность оставления комментария для изменения расписания"}]}),blockEditUserProfile:(0,s.jsx)(i.Z,{id:"FrontendSettings.blockEditUserProfile",defaultMessage:[{type:0,value:"Заблокировать возможность изменения личных данных"}]}),graphReplaceEmployeeSelectSubstituteAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphReplaceEmployeeSelectSubstituteAvailable",defaultMessage:[{type:0,value:"Доступность опции 'выбрать замещающего' в замене сотрудника"}]}),graphReplaceEmployeeAdditionalScheduleAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphReplaceEmployeeAdditionalScheduleAvailable",defaultMessage:[{type:0,value:"Доступность опции 'создать доп. смену' в замене сотрудника"}]}),graphReplaceEmployeeNoReplaceAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphReplaceEmployeeNoReplaceAvailable",defaultMessage:[{type:0,value:"Доступность опции 'без замены' в замене сотрудника"}]}),"forecasts.allowChartEditing":(0,s.jsx)(i.Z,{id:"FrontendSettings.forecasts.allowChartEditing",defaultMessage:[{type:0,value:"Доступность редактирования чарта в прогнозах драгом"}]}),employeeSkillDefaultEnd:(0,s.jsx)(i.Z,{id:"FrontendSettings.employeeSkillDefaultEnd",defaultMessage:[{type:0,value:"Дефолтное значение окончания действия навыка"}]}),"ScheduleSchema.showSchemaLastDayBorder":(0,s.jsx)(i.Z,{id:"FrontendSettings.ScheduleSchema.showSchemaLastDayBorder",defaultMessage:[{type:0,value:"Список схем, показывать границы схемы"}]}),"ScheduleSchema.showTargetDayNumber":(0,s.jsx)(i.Z,{id:"FrontendSettings.ScheduleSchema.showTargetDayNumber",defaultMessage:[{type:0,value:"Список схем, показывать номер дня схемы"}]}),"ScheduleSchema.showSchemaMaxDay":(0,s.jsx)(i.Z,{id:"FrontendSettings.ScheduleSchema.showSchemaMaxDay",defaultMessage:[{type:0,value:"Список схем, показывать длину схемы в днях схемы"}]}),[o]:(0,s.jsx)(i.Z,{id:"FrontendSettings.isScheduleExchangeAvailable",defaultMessage:[{type:0,value:"Доступность обмена сменами"}]}),isShowSalarySettings:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowSalarySettings",defaultMessage:[{type:0,value:"Отображать модуль расчета заработной платы"}]}),isShowNotificationCenterSettings:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowNotificationCenterSettings",defaultMessage:[{type:0,value:"Отображать Центр уведомлений"}]}),isBiometricsAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isBiometricsAvailable",defaultMessage:[{type:0,value:"Доступность Биометрии"}]}),isScheduleControlAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isScheduleControlAvailable",defaultMessage:[{type:0,value:"Доступен модуль учета рабочего времени"}]}),isShowEmployeePreferences:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowEmployeePreferences",defaultMessage:[{type:0,value:"Отображать модуль 'Предпочтения сотрудников'"}]}),isThermometerAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isThermometerAvailable",defaultMessage:[{type:0,value:"Доступность отображения фактов отметки биометрии (градусники)"}]}),isUserPasswordChangeBlocked:(0,s.jsx)(i.Z,{id:"FrontendSettings.isUserPasswordChangeBlocked",defaultMessage:[{type:0,value:"Запретить изменение пароля пользователя"}]}),t13reportAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.t13reportAvailable",defaultMessage:[{type:0,value:"Доступность отображения отчета Т-13"}]}),isWorkScheduleCSVAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isWorkScheduleCSVAvailable",defaultMessage:[{type:0,value:"доступна выгрузка отчета “Рабочий график в CSV”"}]}),isVisibleReportWorkSchedule:(0,s.jsx)(i.Z,{id:"FrontendSettings.isVisibleReportWorkSchedule",defaultMessage:[{type:0,value:"Доступность отчета 'Рабочий график сотрудников"}]}),isConvertToManagerAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isConvertToManagerAvailable",defaultMessage:[{type:0,value:"Доступность перевода оператор/менеджер"}]}),displayLoadTemplateButtonInT13Report:(0,s.jsx)(i.Z,{id:"FrontendSettings.displayLoadTemplateButtonInT13Report",defaultMessage:[{type:0,value:"Видимость кнопки 'Загрузить шаблон' в отчете Т-13"}]}),removeActivityConfirmWindowEnabled:(0,s.jsx)(i.Z,{id:"FrontendSettings.removeActivityConfirmWindowEnabled",defaultMessage:[{type:0,value:"Окно подтверждения удаления активности в графике"}]}),[n]:(0,s.jsx)(i.Z,{id:"FrontendSettings.refreshGraphAfterPublish",defaultMessage:[{type:0,value:"Обновление графика после публикации"}]}),[a]:(0,s.jsx)(i.Z,{id:"FrontendSettings.showEmptyActivities",defaultMessage:[{type:0,value:"Показывать пустые активности в редакторе"}]}),[l]:(0,s.jsx)(i.Z,{id:"FrontendSettings.isKdoExportAvailable",defaultMessage:[{type:0,value:"Доступность выгрузки в КДО"}]}),[c]:(0,s.jsx)(i.Z,{id:"FrontendSettings.graphFteUpdateInterval",defaultMessage:[{type:0,value:"Интервал обновления графиков FTE в расписании (ms)"}]}),[d]:(0,s.jsx)(i.Z,{id:"FrontendSettings.blockScheduleDuringOperations",defaultMessage:[{type:0,value:"Блокировать расписание во время операций"}]}),isScheduleSaveSettingsEnable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isScheduleSaveSettingsEnable",defaultMessage:[{type:0,value:"Сохранение расписания"}]}),isShowServiceLevel:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowServiceLevel",defaultMessage:[{type:0,value:"Показывать фильтр Service Level (SL)"}]}),isOzonEmployeeWorkspaceBlocked:(0,s.jsx)(i.Z,{id:"FrontendSettings.isOzonEmployeeWorkspaceBlocked",defaultMessage:[{type:0,value:"Визуализация личного кабинета для операторов по договору ГПХ"}]}),isSeatAccountingEnabled:(0,s.jsx)(i.Z,{id:"FrontendSettings.isSeatAccountingEnabled",defaultMessage:[{type:0,value:"Количество рабочих мест"}]}),[u]:(0,s.jsx)(i.Z,{id:"FrontendSettings.isOverworkReportAvailable",defaultMessage:[{type:0,value:"Доступность отчета по переработкам"}]}),isVisibleInOutPunctualityReport:(0,s.jsx)(i.Z,{id:"FrontendSettings.isVisibleInOutPunctualityReport",defaultMessage:[{type:0,value:"Выгрузка отчета о пунктуальности смен за период"}]}),isEstimatedIndicatorsEndAvailable:(0,s.jsx)(i.Z,{id:"FrontendSettings.isEstimatedIndicatorsEndAvailable",defaultMessage:[{type:0,value:"Доступность таблицы 'Расчётные показатели на конец периода' в прогнозах"}]}),isLaborCodeCheckingEnabled:(0,s.jsx)(i.Z,{id:"FrontendSettings.isLaborCodeCheckingEnabled",defaultMessage:[{type:0,value:"Нарушения ТК"}]}),isShowEvents:(0,s.jsx)(i.Z,{id:"FrontendSettings.isShowEvents",defaultMessage:[{type:0,value:"Доступность модуля События"}]}),isHideRussianLocalization:(0,s.jsx)(i.Z,{id:"FrontendSettings.isHideRussianLocalization",defaultMessage:[{type:0,value:"Скрывать русскую локализацию"}]}),isGraphStartSinceToday:(0,s.jsx)(i.Z,{id:"FrontendSettings.isGraphStartSinceToday",defaultMessage:[{type:0,value:"Начало графика с текущего дня"}]}),allowEmployeesToUpdateSchedule:(0,s.jsx)(i.Z,{id:"FrontendSettings.allowEmployeesToUpdateTheirSchedule",defaultMessage:[{type:0,value:"Разрешить перемещать перерыв в ЛК"}]})}},15178:(e,t,r)=>{"use strict";r.d(t,{OF:()=>o,Tt:()=>d,Uj:()=>u,e7:()=>l,qV:()=>c});var i=r(30053);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r){return{externalStatusMappings:e.map(((e,t)=>n(n({},e),{},{id:t,initialUserStatus:e.userStatus,checked:e.checked||!1}))),filterData:t,mappingsTotal:r}}function l(e){var t=[];return e.forEach((e=>{e.userStatus!==e.initialUserStatus&&t.push((0,i.CE)(e,["id","initialUserStatus","checked"]))})),t}function c(e,t,r){return e.map((e=>e.id===t?n(n({},e),{},{checked:r}):e))}function d(e,t){return e.map((e=>e.checked?n(n({},e),{},{userStatus:t}):e))}function u(e,t,r){return e.map((e=>{var i=Boolean(t.find((t=>t.id===e.id)));return n(n({},e),{},{checked:i?r:e.checked})}))}},32088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Yt});var i=r(81978),s=r(97779),n=r(16313),a=r.n(n),o=r(69797),l=r(34018),c=r(12718),d=r(22350),u=r(38646),p=r(35667),h=r(69355),f=r(20524),m=r(11146),v=r(71319),y=r(34011),g=r(82162),b=r(45913),j=r(16372),x=r(84058),S=r(21447),O=r(56664),P=r(87271),w=r(21737),C=r(46981),k=r(72633),T=r(32138),N=r(49489),R=r(65062),E=r(25944),D=r(37548),A=r(82821),M=r(38886),I=r(43454),Z=r(78830),q=r(97539),F=r(65680),L=r(56705),H=r(15178);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=(0,i.Lq)({[L.fetchSystems]:(e,t)=>t},[]),U=(0,i.Lq)({[L.receiveExternalSystemsStatuses]:(e,t)=>t,[L.resetExternalSystemsStatuses]:()=>[]},[]),V={isLoading:!1,isSubmitting:!1,data:{externalStatusMappings:[],filterData:{},mappingsTotal:100},filter:{},sorters:[]},z=(0,i.Lq)({[L.receiveStatusMappingData]:(e,t)=>B(B({},e),{},{data:(0,H.OF)([...e.data.externalStatusMappings,...t.externalStatusMappings],t.filter,t.mappingsTotal)}),[L.setLoadingStatusMapping]:(e,t)=>B(B({},e),{},{isLoading:t}),[L.setSubmittingStatusMapping]:(e,t)=>B(B({},e),{},{isSubmitting:t}),[L.checkStatusMappingRow]:(e,t)=>{var{id:r,checked:i}=t,{data:s}=e;return B(B({},e),{},{data:B(B({},s),{},{externalStatusMappings:(0,H.qV)(s.externalStatusMappings,r,i)})})},[L.checkStatusMappingAllRows]:(e,t)=>{var{data:r}=e,{checked:i,filteredData:s}=t;return B(B({},e),{},{data:B(B({},r),{},{externalStatusMappings:(0,H.Uj)(r.externalStatusMappings,s,i)})})},[L.changeStatusMappingUserStatus]:(e,t)=>{var{data:r}=e,{userStatus:i}=t;return B(B({},e),{},{data:B(B({},r),{},{externalStatusMappings:(0,H.Tt)(r.externalStatusMappings,i)})})},[L.setStatusMappingFilter]:(e,t)=>B(B({},e),{},{filter:t}),[L.setStatusMappingSorters]:(e,t)=>B(B({},e),{},{sorters:t}),[L.resetStatusesMapping]:()=>V},V),Y=(0,i.Lq)({[L.isLoadingStatuses]:(e,t)=>t},!1);const Q=(0,s.combineReducers)({externalSystems:W,externalSystemsStatuses:U,externalStatusesMapping:z,isLoadingStatuses:Y});var K=r(98034);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=(0,i.Lq)({[K.receiveSpecifyingBundle]:(e,t)=>t,[K.addNewBundle]:(e,t)=>J(J({},e),{},{update:!0,watchingActivities:[...e.watchingActivities,t]}),[K.editingPseudoName]:(e,t)=>{var r=e.watchingActivities.map(((e,r)=>r===t.indexBundle?J(J({},e),{},{pseudoName:t.value}):e));return J(J({},e),{},{update:!0,watchingActivities:[...r]})},[K.deleteActivitySetting]:(e,t)=>{var r=e.watchingActivities.filter(((e,r)=>r!==t));return J(J({},e),{},{update:!0,watchingActivities:r})},[K.resetSpecifyingBundle]:()=>({})},{}),te=(0,i.Lq)({[K.setSpecifyingBundleListFilter]:(e,t)=>t},{});const re=(0,s.combineReducers)({specifyingBundle:ee,specifyingBundleListFilter:te});var ie=r(30381),se=r.n(ie),ne=r(65227),ae=r(58482),oe=r(98477);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=(0,i.Lq)({[oe.receiveProductionSimpleList]:(e,t)=>t},[]),pe=(0,i.Lq)({[oe.receiveUserNormHours]:(e,t)=>t},[]),he=(0,i.Lq)({[oe.isNormHoursLoading]:(e,t)=>t},!1),fe=(0,ae.dR)({}),me=(0,i.Lq)({[oe.setProductionCalendarByYearLoading]:ae.vB,[oe.receiveProductionCalendarByYear]:ae.$V,[oe.receiveProductionCalendarByYearError]:ae.aQ,[oe.resetCalendarByYear]:fe},fe),ve=(0,i.Lq)({[oe.setSavingLoading]:ae.vB,[oe.receiveSavingData]:ae.$V,[oe.receiveSavingError]:ae.aQ,[oe.resetSaving]:fe},fe),ye=(0,i.Lq)({[oe.receiveProductionCalendarByYear]:(e,t)=>{var r={};return Object.keys(e).forEach((i=>{var s=t.holidays[i]||[];r[i]=[...new Set([...e[i],...s])]})),ce(ce({},t.holidays),r)},[oe.setCheckedHoliday]:(e,t)=>{var r,i,s,n=se()(t,ne.vc).year(),a=e[n]||[],o=a.includes(t)?e[n].filter((e=>e!==t)):(r=a,i=t,(s=[...r]).push(i),s);return ce(ce({},e),{},{[n]:o})},[oe.clearHolidays]:()=>({})},{});const ge=(0,s.combineReducers)({calendarList:ue,openedCalendar:me,openedCalendarHolidays:ye,savingStatus:ve,hourNormList:pe,isLoadingHourNormList:he});var be=r(46045);function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=(0,i.Lq)({[be.setLaborCodeSettingsLoading]:e=>xe(xe({},e),{},{status:f.Z.loading}),[be.receiveLaborCodeSettingsData]:(e,t)=>xe(xe({},e),{},{status:f.Z.succeeded,data:t}),[be.receiveLaborCodeSettingsError]:(e,t)=>xe(xe({},e),{},{status:f.Z.failed,error:t}),[be.resetLaborCodeSettingsData]:()=>({status:f.Z.idle,error:null,data:{}})},{status:f.Z.idle,error:null,data:{}}),Pe=(0,i.Lq)({[be.setYear]:(e,t)=>t},(0,ne.zO)("YYYY")),we=(0,i.Lq)({[be.setSelectedPeriod]:(e,t)=>t,[be.setResetPeriod]:()=>""},"year");const Ce=(0,s.combineReducers)({laborCodeSettings:Oe,year:Pe,selectedPeriod:we});function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t){return e.name&&t.name?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:0}function Ee(e,t){return e.title>t.title?1:-1}function De(e,t){return e.date>t.date?1:-1}var Ae,Me=(0,i.Lq)({[m.loadOffices]:(e,t)=>{var r=(0,l.Qn)(e);return(0,l.on)(t,r).sort(((e,t)=>{var r=e.name.trim().toLowerCase().replace(/^ё/,"е"),i=t.name.trim().toLowerCase().replace(/^ё/,"е");return r<i?-1:r>i?1:0}))},[m.addOffice]:(e,t)=>[...e,t].sort(Re),[m.removeOffice]:(e,t)=>e.filter((e=>e.id!==t)),[m.changeOffice]:(e,t)=>e.map((e=>e.id===t.id?t:e)),[m.updateOffice]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)].sort(Re)}},[]),Ie=(e,t,r)=>{if(e.id!==t)e.children&&e.children.forEach((e=>Ie(e,t,r)));else{e.children||(e.children=[]);var i=e.children.find((e=>e.id===r.id));i?e.children[e.children.indexOf(i)]=r:e.children.push(r)}},Ze=(e,t,r,i)=>{var s=e.children?e.children.indexOf(e.children.find((e=>e.id===t))):-1;s>=0?r?e.children=[...e.children.slice(0,s),i,...e.children.slice(s+1)]:e.children.splice(s,1):e.children&&e.children.forEach((e=>Ze(e,t,r,i)))},qe=(e,t)=>{var r=e.children?e.children.indexOf(e.children.find((e=>e.id===t.id))):-1;r>=0?e.children=[...e.children.slice(0,r),t,...e.children.slice(r+1)]:e.children&&e.children.forEach((e=>qe(e,t)))},Fe=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r[t.id]=t,t.children&&t.children.forEach((i=>{e(i,r),i.groupId=t.id})),r},Le=(0,i.Lq)({[v.loadPermissionGroups]:(e,t)=>Te({},t),[v.addPermissionGroups]:(e,t)=>{var r=Te({},e);return Ie(r,t.groupId,t),Te(Te({},r),{},{children:r.children.sort((0,d.hM)("groupName"))})},[v.removePermissionGroups]:(e,t)=>{var r=Te({},e);return Ze(r,t),r},[v.updatePermissionGroups]:(e,t)=>{var r=Te({},e);return qe(r,t),r}},{}),He=(0,i.Lq)({[v.loadPermissionGroups]:(e,t)=>Fe(t),[v.addPermissionGroups]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r},[v.removePermissionGroups]:(e,t)=>{var r=Te({},e);return delete r[t],r},[v.updatePermissionGroups]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r}},{}),_e=(0,i.Lq)({[v.loadPermissionGroups]:(e,t)=>((0,u.dw)(t).forEach((e=>e.children=e.children?e.children.sort(Re):void 0)),t),[v.addPermissionGroups]:(e,t)=>{var r=Te({},e);return Ie(r,t.groupId,t),r},[v.removePermissionGroups]:(e,t)=>{var r=Te({},e);return Ze(r,t),r},[v.updatePermissionGroups]:(e,t)=>{var r=Te({},e);return Ze(r,t.id,!0,t),r}},{}),Be=(0,i.Lq)({[O.hierarchyFetched]:(e,t)=>((0,u.dw)(t).forEach((e=>e.children=e.children?e.children.sort(Re):void 0)),t),[v.addPermissionGroups]:(e,t)=>{var r=Te({},e);return Ie(r,t.groupId,t),r},[v.removePermissionGroups]:(e,t)=>{var r=Te({},e);return Ze(r,t),r},[v.updatePermissionGroups]:(e,t)=>{var r=Te({},e),i=Fe(e);return!i[t.groupId]||i[t.groupId].children&&i[t.groupId].children.some((e=>e.id===t.id))||(Object.keys(i).forEach((e=>{i[e].children&&i[e].children.some((e=>e.id===t.id))&&(i[e].children=i[e].children.filter((e=>e.id!==t.id)))})),i[t.groupId].children=[...i[t.groupId].children||[],t]),qe(r,t),r}},{}),Ge=(0,i.Lq)({[O.hierarchyFetched]:(e,t)=>Fe(t),[v.loadPermissionGroups]:(e,t)=>Te(Te({},e),Fe(t)),[v.addPermissionGroups]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r},[v.removePermissionGroups]:(e,t)=>{var r=Te({},e);return delete r[t],r},[v.updatePermissionGroups]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r}},{}),We=(0,i.Lq)({[O.loadQueue]:(e,t)=>t,[O.removeQueue]:e=>[].slice.call(e,0),[O.updateQueue]:(e,t)=>e.map((e=>e.id===t.id?t:e))},[]),Ue=(0,i.Lq)({[O.readQueue]:(e,t)=>t},{}),Ve=(0,i.Lq)({[g.skillsListFetch]:(e,t)=>t,[g.queueFetch]:(e,t)=>{if((0,p.xb)(t))return e;var r=a()(e),i=r.find((e=>e.id===t[0].id));return(0,p.xb)(t)||(i.queues=t[0].queues),(0,p.xb)(t)||(i.operations=t[0].operations),r},[g.lineFetch]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId)).queues.find((e=>!(0,p.xb)(t.data)&&e.id===t.data[0].queueId));return(0,p.xb)(t.data)||(i.lines=t.data),r},[g.isQueuesLoading]:(e,t)=>{var r=a()(e);return r.find((e=>e.id===t.skillId)).queuesLoading=t.loading,r},[g.isLinesLoading]:(e,t)=>{var r=a()(e);return r.find((e=>e.id===t.skillId)).queues.find((e=>e.id===t.queueId)).linesLoading=t.loading,r},[g.removeSkill]:(e,t)=>e.filter((e=>e.id!==t)),[g.removeQueue]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId));return i.queues=i.queues.filter((e=>e.id!==t.queueId)),r},[g.removeLine]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId)).queues.find((e=>e.id===t.queueId));return i.lines=i.lines.filter((e=>e.id!==t.lineId)),r},[O.addQueue]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId));return(0,p.xb)(i.queues)&&(i.queues=[]),i.queues=[...i.queues,{id:t.id,name:t.name,skillId:t.skillId}],r},[g.addLine]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId)).queues.find((e=>e.id===t.queueId));return(0,p.xb)(i.lines)&&(i.lines=[]),i.lines=[...i.lines,{id:t.id,name:t.name,queueId:t.queueId}],r},[g.updateSkill]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.id)),s={id:t.id,name:t.name};return Object.assign(i,s),r},[g.updateQueue]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId)),s=i.queues.find((e=>e.id===t.id)),n={id:t.id,name:t.name};return i.queues=[...i.queues,Object.assign(s,n)].filter(((e,t)=>i.queues.indexOf(e)===t)),r},[g.updateLine]:(e,t)=>{var r=a()(e),i=r.find((e=>e.id===t.skillId)).queues.find((e=>e.id===t.queueId)),s=i.lines.find((e=>e.id===t.id)),n={id:t.id,name:t.name};return i.lines=[...i.lines,Object.assign(s,n)].filter(((e,t)=>i.lines.indexOf(e)===t)),r}},[]),ze=(0,i.Lq)({[g.setSkillOptions]:(e,t)=>t},{id:"",openFormName:c.FORM_NAMES.DEFAULT}),Ye=(0,i.Lq)({[g.setSkillDataByQueue]:(e,t)=>t},{}),Qe=(0,i.Lq)({[T.positionsFetched]:(e,t)=>[...t].sort((0,d.hM)()),[T.positionCreated]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[T.positionDeleted]:(e,t)=>e.filter((e=>e.id!==t)),[T.positionAdded]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[T.positionFetched]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t.id));return i?r[r.indexOf(i)]=t:r.push(t),r},[T.positionUpdated]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t));return r[r.indexOf(i)]=t,r},[T.changePosition]:(e,t)=>e.map((e=>e.id===t.id?t:e))},[]),Ke=(0,i.Lq)({[R.tasksGroupsHierarchyFetched]:(e,t)=>Te(Te({},e),{},{children:t}),[R.taskGroupCreated]:(e,t)=>{var r=Te({},e);return Ie(r,t.parentId,t),r},[R.taskGroupDeleted]:(e,t)=>{var r=Te({},e);return Ze(r,t),r},[R.taskGroupUpdated]:(e,t)=>{var r=Te({},e);return qe(r,t),r},[A.frontendSettingsFetched]:(e,t)=>{var r=Te({},e),i=t.find((e=>"emptyRootTitle"===e.key));return r.name=i?i.value:r.name,r}},{name:F.Wk.emptyRootTitle,id:null,children:[]}),Xe=(0,i.Lq)({[R.tasksGroupsHierarchyFetched]:(e,t)=>t.reduce(((e,t)=>Te(Te({},e),Fe(t))),{}),[R.taskGroupCreated]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r},[R.taskGroupDeleted]:(e,t)=>{var r=Te({},e);return delete r[t],r},[R.taskGroupUpdated]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r}},{}),Je=(0,i.Lq)({[N.taskTemplatesFetched]:(e,t)=>t.sort(Re),[N.taskTemplateCreated]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[N.taskTemplateDeleted]:(e,t)=>t.id?e.filter((e=>e.id!==t.id)):e.filter((e=>e!==t)),[N.taskTemplateAdded]:(e,t)=>{var r=[...e],i=r.find((e=>e===t));return i?r[r.indexOf(i)]=t:r.unshift(t),r},[N.taskTemplateFetched]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t.id));return i?r[r.indexOf(i)]=t:r.push(t),r},[N.taskTemplateUpdated]:(e,t)=>{var r=[...e],i=r.find((e=>e.id===t));return r[r.indexOf(i)]=t,r}},[]),$e=(0,i.Lq)({[N.tasksWithSubtaskTemplatesFetched]:(e,t)=>t},[]),et=(0,i.Lq)({[N.taskTemplatesFetched]:(e,t)=>t.reduce(((e,t)=>(e[t.id]=t,e)),{}),[N.taskTemplateCreated]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r},[N.taskTemplateDeleted]:(e,t)=>{var r=Te({},e);return delete r[t],r},[N.taskTemplateUpdated]:(e,t)=>{var r=Te({},e);return r[t.id]=t,r}},{}),tt=(0,i.Lq)({[y.setTableDisplaySettings]:(e,t)=>t,[y.loadTableDisplaySettings]:(e,t)=>t},{}),rt=(0,i.Lq)({[y.setScrollOptions]:(e,t)=>t},!1),it=(0,i.Lq)({[y.loadManager]:(e,t)=>t},{}),st=(0,i.Lq)({[y.loadManagers]:(e,t)=>t,[y.loadManagersWithComments]:(e,t)=>t,[y.addManagers]:(e,t)=>[...e,t],[y.removeManagers]:(e,t)=>e.filter((e=>e.id!==t)),[y.updateManagers]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)]},[y.setBlockManager]:(e,t)=>e.map((e=>e.id===t?Te(Te({},e),{},{blocked:!0}):e)),[y.setUnblockManager]:(e,t)=>e.map((e=>e.id===t?Te(Te({},e),{},{blocked:!1}):e))},[]),nt=(0,i.Lq)({[y.showManagers]:(e,t)=>t},!1),at=(0,i.Lq)({[y.changeShowFired]:(e,t)=>t},!1),ot=(0,i.Lq)({[P.receiveUserStatuses]:(e,t)=>t},[]),lt=(0,i.Lq)({[w.setAllWorkActivityLoading]:e=>Te(Te({},e),{},{status:f.Z.loading}),[w.receiveAllWorkActivityData]:(e,t)=>Te(Te({},e),{},{status:f.Z.succeeded,data:t.slice().sort(Re)}),[w.receiveAllWorkActivityError]:(e,t)=>Te(Te({},e),{},{status:f.Z.failed,error:t}),[w.resetAllWorkActivity]:()=>({status:f.Z.idle,data:[],error:null}),[w.addWorkActivity]:(e,t)=>Te(Te({},e),{},{data:[...e.data,t]}),[w.removeWorkActivity]:(e,t)=>Te(Te({},e),{},{data:e.data.filter((e=>e.id!==t))}),[w.updateWorkActivity]:(e,t)=>{var{data:r}=e,i=r.findIndex((e=>e.id===t.id));return Te(Te({},e),{},{data:(0,o.wm)(r,i,t)})}},{status:f.Z.idle,data:[],error:null}),ct=(0,i.Lq)({[w.receiveAbsenceWorkActivities]:(e,t)=>t},[]),dt=(0,i.Lq)({[w.setTableDisplaySettings]:(e,t)=>t,[w.loadTableDisplaySettings]:(e,t)=>t},{}),ut=(0,i.Lq)({[w.timeSheetsFetched]:(e,t)=>t},[]),pt=(0,i.Lq)({[C.loadCalendar]:(e,t)=>t,[C.updateCalendar]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)]}},[]),ht=(0,i.Lq)({[k.specialDaysFetched]:(e,t)=>t.sort(De),[k.specialDayCreated]:(e,t)=>[...e,t].sort(De),[k.specialDayUpdated]:(e,t)=>[...e.filter((e=>e.id!==t.id)),t].sort(De),[k.specialDayDeleted]:(e,t)=>[...e.filter((e=>e.id!==t.id))].sort(De)},[]),ft=(0,i.Lq)({[C.setPeriodAction]:(e,t)=>Te(Te({},e),t)},{}),mt=(0,i.Lq)({[E.loadGlobalSettings]:(e,t)=>{var r={};return t.forEach((e=>{r[e.key]=e.value})),r},[E.updateGlobalSetting]:(e,t)=>(e[t.key]=t.value,e)},{}),vt=(0,i.Lq)({[Z.addAccountingRule]:(e,t)=>[...e,t],[Z.accountingRulesFetched]:(e,t)=>t,[Z.accountingRuleRemoved]:(e,t)=>e.filter((e=>e.id!==t)),[Z.accountingRuleUpdated]:(e,t)=>e.map((e=>e.id===t.id?t:e))},[]),yt=(0,i.Lq)({[Z.setAccountingLoading]:(e,t)=>t},!1),gt=(0,i.Lq)({[D.commentTemplatesFetched]:(e,t)=>t.sort(Ee),[D.commentTemplateCreated]:(e,t)=>[...e,t].sort(Ee),[D.commentTemplateRemoved]:(e,t)=>e.filter((e=>e.id!==t)),[D.commentTemplateUpdated]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)].sort(Ee)}},[]),bt=(0,i.Lq)({[A.frontendSettingsFetched]:(e,t)=>{var r=Te(Te({},Object.keys(F.Wk).reduce(((e,t)=>(e[t]={key:t,value:F.Wk[t]},e)),{})),t.reduce(((e,t)=>(e[t.key]=t,e)),{}));return h.ZP.set("frontendSettings",r),r},[A.frontendSettingCreated]:(e,t)=>{e[t.key]=t;var r=Te({},e);return h.ZP.set("frontendSettings",r),r},[A.frontendSettingRemoved]:(e,t)=>{delete e[t],F.Wk[t]&&(e[t]={key:t,value:F.Wk[t]});var r=Te({},e);return h.ZP.set("frontendSettings",r),r},[A.frontendSettingUpdated]:(e,t)=>{e[t.key]=t;var r=Te({},e);return h.ZP.set("frontendSettings",r),r}},(Ae=Object.keys(F.Wk).reduce(((e,t)=>(e[t]={key:t,value:null},e)),{}),h.ZP.set("frontendSettings",Ae),Ae)),jt=(0,i.Lq)({[A.setRussianLocalizationSetting]:(e,t)=>t},{}),xt=(0,i.Lq)({[I.loadPushNotifications]:(e,t)=>t.sort(Re),[I.editPushNotifications]:(e,t)=>{var r=e.indexOf(e.find((e=>e.id===t.id)));return[...e.slice(0,r),t,...e.slice(r+1)]}},[]),St=(0,i.Lq)({[I.setSwitchNotifications]:(e,t)=>t},"employees"),Ot=(0,i.Lq)({[I.setWorkActivitiesInNotifications]:(e,t)=>t,[I.clearAllWorkActivities]:()=>[]},[]),Pt=(0,i.Lq)({[I.loadMonitoringRules]:(e,t)=>t,[I.addMonitoringRule]:(e,t)=>[...e,t],[I.removeMonitoringRule]:(e,t)=>e.filter((e=>e.id!==t))},[]),wt=(0,i.Lq)({[I.setSwitchWorkShiftsActivities]:(e,t)=>t},"workShifts"),Ct=(0,i.Lq)({[M.setSwapSetting]:(e,t)=>t},{}),kt=(0,i.Lq)({[M.setLoading]:(e,t)=>t,[I.setLoadingPush]:(e,t)=>t},!1),Tt=(0,i.Lq)({[O.loadedGroups]:(e,t)=>t},[]),Nt=(0,i.Lq)({[x.receiveFetchAllPeriodPreferences]:(e,t)=>t},[]),Rt=(0,i.Lq)({[S.receiveAllEmployeeStatuses]:(e,t)=>t,[S.resetEmployeeStatuses]:()=>[]},[]),Et=(0,i.Lq)({[S.isLoadingEmployeeStatuses]:(e,t)=>t},!1),Dt=(0,i.Lq)({[S.isRemoveEmployeeStatuses]:(e,t)=>t},!1),At=(0,i.Lq)({[w.setAutoReplaceableWorkActivities]:(e,t)=>t,[w.removeAutoReplaceableWorkActivities]:(e,t)=>e.filter((e=>e.autoReplaceId!==t))},[]),Mt=()=>(0,d.Vj)(),It=(0,i.Lq)({[q.updateAvatarHash]:()=>Mt()},Mt()),Zt=(0,i.Lq)({[y.setManagerListFilter]:(e,t)=>t},{}),qt=(0,i.Lq)({[m.setOfficesListFilter]:(e,t)=>t},{}),Ft=(0,i.Lq)({[T.setPositionsListFilter]:(e,t)=>t},{}),Lt=(0,i.Lq)({[O.setQueuesListFilter]:(e,t)=>t},{}),Ht=(0,i.Lq)({[P.setUserStatusListFilter]:(e,t)=>t},{}),_t=(0,i.Lq)({[w.setWorkActivitiesListFilter]:(e,t)=>t},{}),Bt=(0,i.Lq)({[w.setAutoChangeBunchId]:(e,t)=>t},""),Gt=(0,i.Lq)({[g.setLoading]:(e,t)=>t},!1),Wt=(0,i.Lq)({[g.receiveQueuesErlang]:(e,t)=>t,[g.clearQueuesErlang]:()=>[]},[]),Ut=(0,i.Lq)({[g.setHasErlang]:(e,t)=>Boolean(t)},!1),Vt=(0,i.Lq)({[b.receiveVacationDataMultiEdit]:(e,t)=>t,[b.editTotal]:(e,t)=>Te(Te({},e),{},{total:t}),[b.removeVacationDataMultiEdit]:()=>({})},{}),zt=(0,i.Lq)({[j.addPreference]:(e,t)=>Te(Te({},e),{},{scheduleList:[...e.scheduleList,...t.selectedIds.map((e=>({id:e,checked:t.checked})))]}),[j.removePreference]:(e,t)=>Te(Te({},e),{},{scheduleList:e.scheduleList.filter((e=>e.id!==t.id))}),[j.receiveChecked]:(e,t)=>Te(Te({},e),{},{scheduleList:e.scheduleList.map((e=>t.id===e.id?Te(Te({},e),{},{checked:!e.checked}):e))}),[j.setCheckAllCheckbox]:(e,t)=>Te(Te({},e),{},{checkedAll:t}),[j.checkAllItems]:(e,t)=>({scheduleList:e.scheduleList.map((e=>Te(Te({},e),{},{checked:t}))),checkedAll:t}),[j.removePreferences]:e=>({checkedAll:!1,scheduleList:e.scheduleList.filter((e=>!e.checked))}),[j.resetPreference]:()=>({checkedAll:!1,scheduleList:[]})},{checkedAll:!1,scheduleList:[]});const Yt=(0,s.combineReducers)({absenceWorkActivities:ct,vacationInMultiEdit:Vt,preferenceSchedulesInMultiEdit:zt,queuesErlang:Wt,allEmployeePeriodPreferences:Nt,autoReplaceableWorkActivities:At,employeeStatusList:Rt,offices:Me,officesListFilter:qt,openAutoChangeBunchId:Bt,positionsListFilter:Ft,queuesListFilter:Lt,telephonyStatusesListFilter:Ht,workActivitiesListFilter:_t,permissionGroups:Le,managers:st,currentManager:it,managersTableScrollOption:rt,managersShow:nt,queues:We,workActivities:lt,laborCode:Ce,timeSheets:ut,tasksWithSubtaskTemplates:$e,calendar:pt,skillOptions:ze,skillDataByQueue:Ye,specialDays:ht,skills:Ve,queue:Ue,period:ft,positions:Qe,taskTemplates:Je,taskTemplatesMap:et,queuesHierarchy:Be,queuesMap:Ge,globalSettings:mt,productionCalendarSettings:ge,permissionGroupsMap:He,permissionGroupsTree:_e,tasksGroupsTree:Ke,taskGroupsMap:Xe,commentTemplates:gt,frontendSettings:bt,accounting:vt,accountingLoading:yt,swap:Ct,pushNotifications:xt,switchNotifications:St,workActivitiesInNotifications:Ot,monitoringRules:Pt,switchWorkShiftsActivities:wt,isLoading:kt,isShowFiredManagers:at,avatarHash:It,groups:Tt,workActivitiesTableDisplaySettings:dt,managerTableDisplaySettings:tt,managerListFilter:Zt,skillLoading:Gt,externalSystems:Q,isLoadingEmployeeStatuses:Et,userStatuses:ot,isRemoveEmployeeStatuses:Dt,scheduleSaving:re,hasErlang:Ut,ruLocaleFrontSetting:jt})},91659:(e,t,r)=>{"use strict";r.d(t,{AA:()=>v,BV:()=>f,Bu:()=>d,DR:()=>m,E1:()=>u,E_:()=>S,Go:()=>P,NZ:()=>h,QA:()=>c,UR:()=>j,a:()=>b,eM:()=>x,gZ:()=>O,hV:()=>y,nk:()=>g});var i=r(20573),s=r(15197),n=r(22350),a=r(59893),o=r(15178),l=r(26308),c=e=>e.settings.externalSystems.externalSystemsStatuses,d=e=>e.settings.externalSystems.externalSystems,u=(0,i.createSelector)(d,a.Y,((e,t)=>e.map((e=>"default_external_system"===e.externalId?(e.name=t.formatMessage(l.D5),e):e)))),p=e=>e.settings.externalSystems.externalStatusesMapping.data.externalStatusMappings,h=e=>e.settings.externalSystems.externalStatusesMapping.data.mappingsTotal,f=e=>e.settings.externalSystems.externalStatusesMapping.isLoading,m=e=>e.settings.externalSystems.externalStatusesMapping.isSubmitting,v=e=>e.settings.externalSystems.externalStatusesMapping.filter,y=e=>e.settings.externalSystems.externalStatusesMapping.sorters,g=e=>e.settings.externalSystems.isLoadingStatuses,b=(0,i.createSelector)(p,v,y,((e,t,r)=>(0,s.dV)((0,s.Rb)(e,t),r))),j="-1",x="-2",S=(0,i.createSelector)(c,a.Y,((e,t)=>{var r=e.map((e=>e.externalId===j?(e.name=t.formatMessage(l.gD),e):e.externalId===x?(e.name=t.formatMessage(l.Qn),e):e));return(0,n.xn)(r)})),O=(0,i.createSelector)(b,(e=>{var t=e.every((e=>e.checked));return{checked:t,indeterminate:t||e.some((e=>e.checked))}})),P=(0,i.createSelector)(p,(e=>(0,o.e7)(e)))},57394:(e,t,r)=>{"use strict";r.d(t,{He:()=>i,NV:()=>a,RX:()=>l,Yj:()=>o,Yu:()=>n,zS:()=>s});var i=e=>e.settings.productionCalendarSettings.calendarList,s=e=>e.settings.productionCalendarSettings.openedCalendar.status,n=e=>e.settings.productionCalendarSettings.savingStatus.status,a=e=>e.settings.productionCalendarSettings.openedCalendarHolidays,o=e=>e.settings.productionCalendarSettings.hourNormList,l=e=>e.settings.productionCalendarSettings.isLoadingHourNormList},17666:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>R,Dj:()=>H,EU:()=>Z,GJ:()=>h,K2:()=>P,Km:()=>S,Mc:()=>te,N3:()=>$,NB:()=>z,O5:()=>j,Os:()=>k,Rd:()=>b,SK:()=>F,Sl:()=>J,T1:()=>w,TB:()=>m,Tj:()=>ie,Tv:()=>U,UO:()=>ee,Xg:()=>A,Ze:()=>L,Zi:()=>Y,_1:()=>Q,_8:()=>B,aH:()=>q,aI:()=>X,dL:()=>W,e0:()=>v,eJ:()=>G,i_:()=>E,it:()=>K,k8:()=>f,kc:()=>re,kq:()=>y,kx:()=>x,lS:()=>C,mu:()=>_,pd:()=>T,qM:()=>g,vH:()=>V,wR:()=>N,wu:()=>M,xF:()=>I,y8:()=>O,zz:()=>D});var i=r(20573),s=(r(12718),r(35667)),n=r(15197),a=r(30053),o=r(38646),l=r(60119),c=r(22350),d=r(50362),u=r(72606),p=new Intl.Collator,h=e=>e.settings.permissionGroupsMap,f=e=>e.settings.positions,m=e=>e.settings.offices,v=e=>(0,s.xb)(e.settings)?{}:e.settings.frontendSettings,y=e=>e.settings.currentManager,g=e=>e.settings.managersTableScrollOption,b=e=>e.employee.employeeFullNameHistory,j=e=>e.employee.employeePositionPeriodHistory,x=e=>e.employee.employeeGroupHistory,S=e=>e.employee.employeeOfficeHistory,O=e=>e.employee.employeeZoneHistory,P=e=>e.settings.permissionGroups,w=e=>e.settings.queues,C=e=>e.settings.queuesErlang,k=e=>{var{settings:{queuesMap:t={}}={}}=e;return t},T=e=>e.settings.taskTemplates,N=e=>e.settings.taskTemplatesMap,R=e=>e.settings.managers,E=e=>e.form.OfficeForm,D=e=>e.form.OfficeForm.values,A=e=>e.settings.managerListFilter,M=e=>e.settings.officesListFilter,I=e=>e.settings.positionsListFilter,Z=e=>e.settings.workActivitiesListFilter,q=e=>e.settings.userStatuses,F=e=>e.settings.isCreateOfficeSuccess,L=e=>e.settings.isLoading,H=e=>e.settings.isShowFiredManagers,_=e=>e.settings.avatarHash,B=e=>e.settings.workActivities.data.sort(((e,t)=>p.compare(e.name,t.name))),G=e=>e.settings.calendar,W=e=>P(e).id,U=e=>e.settings.globalSettings,V=(e,t)=>(0,i.createSelector)(v,(e=>e[t]&&e[t].value))(e),z=(0,i.createSelector)(u.Vy,(e=>(0,a.eL)(e))),Y=(0,i.createSelector)(P,(e=>{var t={valueKey:"id",labelKey:"groupName",childrenKey:"children",data:(0,s.xb)(e)?[]:[e]};return(0,o.cf)(t)})),Q=(0,i.createSelector)(f,(e=>(0,c.xn)(e))),K=((0,i.createSelector)((e=>e.scheduleSchema.scheduleSchemas),(e=>(0,c.xn)(e))),(0,i.createSelector)(m,(e=>(0,c.xn)(e)))),X=(0,i.createSelector)(R,A,(e=>e.settings.isShowFiredManagers),((e,t,r)=>{var i=e.filter((e=>r||!(0,l.oO)(e)));return(0,n.Rb)(i,t).sort(d.kV)})),J=(0,i.createSelector)(m,M,((e,t)=>(0,n.Rb)(e,t).sort())),$=(0,i.createSelector)(f,I,((e,t)=>(0,n.Rb)(e,t).sort())),ee=((0,i.createSelector)(w,(e=>e.settings.queuesListFilter),((e,t)=>(0,n.Rb)(e,t).sort((0,c.hM)()))),(0,i.createSelector)(q,(e=>e.settings.telephonyStatusesListFilter),((e,t)=>(0,n.Rb)(e,t).sort())),(0,i.createSelector)(B,Z,((e,t)=>(0,n.Rb)(e,t).sort()))),te=(0,i.createSelector)(q,(e=>(0,c.xn)(e,"externalId"))),re=(0,i.createSelector)(q,(e=>(0,c.xn)(e))),ie=(0,i.createSelector)(R,(e=>e.map((e=>({name:e.name,id:e.id,login:e.login})))))},72606:(e,t,r)=>{"use strict";r.d(t,{AY:()=>s,OX:()=>o,Qw:()=>n,Vy:()=>i,cy:()=>a});var i=e=>e.settings.skills,s=e=>e.settings.skillOptions,n=e=>e.settings.skillLoading,a=e=>e.settings.hasErlang,o=e=>e.settings.skillDataByQueue},64640:(e,t,r)=>{"use strict";r.d(t,{$i:()=>i,ZP:()=>s});var i=()=>"@wfmfront-token"+window.location.port;const s={backend:{NODE_ENV:"production"}.backend||""}},50527:(e,t,r)=>{"use strict";r.d(t,{B1:()=>o,H2:()=>l,ZP:()=>p});var i=r(82028),s=r(69355),n=r(52429);function a(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}var o="messaging.token",l="$oswfm.LOCALE",c=function(){var e,t=(e=function*(e){var t=JSON.parse(n.Z.getItem(l));return(0,i.t9)("fcm-client/create",{deviceId:e,locale:t.value}).catch((e=>console.log(e)))},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function o(e){a(n,i,s,o,l,"next",e)}function l(e){a(n,i,s,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),d=!1;"serviceWorker"in navigator&&"firebase"in window&&(window.firebase.initializeApp({databaseURL:"https://optisystems2.firebaseio.com",apiKey:"AIzaSyCxILWJqG0nILDbM3wVjnP6xv851zA8J_I",authDomain:"optisystems24.firebaseapp.com",projectId:"optisystems24",storageBucket:"optisystems24.appspot.com",messagingSenderId:"552833109845",appId:"1:552833109845:web:f4d308de01096451cea9dc",measurementId:"G-B9EZPJ7TSQ"}),window.firebase.messaging().onMessage((e=>{console.log("Message received. ",e),navigator.serviceWorker.register("/js/firebase-messaging-sw.js").then((t=>{Notification.requestPermission((r=>{if("granted"===r&&e.notification)return t.showNotification(e.notification.title,e.notification)}))})).catch((e=>{console.log("ServiceWorker registration failed",e)}))})));var u=!1;function p(e){u||(u=!0,"serviceWorker"in navigator&&"firebase"in window&&navigator.serviceWorker.register("/js/firebase-messaging-sw.js").then((t=>{var r=window.firebase.messaging();d||(r.useServiceWorker(t),d=!0),r.requestPermission().then((()=>{console.log("Notification permission granted."),r.getToken().then((r=>{r?(s.ZP.get(o)!==r&&(c(r),s.ZP.set(o,r)),u=!1,e&&e(t,r)):console.log("No Instance ID token available. Request permission to generate one.")})).catch((e=>{console.log("An error occurred while retrieving token. ",e)}))})).catch((e=>{console.log("Unable to get permission to notify. ",e)}))})))}},38935:(e,t,r)=>{"use strict";var i=r(73935),s=r(28216),n=r(13457),a=r(73727),o=r(97779),l=r(45697),c=r.n(l),d=r(29558),u=r(85893),p=e=>{var{locale:t,messages:r,children:i}=e;return(0,u.jsx)(d.Z,{locale:t,messages:r,children:i})};p.propTypes={children:c().node.isRequired,locale:c().string.isRequired,messages:c().object.isRequired};const h=p,f=(0,o.compose)((0,s.$j)((e=>e.intl)))(h);var m=r(67294),v=r(74806),y=r(16550),g=r(12788),b=r(82028),j=r(35667),x=r(12718),S=r(82821),O=r(30053);var P=r(47945),w=r(66994),C=r(42324),k=r(50049),T=r(64640),N=r(81725),{samlLogoutPath:R}=window.$oswfm,E=window.$oswfm&&window.$oswfm.backend||T.ZP.backend,D=e=>!(0,j.xb)(e)&&Boolean(e.login),A=e=>!(0,b.LP)()&&(!D(e)||e.tokenInvalid),M=(0,k.vU)({"Menu.settings":{id:"Menu.settings",defaultMessage:[{type:0,value:"Настройки"}]},ScheduleControl:{id:"ScheduleControl",defaultMessage:[{type:0,value:"Учет времени"}]},"Menu.employee":{id:"Menu.employee",defaultMessage:[{type:0,value:"Сотрудники"}]},"Menu.forecast":{id:"Menu.forecast",defaultMessage:[{type:0,value:"Прогнозы"}]},"Menu.forecast.build":{id:"Menu.forecast.build",defaultMessage:[{type:0,value:"Построить прогноз"}]},"Menu.forecast.setUntypical":{id:"Menu.forecast.setUntypical",defaultMessage:[{type:0,value:"Задать исключения"}]},"Menu.forecast.analysisTrends":{id:"Menu.forecast.analysisTrends",defaultMessage:[{type:0,value:"Анализ трендов"}]},"Menu.forecast.absenteeismCalc":{id:"Menu.forecast.absenteeismCalc",defaultMessage:[{type:0,value:"Расчёт абсентеизма"}]},"Menu.workShifts":{id:"Menu.workShifts",defaultMessage:[{type:0,value:"Рабочие смены"}]},"Menu.calendarMonth":{id:"Menu.calendarMonth",defaultMessage:[{type:0,value:"Календарь на месяц"}]},"Menu.graph":{id:"Menu.graph",defaultMessage:[{type:0,value:"График"}]},"Menu.preferences":{id:"Menu.preferences",defaultMessage:[{type:0,value:"Предпочтения"}]},"Menu.listAllRequests":{id:"Menu.listAllRequests",defaultMessage:[{type:0,value:"Заявки"}]},"Menu.listAllSwap":{id:"Menu.listAllSwap",defaultMessage:[{type:0,value:"Обмен сменами"}]},"Menu.reports":{id:"Menu.reports",defaultMessage:[{type:0,value:"Отчеты"}]},"Menu.shift":{id:"Menu.shift",defaultMessage:[{type:0,value:"Смены"}]},"Menu.schema":{id:"Menu.schema",defaultMessage:[{type:0,value:"Схемы"}]},"Menu.requests":{id:"Menu.requests",defaultMessage:[{type:0,value:"Заявки"}]},"Menu.monitoring":{id:"Menu.monitoring",defaultMessage:[{type:0,value:"Мониторинг"}]},"Menu.tasks":{id:"Menu.tasks",defaultMessage:[{type:0,value:"Задачи"}]},"Menu.scheduleChanges":{id:"Menu.scheduleChanges",defaultMessage:[{type:0,value:"Журнал изменений"}]},"Menu.export-to-kdo":{id:"Menu.export-to-kdo",defaultMessage:[{type:0,value:"Выгрузка в КДО"}]},"Menu.events":{id:"Menu.events",defaultMessage:[{type:0,value:"События"}]}}),I=r(50527),Z=r(26690),q=e=>e.isUserIdentification,F=e=>e.intl.locale;const L=()=>(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("h1",{children:"403 - Access Denied"}),(0,u.jsx)(a.rU,{to:"/",children:"Homepage"})]});var H=r(3598),_=r.n(H),B=r(17666),G=r(21186),W=r.n(G),U=r(35105),V=r(25944),z=r(91695),Y=r(71505),Q=r(20573),K=r(36853),X=r(22350),J=r(44012),$="/operator",ee="".concat($,"/work-shifts"),te="".concat(ee,"/month"),re="".concat(ee,"/week"),ie="".concat($,"/applications"),se="".concat($,"/preferences"),ne="".concat($,"/graph"),ae="".concat($,"/swaps"),oe="".concat($,"/reports"),le="".concat($,"/additional-schedules");"".concat($,"/work-hours-report");var ce=e=>e.router,de=e=>e.menu.globalSettingsAlreadyFetched,ue=e=>(0,K.PT)(e),pe=e=>e.menu.isCustomAvatar,he=(0,Q.createSelector)(C.ts,B.e0,((e,t)=>function(e){var{isBiometricsAvailable:t,isScheduleControlAvailable:r}=e;return[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast",text:(0,u.jsx)(J.Z,{id:"Menu.forecast",defaultMessage:[{type:0,value:"Прогнозы"}]}),submenu:[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/build",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.build",defaultMessage:[{type:0,value:"Построить прогноз"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/set-untypical",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.setUntypical",defaultMessage:[{type:0,value:"Задать исключения"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/analysis-trends",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.analysisTrends",defaultMessage:[{type:0,value:"Анализ трендов"}]})}]},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE,link:"/schedule",text:(0,u.jsx)(J.Z,{id:"Menu.schedule",defaultMessage:[{type:0,value:"Расписание"}]}),submenu:[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CONTAINERS,link:"/schedule/shifts",text:(0,u.jsx)(J.Z,{id:"Menu.shift",defaultMessage:[{type:0,value:"Смены"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_SCHEME,link:"/schedule/schema",text:(0,u.jsx)(J.Z,{id:"Menu.schema",defaultMessage:[{type:0,value:"Схемы"}]})},{id:(0,X.Vj)(),link:"/schedule/graph",text:(0,u.jsx)(J.Z,{id:"Menu.graph",defaultMessage:[{type:0,value:"График"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CHANGES,link:"/schedule/requests",text:(0,u.jsx)(J.Z,{id:"Menu.requests",defaultMessage:[{type:0,value:"Заявки"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.MONITORING,link:"/schedule/monitoring",text:(0,u.jsx)(J.Z,{id:"Menu.monitoring",defaultMessage:[{type:0,value:"Мониторинг"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.TASK,link:"/schedule/tasks",text:(0,u.jsx)(J.Z,{id:"Menu.tasks",defaultMessage:[{type:0,value:"Задачи"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.LOGGER,link:"/schedule/changes",text:(0,u.jsx)(J.Z,{id:"Menu.scheduleChanges",defaultMessage:[{type:0,value:"Журнал изменений"}]})}]},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS,link:"/schedule-control",text:(0,u.jsx)(J.Z,{id:"ScheduleControl",defaultMessage:[{type:0,value:"Учет времени"}]}),hidden:!r},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.OPERATORS,link:"/employee",text:(0,u.jsx)(J.Z,{id:"Menu.employee",defaultMessage:[{type:0,value:"Сотрудники"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.REPORTS,link:"/reports",text:(0,u.jsx)(J.Z,{id:"Menu.reports",defaultMessage:[{type:0,value:"Отчеты"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.BIOMETRICS,link:"/biometrics",text:(0,u.jsx)(J.Z,{id:"Menu.biometrics",defaultMessage:[{type:0,value:"Биометрия"}]}),hidden:!t},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SETTINGS,link:"/settings",text:(0,u.jsx)(J.Z,{id:"Menu.settings",defaultMessage:[{type:0,value:"Настройки"}]})}]}({isScheduleControlAvailable:t.isScheduleControlAvailable.value,isBiometricsAvailable:t.isBiometricsAvailable.value&&(0,X.BC)(e,x.ZP.RIGHTS.BIOMETRICS)}))),fe=r(94184),me=r.n(fe),ve=r(12112),ye=r(60119),ge=r(57273),be=r(22917),je=(e,t)=>{var r,i,{pathname:s}=e;return(r=s)===(i=t)||r.startsWith("".concat(i,"/"))};var xe=e=>{var{url:t,label:r,hidden:i}=e;return i?null:(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{className:"luWuuNiwmA+nROuuasjJiA==",to:t,isActive:(e,r)=>je(r,t),children:r})})};xe.defaultProps={hidden:!1},xe.defaultProps={hidden:!1},xe.propTypes={url:c().string.isRequired,label:c().any.isRequired,hidden:c().bool};const Se=xe;var Oe=e=>{var{hidden:t,items:r,user:i}=e;if(t)return null;var s=me()("F1O2BOEtmEqXIeqch2pPXA==","Fe6R2lynDJb+GI01agF-Eg==");return(0,u.jsx)("div",{className:"admin-menu",children:(0,u.jsx)("ul",{className:s,children:r.map((e=>{var{id:t,link:r,text:s,rights:n}=e,a=e.hidden||n&&!(0,X.BC)(i,n);return(0,u.jsx)(Se,{url:r,label:s,hidden:a},t)}))})})};Oe.defaultProps={hidden:!1},Oe.propTypes={items:c().array.isRequired,hidden:c().bool,user:c().object.isRequired},Oe.contextTypes={muiTheme:c().object};const Pe=Oe,we=(0,o.compose)((0,s.$j)((e=>({user:(0,C.ts)(e),items:he(e)})),{toggleSidebarMenuDrawer:be.toggleSidebarMenuDrawer}))(Pe),Ce=()=>{var e;return(0,u.jsx)("a",{style:{outline:"none"},href:"".concat(null===(e=window.$oswfm)||void 0===e?void 0:e.dashboardServer),target:"_blank",rel:"noopener noreferrer",children:(0,u.jsx)("span",{className:"_2D73-AFe6Ov0d6AXAcPXbg==",children:(0,u.jsx)(J.Z,{id:"Menu.dashBoards",defaultMessage:[{type:0,value:"Дашборды"}]})})})};var ke=(0,u.jsx)(J.Z,{id:"Menu.workShifts",defaultMessage:[{type:0,value:"Рабочие смены"}]}),Te=(0,u.jsx)(J.Z,{id:"Menu.monthCalendar",defaultMessage:[{type:0,value:"Календарь на месяц"}]}),Ne=(e,t)=>0===t.indexOf("".concat(e));var Re=e=>{var{hidden:t,user:r,submenu:i}=e;if(t)return null;if((0,j.xb)(i))return null;var s=me()("B59nGeYnWZJTDdPuq2-URw==","TDbWSB2huO8ajgJLXdrhVw==");return(0,u.jsx)("div",{className:"admin-menu",children:(0,u.jsx)("ul",{className:s,children:i.map((e=>{var{id:t,link:i,text:s,rights:n}=e,a=e.hidden||n&&!(0,X.BC)(r,n)||(0,j.xb)(i);return e.component&&!e.hidden?e.component:(0,u.jsx)(Se,{url:i,label:s,hidden:a},t)}))})})};Re.defaultProps={hidden:!1},Re.propTypes={submenu:c().array.isRequired,hidden:c().bool,user:c().object.isRequired},Re.contextTypes={muiTheme:c().object};const Ee=Re,De=(0,o.compose)(y.EN,(0,s.$j)((e=>({user:(0,C.ts)(e)}))))(Ee);var Ae=r(40767);class Me extends m.PureComponent{render(){if(this.props.hidden)return null;var{groupsMap:e,queuesMap:t,currentGroupId:r,onClick:i,isSidebarMenuOpen:s,setCurrentGroupName:n,disabled:a}=this.props,o=e[r]||t[r]||{},l=o.isGroup?o.groupName:!(0,j.xb)(e[o.groupId])&&e[o.groupId].groupName;n(l);var c=me()("_0DRe2NGNiUmtMNOd0qjOaQ==",{"yHpgiwHR8epLpbThJ3Ly3w==":s,"kj-qLhsPEkGGjHeYfDaMTw==":a}),d=me()("-GTGjR3Hbyu7uewjw6Nmkg==",{"bWReJ+mPJaboI3YyEOqDMw==":!s});return(0,u.jsx)(Ae.Z,{onClick:i,disabled:a,children:(0,u.jsx)("div",{className:"y+WZx-uoweDNM7M07KGykA==",title:l,children:(0,u.jsx)("div",{className:d,children:(0,u.jsx)("span",{className:c,children:l})})})})}}Me.defaultProps={hidden:!1,disabled:!1,groupsMap:{},queuesMap:{},currentGroupId:null},Me.propTypes={hidden:c().bool,groupsMap:c().object,queuesMap:c().object,onClick:c().func.isRequired,currentGroupId:P.K5,isSidebarMenuOpen:c().bool.isRequired,disabled:c().bool,setCurrentGroupName:c().func.isRequired};const Ie=Me;var Ze=r(60258),qe=r(85208),Fe=r(8043),Le=r(49920),He=r(51947),_e=r(65399),Be=r(86658),Ge=r(57484);const We="S+Q5TyHJNFf8HqLYVN9Hsw==",Ue="vwhU0caYiOQJMjMoVITORQ==",Ve="aDsrC8CjEeuSyb3da-Fd8g==";var ze=(0,u.jsx)(J.Z,{id:"Common.save"});class Ye extends m.PureComponent{render(){var{onSaveResponse:e,disabled:t}=this.props;return(0,u.jsx)("div",{className:"mzvR16Qi9v8Hu4IYNFp1hA==",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:ze,disabled:t,onClick:e})})}}Ye.propTypes={onSaveResponse:c().func.isRequired,disabled:c().bool.isRequired};const Qe=Ye;class Ke extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{onChange:t}=this.props,r=e.target.files[0];if(r){var i=new FormData;i.append("file",r),t(i)}}))}render(){var{text:e}=this.props,t=me()("kKV4D5ETjB83XQstgW-Wpw==","file-upload");return(0,u.jsx)("div",{className:t,children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"file",name:"file",onChange:this.handleChange}),e]})})}}Ke.propTypes={text:c().node.isRequired,onChange:c().func.isRequired};const Xe=Ke;function Je(e){var{text:t,icon:r}=e;return(0,u.jsxs)("div",{className:"text-with-icon",children:[r,t]})}Je.propTypes={text:c().node.isRequired,icon:c().node.isRequired};const $e=Je;var et=r(43637);var tt=r(59964),rt=(0,u.jsx)(et.ZP,{glyph:et.EU,style:{width:40,height:40,marginLeft:-2},classCustom:"avatar"}),it=e=>{var{userId:t,width:r,height:i,hash:s,handleDeleteImg:n,isCustomAvatar:a}=e,o=(0,tt.a)(t,s),l=(0,tt.I)(r,i,11);return t?(0,u.jsxs)("div",{className:"BuVHqLl7TfT03xePFYAEjQ==",style:l,children:[(0,u.jsx)("div",{className:me()({"SqzVF5jrSiBFga5O3MVwuQ==":a}),children:(0,u.jsx)("img",{src:o,alt:"User",style:l})}),(0,u.jsx)(Ae.Z,{className:"UQPVYIWBepcEmUpxkvqNzQ==",onClick:n,hidden:!a,children:(0,u.jsx)(et.ZP,{glyph:et.XH,className:"n8BoREFi-4SuObXgl2SWdA=="})})]}):(0,u.jsx)("div",{className:"user-form__avatar",style:l,children:rt})};it.defaultProps={hash:"0000"},it.propTypes={userId:c().string.isRequired,width:c().number.isRequired,height:c().number.isRequired,hash:c().string,handleDeleteImg:c().func.isRequired,isCustomAvatar:c().bool.isRequired};const st=it;var nt=r(97539),at=e=>{var{userId:t,width:r,height:i}=e,n=(0,s.I0)(),a=(0,s.v9)(B.mu),o=(0,s.v9)(C.rc),l=(0,s.v9)(pe);return(0,u.jsx)(st,{hash:a,width:r,height:i,userId:t,handleDeleteImg:()=>n((0,be.removeUserAvatar)(o,(()=>n((0,nt.updateAvatarHash)())))),isCustomAvatar:l})};at.defaultProps={width:40,height:40,userId:null},at.propTypes={userId:c().string,width:c().number,height:c().number};const ot=at;var lt=(0,u.jsx)(J.Z,{id:"Common.uploadPhoto",defaultMessage:[{type:0,value:"Загрузить фото"}]}),ct=(0,u.jsx)(et.ZP,{glyph:et.qp}),dt=(0,u.jsx)(et.ZP,{glyph:et.Ye});class ut extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleUploadPhoto",(e=>{var{uploadAvatar:t,updateAvatarHash:r,user:{id:i}}=this.props;t(i,e,r)}))}render(){var{user:{id:e,groupPeriod:{name:t},positionPeriod:r,zonePeriod:i,officePeriod:s}}=this.props;return(0,u.jsxs)("div",{className:"mJdDLJGNX84YtXwDYuAZ-Q==",children:[(0,u.jsx)(ot,{userId:e,width:100,height:100}),(0,u.jsxs)("div",{className:me()("ml++","_8UzI7IqnupBidOEjWRoyjw=="),children:[(0,u.jsx)("h2",{children:t}),(0,u.jsx)("div",{className:"subtext item",children:r&&r.name}),(0,u.jsx)($e,{text:i&&i.zone,icon:ct}),(0,u.jsx)($e,{text:s&&s.name,icon:dt}),(0,u.jsx)(Xe,{text:lt,onChange:this.handleUploadPhoto})]})]})}}ut.propTypes={user:c().object.isRequired,uploadAvatar:c().func.isRequired,updateAvatarHash:c().func.isRequired};const pt=ut,ht=(0,o.compose)((0,s.$j)(null,{uploadAvatar:nt.uploadAvatar,updateAvatarHash:nt.updateAvatarHash}))(pt);var ft=r(65227),mt=r(56089);class vt extends m.PureComponent{render(){var{input:{value:e,onChange:t},label:r}=this.props;return(0,u.jsxs)("div",{className:"labeled-input",children:[(0,u.jsx)("div",{className:"label",children:r}),(0,u.jsx)(mt.Z,{onChange:t,date:e,dateFormat:ft.vc,minYear:1920,isEmptyInitDate:!0})]})}}vt.propTypes={input:c().object.isRequired,label:c().node.isRequired};const yt=vt;class gt extends m.PureComponent{render(){var{input:{value:e=[]},fullWidth:t,label:r}=this.props;if((0,j.xb)(e))return null;var i=me()("labeled-input",{"full-width":t});return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:"label",children:r}),(0,u.jsx)("div",{className:"ZqZ3E5EYF6p9YcvimUxSAQ==",children:e.map(((e,t)=>(0,u.jsx)("span",{className:"nTDlFsBlDQGl+LSMo1mg5A==",children:e.externalUserId},e.id||t)))})]})}}gt.defaultProps={fullWidth:!1},gt.propTypes={label:c().any.isRequired,input:c().object.isRequired,fullWidth:c().bool};const bt=gt;var jt=(0,u.jsx)(J.Z,{id:"Employee.login",defaultMessage:[{type:0,value:"Логин WFM"}]}),xt=(0,u.jsx)(J.Z,{id:"Employee.loginExternalSystem",defaultMessage:[{type:0,value:"Логин во внешней системе"}]}),St=(0,u.jsx)(J.Z,{id:"Employee.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]}),Ot=(0,u.jsx)(J.Z,{id:"Employee.email",defaultMessage:[{type:0,value:"Электронная почта"}]}),Pt=(0,u.jsx)(J.Z,{id:"Employee.address",defaultMessage:[{type:0,value:"Фактический адрес"}]}),wt=(0,u.jsx)(J.Z,{id:"Employee.dateOfBirth",defaultMessage:[{type:0,value:"Дата рождения"}]}),Ct=(0,u.jsx)(J.Z,{id:"ManagerForm.receiveMonitoringNotify",defaultMessage:[{type:0,value:"Получать уведомления"}]});const kt="uiPzWtNKPcxywkEwIIghqA==";function Tt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nt=(0,u.jsx)(J.Z,{id:"Common.ShowText",defaultMessage:[{type:0,value:"Показать все"}]}),Rt=(0,u.jsx)(J.Z,{id:"Common.HiddenText",defaultMessage:[{type:0,value:"Свернуть"}]});class Et extends m.PureComponent{constructor(){super(...arguments),Tt(this,"state",{isOpen:!1}),Tt(this,"open",(()=>this.setState({isOpen:!0}))),Tt(this,"close",(()=>this.setState({isOpen:!1})))}render(){var{children:e}=this.props,{isOpen:t}=this.state;return(0,j.xb)(e)?null:t?(0,u.jsxs)("div",{className:"wwS79eAGA2Ecmu-ACLpozw==",children:[e,(0,u.jsx)("div",{className:kt,onClick:this.close,children:Rt})]}):(0,u.jsx)("div",{className:kt,onClick:this.open,children:Nt})}}Et.propTypes={children:c().node.isRequired};const Dt=Et;function At(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Mt extends m.PureComponent{constructor(){super(...arguments),At(this,"getItemFirst",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(0,2);return this.getItem(t)})),At(this,"getItemOther",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(2);return this.getItem(t)})),At(this,"getItem",(e=>e.map((e=>{var{id:t,start:r,end:i,name:s}=e,n=(0,ft.fv)(r,i,!0);return(0,u.jsx)("div",{children:"".concat(n," | ").concat(s)},t+r+i)}))))}render(){var{label:e,fullWidth:t,meta:{invalid:r}}=this.props,i=me()("labeled-input",{error:r,"full-width":t});return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:"label",children:e}),this.getItemFirst(),(0,u.jsx)(Dt,{children:this.getItemOther()})]})}}Mt.defaultProps={fullWidth:!1},Mt.propTypes={label:c().any.isRequired,input:c().object.isRequired,fullWidth:c().bool,meta:c().object.isRequired};const It=Mt;function Zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qt extends m.PureComponent{constructor(){super(...arguments),Zt(this,"getItemFirst",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(0,2);return this.getItem(t)})),Zt(this,"getItemOther",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(2);return this.getItem(t)})),Zt(this,"getItem",(e=>e.map((e=>{var{userTaskTemplateId:t,start:r,end:i,name:s}=e,n=(0,ft.fv)(r,i);return(0,u.jsx)("div",{children:"".concat(n," | ").concat(s)},t+r+i)}))))}render(){var{label:e,fullWidth:t,meta:{invalid:r}}=this.props,i=me()("labeled-input",{error:r,"full-width":t});return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:"label",children:e}),this.getItemFirst(),(0,u.jsx)(Dt,{children:this.getItemOther()})]})}}qt.propTypes={label:c().any.isRequired,input:c().object.isRequired,meta:c().object.isRequired,fullWidth:c().bool.isRequired};const Ft=qt;function Lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ht extends m.Component{constructor(){super(...arguments),Lt(this,"getFirstList",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(0,2);return this.getItem(t)})),Lt(this,"getSecondList",(()=>{var{input:{value:e}}=this.props;if((0,j.xb)(e))return[];var t=e.slice(2);return this.getItem(t)})),Lt(this,"getItem",(e=>e.map((e=>{var{id:t,startDate:r,endDate:i,name:s}=e,n=(0,ft.fv)(r,i,!0);return(0,u.jsx)("div",{children:"".concat(n," | ").concat(s)},t+r+i)}))))}render(){var{label:e,fullWidth:t,meta:{invalid:r}}=this.props,i=me()("labeled-input",{error:r,"full-width":t});return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:"label",children:e}),this.getFirstList(),(0,u.jsx)(Dt,{children:this.getSecondList()})]})}}Ht.defaultProps={fullWidth:!1},Ht.propTypes={label:c().any.isRequired,input:c().object.isRequired,meta:c().object.isRequired,fullWidth:c().bool};const _t=Ht;var Bt=r(15113);function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Vt extends m.PureComponent{render(){var{label:e,disabled:t,fullWidth:r,readOnly:i,type:s,autocomplete:n,value:a,onChange:o,invalid:l}=this.props,c=me()("labeled-input",{error:l,"full-width":r});return(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("div",{className:"label",children:e}),(0,u.jsx)("input",{autoComplete:n,type:s,value:a,onChange:o,disabled:t,readOnly:i})]})}}Vt.defaultProps={type:"text",autocomplete:"text",disabled:!1,fullWidth:!1,readOnly:!1},Vt.propTypes=Wt(Wt({label:c().any.isRequired},Bt.oX),{},{disabled:c().bool,fullWidth:c().bool,readOnly:c().bool,type:c().string,autocomplete:c().string});const zt=Vt;var Yt=["input","meta"];function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jt=e=>{var{input:{value:t,onChange:r},meta:{invalid:i}}=e,s=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Yt);return(0,u.jsx)(zt,Kt(Kt({onChange:r,value:t},s),{},{invalid:i}))};Jt.propTypes=Kt({},Bt.oX);const $t=Jt;var er=r(86896),tr={id:"Reports.used",defaultMessage:"Использовано"},rr={id:"ForecastGenerate.Table.PeriodYear",defaultMessage:"год"},ir={id:"Employee.from",defaultMessage:"из"},sr={id:"Employee.remainder",defaultMessage:"осталось"},nr=e=>{var{label:t}=e,r=(0,er.Z)(),i=(0,s.v9)(C.ts),n=i.vacation.previousVacation,a=i.vacation.currentVacation,o=i.vacation.nextVacation,l=r.formatMessage(tr),c=r.formatMessage(rr),d=r.formatMessage(ir),p=r.formatMessage(sr),h="".concat(n.year," ").concat(c,": ").concat(l," ").concat(n.used," ").concat(d," ").concat(n.total,", ").concat(p," - ").concat(n.remainder),f="".concat(a.year," ").concat(c,": ").concat(l," ").concat(a.used," ").concat(d," ").concat(a.total,", ").concat(p," - ").concat(a.remainder),m="".concat(o.year," ").concat(c,": ").concat(l," ").concat(o.used," ").concat(d," ").concat(o.total,", ").concat(p," - ").concat(o.remainder);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:We,children:t}),(0,u.jsx)("div",{className:"lpZa9689rhNA+6YAlrGAIA==",children:h}),(0,u.jsx)("div",{children:f}),(0,u.jsx)("div",{children:m})]})};nr.propTypes={label:c().any.isRequired};const ar=nr;var or=(0,u.jsx)(J.Z,{id:"EmployeeForm.personnelNumber",defaultMessage:[{type:0,value:"Табельный номер"}]}),lr=(0,u.jsx)(J.Z,{id:"EmployeeForm.vacationSchedule",defaultMessage:[{type:0,value:"График отпусков"}]}),cr=(0,u.jsx)(J.Z,{id:"EmployeeForm.schemeOfWork",defaultMessage:[{type:0,value:"Схема работы"}]}),dr=(0,u.jsx)(J.Z,{id:"EmployeeForm.schemeOfSkills",defaultMessage:[{type:0,value:"Навыки"}]}),ur=(0,u.jsx)(J.Z,{id:"EmployeeForm.schemeOfTasks",defaultMessage:[{type:0,value:"Задачи"}]});class pr extends m.Component{render(){var{queues:e,taskTemplates:t}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(_e.Z,{component:$t,name:"personnelNumber",label:or,readOnly:!0}),(0,u.jsx)(_e.Z,{component:ar,name:"vacationSchedule",label:lr,readOnly:!0}),(0,u.jsx)(_e.Z,{component:_t,name:"schemePeriods",label:cr,readOnly:!0}),(0,u.jsx)(_e.Z,{component:It,name:"skills",label:dr,readOnly:!0,queues:e}),(0,u.jsx)(_e.Z,{component:Ft,name:"tasks",label:ur,readOnly:!0,taskTemplates:t})]})}}pr.defaultProps={queues:[],taskTemplates:[]},pr.propTypes={queues:c().array,taskTemplates:c().array};const hr=pr;function fr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=(0,u.jsx)(J.Z,{id:"EmployeeForm.password",defaultMessage:[{type:0,value:"Пароль"}]}),vr=(0,u.jsx)(J.Z,{id:"EmployeeForm.passwordConfirm",defaultMessage:[{type:0,value:"Повторите пароль"}]}),yr=(0,u.jsx)(J.Z,{id:"Common.save"});class gr extends m.PureComponent{constructor(){super(...arguments),fr(this,"state",{pass:"",passConf:"",confirmEyeOpened:!1,passwordEyeOpened:!1}),fr(this,"handleChange",((e,t)=>{this.setState({[t]:e.target.value.replaceAll(" ","")})})),fr(this,"isValid",((e,t)=>e&&this.isEqualed(e,t))),fr(this,"isEqualed",((e,t)=>e===t)),fr(this,"handleBtnChange",(()=>{var{onChange:e}=this.props,{pass:t,passConf:r}=this.state;this.isValid(t,r)&&e(t)})),fr(this,"handleClickEye",(e=>{this.setState((t=>({[e]:!t[e]})))}))}render(){var{autocomplete:e}=this.props,{confirmEyeOpened:t,passwordEyeOpened:r}=this.state;if(!this.props.open)return null;var i=e=>e?"text":"password",{pass:s,passConf:n}=this.state,a=!this.isValid(s,n);return(0,u.jsxs)("div",{className:"password-input__form",children:[(0,u.jsxs)("div",{className:Ue,children:[(0,u.jsx)(zt,{autocomplete:e,label:mr,onChange:e=>this.handleChange(e,"pass"),value:this.state.pass,type:i(t)}),(0,u.jsx)("div",{className:Ve,children:(0,u.jsx)(Ae.Z,{onClick:()=>this.handleClickEye("confirmEyeOpened"),children:(0,He.kO)(!t)})})]}),(0,u.jsxs)("div",{className:Ue,children:[(0,u.jsx)(zt,{autocomplete:e,label:vr,invalid:!this.isEqualed(s,n),onChange:e=>this.handleChange(e,"passConf"),value:this.state.passConf,type:i(r)}),(0,u.jsx)("div",{className:Ve,children:(0,u.jsx)(Ae.Z,{onClick:()=>this.handleClickEye("passwordEyeOpened"),children:(0,He.kO)(!r)})})]}),(0,u.jsx)(Ge.Z,{type:"transparent",onClick:this.handleBtnChange,caption:yr,disabled:a})]})}}gr.defaultProps={autocomplete:"text"},gr.propTypes={open:c().bool.isRequired,onChange:c().func.isRequired,autocomplete:c().string};const br=gr;function jr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xr=(0,u.jsx)(J.Z,{id:"EmployeeForm.changePassword",defaultMessage:[{type:0,value:"Изменить пароль"}]});class Sr extends m.PureComponent{constructor(){super(...arguments),jr(this,"state",{open:!1}),jr(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))})),jr(this,"handleChange",(e=>{var{userId:t,changePassword:r}=this.props;r(t,(0,Le.H)(e)),this.toggleOpen()}))}render(){return(0,u.jsxs)("div",{className:"password-input",children:[(0,u.jsx)(Ge.Z,{type:"transparent",caption:xr,onClick:this.toggleOpen,disabled:this.props.disabled}),(0,u.jsx)(br,{open:this.state.open,onChange:this.handleChange,autocomplete:"new-password"})]})}}Sr.defaultProps={disabled:!1},Sr.propTypes={userId:c().string.isRequired,changePassword:c().func.isRequired,disabled:c().bool};const Or=Sr,Pr=(0,o.compose)((0,s.$j)((e=>({disabled:(0,B.vH)(e,"isUserPasswordChangeBlocked")})),{changePassword:nt.changePassword}))(Or);var wr=r(96797),Cr=r(16928);function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Tr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nr=e=>{var{onSubmit:t,onCloseRequest:r,user:i,pristine:s,queues:n,taskTemplates:a,frontendSettings:o,formValue:l,hash:c,receiveIsCustomUserAvatar:d,initialValues:p}=e;(0,m.useEffect)((()=>d(p.id)),[c]);var h=()=>{t(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach((function(t){Tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l)),r()},f=i.role===x.ZP.ROLE.OPERATOR,v=(0,X.BC)(i,x.ZP.RIGHTS.MONITORING);return(0,u.jsxs)("div",{className:"user-form",children:[(0,u.jsx)(ht,{user:i}),(0,u.jsx)(Be.ZP,{children:(0,u.jsxs)("div",{className:"actVet1teT3eqnAm719ErA==",children:[(0,u.jsxs)("form",{onSubmit:h,children:[(0,u.jsx)(_e.Z,{component:$t,name:"login",label:jt,readOnly:!0,fullWidth:!0}),f&&(0,u.jsx)(_e.Z,{component:bt,name:"externalUserIds",label:xt,readOnly:!0}),(0,u.jsx)(Pr,{userId:i.id}),(0,u.jsx)(_e.Z,{component:Cr.Z,type:"text",name:"phoneNumber",hintText:"+X(XXX)XXX-XX-XX",label:St,disabled:f&&o.blockEditUserProfile.value,labelClassName:We}),(0,u.jsx)(_e.Z,{component:He.fM,type:"text",name:"email",hintText:"example@domain.com",label:Ot,disabled:f&&o.blockEditUserProfile.value,labelClassName:We,isShowErrorWithoutTouched:!0}),(0,u.jsx)(_e.Z,{component:yt,name:"dateOfBirth",label:wt}),(0,u.jsx)(_e.Z,{component:$t,name:"address",label:Pt,fullWidth:!0}),!f&&v&&(0,u.jsx)(_e.Z,{component:wr.XZ,name:"receiveMonitoringNotify",label:Ct,className:"WPbXb3dpzWOYM0RSv4S4Jw=="})]}),f&&(0,u.jsx)(hr,{queues:n,taskTemplates:a})]})}),(0,u.jsx)(Qe,{onSaveResponse:h,disabled:s})]})};Nr.defaultProps={queues:[],taskTemplates:[],formValue:null},Nr.propTypes={user:c().object.isRequired,frontendSettings:c().object.isRequired,onCloseRequest:c().func.isRequired,queues:c().array,taskTemplates:c().array,onSubmit:c().func.isRequired,pristine:c().bool.isRequired,formValue:c().object,hash:c().string.isRequired,receiveIsCustomUserAvatar:c().func.isRequired,initialValues:c().object.isRequired};const Rr=Nr;function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Ar(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ar(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mr="userForm";const Ir=(0,o.compose)((0,s.$j)((e=>({frontendSettings:(0,B.e0)(e),initialValues:(0,C.ts)(e),queues:(0,B.T1)(e),taskTemplates:(0,B.pd)(e),formValue:(0,qe.Z)(Mr)(e),hash:(0,B.mu)(e)})),{updateUser:nt.updateUser,receiveIsCustomUserAvatar:be.receiveIsCustomUserAvatar},((e,t,r)=>{return Dr(Dr(Dr(Dr({},e),t),r),{},{onSubmit:(i=t.updateUser,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{password:t}=e,r=(0,Le.H)(t),s=Dr(Dr({},e),{},{password:r});i(s)})});var i})),(0,Fe.Z)({form:Mr,validate:He.Lk}))(Rr);var Zr=r(34961);function qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fr extends m.PureComponent{constructor(){super(...arguments),qr(this,"state",{isUserFormOpen:!1}),qr(this,"toggleUserFormOpen",(()=>{var{frontendSettings:e,user:t}=this.props,r=(0,ye.EE)(t),i=e.isOzonEmployeeWorkspaceBlocked.value;!r&&i||this.setState((e=>({isUserFormOpen:!e.isUserFormOpen})))}))}render(){var{user:{namePeriod:e,id:t},frontendSettings:r}=this.props,i=(0,ye.Pp)(e),s=(0,ye.EE)(this.props.user),n=r.isOzonEmployeeWorkspaceBlocked.value;return(0,u.jsxs)("div",{className:"iWMNUutUXHdH0mWGaByf-A==",children:[(0,u.jsx)(Ae.Z,{onClick:this.toggleUserFormOpen,className:"M7alHnhKQ1u7bCPhDz7FNg==",disabled:!s&&n,children:(0,u.jsx)(Zr.q,{userId:t})}),(0,u.jsx)(Ze.ZP,{open:this.state.isUserFormOpen,handleBackArrow:this.toggleUserFormOpen,title:i,children:(0,u.jsx)(Ir,{user:this.props.user,onCloseRequest:this.toggleUserFormOpen})})]})}}Fr.defaultProps={frontendSettings:{}},Fr.propTypes={user:c().object.isRequired,frontendSettings:c().object};const Lr=Fr;var Hr=r(78269),_r=r(69355);class Br extends m.PureComponent{render(){var{logout:e,intl:t}=this.props,r=t.formatMessage({id:"Menu.exit",defaultMessage:[{type:0,value:"Выйти"}]});return(0,u.jsx)(Ae.Z,{className:"DW6v3z9CWQ6PmptH8eqs6Q==",onClick:e,children:(0,u.jsx)("div",{title:r,children:(0,u.jsx)(et.ZP,{glyph:et.RD,className:"_9AehEvtN-+AcYEPRYx6mVA=="})})})}}Br.propTypes={logout:c().func.isRequired,intl:P.gm.isRequired};const Gr=Br;var Wr=r(42517),{samlLogoutPath:Ur}=window.$oswfm;const Vr=(0,o.compose)(v.ZP,(0,s.$j)(null,(e=>({logout:()=>{e((0,N.signOut)(_r.ZP.get(I.B1),(()=>{e((0,Wr.setHierarchyAlreadyFetched)(!1)),e((0,Hr.setOperatorGlobalSettingsAlreadyFetched)(!1)),e((0,Hr.setOperatorDataAlreadyFetched)(!1)),e((0,be.setGlobalSettingsAlreadyFetched)(!1)),e((0,S.fetchInitFrontendSettings)()),Ur&&(window.location.href=R),(0,N.disconnect)()})))}}))))(Gr);class zr extends m.PureComponent{render(){if(this.props.hidden)return null;var{items:e}=this.props;return(0,u.jsx)("ul",{className:"As6yFYIUvg6ko0bdt0wVBw==",children:e.map((e=>(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:e.link,activeClassName:"active",isActive:(t,r)=>je(r,e.link),children:e.text})},e.id)))})}}zr.defaultProps={hidden:!1},zr.propTypes={hidden:c().bool,items:c().array.isRequired};const Yr=zr;var Qr=r(72772),Kr=r(29701),Xr=r(28934),Jr=[],$r=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(t)&&0!==t.length)return t.forEach((t=>{Jr.push(t.value),e(t.children,t,r+1)})),Jr};const ei={container:"KRL-JW06ETE82Y5R4wQgGQ==",noNodes:"n+q8NqFbPqTtMzR2fhbIXw==",main:"uFrIRatJH-9T1ntAeZKYzA==",parent:"CMaXtDGK3YjZ4rUB-u1L0w==",item:"iaL0IuIrFNe+JCzEcYxjJA==",radio:"fkS3cmF4qSasJNZAMnxaJg==",activeLabel:"kv3tujsTd46nmAjvzErLiQ==",someChecked:"mw6i8e-3pM8pnW+CAfQ7hw==",arrow:"V+sade4qRBeBxCRrKmhIJA==",clickable:"j+laZqYAIz-19iNWr51QOg==",moreThenTwoLevels:"HMK2RythoKi5QFk-PNQwaw==",withoutChildren:"QxKPagI7iYeT9Juvu5JRkA==",flatButtonContainer:"ia+yWeH3qRZOCGIBj-TlHw==",ellipsisContainer:"A3d3MIcJ6+Bc-tVz86MAdw=="};function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ri(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ii{constructor(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ri(this,"setProps",(e=>{this.props=e})),ri(this,"clone",(()=>{var e={};return Object.keys(this.flatNodes).forEach((t=>{var r=this.flatNodes[t];e[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(r),!0).forEach((function(t){ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)})),new ii(this.props,e)})),ri(this,"getNode",(e=>this.flatNodes[e])),ri(this,"flattenNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Array.isArray(e)&&0!==e.length&&e.forEach(((e,s)=>{var n=t.nodeHasChildren(e);t.flatNodes[e.value]={children:e.children,parent:r,isParent:n,isLeaf:!n,treeDepth:i,value:e.value,label:e.label,index:s},t.flattenNodes(e.children,e,i+1)}))})),ri(this,"nodeHasChildren",(e=>Array.isArray(e.children)&&e.children.length>0)),ri(this,"serializeList",(e=>{var t=[];return Object.keys(this.flatNodes).forEach((r=>{this.flatNodes[r][e]&&t.push(r)})),t})),ri(this,"deserializeLists",(e=>{var t=["expanded"];Object.keys(this.flatNodes).forEach((e=>{t.forEach((t=>{this.flatNodes[e][t]=!1}))})),t.forEach((t=>{e[t].forEach((e=>{void 0!==this.flatNodes[e]&&(this.flatNodes[e][t]=!0)}))}))})),ri(this,"toggleChecked",((e,t)=>{var r=this.flatNodes[e.value];r.isLeaf?this.toggleNode(e.value,"checked",t):(this.toggleNode(e.value,"checked",t),r.children.forEach((e=>{this.toggleChecked(e,t)})))})),ri(this,"toggleNode",((e,t,r)=>(this.flatNodes[e][t]=r,this))),this.props=e,this.flatNodes=r}}const si=ii;var ni=r(47166),ai=r.n(ni),oi=r(43376);function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ci(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class di extends m.PureComponent{render(){var{toggleOpen:e,isOpen:t,hidden:r}=this.props,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach((function(t){ci(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t?{}:{transform:"rotate(-90deg)"});return r?null:(0,u.jsx)("span",{className:ei.flatButtonContainer,children:(0,u.jsx)(oi.Z,{onClick:e,children:(0,u.jsx)(et.ZP,{classCustom:ei.arrow,glyph:et.Zx,style:i})})})}}di.defaultProps={toggleOpen:O.wA,isOpen:!1,hidden:!1},di.propTypes={toggleOpen:c().func,isOpen:c().bool,hidden:c().bool};const ui=di;var pi=ai().bind(ei),hi=e=>{var t,{treeDepth:r,value:i,onClick:s,onCheck:n,onExpand:a,expanded:o,checked:l,isParent:c,children:d,label:p}=e,h=Boolean(d),f=pi({[ei.main]:0===r,[ei.parent]:c,[ei.noNodes]:!h,[ei.moreThenTwoLevels]:r>2}),m=ai()(f,{[ei.withoutChildren]:!h});return(0,u.jsxs)("li",{className:m,children:[(0,u.jsx)("span",{className:ei.item,children:(0,u.jsx)("span",{className:pi({activeLabel:l,ellipsisContainer:!0}),title:p,children:(t=p,(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{children:(0,u.jsx)(ui,{isOpen:o,toggleOpen:()=>{c&&a({value:i,expanded:!o})},hidden:!h})}),(0,u.jsx)("span",{className:pi({clickable:h}),onClick:()=>{s(i),n(i)},children:t})]}))})}),o?d:null]})};hi.defaultProps={children:null},hi.propTypes={treeDepth:c().number.isRequired,value:P.K5.isRequired,onClick:c().func.isRequired,onCheck:c().func.isRequired,onExpand:c().func.isRequired,expanded:c().bool.isRequired,checked:c().bool.isRequired,isParent:c().bool.isRequired,children:c().node,label:c().node.isRequired};const fi=hi;var mi=e=>{var{nodes:t}=e,r=(0,s.v9)(B.K2),[i,n]=(0,m.useState)([(0,Xr.nJ)(r)]),[a,o]=(0,m.useState)(""),l=(0,m.useMemo)((()=>{var r=new si(e);return r.flattenNodes(t),r.deserializeLists({expanded:i}),r}),[JSON.stringify(e.nodes)]);(0,m.useEffect)((()=>{if(e.filter){var r=$r(t);n(r),l.setProps(e),l.flattenNodes(t),l.deserializeLists({checked:a,expanded:r})}else l.setProps(e),l.flattenNodes(t),l.deserializeLists({checked:a,expanded:i})}),[e.filter,JSON.stringify(e.nodes),i.length,a]);var c=e=>{l.toggleNode(e.value,"expanded",e.expanded),n(l.serializeList("expanded"))},d=e=>{o(e)},p=function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{filter:s}=e,n=r.map((r=>{var n=r.value,o=l.getNode(r.value),p=o.isParent?t(r.children,r):null;if(i.value&&!l.getNode(i.value).expanded)return null;var h=r.value===a;return(0,u.jsx)(fi,{checked:h,value:r.value,filter:s,isParent:o.isParent,isLeaf:o.isLeaf,onClick:e.onClick,onCheck:d,onExpand:c,currentNode:r,flatNode:o,label:r.label,expanded:o.expanded,treeDepth:o.treeDepth,children:p},n)}));return(0,u.jsx)("ul",{children:n})},h=(0,m.useMemo)((()=>p(t)),[JSON.stringify(t),i.length,a,e.filter]);return(0,u.jsx)("div",{className:ei.container,children:h})};mi.defaultProps={onClick:O.wA,filter:""},mi.propTypes={filter:c().string,onClick:c().func,nodes:c().array.isRequired};const vi=mi;var yi=r(16313),gi=r.n(yi);function bi(e,t){return t===e.value||!(0,j.xb)(e.children)&&e.children.some((e=>bi(e,t)))}function ji(e,t){e.children&&(e.children=e.children.filter((e=>bi(e,t))),e.children.forEach((e=>ji(e,t))))}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach((function(t){Oi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pi=e=>{var{nodes:t,formValues:{groupId:r}}=e,i=(0,m.useMemo)((()=>function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=gi()(e[0]);return(0,j.xb)(r)?[]:(0,j.xb)(t)?e:((0,j.xb)(t)||ji(r,t),[r])}(t,r)),[JSON.stringify(t),r]),s=me()("b9KnJQcUtBvDMMW0bs2-kw==",{"_1yooHxPsqaTnbM0KDjTfBA==":!r});return(0,u.jsxs)("div",{className:"hAebtg2Bob7MMiUJg03QQA==",children:[(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)(_e.Z,{component:Kr.Z,name:"groupId",animated:!1}),(0,u.jsx)(Ae.Z,{onClick:()=>{e.clearFilter()},disabled:!r,children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]}),(0,u.jsx)("div",{className:"_9FXsq2Vmvc84FcYkrQL77A==",children:(0,u.jsx)(vi,{nodes:i,filter:r,onClick:t=>{var{updateCurrentGroupId:r,toggleSidebarMenuDrawer:i}=e;r(t),i()}})})]})};Pi.propTypes=Si(Si({},Bt.ZP),{},{nodes:c().array.isRequired,formValues:c().object,toggleSidebarMenuDrawer:c().func.isRequired,clearFilter:c().func.isRequired,updateCurrentGroupId:c().func.isRequired}),Pi.defaultProps={formValues:{}};const wi=Pi;var Ci=r(25493);function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach((function(t){Ni(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ni(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ri="sidebarMenu";const Ei=(0,o.compose)((0,s.$j)((e=>({permissionGroupTree:(0,B.K2)(e),router:ce(e),nodes:(0,B.Zi)(e),formValues:(0,qe.Z)(Ri)(e)||{}})),{toggleSidebarMenuDrawer:be.toggleSidebarMenuDrawer,change:Qr.m,updateCurrentGroupId:Wr.updateCurrentGroupId},((e,t,r)=>Ti(Ti(Ti(Ti({},e),t),r),{},{clearFilter:()=>{t.change(Ri,"groupId","")}}))),(0,Fe.Z)({form:Ri}),(0,Ci.c)(["router"]))(wi);var Di=e=>{var{user:t,frontendSettings:r,globalSettings:i,location:n,currentGroupId:a,setCurrentGroupName:o,groupsMap:l,queuesMap:c,toggleSidebarMenuDrawer:d,isSidebarMenuOpen:p,isPageLoading:h}=e,f=(0,ye.EE)(t),m=(0,s.v9)((e=>(0,B.vH)(e,"isShowEvents"))),v=(0,s.v9)((e=>(0,B.vH)(e,"isScheduleControlAvailable"))),y=(0,s.v9)((e=>(0,B.vH)(e,"isShowLinksToDashboards"))),g=(0,s.v9)((e=>(0,B.vH)(e,"isBiometricsAvailable"))),b=(0,s.v9)((e=>(0,B.vH)(e,"isKdoExportAvailable"))),S={isScheduleControlAvailable:v,isShowLinksToDashboards:y,isBiometricsAvailable:g&&(0,X.BC)(t,x.ZP.RIGHTS.BIOMETRICS),isKdoExportAvailable:b&&(0,X.BC)(t,x.ZP.RIGHTS.KDO_STATUS_CONTAINERS),isShowEvents:m&&(0,X.BC)(t,x.ZP.RIGHTS.TASK)},O={isShowReportsItem:"true"===i.IS_ACCOUNTING_REPORT_FOR_OPERATOR_ENABLED,isScheduleExchangeAvailable:r.isScheduleExchangeAvailable.value,isShowEmployeePreferences:r.isShowEmployeePreferences.value,isOzonEmployeeWorkspaceBlocked:r.isOzonEmployeeWorkspaceBlocked.value,isShowSwaps:"true"===i.SWAP_SCHEDULE_SERVICE_STATUS},P=function(e){var{isBiometricsAvailable:t,isScheduleControlAvailable:r,isKdoExportAvailable:i,isShowEvents:s,isShowLinksToDashboards:n}=e;return[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast",text:(0,u.jsx)(J.Z,{id:"Menu.forecast",defaultMessage:[{type:0,value:"Прогнозы"}]}),submenu:[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/build",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.build",defaultMessage:[{type:0,value:"Построить прогноз"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/set-untypical",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.setUntypical",defaultMessage:[{type:0,value:"Задать исключения"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/analysis-trends",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.analysisTrends",defaultMessage:[{type:0,value:"Анализ трендов"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.FORECASTING,link:"/forecast/absenteeism-calc/",text:(0,u.jsx)(J.Z,{id:"Menu.forecast.absenteeismCalc",defaultMessage:[{type:0,value:"Расчёт абсентеизма"}]})}]},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE,link:"/schedule",text:(0,u.jsx)(J.Z,{id:"Menu.schedule",defaultMessage:[{type:0,value:"Расписание"}]}),submenu:[{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CONTAINERS,link:"/schedule/shifts",text:(0,u.jsx)(J.Z,{id:"Menu.shift",defaultMessage:[{type:0,value:"Смены"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_SCHEME,link:"/schedule/schema",text:(0,u.jsx)(J.Z,{id:"Menu.schema",defaultMessage:[{type:0,value:"Схемы"}]})},{id:(0,X.Vj)(),link:"/schedule/graph",text:(0,u.jsx)(J.Z,{id:"Menu.graph",defaultMessage:[{type:0,value:"График"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CHANGES,link:"/schedule/requests",text:(0,u.jsx)(J.Z,{id:"Menu.requests",defaultMessage:[{type:0,value:"Заявки"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.MONITORING,link:"/schedule/monitoring",text:(0,u.jsx)(J.Z,{id:"Menu.monitoring",defaultMessage:[{type:0,value:"Мониторинг"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.TASK,link:"/schedule/tasks",text:(0,u.jsx)(J.Z,{id:"Menu.tasks",defaultMessage:[{type:0,value:"Задачи"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.LOGGER,link:"/schedule/changes",text:(0,u.jsx)(J.Z,{id:"Menu.scheduleChanges",defaultMessage:[{type:0,value:"Журнал изменений"}]})},{id:(0,X.Vj)(),link:"/schedule/events",text:(0,u.jsx)(J.Z,{id:"Menu.events",defaultMessage:[{type:0,value:"События"}]}),hidden:!s},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CHANGES,link:"/schedule/export-to-kdo",text:(0,u.jsx)(J.Z,{id:"Menu.export-to-kdo",defaultMessage:[{type:0,value:"Выгрузка в КДО"}]}),hidden:!i}]},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS,link:"/schedule-control",text:(0,u.jsx)(J.Z,{id:"ScheduleControl",defaultMessage:[{type:0,value:"Учет времени"}]}),hidden:!r},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.OPERATORS,link:"/employee",text:(0,u.jsx)(J.Z,{id:"Menu.employee",defaultMessage:[{type:0,value:"Сотрудники"}]})},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.REPORTS,link:"/reports",text:(0,u.jsx)(J.Z,{id:"Menu.reports",defaultMessage:[{type:0,value:"Отчеты"}]}),submenu:[{id:(0,X.Vj)(),link:"/reports/main",text:(0,u.jsx)(J.Z,{id:"Menu.mainReports",defaultMessage:[{type:0,value:"Основные"}]})},{id:(0,X.Vj)(),link:"/reports/custom",text:(0,u.jsx)(J.Z,{id:"Menu.customReports",defaultMessage:[{type:0,value:"Пользовательские"}]})},{id:(0,X.Vj)(),component:(0,u.jsx)(Ce,{}),text:"",hidden:!n}]},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.BIOMETRICS,link:"/biometrics",text:(0,u.jsx)(J.Z,{id:"Menu.biometrics",defaultMessage:[{type:0,value:"Биометрия"}]}),hidden:!t},{id:(0,X.Vj)(),rights:x.ZP.RIGHTS.SETTINGS,link:"/settings",text:(0,u.jsx)(J.Z,{id:"Menu.settings",defaultMessage:[{type:0,value:"Настройки"}]})}]}(S),w=function(e){var{isShowReportsItem:t,isScheduleExchangeAvailable:r,isShowEmployeePreferences:i,isOzonEmployeeWorkspaceBlocked:s,isShowSwaps:n}=e,a=[{id:(0,X.Vj)(),link:ee,text:s?Te:ke},{id:(0,X.Vj)(),link:ie,text:(0,u.jsx)(J.Z,{id:"Menu.listAllRequests",defaultMessage:[{type:0,value:"Заявки"}]})}];return s||a.push({id:(0,X.Vj)(),link:ne,text:(0,u.jsx)(J.Z,{id:"Menu.graph",defaultMessage:[{type:0,value:"График"}]})}),t&&a.push({id:(0,X.Vj)(),link:oe,text:(0,u.jsx)(J.Z,{id:"Menu.reports",defaultMessage:[{type:0,value:"Отчеты"}]})}),i&&a.push({id:(0,X.Vj)(),link:se,text:(0,u.jsx)(J.Z,{id:"Menu.preferences",defaultMessage:[{type:0,value:"Предпочтения"}]})}),r&&n&&a.push({id:(0,X.Vj)(),link:ae,text:(0,u.jsx)(J.Z,{id:"Menu.listAllSwap",defaultMessage:[{type:0,value:"Обмен сменами"}]})}),a}(O),C=((e,t)=>{if((0,j.xb)(e))return[];var r=[];return e.forEach((e=>{var{link:i,aliases:s}=e,n=s&&s.some((e=>Ne(e,t)));r=Ne(i,t)||n?e.submenu||[]:r})),r})(P,n.pathname),k=(0,j.xb)(C),T=me()("sD0dVg8wnUDeiMyYxay5gw==",{"zD34HuPWK1fZqF0WA2oNrg==":f,"_3jxzSB8rmrQ8oQBzLwoM+Q==":!f},{"eq9Hb4dj50EGG8SUiwr3yg==":k}),N=!f||h;return(0,u.jsxs)("div",{className:"main-menu not-printable",children:[(0,u.jsxs)("div",{className:T,children:[(0,u.jsx)(we,{hidden:!f}),(0,u.jsx)(Yr,{items:w,hidden:f}),(0,u.jsxs)("div",{className:"zsSUq4Epalr84N8YAaJ94w==",children:[(0,u.jsx)(Ie,{currentGroupId:a,setCurrentGroupName:o,groupsMap:l,queuesMap:c,disabled:N,hidden:!f,onClick:d,isSidebarMenuOpen:p}),(0,u.jsx)(Lr,{user:t,frontendSettings:r}),(0,u.jsx)(Vr,{})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(De,{hidden:!f,submenu:C}),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ve.ZP,{open:p,anchor:"right",className:"_5N5MeE6Yv-8dJZ665+SXCA==",onClose:d,children:(0,u.jsx)(Ei,{})})})]})]})};Di.defaultProps={isPageLoading:!1,currentGroupId:null},Di.propTypes=_()({frontendSettings:c().object.isRequired,isSidebarMenuOpen:c().bool.isRequired,groupsMap:c().object.isRequired,queuesMap:c().object.isRequired,currentGroupId:P.K5,globalSettings:c().object.isRequired,user:ge.Z.isRequired,toggleSidebarMenuDrawer:c().func.isRequired,location:c().object.isRequired,isPageLoading:c().bool,setCurrentGroupName:c().func.isRequired});const Ai=Di,Mi=(0,o.compose)(y.EN,(0,s.$j)((e=>({frontendSettings:(0,B.e0)(e),globalSettings:(0,B.Tv)(e),globalSettingsAlreadyFetched:de(e),user:(0,C.ts)(e),currentGroupId:(0,Y.Wx)(e),groupsMap:(0,B.GJ)(e),queuesMap:(0,B.Os)(e),isSidebarMenuOpen:(0,z.getSidebarMenuOpenStatus)(e),isPageLoading:ue(e)})),(e=>({toggleSidebarMenuDrawer:()=>e((0,be.toggleSidebarMenuDrawer)()),setCurrentGroupName:t=>e((0,Wr.setCurrentGroupName)(t)),fetchGlobalSettings:()=>e((0,V.fetchGlobalSettings)()),setGlobalSettingsAlreadyFetched:t=>e((0,be.setGlobalSettingsAlreadyFetched)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.globalSettingsAlreadyFetched||(t.fetchGlobalSettings(),t.setGlobalSettingsAlreadyFetched(!0))})),(0,Ci.c)(["history","match","staticContext","globalSettingsAlreadyFetched","fetchGlobalSettings","setGlobalSettingsAlreadyFetched"]))(Ai);var Ii=r(41524),Zi=r(54813),qi=e=>{var{children:t,favicon:r}=e;return(0,u.jsxs)("div",{className:"page__layout",children:[(0,u.jsx)(W(),{url:r}),(0,u.jsx)(Mi,{}),(0,u.jsx)("div",{className:"page__content",children:t}),(0,u.jsx)(Ii.c,{}),(0,u.jsx)(Zi.y,{})]})};qi.defaultProps={favicon:null},qi.propTypes={children:c().node.isRequired,favicon:c().node};const Fi=qi;var Li=e=>{var{children:t}=e,r=(0,s.v9)((e=>(0,B.vH)(e,"faviconLogo")));return(0,u.jsx)(Fi,{favicon:r,children:t})};Li.propTypes=_()({children:c().object.isRequired});const Hi=Li;var _i=r(71319),Bi=e=>{var{children:t}=e,r=(0,s.I0)(),i=(0,s.v9)(Y.Wx),n=(0,s.v9)(Y.KG),a=(0,s.v9)(C.ts),o=(0,s.v9)((e=>(0,B.vH)(e,"faviconLogo")));return(0,m.useEffect)((()=>{(0,ye.TM)(a)&&!n&&(r((0,_i.fetchHierarchyTree)()),r((0,Wr.setHierarchyAlreadyFetched)(!0)))}),[r,n,a]),i?(0,u.jsx)(Fi,{favicon:o,children:t}):null};Bi.defaultProps={children:null},Bi.propTypes=_()({children:c().node});const Gi=Bi,Wi=()=>(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("h1",{children:"404 - Page Not Found"}),(0,u.jsx)(a.rU,{to:"/",children:"Homepage"})]});var Ui=e=>{var{user:t}=e;return(0,ye.TM)(t)?(0,u.jsx)(y.l_,{to:x.ZP.MANAGER_HOME_PATH}):(0,u.jsx)(y.l_,{to:x.ZP.OPERATOR_HOME_PATH})};Ui.propTypes={user:P.jZ.isRequired};const Vi=Ui;var zi=r(10152),Yi=r(27856),Qi=r(67705);function Ki(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xi="vertical",Ji="horizontal";class $i extends m.PureComponent{constructor(e){super(e),Ki(this,"handleMouseDown",(e=>{this.dragStart={x:e.clientX,y:e.clientY},e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()})),Ki(this,"handleDragStop",(()=>{this.dragStart&&(this.props.onDrag(this.state.dragDelta),this.setState({dragDelta:0},(()=>{this.dragStart=0})))})),Ki(this,"handleMouseMove",(e=>{if(this.dragStart){var{clientX:t,clientY:r}=e,i=t-this.dragStart.x,s=r-this.dragStart.y;return this.setState({dragDelta:this.props.orientation===Ji?i:s}),document.selection?document.selection.empty():window.getSelection().removeAllRanges(),!1}})),this.dragStartCoordinates=null,this.state={dragDelta:0}}componentDidMount(){document.addEventListener("mouseup",this.handleDragStop,!1),document.addEventListener("touchend",this.handleDragStop,!1),document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1)}componentWillUnmount(){document.removeEventListener("mouseup",this.handleDragStop,!1),document.removeEventListener("touchend",this.handleDragStop,!1),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1)}render(){var{activeHandlerColor:e,style:t,orientation:r}=this.props,{dragDelta:i}=this.state,s={backgroundColor:i?e:"transparent",position:"absolute",zIndex:100,top:r===Xi&&this.state.dragDelta,left:r===Ji&&this.state.dragDelta,boxShadow:this.dragStartCoordinates&&"rgba(0, 0, 0, 0.23) 0 0 10px"};return(0,u.jsx)("div",{className:"resizable-grid__grid-handler-container resizable-grid__grid-handler-container_"+r,style:t,children:(0,u.jsx)("div",{style:s,role:"presentation",className:"resizable-grid__grid-handler resizable-grid__grid-handler_"+r,onMouseDown:this.handleMouseDown})})}}$i.defaultProps={orientation:Ji,activeHandlerColor:Qi.mW,style:{}},$i.propTypes={orientation:c().oneOf([Xi,Ji]),activeHandlerColor:c().string,onDrag:c().func.isRequired,style:c().object};const es=$i;r(39209);var ts=r(96130),rs=r(32384),is=r(66883);var ss=r(30381),ns=r.n(ss),as=e=>"ASSIGNED"===e,os=(e,t)=>ns()(e.start,ft._E).unix()>ns()(t.start,ft._E).unix()?1:-1;function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ds=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Additional.Save"});class us extends m.PureComponent{constructor(){super(...arguments),cs(this,"validate",(()=>{var{isActiveSaveButton:e}=this.props,t=this.getParamsForSave();return Boolean(t.length)||e})),cs(this,"getParamsForSave",(()=>{var{data:e,setting:t}=this.props,r=[],i=(0,X.xn)(e);return Object.keys(t).forEach((e=>{var s=t[e],n=i[e];if(n){var{isShowSelect:a,userId:o}=s,{start:l,id:c}=n,d=!(e=>!e||ns()(e,ft._E).unix()<ns()().unix())((0,ft.I_)(l));if(d&&a&&o){var u={userId:o,additionalScheduleId:c};r.push(u)}}})),r})),cs(this,"handleSuccess",(()=>{this.props.toggleShowAdditionalWindow(!1)})),cs(this,"handleClick",(()=>{var{skillId:e,date:t}=this.props,r=this.getParamsForSave();this.props.saveAdditionalUserSchedule(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){cs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({assigns:r,skillId:e},t),this.handleSuccess)}))}render(){var e=!this.props.disabled&&this.validate();return(0,u.jsx)("div",{className:"bottom-panel",children:(0,u.jsx)("div",{className:"container-drawer",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:ds,disabled:!e,onClick:this.handleClick})})})}}us.defaultProps={date:{},skillId:"",disabled:!1,isActiveSaveButton:!1},us.propTypes={isActiveSaveButton:c().bool,disabled:c().bool,skillId:c().string,date:c().object,saveAdditionalUserSchedule:c().func.isRequired,toggleShowAdditionalWindow:c().func.isRequired,data:c().array.isRequired,setting:c().object.isRequired};const ps=us;var hs=r(546),fs=r(62574);function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ys(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const gs=(0,o.compose)((0,s.$j)((e=>({data:(0,hs.af)(e),setting:(0,hs.ot)(e),skillId:(0,hs.lX)(e),date:(0,hs.SS)(e),isActiveSaveButton:(0,hs.Do)(e)})),{saveAdditionalUserSchedule:fs.saveAdditionalUserSchedule,toggleShowAdditionalWindow:fs.toggleShowAdditionalWindow},((e,t,r)=>vs(vs(vs(vs({},e),t),r),{},{disabled:(0,ft.zR)(e.date.from)}))))(ps);var bs=r(63078);const js={cell1:"_2h62UqCFroOdmbJGBn05Og==",cell2:"qEfnLMvyJdBvHBdKTIi8Aw==",item:"EWbZmlwT0iSmM4RzeuXxAA==",first:"IBAuK-n1ZI-KkiebG4vnzg==",show:"GaRz8QzAPkMxpkSHjzYLrw==",hidden:"GNqw3Grr3Pp488HQS9PxSQ==",select:"+ccltkPA2Zt07aU8ehhU5A==",icon:"HhIAn0TAZAuSxfuCH68XYw==",svg:"m+UXLwUNz1cwKqpBavdc5Q==",even:"R8PL71xN4jBB5PbZrrRUZw==",odd:"A-7kQ3n790IPIRGfcW5LOA==",container:"_2H5o7zaxhiL7sNMzWoJ-lA==",grid:"C58EUnEwtXV9IwuEh4vOtQ==",left:"cD1BM4FAi84YST6rP0NNPg==",arrowRotate:"XweSM0sOBjI9zI-4eKE3iw==",arrowContainer:"LbjHJ-dcmTCn3sUTtnLplA==",arrowActive:"h-VmFHBuHxqB1I1nfTkkZA==",containerTable:"xEQQf35XrHHoPMV4dR3vgw==",table:"gpt0LtX0scds8JX9guoV4g==",containerFte:"SGWsJHSY4SIVidJr8ZVK5g==",containerAutoSizer:"olUKCUmM25a9p+2hlxf6Hw==",containerScroll:"AiHIlxo3s3NK8i1HSwf4Lg=="};function xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ps extends m.PureComponent{constructor(){super(...arguments),Os(this,"handleClick",(()=>{var{paramsUpdate:e,deleteAdditionalUserSchedule:t,additionalId:r,isTrash:i,isAssigned:s}=this.props;i&&!s&&t(Ss(Ss({},e),{},{additionalId:r}))}))}render(){var{isTrash:e,isAssigned:t,disabled:r}=this.props,i=e&&!t;return(0,u.jsx)(Ae.Z,{disabled:r||!i,onClick:this.handleClick,children:(0,u.jsx)(et.ZP,{glyph:et.XH})})}}Ps.defaultProps={isTrash:!1,isAssigned:!1,disabled:!1,paramsUpdate:{},deleteAdditionalUserSchedule:O.wA},Ps.propTypes={isTrash:c().bool,disabled:c().bool,isAssigned:c().bool,paramsUpdate:c().object,deleteAdditionalUserSchedule:c().func,additionalId:c().string.isRequired};const ws=Ps,Cs=(0,o.compose)((0,s.$j)(null,{deleteAdditionalUserSchedule:fs.deleteAdditionalUserSchedule}))(ws);class ks extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{additionalId:e,setSettingCell:t,isShowSelect:r,isFirst:i,isAssigned:s,disabled:n}=this.props;!i&&!s&&!n&&t({id:e,setting:{isShowSelect:!r}})}))}render(){var{isShowSelect:e,classes:t,arrowRotate:r,arrowActive:i,isFirst:s,isAssigned:n,disabled:a}=this.props,o=e||n,l=e||n,c=!e&&(!n||s),d=me()({[r]:c,[i]:e||n}),p=me()(js.arrowBlock,"legend",{[t]:!!t,active:l}),h={cursor:s||n||a?"default":"pointer"};return(0,u.jsx)("div",{className:js.arrowContainer,children:(0,u.jsx)("div",{className:p,onClick:this.handleClick,style:h,children:(0,u.jsx)(Ae.Z,{disabled:s||a,style:h,children:(0,u.jsx)(et.ZP,{glyph:o?et.jh:et.Eh,classCustom:d,style:h})})})})}}ks.defaultProps={isShowSelect:!1,disabled:!1,isFirst:!1,isAssigned:!1,classes:"",arrowRotate:"",arrowActive:""},ks.propTypes={isShowSelect:c().bool,classes:c().string,arrowRotate:c().string,arrowActive:c().string,disabled:c().bool,isFirst:c().bool,isAssigned:c().bool,additionalId:c().string.isRequired,setSettingCell:c().func.isRequired};const Ts=ks;var Ns=r(52387),Rs=r(50335);var Es=(0,u.jsx)(J.Z,{id:"ScheduleAdditional.withReserveSkills",defaultMessage:[{type:0,value:"Учитывать резервные навыки"}]}),Ds=(0,u.jsx)(J.Z,{id:"ScheduleAdditional.addScheduleBtn",defaultMessage:[{type:0,value:"Добавить смену"}]});function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Is(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Is(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zs=e=>{var{skillId:t,from:r,to:i,disabled:n,getAdditionalUserSchedule:a,setEmptyCellActivity:o,classIcon:l,classes:c,item:d,rowIndex:p}=e,h=(0,s.I0)(),f=(0,s.v9)(hs.om),[v,y]=(0,m.useState)(null),g=()=>{y(null)},b=et.dt,j=me()({[c]:!!c}),x=Boolean(v),S=x?"simple-popover":void 0;return(0,u.jsxs)("span",{className:j,children:[(0,u.jsx)(Ae.Z,{disabled:n,"aria-describedby":S,onClick:e=>{y(e.currentTarget)},children:(0,u.jsx)(et.ZP,{glyph:b,classCustom:l})}),(0,u.jsx)(Ns.ZP,{id:S,open:x,anchorEl:v,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsxs)("div",{className:"hssu3HoxaChQKt222HJEdg==",children:[(0,u.jsx)(Rs.XZ,{onChange:()=>{h((0,fs.receiveCheckboxWithReserveSkills)(!f))},label:Es,checked:f}),(0,u.jsxs)(Ae.Z,{onClick:()=>{var e=Ms(Ms({},d),{},{reserveAccess:f}),s={skillId:t,from:r,to:i,item:e,index:p};h((0,fs.updateAdditionalUserSchedule)(s,(()=>{n||(o(),a({skillId:t,from:r,to:i}),g())})))},className:"iFbADVsyGn2byXcR8J7ceA==",children:[(0,u.jsx)(et.ZP,{glyph:b}),(0,u.jsx)("span",{className:"Z8xXJI8byNncIiUdFMZLUA==",children:Ds})]})]})})]})};Zs.defaultProps={disabled:!1,classes:"",classIcon:""},Zs.propTypes={from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired,disabled:c().bool,classes:c().string,classIcon:c().string,skillId:P.K5.isRequired,getAdditionalUserSchedule:c().func.isRequired,setEmptyCellActivity:c().func.isRequired,item:c().object.isRequired,rowIndex:c().number.isRequired};const qs=(0,m.memo)(Zs);function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(r),!0).forEach((function(t){Hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _s=e=>{var{paramsUpdate:t,copyAdditionalUserSchedule:r,additionalId:i,disabled:n,classIcon:a}=e,o=(0,s.v9)(C.ts);return(0,u.jsx)(Ae.Z,{onClick:()=>{if(!(0,X.BC)(o,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE,x.ZP.CRUD))return Ii.T.error((0,u.jsx)(J.Z,{id:"Schedule.Error.NoRights",defaultMessage:[{type:0,value:"Нет прав"}]}));r(Ls(Ls({},t),{},{additionalId:i}))},disabled:n,children:(0,u.jsx)(et.ZP,{glyph:et.TI,classCustom:a})})};_s.defaultProps={disabled:!1,classIcon:"",copyAdditionalUserSchedule:O.wA,paramsUpdate:{}},_s.propTypes={disabled:c().bool,classIcon:c().string,paramsUpdate:c().object,copyAdditionalUserSchedule:c().func,additionalId:c().string.isRequired};const Bs=_s,Gs=(0,o.compose)((0,s.$j)(null,{copyAdditionalUserSchedule:fs.copyAdditionalUserSchedule}))(Bs);function Ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(r),!0).forEach((function(t){Vs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class zs extends m.Component{constructor(){super(...arguments),Vs(this,"getHeight",(()=>{var{setting:{isShowSelect:e},item:{status:t},rowHeight:r}=this.props,i=as(t);return e||i?2*Number(r):Number(r)})),Vs(this,"hasDisabledSelectUser",(()=>{var{start:e}=this.props.item;return!e||ns()(e,ft._E).unix()<ns()().unix()}))}componentDidUpdate(e){var{setting:{isShowSelect:t},item:{status:r},updateGridSize:i,rowIndex:s}=this.props,n=as(r),a=t||n,{setting:{isShowSelect:o},item:{status:l}}=e,c=as(l);a!==(o||c)&&i({rowIndex:s})}render(){var{rowIndex:e,isFirst:t,width:r,skillId:i,date:s,item:n,setShowUserSelect:a,setting:o,setSettingCell:l,createEmptyCellActivity:c,isFirstEmpty:d,getAdditionalUserSchedule:p,setEmptyCellActivity:h,style:f,updateGridSize:m,disabled:v,additionalId:y,status:g}=this.props,b=!t,j=this.hasDisabledSelectUser()||v,{isShowSelect:x}=o,S=!!(e%2),O=Us(Us({},f),{},{width:r||"100%",height:this.getHeight()}),P=me()(js.cell1,{[js.odd]:S,[js.even]:!S}),w=Us({skillId:i},s),C=as(g);return(0,u.jsxs)("div",{className:P,style:O,children:[(0,u.jsx)("div",{className:js.icon,children:(0,u.jsx)(Cs,{isTrash:b,classes:js.svg,paramsUpdate:w,additionalId:y,isAssigned:C,disabled:v})}),(0,u.jsx)("div",{className:js.icon,children:(0,u.jsx)(Ts,{isShowSelect:x,arrowRotate:js.arrowRotate,arrowActive:js.arrowActive,isFirst:t,setShowUserSelect:a,rowIndex:e,setSettingCell:l,additionalId:y,isAssigned:C,disabled:j,updateGridSize:m})}),t&&(0,u.jsx)("div",{className:js.icon,children:(0,u.jsx)(qs,{createEmptyCellActivity:c,skillId:i,disabled:d||v,from:s.from,to:s.to,item:n,rowIndex:e,getAdditionalUserSchedule:p,setEmptyCellActivity:h})}),!t&&(0,u.jsx)("div",{className:js.icon,children:(0,u.jsx)(Gs,{disabled:v,paramsUpdate:w,additionalId:y,isAssigned:C})})]})}}zs.defaultProps={setting:{isShowSelect:!1},isShowSelect:!1,width:"",additionalId:"",status:""},zs.propTypes={rowIndex:c().number.isRequired,isFirst:c().bool.isRequired,width:c().string,status:c().string,additionalId:c().string,skillId:c().string.isRequired,date:c().object.isRequired,item:c().object.isRequired,isShowSelect:c().bool,setShowUserSelect:c().func.isRequired,rowHeight:c().number.isRequired,setting:c().object,setSettingCell:c().func.isRequired,createEmptyCellActivity:c().func.isRequired,isFirstEmpty:c().bool.isRequired,getAdditionalUserSchedule:c().func.isRequired,setEmptyCellActivity:c().func.isRequired,style:c().object.isRequired,updateGridSize:c().func.isRequired,disabled:c().bool.isRequired};const Ys=zs,Qs=(0,o.compose)((0,s.$j)(((e,t)=>({skillId:(0,hs.lX)(e),date:(0,hs.SS)(e),setting:(0,hs.ot)(e)[t.additionalId],isFirstEmpty:(0,hs.X9)(e)})),{setShowUserSelect:fs.setShowUserSelect,setSettingCell:fs.setSettingCell,createEmptyCellActivity:fs.createEmptyCellActivity,getAdditionalUserSchedule:fs.getAdditionalUserSchedule,setEmptyCellActivity:fs.setEmptyCellActivity}))(Ys);var Ks=e=>{var{icon:t,iconClassName:r,label:i,onClick:s,disabled:n,containerClassName:a,hidden:o}=e;if(o)return null;var l=me()("context-menu__item",a,{disabled:n});return(0,u.jsxs)("div",{className:l,onClick:e=>{n||s(e)},onMouseDown:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},children:[(0,u.jsx)("div",{className:me()(r,"context-menu__icon-wrap"),children:t}),i]})};Ks.defaultProps={disabled:!1,hidden:!1,iconClassName:"",containerClassName:""},Ks.propTypes={icon:c().node.isRequired,label:c().oneOfType([c().string,c().node]).isRequired,onClick:c().func.isRequired,disabled:c().bool,hidden:c().bool,iconClassName:c().string,containerClassName:c().string};const Xs=Ks,Js="cdnTfVkMB8B9ix36F1IRTQ==";function $s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class en extends m.Component{static closeAll(){en.openedMenus.map((e=>e.close())),en.openedMenus.length=0}constructor(e){super(e),$s(this,"rootRef",(0,m.createRef)()),$s(this,"onContextMenu",(e=>{var{disabled:t}=this.props;t||(e.persist(),e.preventDefault(),e.stopPropagation(),this.open(e))})),$s(this,"stopPropagation",(e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()})),$s(this,"open",(e=>{var{onMenuOpen:t}=this.props;this.setState((t=>({open:!t.open,leftOffset:e.clientX-e.target.getBoundingClientRect().left}))),en.openedMenus.push(this),t&&t()})),$s(this,"close",(()=>{this.setState({open:!1});var e=en.openedMenus.indexOf(this);-1!==e&&en.openedMenus.splice(e,1)})),$s(this,"itemsListIsNotEmpty",(e=>("function"==typeof e?e():e).length>0)),this.state={open:void 0!==e.isOpen&&e.isOpen,leftOffset:0}}render(){var{items:e,classNames:t,style:r}=this.props,i=this.state.open&&e&&("function"==typeof e||0!==e.length);return(0,u.jsxs)("div",{className:me()("context-menu",t,{"context-menu_active":this.state.open}),style:r,onContextMenu:this.onContextMenu,children:[this.props.children,(0,u.jsx)("div",{style:{paddingLeft:this.state.leftOffset},children:(0,u.jsx)("div",{ref:this.rootRef})}),i&&this.itemsListIsNotEmpty(e)&&(0,u.jsx)(Ns.ZP,{open:i,anchorEl:this.rootRef.current,onClose:this.close,children:(0,u.jsx)("div",{className:Js,children:e.map(((e,t)=>{var r=e.name||t;return(0,u.jsx)(Xs,{hidden:e.hidden,containerClassName:e.containerClassName,iconClassName:e.iconClassName,icon:e.icon,label:e.label,disabled:e.disabled,onClick:t=>{e.handler&&(e.handler(this.state.leftOffset),e.preventAutoClose||this.close()),this.stopPropagation(t)}},r)}))})})]})}}$s(en,"openedMenus",[]),en.defaultProps={isOpen:!1,style:{},classNames:null,onMenuOpen:null,disabled:!1},en.propTypes=_()({items:c().array.isRequired,isOpen:c().bool,style:c().object,classNames:c().string,children:c().node.isRequired,onMenuOpen:c().func,disabled:c().bool});const tn=en;var rn=r(52663),sn=r(66083),nn=r(29525);var an=e=>{var{children:t,onRequestClose:r,title:i,open:s=!1}=e;return(0,u.jsxs)(rn.Z,{open:s,onClose:r,"aria-labelledby":"popup-window",children:[(0,u.jsx)(sn.Z,{id:"popup-window",children:(0,u.jsxs)("div",{className:"PcnO7JO3yny9trbTN5n9ng==",children:[(0,u.jsx)(Ae.Z,{className:"_2dJHTPtu9gC+WqaiA2Iorw==",onClick:r,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})}),(0,u.jsx)("span",{children:i})]})}),(0,u.jsx)(nn.Z,{className:"nEf8thYgNmqJp4PRBqDBlg==",children:t})]})};an.defaultProps={title:null},an.propTypes={children:c().node.isRequired,onRequestClose:c().func.isRequired,title:c().oneOfType([c().string,c().node]),open:c().bool.isRequired};const on=an;var ln=new Intl.Collator,cn=e=>e.common.workActivities.data,dn=e=>e.common.workActivities.status,un=(0,Q.createSelector)(cn,(e=>e.filter((e=>e.available)).sort(((e,t)=>ln.compare(e.name,t.name))))),pn=(0,Q.createSelector)(cn,(e=>(0,X.xn)(e))),hn=r(86565),fn=e=>{var{data:t,dataConfig:r,height:i=0,onChange:s}=e;return(0,u.jsx)("ul",{className:me()("list",{scroll:!!i}),style:{height:i?"".concat(i,"px"):"inhered"},children:t.map((e=>(0,u.jsx)("li",{className:"list__item",onClick:()=>{e[r.value]?s(e[r.value]):s(e)},children:e[r.text]},e[r.id])))})};fn.defaultProps={height:0},fn.propTypes={data:c().arrayOf(c().object).isRequired,dataConfig:c().shape({id:c().any,value:c().any,text:c().any}).isRequired,onChange:c().func.isRequired,height:c().number};const mn=fn;class vn extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSearchFieldChange",(e=>{this.setState({searchString:e,filteredData:this.props.data.filter((t=>t[this.props.dataConfig.text].toUpperCase().includes(e.toUpperCase())))})})),this.state={searchString:"",filteredData:e.data}}render(){var{dataConfig:e,onChange:t}=this.props;return(0,u.jsxs)("div",{className:"filtered-list",children:[(0,u.jsx)(hn.Z,{value:this.state.searchString,onChange:this.handleSearchFieldChange}),(0,u.jsx)(mn,{data:this.state.filteredData,dataConfig:e,onChange:t,height:300})]})}}vn.propTypes={data:c().arrayOf(c().object).isRequired,dataConfig:c().shape({id:c().any,value:c().any,text:c().any}).isRequired,onChange:c().func.isRequired};var yn=e=>{var{onChange:t}=e,r=(0,s.v9)(un);return(0,u.jsx)(vn,{data:r,dataConfig:{id:"id",text:"name"},onChange:t})};yn.propTypes={onChange:c().func.isRequired};const gn=yn;var bn=(0,u.jsx)(J.Z,{id:"ScheduleEditor.add",defaultMessage:[{type:0,value:"Добавить активность"}]}),jn=e=>{var{open:t,onChange:r,onCloseRequest:i}=e;return(0,u.jsx)(on,{onRequestClose:i,open:t,title:bn,children:(0,u.jsx)(gn,{onChange:r})})};jn.propTypes={open:c().bool.isRequired,onChange:c().func.isRequired,onCloseRequest:c().func.isRequired};const xn=jn;var Sn=(0,u.jsx)(J.Z,{id:"ScheduleEditor.activitySelect",defaultMessage:[{type:0,value:"Выбор активности"}]}),On=e=>{var{open:t,onCloseRequest:r,onChange:i}=e;return(0,u.jsx)(on,{onRequestClose:r,open:t,title:Sn,children:(0,u.jsx)(gn,{onChange:i})})};On.propTypes={open:c().bool.isRequired,onChange:c().func.isRequired,onCloseRequest:c().func.isRequired};const Pn=On;var wn=r(86312),Cn=r(14619),kn=(0,k.vU)({add:{id:"ScheduleEditor.add",defaultMessage:[{type:0,value:"Добавить активность"}]},selectType:{id:"Common.change",defaultMessage:[{type:0,value:"Изменить"}]},remove:{id:"ScheduleEditor.remove",defaultMessage:[{type:0,value:"Удалить"}]},removeEvent:{id:"Events.removeEvent",defaultMessage:[{type:0,value:"Удалить событие"}]}}),Tn=e=>{var{intl:t,handlers:r,copiedActivities:i,isEvent:s,user:n}=e,a=[],o=!(0,X.BC)(n,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD);return a.push({label:t.formatMessage(kn.add),preventAutoClose:!1,icon:(0,u.jsx)(et.ZP,{glyph:et.dt}),handler:r.add,disabled:s}),a.push({label:t.formatMessage({id:"Common.copy",defaultMessage:[{type:0,value:"Копировать"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.Yk}),handler:r.copy,disabled:s}),a.push({label:t.formatMessage({id:"Common.paste",defaultMessage:[{type:0,value:"Вставить"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.bJ}),handler:r.paste,disabled:(0,j.xb)(i)||s}),a.push({label:t.formatMessage(kn.selectType),icon:(0,u.jsx)(et.ZP,{glyph:et.pB}),preventAutoClose:!1,handler:r.selectType,disabled:s}),a.push({label:t.formatMessage(s?kn.removeEvent:kn.remove),icon:(0,u.jsx)(et.ZP,{glyph:et.XH}),handler:r.remove}),o?[]:a},Nn=e=>{var{intl:t,handlers:r,readonly:i=!1,isThereCopied:s=!1}=e;return i?[]:[{label:t.formatMessage(kn.add),preventAutoClose:!1,icon:(0,u.jsx)(et.ZP,{glyph:et.dt}),handler:r.add},{label:t.formatMessage({id:"Common.paste",defaultMessage:[{type:0,value:"Вставить"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.bJ}),handler:r.paste,disabled:!s}]},Rn=r(60359),En="start",Dn="end",An={id:"Common.ShortHour",defaultMessage:"ч."},Mn={id:"Common.ShortMin",defaultMessage:"мин."},In=(e,t)=>{var{hours:r,minutes:i}=e;return"".concat(r).concat(t.formatMessage(An)," ").concat(i).concat(t.formatMessage(Mn))};function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ln=ai().bind({root:"TU+ZvcpPLftwcmOxiefvmQ==",inner:"ZfffiVp5RKy6WIXeNZ1Neg==",start:"GeX1cfhx9csCWKCdqLL0pA==",end:"-bBic+InOGyPZ6zhFewX3Q==",containerStart:"LQao11AQaIOD6vVI7NZmcQ==",containerEnd:"XaYA9yEILSZxgaR8L+ngAQ==",container:"BFrGhp1nEnRu87GyYJW8eg=="}),Hn=e=>{var{value:t,minSecond:r,maxSecond:i,type:s,height:n,duration:a,onMouseDown:o}=e,l=(0,er.Z)(),[c,d]=(0,m.useState)(!1),p=()=>d(!1);if((0,m.useEffect)((()=>(document.addEventListener("mouseup",p),()=>document.removeEventListener("mouseup",p))),[]),!t)return null;var h=ns()(t,ft._E).unix(),f=In(a,l),v=(0,ft.jL)(t),y=s===En?"(".concat(f,") ").concat(v):"".concat(v," (").concat(f,")"),g=c?y:v,b=s===En?100-100*(0,X.Fv)(h,r,i)+"%":void 0,j=c?"100px":"40px",x={left:s===Dn?100*(0,X.Fv)(h,r,i)+"%":void 0,right:b,height:n},S=Ln({containerStart:s===En,containerEnd:s===Dn}),O=Ln("root",{start:s===En,end:s===Dn}),P=Ln("container",S);return(0,u.jsx)("div",{style:x,className:P,children:(0,u.jsx)("div",{role:"presentation",className:O,style:qn(qn({},x),{},{width:j}),onMouseDown:e=>{d(!0),o(e),e.nativeEvent.stopImmediatePropagation()},title:y,children:g})})};Hn.propTypes={maxSecond:c().number.isRequired,minSecond:c().number.isRequired,value:P.yb.isRequired,type:c().oneOf([En,Dn]).isRequired,onMouseDown:c().func.isRequired,height:c().number.isRequired,duration:c().shape({hours:c().number,minutes:c().number}).isRequired};const _n=Hn;var Bn=e=>{var{minSecond:t,maxSecond:r,height:i,onStartResizeMouseDown:s,onEndResizeMouseDown:n,templateActivities:a}=e;if((0,Rn.kw)(a))return null;var o=()=>(0,j.xb)(a)?"":a[0].start,l=()=>(0,j.xb)(a)?"":a[a.length-1].end,c=ns()(l()).unix()-ns()(o()).unix()||0,d=(0,ft.Nu)(c);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(_n,{value:o(),maxSecond:r,minSecond:t,type:En,onMouseDown:s,height:i,duration:d}),(0,u.jsx)(_n,{value:l(),maxSecond:r,minSecond:t,type:Dn,onMouseDown:n,height:i,duration:d})]})};Bn.propTypes={minSecond:c().number.isRequired,maxSecond:c().number.isRequired,height:c().number.isRequired,onStartResizeMouseDown:c().func.isRequired,onEndResizeMouseDown:c().func.isRequired,templateActivities:c().arrayOf(P.FG).isRequired};const Gn=Bn;var Wn=r(84823),Un=e=>e.scheduleEditor.active,Vn=e=>e.scheduleEditor.copiedActivities,zn=r(24607);const Yn={root:"eDJo3si0vJllXAe5BDsWmw==",inner:"xpcdiKlruxe-KDNO7Shwtw==",activityPadding:"OrfUh9d2OmR-2o5T5A2ipw==",grab:"CqvRc2P6pUp5wZM3Me+CnA==",grabbing:"rGPvSYpkc9Pbt0ykMfzBAA==",label:"_14TGMQ056Y3POBRpOGVJHg==",disabled:"eht7MjZvPQIN4RNQEfchKQ==",selected:"_3VbrTfwcwzIocXsYFhEqaA==",template:"O4uh-VXQfBOaN1fQtsNPfw=="};function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){Xn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jn=e=>{var{display:t,text:r,color:i,style:s}=e;return t?(0,u.jsx)("div",{className:Yn.label,style:Kn(Kn({},s),{},{color:i}),children:r}):null};Jn.defaultProps={text:"",display:!0,style:{}},Jn.propTypes={text:c().string,display:c().bool,color:c().string.isRequired,style:c().object};const $n=Jn;var ea=ai().bind(Yn),ta=e=>{var{workActivitiesMap:t,workActivityId:r,start:i,end:s,startSecondOfEditor:n,endSecondOfEditor:a,readonly:o,isSelected:l,isDisabled:c,isActivityChangingLoading:d,contextMenuItems:p,ownerId:h,id:f,onMouseDown:m,onSelectAllRequest:v}=e,y=(0,er.Z)(),g=e=>{o||d||(m(e,f,h),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())};if((0,j.xb)(t))return null;var b=t[r],x=ns()(i,ft._E).unix(),S=ns()(s,ft._E).unix(),O=n,P=a,w="".concat(100*(0,X.Fv)(x,O,P),"%"),C="".concat(100-100*(0,X.Fv)(S,O,P),"%"),k=(0,ft.Nu)(S-x),T=ea({inner:!0,grab:!o,selected:l,disabled:c||d}),N="".concat(b?b.name:""," (").concat((0,ft.jL)(i)," - ").concat((0,ft.jL)(s),")"),R=l?N:"".concat(N," ").concat(In(k,y)),E=b?b.color:"black",D=(0,X._T)(E)?"white":"#77828c",A={left:w,right:C},M={backgroundColor:E};return(0,u.jsx)(tn,{items:o?[]:p,style:A,classNames:Yn.root,children:(0,u.jsx)("div",{style:M,role:"button",tabIndex:0,className:T,onTouchStart:g,onMouseDown:g,onDoubleClick:()=>{o||d||v(f)},title:R,children:(0,u.jsx)($n,{text:N,display:!0,color:D})})})};ta.defaultProps={isSelected:!1,isDisabled:!1,id:null,contextMenuItems:[]},ta.propTypes=_()({id:P.K5,start:zn.ZP.isRequired,end:zn.ZP.isRequired,workActivityId:P.K5.isRequired,readonly:c().bool.isRequired,workActivitiesMap:c().object.isRequired,startSecondOfEditor:c().number.isRequired,endSecondOfEditor:c().number.isRequired,onSelectAllRequest:c().func.isRequired,contextMenuItems:c().array,onMouseDown:c().func.isRequired,ownerId:P.K5.isRequired,isSelected:c().bool,isActivityChangingLoading:c().bool.isRequired,isDisabled:c().bool});const ra=ta;var ia=e=>{var{activities:t,selectedActivities:r,readOnly:i,ownerId:n,minSecond:a,maxSecond:o,templateActivities:l,onAdd:c,onRemove:d,onSelectType:p,onActivityMouseDown:h,onSelectAllRequest:f,onPaste:m}=e,v=(0,er.Z)(),y=(0,s.v9)(Vn),g=(0,s.v9)(K.tq),b=(0,s.v9)(C.ts),x=(0,s.v9)(pn),S=(0,s.I0)(),O=()=>S((0,Wn.copyActivities)(r));return(0,u.jsxs)(u.Fragment,{children:[t.map((e=>{var t=e.id||(0,X.Vj)(),s=(0,Rn.D1)(e,r);return(0,u.jsx)(ra,{id:e.id,start:e.start,end:e.end,workActivityId:e.workActivityId,readonly:i||(0,Rn.j7)(e),workActivitiesMap:x,startSecondOfEditor:a,endSecondOfEditor:o,onMouseDown:h,ownerId:n,isActivityChangingLoading:g,isDisabled:s,onSelectAllRequest:f},t)})),l.map((e=>{var t=e.id+"_template"||0,s=(0,Rn.D1)(e,r)&&(0,Rn.kw)(r);return(0,u.jsx)(ra,{id:e.id,start:e.start,end:e.end,workActivityId:e.workActivityId,readonly:i,workActivitiesMap:x,startSecondOfEditor:a,endSecondOfEditor:o,isActivityChangingLoading:g,contextMenuItems:Tn({intl:v,user:b,handlers:{add:t=>{c(t,e)},remove:d,selectType:()=>p(e),copy:O,paste:t=>m(t,e)},copiedActivities:y,isEvent:!(0,j.xb)(e.eventId)}),onSelectAllRequest:f,onMouseDown:h,ownerId:n,isSelected:s},t)}))]})};ia.propTypes={activities:c().arrayOf(P.FG).isRequired,selectedActivities:c().arrayOf(P.FG).isRequired,readOnly:c().bool.isRequired,ownerId:c().string.isRequired,minSecond:c().number.isRequired,maxSecond:c().number.isRequired,templateActivities:c().arrayOf(P.FG).isRequired,onAdd:c().func.isRequired,onRemove:c().func.isRequired,onSelectType:c().func.isRequired,onActivityMouseDown:c().func.isRequired,onSelectAllRequest:c().func.isRequired,onPaste:c().func.isRequired};const sa=ia;function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){oa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class la extends m.Component{constructor(e){super(e),oa(this,"handleMouseMove",(0,Yi.D)(0,!1,(e=>{if(this.dragStartCoordinates){var{step:t}=this.props,r=(e.touches?e.touches[0].clientX:e.clientX)-this.dragStartCoordinates.x,i=Math.ceil(r*this.secondsInPixel/t)*t;switch(this.state.action){case Cn._8:this.changeSelectionStart(i);break;case Cn.o8:this.changeSelectionEnd(i);break;default:this.moveSelectedActivities(i)}}}))),oa(this,"onKeyDown",(e=>{var{copyActivities:t}=this.props,{selectedActivities:r}=this.state;if(!(0,j.xb)(r)){if(e.keyCode!==Cn.Vt&&e.keyCode!==Cn._V||(this.props.removeActivityConfirmEnabled?this.confirmRemoveActivities():this.removeSelectedActivities()),e.ctrlKey||e.metaKey){var[i]=r;e.which===Cn.Jx?t(r):e.which===Cn.xt&&this.pasteActivities(null,i)}e.stopPropagation()}})),oa(this,"onDragStop",(()=>{if(this.dragStartCoordinates){this.dragStartCoordinates=void 0;var{onChange:e,step:t,activities:r}=this.props,{deltaSeconds:i,action:s,templateActivities:n}=this.state;if(!(Math.abs(i)<t)){var a=(0,Rn.dO)({activities:r,action:s,deltaSeconds:i,templateActivities:n}),o=(0,Rn.Oz)(r,a);this.setState((e=>({deltaSeconds:0,action:null,activities:o?e.activities:a})),this.unselectActivities),o&&Ii.T.error((0,u.jsx)(J.Z,{id:"Events.cancel",defaultMessage:[{type:0,value:"Нельзя перемещать активность события"}]})),e(this.state.activities)}}})),oa(this,"onDragStart",(e=>{var{selectedActivities:t}=this.state;(0,Rn.kw)(t)||2!==e.button&&(this.dragStartCoordinates=e.touches?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY})})),oa(this,"onActivityMouseDown",((e,t)=>{var{activeEditor:r,setActiveEditor:i,disabled:s}=this.props,{id:n}=this.state;if(!s&&t){r!==n&&i(n);var{ctrlKey:a,metaKey:o}=e;this.setState((e=>{var{activities:r,selectedActivities:i}=e,s=(0,Rn.Bl)({ctrlKey:a,metaKey:o,activities:r,selectedActivities:i,activityId:t});return{action:Cn.Kc,selectedActivities:s,templateActivities:s,isEvent:s.some((e=>{var{eventId:t}=e;return!(0,j.xb)(t)}))}}),(()=>{(0,Rn.kw)(this.state.selectedActivities)||this.onDragStart(e)})),this.props.stopMouseDownPropagation&&e.nativeEvent.stopImmediatePropagation()}})),oa(this,"getRemoveActivityHandler",(()=>this.props.removeActivityConfirmEnabled?this.confirmRemoveActivities:this.removeSelectedActivities)),oa(this,"handleAddActivityMenuItem",((e,t)=>{this.setState({contextActivity:t,contextActivityOffset:e}),this.toggleActivityAdding()})),oa(this,"handleSelectTypeMenuItem",(e=>{this.setState({contextActivity:e}),this.toggleTypeSelecting()})),oa(this,"saveEditorRef",(e=>{this.editorRef=e})),oa(this,"moveSelectedActivities",(e=>{this.setState((t=>({deltaSeconds:e,templateActivities:(0,Rn.yX)(t.selectedActivities,e)})))})),oa(this,"changeSelectionStart",(e=>{this.setState((t=>({deltaSeconds:e,templateActivities:(0,Rn.tn)(t.selectedActivities,e)})))})),oa(this,"changeSelectionEnd",(e=>{this.setState((t=>({deltaSeconds:e,templateActivities:(0,Rn.C5)(t.selectedActivities,e)})))})),oa(this,"handleStartResizeMouseDown",(e=>{this.props.disabled||(this.setState((e=>({action:Cn._8,selectedActivities:e.templateActivities}))),this.onDragStart(e))})),oa(this,"handleEndResizeMouseDown",(e=>{this.props.disabled||(this.setState((e=>({action:Cn.o8,selectedActivities:e.templateActivities}))),this.onDragStart(e))})),oa(this,"toggleActivityAdding",(()=>{this.setState((e=>({activityAdding:!e.activityAdding})))})),oa(this,"handleDocumentMouseDown",(()=>{(0,j.xb)(this.state.selectedActivities)||this.state.removeActivityConfirmOpen||this.state.typeSelecting||this.unselectActivities()})),oa(this,"unselectActivities",(()=>{this.setState({selectedActivities:[],templateActivities:[]})})),oa(this,"createActivity",(e=>{var{id:t}=e,{activities:r,startSecond:i,userId:s}=this.props,{contextActivity:n,contextActivityOffset:a}=this.state;if(!this.props.disabled){var o=this.props.allWorkActivities.filter((e=>e.id===t)),l=(0,j.xb)(o[0].duration)?15:o[0].duration;this.props.onChange((0,Rn.xn)({activities:r,workActivityId:t,contextActivity:n,startSecond:i,secondsInPixel:this.secondsInPixel,offset:a,activityDuration:l,userId:s})),this.toggleActivityAdding()}})),oa(this,"pasteActivities",((e,t)=>{var{onChange:r,activities:i,startSecond:s,copiedActivities:n}=this.props;r((0,Rn.Ye)({targetActivities:i,insertingActivities:n,secondsInPixel:this.secondsInPixel,startSecond:s,contextActivity:t,offset:e}))})),oa(this,"confirmRemoveActivities",(()=>{this.setState((e=>({removeActivityConfirmOpen:!e.removeActivityConfirmOpen})))})),oa(this,"removeSelectedEvent",(()=>{var{onRemoveEvent:e}=this.props,{selectedActivities:t}=this.state;t.forEach((t=>{var{eventId:r,userId:i,start:s}=t;return e({eventId:r,userId:i,start:s})}))})),oa(this,"removeSelectedActivities",(()=>{var{activities:e,onChange:t,disabled:r}=this.props,{selectedActivities:i,isEvent:s}=this.state;r||(1===i.length&&s&&this.removeSelectedEvent(),s||t((0,Rn.yd)(e,i,!0)))})),oa(this,"changeActivityType",(e=>{var{onChange:t}=this.props,{activities:r,selectedActivities:i}=this.state,s=r.map((t=>(0,Rn.D1)(t,i)?aa(aa({},t),{},{workActivityId:e.id}):t));this.setState({activities:s},(()=>{t(s)})),this.toggleTypeSelecting(),this.unselectActivities()})),oa(this,"toggleTypeSelecting",(()=>{this.setState((e=>({typeSelecting:!e.typeSelecting})))})),oa(this,"selectAll",(e=>{this.setState((t=>{var r=(0,Rn.vw)(t.activities,e);return{selectedActivities:r,templateActivities:r}}))})),this.editorRef=null,this.state={id:(0,X.Vj)(),selectedActivities:[],templateActivities:[],activityAdding:!1,typeSelecting:!1,contextActivity:null,contextActivityOffset:0,action:null,activities:e.activities,deltaSeconds:0,removeActivityConfirmOpen:!1,isEvent:!1}}componentDidMount(){this.props.readonly||(document.addEventListener("mousedown",this.handleDocumentMouseDown,!1),document.addEventListener("mouseup",this.onDragStop,!1),document.addEventListener("mousemove",this.handleMouseMove,!1),this.editorRef.addEventListener("keydown",this.onKeyDown,!1))}static getDerivedStateFromProps(e,t){return e.activities!==t.prevActivities?{activities:e.activities,prevActivities:e.activities,selectedActivities:[],templateActivities:[]}:e.activeEditor!==t.id?{selectedActivities:[],templateActivities:[]}:null}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown,!1),document.removeEventListener("mouseup",this.onDragStop,!1),document.removeEventListener("mousemove",this.handleMouseMove,!1),this.editorRef.removeEventListener("keydown",this.onKeyDown,!1)}render(){var{endSecond:e=86400,startSecond:t=0,heightInPixels:r,readonly:i,style:s,showEmptyActivities:n,intl:a,copiedActivities:o}=this.props,{activities:l,id:c,selectedActivities:d,templateActivities:p,isEvent:h}=this.state;this.componentWidthInPixels=this.editorRef?this.editorRef.offsetWidth:0,this.secondsInPixel=(e-t)/this.componentWidthInPixels;var f=n?l:(0,Rn.oJ)(l);return(0,u.jsxs)(tn,{items:Nn({intl:a,handlers:{add:e=>this.handleAddActivityMenuItem(e,null),paste:e=>this.pasteActivities(e,null)},readonly:i,isThereCopied:!(0,j.xb)(o)}),children:[(0,u.jsxs)("div",{ref:this.saveEditorRef,className:"horizontal-schedule-editor schedule-editor disable-selection--deep",style:aa({position:"relative",width:"100%",height:r?r+"px":"100%"},s),children:[(0,u.jsx)(sa,{activities:f,selectedActivities:d,readOnly:i,ownerId:c,minSecond:t,maxSecond:e,templateActivities:p,onAdd:this.handleAddActivityMenuItem,onRemove:this.getRemoveActivityHandler(),onSelectType:this.handleSelectTypeMenuItem,onActivityMouseDown:this.onActivityMouseDown,onSelectAllRequest:this.selectAll,onPaste:this.pasteActivities}),(0,u.jsx)(Gn,{minSecond:t,maxSecond:e,height:r,templateActivities:this.state.templateActivities,onStartResizeMouseDown:this.handleStartResizeMouseDown,onEndResizeMouseDown:this.handleEndResizeMouseDown})]}),(0,u.jsx)(xn,{open:this.state.activityAdding,onChange:this.createActivity,onCloseRequest:this.toggleActivityAdding}),(0,u.jsx)(wn.Z,{isEvent:h,onSubmit:this.removeSelectedActivities,open:this.state.removeActivityConfirmOpen,close:()=>this.setState({removeActivityConfirmOpen:!1})}),(0,u.jsx)(Pn,{onCloseRequest:this.toggleTypeSelecting,onChange:this.changeActivityType,activities:d,open:this.state.typeSelecting})]})}}la.defaultProps={style:{},step:300,userId:"",activities:[],stopMouseDownPropagation:!1,readonly:!1,removeActivityConfirmEnabled:!0,activeEditor:null,showEmptyActivities:!1,onChange:null,disabled:!1,allWorkActivities:[]},la.propTypes=_()({style:c().object,step:c().number,startSecond:c().number.isRequired,endSecond:c().number.isRequired,activities:c().arrayOf(P.FG),onChange:c().func,stopMouseDownPropagation:c().bool,removeActivityConfirmEnabled:c().bool,readonly:c().bool,userId:c().string,heightInPixels:c().number.isRequired,setActiveEditor:c().func.isRequired,activeEditor:P.K5,intl:P.gm.isRequired,showEmptyActivities:c().bool,disabled:c().bool,copiedActivities:c().arrayOf(P.FG).isRequired,copyActivities:c().func.isRequired,onRemoveEvent:c().func.isRequired,allWorkActivities:c().array});var ca=r(6287),da=r(78340),ua=r(47458),pa=r(65680),ha=e=>e.settings.openAutoChangeBunchId,fa=e=>e.settings.autoReplaceableWorkActivities,ma=e=>e.settings.workActivities.data,va=e=>e.settings.absenceWorkActivities,ya=(0,Q.createSelector)(ma,(e=>e.form.WorkActivityForm.initial&&e.form.WorkActivityForm.initial.id),((e,t)=>e.filter((e=>e.id!==t&&e.id!==x.ZP.EMPTY_WORK_ACTIVITY_ID)))),ga=e=>e.settings.workActivities.status,ba=(0,Q.createSelector)(ma,(e=>(0,X.xn)(e))),ja=(0,Q.createSelector)(va,(e=>(0,X.xn)(e))),xa=e=>{var{substitutionSettings:t=[]}=(0,qe.Z)("WorkActivityForm")(e);return t.flatMap((e=>e.substitutions.map((e=>e.id))))},Sa=r(40550),Oa=r(20524),Pa=r(11567),wa=(e,t,r)=>!(e=>Boolean(e.groupId))(t)||!!((e,t)=>t.includes(e.groupId))(t,r)&&wa(e,((e,t)=>{if(!(0,j.xb)(e))return e.find((e=>e.id===t))})(e,t.groupId),r),Ca=e=>e.scheduleControl.dataGroups,ka=e=>e.scheduleControl.scheduleCtrlProps.filterByPoints,Ta=e=>e.scheduleControl.filterGroups,Na=e=>e.scheduleControl.scheduleCtrlProps.dataMultiSelect,Ra=e=>e.scheduleControl.paramsOrgPoints,Ea=e=>e.scheduleControl.period,Da=e=>e.scheduleControl.scheduleCtrlProps.cells,Aa=(e,t)=>e.scheduleControl.scheduleCtrlProps.cells[t],Ma=e=>e.scheduleControl.savedApproves,Ia=e=>e.scheduleControl.orgPoints,Za=e=>e.scheduleControl.scheduleCtrlProps.prevCheckedPoints,qa=(e,t)=>e.scheduleControl.dataGroups[t],Fa=e=>e.scheduleControl.scheduleCtrlProps.expandedGroups,La=e=>e.scheduleControl.scheduleCtrlProps.scheduleControlDataIsLoading,Ha=(0,Q.createSelector)(Ra,Fa,ka,((e,t,r)=>{var i=[],s=e.items||[];return(0,j.xb)(r)?(s.forEach((e=>{wa(s,e,t)&&i.push(e.id)})),i):r})),_a=(0,Q.createSelector)(Ca,Ha,((e,t)=>{if((0,j.xb)(t))return e;var r={};return t.forEach((t=>{r[t]=e[t]})),r})),Ba=(0,Q.createSelector)(Da,(e=>{var t={};return Object.values(e).forEach((e=>{t[e.day]?t[e.day].push(e.id):t[e.day]=[e.id]})),t})),Ga=(0,Q.createSelector)(Ea,Ba,Da,((e,t,r)=>{var{from:i,to:s}=e,n=((e,t)=>{for(var r=ns()(e,ft._E).local(),i=ns()(t,ft._E).local(),s=[],n=r;n<=i;)s.push(n.format("YYYY-MM-DD")),n=n.add(1,"d");return s})(i,s);return n.map((e=>{var i=t[e]||[],{isEvery:s,isSome:n}=(0,Pa.Pp)(r,i);return{day:e,cellIds:i,checked:s,blocked:(0,Pa.jk)(r,i),indeterminate:n,approved:(0,Pa.rZ)(r,i)}}))})),Wa=(0,Q.createSelector)(Da,Ga,Ha,((e,t,r)=>r.map((r=>({groupId:r,row:t.map((t=>{var{cellIds:i}=t,s=i.find((i=>e[i].groupId===r&&e[i].day===t.day));return s?e[s]:{}}))}))))),Ua=(0,Q.createSelector)(Wa,(e=>e.length)),Va=(0,Q.createSelector)(Da,Ha,((e,t)=>{var r={};return Object.values(e).forEach((e=>{t.includes(e.groupId)&&(r[e.id]=e)})),r})),za=(0,Q.createSelector)(Ha,_a,Va,((e,t,r)=>{var i=[];return(0,j.xb)(t)||e.forEach((e=>{var s=t[e]?t[e].row:[],n=(e,t)=>e[t]||{},a=s.filter((e=>n(r,e.id).active));if((0,j.xb)(s))return[];a.every((e=>n(r,e.id).checked))&&i.push(e)})),i})),Ya=(0,Q.createSelector)(Ha,_a,Va,((e,t,r)=>{var i=[];return(0,j.xb)(t)?[]:(e.forEach((e=>{(t[e]?t[e].row:[]).some((e=>{return(t=r,i=e.id,t[i]||{}).active;var t,i}))||i.push(e)})),i)})),Qa=(0,Q.createSelector)(Ha,_a,Va,((e,t,r)=>{var i=[];return(0,j.xb)(t)||e.forEach((e=>{var s=t[e]&&t[e].row;if((0,j.xb)(s))return i;s.some((e=>r[e.id]&&r[e.id].checked))&&i.push(e)})),i})),Ka=(0,Q.createSelector)(B.GJ,(e=>{var t={};return Object.keys(e).forEach((r=>{var i=[];!function t(r){(0,j.xb)(e[r].children)||e[r].children.forEach((e=>{i.push(e.id),t(e.id)}))}(r),t[r]=i})),t})),Xa=!1,Ja=e=>{var{style:t,step:r,startSecond:i,endSecond:n,activities:a,onChange:o,readonly:l,heightInPixels:c,stopMouseDownPropagation:d,disabled:p,onScheduleSuccess:h}=e,f=(0,er.Z)(),v=(0,s.I0)(),{location:{pathname:g}}=(0,y.k6)(),b=(0,s.v9)(dn),x=(0,s.v9)(ma),S=(0,s.v9)(Un),O=(0,s.v9)((e=>(0,B.vH)(e,"removeActivityConfirmWindowEnabled"))),P=(0,s.v9)((e=>(0,B.vH)(e,pa.ZC))),w=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),C=(0,s.v9)(Vn),k=(0,s.v9)(K.cY),T=(0,s.v9)(K.D3),N=(0,s.v9)(Ea),R=(0,s.v9)(K.Qz),E=(0,s.v9)(Y.Wx),D=(0,ft.kN)((0,y.UO)()),A={from:(0,ft.b7)(k),to:(0,ft.iX)((0,ft.TR)(k,24))},M=g.split("/"),I=!(0,j.xb)(M)&&"schedule-control"===M[1],{from:Z,to:q}=I?N:R;return(0,m.useEffect)((()=>(b!==Oa.Z.idle||Xa||(v((0,Sa.fetchWorkActivities)()),Xa=!0),()=>{Xa=!1})),[]),(0,u.jsx)(la,{style:t,step:r,startSecond:i,endSecond:n,activities:a,onChange:o,userId:T,onRemoveEvent:e=>v((0,ca.deleteEventForUser)({eventId:e.eventId,userId:e.userId},(()=>{v((0,da.removeEventDay)({userId:e.userId,day:(0,ft.X5)(e.start)})),v((0,da.fetchUserSchedule)({userId:e.userId,groupId:E,from:ns()(A.from,ft._E).isValid()?A.from:D.from,to:ns()(A.from,ft._E).isValid()?A.to:D.to})),v((0,ua.intervalIsChanged)(!0)),h({userId:e.userId}),w&&v((0,da.fetchLaborCodeViolationsByUser)({from:Z,to:q,userId:e.userId})),v((0,da.fetchBalancerStatsByUserIds)({from:D.from,userIds:[e.userId],groupId:E}))}))),stopMouseDownPropagation:d,removeActivityConfirmEnabled:O,readonly:l,heightInPixels:c,setActiveEditor:e=>v((0,Wn.setActiveEditor)(e)),activeEditor:S,intl:f,showEmptyActivities:P,disabled:p,copiedActivities:C,copyActivities:e=>v((0,Wn.copyActivities)(e)),allWorkActivities:x})};Ja.defaultProps={style:{},step:300,activities:[],stopMouseDownPropagation:!1,readonly:!1,onChange:null,disabled:!1,onScheduleSuccess:O.wA},Ja.propTypes=_()({style:c().object,step:c().number,startSecond:c().number.isRequired,endSecond:c().number.isRequired,activities:c().arrayOf(P.FG),onChange:c().func,stopMouseDownPropagation:c().bool,readonly:c().bool,heightInPixels:c().number.isRequired,disabled:c().bool,onScheduleSuccess:c().func});const $a=Ja,eo="KnecWybzQU4+DC1F5xdF6A==";var to=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"wyX6fMMm+3ICC0Xj9-qPdQ==",children:t})};to.propTypes={children:c().node.isRequired};const ro=to;var io=r(61498);const so={root:"C2+mV9pbhgwNf5C4UCrnYg==",hasViolations:"il2RBTo2qCKkSOtZ2UHAhw==",border:"_563ntGWRGZxpyK9HdLvJMQ==",padding:"NHEpJ7gZo-SgqDAVuf5Oow==",rootPadding:"B8-xBDyRZdrB917ecO0Slw==",violationsHeader:"YKs9ttb7B6dzuCQtpqihUg==",violationItem:"YfUUaywmeBwVkaAOIeEoqQ==",moreInformation:"ao3l4rdIFhTGZDCMjaHvqw==",body:"_9QHSl-13n7VF4t6UeIfBsw==",avatarWrap:"fbKMTgjfBueWiK-umHntAw==",active:"+SG2jcZ+K-F4-XkByhCxcg==",title:"_6Q6Y8vLKdBBUE1KO3S6IMQ==",position:"_2EHngDpKNhHu6vaACKB-Ew==",stats:"wu8IleGO8MqREPReBoC9Uw==",good:"_81VuOCwHCS72BH9g7hjs3g==",bad:"LgYBtbg5GkaiY2Ez3r6Crg==",warning:"Bc0IKLONYjNBap-LNFsSQg==",statsByWeekRow:"x8N0rdcQXoFP2RRvEu43Sg==",bigNumberOfHours:"p83BvB-lEYQlNPt7Tn2VMw==",flex:"dd1WkPeI9ZVChu2ZC8docA==",removeButton:"oWew1ZEk+rD1v9sJGTq-eg==",weekNumber:"_7zDek09F3XRsBTBC6+SY-Q==",statContainer:"JIsnQXgx4rgPRUNeqf7apQ==",wall:"_4dLrmM1Mwdc-zkC1PuQdWg==",difference:"nBazS5RP66-O2AFU99j7JA==",slash:"_3exImO2trsuamvbqNllOyw==",laborCodeIcon:"cB8PqrkNdEOwbC9NROMptA==",overWork:"kVCWyD221Je76JHkE1xK+A==",icon:"uAcRD+cdortOM+OGvW7+1A==",iconsContainer:"Y0PtmBbG+5WHT2I2i3--rQ==",iconContainerItem:"ZxdGCedEEXg4WhBZI7wpxg==",cursorPointer:"FJfEslTpbFyXk4pQqlLchg==",preferenceStar:"IMVK9fDPJBQY156qkRxTrQ==",banIcon:"tc30NCuWBvyXI+BTrJxGfg=="};var no=e=>{var{actualHours:t,normHours:r,differenceActualMinutes:i,intl:s,className:n}=e,a=(0,ft.LB)(i,s),o=me()({[so.good]:0===i,[so.bad]:i>0,[so.warning]:i<0}),l=r<=0?0:r,c=me()(so.stats,n);return(0,u.jsxs)("div",{className:c,children:["".concat(t," / ").concat(l," | "),(0,u.jsx)("span",{className:o,children:a>0?"+"+a:a})]})};no.defaultProps={normHours:0,actualHours:0,differenceActualMinutes:0,className:"",intl:{}},no.propTypes={actualHours:c().number,normHours:c().number,differenceActualMinutes:c().number,intl:P.gm,className:c().string};const ao=(0,m.memo)((0,v.ZP)(no));var oo=e=>e.common.estimateStats.status,lo=e=>e.common.statsIsLoading,co=e=>{var{userId:t,hidden:r,overWork:i}=e,n=(0,er.Z)(),a=(0,s.v9)((e=>t=>t.common.estimateStats.data[e])(t));if(!t||r)return null;if(!a)return null;var{normHours:o,actualHours:l,differenceActualMinutes:c}=a;return(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)(et.ZP,{glyph:et.i4,className:"iuJe886den1JbxzYXzLFdg==",hidden:!i&&!a.overWork}),(0,u.jsx)(ao,{normHours:o,actualHours:l,differenceActualMinutes:c,formatMessage:n.formatMessage})]})};co.defaultProps={hidden:!1,overWork:!1},co.propTypes={userId:c().string.isRequired,hidden:c().bool,overWork:c().bool};const uo=co;var po=e=>{var{withoutRS:t,value:r,onItemClick:i,hidden:s}=e;return s?null:(0,u.jsx)(u.Fragment,{children:t.map((e=>(0,u.jsx)(ro,{children:(0,u.jsxs)(Ae.Z,{active:e.id===r,onClick:()=>i(e.id),className:eo,children:[(0,u.jsx)("div",{className:"ytMycNRJpnEtlcvaRRDjJQ==",title:e.shortName,children:e.shortName}),(0,u.jsx)(uo,{userId:e.id,overWork:null==e?void 0:e.additionalInfo.overWork})]})},e.id)))})};po.defaultProps={value:"",onItemClick:O.wA,hidden:!1},po.propTypes={withoutRS:c().arrayOf(c().shape({additionalInfo:c().arrayOf(c().shape({hasReserveSkills:c().bool,overWork:c().bool})),firstName:c().string,fullName:c().string,id:c().string,lastName:c().string,middleName:c().string,shortName:c().string})).isRequired,value:c().string,onItemClick:c().func,hidden:c().bool};const ho=po;var fo=e=>{var{withRS:t,value:r,onItemClick:i,hidden:s}=e;return s?null:(0,u.jsxs)(u.Fragment,{children:[!(0,j.xb)(t)&&(0,u.jsx)(ro,{children:(0,u.jsx)(J.Z,{id:"Common.WithReserveSkills",defaultMessage:[{type:0,value:"C резервными навыками"}]})}),t.map((e=>(0,u.jsxs)(ro,{children:[(0,u.jsx)(et.ZP,{glyph:et.yG}),(0,u.jsxs)(Ae.Z,{active:e.id===r,onClick:()=>i(e.id),className:eo,children:[(0,u.jsx)("span",{children:e.shortName}),(0,u.jsx)(uo,{overWork:null==e?void 0:e.additionalInfo.overWork,userId:e.id})]})]},e.id)))]})};fo.defaultProps={value:"",onItemClick:O.wA,hidden:!1},fo.propTypes={withRS:c().arrayOf(c().shape({additionalInfo:c().arrayOf(c().shape({hasReserveSkills:c().bool,overWork:c().bool})),firstName:c().string,fullName:c().string,id:c().string,lastName:c().string,middleName:c().string,shortName:c().string})).isRequired,value:c().string,onItemClick:c().func,hidden:c().bool};const mo=fo;var vo={id:"Common.search",defaultMessage:"Поиск"},yo=e=>{var t,r,i,{value:s,disabled:n,classContainer:a,data:o,intl:{formatMessage:l},showUsersWithReserveSkills:c,statsIsLoading:d,onChange:p,onInputClick:h,estimateStatsStatus:f,userListIsLoading:v,isAssigned:y}=e,g=f===Oa.Z.loading||v,[b,x]=(0,m.useState)(!1),[S,O]=(0,m.useState)(),[P,w]=(0,m.useState)(),[C,k]=(0,m.useState)(),T=()=>{n||d||(x(!b),O(""),b&&C.focus())},N=e=>{p(e),T()},R=me()("auto-complete",a),E=b?S:(t=s,r=y?"userId":"id",i=o.find((e=>e[r]===t))||{},i.shortName||""),D=((e,t)=>(0,j.xb)(t)?e:e.filter((e=>e.shortName.toUpperCase().includes(t.toUpperCase()))))(o,S),[A,M]=((e,t)=>{var r=[],i=[];return t||e.forEach((e=>{e.additionalInfo.hasReserveSkills?i.push(e):r.push(e)})),[r,i]})(D,y),I=l(vo);return(0,u.jsxs)("div",{className:R,ref:e=>w(e),children:[(0,u.jsxs)("div",{className:me()("flex-item_flexible","I0C2DwuFkWXIqEnrRbNv5g=="),children:[(0,u.jsx)("span",{children:(0,u.jsx)("input",{className:"-9li5QIUjZErVSa-de8K8A==",type:"text",name:"auto-complete-search",autoComplete:"off",ref:e=>k(e),value:E,onClick:()=>{T(),"function"==typeof h&&h()},onChange:e=>O(e.target.value),placeholder:I,disabled:n||d})}),(0,u.jsx)("span",{hidden:!y,className:"vm3Mv39K5ttQEBvAd7vG5w==",children:(e=>{if(y&&e){var t=o.find((t=>t.userId===e))||{};return ns()(t.answered,ft._E).format(ft.Rs)}return""})(s)}),(0,u.jsx)("span",{className:"BNhxVHRTQig-nQ-Yqx-SHw==",onClick:T,children:(0,u.jsx)(uo,{userId:s,hidden:b||y})}),(0,u.jsx)(io.Z,{className:"aL2ZBb7Gom8De1pFVWWagA==",onClick:T,open:b,disabled:n||d})]}),(0,u.jsx)(Ns.ZP,{open:b,anchorEl:b?P:null,onClose:T,className:"KJ68V1PUrajMsUVwc5L4SQ==",anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsxs)("div",{className:"tUr83zqKM+5V7xtBPHTMRA==",style:{width:250},children:[g?(0,u.jsx)(Z.Z,{}):!g&&(0,j.xb)(A)&&(0,j.xb)(M)?(0,u.jsx)(ro,{children:(0,u.jsx)(J.Z,{id:"Common.empty",defaultMessage:[{type:0,value:"Пусто"}]})}):void 0,(0,u.jsx)(ho,{withoutRS:A,value:s,onItemClick:N,hidden:g}),c&&(0,u.jsx)(mo,{withRS:M,value:s,onItemClick:N,hidden:g})]})})]})},go={firstName:c().string,fullName:c().string,lastName:c().string,middleName:c().string,shortName:c().string,id:c().string,additionalInfo:c().shape({hasReserveSkills:c().bool,overWork:c().bool})};yo.defaultProps={disabled:!1,value:"",classContainer:null,showUsersWithReserveSkills:!0,onInputClick:O.wA,userListIsLoading:!1,isAssigned:!1,estimateStatsStatus:""},yo.propTypes=_()({value:c().oneOfType([c().string,c().number]),onChange:c().func.isRequired,intl:c().object.isRequired,disabled:c().bool,classContainer:c().string,data:c().oneOfType([c().shape(go),c().shape({shortName:c().string,userId:c().string})]).isRequired,showUsersWithReserveSkills:c().bool,statsIsLoading:c().bool.isRequired,onInputClick:c().func,estimateStatsStatus:c().string,userListIsLoading:c().bool,isAssigned:c().bool});const bo=(0,v.ZP)(yo);var jo=r(15197),xo=e=>{var t,r,{setting:i,isAssigned:n,assigneeId:a,assigneeShortName:o,hidden:l,disabled:c,reserveAccess:d,setSelectedUserAdditional:p,additionalId:h,groupId:f,skillId:m,from:v,to:y,getUserAdditional:g,statsIsLoading:b,userListIsLoading:j,answered:x}=e,S=(0,s.I0)(),O=(0,s.v9)(oo),P=i.users||[];if(l)return null;n?(r=[{userId:a,shortName:o,answered:x}],t=a):(r=P.sort((0,jo.hc)("shortName")),t=i.userId||"");var w=((e,t,r)=>t||r?e:e.filter((e=>!e.additionalInfo.hasReserveSkills)))(r,d,n);return(0,u.jsx)("div",{className:js.select,children:(0,u.jsx)(bo,{onInputClick:()=>{n||g({id:h,groupId:f,skills:[m],from:v,to:y},(e=>{var t=e.map((e=>e.id));S((0,Wr.fetchStatsEstimate)({from:v,to:y,userIds:t}))}))},statsIsLoading:b,userListIsLoading:j,estimateStatsStatus:O,onChange:e=>{p({id:h,userId:e})},value:t,data:w,disabled:c||n,isAssigned:n})})};xo.defaultProps={additionalId:"",assigneeId:"",assigneeShortName:"",isAssigned:!1,hidden:!1,disabled:!1,setting:{},groupId:"",skillId:"",from:"",to:"",answered:"",getUserAdditional:O.wA},xo.propTypes={setting:c().object,setSelectedUserAdditional:c().func.isRequired,additionalId:c().string,isAssigned:c().bool,assigneeId:c().string,assigneeShortName:c().string,hidden:c().bool,disabled:c().bool,reserveAccess:c().bool.isRequired,userListIsLoading:c().bool.isRequired,statsIsLoading:c().bool.isRequired,getUserAdditional:c().func,groupId:c().string,skillId:c().string,from:c().string,to:c().string,answered:c().string};const So=xo,Oo=(0,o.compose)((0,s.$j)(((e,t)=>({groupId:(0,Y.Wx)(e),skillId:(0,hs.lX)(e),setting:(0,hs.wm)(e,t.additionalId),statsIsLoading:lo(e),userListIsLoading:(0,hs.qC)(e)})),{getUserAdditional:fs.getUserAdditional,setSelectedUserAdditional:fs.setSelectedUserAdditional}))(So);var Po=e=>{var{start:t,end:r}=e;return{start:t,end:r,workActivityId:x.ZP.EMPTY_WORK_ACTIVITY_ID}},wo=e=>{for(var t=[],r=0;r<e.length;r++){var i=e[r],s=e[r+1];s&&i.end!==s.start?t.push(i,Po({start:i.end,end:s.start})):t.push(i)}return t};function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){To(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function To(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var No=e=>{var{rowIndex:t,width:r,item:i,rowHeight:s,setting:n,date:a,style:o,readOnly:l}=e,{id:c,start:d,end:p,activities:h,status:f,assigneeId:v,assigneeShortName:y,reserveAccess:g,answered:b}=i,j=(0,m.useMemo)((()=>h.sort(os)),[JSON.stringify(h)]),x=(()=>{var e=as(f);return!d||!e&&ns()(d,ft._E).unix()<ns()().unix()})(),S=as(f),O="RESERVED"===f,P=n.isShowSelect||S||!1,w=!!(t%2),C=ko(ko({},o),{},{width:r||"100%",height:(()=>{var{setting:{isShowSelect:t}}=e,r=as(f);return t||r?2*Number(s):Number(s)})()}),k=me()(js.cell2,{[js.odd]:w,[js.even]:!w}),T=me()(js.item,{[js.first]:P}),N=me()(js.item,{[js.show]:P}),R=(0,ft.ZG)(a.from),E=(0,ft.ZG)(a.to);return(0,u.jsxs)("div",{className:k,style:C,children:[(0,u.jsx)("div",{className:T,style:{width:"100%",height:s},children:(0,u.jsx)($a,{readonly:l||S||O,activities:j,startSecond:R,endSecond:E,heightInPixels:20,onChange:r=>{var{skillId:s,updateAdditionalUserSchedule:n,isFirst:o,addAdditionalUserSchedule:l}=e;h.sort(os);var c=ko(ko({},i),{},{activities:wo(r)}),d={from:a.from,to:a.to,skillId:s,index:t,item:c};o&&!i.id?l(d):n(d)}})}),P&&(0,u.jsx)("div",{className:N,children:(0,u.jsx)(Oo,{additionalId:c,from:d,to:p,isAssigned:S,assigneeId:v,answered:b,assigneeShortName:y,hidden:x,disabled:l,reserveAccess:g})})]},c)};No.defaultProps={setting:{isShowSelect:!1},width:""},No.propTypes={rowIndex:c().number.isRequired,isFirst:c().bool.isRequired,width:c().string,item:c().object.isRequired,rowHeight:c().number.isRequired,setting:c().object,date:c().object.isRequired,skillId:c().string.isRequired,updateAdditionalUserSchedule:c().func.isRequired,addAdditionalUserSchedule:c().func.isRequired,style:c().object.isRequired,readOnly:c().bool.isRequired};const Ro=No;var Eo=(0,o.compose)((0,s.$j)(((e,t)=>{var{additionalId:r}=t;return{setting:(0,hs.ot)(e)[r],date:(0,hs.SS)(e),skillId:(0,hs.lX)(e)}}),{updateAdditionalUserSchedule:fs.updateAdditionalUserSchedule,addAdditionalUserSchedule:fs.addAdditionalUserSchedule}))(Ro);Eo.propTypes={item:c().object.isRequired};const Do=Eo;var Ao=r(41008),Mo=r(46799),Io=e=>{var{afterBuildTicks:t,showDataLabels:r}=e;return{maintainAspectRatio:!1,legend:{display:!1},layout:{padding:{top:r?30:15,bottom:10}},scales:{xAxes:[{display:!1,ticks:{display:!1},scaleLabel:{display:!0}}],yAxes:[{display:!1,scaleLabel:{display:!1},ticks:{display:!1},afterBuildTicks:t}]},plugins:{datalabels:{display:r&&"auto",align:"top",value:{}}}}};class Zo extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"afterBuildTicks",(e=>{var{onTicksUpdate:t}=this.props;e.ticks&&t(e.ticks)}))}render(){var{data:e,width:t,showDataLabels:r}=this.props;return(0,u.jsx)("div",{style:{width:t},children:(0,u.jsx)(Mo.$Q,{data:e,width:t,height:210,options:Io({afterBuildTicks:this.afterBuildTicks,showDataLabels:r})})})}}Zo.defaultProps={data:{}},Zo.propTypes={data:c().object,width:c().number.isRequired,onTicksUpdate:c().func.isRequired,showDataLabels:c().bool.isRequired};const qo=Zo;class Fo extends m.PureComponent{render(){var{ticks:e,showDataLabels:t}=this.props;return(0,u.jsx)("div",{className:"ZjL3J86dqDAtGoglkVXQoA==",style:{paddingTop:t?25:10},children:e.map((e=>(0,u.jsx)("div",{className:"ukYtoW8Hqms9vyHKLxyeoA==",children:e},e)))})}}Fo.propTypes={ticks:c().array.isRequired,showDataLabels:c().bool.isRequired};const Lo=Fo;var Ho=e=>{var{display:t,style:r,stylesOperatorWeek:i}=e;if(!t)return null;var s=me()("time-line-indicator__pulp",i);return(0,u.jsx)("span",{className:s,style:r})};Ho.defaultProps={display:!0,style:{},stylesOperatorWeek:""},Ho.propTypes={display:c().bool,style:c().object,stylesOperatorWeek:c().string};const _o=Ho;var Bo=e=>{var{time:t,display:r}=e;return r?(0,u.jsx)("div",{className:"time-line-indicator__time-container",children:(0,u.jsx)("span",{className:"time-line-indicator__time",children:t})}):null};Bo.defaultProps={display:!0},Bo.propTypes={time:c().string.isRequired,display:c().bool};const Go=Bo;function Wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(r),!0).forEach((function(t){Vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class zo extends m.PureComponent{constructor(e){super(e);var t=e.isStatic||!!e.timeString&&!e.updateInterval;this.state={time:e.timeString?ns()(e.timeString,e.timeFormat):ns()()},t||(this.positionUpdater=setInterval((()=>{this.setState({time:ns()()})}),e.updateInterval))}componentWillUnmount(){this.positionUpdater&&clearInterval(this.positionUpdater)}calculateOffset(e){var{pixelsPerHour:t,measureUnit:r}=this.props;return"px"===r?(e+this.props.offsetSeconds)/60/60*t+"px":(e+this.props.offsetSeconds)/this.props.periodSecondsLength*100+"%"}render(){var{pixelsPerHour:e,orientation:t,pulpOffset:r,showTime:i,showPulp:s,heightHorizontal:n,isOperatorWeek:a,zIndex:o}=this.props,l=(0,X.xs)(this.state.time.format("HH:mm")),c={top:l/60/60*e+"px"},d={left:this.calculateOffset(l),height:n+"%"},p=this.state.time.format("HH:mm"),h={marginBottom:-r,position:"absolute",top:"-2px"},f="horizontal"===t,m="vertical"===t,v=me()("time-line-indicator",{"time-line-indicator_horizontal":f,"time-line-indicator_vertical":m,"CWtWjQwdXRYZe6SxG25hUw==":a}),y=f?d:c,g=f?h:{};return(0,u.jsxs)("div",{className:v,style:Uo({zIndex:o},y),children:[(0,u.jsx)(Go,{time:p,display:i}),(0,u.jsx)(_o,{stylesOperatorWeek:a?"ZQqvRtpR9-DavQipbjh+tg==":"",style:g,display:s})]})}}zo.defaultProps={periodSecondsLength:86400,offsetSeconds:0,pixelsPerHour:60,orientation:"vertical",updateInterval:1e4,measureUnit:"px",pulpOffset:null,timeString:"",showTime:!1,showPulp:!1,timeFormat:"",isStatic:!1,heightHorizontal:null,isOperatorWeek:!1,zIndex:void 0},zo.propTypes={pixelsPerHour:c().number,updateInterval:c().number,periodSecondsLength:c().number,offsetSeconds:c().number,pulpOffset:c().number,isStatic:c().bool,timeString:c().string,timeFormat:c().string,orientation:c().oneOf(["horizontal","vertical"]),measureUnit:c().oneOf(["px","%"]),showTime:c().bool,showPulp:c().bool,heightHorizontal:c().number,isOperatorWeek:c().bool,zIndex:c().oneOf([l.number,l.string])};const Yo=zo,Qo="iHIq9QKA4pSCSfW95EcWWg==",Ko="zZhEExvLkk5lVRpoxY4UBw==",Xo=()=>(0,u.jsx)("div",{className:"mMA8T1RqtlxUa4tW59LEOw=="});var Jo=e=>{var{hoursCount:t}=e,r=Number(ns()(Date.now()).format("HH"))-1;return(0,u.jsx)("div",{className:"+vW2cXBjgke+hEi5IdOuHQ==",children:(0,X.B4)(t).map((e=>(0,u.jsx)(Xo,{disabled:r>e},e)))})};Jo.defaultProps={hoursCount:24},Jo.propTypes={hoursCount:c().number};const $o=Jo;function el(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tl extends m.Component{constructor(){super(...arguments),el(this,"get00",(e=>(0,u.jsx)("div",{className:Qo,children:(0,u.jsx)("div",{className:Ko,children:"00"})},e))),el(this,"get00Bold",(e=>(0,u.jsx)("div",{className:Qo,children:(0,u.jsx)("div",{className:"M9n5D7g+HLIUwdmD3NVuyQ==",children:"00"})},e))),el(this,"getStart00",(()=>{var e=this.get00(1e3),t=this.get00(1001);return[e,...(0,X.B4)(23).map((e=>(0,u.jsx)("div",{className:Qo,children:(0,u.jsx)("div",{className:Ko,children:(0,X.Iq)(e+1)})},e))),t]})),el(this,"getStart12",(()=>{var e=this.get00Bold(1e3);return[...(0,X.B4)(12).map((e=>(0,u.jsx)("div",{className:Qo,children:(0,u.jsx)("div",{className:Ko,children:(0,X.Iq)(e+12)})},e))),e,...(0,X.B4)(12).map((e=>(0,u.jsx)("div",{className:Qo,children:(0,u.jsx)("div",{className:Ko,children:(0,X.Iq)(e+1)})},e+20)))]})),el(this,"getScaleContent",(()=>{var{from:e}=this.props;return(0,ft.uW)(e)?this.getStart12():this.getStart00()})),el(this,"getWrapperWidth",(()=>{var{width:e}=this.props,t=e/100*4;return Math.round(e+t)}))}render(){var{from:e,to:t,width:r,left:i}=this.props,s=me()("click-through","L9vch9CS00OLL7TmLeNaTA=="),n=ns()().unix(),a=ns()(e,ft._E).unix(),o=ns()(t,ft._E).unix(),l=a<n&&o>n,c=this.getScaleContent(),d={top:-232,height:1e3,width:r,position:"absolute",zIndex:12},p={width:this.getWrapperWidth(),left:-i};return(0,u.jsxs)("div",{className:s,style:p,children:[(0,u.jsx)("div",{className:"Ms4zpbL7ZFPl62MEZJwhog==",children:(0,u.jsx)("div",{className:"NCokZQDHMUGWiHS4oiWP8g==",children:(0,u.jsxs)("div",{className:"XM6xReoRuhfYaADrzC2rCA==",children:[c,(0,u.jsx)("div",{className:"E+u-mwotS-BenFjfDLvLVA==",style:{width:r},children:(0,u.jsx)($o,{})})]})})}),l&&(0,u.jsx)("div",{className:"click-through",style:d,children:(0,u.jsx)(Yo,{showPulp:!0,offsetSeconds:ns()().startOf("day").unix()-a,periodSecondsLength:o-a,pulpOffset:240,orientation:"horizontal",measureUnit:"%"})})]})}}const rl=tl;tl.propTypes={from:P.yb.isRequired,to:P.yb.isRequired,width:c().number.isRequired,left:c().number.isRequired};const il=()=>(0,u.jsxs)("div",{className:"yew8GZsTnPjKyd-ve5veBg==",children:[(0,u.jsx)("div",{className:"g1ou0PpDs6cbwbPRSBD3sQ=="}),(0,u.jsx)("div",{className:"xkiBUVBGpf5DOKncwy2KAw=="}),(0,u.jsx)("div",{className:"Bo8JJuXOp6G80ghrJdivbQ=="})]});var sl=e=>{var{hoursCount:t}=e;return(0,u.jsx)("div",{className:"+rNhC6WSq+4EOdqBiiJdXA==",children:(0,X.B4)(t).map((e=>(0,u.jsx)(il,{},e)))})};sl.defaultProps={hoursCount:24},sl.propTypes={hoursCount:c().number};const nl=sl;class al extends m.Component{render(){var{width:e,left:t}=this.props,r={width:e,left:-(t+4)},i=me()("click-through","RM53Sdj7xIwRZAcge-1GSA==");return(0,u.jsx)("div",{className:i,style:r,children:(0,u.jsx)("div",{className:"O08BcibPl5zwwt45tjmP3w==",children:(0,u.jsx)(nl,{})})})}}al.propTypes={width:c().number.isRequired,left:c().number.isRequired};const ol=al;var ll=r(90057);function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(r),!0).forEach((function(t){ul(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ul(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pl extends m.Component{constructor(){super(...arguments),ul(this,"state",{fteChartPaddedTicks:[]}),ul(this,"handleYTicksUpdate",(e=>{this.setState({fteChartPaddedTicks:e})}))}render(){var{width:e=ll.t,date:t,scrollLeft:r,chartData:i,showDataLabels:s}=this.props,{fteChartPaddedTicks:n}=this.state,a={position:"absolute",left:-r},o=dl(dl({},i),{},{datasets:i.datasets.map((e=>dl(dl({},e),{},{data:e.data.map((e=>0===e?"":e))})))});return(0,u.jsxs)("div",{className:"jCslI313S1ToC3rmmSXFTg==",children:[(0,u.jsx)("div",{className:"op6-qgTNcCR9evRWztXo5A==",children:(0,u.jsx)(Lo,{ticks:n,showDataLabels:s})}),(0,u.jsxs)("div",{className:"bwM4B4DhbeuKXP6EXLLGfw==",style:{width:e},children:[(0,u.jsx)(ol,{width:e,left:r}),(0,u.jsx)("div",{style:{position:"relative",overflow:"hidden",height:240},children:(0,u.jsx)("div",{style:a,children:(0,u.jsx)(qo,{data:o,width:e,onTicksUpdate:this.handleYTicksUpdate,showDataLabels:s})})}),(0,u.jsx)("div",{children:(0,u.jsx)(rl,{from:t.from,to:t.to,width:e,left:r})})]})]})}}pl.propTypes=_()({date:c().object.isRequired,width:c().number.isRequired,scrollLeft:c().number.isRequired,chartData:c().object.isRequired,showDataLabels:c().bool.isRequired});const hl=pl;var fl=r(88333);function ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function vl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const yl=(0,o.compose)(v.ZP,y.EN,(0,s.$j)(((e,t)=>({datePeriod:(0,K.G0)(e),date:(0,hs.SS)(e),width:(0,hs.Rn)(e),chartData:(0,hs.WM)(e,t),isLabelChart:(0,hs.Og)(e)})),{getFteQueue:fs.getFteQueue,setDateCurrentPeriod:fs.setDateCurrentPeriod,clearFteAdditional:fs.clearFteAdditional}),(0,fl.G)((e=>{var{params:t}=e.match;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(r),!0).forEach((function(t){vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ml(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dayPageStart:(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0)},e)})),(0,U.Z)((e=>{var{props:t}=e,{datePeriod:r,setDateCurrentPeriod:i,dayPageStart:s}=t;(0,j.xb)(s)?(0,j.xb)(r)||i(r):i({from:s,to:(0,ft.TR)(s,24)})})),(0,Ao.Z)((e=>{var{props:t}=e;t.clearFteAdditional()})),(0,fl.G)((e=>({date:e.date,width:e.width,scrollLeft:e.scrollLeft,chartData:e.chartData,showDataLabels:e.isLabelChart}))))(hl);var gl=e=>{var t=(0,m.useRef)(),r=(0,m.useRef)(),i=t=>{var{setting:r,data:i}=e,{index:s}=t,n=i[s],{status:a}=n,o=r[null==n?void 0:n.id],l=as(a);return(null==o?void 0:o.isShowSelect)||l?2*Number(32):Number(32)},s=e=>{var i,s,{columnIndex:n=0,rowIndex:a}=e;null==t||null===(i=t.current)||void 0===i||i.recomputeGridSize({columnIndex:n,rowIndex:a}),null==r||null===(s=r.current)||void 0===s||s.recomputeGridSize({columnIndex:n,rowIndex:a})},n=t=>{var{key:r,rowIndex:i,style:n}=t,{readOnly:a,data:o}=e,l=0===i;return(0,u.jsx)(Qs,{additionalId:o[i].id,status:o[i].status,item:o[i],rowIndex:i,isFirst:l,rowHeight:32,style:n,updateGridSize:s,disabled:a},r)},a=t=>{var{key:r,rowIndex:i,style:s}=t,{readOnly:n}=e,a=0===i,{data:o}=e;return(0,u.jsx)(Do,{additionalId:o[i].id,status:o[i].status,item:o[i],rowIndex:i,isFirst:a,rowHeight:32,style:s,readOnly:n},r)},{width:o,data:l}=e,c=l.length,d=me()("flex-item_flexible",js.left);return(0,u.jsx)(bs.Ew,{children:e=>{var{onScroll:s,scrollLeft:l,scrollTop:p}=e;return(0,u.jsx)("div",{className:js.containerScroll,children:(0,u.jsx)(bs.qj,{children:e=>{var{height:h,width:f}=e;return(0,u.jsx)("div",{className:js.containerAutoSizer,children:(0,u.jsxs)("div",{className:js.containerTable,style:{width:f,height:h},children:[(0,u.jsx)("div",{className:js.containerFte,style:{width:f},children:(0,u.jsx)(yl,{scrollLeft:l})}),(0,u.jsx)("div",{className:js.table,children:(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)("div",{className:"flex-container flex-container_vertical flex-item_fixed",children:(0,u.jsx)("div",{className:d,children:(0,u.jsx)(bs.rj,{ref:t,overscanRowCount:20,className:"overflow-hidden",cellRenderer:n,columnWidth:80,columnCount:1,height:h-240,rowHeight:i,scrollTop:p,rowCount:c,width:80,scrollingResetTimeInterval:100})})}),(0,u.jsx)("div",{className:"flex-item_flexible ",style:{width:f-80},children:(0,u.jsx)("div",{className:"flex-container flex-container_vertical",children:(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsx)(bs.rj,{ref:r,className:js.grid,overscanRowCount:20,cellRenderer:a,columnWidth:o,columnCount:1,height:h-240,rowHeight:i,rowCount:c,width:f-80,onScroll:s,scrollTop:p,scrollingResetTimeInterval:100})})})})]})})]})})}})})}})};gl.defaultProps={data:[],readOnly:!1},gl.propTypes={data:c().array,width:c().number.isRequired,setting:c().object.isRequired,readOnly:c().bool};const bl=gl,jl=(0,s.$j)((e=>{var t=(0,hs.tT)(e),r=(0,hs.SS)(e);return{data:t,date:r,width:(0,hs.Rn)(e),setting:(0,hs.ot)(e),readOnly:(0,ft.zR)(r.from)}}))(bl);var xl=()=>{var e=me()("change-wrapper","T73kGRVGqjy2YuzGcoJILQ==");return(0,u.jsxs)("div",{className:e,children:[(0,u.jsx)(jl,{}),(0,u.jsx)("div",{className:"ID6Gcykv4RE+3nb6I8A9FQ==",children:(0,u.jsx)(gs,{onSaveResponse:O.wA,isPristine:!1,onSuccess:O.wA})})]})};xl.propTypes={};const Sl=xl;var Ol=r(67352);const Pl={header:"-lxPVTAokA67iNFDZvOyYw==",title1:"+ggJ1RnmahVK5bF3Euh7AA==",title2:"PCEp4yGjw8uHGpwa3u0WJg==",title3:"hocr9+D9suwZkGbNU-7z+Q==",back:"mlqevfIU8MSAPUipfmhClA==",svg:"hUmaxy5wjDlzz1ECJD-iig==",element:"M20Z+z-m+lgV-nibbNgN6w==",space:"x-z0IKGTWRm7xkcenJGHmQ==",queue:"yCDvSlw0XbKHOnyUczdmcA==",text:"OdPmiVqDhe5dpo6QPv0IqQ==",pagination:"jfRtQFthstHr0hFmbw22Rw=="};function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(r),!0).forEach((function(t){kl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tl extends m.PureComponent{constructor(){super(...arguments),kl(this,"handleChange",(e=>{var{getFteQueue:t,setDateCurrentPeriod:r,getAdditionalUserSchedule:i,skillId:s}=this.props,n=ns()(e,ft._E).startOf("d").clone().add(0,"d").startOf("d").format(ft._E),a={from:n,to:(0,ft.iX)(n)},o=Cl(Cl({},a),{},{skillId:s});r(a),(0,j.xb)(s)||(t(o),i(o))}))}render(){var{date:e}=this.props,t=e&&e.from||"";return(0,u.jsx)("div",{children:(0,u.jsx)(mt.Z,{onChange:this.handleChange,date:t,dateFormat:ft.vc})})}}Tl.propTypes={date:c().object.isRequired,getFteQueue:c().func.isRequired,setDateCurrentPeriod:c().func.isRequired,getAdditionalUserSchedule:c().func.isRequired,skillId:c().string.isRequired};const Nl=Tl,Rl=(0,o.compose)((0,s.$j)((e=>({date:(0,hs.SS)(e),skillId:(0,hs.lX)(e)})),{getFteQueue:fs.getFteQueue,setDateCurrentPeriod:fs.setDateCurrentPeriod,getAdditionalUserSchedule:fs.getAdditionalUserSchedule}))(Nl);class El extends m.PureComponent{render(){var e,{date:t,classContainer:r}=this.props,i=t.from,s=!(0,ft.uW)(i),n=me()("text-gray",r);if(s)e=(0,ft.SE)(i);else{var a=t.to;e=(0,ft.fv)(i,a,!0)}return(0,u.jsx)("div",{className:n,children:(0,u.jsx)("div",{children:e})})}}El.defaultProps={date:{}},El.propTypes={date:c().object,classContainer:c().string.isRequired};const Dl=El,Al=(0,o.compose)((0,s.$j)((e=>({date:(0,hs.SS)(e)}))))(Dl);var Ml=r(53514),Il=r(49862);const Zl="ljUl78l2bXf8TZelck4s6g==";var ql=r(2707);function Fl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ll=(0,u.jsx)(J.Z,{id:"Common.FromTo.From"}),Hl=(0,u.jsx)(J.Z,{id:"Common.FromTo.To"});class _l extends m.Component{constructor(){super(...arguments),Fl(this,"handleChangeFrom",(e=>{var{onChange:t,to:r}=this.props;t({from:e,to:r})})),Fl(this,"handleChangeTo",(e=>{var{onChange:t,from:r}=this.props;t({from:r,to:e})}))}render(){var{classContainer:e,from:t,to:r}=this.props,i=me()(e,"tgvlpY0HboQ+6kFCRnLlyQ==");return(0,u.jsxs)("div",{className:i,children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[(0,u.jsx)("span",{children:Ll}),(0,u.jsx)(ql.Z,{name:"from",value:t,classNameInput:Zl,onChange:this.handleChangeFrom})]}),(0,u.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[(0,u.jsx)("span",{className:"gN5FWd7xXcPJf7owbABqIQ==",children:Hl}),(0,u.jsx)(ql.Z,{name:"to",classNameInput:Zl,value:r,onChange:this.handleChangeTo})]})]})}}_l.defaultProps={from:"",to:"",onChange:O.wA,classContainer:""},_l.propTypes={classContainer:c().string,from:c().string,to:c().string,onChange:c().func};const Bl=_l;var Gl=r(38555),Wl=(0,k.vU)({title1:{id:"Manager.Graph.Additional.FteCriterion1",defaultMessage:[{type:0,value:"fte 15 мин."}]},title2:{id:"Manager.Graph.Additional.FteCriterion2",defaultMessage:[{type:0,value:"Сумма fte"}]}}),Ul={marginLeft:-75,marginTop:5},Vl={marginBottom:10,display:"block"},zl={text:"text",value:"value"},Yl=(0,u.jsx)(J.Z,{id:"Manager.Graph.Additional.Container",defaultMessage:[{type:0,value:"Выберите Контейнер"}]}),Ql=(0,u.jsx)(J.Z,{id:"Manager.Graph.Additional.Select",defaultMessage:[{type:0,value:"Добавляем"}]}),Kl=(0,u.jsx)(J.Z,{id:"Manager.Graph.Additional.Select.Remark",defaultMessage:[{type:0,value:"количество дополнительных смен"}]}),Xl=(0,u.jsx)(J.Z,{id:"Manager.Graph.Additional.Criterion",defaultMessage:[{type:0,value:"Критерий остановки"}]}),Jl=(0,u.jsx)(J.Z,{id:"Manager.Graph.Additional.Create",defaultMessage:[{type:0,value:"Создать дополнительные смены"}]}),$l=e=>{var{fromTo:{from:t,to:r},containers:i,criterion:s}=e;return!(!t||!r||Number(t)<0||Number(r)<0||Number(t)>Number(r)||(0,j.xb)(i)||(0,j.xb)(s))},ec=e=>{var t=[];return e.forEach((e=>{t.push(e)})),t};const tc="jHEqMxJZZrVwOt8hN839kA==",rc="Jfj4TDGbqO-IiswF4pQQRg==",ic=c().shape({from:zn.ZP.isRequired,to:zn.ZP.isRequired});function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function nc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ac={text:"name",value:"id"};class oc extends m.Component{constructor(){super(...arguments),nc(this,"state",{isGenerateLoading:!1,open:!1,fromTo:{from:"",to:""},containers:[],criterion:""}),nc(this,"componentFlatRef",(0,m.createRef)()),nc(this,"onSuccess",(()=>{var{setDateCurrentPeriod:e,period:t,getAdditionalUserSchedule:r,skillId:i}=this.props,s=ns()(t.from,ft._E).startOf("day").format(ft._E),n=ns()(t.to,ft._E).startOf("day").format(ft._E);this.setState({isGenerateLoading:!1}),r(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(r),!0).forEach((function(t){nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({skillId:i},t)),e({from:s,to:n}),this.handleToggleShow()})),nc(this,"setFromTo",(e=>this.setState({fromTo:e}))),nc(this,"setContainers",(e=>this.setState({containers:e}))),nc(this,"setCriterion",(e=>this.setState({criterion:e}))),nc(this,"handleToggleShow",(()=>{this.setState((e=>({open:!e.open})))})),nc(this,"handleCreate",(()=>{var{period:e,skillId:t,startAdditionalGenerate:r,isWithReserveSkills:i}=this.props,{fromTo:s,containers:n,criterion:a}=this.state;if(!$l(this.state))return!1;var o=(0,ft.b7)(e.from),l={skillId:t,from:o,to:(0,ft.iX)(o),min:s.from.toString(),max:s.to.toString(),stopCriterion:a,containerIds:ec(n),reserveAccess:i};this.setState({isGenerateLoading:!0}),r(l,this.onSuccess,(()=>{this.setState({isGenerateLoading:!1})}))})),nc(this,"getCheckboxLabel",(()=>(0,u.jsx)(J.Z,{id:"ScheduleAdditional.withReserveSkills",defaultMessage:[{type:0,value:"Учитывать резервные навыки"}]})))}render(){var{listContainers:e,intl:{formatMessage:t},skillId:r,period:i,receiveCheckboxWithReserveSkills:s,isWithReserveSkills:n}=this.props,{open:a,fromTo:o,containers:l,criterion:c,isGenerateLoading:d}=this.state,p=$l(this.state),h=(e=>{var{title1:t,title2:r}=e;return[{value:"EVERY_FIFTEEN_MINUTES_FTE_CRITERION",text:t},{value:"SUM_FTE_CRITERION",text:r}]})({title1:t(Wl.title1),title2:t(Wl.title2)}),f=!r||(0,ft.zR)(i.from),m=t({id:"Settings.creatingAdditionalShifts",defaultMessage:[{type:0,value:"Настройка создания дополнительных смен"}]});return(0,u.jsxs)("span",{className:"ClgrucbF8n0SoYBO296mfg==",children:[(0,u.jsx)(Ml.Z,{hint:m,onClick:this.handleToggleShow,disabled:f,glyph:et.I8,classContainer:"U2QkroIy4cQeyxe-7p7qzw=="}),(0,u.jsx)("span",{ref:this.componentFlatRef}),(0,u.jsx)(Ns.ZP,{anchorEl:this.componentFlatRef.current,open:a,onClose:this.handleToggleShow,style:Ul,children:(0,u.jsxs)("div",{className:"vdSLq5lD+QWdFUvcxL39sA==",children:[(0,u.jsxs)("div",{className:tc,children:[(0,u.jsx)("div",{className:rc,children:Yl}),(0,u.jsx)(Gl.Z,{classContainer:"m0Utan2kNKc6+if8gh49Dg==",dataSource:e,dataSourceConfig:ac,onChange:this.setContainers,values:l,align:!1})]}),(0,u.jsxs)("div",{className:tc,children:[(0,u.jsxs)("div",{className:rc,children:[Ql,(0,u.jsx)("span",{className:"pG-v0omPrcNkj9IdHfQNaA==",children:Kl})]}),(0,u.jsx)(Bl,{onChange:this.setFromTo,from:o.from,to:o.to})]}),(0,u.jsxs)("div",{className:tc,children:[(0,u.jsx)("div",{className:rc,children:Xl}),(0,u.jsx)(Il.Z,{dataSource:h,onChange:this.setCriterion,value:c,dataSourceConfig:zl})]}),(0,u.jsx)(Rs.ZP,{onChange:s,label:this.getCheckboxLabel(),className:"Ujxyb+SX+aINiUBgsTfl3g==",checked:n}),(0,u.jsx)(Ae.Z,{onClick:this.handleCreate,style:Vl,disabled:!p||d,children:Jl})]})})]})}}oc.defaultProps={listContainers:[],skillId:"",isWithReserveSkills:!1,startAdditionalGenerate:O.wA},oc.propTypes={getAdditionalUserSchedule:c().func.isRequired,receiveCheckboxWithReserveSkills:c().func.isRequired,listContainers:c().array,period:ic.isRequired,skillId:c().string,isWithReserveSkills:c().bool,startAdditionalGenerate:c().func,setDateCurrentPeriod:c().func.isRequired,intl:c().shape({formatMessage:c().func.isRequired}).isRequired};const lc=oc,cc=(0,o.compose)((0,s.$j)((e=>({listContainers:(0,hs.A7)(e),period:(0,hs.SS)(e),skillId:(0,hs.lX)(e),groupId:(0,Y.Wx)(e),isWithReserveSkills:(0,hs.om)(e)})),{setDateCurrentPeriod:fs.setDateCurrentPeriod,fetchScheduleContainers:fs.fetchScheduleContainers,getAdditionalUserSchedule:fs.getAdditionalUserSchedule,startAdditionalGenerate:fs.startAdditionalGenerate,receiveCheckboxWithReserveSkills:fs.receiveCheckboxWithReserveSkills}),(0,U.Z)((e=>{var{props:t}=e;t.fetchScheduleContainers({id:t.groupId})})),v.ZP)(lc);class dc extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{date:e,skillId:t,notifyAdditionalUserSchedule:r}=this.props;r({skillId:t,from:e.from,to:e.to})}))}render(){var{hint:e,skillId:t}=this.props,r=!t;return(0,u.jsx)(Ml.Z,{onClick:this.handleClick,hint:e,disabled:r,glyph:et.P_,classContainer:Pl.svg})}}dc.propTypes={hint:c().string.isRequired,date:c().object.isRequired,skillId:c().string.isRequired,notifyAdditionalUserSchedule:c().func.isRequired};const uc=dc,pc=(0,o.compose)((0,s.$j)((e=>({date:(0,hs.SS)(e),skillId:(0,hs.lX)(e)})),{notifyAdditionalUserSchedule:fs.notifyAdditionalUserSchedule}))(uc);var hc=r(85073),fc=e=>{var{color:t}=e;return(0,u.jsx)("span",{children:(0,u.jsx)(hc.Z,{color:t})})};fc.defaultProps={color:""},fc.propTypes={color:c().string};const mc=fc;function vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gc=(0,u.jsx)(J.Z,{id:"Manager.Graph.SelectQueue",defaultMessage:[{type:0,value:"Выберите навык"}]});class bc extends m.Component{constructor(){super(...arguments),yc(this,"handleSelect",(e=>{var{setSelectSkill:t,date:r,getFteQueue:i,getAdditionalUserSchedule:s}=this.props,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(r),!0).forEach((function(t){yc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({skillId:e},r);i(n),s(n),t(e)}))}render(){var{skills:e,skillId:t}=this.props,r=function(e){var t=[];return e.forEach((e=>{var{name:r,id:i,color:s}=e,n={name:r,id:i,content:(0,u.jsx)(mc,{color:s})};t.push(n)})),t}(e);return(0,u.jsxs)("div",{className:Pl.queue,children:[(0,u.jsx)("span",{className:Pl.text,children:gc}),(0,u.jsx)(Il.Z,{onChange:this.handleSelect,dataSource:r,value:t})]})}}bc.propTypes={skills:c().array.isRequired,skillId:c().string.isRequired,setSelectSkill:c().func.isRequired,date:c().object.isRequired,getFteQueue:c().func.isRequired,getAdditionalUserSchedule:c().func.isRequired};const jc=bc,xc=(0,o.compose)((0,s.$j)((e=>({skills:(0,K.Jg)(e),skillId:(0,hs.lX)(e),date:(0,hs.SS)(e)})),{setSelectSkill:fs.setSelectSkill,getFteQueue:fs.getFteQueue,getAdditionalUserSchedule:fs.getAdditionalUserSchedule}))(jc);var Sc=r(11282);class Oc extends m.Component{render(){var{isChecked:e,setCheckboxLabelChart:t,skillId:r,intl:i}=this.props,s=!r,n=i.formatMessage({id:"Settings.labelOutputForecast",defaultMessage:[{type:0,value:"Вывод меток FTE прогноза и факта"}]});return(0,u.jsx)("span",{className:Pl.space,children:(0,u.jsx)(Rs.ZP,{hint:n,onChange:t,label:"123",className:Pl.checkbox,checked:e,disabled:s})})}}Oc.defaultProps={skillId:""},Oc.propTypes={intl:Sc.Z.isRequired,isChecked:c().bool.isRequired,setCheckboxLabelChart:c().func.isRequired,skillId:c().string};const Pc=Oc,wc=(0,o.compose)((0,s.$j)((e=>({isChecked:(0,hs.Og)(e),skillId:(0,hs.lX)(e)})),{setCheckboxLabelChart:fs.setCheckboxLabelChart}))(Pc),Cc="g4Gwe+RGryIoMVmkmMMVjA==",kc="a0ah2xi4cslqGLSmUJcuqQ==",Tc="pMSXYgnT0y7SBeN9dUfrCA==",Nc="F8x2Kg-7q+BpwP5SrWfJ6Q==",Rc="_9qUdwEgLp38HHeuBrMb3Qg==";var Ec=(0,u.jsx)(J.Z,{id:"common.12Hours",defaultMessage:[{type:0,value:"12 часов"}]});function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){Mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ic=function(e){return(0,u.jsxs)(Ae.Z,Ac(Ac({className:Rc},e),{},{children:[(0,u.jsx)(et.ZP,{glyph:et.Y4,className:Nc}),Ec]}))};function Zc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function qc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(r),!0).forEach((function(t){Fc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lc extends m.PureComponent{render(){return(0,u.jsxs)(Ae.Z,qc(qc({className:Rc},this.props),{},{children:[Ec,(0,u.jsx)(et.ZP,{glyph:et.LZ,className:Tc})]}))}}const Hc=Lc;function _c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bc=()=>!1;class Gc extends m.Component{constructor(){super(...arguments),_c(this,"handleChange",(e=>{var{date:t,onChange:r}=this.props;r((0,ft.TR)(t,e))})),_c(this,"handlePrev",(()=>{this.handleChange(-12)})),_c(this,"handleNext",(()=>{this.handleChange(12)}))}render(){var{date:e,disabled:t,shouldDisableBackArrow:r,shouldDisableForwardArrow:i}=this.props,s=t||r(e),n=t||i(e);return(0,u.jsxs)("div",{className:Cc,children:[(0,u.jsx)(Ic,{disabled:s,onClick:this.handlePrev}),(0,u.jsx)("div",{className:kc}),(0,u.jsx)(Hc,{disabled:n,onClick:this.handleNext})]})}}Gc.defaultProps={disabled:!1,shouldDisableBackArrow:Bc,shouldDisableForwardArrow:Bc},Gc.propTypes={date:c().string.isRequired,onChange:c().func.isRequired,disabled:c().bool,shouldDisableBackArrow:c().func,shouldDisableForwardArrow:c().func};const Wc=Gc;function Uc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Vc extends m.Component{constructor(){super(...arguments),Uc(this,"prepareDate",(e=>({from:e,to:(0,ft.TR)(e,24)}))),Uc(this,"handleChange",(e=>{var{setDateCurrentPeriod:t,skillId:r,getFteQueue:i,getAdditionalUserSchedule:s}=this.props,n=this.prepareDate(e),a={skillId:r,from:n.from,to:n.to};t(n),i(a),s(a)}))}render(){var{date:e,skillId:t}=this.props;return(0,u.jsx)("span",{className:Pl.pagination,children:(0,u.jsx)(Wc,{disabled:(0,j.xb)(t),date:e.from,onChange:this.handleChange})})}}Vc.propTypes={date:c().object.isRequired,setDateCurrentPeriod:c().func.isRequired,skillId:c().string.isRequired,getFteQueue:c().func.isRequired,getAdditionalUserSchedule:c().func.isRequired};const zc=Vc,Yc=(0,o.compose)((0,s.$j)((e=>({date:(0,hs.SS)(e),skillId:(0,hs.lX)(e)})),{setDateCurrentPeriod:fs.setDateCurrentPeriod,getFteQueue:fs.getFteQueue,getAdditionalUserSchedule:fs.getAdditionalUserSchedule}))(zc),Qc=(0,o.compose)((0,s.$j)((e=>({value:(0,hs.Rn)(e)})),{setScheduleZoomValue:fs.setScheduleZoomValue}))(ll.Z),Kc="kfaDf9et741+HMeg8OpmAQ==",Xc="LBpSip0ABVJ5K0QH+x4BsA==";var Jc=(0,u.jsx)(J.Z,{id:"ScheduleAdditional.allShifts",defaultMessage:[{type:0,value:"Все смены"}]}),$c=(0,u.jsx)(J.Z,{id:"ScheduleAdditional.availableReserve",defaultMessage:[{type:0,value:"Доступные резерву"}]}),ed=(0,u.jsx)(J.Z,{id:"ScheduleAdditional.inAvailableReserve",defaultMessage:[{type:0,value:"Недоступные резерву"}]}),td="allShifts",rd="availableReserve",id="inAvailableReserve";const sd=()=>{var e=(0,s.I0)(),t=(0,s.v9)(hs.KB);return(0,u.jsxs)("ul",{className:"j+uyxl-N+35d6X9SYauEqQ==",children:[(0,u.jsx)("li",{className:Kc,children:(0,u.jsx)("span",{onClick:()=>{e((0,fs.setAdditionalScheduleFilter)(td))},className:me()({[Xc]:t===td}),children:Jc})}),(0,u.jsx)("li",{className:Kc,children:(0,u.jsx)("span",{onClick:()=>{e((0,fs.setAdditionalScheduleFilter)(rd))},className:me()({[Xc]:t===rd}),children:$c})}),(0,u.jsx)("li",{className:Kc,children:(0,u.jsx)("span",{onClick:()=>{e((0,fs.setAdditionalScheduleFilter)(id))},className:me()({[Xc]:t===id}),children:ed})})]})};var nd=(0,u.jsx)(J.Z,{id:"ManagerForm.additionalSchedules",defaultMessage:[{type:0,value:"Дополнительные смены"}]}),ad=e=>{var{handleBackArrow:t}=e,r=(0,er.Z)(),i=r.formatMessage({id:"Settings.additionalSchedules",defaultMessage:[{type:0,value:"Отправка уведомлений о дополнительных сменах"}]});return(0,u.jsxs)("div",{className:Pl.header,children:[(0,u.jsxs)("div",{className:Pl.title1,children:[(0,u.jsx)("span",{className:Pl.back,children:(0,u.jsx)(Ol.Z,{onBack:()=>{t()}})}),(0,u.jsx)("span",{className:"header-drawer__title",children:(0,u.jsx)("h1",{children:nd})})]}),(0,u.jsxs)("div",{className:Pl.title2,children:[(0,u.jsx)(Rl,{}),(0,u.jsx)(Yc,{}),(0,u.jsx)(Al,{classContainer:Pl.element}),(0,u.jsx)(wc,{intl:r}),(0,u.jsx)(cc,{}),(0,u.jsx)(pc,{hint:i}),(0,u.jsx)(sd,{})]}),(0,u.jsxs)("div",{className:Pl.title3,children:[(0,u.jsx)(xc,{}),(0,u.jsx)(Qc,{})]})]})};ad.propTypes={handleBackArrow:c().func.isRequired};const od=ad;var ld={height:"calc(100vh - 124px)"},cd=e=>{var{isOpen:t}=e,r=(0,s.I0)(),i=()=>{r((0,fs.toggleShowAdditionalWindow)(!1)),r((0,fs.setActiveSaveButton)(!1)),r((0,fs.setAdditionalScheduleFilter)(td))},n=(0,u.jsx)(od,{handleBackArrow:i});return(0,u.jsx)(Ze.ZP,{open:t,width:1e3,handleBackArrow:i,headerCustom:n,styleBody:ld,title:"",children:(0,u.jsx)(Sl,{})})};cd.defaultProps={isOpen:!1},cd.propTypes={isOpen:c().bool};const dd=cd,ud=(0,o.compose)((0,s.$j)((e=>({isOpen:(0,hs.yR)(e)}))))(dd);var pd=r(79895),hd=r(50015),fd=r(59544),md=r(44326),vd=r(41042),yd=r(88e3);var gd={fontSize:"16px",verticalAlign:"text-top",marginRight:"4px"},bd=e=>{var{userDataColumnWidth:t,onToggleOpenRequest:r,selectedSkillIds:i,skillMap:s,visible:n}=e,a={width:t-yd.UM};return(0,u.jsxs)("div",{className:"flex-item_fixed ph flex-container flex-container_vertical",style:a,children:[(0,u.jsxs)("div",{className:"flex-container pv",children:[(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsx)(J.Z,{id:"Graph.load"})}),(0,u.jsx)("div",{className:"flex-item_fixed",children:n?(0,u.jsx)(fd.Z,{className:"material-icons cursor-pointer",style:gd,onClick:r}):(0,u.jsx)(md.Z,{className:"material-icons cursor-pointer",style:gd,onClick:r})})]}),n&&(0,u.jsx)("div",{className:"flex-item_flexible overflow-scroll-y pb scrollbar",children:i.map((e=>{var t=s[e];return t?(0,u.jsxs)("div",{className:"WAAdne+p6Sho5-IvQ5Dp+A==",children:[(0,u.jsx)(vd.Z,{className:"material-icons",style:{fontSize:"16px",verticalAlign:"text-top",marginRight:"4px",color:t.color}}),t.name]},e):null}))})]})};bd.propTypes={onToggleOpenRequest:c().func.isRequired,userDataColumnWidth:c().number.isRequired,selectedSkillIds:c().array.isRequired,skillMap:c().object.isRequired,visible:c().bool.isRequired};const jd=bd;var xd=r(21672),Sd=r(77848),Od=r(95506);function Pd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pd(Object(r),!0).forEach((function(t){Cd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kd=e=>e-45,Td=e=>{var{width:t,height:r,display:i,leftOffset:s,data:n,onTicksUpdate:a,showDataLabels:o}=e;if(!i)return null;var l=n.labels.map((e=>(0,ft.f)(e,"YYYY, MM, DD, HH:mm")))||[],c={left:s-10,width:t,height:kd(r)};return(0,u.jsx)("div",{style:c,className:"GZTbxgZIGcIUNdksX+wZoA==",children:(0,u.jsx)(Od.Z,{data:wd(wd({},n),{},{labels:l}),width:t,height:kd(r),showVerticalGrid:!1,onTicksUpdate:a,showDataLabels:o})})};Td.defaultProps={display:!0,leftOffset:0},Td.propTypes=_()({display:c().bool,leftOffset:c().number,height:c().number.isRequired,width:c().number.isRequired,data:c().object.isRequired,onTicksUpdate:c().func.isRequired,showDataLabels:c().bool.isRequired});const Nd=Td,Rd=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({showDataLabels:(0,xd.yn)(e),data:(0,Sd.P6)(e,t)}))),(0,Ci.c)(["dispatch","intl"]))(Nd);class Ed extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleYAxesTicksUpdate",(e=>{this.setState({yAxesTicks:e})})),this.state={yAxesTicks:[]}}render(){var{open:e,userDataColumnWidth:t,chartWidth:r,bottomContentHeight:i,onToggleOpenRequest:s,selectedSkillIds:n,skillMap:a,horizontalScrollOffset:o}=this.props,{yAxesTicks:l}=this.state,c={height:e?i:"auto",zIndex:9,borderTop:"2px solid black"};return(0,u.jsx)("div",{children:(0,u.jsxs)(pd.Z,{className:"flex-container",style:c,children:[(0,u.jsx)(jd,{onToggleOpenRequest:s,userDataColumnWidth:t,selectedSkillIds:n,skillMap:a,visible:e}),(0,u.jsx)(hd.Z,{ticks:l,withoutTopMargin:!0,hidden:!e,style:{paddingBottom:30},bordered:!0}),(0,u.jsx)("div",{className:"flex-item_flexible",style:{position:"relative",overflow:"hidden"},children:(0,u.jsx)(Rd,{display:e,leftOffset:-o,height:i,width:r,onTicksUpdate:this.handleYAxesTicksUpdate})})]})})}}Ed.propTypes=_()({open:c().bool.isRequired,chartWidth:c().number.isRequired,userDataColumnWidth:c().number.isRequired,bottomContentHeight:c().number.isRequired,onToggleOpenRequest:c().func.isRequired,selectedSkillIds:c().array.isRequired,skillMap:c().object.isRequired,horizontalScrollOffset:c().number.isRequired});const Dd=Ed,Ad=(0,o.compose)((0,s.$j)((e=>({userDataColumnWidth:(0,K.IJ)(e),skillMap:(0,K.sz)(e),selectedSkillIds:(0,K.ET)(e)}))),(0,Ci.c)(["dispatch"]))(Dd);r(75514);var Md=r(96437),Id=r(98805),Zd=r(74717),qd=r(50496),Fd=r(96694);function Ld(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Hd extends m.Component{constructor(){super(...arguments),Ld(this,"hint",this.props.intl.formatMessage({id:"ReplaceEmployee.createAdditionalSchedule",defaultMessage:[{type:0,value:"Создать дополнительную смену"}]})),Ld(this,"handleClick",(()=>{this.props.onClick(!0)}))}render(){var{disabled:e}=this.props;return(0,u.jsx)(Ae.Z,{onClick:this.handleClick,hint:this.hint,disabled:e,children:(0,u.jsx)(et.ZP,{glyph:et.xX})})}}Hd.defaultProps={disabled:!1},Hd.propTypes={onClick:c().func.isRequired,disabled:c().bool,intl:c().shape({formatMessage:c().func.isRequired}).isRequired};const _d=(0,v.ZP)(Hd);class Bd extends m.Component{render(){var{onClick:e,hint:t,disabled:r,backArrowClassName:i}=this.props;return r?null:(0,u.jsx)("h2",{className:"control-panel__header2",children:(0,u.jsx)(Ae.Z,{onClick:e,hint:t,className:i,children:(0,u.jsx)(et.ZP,{glyph:et.Y4,className:"svg-icon mr++",style:{width:"16px",height:"16px"}})})})}}Bd.defaultProps={disabled:!1,backArrowClassName:""},Bd.propTypes={onClick:c().func.isRequired,hint:c().string.isRequired,disabled:c().bool,backArrowClassName:c().string};const Gd=Bd,Wd="aWCATOIGtdUOyqQXrTKmcQ==",Ud="g7aR0SD19FKLTabfgVUvUQ==";function Vd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zd=(0,u.jsx)(J.Z,{id:"Common.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]});class Yd extends m.Component{constructor(e){super(e),Vd(this,"popoverAnchorOrigin",{vertical:"center",horizontal:"right"}),Vd(this,"state",{open:!1,checkedFact:this.props.displaySettings.showLog||!1}),Vd(this,"setCheckedFact",(e=>this.setState({checkedFact:e}))),Vd(this,"createRootRef",(e=>this.rootEl=e)),Vd(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))})),Vd(this,"handleSave",(()=>{var{checkedFact:e}=this.state,{saveDisplaySettings:t,getDataDay:r,setDisplaySettings:i}=this.props;this.toggleOpen(),t({showLog:e}),i({showLog:e}),r(e)})),Vd(this,"handleClick",(()=>{this.toggleOpen()})),Vd(this,"handleCheckboxChange",((e,t)=>{var{saveDisplaySettings:r}=this.props;r({[t]:e})})),Vd(this,"handleCheckboxFact",(e=>{var{saveDisplaySettings:t,setDisplaySettings:r}=this.props;t({showLog:e}),r({showLog:e}),this.setCheckedFact(e)})),this.titleHint=e.intl.formatMessage({id:"Common.displaySetting"})}UNSAFE_componentWillReceiveProps(e){this.props.displaySettings.showLog!==e.displaySettings.showLog&&this.setState({checkedFact:e.displaySettings.showLog})}render(){var{displaySettings:{showSchedule:e,showAvailability:t}}=this.props,{checkedFact:r}=this.state,i=(0,u.jsx)(J.Z,{id:"Graph.onSchedule",defaultMessage:[{type:0,value:"По графику"}]}),s=(0,u.jsx)(J.Z,{id:"Graph.employeeAvailable",defaultMessage:[{type:0,value:"Доступность сотрудника"}]}),n=(0,u.jsx)(J.Z,{id:"Graph.logPlusViolations",defaultMessage:[{type:0,value:"Факт + нарушения"}]});return(0,u.jsxs)("div",{ref:this.createRootRef,children:[(0,u.jsx)(Ae.Z,{style:{display:"flex"},onClick:this.handleClick,hint:this.titleHint,children:(0,u.jsx)(et.ZP,{glyph:et.hr})}),(0,u.jsx)(Ns.ZP,{anchorEl:this.rootEl,open:this.state.open,onClose:this.toggleOpen,anchorOrigin:this.popoverAnchorOrigin,children:(0,u.jsxs)("div",{className:"NiKdajoc23i-yShpTO70xA==",children:[(0,u.jsx)("h2",{children:zd}),(0,u.jsx)("div",{className:Wd,children:(0,u.jsx)(Rs.XZ,{name:"showSchedule",onChange:this.handleCheckboxChange,checked:e,label:i,disabled:!0})}),(0,u.jsx)("div",{className:Ud}),(0,u.jsx)("div",{className:Wd,children:(0,u.jsx)(Rs.XZ,{name:"showAvailability",onChange:this.handleCheckboxChange,checked:t,label:s,hidden:!0})}),(0,u.jsx)("div",{className:Wd,children:(0,u.jsx)(Rs.XZ,{name:"showLog",onChange:this.handleCheckboxFact,checked:r,label:n})}),(0,u.jsx)("div",{className:Ud}),(0,u.jsx)("div",{className:Wd,children:(0,u.jsx)(Ae.Z,{onClick:this.handleSave,children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]})})]})}}Yd.defaultProps={displaySettings:{}},Yd.propTypes={displaySettings:c().object,saveDisplaySettings:c().func.isRequired,intl:c().object.isRequired,getDataDay:c().func.isRequired,setDisplaySettings:c().func.isRequired};const Qd=Yd;function Kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Xd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Jd=(0,o.compose)(y.EN,(0,s.$j)((e=>({displaySettings:(0,K.nb)(e),groupId:(0,Y.Wx)(e),showLog:(0,K.uB)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e)})),{saveDisplaySettings:da.saveDisplaySettings,fetchGroupSchedule:da.fetchGroupSchedule,setDisplaySettings:da.setDisplaySettings}),(0,fl.G)((e=>{var{tableFilters:t,tableUrlParams:r}=e,{params:i}=e.match,s=(0,ft.I_)(i.from),n={groupId:e.groupId,from:s,to:(0,ft.LT)((0,ft.TR)(s,36),ft._E),filter:t,urlParams:r};return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(r),!0).forEach((function(t){Xd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({push:e.history.push,date:n,getDataDay:t=>{e.fetchGroupSchedule(n,t)}},e)})),(0,U.Z)((e=>{var{props:t}=e,{setDisplaySettings:r}=t;r({showLog:(_r.ZP.get("Graph.displaySettings")||{}).showLog||!1})})),v.ZP)(Qd);function $d(e){var{date:t}=e,r=(0,ft.LT)(t),i=(0,ft.TR)(t,12),s=(0,ft.LT)(i),n=r===s?r:"".concat(r," — ").concat(s);return(0,u.jsx)("span",{children:n})}$d.propTypes={date:c().string.isRequired};const eu=$d,tu=(0,o.compose)(y.EN,(0,fl.G)((e=>{var{params:t}=e.match;return{date:(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0)}})))(eu);var ru=r(59813);class iu extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{from:e,to:t,groupId:r,optimizeForGroup:i,fetchGroupSchedule:s,tableFilters:n,tableUrlParams:a,checkUnsavedChanges:o,intl:{formatMessage:l}}=this.props;i({from:e,to:t,groupId:r},(()=>{var i=(0,ft.b7)(e),l=(0,ft.iX)(t);s({from:i,to:l,groupId:r,userIds:[],filter:n,urlParams:a}),o({from:i,to:l,groupId:r})}),l)}))}render(){var{hidden:e,hint:t,isOptimizing:r,user:i,from:s}=this.props,n=(0,X.BC)(i,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD),a=r||(0,ft.mw)(s)||n;return e?null:(0,u.jsx)(oi.Z,{onClick:this.handleClick,disabled:a,hint:t,children:(0,u.jsx)(et.ZP,{glyph:et.rX})})}}iu.defaultProps={hidden:!1,isOptimizing:!1,user:null},iu.propTypes={from:c().string.isRequired,to:c().string.isRequired,groupId:c().string.isRequired,optimizeForGroup:c().func.isRequired,fetchGroupSchedule:c().func.isRequired,tableFilters:ru.PX.isRequired,tableUrlParams:ru.SR.isRequired,checkUnsavedChanges:c().func.isRequired,isOptimizing:c().bool,user:c().object,hidden:c().bool,hint:c().string.isRequired,intl:P.gm.isRequired};const su=(0,v.ZP)(iu);function nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(r),!0).forEach((function(t){ou(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ou(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lu=(0,o.compose)(v.ZP,y.EN,(0,s.$j)((e=>({isOptimizing:(0,K.fm)(e),groupId:(0,Y.Wx)(e),user:(0,C.ts)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e)})),{optimizeForGroup:da.optimizeForGroup,fetchGroupSchedule:da.fetchGroupSchedule,checkUnsavedChanges:da.checkUnsavedChanges},((e,t,r)=>{var{groupId:i,tableFilters:s,tableUrlParams:n}=e,{intl:a}=r;return au(au({groupId:i,tableFilters:s,tableUrlParams:n,hint:a.formatMessage({id:"Graph.doOptimize",defaultMessage:[{type:0,value:"Оптимизировать"}]})},t),r)})),(0,fl.G)((e=>{var{params:t}=e.match,r=(e=>{var t=(0,ft.TR)((0,ft.I_)(e.from),e.mid?12:0);return(0,ft.zk)(t)?(0,ft.IH)((0,ft.NM)((0,ft.zO)()),"minutes",5):t})(t);return au({from:r,to:(0,ft.Om)(r)},e)})))(su);class cu extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{push:t,fetchGroupSchedule:r,checkUnsavedChanges:i,groupId:s,showLog:n,tableFilters:a,tableUrlParams:o,setTableSorters:l}=this.props,c="00:00"!==(0,ft.i7)(e),d={from:e,to:(0,ft.TR)(e,24),groupId:s};t("/schedule/graph/".concat((0,ft.X5)(e)).concat(c?"/mid":"")),r({from:e,to:(0,ft.TR)(e,24),groupId:s,filter:a,urlParams:o},n),l([]),i(d)}))}render(){var{date:e}=this.props;return(0,u.jsx)(Wc,{date:e,onChange:this.handleChange})}}cu.defaultProps={showLog:!1},cu.propTypes={date:c().string.isRequired,groupId:c().string.isRequired,tableFilters:ru.PX.isRequired,tableUrlParams:ru.SR.isRequired,fetchGroupSchedule:c().func.isRequired,checkUnsavedChanges:c().func.isRequired,setTableSorters:c().func.isRequired,push:c().func.isRequired,showLog:c().bool};const du=cu;function uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const hu=(0,o.compose)(y.EN,(0,s.$j)((e=>({groupId:(0,Y.Wx)(e),showLog:(0,K.uB)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e)})),{setDayPageStart:da.setDayPageStart,fetchGroupSchedule:da.fetchGroupSchedule,checkUnsavedChanges:da.checkUnsavedChanges,setTableSorters:da.setTableSorters}),(0,fl.G)((e=>{var{params:t}=e.match;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uu(Object(r),!0).forEach((function(t){pu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({push:e.history.push,date:(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0)},e)})))(du);var fu=e=>{var{refresh:t,hint:r}=e;return(0,u.jsx)(Ae.Z,{onClick:t,hint:r,children:(0,u.jsx)(et.ZP,{glyph:et.Du})})};fu.propTypes={refresh:c().func.isRequired,hint:c().string.isRequired};const mu=fu;function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(r),!0).forEach((function(t){gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const bu=(0,o.compose)((0,s.$j)((e=>({period:(0,K.az)(e)})),null,((e,t,r)=>{var{period:{from:i,to:s}}=e;return yu(yu({},r),{},{refresh:()=>{r.onRefresh({from:i,to:s,showDetails:!0})}})})))(mu);var ju=r(86225),xu=r(75073),Su=r(22402),Ou=r(95766),Pu=e=>{var{period:{from:t,to:r},onPublish:i,groupId:n,frontendSettings:a,intervalIsChangedState:o,recalculateFTE:l,isLoadingRecalculate:c,isShowRecalculate:d,intl:p,onBackArrow:h,onRefresh:f,handleEmployeeRequestAvailable:m,handleGraphCommentRequest:v,toggleShowAdditionalWindow:y,user:g,isLaborCodeCheckingEnabled:b,shouldDisablePublishBtn:j}=e,S=(0,s.I0)(),O=(0,s.v9)(Ou.a),P=(0,s.v9)(K.se),[w,C]=(0,ft.ae)(t,r),k=(0,X.BC)(g,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE),T=(0,X.BC)(g,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD);return(0,u.jsxs)("div",{className:xu.Z.detailPanelButtonsContainer,children:[(0,u.jsx)(Gd,{backArrowClassName:xu.Z.backArrowBtn,onClick:h,hint:p.formatMessage({id:"Common.back",defaultMessage:[{type:0,value:"Назад"}]})}),(0,u.jsxs)("div",{className:xu.Z.buttons,children:[(0,u.jsx)(bu,{onRefresh:f,hint:p.formatMessage({id:"Common.refresh",defaultMessage:[{type:0,value:"Обновить"}]})}),(0,u.jsx)(Zd.Z,{onClick:m,hint:p.formatMessage({id:"Graph.employeeRequest",defaultMessage:[{type:0,value:"Запрос сотрудника"}]}),hidden:P||!a.employeeRequestAvailable.value}),(0,u.jsx)(qd.Z,{onClick:v,hint:p.formatMessage({id:"ScheduleComments.title",defaultMessage:[{type:0,value:"Комментарии к сменам"}]}),disabled:!a.graphCommentRequiredToChangeQueue.value}),(0,u.jsx)(Id.Z,{isLabel:!0,onClick:l,from:w,groupId:n,isLoading:c,isShow:d,recountFTEClassName:xu.Z.recountFTEBtn,hint:p.formatMessage({id:"Schedule.Panel.Btn.RecountFTE",defaultMessage:[{type:0,value:"Пересчитать FTE"}]})}),(0,u.jsx)(lu,{hidden:!T}),k&&(0,u.jsx)(_d,{onClick:y}),(0,u.jsx)(Jd,{}),(0,u.jsx)(hu,{}),(0,u.jsx)(tu,{}),b&&(0,u.jsx)("span",{children:(0,u.jsx)(ju.Z,{customBackdropClick:()=>{S((0,da.setLaborCodeViolationsDrawerOpen)(!1))},hasCustomBackdropClick:!0,btnClassName:xu.Z.scheduleViolationsStyle,hint:p.formatMessage(Su.xI)})}),(0,u.jsx)(Fd.Z,{onClick:i,hint:p.formatMessage({id:"ScheduleComputing.publishSchedule",defaultMessage:[{type:0,value:"Опубликовать расписание"}]}),disabled:j||!T,isChanged:o,from:w,to:C}),O===x.ck.WARNING&&(0,u.jsx)("div",{className:xu.Z.licenseInfo,children:(0,u.jsx)(J.Z,{id:"License.overLicenses",defaultMessage:[{type:0,value:"Достигнут лимит лицензий"}]})})]})]})};Pu.propTypes=_()({period:c().object.isRequired,onPublish:c().func.isRequired,groupId:P.K5.isRequired,frontendSettings:c().object.isRequired,intervalIsChangedState:c().bool.isRequired,toggleShowAdditionalWindow:c().func.isRequired,recalculateFTE:c().func.isRequired,onRefresh:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,isShowRecalculate:c().bool.isRequired,intl:c().object.isRequired,user:c().object.isRequired,onBackArrow:c().func.isRequired,handleEmployeeRequestAvailable:c().func.isRequired,handleGraphCommentRequest:c().func.isRequired,isLaborCodeCheckingEnabled:c().bool.isRequired,shouldDisablePublishBtn:c().bool.isRequired});const wu=Pu;var Cu=e=>{var{period:t,onPublish:r,groupId:i,frontendSettings:s,intervalIsChangedState:n,recalculateFTE:a,isLoadingRecalculate:o,isShowRecalculate:l,intl:c,onBackArrow:d,onRefresh:p,user:h,toggleShowAdditionalWindow:f,isLoadingPublishByGroup:m,isLaborCodeCheckingEnabled:v,tableFilters:y,fetchGroupSchedule:g,openPopup:b,tableUrlParams:j}=e;return(0,u.jsx)("span",{children:(0,u.jsx)(wu,{period:t,onPublish:r,groupId:i,onRefresh:p,frontendSettings:s,intervalIsChangedState:n,recalculateFTE:a,isLoadingRecalculate:o,isShowRecalculate:l,intl:c,user:h,onBackArrow:d,toggleShowAdditionalWindow:f,handleEmployeeRequestAvailable:()=>{var{from:e,to:r}=t,[s,n]=(0,ft.ae)(e,r);b(Md._.employeeRequest,{groupId:i,onRequestSend:()=>{g({groupId:i,from:s,to:n,userIds:[],urlParams:j,filter:y}),b()}})},handleGraphCommentRequest:()=>{var{from:e,to:r}=t;b(Md._.scheduleComments,{style:{width:"1000px",height:"500px",textAlign:"left"},groupId:i,params:{dateFrom:e,dateTo:r,timeFrom:"00:00",timeTo:"23:59"}})},isLaborCodeCheckingEnabled:v,shouldDisablePublishBtn:m})})};Cu.propTypes=_()({onRefresh:c().func.isRequired,onPublish:c().func.isRequired,openPopup:c().func.isRequired,tableFilters:ru.PX.isRequired,tableUrlParams:ru.SR.isRequired,fetchGroupSchedule:c().func.isRequired,toggleShowAdditionalWindow:c().func.isRequired,groupId:P.K5.isRequired,frontendSettings:c().object.isRequired,intervalIsChangedState:c().bool.isRequired,intl:c().object.isRequired,recalculateFTE:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,isShowRecalculate:c().bool.isRequired,onBackArrow:c().func.isRequired,period:c().object.isRequired,user:c().object.isRequired,isLaborCodeCheckingEnabled:c().bool.isRequired,isLoadingPublishByGroup:c().bool.isRequired});const ku=Cu;var Tu=r(83825);const Nu=(0,o.compose)(v.ZP,(0,s.$j)((e=>({isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),isLoadingPublishByGroup:(0,Tu.getIsLoadingPublishByGroup)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e)})),{toggleShowAdditionalWindow:fs.toggleShowAdditionalWindow}))(ku);var Ru=e=>{var{hoursCount:t,style:r}=e;return(0,u.jsx)("div",{className:"lRxAlpKuOKoxIpxKcnBTgg==",style:r,children:(0,X.B4)(t).map((e=>(0,u.jsx)("div",{className:"L2NGFtDf2DNlDz5Z4U9Lsg=="},e)))})};Ru.defaultProps={hoursCount:24,style:{}},Ru.propTypes={hoursCount:c().number,style:c().object};const Eu=Ru;class Du extends m.Component{render(){var{from:e,to:t,width:r,height:i,scrollPosition:s,leftOffset:n,graphTopHeight:a}=this.props,o=ns()(t,ft._E).diff(ns()(e,ft._E),"h"),l=ns()().unix(),c=ns()(e,ft._E).unix(),d=ns()(t,ft._E).unix(),p=c<l&&d>l;return(0,u.jsx)("div",{className:"click-through",style:{position:"absolute",width:r,height:i,left:n},children:(0,u.jsxs)("div",{className:"click-through",style:{position:"relative",width:"100%",height:i,overflow:"hidden"},children:[(0,u.jsx)("div",{className:"click-through",style:{position:"absolute",width:r,left:-s,top:0,zIndex:10},children:(0,u.jsx)(Eu,{style:{height:i},hoursCount:o,skipHours:ns()(e,ft._E).hour()})}),p&&(0,u.jsx)("div",{className:"click-through",style:{left:-s,height:i,width:r,position:"absolute",zIndex:12},children:(0,u.jsx)(Yo,{showPulp:!0,offsetSeconds:ns()().startOf("day").unix()-c,periodSecondsLength:d-c,pulpOffset:a+20,orientation:"horizontal",measureUnit:"%"})})]})})}}Du.defaultProps={height:9999,graphTopHeight:_r.ZP.get("Graph.topContentHeight",120)},Du.propTypes={from:c().string.isRequired,to:c().string.isRequired,width:c().number.isRequired,height:c().number,scrollPosition:c().number.isRequired,leftOffset:c().number.isRequired,graphTopHeight:c().number};const Au=Du;function Mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Iu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Zu=(0,o.compose)(y.EN,(0,fl.G)((e=>{var{params:t}=e.match,r=(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(r),!0).forEach((function(t){Iu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({from:r,to:(0,ft.TR)(r,24)},e)})))(Au);var qu=r(6440),Fu=r(55635),Lu=r(95326);function Hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(r),!0).forEach((function(t){Bu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gu=e=>e.graph.tableData,Wu=e=>e.reports.workSchedule.periodWS,Uu=e=>e.reports.workSchedule.month,Vu=e=>e.reports.reports,zu=e=>e.reports.workSchedule.year,Yu=e=>e.reports.workSchedule.cellsSetting,Qu=e=>e.reports.workSchedule.usersIdSortFiltered,Ku=e=>e.reports.workSchedule.filter,Xu=e=>e.reports.dayGraphReportFilter,Ju=e=>e.reports.factPlanReportDate,$u=e=>e.reports.factPlanReportData,ep=e=>e.reports.t13ReportData,tp=e=>e.reports.t13ReportDate,rp=e=>e.reports.graphReportDate,ip=e=>e.reports.graphReportData,sp=e=>e.reports.dayGraphReportData,np=e=>e.reports.dayGraphReportDate,ap=e=>e.reports.workScheduleEmployeeReportDate,op=e=>e.reports.accountingReportDate,lp=e=>e.reports.groupPunctualityDate,cp=e=>e.reports.groupPeriodPunctualityDate,dp=e=>e.reports.accountingReportData,up=e=>e.reports.groupPeriodPunctualityReportDate,pp=e=>e.reports.accountingReportIsLoading,hp=e=>e.reports.isLoadingFactPlanReport,fp=e=>e.reports.isLoadingFactPlanReportExcel,mp=e=>e.reports.pepReportByDay,vp=e=>mp(e).filters,yp=e=>{var t;return t=ip(e),Object.values(t).map(((e,t)=>_u(_u({},e),{},{index:t})))},gp=(0,Q.createSelector)((e=>mp(e).data),vp,((e,t)=>(0,jo.Rb)(e,t))),bp=(0,Q.createSelector)(Lu.Jb,(e=>e.map((e=>({id:e.id,name:(0,ye.Pp)(e.namePeriod)}))))),jp=r(3839),xp=r(90822),Sp=r(714);function Op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(r),!0).forEach((function(t){wp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cp={};class kp extends m.PureComponent{constructor(){super(...arguments),wp(this,"multiGrid",null),wp(this,"onResize",(e=>{var{height:t,width:r}=e;this.props.onResize({height:t,width:r})})),wp(this,"getColumnWidth",(e=>{var{index:t}=e,{columns:r}=this.props;return r[t].calculatedWidth})),wp(this,"createMultiGridRef",((e,t)=>(this.multiGrid=e,t))),wp(this,"handleSortChange",(e=>{var{setTableSorters:t,sorters:r,columns:i,setLastUpdatedSort:s}=this.props,n=i[e],a=[...r],o=a.find((e=>e.column.key===n.key));if(o)if(1===o.direction){var l={direction:-1,sortOrder:"desc",column:n};o.direction=l.direction,s(l)}else if(-1===o.direction){var c={direction:0,sortOrder:"",column:n};o.direction=c.direction,s(c)}else{var d={direction:1,column:n,sortOrder:"asc"};a=[d],s(d)}else{var u={direction:1,column:n,sortOrder:"asc"};a=[u],s(u)}"function"==typeof t&&t(a)})),wp(this,"renderHeaderCell",(e=>{var{columnIndex:t,key:r,style:i}=e,{columns:s,sorters:n}=this.props,a=s[t];return(0,u.jsx)("div",{style:Pp(Pp({},i),{},{width:a.calculatedWidth}),id:jp.MG+t,children:(0,u.jsxs)("div",{className:"flex-container flex-container_align-items-center "+(a.headerClassName||""),style:Pp({height:i.height,overflow:"hidden"},a.headerCellStyle),children:[(0,u.jsx)("div",{className:"virtualized-table__column-title",onClick:()=>{a.sortOnHeaderClick&&this.handleSortChange(t)},children:a.renderHeader()}),(0,u.jsx)("div",{className:me()("virtualized-table__filter-bar",a.sorterClassNames),children:(0,u.jsx)(xp.Z,{sorters:n,columnKey:a.key,columnIndex:t,onChange:this.handleSortChange,hidden:!a.sortable})})]})},r)})),wp(this,"renderBodyCell",(e=>{var{shouldHideCell:t,columns:r,data:i}=this.props;if(t&&t(e))return null;var{columnIndex:s,key:n,rowIndex:a,style:o}=e,l=i[a-1],c=r[s],d=a%2==0;return(0,u.jsx)("div",{style:Pp(Pp(Pp({},o),{},{width:c.calculatedWidth},this.props.cellStyle),c.cellStyle),className:me()(Sp.DS,c.cellClassName,{"even-row":d,"odd-row":!d}),children:c.renderCell(l)},c.fixed?n:jp.GS+n)})),wp(this,"renderCell",(e=>0===e.rowIndex?this.renderHeaderCell(e):this.renderBodyCell(e))),wp(this,"_infiniteLoaderChildFunction",((e,t,r)=>{var{onRowsRendered:i,registerChild:s}=e;this._onRowsRendered=i;var{rowHeight:n,gridProps:a,onScroll:o,data:l,columns:c,overscanRowCount:d,scrollToRow:p,fixedColumnCount:h}=this.props,f=l.length+1;return(0,u.jsx)(bs.yR,Pp(Pp({},a),{},{onSectionRendered:this._onSectionRendered,ref:e=>this.createMultiGridRef(e,s),style:Cp,styleBottomRightGrid:Cp,classNameBottomLeftGrid:"",classNameBottomRightGrid:"scroll",classNameTopLeftGrid:"",classNameTopRightGrid:"",fixedColumnCount:h,fixedRowCount:1,cellRangeRenderer:this.props.cellRangeRenderer,styleTopLeftGrid:Sp.bJ,styleTopRightGrid:Sp.iR,styleBottomLeftGrid:Sp.FM,cellRenderer:this.renderCell,columnWidth:this.getColumnWidth,columnCount:c.length,height:r,scrollToRow:p,rowHeight:n,rowCount:f,width:t,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,onScroll:o,overscanRowCount:d,data:l,columns:c,enableFixedRowScroll:!1}))})),wp(this,"_onSectionRendered",(e=>{var{rowStartIndex:t,rowStopIndex:r}=e;this._onRowsRendered({startIndex:t,stopIndex:r})}))}render(){var{infiniteLoaderProps:e}=this.props;return(0,u.jsx)(bs.qj,{onResize:this.onResize,children:t=>{var{width:r,height:i}=t;return(0,u.jsx)(bs.b2,Pp(Pp({},e),{},{children:e=>this._infiniteLoaderChildFunction(e,r,i)}))}})}}kp.defaultProps={overscanRowCount:0,fixedColumnCount:1,rowHeight:48,setLastUpdatedSort:O.wA,onResize:O.wA,gridProps:{},cellStyle:{},sorters:[],cellRangeRenderer:bs.Fv,shouldHideCell:null,setTableSorters:null,onScroll:null,scrollToRow:null},kp.propTypes=_()({rowHeight:c().oneOfType([c().number,c().func]),cellStyle:c().object,infiniteLoaderProps:c().object.isRequired,sorters:c().array,data:c().array.isRequired,onScroll:c().func,cellRangeRenderer:c().func,columns:c().array.isRequired,onResize:c().func,overscanRowCount:c().number,fixedColumnCount:c().number,scrollToRow:c().number,shouldHideCell:c().func,setLastUpdatedSort:c().func,setTableSorters:c().func,gridProps:c().shape({})});const Tp=kp;var Np=e=>{var t,{children:r,onOutsideClick:i,isModalOpen:s}=e,n=(0,m.useRef)(null);return t=n,(0,m.useEffect)((()=>{var e=e=>{!t.current||t.current.contains(e.target)||s||i()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[t,s]),(0,u.jsx)("div",{className:"_4XlRNYE7zEG4yfb0Kep3sQ==",ref:n,children:r})};Np.propTypes={children:c().node,onOutsideClick:c().func,isModalOpen:c().bool},Np.defaultProps={children:null,onOutsideClick:O.wA,isModalOpen:!1};const Rp=Np;function Ep(e){return[...new Set(e)]}var Dp={actualHours:c().number,normHours:c().number,differenceMinutes:c().number,week:c().number,normMinutes:c().number,actualMinutes:c().number},Ap=c().shape({day:c().string,endFrom:c().string,endTo:c().string,id:c().string,startFrom:c().string,startTo:c().string,taken:c().bool,user:c().shape({fullName:c().string,id:c().string,login:c().string}),userId:c().string,weekend:c().bool,workHoursFrom:c().string,workHoursTo:c().string}),Mp=r(22318),Ip=r(41120),Zp=(0,Ip.Z)((()=>({typography:{fontSize:10,paddingTop:8,color:"#77828c"}}))),qp=e=>{var{violations:t,setLaborCodeViolationsDrawerOpen:r,isHideMoreInfoButton:i,containerClassNames:s,customPopoverStyle:n}=e,a=Zp(),[o,l]=(0,m.useState)(null);if((0,j.xb)(t))return null;var c=()=>{l(null)},d=Boolean(o),p=me()(s),h=Object.values(t).map((e=>e.description));return(0,u.jsxs)("div",{title:h.map((e=>e)),className:so.cursorPointer,children:[(0,u.jsx)("div",{onClick:e=>{l(e.currentTarget)},className:p,children:(0,u.jsx)(et.ZP,{glyph:et._B})}),(0,u.jsx)(Ns.ZP,{id:"mouse-over-popover",classes:{paper:a.paper},open:d,onBackdropClick:c,anchorEl:o,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},style:n||{zIndex:1250},onClose:c,disableRestoreFocus:!0,children:(0,u.jsx)("div",{className:so.border,children:(0,u.jsxs)("div",{className:so.padding,children:[(0,u.jsx)("div",{className:so.violationsHeader,children:(0,u.jsx)(J.Z,{id:"LaborCode.laborCodeViolation",defaultMessage:[{type:0,value:"Несоблюдение ТК РФ"}]})}),Object.values(t).map(((e,t)=>{var{description:r,dates:i}=e,s=null==i?void 0:i.map((e=>(0,ft.SE)(e,ft.vc))),n=s.join(", ");return(0,u.jsx)(Mp.Z,{className:a.typography,title:n,children:r},e.id||t)})),!i&&(0,u.jsx)(Ae.Z,{onClick:()=>{r(!0),l(null)},children:(0,u.jsx)("div",{className:so.moreInformation,children:(0,u.jsx)(J.Z,{id:"LaborCode.moreInformation",defaultMessage:[{type:0,value:"Подробнее"}]})})})]})})})]})};qp.defaultProps={customPopoverStyle:{},violations:{},setLaborCodeViolationsDrawerOpen:O.wA,isHideMoreInfoButton:!1,containerClassNames:""},qp.propTypes={isHideMoreInfoButton:c().bool,customPopoverStyle:c().object,violations:c().object,containerClassNames:c().string,setLaborCodeViolationsDrawerOpen:c().func};const Fp=qp;function Lp(e){var t=e.substr(0,3);return parseInt(t,10)}const Hp="kauM9GXPyPSpSlOwpfur5Q==";class _p extends m.PureComponent{render(){var{userTimeZoneData:e,currentUserTimeZoneData:t}=this.props;if(!e||!t)return null;var r,i=Lp(t),s=Lp(e)-i;return 0===s?null:(0,u.jsx)("div",{style:{marginTop:1},children:(0,u.jsx)("span",{className:Hp,children:(0,u.jsx)(J.Z,{className:Hp,id:"UserCell.hours",defaultMessage:[{type:1,value:"value"},{type:0,value:" ч."}],values:{value:(r=s,r>0?"+"+r:String(r))}})})})}}_p.propTypes={userTimeZoneData:c().string.isRequired,currentUserTimeZoneData:c().string.isRequired};const Bp=_p,Gp=(0,o.compose)((0,s.$j)((e=>({currentUserTimeZoneData:e.user.timeZoneData}))))(Bp);var Wp=me()(so.title,"overflow-hidden","text-ellipsis");function Up(e){var{userId:t,userName:r,userPosition:i,actualHours:n,normHours:a,differenceActualMinutes:o,active:l,disableRemoveButton:c,userFullName:d,onRemoveResponse:p,timeZoneData:h,setLaborCodeViolationsDrawerOpen:f,overWork:m,preferenceDay:v,iconClassName:y,containerClassName:g,bodyClassName:b}=e,x=(0,s.v9)((0,K.k0)(t)),S=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),O=S&&x,P=me()(so.root,{[so.active]:l,[so.hasViolations]:S&&!(0,j.xb)(O)});return(0,u.jsxs)("div",{className:me()(g,P),title:d,children:[(0,u.jsxs)("div",{className:me()(so.iconsContainer,y),children:[(0,u.jsx)("div",{className:so.iconContainerItem,children:S&&(0,u.jsx)(Fp,{violations:O.violations,setLaborCodeViolationsDrawerOpen:f,userId:t})}),(0,u.jsx)("div",{style:{height:13},className:so.iconContainerItem,children:(0,u.jsx)(Ae.Z,{className:so.removeButton,hidden:c,onClick:p,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})})}),(0,u.jsx)("div",{className:so.iconContainerItem,children:(0,u.jsx)(Gp,{userTimeZoneData:h})})]}),(0,u.jsxs)("div",{className:me()(b,so.body),children:[(0,u.jsx)("div",{className:Wp,children:r}),(0,u.jsx)("div",{className:so.position,children:i}),(0,u.jsxs)("div",{className:so.overWork,children:[(0,u.jsx)(et.ZP,{glyph:et.i4,className:so.icon,hidden:!m}),(0,u.jsx)(ao,{actualHours:n,normHours:a,differenceActualMinutes:o}),(0,u.jsxs)("div",{children:[(0,u.jsx)(et.ZP,{className:me()(so.preferenceStar,"svg-icon"),glyph:null!=v&&v.taken?et.yl:et.vi,hidden:(0,j.xb)(v)}),(0,u.jsx)(et.ZP,{className:so.banIcon,glyph:et.Kg,hidden:!0})]})]})]})]})}Up.defaultProps={timeZoneData:"",userPosition:"",iconClassName:"",containerClassName:"",userFullName:"",bodyClassName:"",userName:"",userId:"",overWork:!1,active:!1,disableRemoveButton:!1,setLaborCodeViolationsDrawerOpen:null,normHours:0,actualHours:0,differenceActualMinutes:0,shiftBlockDay:{},preferenceDay:{}},Up.propTypes={overWork:c().bool,userId:c().string,userName:c().string,iconClassName:c().string,containerClassName:c().string,bodyClassName:c().string,userFullName:c().string,userPosition:c().string,actualHours:c().number,normHours:c().number,differenceActualMinutes:c().number,active:c().bool,onRemoveResponse:c().func.isRequired,setLaborCodeViolationsDrawerOpen:c().func,disableRemoveButton:c().bool,timeZoneData:c().string,preferenceDay:Ap,shiftBlockDay:c().shape({day:c().string,userId:c().string})};const Vp=Up;var zp=e=>{var{userId:t,userName:r,userFullName:i,userPosition:s,actualHours:n,normHours:a,differenceActualMinutes:o,intl:{formatMessage:l},active:c,disableRemoveButton:d,timeZoneData:p,setLaborCodeViolationsDrawerOpen:h,overWork:f,ignoreUserInFilter:v,preferenceDay:y,shiftBlockDay:g,bodyClassName:b,containerClassName:j}=e,x=(0,m.useCallback)((()=>{v(t)}),[v,t]);return(0,u.jsx)(Vp,{bodyClassName:b,shiftBlockDay:g,preferenceDay:y,overWork:f,userId:t,userName:r,userFullName:i,userPosition:s,actualHours:n,differenceActualMinutes:o,setLaborCodeViolationsDrawerOpen:h,normHours:a,formatMessage:l,active:c,onRemoveResponse:x,disableRemoveButton:d,timeZoneData:p,containerClassName:j})};zp.propTypes={preferenceDay:Ap,overWork:c().bool,containerClassName:c().string,userId:c().string,userName:c().string,userFullName:c().string,userPosition:c().string,actualHours:c().number,normHours:c().number,differenceActualMinutes:c().number,intl:P.gm.isRequired,active:c().bool.isRequired,setLaborCodeViolationsDrawerOpen:c().func.isRequired,disableRemoveButton:c().bool.isRequired,timeZoneData:c().string,bodyClassName:c().string,ignoreUserInFilter:c().func.isRequired,shiftBlockDay:c().shape({day:c().string,userId:c().string})},zp.defaultProps={overWork:!1,containerClassName:"",timeZoneData:"",userPosition:"",userFullName:"",userName:"",userId:"",bodyClassName:"",normHours:0,actualHours:0,differenceActualMinutes:0,shiftBlockDay:{},preferenceDay:{}};const Yp=zp,Qp=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({active:(0,K.wv)(e,t),disableRemoveButton:(0,K.Gu)(e)})),{setLaborCodeViolationsDrawerOpen:da.setLaborCodeViolationsDrawerOpen,ignoreUserInFilter:da.ignoreUserInFilter}))(Yp);var Kp=r(52429);var Xp=e=>{var{clearFilter:t,isSet:r,actualCount:i,isShowCount:s}=e,n=s&&String(i).length>3,a=(0,u.jsx)("span",{className:me()("g7g-mV54aT4P8qQPAaGjPw==",{"omckZPtZQP1ZZ2W6h-GMVw==":n}),title:s&&i,children:i>=0&&s?i:""});return(0,u.jsxs)("div",{className:me()("l7UReTtgoE4NGj8b4jpPlQ==",{"_0spSg0q1ZoErgfaUj0YG4Q==":n}),children:[(0,u.jsx)("div",{className:"XJo5cT0Rnvl8JPLdik+wPw==",children:r&&a}),(0,u.jsx)(Ae.Z,{onClick:()=>{Kp.Z.setItem("graphFilterCache",JSON.stringify({})),t()},disabled:!r,children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]})};Xp.defaultProps={isShowCount:!1},Xp.propTypes={clearFilter:c().func.isRequired,isSet:c().bool.isRequired,isShowCount:c().bool,actualCount:c().number.isRequired};const Jp=Xp;function $p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$p(Object(r),!0).forEach((function(t){th(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function th(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(e){return!(0,j.xb)(e)&&Object.values(e).some((e=>!(0,j.xb)(e)))}const ih=(0,o.compose)(y.EN,(0,s.$j)((e=>({filter:(0,K.xT)(e),isShowDropDown:(0,K.c0)(e),isGraphLoading:(0,K.PT)(e),tableFilterCounter:(0,K.K6)(e),detailTableFilterCounter:(0,K.xz)(e),ignoreList:(0,K.JK)(e)})),{clearFilter:da.clearFilter},((e,t,r)=>{var{filter:i,isShowDropDown:s,isGraphLoading:n,ignoreList:a}=e,o=(r.match.params.from&&!r.match.params.to?e.detailTableFilterCounter:e.tableFilterCounter)-a.length;return eh(eh({},t),{},{isSet:rh(i),actualCount:o,isShowCount:o&&!s&&!n},r)})))(Jp);var sh=r(91637),nh=r(47968);const ah="imZBo8p9NlJ+0LEg2AEI9w==";var oh=r(66034);class lh extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{fieldName:e,onChange:t,toggleOpen:r}=this.props;t(e),r()}))}render(){var{label:e,value:t,fieldName:r}=this.props;return(0,u.jsx)("div",{className:ah,children:(0,u.jsx)(Ae.Z,{onClick:this.handleClick,active:t===r,children:(0,u.jsx)("span",{children:e})})})}}lh.propTypes={value:c().string.isRequired,fieldName:c().string.isRequired,onChange:c().func.isRequired,toggleOpen:c().func.isRequired,label:c().node.isRequired};const ch=lh;function dh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uh extends m.PureComponent{constructor(){super(...arguments),dh(this,"state",{open:!1}),dh(this,"componentRoot",null),dh(this,"getRef",(e=>this.componentRoot=e)),dh(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))}))}render(){var{value:e,onChange:t}=this.props;return(0,u.jsxs)("div",{ref:this.getRef,className:"JIJSK0qsNkvUETKUJ+LO-g==",children:[(0,u.jsx)(Ae.Z,{onClick:this.toggleOpen,active:this.state.open,children:(0,u.jsx)(et.ZP,{glyph:et.wn})}),(0,u.jsx)(nh.Z,{open:this.state.open,onClick:this.toggleOpen}),(0,u.jsx)(Ns.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:this.componentRoot,open:this.state.open,onClose:this.toggleOpen,children:(0,u.jsxs)("div",{className:"bNLXYJ9V1+K5PTuacRazqw==",children:[(0,u.jsx)("div",{className:ah,children:oh.mM}),oh.E7.map((r=>(0,u.jsx)(ch,{value:e,onChange:t,label:oh.ag[r],fieldName:r,toggleOpen:this.toggleOpen},(0,X.Vj)())))]})})]})}}uh.propTypes={value:c().string.isRequired,onChange:c().func.isRequired};const ph=uh;var hh=e=>{var t,{allFilterValues:r,tableFilter:i,tableFilterStash:n,stashTableFilter:a,graphTopHeight:o,graphUserDataColumnWidth:l,setFilter:c,closeDetailsPopup:d,intl:p,setShowDropDown:h,setShowStatByWeek:f,isAutoChecked:v}=e,{filters:y}=r,g=(0,s.v9)(K.Dr),[b,x]=(0,m.useState)("EMPLOYEE"),[S,O]=(0,m.useState)(""),[P,w]=(0,m.useState)(0);(0,m.useEffect)((()=>{Kp.Z.setItem("graphFilterCache",JSON.stringify(n))}),[]);var C=e=>{var t=n[b]||[];c({fieldName:b,values:[...new Set([...t,...e])]}),d()},k=(0,oh.Mh)(),T=(null===(t=y[b])||void 0===t?void 0:t.values)||[],N=(0,oh.YO)({fieldName:b,intl:p});(0,m.useEffect)((()=>{"EMPLOYEE"===b&&(v&&(()=>{if(S.length>=3){var e=(e=>{var{text:t}=k;return S?e.filter((e=>!(0,j.xb)(e[t])&&e[t].toLowerCase().includes(S.toLowerCase()))):e})(T),t=null==e?void 0:e.map((e=>e[k.value]));C(t)}})(),v&&3===P&&2===S.length&&C([]),w(S.length))}),[v,S.length]);var R=i[b],E=document.body.clientHeight-o-290,D=n[b];return(0,u.jsxs)("div",{className:"lghN-ZLtZfW-ZzIP7wYdiw==",children:[(0,u.jsx)(ph,{value:b,onChange:e=>{x(e)}}),(0,u.jsx)(sh.Z,{dataSource:T,dataSourceConfig:k,values:R,disables:D,onSetShowDropDown:e=>{h(e)},onChange:C,dropDownWidth:l,dropDownHeight:E,checkboxClassName:"_8vfSFxLJCY12cmufhxy5Rw==",hintText:N,onClose:()=>{var e=Object.keys(i).reduce(((e,t)=>i[t].length>0?(e[t]=i[t],e):e),{});Kp.Z.getItem("graphFilterCache")!==JSON.stringify(e)&&(a(i),Kp.Z.setItem("graphFilterCache",JSON.stringify(i)))},setSearchInputValue:O}),(0,u.jsx)(ih,{}),(0,u.jsx)(Ae.Z,{active:g,className:"bQXN17K5RnQEOD9XqkL6gg==",hint:p.formatMessage(oh.qP),onClick:()=>f(!g),children:(0,u.jsx)(et.ZP,{glyph:et.HF})})]})};hh.defaultProps={graphTopHeight:600,setShowStatByWeek:O.wA,isAutoChecked:!1},hh.propTypes=_()({allFilterValues:ru._p.isRequired,tableFilter:c().object.isRequired,tableFilterStash:c().object.isRequired,intl:P.gm.isRequired,setFilter:c().func.isRequired,stashTableFilter:c().func.isRequired,closeDetailsPopup:c().func.isRequired,setShowDropDown:c().func.isRequired,setShowStatByWeek:c().func,graphTopHeight:c().number,graphUserDataColumnWidth:c().number.isRequired,isAutoChecked:c().bool});const fh=hh,mh=(0,o.compose)((0,s.$j)(((e,t)=>({tableFilter:(0,K.xT)(e),allFilterValues:t.isPeriodGraphMode?(0,K.a0)(e):(0,K.Xh)(e),tableFilterStash:(0,K.WW)(e),graphTopHeight:(0,K.qe)(e),graphUserDataColumnWidth:(0,K.IJ)(e)})),{setFilter:da.setFilter,stashTableFilter:da.stashTableFilter,closeDetailsPopup:da.closeDetailsPopup,setShowDropDown:da.setShowDropDown,setShowStatByWeek:da.setShowStatByWeek}),v.ZP,(0,Ci.c)(["isPeriodGraphMode"]))(fh),vh="Iet-VLRFWDFY16VD+fQCpQ==",yh="nxeNG1tpawDgZmvvpkWWJA==",gh="_4bNOxNvk82Ooxm3euV9eSw==",bh="g2K9fCTflIcWbDBwUr36ow==";var jh=e=>{var{actualHours:t,normHours:r,differenceActualMinutes:i,className:s,intl:n,weekNumber:a}=e,o=(0,ft.Os)(i,n),l=e=>e>9?e:"0".concat(e),c=me()(so.difference,{[so.good]:0===i,[so.bad]:i>0,[so.warning]:i<0}),d=me()({[so.bigNumberOfHours]:t<100&&r<100}),p=r<=0?0:r,h=me()(so.stats,so.statsByWeekRow,s),f="(".concat(l(a),") ");return(0,u.jsxs)("div",{className:h,children:[a>0&&(0,u.jsx)("span",{className:so.weekNumber,children:f}),(0,u.jsxs)("span",{className:d,children:["".concat(l(t)," / ").concat(l(p)),(0,u.jsx)("span",{children:" | "})]}),(0,u.jsx)("span",{className:c,children:o>0?"+"+o:o})]})};jh.defaultProps={normHours:0,actualHours:0,differenceActualMinutes:0,weekNumber:0,className:"",intl:{formatMessage:O.wA}},jh.propTypes={actualHours:c().number,normHours:c().number,differenceActualMinutes:c().number,weekNumber:c().number,className:c().string,intl:Sc.Z};const xh=(0,m.memo)((0,v.ZP)(jh));var Sh=e=>{var{weeks:t,userId:r}=e,i=(0,s.v9)((0,K.k0)(r)),n=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),a=n&&i,o=n&&!(0,j.xb)(a),l=me()("htEmCyRzqjrCPLQd-uopAg==",{"OZFaEn9JStq8Jc9Lrkn0dA==":o});return(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("div",{className:"BsWxq9ffcHoKEhu81uvBCg=="}),null==t?void 0:t.map((e=>(0,u.jsx)(xh,{actualHours:e.actualHours,differenceActualMinutes:e.differenceActualMinutes,normHours:e.normHours,weekNumber:e.week},(0,X.Vj)())))]})};Sh.propTypes={weeks:c().arrayOf(c().shape(Dp)).isRequired,userId:c().string.isRequired};const Oh=Sh;function Ph(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wh extends m.Component{constructor(e){super(e),Ph(this,"onContextMenu",(e=>{var{disabled:t}=this.props;t||(e.persist(),e.preventDefault(),e.stopPropagation(),this.open(e))})),Ph(this,"stopPropagation",(e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()})),Ph(this,"open",(e=>{var{isContextMenuDisabled:t}=this.props;if(!t){var{onMenuOpen:r}=this.props;this.setState((t=>({open:!t.open,leftOffset:e.clientX-e.target.getBoundingClientRect().left}))),wh.openedMenus.push(this),r&&r()}})),Ph(this,"close",(()=>{var{onMenuClose:e}=this.props;this.setState({open:!1});var t=wh.openedMenus.indexOf(this);-1!==t&&wh.openedMenus.splice(t,1),e&&e()})),Ph(this,"itemsListIsNotEmpty",(e=>("function"==typeof e?e():e).length>0)),this.anchor=(0,m.createRef)(),this.state={open:void 0!==e.isOpen&&e.isOpen,leftOffset:0}}render(){var{items:e,classNames:t,style:r}=this.props,i=this.state.open&&e&&("function"==typeof e||0!==e.length);return(0,u.jsxs)("div",{className:me()("context-menu",t,{"context-menu_active":this.state.open}),style:r,ref:this.anchor,onContextMenu:this.onContextMenu,children:[this.props.children,i&&this.itemsListIsNotEmpty(e)&&(0,u.jsx)(Ns.ZP,{id:this.props.popoverId,hidden:this.props.hidden,style:{left:this.state.leftOffset},open:i,anchorEl:this.anchor.current,onClose:this.close,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,u.jsx)("div",{className:Js,children:e.map(((e,t)=>{var r=e.name||t;return(0,u.jsx)(Xs,{containerClassName:e.containerClassName,icon:e.icon,iconClassName:e.iconClassName,label:e.label,disabled:e.disabled,hidden:e.hidden,onClick:t=>{e.handler&&(e.handler(this.state.leftOffset),e.preventAutoClose||this.close()),this.stopPropagation(t)}},r)}))})})]})}}Ph(wh,"openedMenus",[]),wh.defaultProps={isOpen:!1,style:{},classNames:null,onMenuOpen:O.wA,onMenuClose:O.wA,disabled:!1,hidden:!1,popoverId:"",isContextMenuDisabled:!1},wh.propTypes=_()({items:c().array.isRequired,isOpen:c().bool,style:c().object,classNames:c().string,isContextMenuDisabled:c().bool,children:c().node.isRequired,onMenuOpen:c().func,onMenuClose:c().func,disabled:c().bool,hidden:c().bool,popoverId:c().string});const Ch=wh;function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Rh=e=>{var t=(0,s.v9)(K.se);return(0,u.jsx)(Ch,Th(Th({},e),{},{disabled:t}))};var Eh=()=>new jp.sg({width:140,key:"statByWeek",fixed:!0,label:(0,u.jsx)("span",{className:"_5cDpti8EJyJlvA-b2Phq2w==",children:(0,u.jsx)(J.Z,{id:"Graph.byWeek",defaultMessage:[{type:0,value:"По неделям"}]})}),headerClassName:vh,renderCell:e=>(0,u.jsx)(Oh,{userId:e.userId,weeks:e.stats.statByWeek})}),Dh=r(48994);class Ah extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{dayStartMoment:e,setCurrentDayDetail:t,setDayPageStart:r,push:i,closeDetailsPopup:s,scheduleBlockEnabled:n}=this.props;if(n)return null;var a=e.format(ft._E),o={from:a,to:(0,ft.iX)(a)};s(),t(o),r(a),i("/schedule/graph/".concat((0,ft.X5)(e)))}))}render(){var{dayStartMoment:e,dayColumnWidth:t,active:r,scheduleBlockEnabled:i}=this.props,s=(0,ft.zO)(ft.vc)===e.format(ft.vc),n=6===e.day()||0===e.day(),a=e.week(),o=0===e.weekday(),l=me()("vPrwKJ86tJ1sJe3FpkSZkw==",{"context-color_now":s,"Nk4WYfg1wxIkTE-W+5QIQQ==":n,"IsOkhL1iuVQcsRdJAt6i0g==":r,"fNF86JxxZv8bhV21RyZ8QA==":i});return(0,u.jsxs)("div",{style:{width:t,fontWeight:n?"bold":"initial"},className:l,onClick:this.handleClick,onContextMenu:e=>e.preventDefault(),children:[(0,u.jsx)("div",{children:(0,Dh.kC)(e.format("dd."))}),(0,u.jsxs)("div",{className:"BLAylL8GmPKnFqlVRNeT4A==",children:[(0,u.jsx)("div",{children:e.format(ft.pz)}),o&&(0,u.jsx)("div",{className:"ke0pkuXdXbUFc0YWEwx+pQ==",children:"(".concat(a,")")})]})]})}}Ah.defaultProps={active:!1,scheduleBlockEnabled:!1},Ah.propTypes={push:c().func.isRequired,setCurrentDayDetail:c().func.isRequired,setDayPageStart:c().func.isRequired,closeDetailsPopup:c().func.isRequired,dayStartMoment:c().object.isRequired,dayColumnWidth:c().number.isRequired,active:c().bool,scheduleBlockEnabled:c().bool};const Mh=Ah;function Ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(r),!0).forEach((function(t){qh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ih(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fh=(0,o.compose)(y.EN,(0,s.$j)((e=>({detailsStart:(0,K.cY)(e),scheduleBlockEnabled:(0,K.se)(e)})),{setCurrentDayDetail:da.setCurrentDayDetail,setDayPageStart:da.setDayPageStart,closeDetailsPopup:da.closeDetailsPopup},((e,t,r)=>{var{detailsStart:i}=e,s=(0,ft.X5)(i),n=r.dayStartMoment.format(ft.vc)===s;return Zh(Zh(Zh({},t),e),{},{active:n,push:r.history.push},r)})))(Mh);r(80008);var Lh=r(84387),Hh=r(96436);const _h="vhkR0d7WOlNSVs+T9Rxy+Q==",Bh="myl1gxv8KwkqwwiiZvPv3A==";var Gh=e=>{var{period:t,darkText:r,scheduleBlockEnabled:i,cellData:s}=e,n=me()("fwjKA99Bl8ZKCn1j4exi3Q==",{"fL46wsqhApDbOMb3RNbuOA==":r,"fWNVX7VeXq7pkBlVynqnkA==":i}),a=t.split("-"),o=1===a.length,l=me()({[Bh]:o});return(0,u.jsx)("div",{className:n,children:s.acronym?(0,u.jsx)("div",{className:Bh,children:s.acronym}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:l,children:[a[0],a[1]&&" ..."]}),(0,u.jsx)("div",{children:a[1]})]})})};Gh.defaultProps={period:"",darkText:!1,scheduleBlockEnabled:!1},Gh.propTypes={cellData:c().shape({dayStart:c().string,haveComment:c().bool,acronym:c().string,color:c().string,firstActivityStart:c().string,lastActivityEnd:c().string,period:c().string,userId:c().string,preference:c().shape({day:c().string,endFrom:c().string,endTo:c().string,id:c().string,startFrom:c().string,startTo:c().string,taken:c().bool,userId:c().string,weekend:c().bool,workHoursFrom:c().string,workHoursTo:c().string}),shiftBlock:c().shape({day:c().string,userId:c().string})}).isRequired,period:c().string,darkText:c().bool,scheduleBlockEnabled:c().bool};const Wh=Gh;var Uh=e=>{var{cellData:t,scheduleBlockEnabled:r,showCheckbox:i}=e,n=(0,s.v9)(K.SL),a=(0,s.v9)(K.jc);return r?(0,u.jsx)(Rs.XZ,{hidden:!i,checked:!!a||n.some((e=>JSON.stringify(e)===JSON.stringify({day:ns()(t.dayStart).format(ft.vc),userId:t.userId}))),className:"_8J+1sppg0jEbRfA7JwIFIg==",checkboxIconClassName:"JjK2SuU1xaFy4+B87eXbzA==",onChange:()=>{}}):null};Uh.defaultProps={scheduleBlockEnabled:!1,showCheckbox:!1},Uh.propTypes={cellData:c().shape({dayStart:c().string,haveComment:c().bool,acronym:c().string,color:c().string,shiftBlock:c().shape({day:c().string,userId:c().string}),firstActivityStart:c().string,lastActivityEnd:c().string,period:c().string,userId:c().string,preference:c().shape({day:c().string,endFrom:c().string,endTo:c().string,id:c().string,startFrom:c().string,startTo:c().string,taken:c().bool,userId:c().string,weekend:c().bool,workHoursFrom:c().string,workHoursTo:c().string})}).isRequired,scheduleBlockEnabled:c().bool,showCheckbox:c().bool};const Vh=Uh;var zh=e=>{var{preference:t}=e;return(0,u.jsx)(et.ZP,{className:me()("-5FhSprJ35G5e6Ehddfzeg==","svg-icon"),glyph:null!=t&&t.taken?et.yl:et.vi,hidden:(0,j.xb)(t)})};zh.defaultProps={preference:{}},zh.propTypes={preference:c().shape({day:c().string,endFrom:c().string,endTo:c().string,id:c().string,startFrom:c().string,startTo:c().string,taken:c().bool,userId:c().string,weekend:c().bool,workHoursFrom:c().string,workHoursTo:c().string})};const Yh=zh;var Qh=e=>{var{shiftBlock:t,hidden:r}=e;return r?null:(0,u.jsx)(et.ZP,{className:"m6JP2Mf4PHtD9IR8Ke0TgA==",glyph:et.Kg,hidden:(0,j.xb)(t)})};Qh.defaultProps={shiftBlock:{},hidden:!1},Qh.propTypes={hidden:c().bool,shiftBlock:c().shape({day:c().string,userId:c().string})};const Kh=Qh;var Xh=e=>{var{color:t,period:r,active:i,cellData:n,scheduleBlockEnabled:a}=e,o=(0,s.I0)(),l={backgroundColor:t},c=!t&&!i,d=me()(_h,{"vXeOVAf53BPby-6mWN1Ljg==":i&&!a,"SLesT9t8H15hVhZELQn1cQ==":c||a}),p=(0,s.v9)((0,K.YX)(n.userId,(0,ft.X5)(n.dayStart),a));return(0,u.jsxs)("div",{onClick:()=>{if(!a)return null;p&&o((0,da.setCheckedDays)({day:(0,ft.X5)(n.dayStart),userId:n.userId}))},className:d,style:l,children:[(0,u.jsx)(Wh,{scheduleBlockEnabled:a,period:r,cellData:n,darkText:!(0,X._T)(t)}),(0,u.jsx)(Vh,{showCheckbox:p,cellData:n,scheduleBlockEnabled:a}),(0,u.jsx)(Yh,{preference:n.preference}),(0,u.jsx)(Kh,{hidden:!0,shiftBlock:n.shiftBlock})]})};Xh.defaultProps={active:!1,scheduleBlockEnabled:!1,period:"",color:null},Xh.propTypes={color:c().string,cellData:c().shape({dayStart:c().string,haveComment:c().bool,acronym:c().string,color:c().string,firstActivityStart:c().string,lastActivityEnd:c().string,period:c().string,userId:c().string,preference:c().shape({day:c().string,endFrom:c().string,endTo:c().string,id:c().string,startFrom:c().string,startTo:c().string,taken:c().bool,userId:c().string,weekend:c().bool,workHoursFrom:c().string,workHoursTo:c().string}),shiftBlock:c().shape({day:c().string,userId:c().string})}).isRequired,period:c().string,active:c().bool,scheduleBlockEnabled:c().bool};const Jh=Xh;var $h=e=>{var{cellData:t,cellData:{color:r,period:i,haveComment:s},checked:n,active:a,getContextMenuItems:o,userId:l,date:c,userName:d,hidden:p,isDragging:h,connectDragSource:f,connectDropTarget:v,isOver:y,canDrop:g,disabled:b,hasViolations:j,scheduleBlockEnabled:x,setDetailsStart:S,setDetailsUserId:O,isShowDetail:P,closeDetailsPopup:w,unselectAllCells:C,selectCell:k,groupId:T,onKeyDown:N}=e,[R,E]=(0,m.useState)(!0);(0,m.useEffect)((()=>{x&&P&&w()}),[x]);var D=y&&g;if(p)return null;var A=o({userId:l,date:c,cellData:t,userName:d,options:{preferenceInfoOpen:R,setPreferenceInfoOpen:()=>{E(!R)}}}),M=(0,u.jsxs)("div",{className:_h,children:[(0,u.jsx)("div",{className:me()({"gtRTpFxGKfekA+FoLxTrIA==":s})}),(0,u.jsx)(Jh,{scheduleBlockEnabled:x,cellData:t,color:r,period:i,active:a||n||D})]});return v((0,u.jsx)("div",{className:me()("rVtLaGSKMzvfNmCOfOllSA==",{"f--mK+wX0UW2OYWhXddz0Q==":h,"BCwM6QetwuOx0QcQAnIhmw==":b,"GRNRz70ZCY+6QhdFxLXlVA==":j}),role:"button",tabIndex:0,onKeyDown:e=>{N&&!b&&N(e)},onClick:t=>{if(!b){var r=!t.ctrlKey&&!t.metaKey||!n;P?t.ctrlKey||t.metaKey?w():(C(),i=c,s=l,a=ns()(i).format(ft._E),o=ns()(i).add(2,"days").format(ft._E),e.fetchUserSchedule({userId:s,groupId:T,from:a,to:o}),O(l),S((0,ft.CK)(c),l)):t.ctrlKey||t.metaKey?w():C(),k({userId:l,date:c,checked:r})}var i,s,a,o},onDoubleClick:()=>{b||x||(O(l),S((0,ft.CK)(c),l))},children:(0,u.jsx)(Ch,{items:A,isOpen:!1,onMenuOpen:()=>{b||n||(C(),w(),k({userId:l,date:c,checked:!0}))},disabled:b,children:b||x?M:f(M)})}))};$h.defaultProps={cellData:{},active:!1,checked:!1,hidden:!1,userId:"",userName:"",disabled:!1,hasViolations:!1,scheduleBlockEnabled:!1},$h.propTypes=_()({cellData:c().object,scheduleBlockEnabled:c().bool,fetchUserSchedule:c().func.isRequired,setDetailsStart:c().func.isRequired,selectCell:c().func.isRequired,closeDetailsPopup:c().func.isRequired,unselectAllCells:c().func.isRequired,getContextMenuItems:c().func.isRequired,setDetailsUserId:c().func.isRequired,onKeyDown:c().func.isRequired,userId:c().string,userName:c().string,date:c().string.isRequired,active:c().bool,checked:c().bool,isShowDetail:c().bool.isRequired,hidden:c().bool,isDragging:c().bool.isRequired,connectDragSource:c().func.isRequired,connectDropTarget:c().func.isRequired,isOver:c().bool.isRequired,canDrop:c().bool.isRequired,disabled:c().bool,hasViolations:c().bool,groupId:c().string.isRequired});const ef=$h;function tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(r),!0).forEach((function(t){sf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nf="CELL",af=(0,o.compose)((0,s.$j)((e=>({selectedCells:(0,K.Oo)(e),detailsUserId:(0,K.D3)(e),detailsStart:(0,K.cY)(e),isShowDetail:Boolean((0,K.cY)(e)),groupId:(0,Y.Wx)(e),scheduleBlockEnabled:(0,K.se)(e),disabled:(0,B.vH)(e,pa.av)&&(0,K.WG)(e),laborCodeViolationsByUser:t=>(0,K.k0)(t)(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled")})),{fetchUserSchedule:da.fetchUserSchedule,setDetailsStart:da.setDetailsStart,setDetailsUserId:da.setDetailsUserId,selectCell:da.selectCell,unselectAllCells:da.unselectAllCells,closeDetailsPopup:da.closeDetailsPopup,copyShifts:da.copyShifts,deleteShifts:da.deleteShifts,getScheduleTableByUsers:da.getScheduleTableByUsers},((e,t,r)=>{var{userId:i,date:s}=r,{detailsUserId:n,detailsStart:a,isShowDetail:o}=e,l=(0,ft.TR)(a,23),c=(0,ft.X5)(a),d=(0,ft.X5)(l),u=e.selectedCells.some((e=>e.userId===i&&e.date===s)),p=i===n&&(s===c||s===d);return rf(rf(rf(rf({},e),t),r),{},{active:p,checked:u,hasViolations:e.isLaborCodeCheckingEnabled&&!(0,j.xb)(e.laborCodeViolationsByUser(i)),onDrop:s=>{var n=s.userId,l=s.day,c=r.userId,d=r.date;if(n!==c||l!==d){var u=ns().tz.guess(),p={groupId:e.groupId,sourceUserId:n,sourceDay:l,zone:u,usersDays:[{userId:c,day:d}]},h={groupId:e.groupId,usersDays:[{userId:n,day:l}],zone:u},f=ns()(a).add(2,"days").format(ft._E);t.copyShifts(p,(()=>{t.deleteShifts(h,(()=>{r.onScheduleChange({userIds:[n,c]}),o&&t.fetchUserSchedule({userId:i,groupId:e.groupId,from:a,to:f})}),O.wA,(()=>{t.getScheduleTableByUsers({groupId:e.groupId,from:r.from,to:(0,ft.b7)((0,ft.Om)(r.to)),userIds:[...new Set([c,n])]})}))}))}}})})),(0,Lh.G)(nf,{drop(e,t){e.onDrop(t.getItem())}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}))),(0,Ci.c)(["selectedCells","detailsUserId","detailsStart","onDeleteSelectedCellsRequest","onDrop","copyShifts","globalSettings","deleteShifts","onScheduleChange","laborCodeViolationsByUser","isLaborCodeCheckingEnabled","from","to","getScheduleTableByUsers"]),(0,Hh.E)(nf,{beginDrag:e=>({day:e.date,userId:e.userId})},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})))(ef);af.propTypes={onScheduleChange:c().func.isRequired},af.displayName="CellContainer";const of=af,lf=()=>(0,u.jsxs)("div",{className:"mosaic-loader",children:[(0,u.jsx)("div",{className:"cell d-0"}),(0,u.jsx)("div",{className:"cell d-1"}),(0,u.jsx)("div",{className:"cell d-2"}),(0,u.jsx)("div",{className:"cell d-3"}),(0,u.jsx)("div",{className:"cell d-1"}),(0,u.jsx)("div",{className:"cell d-2"}),(0,u.jsx)("div",{className:"cell d-3"}),(0,u.jsx)("div",{className:"cell d-4"}),(0,u.jsx)("div",{className:"cell d-2"})]});var cf={position:"absolute",backgroundColor:"white",opacity:.8,zIndex:20,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"};class df extends m.PureComponent{render(){return this.props.show?(0,u.jsx)("div",{style:cf,children:(0,u.jsx)(lf,{})}):null}}df.defaultProps={show:!1},df.propTypes={show:c().bool};const uf=df;var pf=e=>(0,u.jsx)("svg",{style:{stroke:e.disabled?"#acb6bf":e.iconColor},width:"14",height:"14",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M6.72432 5.54418L8 1.61803L9.27568 5.54418C9.36939 5.83259 9.63816 6.02786 9.94142 6.02786H14.0696L10.7298 8.45435C10.4845 8.6326 10.3818 8.94856 10.4755 9.23698L11.7512 13.1631L8.41145 10.7366C8.16611 10.5584 7.83389 10.5584 7.58855 10.7366L4.24878 13.1631L5.52446 9.23698C5.61817 8.94856 5.51551 8.6326 5.27017 8.45435L1.93039 6.02786H6.05858C6.36184 6.02786 6.63061 5.83259 6.72432 5.54418Z"})});pf.defaultProps={disabled:!1,iconColor:"black"},pf.propTypes={disabled:c().bool,iconColor:c().string};const hf=pf;var ff=e=>{var t,r,{preference:i,options:s,intl:n}=e,a=(e,t)=>{var r=ns()(t,ft.jW).format(ft.wJ),i=ns()(e,ft.jW).format(ft.wJ);return e||t?!e&&t?r:e&&!t?i:"".concat(i," - ").concat(r):n.formatMessage({id:"Graph.notSet"})},o=!(0,j.xb)(i),l=null==s?void 0:s.preferenceInfoOpen;return(0,u.jsxs)("div",{className:me()("YAgHsyPtNwqAa29fcO8lSQ==",{"MAB+3bDbgbBvJwdTPMg3TA==":o}),children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)(hf,{disabled:!o}),(0,u.jsx)("span",{style:{marginLeft:7},children:n.formatMessage({id:"Menu.preferences",defaultMessage:[{type:0,value:"Предпочтения"}]})}),(0,u.jsx)(nh.Z,{disabled:!o,open:o&&l,className:me()("wX6c35Udp7fgGfn77ZCrnQ==")})]}),(0,u.jsxs)("div",{style:{marginLeft:22},hidden:!l||!o,children:[(0,u.jsxs)("div",{hidden:null==i?void 0:i.weekend,children:[(0,u.jsxs)("div",{className:bh,children:[(0,u.jsx)("span",{children:n.formatMessage({id:"Operator.SwapTable.BeginShift",defaultMessage:[{type:0,value:"Начало смены"}]})}),(0,u.jsx)("span",{children:a(null==i?void 0:i.startFrom,null==i?void 0:i.startTo)})]}),(0,u.jsxs)("div",{className:bh,children:[(0,u.jsx)("span",{children:n.formatMessage({id:"Operator.SwapTable.EndShift",defaultMessage:[{type:0,value:"Окончание смены"}]})}),(0,u.jsx)("span",{children:a(null==i?void 0:i.endFrom,null==i?void 0:i.endTo)})]}),(0,u.jsxs)("div",{className:bh,children:[(0,u.jsx)("span",{children:n.formatMessage({id:"Operator.SwapTable.DurationShift",defaultMessage:[{type:0,value:"Длительность смены"}]})}),(0,u.jsx)("span",{children:(t=null==i?void 0:i.workHoursFrom,r=null==i?void 0:i.workHoursTo,t||r?!t&&r?r:!(0,j.xb)(t)&&(0,j.xb)(r)?t:"".concat(t," - ").concat(r):n.formatMessage({id:"Graph.notSet",defaultMessage:[{type:0,value:"Не задано"}]}))})]})]}),(0,u.jsx)("div",{className:bh,hidden:!(null!=i&&i.weekend),children:(0,u.jsx)("span",{children:n.formatMessage({id:"ScheduleSchema.holyDay",defaultMessage:[{type:0,value:"Выходной"}]})})})]})]})};ff.defaultProps={preference:{}},ff.propTypes=_()({preference:Ap,options:c().shape({preferenceInfoOpen:c().bool,setPreferenceInfoOpen:c().func}).isRequired,intl:c().object.isRequired});const mf=ff;function vf(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function yf(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){vf(n,i,s,a,o,"next",e)}function o(e){vf(n,i,s,a,o,"throw",e)}a(void 0)}))}}function gf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(r),!0).forEach((function(t){jf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xf=e=>{var{index:t}=e;return 0===t?38:50};class Sf extends m.Component{constructor(e){var t,{from:r,to:i}=e;super(e),t=this,jf(this,"getEntity",((e,t)=>this.props.tableData[e][t])),jf(this,"getContextMenuItems",(e=>{var{userId:t,cellData:r,userName:i,options:s}=e,n=[],{user:a,frontendSettings:o,intl:l,scheduleBlockEnabled:c}=this.props,d=(0,X.BC)(a,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD),p=(0,X.BC)(a,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD),h=o.graphBuildScheduleAvailable.value&&d;return o.allowGraphCopyPaste.value&&p&&(r&&n.push({hidden:c,label:l.formatMessage({id:"Common.copy",defaultMessage:[{type:0,value:"Копировать"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.Yk}),handler:()=>this.copy(r)}),n.push({label:l.formatMessage({id:"Common.paste",defaultMessage:[{type:0,value:"Вставить"}]}),disabled:!this.state.forCopy,hidden:c,icon:(0,u.jsx)(et.ZP,{glyph:et.Tu}),handler:this.pasteToSelectedCells})),n.push({icon:(0,u.jsx)(et.ZP,{glyph:et.pK}),label:l.formatMessage({id:"Common.block",defaultMessage:[{type:0,value:"Заблокировать"}]}),hidden:!0,handler:()=>{var e;null===(e=this.props)||void 0===e||e.shiftBlockSave({shiftBlocks:[{userId:t,day:ns()(r.dayStart,ft._E).format(ft.vc)}],isBlocked:!0})}}),n.push({hidden:!0,icon:(0,u.jsx)(et.ZP,{glyph:et.pK}),label:l.formatMessage({id:"Common.unblock",defaultMessage:[{type:0,value:"Разблокировать"}]}),handler:()=>{var e;null===(e=this.props)||void 0===e||e.shiftBlockSave({shiftBlocks:[{userId:t,day:ns()(r.dayStart,ft._E).format(ft.vc)}],isBlocked:!1})}}),h&&n.push({icon:(0,u.jsx)(et.ZP,{glyph:et.JH.id}),label:l.formatMessage({id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]}),hidden:c,handler:()=>{var e={userId:t,userName:i,from:r.dayStart,to:r.dayStart};this.props.onGeneratePersonalScheduleRequest(e),tn.closeAll()}}),r&&p&&n.push({icon:(0,u.jsx)(et.ZP,{glyph:et.pB}),label:l.formatMessage({id:"Common.change",defaultMessage:[{type:0,value:"Изменить"}]}),hidden:c,preventAutoClose:!1,handler:()=>{this.props.onChangeScheduleResponse({dayStart:r.dayStart,userId:t,userName:i,cellData:r,item:{userId:t}})}}),p&&n.push({label:l.formatMessage({id:"Common.delete",defaultMessage:[{type:0,value:"Удалить"}]}),hidden:c,icon:(0,u.jsx)(et.ZP,{glyph:et.XH}),handler:()=>this.deleteCells()}),n.push({label:(0,u.jsx)(mf,{preference:r.preference,options:s,intl:this.props.intl}),iconClassName:yh,containerClassName:gh,preventAutoClose:!0,disabled:!(null!=r&&r.preference),handler:()=>{null==s||s.setPreferenceInfoOpen(!s.preferenceInfoOpen)}}),n})),jf(this,"getContextMenuItemsForFirstName",(e=>{var{user:t,intl:r}=this.props,i=(0,X.BC)(t,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD),s=[],n=(0,X.BC)(t,x.ZP.RIGHTS.OPERATORS,x.ZP.READ),a=(0,X.BC)(t,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE,x.ZP.READ);return i&&s.push({label:r.formatMessage({id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.JH.id}),handler:()=>{var{from:t,to:r}=this.props,i={userId:e.userId,userName:e.userName,from:t,to:r};this.props.onGeneratePersonalScheduleRequest(i),tn.closeAll()}}),n&&s.push({label:r.formatMessage({id:"Graph.employeeCard",defaultMessage:[{type:0,value:"Карточка сотрудника"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.tB}),handler:()=>{this.props.openEmployeeForm(e.userId)}}),a&&s.push({label:r.formatMessage({id:"Common.change",defaultMessage:[{type:0,value:"Изменить"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.pB}),handler:()=>{this.props.openTransferSchedules(e.userId)}}),s})),jf(this,"calculateUserDataColumnWidth",(e=>e)),jf(this,"handleCellKeysDown",(e=>{if((!e.target||"input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase())&&this.props.frontendSettings.allowGraphCopyPaste.value){var{selectedCells:t,user:r,scheduleBlockEnabled:i}=this.props;if((0,X.BC)(r,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD)&&!i&&("Delete"!==e.key&&46!==e.keyCode||this.deleteCells(),e.ctrlKey||e.metaKey))if(67===e.which){var s=t.length&&t[0];s&&this.copy(this.getEntity(s.userId,s.date))}else 86===e.which&&this.pasteToSelectedCells();e.stopPropagation()}})),jf(this,"copy",(e=>{this.setState({forCopy:e})})),jf(this,"pasteToSelectedCells",(()=>{if(this.state.forCopy){var{copyShifts:e,selectedCells:t,onChange:r,intervalIsChanged:i,closeDetailsPopup:s,groupId:n,checkUnsavedChanges:a,from:o,to:l,globalSettings:c,getScheduleTableByUsers:d}=this.props,{forCopy:u}=this.state,p=t.map((e=>({userId:e.userId,day:e.date}))),h=Ep(t.map((e=>e.userId))),f=c.IS_SCHEDULE_TABLE_BY_USER_ZONE_ENABLED?(0,ft.C3)(u.day):(0,ft.FF)(u.day);e({groupId:n,sourceUserId:u.userId,sourceDay:f,zone:ns().tz.guess(),usersDays:p},(()=>{var{isLaborCodeCheckingEnabled:e,fetchLaborCodeViolationsByUsers:t}=this.props;r({userIds:h}),d({groupId:n,from:o,to:(0,ft.b7)((0,ft.Om)(l)),userIds:h}),i(!0),s(),e&&t({userIds:this.state.tableUserIds,from:o,to:l})}),(()=>a({from:o,to:l,groupId:n})))}})),jf(this,"generatePeriodColumns",((e,t)=>{var{onChange:r,isLaborCodeCheckingEnabled:i,isShowStatByWeek:s,fetchLaborCodeViolationsByUsers:n}=this.props,a=s=>{var{userIds:a}=s;i&&n({userIds:this.state.tableUserIds,from:e,to:t}),r({userIds:a})},o=s?[this.userDataColumn,Eh()]:[this.userDataColumn],l=ns()(e,ft._E).startOf("day"),c=ns()(t,ft._E).add(1,"day").diff(l,"day");return[...Array(c)].forEach(((e,t)=>{var r=l.clone().add(t,"day").startOf("day");o.push(new jp.sg({width:yd.dG,key:r.format(ft.vc),renderHeader:()=>(0,u.jsx)(Fh,{dayStartMoment:r,dayColumnWidth:yd.dG}),label:r.format(ft.pz),renderCell:e=>{var t,i,s,n=r.format(ft.vc),o=bf(bf({},e[n]),{},{acronym:null===(t=e[n])||void 0===t?void 0:t.acronym,haveComment:(null==e||null===(i=e.days)||void 0===i?void 0:i.some((e=>e===n)))||!1,userId:e.userId,dayStart:(null===(s=e[n])||void 0===s?void 0:s.day)||n});return(0,u.jsx)(of,{cellData:o,userId:e.userId,userName:e.userName,date:n,getContextMenuItems:this.getContextMenuItems,onKeyDown:this.handleCellKeysDown,onScheduleChange:a,from:this.props.from,to:this.props.to})}}))})),o})),jf(this,"saveTableRef",(e=>{this.table=e})),jf(this,"handleResize",(()=>{this.table&&(this.table.multiGrid.recomputeGridSize({rowIndex:0}),this.table.multiGrid.forceUpdate())})),jf(this,"deleteSelectedCells",(()=>{var{selectedCells:e,deleteShifts:t,closeDetailsPopup:r,from:i,to:s,isLaborCodeCheckingEnabled:n,fetchLaborCodeViolationsByUsers:a,groupId:o,getScheduleTableByUsers:l}=this.props,{onChange:c}=this.props,d=e.map((e=>({userId:e.userId,day:e.date}))),u=Ep(e.map((e=>e.userId)));t({groupId:o,zone:ns().tz.guess(),usersDays:d},(()=>{c({userIds:u}),r(),n&&a({userIds:this.state.tableUserIds,from:i,to:s})}),O.wA,(()=>{l({groupId:o,from:i,to:(0,ft.b7)((0,ft.Om)(s)),userIds:u},O.wA)}))})),jf(this,"isRowLoaded",(e=>{var{index:t}=e,{filteredTableData:r}=this.props;return!!r[t]})),jf(this,"loadMoreRows",yf((function*(){var e,r,{fetchGraphData:i,from:s,to:n,groupId:a,tableFilters:o,tableUrlParams:l,fetchLaborCodeViolationsByUsers:c,isLaborCodeCheckingEnabled:d,sortedByActivitiesDay:u,isLoading:p}=t.props,{tableUserIds:h,page:f}=t.state;return p?(yield new Promise((e=>{r=setTimeout((()=>{e()}),100)})),clearTimeout(r),void(yield t.loadMoreRows())):(i({from:s,to:(0,ft.Om)(n),groupId:a,userIds:[],filter:o,sortByDay:u,urlParams:bf(bf({},l),{},{page:f+1})},(()=>{d&&c({userIds:h,from:s,to:n}),t.setState((e=>({page:e.page+1}))),e()}),!1),new Promise((t=>{e=t})))}))),jf(this,"deleteCells",(()=>{var{removeActivityConfirmEnabled:e}=this.props;e?this.setState({openConfirm:!0}):this.deleteSelectedCells()})),jf(this,"closeConfirm",(()=>{this.setState({openConfirm:!1})})),jf(this,"getRowCount",(()=>{var{tableRowsNumber:e,tableFilterIgnoreList:t}=this.props;return t.length>0?e-t.length:e||1})),this.state={scrollToRow:0,page:1,tableUserIds:e.tableUserIds},this.table=null,this.userDataColumn=(e=>{var{getContextMenuItemsForFirstName:t,width:r}=e;return new jp.sg({width:r||240,key:"userName",fixed:!0,filterable:!0,sortable:!0,label:(0,u.jsx)(J.Z,{id:"Graph.userData"}),headerClassName:vh,sorterClassNames:"UclRxWVHDtb77K4HyaSyEQ==",renderHeader:()=>(0,u.jsx)(mh,{isPeriodGraphMode:!0,isAutoChecked:!0}),renderCell:e=>{var r,i;return(0,u.jsxs)(Rh,{items:t(e),children:[(0,u.jsx)("div",{className:"zWHNF87vXhHbr1rAQZhEgQ=="}),(0,u.jsx)(Qp,{bodyClassName:"FmWGKKyJJ6ZAUXaNREl07g==",overWork:e.overWork,userId:e.userId,userName:e.userName,userFullName:e.userFullName,userPosition:e.userPosition,actualHours:(null===(r=e.stats)||void 0===r?void 0:r.actualHours)||0,differenceActualMinutes:(null===(i=e.stats)||void 0===i?void 0:i.differenceActualMinutes)||0,normHours:e.stats?e.stats.correctedNormHours:0,timeZoneData:e.timeZoneData})]})}})})({getContextMenuItemsForFirstName:this.getContextMenuItemsForFirstName,width:this.calculateUserDataColumnWidth(e.leftSideWidth)}),this.columns=this.generatePeriodColumns(r,i),this.props.setTableColumns(this.columns)}UNSAFE_componentWillReceiveProps(e){var{isShouldReplaceAllState:t}=e,r=t=>e[t]!==this.props[t];r("isShouldReplaceAllState")&&(t?this.setState({page:1,scrollToRow:1}):this.setState({scrollToRow:0})),r("leftSideWidth")&&(this.userDataColumn.width=this.calculateUserDataColumnWidth(e.leftSideWidth),this.table.multiGrid.recomputeGridSize({rowIndex:0}),this.table.multiGrid.forceUpdate()),r("sorters")&&(this.table.multiGrid.recomputeGridSize({rowIndex:0}),this.table.multiGrid.forceUpdate()),r("isShowStatByWeek")&&(e.isShowStatByWeek&&this.columns.splice(1,0,Eh()),e.isShowStatByWeek||this.columns.splice(1,1)),r("tableUserIds")&&this.setState({tableUserIds:e.tableUserIds}),r("tableFilterIgnoreList")&&0===e.tableFilterIgnoreList.length&&this.setState({page:1})}componentDidUpdate(e){var{filteredTableData:t,from:r,to:i,setTableColumns:s}=this.props;t!==e.filteredTableData&&(this.columns=this.generatePeriodColumns(r,i),s(this.columns))}componentWillUnmount(){this.props.resetLCViolationsByUsers()}render(){var{onScroll:e,isLoading:t,filteredTableData:r,setTableSorters:i,setLastUpdatedSort:s,sorters:n,tableFilterIgnoreList:a,isShowStatByWeek:o,unselectAllCells:l}=this.props,c={loadMoreRows:this.loadMoreRows,isRowLoaded:this.isRowLoaded,rowCount:this.getRowCount(),minimumBatchSize:60+a.length,threshold:1+a.length},d=me()("FUi9+77xflwX9Jue4PtPlg==","flex-item_flexible");return(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)(uf,{show:t}),(0,u.jsx)(Rp,{isModalOpen:this.state.openConfirm,onOutsideClick:()=>{l()},children:(0,u.jsx)(Tp,{ref:this.saveTableRef,columns:this.columns,data:r,rowHeight:xf,onScroll:e,scrollToRow:this.state.scrollToRow,infiniteLoaderProps:c,onResize:this.handleResize,setLastUpdatedSort:s,setTableSorters:i,sorters:n,fixedColumnCount:o?2:1})}),(0,u.jsx)(wn.Z,{message:wn.Y,open:this.state.openConfirm,onSubmit:this.deleteSelectedCells,close:this.closeConfirm})]})}}Sf.defaultProps={onChange:O.wA,getScheduleTableByUsers:O.wA,checkUnsavedChanges:O.wA,isLaborCodeCheckingEnabled:!1,isShowStatByWeek:!1,removeActivityConfirmEnabled:!1,scheduleBlockEnabled:!1},Sf.propTypes=_()({tableData:c().object.isRequired,frontendSettings:c().object.isRequired,tableUserIds:c().array.isRequired,setLastUpdatedSort:c().func.isRequired,onScroll:c().func.isRequired,getScheduleTableByUsers:c().func,intervalIsChanged:c().func.isRequired,fetchGraphData:c().func.isRequired,isLoading:c().bool.isRequired,tableFilters:ru.PX.isRequired,tableUrlParams:ru.SR.isRequired,user:c().object.isRequired,from:c().string.isRequired,sortedByActivitiesDay:c().string.isRequired,to:c().string.isRequired,leftSideWidth:c().number.isRequired,tableRowsNumber:c().number.isRequired,onChange:c().func,checkUnsavedChanges:c().func,onGeneratePersonalScheduleRequest:c().func.isRequired,setTableColumns:c().func.isRequired,unselectAllCells:c().func.isRequired,onChangeScheduleResponse:c().func.isRequired,selectedCells:c().array.isRequired,closeDetailsPopup:c().func.isRequired,deleteShifts:c().func.isRequired,copyShifts:c().func.isRequired,openEmployeeForm:c().func.isRequired,intl:c().object.isRequired,filteredTableData:c().array.isRequired,tableFilterIgnoreList:c().array.isRequired,setTableSorters:c().func.isRequired,sorters:c().array.isRequired,groupId:P.K5.isRequired,isLaborCodeCheckingEnabled:c().bool,isShouldReplaceAllState:c().bool.isRequired,isShowStatByWeek:c().bool,removeActivityConfirmEnabled:c().bool,scheduleBlockEnabled:c().bool,openTransferSchedules:c().func.isRequired,shiftBlockSave:c().func.isRequired,fetchLaborCodeViolationsByUsers:c().func.isRequired,resetLCViolationsByUsers:c().func.isRequired,globalSettings:c().object.isRequired});const Of=Sf,Pf=(0,o.compose)((0,s.$j)((e=>({groupId:(0,Y.Wx)(e),user:(0,C.ts)(e),isLoading:(0,K.PT)(e),frontendSettings:(0,B.e0)(e),tableData:Gu(e),sortedByActivitiesDay:(0,K.uc)(e),selectedCells:(0,K.Oo)(e),filteredTableData:(0,K.Op)(e),tableUserIds:(0,K.B4)(e),tableFilters:(0,K.Xd)(e),tableRowsNumber:(0,K.K6)(e),tableFilterIgnoreList:(0,K.JK)(e),tableUrlParams:(0,K.bT)(e),sorters:(0,K.dW)(e),isDataUpdating:(0,K.WG)(e),isShouldReplaceAllState:(0,K.GP)(e),isShowStatByWeek:(0,K.Dr)(e),scheduleBlockEnabled:(0,K.se)(e),removeActivityConfirmEnabled:(0,B.vH)(e,"removeActivityConfirmWindowEnabled"),globalSettings:(0,B.Tv)(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled")})),{shiftBlockSave:da.shiftBlockSave,intervalIsChanged:ua.intervalIsChanged,unselectAllCells:da.unselectAllCells,closeDetailsPopup:da.closeDetailsPopup,loadDisplaySettings:da.loadDisplaySettings,deleteShifts:da.deleteShifts,copyShifts:da.copyShifts,setTableSorters:da.setTableSorters,setLastUpdatedSort:da.setLastUpdatedSort,fetchGraphData:da.fetchGraphData,getScheduleTableByUsers:da.getScheduleTableByUsers,fetchLaborCodeViolationsByUsers:da.fetchLaborCodeViolationsByUsers,checkUnsavedChanges:da.checkUnsavedChanges,resetLCViolationsByUsers:da.resetLCViolationsByUsers}),(0,U.Z)((e=>{var{props:t}=e;t.loadDisplaySettings()})),v.ZP,(0,Ci.c)(["loadDisplaySettings","isDataUpdating"]))(Of);function wf(e,t){return ns()(t,ft._E).add(e,"hour").format("HH")}function Cf(e){var{dateStart:t,width:r}=e;return(0,u.jsxs)("div",{className:"sJam4cK23sCL7L43bci1UA==",style:{width:r},children:[(0,X.B4)(24).map((e=>(0,u.jsx)("div",{className:"rBcl+m3CGHsjeW4X9cgmxw==",children:(0,u.jsx)("div",{className:"_9sFajoGNbux2zS9ikIyjjA==",children:e>0&&wf(e,t)})},e))),(0,u.jsx)("div",{className:"J5fnscOuzLwTxNMdJAotzA==",children:(0,u.jsx)(Eu,{})})]})}Cf.propTypes={dateStart:c().string.isRequired,width:c().number.isRequired};const kf=Cf;function Tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Nf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Rf=(0,o.compose)(y.EN,(0,fl.G)((e=>{var{params:t}=e.match;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(r),!0).forEach((function(t){Nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dateStart:(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0)},e)})))(kf),Ef="_79AmeW6JnihmhgqejbOc7g==",Df="yYeFCmKs8pLMnzrEzkVLJA==",Af="QOnlFCVqzWKDkwOtlWzRUg==",Mf="_1gUAfAxI8tUc5VU2qA1GSQ==",If="MZvhDcyRgyeV1P+lGakVRg==";var Zf=e=>{var{violations:t,onAccept:r,onDecline:i,open:s}=e,n=Object.values(t)||[];return(0,u.jsx)("div",{children:(0,u.jsx)(rn.Z,{open:s,children:(0,u.jsxs)("div",{className:Ef,children:[(0,u.jsxs)("div",{className:Df,children:[(0,u.jsx)("div",{className:If,children:(0,u.jsx)(J.Z,{id:"LaborCode.ruleViolation",defaultMessage:[{type:0,value:"Нарушение правила"}]})}),n.map(((e,t)=>(0,u.jsx)("div",{className:Mf,children:e.description},e.id||t)))]}),(0,u.jsxs)("div",{className:Af,children:[(0,u.jsx)(Ae.Z,{onClick:r,children:(0,u.jsx)(J.Z,{id:"Common.confirm",defaultMessage:[{type:0,value:"Подтвердить"}]})}),(0,u.jsx)(Ae.Z,{onClick:i,children:(0,u.jsx)(J.Z,{id:"LaborCode.cancel",defaultMessage:[{type:0,value:"Отменить"}]})})]})]})})})};Zf.propTypes={open:c().bool.isRequired,violations:c().object.isRequired,onAccept:c().func.isRequired,onDecline:c().func.isRequired};const qf=Zf;var Ff=e=>{var{userId:t,onAccept:r,onDecline:i,activityHasChanged:n}=e,[a,o]=(0,m.useState)({}),[l,c]=(0,m.useState)(!0),d=(0,s.I0)(),p=(0,s.v9)((0,K.sD)(t)),h=(0,s.v9)((0,K.ci)(t));(0,m.useEffect)((()=>{(0,j.xb)(p)&&d((0,da.approveLaborCodeViolation)(t,{}))}),[p]),(0,m.useEffect)((()=>{var e=((e,t)=>{if((0,j.xb)(t))return e;var r={};return Object.keys(e).forEach((i=>{var s=e[i],n=s.dates.some((e=>!((e,t,r)=>{if((0,j.xb)(t))return!1;var i=t[r];return!(0,j.xb)(i)&&i.dates.includes(e)})(e,t,i)));n&&(r[i]=s)})),r})(p,h);!(0,j.xb)(e)&&n&&(c(!1),o(e))}),[h,p,n]);var f=!(0,j.xb)(a)&&!l;return(0,u.jsx)("div",{children:(0,u.jsx)(qf,{violations:a,open:f,onAccept:()=>{o({}),d((0,da.approveLaborCodeViolation)(t,p)),r(p),c(!0)},onDecline:()=>{o({}),i(),c(!0)}})})};Ff.propTypes={userId:P.K5.isRequired,onAccept:c().func.isRequired,onDecline:c().func.isRequired,activityHasChanged:c().bool.isRequired};const Lf=Ff;var Hf=["activities","onChange","date","disabled","isOtherConfirmOpened","isLaborCodeCheckingEnabled","changesAreDeclinedByOtherConfirm","onAccept","onDecline"];function _f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(r),!0).forEach((function(t){Gf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wf=e=>{var{activities:t,onChange:r,date:i,disabled:n,isOtherConfirmOpened:a,isLaborCodeCheckingEnabled:o,changesAreDeclinedByOtherConfirm:l,onAccept:c,onDecline:d}=e,p=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Hf),h=(0,s.v9)(C.rc),f=(0,s.I0)(),v=(0,j.xb)(t)?null:t[0].userId,y=(0,s.v9)((0,K.yB)(v)),[g,b]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{(0,j.xb)(y)||b(!0)}),[y]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)($a,Bf({onChange:e=>{r(e),f((0,da.storePrevActivities)({[v]:t}))},activities:t,disabled:n},p)),o&&v&&!a&&!l&&(0,u.jsx)(Lf,{userId:v,onDecline:()=>{(0,j.xb)(y)||r(y),f((0,da.clearPrevActivities)()),b(!1)},onAccept:e=>{f((0,da.createAllLaborCodeViolationLogs)((e=>{var{violations:t,employeeId:r,managerId:i,date:s}=e;return Object.keys(t).map((e=>({employeeId:r,managerId:i,date:s,rule:e})))})({violations:e,employeeId:v,managerId:h,date:i}))),b(!1),f((0,da.clearPrevActivities)())},activityHasChanged:g})]})};Wf.defaultProps={isOtherConfirmOpened:!1,changesAreDeclinedByOtherConfirm:!1,isLaborCodeCheckingEnabled:!1,onAccept:O.wA,onDecline:O.wA},Wf.propTypes={onChange:c().func.isRequired,onAccept:c().func,onDecline:c().func,activities:c().arrayOf(P.FG).isRequired,disabled:c().bool.isRequired,isOtherConfirmOpened:c().bool,changesAreDeclinedByOtherConfirm:c().bool,isLaborCodeCheckingEnabled:c().bool,date:(0,zi.Z)(ft._E).isRequired};const Uf=Wf;var Vf=e=>{var{message:t,onAccept:r,onDecline:i,open:s}=e;return(0,u.jsx)("div",{children:(0,u.jsx)(rn.Z,{open:s,children:(0,u.jsxs)("div",{className:Ef,children:[(0,u.jsxs)("div",{className:Df,children:[(0,u.jsx)("div",{className:If,children:(0,u.jsx)(J.Z,{id:"Common.warning",defaultMessage:[{type:0,value:"Предупреждение"}]})}),t&&(0,u.jsx)("div",{className:Mf,children:t})]}),(0,u.jsxs)("div",{className:Af,children:[(0,u.jsx)(Ae.Z,{onClick:r,children:(0,u.jsx)(J.Z,{id:"Common.confirm",defaultMessage:[{type:0,value:"Подтвердить"}]})}),(0,u.jsx)(Ae.Z,{onClick:i,children:(0,u.jsx)(J.Z,{id:"LaborCode.cancel",defaultMessage:[{type:0,value:"Отменить"}]})})]})]})})})};Vf.defaultProps={message:""},Vf.propTypes={message:c().oneOfType([c().node,c().string]),open:c().bool.isRequired,onAccept:c().func.isRequired,onDecline:c().func.isRequired};const zf=Vf;var Yf=(0,u.jsx)(J.Z,{id:"Graph.exceededNumberOfWorkspace",defaultMessage:[{type:0,value:"Превышено количество рабочих мест"}]}),Qf={id:"start",start:"start",end:"end"},Kf={id:"userStatusExternalId",color:"color",text:"name"},Xf={id:"from",start:"from",end:"to"},Jf=(e,t)=>ns()(e.start,ft._E).unix()>ns()(t.start,ft._E).unix()?1:-1,$f=["readOnly","activities","prevActivities","disabled","start","onScheduleChange","checkSeats","resetSeatsStatus","areEnoughSeats","isSeatAccountingEnabled","isLaborCodeCheckingEnabled","startSecond","endSecond","heightInPixels","employeeId"];function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?em(Object(r),!0).forEach((function(t){rm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var im=e=>{var{readOnly:t,activities:r,prevActivities:i,disabled:s,start:n,onScheduleChange:a,checkSeats:o,resetSeatsStatus:l,areEnoughSeats:c,isSeatAccountingEnabled:d,isLaborCodeCheckingEnabled:p,startSecond:h,endSecond:f,heightInPixels:v,employeeId:y}=e,g=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,$f),[b,S]=(0,m.useState)(""),[O,P]=(0,m.useState)([]),[w,C]=(0,m.useState)(!1),k=d&&y===b;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Uf,tm({heightInPixels:v,activities:r,onChange:e=>{if(d){var t=e.some((e=>e.workActivityId!==x.ZP.EMPTY_WORK_ACTIVITY_ID));if(t)return void o(e,(t=>{if(t)a(e);else{var r=(0,j.xb)(e)?null:e[0].userId;P(e),S(r)}}))}a(e)},startSecond:h,isLaborCodeCheckingEnabled:p,isOtherConfirmOpened:d&&!c,changesAreDeclinedByOtherConfirm:w,endSecond:f,readonly:t,date:n,disabled:s},g)),k&&(0,u.jsx)(zf,{open:!c,message:Yf,onAccept:()=>{a(O),l(),C(!1)},onDecline:()=>{a(i),l(),C(!0)}})]})};im.defaultProps={activities:[],prevActivities:[],readOnly:!1,disabled:!1,areEnoughSeats:!0,isSeatAccountingEnabled:!1,isLaborCodeCheckingEnabled:!1,start:"",employeeId:""},im.propTypes={activities:c().array,prevActivities:c().array,readOnly:c().bool,disabled:c().bool,start:c().string,employeeId:c().string,onScheduleChange:c().func.isRequired,checkSeats:c().func.isRequired,resetSeatsStatus:c().func.isRequired,areEnoughSeats:c().bool,isSeatAccountingEnabled:c().bool,isLaborCodeCheckingEnabled:c().bool,startSecond:c().number.isRequired,endSecond:c().number.isRequired,heightInPixels:c().number.isRequired};const sm=im;function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(r),!0).forEach((function(t){om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function om(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lm=e=>e.schedule.requests.filterHead,cm=e=>e.schedule.requests.managerSwapFilter,dm=e=>e.schedule.requests.data,um=e=>e.schedule.requests.violationsByCheckedIds,pm=e=>e.schedule.requests.userListLoading,hm=e=>e.schedule.requests.isLoadingRequests,fm=e=>e.schedule.requests.isLoadingStats,mm=e=>e.schedule.requests.mapIds,vm=(e,t)=>e.schedule.requests.mapIds[t],ym=e=>e.schedule.requests.detail,gm=e=>e.schedule.requests.listSwaps,bm=(e,t)=>{var r;return null===(r=e.schedule.requests.listSwaps[t])||void 0===r?void 0:r.user},jm=e=>e.schedule.requests.reserveAccess,xm=e=>e.schedule.requests.hasRequestsCollision,Sm=(0,Q.createSelector)(dm,(e=>e.sort((0,X.hM)("user")))),Om=e=>e.schedule.requests.freeUsers.status,Pm=(0,Q.createSelector)(gm,(e=>{var t=[],r={},i=(0,X.Lb)(e).filter((e=>{var{deleteOnly:t,checked:r}=e;return!t&&r}));return i.forEach(((e,s)=>{var{view:n}=e;t.push(n.skillId),0===s&&(r.from=n.start),s===i.length-1&&(r.to=n.end)})),am(am({},r),{},{skills:[...new Set(t)]})})),wm=(0,Q.createSelector)((e=>e.schedule.requests.freeUsers.users),jm,((e,t)=>t?e:e.filter((e=>!e.additionalInfo.hasReserveSkills)))),Cm=e=>e.scheduleDetail.activityList,km=e=>e.scheduleDetail.currentActivity,Tm=e=>e.scheduleDetail.period,Nm=e=>e.scheduleDetail.users,Rm=e=>e.scheduleDetail.isChangesWithoutWorkplaceViolations,Em=e=>e.scheduleDetail.currentUser,Dm=(0,Q.createSelector)(gm,(e=>!(0,j.xb)(e)&&(0,X.Lb)(e).filter((e=>!1===e.deleteOnly)).every((e=>{var{checked:t}=e;return!0===t})))),Am=(0,Q.createSelector)(gm,(e=>(0,X.Lb)(e).every((e=>{var{checked:t}=e;return!1===t})))),Mm=r(79642),Im=["readOnly","disabled","onScheduleChange","date","heightInPixels","activities","startSecond","endSecond"];function Zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function qm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fm=e=>{var{readOnly:t,disabled:r,onScheduleChange:i,date:n,heightInPixels:a,activities:o,startSecond:l,endSecond:c}=e,d=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Im),p=(0,s.I0)(),h=(0,s.v9)(Rm),f=(0,s.v9)((e=>(0,B.vH)(e,"isSeatAccountingEnabled"))),m=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),v=(0,j.xb)(o)?null:o[0].userId,y=(0,s.v9)((0,K.yB)(v));return(0,u.jsx)(sm,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(r),!0).forEach((function(t){qm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({heightInPixels:a,activities:o,prevActivities:y,startSecond:l,endSecond:c,start:n,areEnoughSeats:h,readOnly:t,employeeId:v,checkSeats:(e,t)=>{p((0,Mm.checkSeats)(e,t))},resetSeatsStatus:()=>{p((0,Mm.setIsChangesWithoutWorkplaceViolations)(!0))},isSeatAccountingEnabled:f,isLaborCodeCheckingEnabled:m,disabled:r,onScheduleChange:i},d))};Fm.defaultProps={disabled:!1,readOnly:!1,activities:[],date:""},Fm.propTypes={disabled:c().bool,readOnly:c().bool,onScheduleChange:c().func.isRequired,heightInPixels:c().number.isRequired,activities:c().array,startSecond:c().number.isRequired,endSecond:c().number.isRequired,date:c().string};const Lm=Fm;var Hm={marginTop:4,fontSize:10},_m=e=>{var{onChange:t,activities:r,readOnly:i,from:n,to:a,disabled:o}=e,l=(0,s.v9)(K.mo),c=(0,j.xb)(r)?null:r[0].userId,d=(0,s.v9)((0,K.k0)(c)),p=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled")))&&!(0,j.xb)(d);if((0,j.xb)(r))return null;var h=(0,ft.ZG)(n),f=(0,ft.ZG)(a),m=()=>(0,u.jsx)(Lm,{style:Hm,heightInPixels:l,activities:r,startSecond:h,endSecond:f,date:n,readOnly:i,disabled:o,onScheduleChange:t});return p?(0,u.jsx)("div",{className:p&&"c7WufuxFjjNY54K9EqzYkw==",children:m()}):m()};_m.defaultProps={readOnly:!1,activities:[]},_m.propTypes={from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired,activities:c().array,onChange:c().func.isRequired,readOnly:c().bool,disabled:c().bool.isRequired};const Bm=_m;var Gm=e=>{var{start:t,end:r,color:i,text:s,height:n,showText:a}=e,o={backgroundColor:i,position:"absolute",left:"".concat(100*t,"%"),right:"".concat(100-100*r,"%"),height:n,overflow:"hidden",textIndent:"5px",textOverflow:"ellipsis",whiteSpace:"nowrap",color:(0,X._T)(i)?"white":"#77828c",cursor:"default"};return(0,u.jsx)("div",{style:o,title:s,children:a?s:null})};Gm.defaultProps={text:"",height:"20px",showText:!1},Gm.propTypes={color:c().string.isRequired,text:c().string,start:c().number.isRequired,end:c().number.isRequired,height:c().oneOfType([c().string,c().number]),showText:c().bool};const Wm=Gm;class Um extends m.PureComponent{render(){var{hoursCount:e,showHours:t,style:r,oneDayHours:i,highlightEvery:s,skipHours:n,color:a,display:o,customClassName:l}=this.props;return o?(0,u.jsx)("div",{className:"vertical-grid",style:r,children:(0,u.jsx)("div",{className:me()("vertical-grid__items-container",l),children:[...Array(e).keys()].map((r=>{var o=60*(r+1+n)*60,l=i?(0,X.xY)((0,X.He)(o)):(0,X.He)(o);return(0,u.jsx)("div",{className:"vertical-grid__item"+(s&&(r+n)%s==0?" vertical-grid__item_highlighted":""),style:{width:"".concat(100/e,"%"),borderColor:a},children:t&&r!==e-1&&(0,u.jsx)("span",{className:"vertical-grid__item-label",children:l})},r)}))})}):null}}Um.defaultProps={hoursCount:24,style:{},oneDayHours:!0,skipHours:0,display:!0,showHours:!1,highlightEvery:null,color:"",customClassName:""},Um.propTypes={showHours:c().bool,hoursCount:c().number,style:c().object,oneDayHours:c().bool,highlightEvery:c().number,skipHours:c().number,color:c().string,customClassName:c().string,display:c().bool};var Vm=e=>{var{showGrid:t}=e;return(0,u.jsx)(Um,{style:{paddingTop:0},color:"lightgray",display:t})};Vm.propTypes={showGrid:c().bool.isRequired};const zm=Vm;var Ym=r(26308),Qm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("name"===t){if("-1"===e.externalId)return i.formatMessage(Ym.gD);if("-2"===e.externalId)return i.formatMessage(Ym.Qn)}return e[t]?e[t]:r},Km=e=>{var{min:t,max:r,data:i,dataConfig:s,dateFormat:n,height:a,showText:o,showGrid:l,colorMap:c,colorMapConfig:d,defaultColor:p}=e,h=(0,er.Z)(),f=(0,ft.ZG)(t,n),m=(0,ft.ZG)(r,n),v={position:"relative",overflow:"hidden",height:a};return(0,u.jsxs)("div",{style:v,children:[i.map(((e,t)=>{var r=ns()(e[s.start],n).unix(),i=ns()(e[s.end],n).unix(),l=Qm(d,"id"),v=Qm(d,"text"),y=Qm(d,"color"),g=Qm(c,e[l],{}),b=Qm(g,y,p),j=((e,t,r)=>{var i=ns().unix(t).format("HH:mm"),s=ns().unix(r).format("HH:mm");return"".concat(e," (").concat(i," - ").concat(s,")")})(Qm(g,v,"",h),r,i);return(0,u.jsx)(Wm,{start:(0,X.Fv)(r,f,m),end:(0,X.Fv)(i,f,m),height:a,color:b,text:j,showText:o},e.id||t)})),(0,u.jsx)(zm,{showGrid:l})]})};Km.defaultProps={dateFormat:ft._E,height:"20px",showText:!1,showGrid:!1,defaultColor:"red",colorMap:{},colorMapConfig:{}},Km.propTypes={min:c().string.isRequired,max:c().string.isRequired,data:c().arrayOf(c().object).isRequired,dataConfig:c().shape({id:c().string,start:c().string,end:c().string}).isRequired,dateFormat:c().string,height:c().oneOfType([c().number,c().string]),colorMap:c().object,colorMapConfig:c().object,showText:c().bool,showGrid:c().bool,defaultColor:c().string};const Xm=Km;var Jm={id:"start",start:"start",end:"end"},$m={id:"userStatusExternalId",color:"color",text:"name"},ev={id:"from",start:"from",end:"to"};class tv extends m.PureComponent{render(){var{thermometerCoordinate:e,color:t,date:r}=this.props,i=(0,ft.i7)(r),s={fill:t,left:"".concat(100*e,"%"),position:"absolute"};return(0,u.jsx)("div",{style:s,title:i,children:(0,u.jsx)(et.ZP,{glyph:et.Sg,className:"gzidEIzxx2Kt++Fw+nFI8Q=="})})}}tv.propTypes={color:c().string.isRequired,date:c().string.isRequired,thermometerCoordinate:c().number.isRequired};const rv=tv;class iv extends m.PureComponent{render(){var{min:e,max:t,data:r,dateFormat:i,showGrid:s,hidden:n}=this.props,a=(0,ft.ZG)(e,i),o=(0,ft.ZG)(t,i);return n||(0,j.xb)(r)?null:(0,u.jsxs)("div",{style:{overflow:"hidden"},children:[r.map(((e,t)=>{var r=ns()(e.date,i).unix(),s=e.status===x.ZP.TELEPHONY_STATUSES.DUTY_ON?"#50bf4c":"red";return(0,u.jsx)(rv,{date:e.date,thermometerCoordinate:(0,X.Fv)(r,a,o),color:s},t)})),(0,u.jsx)(zm,{showGrid:s})]})}}iv.defaultProps={dateFormat:ft._E,showGrid:!1,hidden:!1},iv.propTypes={min:P.yb.isRequired,max:P.yb.isRequired,data:c().arrayOf(c().object).isRequired,dateFormat:c().string,showGrid:c().bool,hidden:c().bool};const sv=iv;var nv={marginTop:1};class av extends m.Component{render(){var{min:e,max:t,log:r,violations:i,biometricPoints:s,logsColorMap:n,editorHeight:a,displaySettings:o,frontendSettings:l}=this.props,c=!o.showLog,d=l.isThermometerAvailable.value;return c?null:(0,u.jsxs)("div",{children:[d&&(0,u.jsx)("div",{className:"jM3xZfsAGQQzonv5klIC7w==",children:(0,u.jsx)(sv,{min:e,max:t,height:a,data:s})}),(0,u.jsx)("div",{style:nv,children:(0,u.jsx)(Xm,{min:e,max:t,data:r,dataConfig:Jm,colorMap:n,colorMapConfig:$m,height:15,style:nv})}),(0,u.jsx)("div",{style:nv,children:(0,u.jsx)(Xm,{min:e,max:t,data:i,dataConfig:ev,height:5,style:nv})})]})}}av.defaultProps={log:[],violations:[],biometricPoints:[]},av.propTypes={min:c().string.isRequired,max:c().string.isRequired,editorHeight:c().number.isRequired,log:c().array,biometricPoints:c().array,violations:c().array,logsColorMap:c().object.isRequired,frontendSettings:c().object.isRequired,displaySettings:c().object.isRequired};const ov=av,lv=(0,o.compose)((0,s.$j)((e=>({logsColorMap:(0,B.Mc)(e),displaySettings:(0,K.nb)(e),frontendSettings:(0,B.e0)(e),editorHeight:(0,K.mo)(e)}))))(ov);class cv extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getContextMenuItemsForFirstName",(e=>{var{user:t,openEmployeeForm:r,onGeneratePersonalScheduleRequest:i,from:s,to:n,preferenceDay:a}=this.props,o={preferenceInfoOpen:this.state.preferenceInfoOpen,setPreferenceInfoOpen:()=>{this.setState((e=>({preferenceInfoOpen:!e.preferenceInfoOpen})))}},l=(0,X.BC)(t,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD),c=(0,X.BC)(t,x.ZP.RIGHTS.OPERATORS,x.ZP.READ),d=[];return l&&d.push({label:(0,u.jsx)(J.Z,{id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.JH.id}),handler:()=>{var t={userId:e.userId,userName:e.userName,from:s,to:n};i(t),tn.closeAll()}}),c&&(d.push({label:(0,u.jsx)(J.Z,{id:"Graph.employeeCard",defaultMessage:[{type:0,value:"Карточка сотрудника"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.tB}),handler:()=>{r(e.userId)}}),d.push({hidden:!0,icon:(0,u.jsx)(et.ZP,{glyph:et.pK}),label:(0,u.jsx)(J.Z,{id:"Common.block",defaultMessage:[{type:0,value:"Заблокировать"}]}),handler:()=>{}}),d.push({hidden:!0,icon:(0,u.jsx)(et.ZP,{glyph:et.pK}),label:(0,u.jsx)(J.Z,{id:"Common.unblock",defaultMessage:[{type:0,value:"Разблокировать"}]}),handler:()=>{}}),d.push({preventAutoClose:!0,iconClassName:yh,containerClassName:gh,disabled:(0,j.xb)(a),label:(0,u.jsx)(mf,{preference:a,options:o,intl:this.props.intl}),handler:()=>{null==o||o.setPreferenceInfoOpen(!o.preferenceInfoOpen)}})),d})),this.state={preferenceInfoOpen:!0}}render(){var{children:e,dataItem:t}=this.props;return(0,u.jsx)(tn,{items:this.getContextMenuItemsForFirstName(t)||[],children:e})}}cv.defaultProps={preferenceDay:{}},cv.propTypes={preferenceDay:Ap,shiftBlockDay:c().shape({day:c().string,id:c().string}).isRequired,dataItem:c().object.isRequired,children:c().node.isRequired,openEmployeeForm:c().func.isRequired,user:P.jZ.isRequired,onGeneratePersonalScheduleRequest:c().func.isRequired,from:c().string.isRequired,to:c().string.isRequired,intl:P.gm.isRequired};const dv=(0,v.ZP)(cv);function uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(r),!0).forEach((function(t){hv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fv=e=>{var t=(0,s.I0)();return(0,u.jsx)(dv,pv(pv({},e),{},{dispatch:t}))};var mv=e=>{var{from:t,to:r,onGeneratePersonalScheduleRequest:i,openEmployeeForm:s,user:n,width:a}=e;return new jp.sg({width:a||280,key:"userName",fixed:!0,filterable:!0,sortable:!0,label:(0,u.jsx)(J.Z,{id:"Graph.userData"}),headerClassName:"ZC14BLf7AlusSIHZVte16g==",sorterClassNames:"-cqiJUJUXw+-V-YI0un8Rg==",renderHeader:()=>(0,u.jsx)(mh,{isAutoChecked:!0}),renderCell:e=>{var a,o,l,c,d=ns()(t,ft._E).format(ft.vc),p=null===(a=e.preferenceTable)||void 0===a?void 0:a.find((e=>e.day===d)),h=null===(o=e.shiftBlockTable)||void 0===o?void 0:o.find((e=>e.day===d));return(0,u.jsxs)(fv,{preferenceDay:p,shiftBlockDay:h,dataItem:e,from:t,to:r,onGeneratePersonalScheduleRequest:i,openEmployeeForm:s,user:n,children:[(0,u.jsx)("div",{className:"imcNW59cbXnCJXmZjFum5Q=="}),(0,u.jsx)(Qp,{containerClassName:"IzQbOaYLMbfNJZnVscR3mg==",preferenceDay:p,shiftBlockDay:h,userId:e.userId,userName:e.userName,userFullName:e.userFullName,userPosition:e.userPosition,actualHours:(null===(l=e.stats)||void 0===l?void 0:l.actualHours)||0,differenceActualMinutes:(null===(c=e.stats)||void 0===c?void 0:c.differenceActualMinutes)||0,normHours:e.stats?e.stats.correctedNormHours:0,timeZoneData:e.timeZoneData})]})}})},vv=e=>{var{from:t,to:r,userDataColumnWidth:i,schedulesColumnKey:s,onScheduleChange:n,detailsColumnWidth:a,user:o,disabled:l,onGeneratePersonalScheduleRequest:c,openEmployeeForm:d,isShowStatByWeek:p}=e,h={from:t,to:r,onGeneratePersonalScheduleRequest:c,openEmployeeForm:d,user:o,width:i},f=p?[mv(h),Eh()]:[mv(h)],m=(0,ft.ZG)(t),v=(0,ft.ZG)(r);return f.push(new jp.sg({headerClassName:me()("virtualized-table__header-cell--clickable","graph-day-details-header","Ib1OtKNWF1J8iudHNFt5ig=="),width:a,key:s,sortOnHeaderClick:!0,getValue:e=>{var r,i=(0,ft.X5)(t);return null!=e&&null!==(r=e[i])&&void 0!==r&&r.firstActivityStart?e[i].firstActivityStart:x.ZP.END_OF_TIME},renderHeader:()=>(0,u.jsx)(Rf,{width:a}),renderCell:e=>{var i,s;return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(Bm,{activities:e.activities,onChange:t=>{n({activities:t,userId:e.userId})},startSecond:m,endSecond:v,readOnly:!(0,X.BC)(o,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD)&&l,from:t,to:r,disabled:l}),(0,u.jsx)(lv,{min:t,max:r,log:null==e||null===(i=e.punctuality)||void 0===i?void 0:i.logs,violations:null==e||null===(s=e.punctuality)||void 0===s?void 0:s.violations,biometricPoints:e.biometricPoints||[]})]})}})),f};function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(r),!0).forEach((function(t){xv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bv(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function jv(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){bv(n,i,s,a,o,"next",e)}function o(e){bv(n,i,s,a,o,"throw",e)}a(void 0)}))}}function xv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sv="schedules",Ov=e=>{var{index:t}=e;return 0===t?38:50};class Pv extends m.PureComponent{constructor(e){var t;super(e),t=this,xv(this,"handleScheduleChange",(e=>{var{activities:t,userId:r}=e,{updateUserSchedule:i,fetchUserScheduleInDayPage:s,intervalIsChanged:n,onChange:a,dayPageStart:o,fetchLaborCodeViolationsByUser:l,laborCodeCheckingPeriod:c,isLaborCodeCheckingEnabled:d,groupId:u}=this.props,p=(0,ft.TR)(o,-12),h=(0,ft.TR)(o,36);i({groupId:u,userId:r,activities:t,from:p,to:h},(()=>{s({from:p,to:h,userId:r,groupId:u}),n(!0),a({userIds:[r],activities:t,from:p,to:h}),d&&l({userId:r,from:c.from,to:c.to})}))})),xv(this,"isRowLoaded",(e=>{var{index:t}=e,{data:r}=this.props;return!!r[t]})),xv(this,"loadMoreRows",jv((function*(){var e,r,{fetchGroupSchedule:i,graphDate:{from:s,to:n},groupId:a,tableFilters:o,tableUrlParams:l,fetchLaborCodeViolationsByUsers:c,isLaborCodeCheckingEnabled:d,showLog:u,isLoading:p}=t.props,{tableUserIds:h,page:f}=t.state;return p?(yield new Promise((e=>{r=setTimeout((()=>{e()}),100)})),clearTimeout(r),void(yield t.loadMoreRows())):(i({from:s,to:n,groupId:a,userIds:[],filter:o,urlParams:gv(gv({},l),{},{page:f+1})},u,(()=>{d&&c({userIds:h,from:s,to:n}),t.setState((e=>({page:e.page+1}))),e()}),!1),new Promise((t=>{e=t})))}))),xv(this,"getRowCount",(()=>{var{tableRowsNumber:e,tableFilterIgnoreList:t}=this.props;return t.length>0?e-t.length:e||60}));var{user:r,detailsColumnWidth:i,disabled:s,onGeneratePersonalScheduleRequest:n,leftSideWidth:a,openEmployeeForm:o,dayPageStart:l,isShowStatByWeek:c}=e,d={from:l,to:(0,ft.TR)(l,24),schedulesColumnKey:Sv,onScheduleChange:this.handleScheduleChange,detailsColumnWidth:i,user:r,disabled:s,onGeneratePersonalScheduleRequest:n,userDataColumnWidth:a,openEmployeeForm:o,isShowStatByWeek:c};this.table=(0,m.createRef)(),this.columns=vv(d),this.state={page:1,scrollToRow:0,tableUserIds:e.tableUserIds}}UNSAFE_componentWillReceiveProps(e){var{isShouldReplaceAllDetailState:t,leftSideWidth:r,detailsColumnWidth:i,dayPageStart:s,user:n,disabled:a,onGeneratePersonalScheduleRequest:o,openEmployeeForm:l,isShowStatByWeek:c}=e,d=t=>e[t]!==this.props[t];if(d("isShouldReplaceAllDetailState")&&(t?this.setState({page:1,scrollToRow:1}):this.setState({scrollToRow:0})),d("isShowStatByWeek")&&(e.isShowStatByWeek&&this.columns.splice(1,0,Eh()),e.isShowStatByWeek||this.columns.splice(1,1)),d("tableUserIds")&&this.setState({tableUserIds:e.tableUserIds}),d("detailsColumnWidth")||d("dayPageStart")){var u={from:s,to:(0,ft.TR)(s,24),schedulesColumnKey:Sv,onScheduleChange:this.handleScheduleChange,detailsColumnWidth:i,user:n,disabled:a,onGeneratePersonalScheduleRequest:o,userDataColumnWidth:r,openEmployeeForm:l,isShowStatByWeek:c};this.columns=vv(u)}d("tableFilterIgnoreList")&&0===e.tableFilterIgnoreList.length&&this.setState({page:1})}componentDidUpdate(e){var{leftSideWidth:t,detailsColumnWidth:r,setSortedByActivitiesDay:i,dayPageStart:s,sorters:n}=this.props,a=t=>e[t]!==this.props[t];(e.leftSideWidth!==t||e.detailsColumnWidth!==r)&&(this.columns[0]&&(this.columns[0].width=t),this.table.current.multiGrid.recomputeGridSize({rowIndex:0}),this.table.current.multiGrid.forceUpdate()),(a("dayPageStart")||a("sorters"))&&(n.some((e=>"schedules"===e.column.key))?i(ns()(s,ft._E).format(ft.vc)):i(""))}render(){var{onScroll:e,isLoading:t,data:r,setTableSorters:i,sorters:s,setLastUpdatedSort:n,isShowStatByWeek:a,tableFilterIgnoreList:o}=this.props,l={loadMoreRows:this.loadMoreRows,isRowLoaded:this.isRowLoaded,rowCount:this.getRowCount(),minimumBatchSize:60+o.length,threshold:1+o.length};return(0,u.jsxs)("div",{className:"flex-item_flexible",style:{position:"relative"},children:[(0,u.jsx)(uf,{show:t}),(0,u.jsx)(Tp,{ref:this.table,columns:this.columns,data:r,rowHeight:Ov,onScroll:e,scrollToRow:this.state.scrollToRow,infiniteLoaderProps:l,setLastUpdatedSort:n,setTableSorters:i,sorters:s,fixedColumnCount:a?2:1})]})}}Pv.defaultProps={onChange:O.wA,isShowStatByWeek:!1,showLog:!1,dayPageStart:(0,ft.zO)()},Pv.propTypes=_()({onScroll:c().func.isRequired,intervalIsChanged:c().func.isRequired,updateUserSchedule:c().func.isRequired,fetchUserScheduleInDayPage:c().func.isRequired,isLoading:c().bool.isRequired,user:c().object.isRequired,dayPageStart:c().string,detailsColumnWidth:c().number.isRequired,leftSideWidth:c().number.isRequired,onChange:c().func,onGeneratePersonalScheduleRequest:c().func.isRequired,openEmployeeForm:c().func.isRequired,data:c().array.isRequired,setTableSorters:c().func.isRequired,setLastUpdatedSort:c().func.isRequired,setSortedByActivitiesDay:c().func.isRequired,sorters:c().array.isRequired,fetchLaborCodeViolationsByUser:c().func.isRequired,fetchGroupSchedule:c().func.isRequired,fetchLaborCodeViolationsByUsers:c().func.isRequired,tableRowsNumber:c().number.isRequired,tableUserIds:c().arrayOf(c().string).isRequired,tableUrlParams:ru.SR.isRequired,tableFilters:ru.PX.isRequired,groupId:c().string.isRequired,graphDate:c().shape({from:c().string.isRequired,to:c().string.isRequired}).isRequired,laborCodeCheckingPeriod:c().object.isRequired,isLaborCodeCheckingEnabled:c().bool.isRequired,isShouldReplaceAllDetailState:c().bool.isRequired,isShowStatByWeek:c().bool,tableFilterIgnoreList:c().array.isRequired,showLog:c().bool,disabled:c().bool.isRequired});const wv=Pv;function Cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(r),!0).forEach((function(t){Tv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Nv=(0,o.compose)(y.EN,(0,s.$j)((e=>({user:(0,C.ts)(e),isLoading:(0,K.PT)(e),data:(0,K.Rr)(e),sorters:(0,K.dW)(e),tableUserIds:(0,K.M0)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e),tableFilterIgnoreList:(0,K.JK)(e),tableRowsNumber:(0,K.xz)(e),laborCodeCheckingPeriod:(0,K.Qz)(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),frontendSettings:(0,B.e0)(e),isDataUpdating:(0,K.WG)(e),isShouldReplaceAllDetailState:(0,K.pt)(e),showLog:(0,K.uB)(e),groupId:(0,Y.Wx)(e),isShowStatByWeek:(0,K.Dr)(e)})),{intervalIsChanged:ua.intervalIsChanged,updateUserSchedule:da.updateUserSchedule,fetchUserScheduleInDayPage:da.fetchUserScheduleInDayPage,loadDisplaySettings:da.loadDisplaySettings,fetchGroupSchedule:da.fetchGroupSchedule,setTableSorters:da.setTableSorters,setLastUpdatedSort:da.setLastUpdatedSort,setSortedByActivitiesDay:da.setSortedByActivitiesDay,checkUnsavedChanges:da.checkUnsavedChanges,fetchLaborCodeViolationsByUser:da.fetchLaborCodeViolationsByUser,fetchLaborCodeViolationsByUsers:da.fetchLaborCodeViolationsByUsers},((e,t,r)=>kv(kv(kv(kv({},e),t),r),{},{disabled:e.frontendSettings[pa.av].value&&e.isDataUpdating}))),(0,U.Z)((e=>{var{props:t}=e;t.loadDisplaySettings()})),(0,fl.G)((e=>{var{params:t}=e.match;return kv({dayPageStart:(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0)},e)})),(0,Ci.c)(["loadDisplaySettings","isDataUpdating","frontendSettings","checkUnsavedChanges","history","location","match","staticContext"]))(wv);var Rv=r(37361),Ev={backgroundColor:"white",position:"relative"},Dv=e=>{var{children:t}=e;return(0,u.jsx)(pd.Z,{style:Ev,className:"flex-item_flexible flex-container flex-container_vertical",children:t})};Dv.propTypes={children:c().node.isRequired};const Av=Dv,Mv=()=>{var e,t=(0,s.v9)((e=>(0,B.vH)(e,pa.R_))),[r,i]=(0,m.useState)(null);return(0,m.useEffect)((()=>(t&&(e=setInterval((()=>{i((0,X.Vj)())}),t)),()=>{e&&clearInterval(e)})),[t]),r};var Iv=e=>{var{period:t,aggregation:r}=e,i=(0,s.I0)(),n=(0,s.v9)(K.ET),a=(0,s.v9)(K.Ft),o=(0,s.v9)(K.Tb),l=(0,s.v9)(K.et),{from:c,to:d}=t,u=(e=>{var{from:t,to:r,skillIds:i}=e,n=Mv(),a=(0,s.I0)(),[o,l]=(0,m.useState)((0,X.Vj)()),c=(0,s.v9)(K.et),d=(0,j.xb)(i)||"offices"===c;return(0,m.useEffect)((()=>{d||a((0,da.checkRecalculatedFte)({from:t,to:r,skillIds:i},(()=>{l((0,X.Vj)())})))}),[n]),o})({from:c,to:d,skillIds:n}),p=(e=>{var{from:t,to:r,selectedOfficesIds:i}=e,n=Mv(),a=(0,s.I0)(),[o,l]=(0,m.useState)((0,X.Vj)()),c=(0,s.v9)(K.et),d=(0,j.xb)(i)||"skills"===c;return(0,m.useEffect)((()=>{d||a((0,da.checkRecalculatedOffices)({from:t,to:r,selectedOfficesIds:i},(()=>{l((0,X.Vj)())})))}),[n]),o})({from:c,to:d,selectedOfficesIds:a}),h="SL"===o.type,f=(e,t)=>l===e&&!(0,j.xb)(t);return(0,m.useEffect)((()=>{f("skills",n)&&i(h?(0,da.fetchSLForecastsByArray)({from:c,to:d,aggregation:r,ids:n}):(0,da.fetchStatisticsByMultiSkill)({from:c,to:d,aggregation:r,ids:n}))}),[n,c,d,r,u,h]),(0,m.useEffect)((()=>{f("offices",a)&&i((0,da.fetchOfficeSeats)({from:c,to:d,aggregation:r,ids:a}))}),[a,c,d,r,p]),null};Iv.propTypes={period:ic.isRequired,aggregation:c().oneOf([rs.x4,rs.mo]).isRequired};const Zv=Iv;function qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Fv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qv(Object(r),!0).forEach((function(t){Lv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Hv extends m.PureComponent{constructor(e){super(e),Lv(this,"onLeftSideWidthChange",(e=>{var{userDataColumnWidth:t}=this.props,r=t+e,i=document.body.clientWidth/100*50;r<yd.WZ?this.updateUserDataColumnWidth(yd.WZ):r>i?this.updateUserDataColumnWidth(i):this.updateUserDataColumnWidth(r)})),Lv(this,"onTopContentHeightChange",(e=>{var{topContentHeight:t}=this.props,r=t+e,i=document.body.clientHeight-500;r<yd.Xi?this.updateTopContentHeight(yd.Xi):r>i?this.updateTopContentHeight(i):this.updateTopContentHeight(r)})),Lv(this,"onBottomContentHeightChange",(e=>{_r.ZP.set("Graph.bottomContentHeight",this.state.bottomContentHeight);var t=this.state.bottomContentHeight-e;t<yd.S5?this.setState((e=>({bottomContentHeight:yd.S5,tableColumns:[...e.tableColumns]}))):t>yd.mZ?this.setState((e=>({bottomContentHeight:yd.mZ,tableColumns:[...e.tableColumns]}))):this.setState((e=>({bottomContentHeight:t,tableColumns:[...e.tableColumns]})))})),Lv(this,"handleRefresh",(()=>{var{fetchLaborCodeViolationsByUsers:e,groupId:t,isLaborCodeCheckingEnabled:r,graphDate:{from:i,to:s},fetchGroupSchedule:n,tableFilters:a,tableUrlParams:o,showLog:l}=this.props,c=(0,ft.iX)(s,ft._E,!1);n({from:(0,ft.b7)(i),to:s,groupId:t,userIds:[],filter:a,urlParams:o},l,(t=>{r&&e({from:i,to:c,userIds:t.scheduleRows.map((e=>e.id))})})),this.closeDetails()})),Lv(this,"onBackArrow",(()=>{var{push:e,datePeriod:t}=this.props,{from:r,to:i}=(0,j.xb)(t)?(0,ft.Fu)():t;e("/schedule/graph/".concat((0,ft.X5)(r),":").concat((0,ft.X5)(i)))})),Lv(this,"onScrollRightContent",(0,Yi.D)(10,!1,(e=>{var{scrollLeft:t}=e;this.state.tableScrollLeft!==t&&this.setState({tableScrollLeft:t})}))),Lv(this,"onDetailsColumnZoom",(e=>{this.setState({detailsColumnWidth:e},(()=>{_r.ZP.set("Graph.detailsColumnWidth",e)}))})),Lv(this,"updateUserDataColumnWidth",(e=>{var{setUserDataColumnWidth:t}=this.props;t(e),_r.ZP.set(yd.Q1,e)})),Lv(this,"updateTopContentHeight",(e=>{var{setTopContentHeight:t}=this.props;t(e),_r.ZP.set(yd.$I,e)})),Lv(this,"closePopup",(()=>{this.setState({openedPopupName:void 0,popupProps:void 0})})),Lv(this,"toggleShowCalls",(()=>{this.setState((e=>({showCalls:!e.showCalls})),(()=>this.forceUpdate()))})),Lv(this,"publish",(()=>{var{publishSchedule:e,groupId:t,shouldRefreshAfterPublish:r,fetchGroupSchedule:i,tableFilters:s,tableUrlParams:n,graphDate:{from:a,to:o}}=this.props,[l,c]=(0,ft.ae)(a,o);e(t,l,c,(()=>{if(r){var e=(_r.ZP.get("Graph.displaySettings")||{}).showLog||!1;i({from:l,to:c,groupId:t,userIds:[],filter:s,urlParams:n},e)}}))})),Lv(this,"hasShowRecalculate",(()=>{var{user:e}=this.props,t=(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD),r=(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD);return t||r||!1})),Lv(this,"closeDetails",(()=>{this.props.closeDetailsPopup()})),Lv(this,"handleRecalculateFTE",((e,t)=>{var{recalculateFTE:r}=this.props;r(e,t)})),Lv(this,"handleSuccessGeneratePersonalSchedule",(e=>{var{fetchUserScheduleInDayPage:t,fetchLaborCodeViolationsByUser:r,fetchBalancerStatsByUserIds:i,graphDate:{from:s,to:n},groupId:a,user:o,isLaborCodeCheckingEnabled:l}=this.props,[c,d]=(0,ft.ae)(s,n);t({from:s,to:n,userId:e,groupId:a},!1,(()=>{i({from:s,userIds:[e],groupId:a}),l&&r({from:c,to:d,userId:o.id})}))})),Lv(this,"openPopup",((e,t)=>{this.setState({openedPopupName:e,popupProps:t})})),Lv(this,"handleScheduleChange",(e=>{var{userIds:t}=e,{fetchBalancerStatsByUserIds:r,graphDate:{from:i,to:s},groupId:n,checkUnsavedChanges:a}=this.props,[o,l]=(0,ft.ae)(i,s,!0);r({userIds:t,from:o,groupId:n}),a({from:o,to:l,groupId:n})})),Lv(this,"handleGeneratePersonalScheduleRequest",(e=>{var t=(0,ft.YD)(e.to,1);this.setState({buildScheduleVisible:!0,buildScheduleData:Fv(Fv({},e),{},{to:this.props.isMidDate?e.to:t})})})),Lv(this,"handleCloseEmployeeForm",(()=>{this.setState({openedEmployeeId:null})})),Lv(this,"handleOpenEmployeeForm",(e=>{this.setState({openedEmployeeId:e})})),Lv(this,"getUserColumnWidth",(()=>this.props.isShowStatByWeek?this.props.userDataColumnWidth+yd.eS:this.props.userDataColumnWidth)),this.state={bottomContentHeight:_r.ZP.get("Graph.bottomContentHeight")||yd.S5,tableScrollLeft:0,tableColumns:[],showCalls:!1,buildScheduleVisible:!1,detailsColumnWidth:_r.ZP.get("Graph.detailsColumnWidth")||yd.gm,openedEmployeeId:null}}componentDidMount(){var{graphDate:{from:e,to:t},groupId:r,fetchGroupSkills:i,fetchOffices:s,fetchWorkActivities:n,fetchLaborCodeViolationsByUsers:a,fetchUserStatus:o,setTopContentHeight:l,tableUrlParams:c,tableFilters:d,isLaborCodeCheckingEnabled:u,setUserDataColumnWidth:p}=this.props,[h,f]=(0,ft.ae)(e,t),m=h,v=(_r.ZP.get("Graph.displaySettings")||{}).showLog||!1,y=(0,ft.TR)(h,24);this.props.fetchGroupSchedule({from:m,to:y,groupId:r,userIds:[],urlParams:c,filter:d},v,(e=>{u&&a({userIds:e.scheduleRows.map((e=>e.id)),from:h,to:f})})),i({groupId:r}),s(),n(),o(),l((0,yd.wH)()),p((0,yd.cd)())}componentDidUpdate(e){var{graphDate:{from:t,to:r},groupId:i,fetchLaborCodeViolationsByUsers:s,tableUrlParams:n,tableFilters:a,fetchGroupSkills:o,isLaborCodeCheckingEnabled:l}=this.props,c=t=>e[t]!==this.props[t];if(c("from")||c("to")||c("groupId")||c("tableUrlParams")||c("tableFilters")){var[d,u]=(0,ft.ae)(t,r),p=d,h=(_r.ZP.get("Graph.displaySettings")||{}).showLog||!1,f=(0,ft.TR)(d,24);o({groupId:i}),this.props.fetchGroupSchedule({from:p,to:f,groupId:i,userIds:[],urlParams:n,filter:a},h,(e=>{l&&s({userIds:e.scheduleRows.map((e=>e.id)),from:d,to:u})}))}}render(){var{groupId:e,frontendSettings:t,intervalIsChangedState:r,user:i,isLoadingRecalculate:s,topContentHeight:n,fetchGroupSchedule:a,isLoading:o,graphDate:l,userDataColumnWidth:c}=this.props,{openedEmployeeId:d,tableScrollLeft:p,detailsColumnWidth:h,showCalls:f,bottomContentHeight:m}=this.state,v=this.hasShowRecalculate(),y=(0,X.BC)(i,x.ZP.RIGHTS.FORECASTING),g=h-h/96+.01*h,b=document.body.clientHeight-500;return n>b&&this.updateTopContentHeight(b),f&&m<yd.S5&&this.setState({bottomContentHeight:yd.S5}),(0,u.jsxs)("div",{className:"section graph",children:[(0,u.jsx)(Zv,{aggregation:rs.mo,period:(()=>{var e=(0,ft.TR)(l.from,24),[t,r]=(0,ft.ae)(l.from,e);return{from:t,to:r}})()}),(0,u.jsx)("div",{className:me()("section_content","section__content_no-footer","flex-container","flex-container_vertical"),children:(0,u.jsxs)("div",{className:me()("flex-container","flex-container_vertical","flex-item_flexible"),style:{backgroundColor:yd._4},children:[(0,u.jsx)(Nu,{period:l,frontendSettings:t,onRefresh:this.handleRefresh,openPopup:this.openPopup,groupId:e,fetchGroupSchedule:a,onPublish:this.publish,intervalIsChangedState:r,recalculateFTE:this.handleRecalculateFTE,isLoadingRecalculate:s,isShowRecalculate:v,onBackArrow:this.onBackArrow,user:i}),(0,u.jsxs)(Av,{children:[(0,u.jsx)(Rv.default,{height:n,chartLeftOffset:0-p,chartWidth:g,leftSideWidth:this.getUserColumnWidth(),isForecastingRights:y,mode:"day",onDetailsColumnZoom:this.onDetailsColumnZoom,detailsColumnWidth:h}),(0,u.jsx)(Nv,{onScroll:this.onScrollRightContent,user:i,graphDate:l,leftSideWidth:c,detailsColumnWidth:h,onChange:this.handleScheduleChange,onGeneratePersonalScheduleRequest:this.handleGeneratePersonalScheduleRequest,openEmployeeForm:this.handleOpenEmployeeForm}),(0,u.jsx)(Zu,{width:h,scrollPosition:p,leftOffset:this.getUserColumnWidth(),graphTopHeight:n}),(0,u.jsx)(es,{style:{top:n},onDrag:this.onTopContentHeightChange,orientation:Xi}),(0,u.jsx)(es,{style:{left:this.getUserColumnWidth()},onDrag:this.onLeftSideWidthChange,orientation:Ji}),f&&(0,u.jsx)(es,{style:{bottom:m},onDrag:this.onBottomContentHeightChange,orientation:Xi}),(0,u.jsx)(Ad,{open:f,bottomContentHeight:m,chartWidth:g,onToggleOpenRequest:this.toggleShowCalls,horizontalScrollOffset:this.state.tableScrollLeft}),(0,u.jsx)("div",{className:is.Z.graphPopups,children:(0,u.jsx)(Md.Z,{onClose:this.closePopup,componentProps:this.state.popupProps,popupName:this.state.openedPopupName,isScheduleLoading:o})})]})]})}),(0,u.jsx)(qu.default,{show:this.state.buildScheduleVisible,onCloseRequest:()=>{this.setState({buildScheduleVisible:!1})},buildScheduleData:this.state.buildScheduleData,onChangeStartOfPeriod:e=>{this.setState((t=>({buildScheduleData:Fv(Fv({},t.buildScheduleData),{},{from:e})})))},onChangeEndOfPeriod:e=>{this.setState((t=>({buildScheduleData:Fv(Fv({},t.buildScheduleData),{},{to:e})})))},onChangeNormalize:e=>{this.setState((t=>({buildScheduleData:Fv(Fv({},t.buildScheduleData),{},{normalizeHours:e})})))},onChangePreferencePercent:e=>{this.setState((t=>({buildScheduleData:Fv(Fv({},t.buildScheduleData),{},{preferencePercent:e})})))},onSuccess:this.handleSuccessGeneratePersonalSchedule}),(0,u.jsx)(ts.default,{employeeId:d,closeForm:this.handleCloseEmployeeForm}),(0,u.jsx)(ud,{})]})}}Hv.defaultProps={shouldRefreshAfterPublish:!1,topContentHeight:140,userDataColumnWidth:yd.yc,isLaborCodeCheckingEnabled:!1,isShowStatByWeek:!1,showLog:!1,isMidDate:!1,datePeriod:{},fetchUserScheduleInDayPage:O.wA},Hv.propTypes={groupId:c().string.isRequired,tableUrlParams:ru.SR.isRequired,fetchGroupSchedule:c().func.isRequired,fetchWorkActivities:c().func.isRequired,fetchUserStatus:c().func.isRequired,fetchGroupSkills:c().func.isRequired,publishSchedule:c().func.isRequired,push:c().func.isRequired,fetchLaborCodeViolationsByUsers:c().func.isRequired,user:ge.Z.isRequired,frontendSettings:c().object.isRequired,tableFilters:ru.PX.isRequired,intervalIsChangedState:c().bool.isRequired,setTopContentHeight:c().func.isRequired,setUserDataColumnWidth:c().func.isRequired,checkUnsavedChanges:c().func.isRequired,fetchBalancerStatsByUserIds:c().func.isRequired,recalculateFTE:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,userDataColumnWidth:c().number,topContentHeight:c().number,isLoading:c().bool.isRequired,closeDetailsPopup:c().func.isRequired,shouldRefreshAfterPublish:c().bool,graphDate:c().shape({from:(0,zi.Z)(ft._E),to:(0,zi.Z)(ft._E)}).isRequired,isLaborCodeCheckingEnabled:c().bool,showLog:c().bool,isShowStatByWeek:c().bool,isMidDate:c().bool,fetchOffices:c().func.isRequired,datePeriod:c().object,fetchLaborCodeViolationsByUser:c().func.isRequired,fetchUserScheduleInDayPage:c().func};const _v=Hv;var Bv=r(87271),Gv=r(21737),Wv=r(11146);function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Vv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zv=(0,o.compose)(y.EN,(0,s.$j)((e=>({intervalIsChangedState:e.schedule.intervalIsChanged[0]?e.schedule.intervalIsChanged[0].isChanged:null,frontendSettings:(0,B.e0)(e),user:(0,C.ts)(e),groupId:(0,Y.Wx)(e),tableUserIds:(0,K.M0)(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e),isLoadingRecalculate:e.schedule.isLoadingRecalculate,userDataColumnWidth:(0,K.IJ)(e),topContentHeight:(0,K.qe)(e),isLoading:(0,K.co)(e),shouldRefreshAfterPublish:(0,B.vH)(e,pa.Xc),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),showLog:(0,K.uB)(e),datePeriod:(0,K.Qz)(e),isShowStatByWeek:(0,K.Dr)(e)})),{fetchWorkActivities:Gv.fetchAllWorkActivities,fetchUserStatus:Bv.fetchUserStatus,fetchGroupSkills:da.fetchGroupSkills,fetchOffices:Wv.fetchOffices,fetchUserScheduleInDayPage:da.fetchUserScheduleInDayPage,fetchGroupSchedule:da.fetchGroupSchedule,publishSchedule:da.publishSchedule,checkUnsavedChanges:da.checkUnsavedChanges,recalculateFTE:ua.recalculateFTE,setUserDataColumnWidth:da.setUserDataColumnWidth,setTopContentHeight:da.setTopContentHeight,closeDetailsPopup:da.closeDetailsPopup,fetchBalancerStatsByUserIds:da.fetchBalancerStatsByUserIds,fetchLaborCodeViolationsByGroup:da.fetchLaborCodeViolationsByGroup,fetchLaborCodeViolationsByUser:da.fetchLaborCodeViolationsByUser,fetchLaborCodeViolationsByUsers:da.fetchLaborCodeViolationsByUsers}),(0,fl.G)((e=>{var{params:t,history:r}=e.match,i={};if(t.from){var s=(0,ft.TR)((0,ft.I_)(t.from),t.mid?12:0);i={from:s,to:(0,ft.TR)((0,ft.I_)(s),24)}}else r.push("/schedule/graph");return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(r),!0).forEach((function(t){Vv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({push:e.history.push,graphDate:i,isMidDate:"mid"===t.mid},e)})))(_v);var Yv=r(81977),Qv=r(53650),Kv=r(78135);const Xv="pN5-zoXNI47di2CNmK94RA==";var Jv=e=>{var{children:t,expanded:r,onChange:i,hasZebra:s,hasChildren:n}=e,a=n?Xv:me()(Xv,"IxBoiTPpUryiS4IZv20Nbw==");return(0,u.jsx)(Kv.Z,{square:!0,expanded:r,onChange:i,classes:{root:s?"d1M-iJUHUo6QyhzPCep7HQ==":a,expanded:"U5mNEEaLb+oFttmBjpOqUQ=="},children:t})};Jv.defaultProps={hasZebra:!1,hasChildren:!0},Jv.propTypes={expanded:c().bool.isRequired,onChange:c().func.isRequired,children:c().node.isRequired,hasZebra:c().bool,hasChildren:c().bool};const $v=Jv;var ey=r(14670),ty=r(50743);const ry=(0,ey.Z)({root:{color:Qi.V$,border:"none",borderBottom:"1px dotted ".concat(Qi.AH),minHeight:30,"&$expanded":{minHeight:30}},content:{margin:0,"&$expanded":{margin:0,padding:0}},expanded:{}})(ty.Z);var iy=r(61201);const sy=(0,ey.Z)((()=>({root:{paddingTop:0}})))(iy.Z),ny="MPGrWx7czTca+fW+OUCDxA==";var ay=e=>{var{items:t,onOpen:r,iconBtnClassName:i,hasZebra:s,hasChildren:n}=e,[a,o]=m.useState("panel1");return(0,u.jsx)(u.Fragment,{children:t.map((e=>{var t,{id:l,title:c,content:d}=e,p=a===l;return(0,u.jsxs)($v,{square:!0,expanded:p,onChange:(t=l,(e,i)=>{o(!!i&&t),i&&(null==r||r(t,t))}),hasZebra:s,hasChildren:n,children:[(0,u.jsxs)(ry,{"aria-controls":"".concat(l,"-content"),id:"".concat(l,"-header"),children:[(0,u.jsx)(nh.Z,{open:p,className:i}),c]}),(0,u.jsx)(sy,{children:d})]},l)}))})};ay.defaultProps={onOpen:null,iconBtnClassName:ny,hasZebra:!1,hasChildren:!0},ay.propTypes=_()({items:c().arrayOf(c().shape({id:c().string.isRequired,title:c().node.isRequired,content:c().node.isRequired})).isRequired,onOpen:c().func,iconBtnClassName:c().string,hasZebra:c().bool,hasChildren:c().bool});const oy=ay;var ly=e=>{var{items:t,onOpen:r,iconBtnClassName:i,hasZebra:s}=e,[n,a]=(0,m.useState)(["panel1"]);return(0,u.jsx)(u.Fragment,{children:t.map((e=>{var t,{id:o,title:l,content:c,hasChildren:d=!0}=e,p=n.some((e=>e===o)),h=d?(t=o,(e,i)=>{a(i?[...n,t]:n.filter((e=>e!==t))),i&&(null==r||r(t,t))}):O.wA;return(0,u.jsxs)($v,{square:!0,expanded:p,onChange:h,hasZebra:s,hasChildren:d,children:[(0,u.jsxs)(ry,{"aria-controls":"".concat(o,"-content"),id:"".concat(o,"-header"),children:[(0,u.jsx)(nh.Z,{hideArrow:!d,open:p,className:i}),l]}),(0,u.jsx)(sy,{children:c})]},o)}))})};ly.defaultProps={onOpen:null,iconBtnClassName:ny,hasZebra:!1},ly.propTypes=_()({items:c().arrayOf(c().shape({id:c().string.isRequired,title:c().node.isRequired,content:c().node.isRequired})).isRequired,onOpen:c().func,iconBtnClassName:c().string,hasZebra:c().bool});const cy=ly;var dy=r(84343);class uy extends m.PureComponent{render(){var{glyph:e,label:t,active:r,classes:i,classIcon:s}=this.props,n=me()("legend",{[i]:!!i});return r?(0,u.jsxs)("span",{className:n,children:[(0,u.jsx)(et.ZP,{glyph:e,classCustom:s})," ",t]}):null}}uy.defaultProps={active:!0,classes:"",classIcon:""},uy.propTypes={glyph:c().string.isRequired,label:c().any.isRequired,active:c().bool,classes:c().string,classIcon:c().string};const py=uy;var hy=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Trash",defaultMessage:[{type:0,value:"Удалить смену"}]}),fy=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Add",defaultMessage:[{type:0,value:"Дополнительная смена"}]}),my=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Send",defaultMessage:[{type:0,value:"Передать смену"}]});const vy=()=>(0,u.jsxs)("div",{className:"legends-container requests-detail",children:[(0,u.jsx)(py,{glyph:et.XH,label:hy,classIcon:"error-color",classes:"text-gray"}),(0,u.jsx)(py,{glyph:et.nz,label:fy,classIcon:"add-color",classes:"text-gray"}),(0,u.jsx)(py,{glyph:et.Eh,label:my,classIcon:"success-color arrow-rotate",classes:"text-gray"})]});var yy=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"eN+UdorzC6YaTD4oscjM3g==",children:t})};yy.propTypes={children:c().node.isRequired};const gy=yy;var by=(0,u.jsx)(J.Z,{id:"Manager.Legends.takeReserveSkills",defaultMessage:[{type:0,value:"Учитывать резервные навыки"}]}),jy=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.SelectAll",defaultMessage:[{type:0,value:"Все дополнительные смены"}]}),xy=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.NoSelectAll",defaultMessage:[{type:0,value:"Удалить все смены"}]}),Sy=e=>{var{isActiveSelectTrash:t,isActiveClearTrash:r,isSelectAllDisabled:i,isDeleteAllDisabled:s,reserveAccess:n,setReserveAccess:a,clearAllTrashItem:o,selectAllTrashItem:l}=e;return(0,u.jsxs)("div",{className:"wRxmqaQrmj3y6KC3oGZcAA==",children:[(0,u.jsx)(gy,{children:(0,u.jsx)(Rs.XZ,{checked:n,onChange:a,label:by})}),(0,u.jsx)(gy,{children:(0,u.jsx)(Ae.Z,{active:r,onClick:()=>o(),disabled:i,children:jy})}),(0,u.jsx)(gy,{children:(0,u.jsx)(Ae.Z,{onClick:()=>l(),active:t,disabled:s,children:xy})})]})};Sy.propTypes={selectAllTrashItem:c().func.isRequired,clearAllTrashItem:c().func.isRequired,isActiveSelectTrash:c().bool.isRequired,isActiveClearTrash:c().bool.isRequired,isSelectAllDisabled:c().bool.isRequired,isDeleteAllDisabled:c().bool.isRequired,reserveAccess:c().bool.isRequired,setReserveAccess:c().func.isRequired};const Oy=Sy;var Py=r(7291);function wy(e,t){var r=!0;if(0===e.length)return!1;for(var i=0;i<e.length;i++){var s=t[e[i]],{isTrash:n}=s;if(!n){r=!1;break}}return r}function Cy(e,t){var r=!0;if(0===e.length)return!1;for(var i=0;i<e.length;i++){var s=t[e[i]],{isTrash:n}=s;if(n){r=!1;break}}return r}const ky=(0,o.compose)((0,s.$j)(((e,t)=>{var{dayStart:r}=t,i=ns()(r).isBefore(ns()().startOf("day")),s=gm(e),n=Object.keys(s),a=Object.values(s).some((e=>e.deleteOnly));return{list:gm(e),isDeleteAllDisabled:!(0,X.BC)((0,C.ts)(e),x.ZP.RIGHTS.SCHEDULE_CHANGES),isSelectAllDisabled:a||!(0,X.BC)((0,C.ts)(e),x.ZP.RIGHTS.ADDITIONAL_SCHEDULE)||i,isActiveSelectTrash:wy(n,s),isActiveClearTrash:Cy(n,s),reserveAccess:jm(e)}}),{selectAllTrashItem:Py.selectAllTrashItem,clearAllTrashItem:Py.clearAllTrashItem,setReserveAccess:Py.setReserveAccess}))(Oy);var Ty=r(84650),Ny="period-picker flex-container",Ry=r(3640);function Ey(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dy={alignItems:"baseline",marginBottom:"7px"};class Ay extends m.PureComponent{constructor(e){super(e),Ey(this,"handleDateChange",(e=>{var{isEndOfPeriod:t,onChange:r}=this.props,{time:i,showTime:s}=this.state,n=ns()(e,ft.vc).format(ft._E);if(i){var a=ns()(i,"HH:mm").hour(),o=ns()(i,"HH:mm").minute();r(ns()(n,ft._E).add(a,"hour").add(o,"minute").format(ft._E))}else r(t&&!s?(0,ft.iX)(n):n)})),Ey(this,"handleChange",(e=>{var{date:t,onChange:r}=this.props,i=ns()(t,ft._E).local().startOf("day"),s=ns()(e,"HH:mm").hour(),n=ns()(e,"HH:mm").minute(),a=i.add(s,"hour").add(n,"minute").format(ft._E);this.setState({time:e}),r(a)})),Ey(this,"clearLocalTime",(()=>{this.setState({time:null})})),Ey(this,"getCleanDate",(e=>ns()(ns()(e,ft.vc).format(ft.vc),ft.vc).format(ft._E))),Ey(this,"toggleShowTime",(()=>{this.setState((e=>({showTime:!e.showTime})),(()=>{var{isEndOfPeriod:e}=this.props,{showTime:t}=this.state;if(t&&e){var{date:r,onChange:i}=this.props;i((0,ft.Cv)(r))}else if(!t&&e){var{date:s,onChange:n}=this.props,a=this.getCleanDate(s);n((0,ft.M)(a)),this.clearLocalTime()}else if(!t){var{date:o,onChange:l}=this.props;l(this.getCleanDate(o)),this.clearLocalTime()}}))})),this.state={showTime:e.showTime,time:e.time}}render(){var{date:e,label:t,isEndOfPeriod:r,maxDate:i,minDate:s,isBlockCorrectTimeBlur:n}=this.props,{showTime:a}=this.state,o=r&&!a?(0,ft.Cv)(e):e,l=(0,ft.xr)(o);return(0,u.jsxs)("div",{className:"flex-container",style:Dy,children:[t&&(0,u.jsx)("div",{className:"flex-item_flexible mr",children:t}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mt.Z,{onChange:this.handleDateChange,date:l,dateFormat:ft.vc,maxDate:i,minDate:s})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(Ry.Z,{onChange:this.handleChange,value:e,step:5,hidden:!this.state.showTime,onToggleHiddenResponse:this.toggleShowTime,isBlockCorrectTimeBlur:n})})]})}}Ay.defaultProps={label:"",showTime:!1,isBlockCorrectTimeBlur:!1,time:null,isEndOfPeriod:null,maxDate:"",minDate:""},Ay.propTypes={date:c().string.isRequired,onChange:c().func.isRequired,label:c().oneOfType([c().string,c().node]),isEndOfPeriod:c().bool,showTime:c().bool,isBlockCorrectTimeBlur:c().bool,time:c().string,minDate:c().string,maxDate:c().string};const My=Ay;var Iy=e=>{var{period:t,showTimeFrom:r,showTimeTo:i,timeFrom:s,timeTo:n,isSeparator:a,isNotLabel:o,isBlockCorrectTimeBlur:l,onChange:c,label:d}=e,p=!o&&(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),h=!o&&(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]}),f=a&&" - ",m=d?(0,u.jsxs)("h2",{className:"".concat(Ny,"__h2"),children:[(0,u.jsx)(et.ZP,{glyph:Ty.Z.id}),d]}):null;return(0,u.jsxs)("div",{className:Ny,children:[m,(0,u.jsx)(My,{date:t.from,label:p,onChange:e=>{c({from:e,to:t.to})},showTimeKey:"showTimeFrom",timeKey:"timeFrom",showTime:r,time:s,isBlockCorrectTimeBlur:l}),f,(0,u.jsx)(My,{date:t.to,label:h,onChange:e=>{c({to:e,from:t.from})},isEndOfPeriod:!0,showTimeKey:"showTimeTo",timeKey:"timeTo",showTime:i,time:n,minDate:t.from,isBlockCorrectTimeBlur:l})]})};Iy.defaultProps={label:null,isSeparator:!1,isNotLabel:!0,isBlockCorrectTimeBlur:!1,showTimeFrom:!1,showTimeTo:!1,timeFrom:"",timeTo:""},Iy.propTypes={period:c().shape({from:c().string.isRequired,to:c().string.isRequired}).isRequired,onChange:c().func.isRequired,showTimeFrom:c().bool,showTimeTo:c().bool,timeFrom:c().string,timeTo:c().string,label:c().oneOfType([c().string,c().node]),isSeparator:c().bool,isNotLabel:c().bool,isBlockCorrectTimeBlur:c().bool};const Zy=Iy;class qy extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(e=>{var{setCurrentUserFreeList:t,getListSwapsRequest:r,start:i,end:s}=this.props;if(e&&i&&s&&i<s){var n={userId:e,start:i,end:s};t(e),r(n)}}))}render(){var{data:e,currentUser:t}=this.props,r=e.sort(jo.HQ);return(0,u.jsx)(Il.Z,{onChange:this.handleClick,dataSource:r,dataSourceConfig:{value:"id",text:"name"},value:t})}}qy.defaultProps={start:"",end:""},qy.propTypes={data:c().array.isRequired,currentUser:c().string.isRequired,setCurrentUserFreeList:c().func.isRequired,getListSwapsRequest:c().func.isRequired,start:c().string,end:c().string};const Fy=qy,Ly=(0,o.compose)((0,s.$j)((e=>({data:Nm(e),currentUser:Em(e)})),{setCurrentUserFreeList:Mm.setCurrentUserFreeList}))(Fy);class Hy extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(e=>{var{setCurrentActivity:t}=this.props;t(e)}))}render(){var{data:e,currentActivity:t}=this.props,r=e.sort((0,X.hM)("name"));return(0,u.jsx)("div",{className:"select-activity-detail",children:(0,u.jsx)(Il.Z,{hasInputTitle:!0,onChange:this.handleClick,dataSource:r,dataSourceConfig:{value:"id",text:"name"},value:t})})}}Hy.defaultProps={data:[]},Hy.propTypes={data:c().array,setCurrentActivity:c().func.isRequired,currentActivity:c().string.isRequired};const _y=Hy,By=(0,o.compose)((0,s.$j)((e=>({data:un(e),currentActivity:km(e)})),{setCurrentActivity:Mm.setCurrentActivity,fetchWorkActivities:Sa.fetchWorkActivities}),(0,U.Z)((e=>{var{props:t}=e,{fetchWorkActivities:r}=t;r()})))(_y);var Gy=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.User",defaultMessage:[{type:0,value:"Сотрудник"}]}),Wy=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.Period",defaultMessage:[{type:0,value:"Период"}]}),Uy=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.Activity",defaultMessage:[{type:0,value:"Активность"}]}),Vy=e=>{var{period:t,getListSwapsRequest:r,setPeriodSchedule:i,userId:s,clearListSwapRequests:n,user:a}=e;return(0,u.jsx)("div",{className:"",children:(0,u.jsxs)("div",{className:"user-list",children:[(0,u.jsxs)("div",{className:"user-list-item",children:[(0,u.jsx)("div",{className:"title",children:Gy}),(0,u.jsx)("div",{className:"field",children:(0,u.jsx)(Ly,{getListSwapsRequest:r,start:t.from,end:t.to})})]}),(0,u.jsxs)("div",{className:"user-list-item",children:[(0,u.jsx)("div",{className:"title",children:Wy}),(0,u.jsx)("div",{className:"field",children:(0,u.jsx)(Zy,{period:t,onChange:e=>{var t=((e,t)=>e.to&&e.from&&t&&e.from<e.to)(e,s);if(i(e),t){var o={userId:s,start:e.from,end:e.to};(0,X.BC)(a,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE)&&r(o)}else n()},isBlockCorrectTimeBlur:!0})})]}),(0,u.jsxs)("div",{className:"user-list-item",children:[(0,u.jsx)("div",{className:"title",children:Uy}),(0,u.jsx)("div",{className:"field",children:(0,u.jsx)(By,{})})]})]})})};Vy.propTypes={setPeriodSchedule:c().func.isRequired,period:c().object.isRequired,getListSwapsRequest:c().func.isRequired,userId:c().string.isRequired,clearListSwapRequests:c().func.isRequired,user:c().object.isRequired};const zy=Vy,Yy=(0,o.compose)((0,s.$j)((e=>({period:Tm(e),userId:Em(e),user:(0,C.ts)(e)})),{setPeriodSchedule:Mm.setPeriodSchedule,getListSwapsRequest:Py.getListSwapsRequest,clearListSwapRequests:Py.clearListSwapRequests}))(zy);class Qy extends m.PureComponent{render(){var{start:e,end:t,workActivityName:r}=this.props,i=(0,ft.fv)(e,t);return(0,u.jsxs)("div",{className:"pt text-gray",children:[(0,u.jsx)("div",{children:i}),(0,u.jsx)("div",{children:r})]})}}Qy.defaultProps={workActivityName:""},Qy.propTypes={start:c().string.isRequired,end:c().string.isRequired,workActivityName:c().string};const Ky=Qy;var Xy=e=>{var{userName:t,positionName:r}=e;return(0,u.jsxs)("div",{className:"user-caption pt",children:[(0,u.jsx)("div",{className:"name",children:t}),(0,u.jsx)("div",{className:"role text-gray",children:r})]})};Xy.propTypes={userName:c().string.isRequired,positionName:c().string.isRequired};const Jy=Xy;var $y=e=>{var{userName:t,userId:r,positionName:i,start:s,end:n,comment:a,workActivityName:o}=e;return(0,u.jsxs)("div",{className:"item-detail-title",children:[(0,u.jsx)(Zr.q,{userId:r}),(0,u.jsx)(Jy,{userName:t,positionName:i}),(0,u.jsx)(Ky,{start:s,end:n,comment:a,workActivityName:o})]})};$y.defaultProps={comment:""},$y.propTypes={userName:c().string.isRequired,start:c().string.isRequired,end:c().string.isRequired,comment:c().string,workActivityName:c().string.isRequired,userId:c().string.isRequired,positionName:c().string.isRequired};const eg=$y;var tg=e=>{var{period:t,activityName:r,userName:i,userId:s,positionName:n}=e;return(0,u.jsx)(eg,{userId:s,userName:i,positionName:n,start:t.from,end:t.to,workActivityName:r})};tg.propTypes={userName:c().string.isRequired,period:c().object.isRequired,activityName:c().string.isRequired,userId:c().string.isRequired,positionName:c().string.isRequired};const rg=tg;var ig=(e,t)=>{var r=e.find((e=>e.id===t))||{};return r.name||""};function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(r),!0).forEach((function(t){ag(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ag(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const og=(0,o.compose)((0,s.$j)((e=>({period:Tm(e),dataActivities:Cm(e),currentActivity:km(e),dataUsers:Nm(e),currentUser:Em(e)})),{},((e,t,r)=>{var i,s,n,{dataActivities:a,currentActivity:o,dataUsers:l,currentUser:c}=e,d=ig(a,o),u=ig(l,c),p=(i=c,n=l.find((e=>e.id===i))||{},(null==n||null===(s=n.positionName)||void 0===s?void 0:s.name)||"");return ng(ng(ng(ng({},e),t),r),{},{activityName:d,userName:u,positionName:p,userId:c})})))(rg);function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(r),!0).forEach((function(t){dg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ug=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.Save"});class pg extends m.PureComponent{constructor(){super(...arguments),dg(this,"validate",(()=>{var{period:e,activityId:t,userId:r}=this.props,i=e.to&&e.from,s=e.from<e.to;return i&&s&&t&&r})),dg(this,"getParamsForSave",(()=>{var e,{period:t,activityId:r,userId:i,list:s,reserveAccess:n,isSeatAccountingEnabled:a,isConsiderTimezone:o,currentUserInSelectorInfo:l,groupId:c}=this.props,d=(0,j.yv)({list:s,ownerId:i,reserveAccess:n}),u=null===(e=l.zonePeriod)||void 0===e?void 0:e.zone;return{groupId:c,workActivityId:r,userId:i,start:o&&!(0,j.xb)(u)?(0,Qv.gX)(t.from,u):t.from,end:o&&!(0,j.xb)(u)?(0,Qv.gX)(t.to,u):t.to,data:d,isSeatAccountingEnabled:a}})),dg(this,"handleClick",(()=>{var{saveChangeScheduleDetail:e,chooseTypeUserSchedule:t,onSuccess:r,userId:i,user:s,period:n,activityId:a,isSeatAccountingEnabled:o,groupId:l}=this.props;this.validate()&&((0,X.BC)(s,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE)?e(cg(cg({},this.getParamsForSave()),{},{groupId:l}),r):t({groupId:l,userId:i,isSeatAccountingEnabled:o,activities:[{start:n.from,end:n.to,workActivityId:a}]},r))}))}render(){var e=this.validate();return(0,u.jsx)("div",{className:"bottom-panel",children:(0,u.jsx)("div",{className:"container-drawer",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:ug,disabled:!e||this.props.disabled,onClick:this.handleClick})})})}}pg.defaultProps={isConsiderTimezone:!1,disabled:!1},pg.propTypes={period:c().shape({from:(0,zi.Z)(ft._E),to:(0,zi.Z)(ft._E)}).isRequired,onSuccess:c().func.isRequired,currentUserInSelectorInfo:c().shape({zonePeriod:c().shape({zone:c().string})}).isRequired,activityId:P.K5.isRequired,isConsiderTimezone:c().bool,disabled:c().bool,userId:P.K5.isRequired,saveChangeScheduleDetail:c().func.isRequired,chooseTypeUserSchedule:c().func.isRequired,list:c().object.isRequired,user:P.jZ.isRequired,reserveAccess:c().bool.isRequired,groupId:P.K5.isRequired,isSeatAccountingEnabled:c().bool.isRequired};const hg=pg,fg=(0,o.compose)((0,s.$j)((e=>({period:Tm(e),currentUserInSelectorInfo:(0,Lu.Jf)(e),activityId:km(e),userId:Em(e),list:gm(e),user:(0,C.ts)(e),reserveAccess:jm(e),groupId:(0,Y.Wx)(e),isSeatAccountingEnabled:(0,B.vH)(e,"isSeatAccountingEnabled")})),{saveChangeScheduleDetail:Mm.saveChangeScheduleDetail,chooseTypeUserSchedule:da.chooseTypeUserSchedule}))(hg);var mg=r(85129);const vg="Os85KIEM6f4dHxha8uSSrA==",yg="qu0ac9yOfi4q+om93ZCcPg==";var gg=e=>{var{setTrashStateSwap:t,swapId:r,setAdditionStateSwap:i,setUserListShow:s,isTrash:n,disabled:a,classes:o}=e,l=me()("legend trash",{[o]:!!o,[vg]:a}),c=me()({[yg]:n}),d={cursor:n||a?"default":"pointer"};return(0,u.jsx)("span",{className:l,onClick:()=>{if(a)return null;if(!n){var e=(0,mg.e)(r,!0),o=(0,mg.e)(r,!1),l=(0,mg.e)(r,!1);t(e),i(o),s(l)}},style:d,children:(0,u.jsx)(et.ZP,{glyph:et.XH,classCustom:c})})};gg.defaultProps={isTrash:!1,disabled:!1,classes:""},gg.propTypes={isTrash:c().bool,disabled:c().bool,classes:c().string,setAdditionStateSwap:c().func.isRequired,setUserListShow:c().func.isRequired,setTrashStateSwap:c().func.isRequired,swapId:c().string.isRequired};const bg=gg,jg=(0,o.compose)((0,s.$j)(null,{setTrashStateSwap:Py.setTrashStateSwap,setAdditionStateSwap:Py.setAdditionStateSwap,setUserListShow:Py.setUserListShow}))(bg);class xg extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{swapId:e,setUserListShow:t,setTrashStateSwap:r,setAdditionStateSwap:i,isAddition:s,disabled:n}=this.props;if(n)return null;if(!s){var a=(0,mg.e)(e,!1),o=(0,mg.e)(e,!0),l=(0,mg.e)(e,!1);r(a),i(o),t(l)}}))}render(){var{active:e,classes:t,classIcon:r,isAddition:i,disabled:s}=this.props,n=et.dt,a=me()("legend add-user",{[t]:!!t,[vg]:s,[yg]:e}),o={cursor:i||s?"default":"pointer"};return e&&(n=et.nz),(0,u.jsx)("span",{className:a,onClick:this.handleClick,style:o,children:(0,u.jsx)(et.ZP,{glyph:n,classCustom:r})})}}xg.defaultProps={active:!0,disabled:!1,isAddition:!1,classes:"",classIcon:""},xg.propTypes={active:c().bool,disabled:c().bool,classes:c().string,classIcon:c().string,setTrashStateSwap:c().func.isRequired,setAdditionStateSwap:c().func.isRequired,isAddition:c().bool,swapId:c().string.isRequired,setUserListShow:c().func.isRequired};const Sg=xg;var Og=e=>{var{swapId:t,setUserListShow:r,active:i,setTrashStateSwap:s,setAdditionStateSwap:n,disabled:a,isSelectedUserId:o,classes:l}=e,c=i?et.jh:et.Eh,d=me()({"arrow-rotate":!i,"arrow-active":i,[yg]:o}),p=me()("legend",{[l]:!!l,[vg]:a,active:i}),h={cursor:i||a?"default":"pointer"};return(0,u.jsx)("div",{className:p,onClick:()=>{if(a)return null;if(!i){var e=(0,mg.e)(t,!1),o=(0,mg.e)(t,!1),l=(0,mg.e)(t,!0);s(e),n(o),r(l)}},style:h,children:(0,u.jsx)(et.ZP,{glyph:c,classCustom:d})})};Og.defaultProps={active:!0,disabled:!1,classes:"",isSelectedUserId:!1},Og.propTypes={active:c().bool,disabled:c().bool,classes:c().string,setTrashStateSwap:c().func.isRequired,setAdditionStateSwap:c().func.isRequired,setUserListShow:c().func.isRequired,swapId:c().string.isRequired,isSelectedUserId:c().bool};const Pg=Og;var wg=e=>{var{start:t}=e,r=(0,ft.LT)(t);return(0,u.jsx)("div",{className:"date",children:r})};wg.propTypes={start:c().string.isRequired};const Cg=wg;var kg=e=>{var{color:t}=e,r={backgroundColor:t};return(0,u.jsx)("div",{className:"tc color-mg-swap-c",children:(0,u.jsx)("div",{className:"color-mg-swap",style:r})})};kg.propTypes={color:c().string.isRequired};const Tg=kg;var Ng=e=>{var{start:t,end:r,mainActivityName:i}=e,s=(0,ft.i7)(t),n=(0,ft.i7)(r),a="".concat(s," — ").concat(n);return(0,u.jsx)("div",{children:"".concat(a," | ").concat(i)})};Ng.propTypes={start:c().string.isRequired,end:c().string.isRequired,mainActivityName:c().string.isRequired};const Rg=Ng;var Eg=e=>{var{setUserIdForActivity:t,fetchStatsEstimate:r,user:{data:i,selectUserId:s},reserveAccess:n,statsIsLoading:a,getUserListForActivity:o,skillId:l,from:c,to:d,idCurrentGroup:p,swapId:h,user:f,userListIsLoading:m,estimateStatsStatus:v}=e,y=s||"";i.sort((0,X.hM)("shortName"));var g=((e,t)=>t?e:e.filter((e=>!e.additionalInfo.hasReserveSkills)))(i,n);return(0,u.jsx)(bo,{userListIsLoading:m,estimateStatsStatus:v,onInputClick:()=>{var e={from:c,to:d,groupId:p,skills:[l],id:h,userId:f.userId};o(e,(e=>{var t=e.data.map((e=>e.id));r({from:c,to:d,userIds:t,sourceUserId:f.userId})}))},onChange:e=>{t({swapId:h,userId:e})},value:y,data:g,statsIsLoading:a,showUsersWithReserveSkills:n})};Eg.defaultProps={user:{isShow:!1,data:[]},statsIsLoading:!1,userListIsLoading:!1,estimateStatsStatus:"",skillId:"",from:"",to:"",idCurrentGroup:"",fetchStatsEstimate:O.wA,getUserListForActivity:O.wA},Eg.propTypes={user:c().object,setUserIdForActivity:c().func.isRequired,swapId:c().string.isRequired,reserveAccess:c().bool.isRequired,statsIsLoading:c().bool,userListIsLoading:c().bool,estimateStatsStatus:c().string,skillId:c().string,from:c().string,to:c().string,idCurrentGroup:c().string,fetchStatsEstimate:c().func,getUserListForActivity:c().func};const Dg=Eg,Ag=(0,o.compose)((0,s.$j)(((e,t)=>({user:bm(e,t.swapId),reserveAccess:jm(e),statsIsLoading:lo(e),estimateStatsStatus:oo(e),userListIsLoading:pm(e)})),{setUserIdForActivity:Py.setUserIdForActivity,getUserListForActivity:Py.getUserListForActivity,fetchStatsEstimate:Wr.fetchStatsEstimate}))(Dg);var Mg=r(8813),Ig=e=>{var t,{start:r,user:i,end:s,mainActivityName:n,mainActivityColor:a,swapId:o,isTrash:l,skillId:c,idCurrentGroup:d,setUserListShow:p,isAddition:h,setTrashStateSwap:f,setAdditionStateSwap:m,hasScheduleChangesRights:v,disabled:y,deleteOnly:g,violations:b,isLaborCodeCheckingEnabled:x,withoutChecker:S,checked:O,setCheckedSwap:P}=e,w=i&&i.isShow&&!l&&!h,C=me()({"rrc4WHE3WQdu6ydVkIlxRw==":x&&!(0,j.xb)(b)});return(0,u.jsxs)("tr",{className:C,children:[!S&&(0,u.jsx)("td",{className:"PJXZPkarmRIcapOPRmwCNw==",children:(0,u.jsx)(Mg.Z,{onChange:e=>P({check:e,swapId:o}),checked:O,className:"ZcEBU8EgIijln0hDq2QvJA==",disabled:y})}),(0,u.jsx)("td",{className:"_9zvHdj1GBdCH6H0rd9unPw==",children:(0,u.jsx)(jg,{swapId:o,isTrash:l,disabled:!v&&!g})}),(0,u.jsx)("td",{className:S&&"_8t8j1mJPVXQUCAV6XtcVhw==",children:(0,u.jsx)(Sg,{swapId:o,active:h,setUserListShow:p,setTrashStateSwap:f,setAdditionStateSwap:m,isAddition:h,disabled:y})}),(0,u.jsx)("td",{children:(0,u.jsx)(Pg,{swapId:o,active:i.isShow,isSelectedUserId:!(0,j.xb)(i.selectUserId),setUserListShow:p,setTrashStateSwap:f,setAdditionStateSwap:m,disabled:g})}),(0,u.jsxs)("td",{children:[(0,u.jsxs)("div",{className:"text-gray item-list-addSwap",children:[(0,u.jsx)(Cg,{start:r}),(0,u.jsx)(Tg,{color:a}),(0,u.jsx)(Rg,{start:r,end:s,mainActivityName:n})]}),w&&(0,u.jsxs)("div",{className:me()("select-user","kAuUyo-Nn3PPCC1JmDM9Iw=="),children:[(0,u.jsx)(Ag,{skillId:c,from:r,to:s,idCurrentGroup:d,swapId:o,user:i}),(0,u.jsx)(Fp,{isHideMoreInfoButton:!0,violations:null===(t=b[0])||void 0===t?void 0:t.violations,containerClassNames:"_3HkCoM0sIqiEJVC01hbyig==",customPopoverStyle:{zIndex:1500}})]})]})]})};Ig.defaultProps={isTrash:!1,isAddition:!1,skillId:"",disabled:!1,isLaborCodeCheckingEnabled:!1,violations:{},withoutChecker:!1},Ig.propTypes={start:P.yb.isRequired,end:P.yb.isRequired,violations:c().object,mainActivityName:c().string.isRequired,mainActivityColor:c().string.isRequired,swapId:c().string.isRequired,isTrash:c().bool,isAddition:c().bool,skillId:P.K5,idCurrentGroup:P.K5.isRequired,setUserListShow:c().func.isRequired,user:c().shape({isShow:c().bool,data:c().array,userId:c().string,selectUserId:c().string}).isRequired,setTrashStateSwap:c().func.isRequired,setAdditionStateSwap:c().func.isRequired,hasScheduleChangesRights:c().bool.isRequired,disabled:c().bool,isLaborCodeCheckingEnabled:c().bool,deleteOnly:c().bool.isRequired,withoutChecker:c().bool,checked:c().bool.isRequired,setCheckedSwap:c().func.isRequired};const Zg=Ig,qg=(0,o.compose)((0,s.$j)(((e,t)=>{var r=(0,X.BC)((0,C.ts)(e),x.ZP.RIGHTS.ADDITIONAL_SCHEDULE,x.ZP.CRUD);return{hasScheduleChangesRights:(0,X.BC)((0,C.ts)(e),x.ZP.RIGHTS.SCHEDULE_CHANGES,x.ZP.CRUD),disabled:t.deleteOnly||!r,isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),violations:(0,K.MS)(e)}}),(e=>({setCheckedSwap:t=>e((0,Py.setCheckedSwap)(t))}))))(Zg);var Fg=e=>{var{list:t,idCurrentGroup:r,setUserListShow:i,setTrashStateSwap:s,setAdditionStateSwap:n,classContainer:a,isScroll:o,withoutChecker:l}=e,c=o?"scroll":"";return(0,u.jsx)("div",{className:a,children:(0,u.jsx)("div",{className:c,children:(0,u.jsx)("table",{className:"swap-mg-list",children:(0,u.jsx)("tbody",{children:Object.keys(t).map((e=>{var a=t[e],{view:{start:o,end:c,mainActivityName:d,mainActivityColor:p,skillId:h},isTrash:f,user:m,isAddition:v,deleteOnly:y,checked:g}=a;return(0,u.jsx)(qg,{swapId:e,start:o,end:c,mainActivityName:d,mainActivityColor:p,isTrash:f,deleteOnly:y,skillId:h,idCurrentGroup:r,user:m,setUserListShow:i,isAddition:v,setTrashStateSwap:s,setAdditionStateSwap:n,withoutChecker:l,checked:g},e)}))})})})})};Fg.defaultProps={list:{},idCurrentGroup:"",classContainer:"",isScroll:!0,withoutChecker:!1},Fg.propTypes={list:c().object,idCurrentGroup:c().string,setUserListShow:c().func.isRequired,setTrashStateSwap:c().func.isRequired,setAdditionStateSwap:c().func.isRequired,classContainer:c().string,isScroll:c().bool,withoutChecker:c().bool};const Lg=Fg;var Hg=e=>{var{idCurrentGroup:t,userId:r,withoutChecker:i}=e,n=(0,s.I0)(),a=(0,s.v9)(gm);return(0,u.jsx)(Lg,{list:a,userId:r,idCurrentGroup:t,setUserListShow:e=>n((0,Py.setUserListShow)(e)),setTrashStateSwap:e=>n((0,Py.setTrashStateSwap)(e)),setAdditionStateSwap:e=>n((0,Py.setAdditionStateSwap)(e)),withoutChecker:i})};Hg.defaultProps={withoutChecker:!1},Hg.propTypes={idCurrentGroup:c().string.isRequired,userId:c().string.isRequired,withoutChecker:c().bool};const _g=Hg;var Bg=e=>{var{groupId:t,dayStart:r,userId:i,onSuccess:n,period:a}=e,o=(0,s.I0)(),[l,c]=(0,m.useState)(!0),d=(0,s.v9)(Lu.Vc),p=(0,s.v9)(Em);(0,m.useEffect)((()=>{(0,j.xb)(p)||o((0,dy.fetchEmployee)(p))}),[p]);var h=[{title:(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.AccordTitle",defaultMessage:[{type:0,value:"Выберите сотрудника, период времени и активность"}]}),id:"panel1",content:(0,u.jsx)(Yy,{period:a}),active:!0}];return(0,u.jsxs)("div",{className:"change-wrapper",children:[(0,u.jsxs)("div",{className:"container-select-user",children:[(0,u.jsx)(oy,{items:h}),(0,u.jsxs)("div",{className:"QSIodRwSjomazwGf1HX4jA==",children:[(0,u.jsx)(Rs.XZ,{checked:l,onChange:()=>c(!l)}),(0,u.jsx)(J.Z,{id:"Graph.isConsiderTimezone",defaultMessage:[{type:0,value:"Учитывать тайм зону сотрудника"}]})]})]}),(0,u.jsx)("div",{className:"w-f-Yu6w-pefmeRQMRVy7A==",children:(0,u.jsxs)("div",{className:"container-drawer",children:[(0,u.jsx)(og,{period:a}),(0,u.jsx)(vy,{}),(0,u.jsx)(ky,{dayStart:r})]})}),(0,u.jsx)(Be.$B,{autoHide:!0,children:(0,u.jsx)(_g,{idCurrentGroup:t,userId:i,withoutChecker:!0})}),(0,u.jsx)("div",{className:"VclGHOM86TeGXSuk0rme0Q==",children:(0,u.jsx)(fg,{disabled:d,isConsiderTimezone:l,onSuccess:n})})]})};Bg.defaultProps={dayStart:"",userId:""},Bg.propTypes={groupId:c().string.isRequired,dayStart:c().string,userId:c().string,onSuccess:c().func.isRequired,period:c().object.isRequired};const Gg=Bg;var Wg=e=>{var{currentSchedule:t,groupId:r,period:i,handleBackArrow:s,updateGraph:n}=e,a=t&&t.dayStart,o=t&&t.item&&t.item.userId;return(0,u.jsx)(Gg,{groupId:r,dayStart:a,userId:o,onSuccess:()=>{n(),s()},period:i})};Wg.defaultProps={currentSchedule:{}},Wg.propTypes={handleBackArrow:c().func.isRequired,currentSchedule:c().object,groupId:c().string.isRequired,updateGraph:c().func.isRequired,period:c().object.isRequired};const Ug=Wg;function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(r),!0).forEach((function(t){Yg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Qg=(0,o.compose)((0,s.$j)((e=>({user:(0,C.ts)(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),period:Tm(e)})),{setPeriodSchedule:Mm.setPeriodSchedule,setCurrentUserFreeList:Mm.setCurrentUserFreeList,getListSwapsRequest:Py.getListSwapsRequest,clearListSwapRequests:Py.clearListSwapRequests,clearFormDetailSchedule:Mm.clearFormDetailSchedule,fetchLaborCodeViolationsByUser:da.fetchLaborCodeViolationsByUser,fetchHiredEmployeesByGroupAndPeriod:da.fetchHiredEmployeesByGroupAndPeriod,setUserFreeList:Mm.setUserFreeList},((e,t,r)=>{var{from:i,to:s,onRefresh:n}=r,{userId:a}=r.currentSchedule;return zg(zg(zg(zg({},e),t),r),{},{updateGraph:()=>{if(n({from:i,to:s}),e.isLaborCodeCheckingEnabled)return t.fetchLaborCodeViolationsByUser({from:i,to:s,userId:a})}})})),(0,U.Z)((e=>{var t,r,{props:i}=e,{currentSchedule:s,user:n,groupId:a,from:o,to:l}=i,c=s&&s.item&&s.item.userId,d=s&&s.dayStart;if(i.fetchHiredEmployeesByGroupAndPeriod({groupId:a,from:o,to:l},(e=>{i.setUserFreeList((0,Mm.getNormalizeNameUsers)(e))})),d){var u={from:t=(0,ft.b7)(d),to:r=(0,ft.iX)(d)};i.setPeriodSchedule(u)}if(c&&i.setCurrentUserFreeList(c),d&&c){var{getListSwapsRequest:p}=i,h={start:t,end:r,userId:c};(0,X.BC)(n,x.ZP.RIGHTS.ADDITIONAL_SCHEDULE)&&p(h)}})),(0,Ao.Z)((e=>{var{props:t}=e;t.clearListSwapRequests(),t.clearFormDetailSchedule()})))(Ug),Kg="_7PhJUmlkrbk68ak-TOJjmQ==",Xg="xenV5xZSEBqoouqTSMIaXQ==",Jg="_5wVjdSHCF2+UumQ6+Xsy8Q==";class $g extends m.Component{render(){return this.props.hidden?null:(0,u.jsxs)("div",{className:"fgoOvC3fpmcGOfN26nPJVQ==",children:[(0,u.jsx)(J.Z,{id:"Biometrics.biometryPoints",defaultMessage:[{type:0,value:"Отметки в биометрии"}]}),":",(0,u.jsxs)("div",{className:Xg,children:[(0,u.jsx)("div",{className:"iJioEB05kl03mtQOswZQqg=="}),(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"Biometrics.biometryPoints.hasCome",defaultMessage:[{type:0,value:"Пришёл"}]})})]}),(0,u.jsxs)("div",{className:Xg,children:[(0,u.jsx)("div",{className:"VedcKq1Jn-HTVwku26Om9A=="}),(0,u.jsx)("div",{className:"_2COg27i7HrEdiTGCH7njMQ==",children:(0,u.jsx)(J.Z,{id:"Biometrics.biometryPoints.gone",defaultMessage:[{type:0,value:"Ушёл"}]})})]})]})}}$g.propTypes={hidden:c().bool.isRequired};const eb=$g;var tb=e=>{var{setDetailsStart:t,employee:r,fetchUserSchedule:i,unselectAllCells:s,start:n,groupId:a}=e;return(0,u.jsx)(Wc,{date:n,onChange:e=>{s();var n=ns()(e,ft._E).subtract(1,"day").format(ft._E),o=(0,ft.TR)(e,36);i({userId:r.id,groupId:a,from:n,to:o},!0,(()=>{t(e)}))}})};tb.propTypes=_()({start:c().string.isRequired,employee:c().shape({id:c().string.isRequired}).isRequired,setDetailsStart:c().func.isRequired,fetchUserSchedule:c().func.isRequired,unselectAllCells:c().func.isRequired,groupId:c().string.isRequired});const rb=tb,ib=()=>{var e=(0,s.I0)(),t=(0,s.v9)(K.cY),r=(0,s.v9)(K.D3),i=(0,s.v9)(Y.Wx),n={id:r};return(0,u.jsx)(rb,{start:t,employee:n,groupId:i,setDetailsStart:t=>{e((0,da.setDetailsStart)(t))},fetchUserSchedule:(t,r,i)=>{e((0,da.fetchUserSchedule)(t,r,i))},unselectAllCells:()=>{e((0,da.unselectAllCells)())}})};var sb="2010-01-01 00:00:00 +0000",nb="2030-01-01 00:00:00 +0000";function ab(){return(0,ft.ZG)(sb)}function ob(){return(0,ft.ZG)(nb)}function lb(e,t,r){var i=(0,ft.ZG)(e);return 100*(0,X.Fv)(i,t,r)}function cb(e,t,r){var i=(0,ft.ZG)(e);return 100*(1-(0,X.Fv)(i,t,r))}class db extends m.PureComponent{render(){var{start:e}=this.props,t=(0,ft.LT)(e),r=(0,ft.TR)(e,12),i=(0,ft.LT)(r),s=t===i;return(0,u.jsxs)(u.Fragment,{children:[s&&(0,u.jsx)("div",{className:"_2JDRRmpbGLq+0DQgJifnnA==",children:t}),!s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"qALxv8zEy+XqFJb07htuHA==",children:t}),(0,u.jsx)("span",{children:"..."}),(0,u.jsx)("div",{className:"gm5swtm78orGzZR6RBH+9Q==",children:i})]})]})}}db.defaultProps={start:sb},db.propTypes={start:c().string};const ub=db;function pb(e){var{userName:t}=e;return(0,u.jsx)("div",{className:"go7FNDYlADyvx560ttJovQ==",children:(0,u.jsx)("div",{className:"DKoX68qbgYqrCT167CgP-w== overflow-hidden text-ellipsis",title:t,children:t})})}pb.defaultProps={userName:""},pb.propTypes={userName:c().string};const hb=pb,fb=(0,o.compose)((0,s.$j)((e=>({userName:(0,K.hx)(e)}))))(hb);var mb=r(3107),vb=r(40518),yb=e=>{var{from:t,setFrom:r,to:i,setTo:s}=e;return(0,u.jsxs)("div",{className:"_1Hc-8G1gTxVLEdPIZv1JKw==",children:[(0,u.jsx)("div",{className:Jg,children:(0,u.jsx)(mb.Z,{onChange:r,value:t})}),(0,u.jsx)(vb.i,{}),(0,u.jsx)("div",{className:Jg,children:(0,u.jsx)(mb.Z,{onChange:s,value:i})})]})};yb.defaultProps={from:"00:00",to:"00:00",setFrom:null,setTo:null},yb.propTypes={from:c().string,to:c().string,setFrom:c().func,setTo:c().func};const gb=yb;var bb=e=>{var{comment:t,setComment:r}=e,i=(0,er.Z)().formatMessage({id:"Details.Header.placeholder",defaultMessage:[{type:0,value:"Текст комментария"}]});return(0,u.jsx)("div",{className:me()("request-comment text-gray","aQvoNKQdCRjOJoSKVnGUSQ=="),children:(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("textarea",{maxLength:255,className:"M32iN8sq4Pw9VvJE1yTTkw==",placeholder:i,onChange:e=>{var{value:t}=e.target;r(t)},value:t})})})};bb.propTypes={comment:c().string.isRequired,setComment:c().func.isRequired};const jb=bb;var xb=r(9668),Sb=e=>{var{commentsList:t,setCheckedDeleteCheckbox:r,isCrudRights:i}=e,n=t.every((e=>e.checked));(0,m.useEffect)((()=>{t.length>0&&n?r(!0):r(!1)}),[t]);var[a,o]=(0,m.useState)(!1),l=(0,s.I0)(),c=i?"K6RB0P3i6tVPjC2w1IcYAQ==":"_5H1vATsfRZZGbJFyR7883Q==";return(0,u.jsx)("div",{className:me()(c,"scroll"),children:t.map((e=>{var t=ns()(e.dateFrom,ft._E).format(ft.wJ),r=ns()(e.dateTo,ft._E).format(ft.wJ),s=ns()(e.createdDateTime,ft._E).format(ft.pz),n=ns()(e.createdDateTime,ft._E).format(ft.wJ);return(0,u.jsxs)("div",{className:"_55szXFK5FffJEvFio-JRww==",children:[(0,u.jsxs)("div",{className:"iHs1fbiYLcG2B5dl5v+TnQ==",hidden:!i,children:[(0,u.jsx)(Rs.XZ,{checked:e.checked,onChange:()=>{return t=e.id,l((0,xb.receiveCommentsCheckBox)(t)),void o(!a);var t},disabled:!1}),"".concat(t," - ").concat(r)]}),(0,u.jsxs)("div",{className:"iiJCNqi6+vwYTw9IpVPbcQ==",children:["".concat(s," | ").concat(n),(0,u.jsx)("span",{style:{marginLeft:10},children:e.authorDisplayName})]}),(0,u.jsx)("div",{className:"fSq+LCpFkcAEzM6LaoB7-g==",title:e.comment,children:e.comment})]},e.id)}))})};Sb.defaultProps={commentsList:[],setCheckedDeleteCheckbox:null},Sb.propTypes={commentsList:c().array,setCheckedDeleteCheckbox:c().func,isCrudRights:c().bool.isRequired};const Ob=Sb;var Pb=(0,u.jsx)(J.Z,{id:"Details.Header.DeleteSelectedComments",defaultMessage:[{type:0,value:"Удалить выбранные комментарии"}]}),wb=(0,u.jsx)(J.Z,{id:"Details.Header.addCommentLabel",defaultMessage:[{type:0,value:"Добавить комментарий"}]}),Cb=e=>{var{commentsList:t,userId:r,start:i,from:n,setFrom:a,to:o,setTo:l,dataForCommentsList:c,actualFrom:d,actualTo:p,user:h}=e,f=(0,X.BC)(h,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD),v=(0,s.I0)(),[y,g]=(0,m.useState)(""),[b,S]=(0,m.useState)(!1),O=(0,u.jsx)(et.ZP,{glyph:et.dt}),P=t.some((e=>e.checked)),w=ns()(d,ft._E).format(ft._E),C=ns()(p,ft._E).format(ft._E),k=t.some((e=>ns()(e.dateFrom,ft._E).local().format(ft._E)===w&&ns()(e.dateTo,ft._E).local().format(ft._E)===C&&e.comment===y));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"_5mNl7JAMiu-7kshcgIH-8Q==",children:[(0,u.jsxs)("div",{className:"UBMbFxfXnoNAj7Z4Guvttg==",children:[(0,u.jsx)("div",{className:"lczyeYk-7nhYFugZ3wiqVg==",children:ns()(i,ft._E).format(ft.pz)}),(0,u.jsx)("div",{hidden:!f,children:(0,u.jsx)(gb,{from:n,to:o,setFrom:a,setTo:l})})]}),f&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(jb,{comment:y,setComment:g}),(0,u.jsx)("div",{className:"qjomGy9ND3q4ezijwstG+g==",children:(0,u.jsx)(Ge.Z,{onClick:()=>{var e={userId:r,dateFrom:w,dateTo:C,comment:y};g(""),v((0,xb.createComment)(e,(()=>v((0,xb.fetchCommentsList)(c)))))},icon:O,type:"transparent",caption:wb,disabled:5===n.length&&5===o.length&&n>o||!(!(0,j.xb)(y)&&!k)||void 0})}),(0,u.jsxs)("div",{className:"Vnx-w4BOA+ctk3y3-jeu6g==",children:[(0,u.jsx)(Rs.XZ,{checked:b,onChange:e=>{S(!b),v((0,xb.receiveAllCommentsCheckBox)(e))},disabled:(0,j.xb)(t)}),(0,u.jsxs)(Ae.Z,{onClick:()=>{var e=[];(e=>{t.forEach((t=>{if(t.checked){var{id:r}=t;return e.push(r)}return null}))})(e),v((0,xb.deleteSelectedComments)(e,(()=>{v((0,xb.fetchCommentsList)(c))})))},className:"j2TuX+c4bH+g6UmlflZOCQ==",disabled:!P,children:[(0,u.jsx)(et.ZP,{glyph:et.XH,style:{marginLeft:5,marginRight:10}}),Pb]})]})]})]}),(0,u.jsx)(Ob,{isCrudRights:f,commentsList:t,setCheckedDeleteCheckbox:S})]})};Cb.defaultProps={commentsList:[],userId:"",start:"",from:"00:00",setFrom:null,to:"23:59",dataForCommentsList:{},setTo:null,actualFrom:"",actualTo:""},Cb.propTypes={commentsList:c().array,userId:c().string,start:c().string,from:c().string,setFrom:c().func,to:c().string,setTo:c().func,dataForCommentsList:c().object,actualFrom:c().string,actualTo:c().string,user:c().object.isRequired};const kb=Cb;var Tb=e=>e.shiftsComments.shiftsComments,Nb=(0,Q.createSelector)(Tb,(e=>e.map((e=>{var{dateFrom:t,dateTo:r}=e;return{dateFrom:t,dateTo:r}})))),Rb=e=>{var{start:t}=e,[r,i]=(0,m.useState)(ns()(t,ft._E).format(ft.wJ)),[n,a]=(0,m.useState)(ns()(t,ft._E).local().endOf("day").format(ft.wJ)),o=(0,s.I0)(),l=(0,s.v9)(Tb),c=(0,s.v9)(K.D3),d=(0,s.v9)(C.ts),p="".concat(ns()(t,ft._E).format(ft.vc)," ").concat(r),h="".concat(ns()(t,ft._E).format(ft.vc)," ").concat(n),f={userIds:[c],from:ns()((0,ft.b7)(t),ft._E).format(ft._E),to:ns()((0,ft.iX)(t),ft._E).format(ft._E)};return(0,m.useEffect)((()=>{o((0,xb.fetchCommentsList)(f))}),[]),(0,u.jsx)(kb,{user:d,actualFrom:p,actualTo:h,dataForCommentsList:f,from:r,setFrom:i,to:n,setTo:a,start:t,userId:c,commentsList:l})};Rb.defaultProps={start:""},Rb.propTypes={start:c().string};const Eb=Rb;var Db=e=>{var{start:t,graphDateFrom:r,graphDateTo:i}=e,[n,a]=(0,m.useState)(!1),o=(0,s.I0)(),l=(0,s.v9)(Y.Wx),c=(0,s.v9)(K.Xd),d=(0,s.v9)(K.bT),p=(0,u.jsx)(J.Z,{id:"Details.Header.Comments",defaultMessage:[{type:0,value:"Комментарии"}]});return(0,u.jsxs)("div",{className:"f2YDRX1a0GnXllYfsoB52Q==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{a(!0)},children:p}),(0,u.jsx)(Ze.dy,{open:n,handleBackArrow:()=>{var e={from:r,to:(0,ft.iX)(i),groupId:l,userIds:[],filter:c,urlParams:d};a(!1),o((0,da.fetchGraphData)(e))},title:p,width:700,children:(0,u.jsx)(Eb,{start:t})})]})};Db.defaultProps={start:""},Db.propTypes={graphDateFrom:(0,zi.Z)(ft._E).isRequired,graphDateTo:(0,zi.Z)(ft._E).isRequired,start:c().string};const Ab=Db,Mb="kCUvkkFmkSnqNRWbbr5sUQ==",Ib="dj3IUmmCGVdwu-o2lZvGpA==";var Zb=r(93898);const qb="_1Z7nCHIZCy+7QrZqjDrLtQ==";class Fb extends m.PureComponent{get minStart(){var{prevStart:e,start:t}=this.props;return e<t?e:t}get count(){var{prevStart:e,start:t}=this.props,r=ns()(t,ft._E),i=ns()(e,ft._E);return Math.abs(r-i)/36e5+25}get labels(){for(var e=[],t=ns()(this.minStart,ft._E),r=0;r<this.count;r++)e.push(t.format("HH:mm")),t=t.add(1,"hour");return e}render(){var e=ns()(this.minStart,ft._E).add(this.count,"hour").format(ft._E),t={left:lb(this.minStart,ab(),ob())+"%",right:cb(e,ab(),ob())+"%"},r=me()("MkC0sSFqcpqrMaG3lay+ew==","click-through"),{timeStep:i}=this.props;return(0,u.jsx)("div",{className:r,style:t,children:this.labels.map(((e,t)=>t%i==0?(0,u.jsx)("div",{className:me()("-PhSz30tE2GnBMy9-n8nFQ==",{[qb]:1===i}),children:(0,u.jsx)("div",{className:"cn5QcMnad0UOLKOO2Ijraw==",children:e})},e.id||t):(0,u.jsx)("div",{className:me()("_4FqgLXirLJBrOe+TEN2H9Q==",{[qb]:(t+1)%i==0}),children:(0,u.jsx)("div",{className:"PEZev51zgXZ0VUH55fcCqg=="})},e.id||t)))})}}Fb.propTypes={prevStart:c().string.isRequired,start:c().string.isRequired,timeStep:c().number},Fb.defaultProps={timeStep:1};const Lb=Fb;var Hb=(0,u.jsx)(J.Z,{id:"Details.Header.ChangeLog",defaultMessage:[{type:0,value:"Изменения"}]}),_b=(0,u.jsx)(J.Z,{id:"Details.Header.ChangeLog.DateAndTime",defaultMessage:[{type:0,value:"Дата и время"}]}),Bb=(0,u.jsx)(J.Z,{id:"Details.Header.ChangeLog.AuthorPublication",defaultMessage:[{type:0,value:"Автор публикации"}]});class Gb extends m.PureComponent{constructor(e){super(e),this.startOfTime=ab(),this.endOfTime=ob()}render(){var{currentTime:e}=this.props,t=lb(e,this.startOfTime,this.endOfTime),r={left:"".concat(0-t,"%")};return(0,u.jsx)("div",{className:"yvKz9AWHywL-8UrmzbpUaQ==",children:(0,u.jsx)("div",{className:"_42H73sMG5VI7933KFCdJVQ==",style:r,children:(0,u.jsx)("div",{className:"mueln46xhCz1-8iMOxxAgQ==",children:this.props.children})})})}}Gb.propTypes={currentTime:c().string.isRequired,children:c().node.isRequired};const Wb=Gb;var Ub=r(80452),Vb=e=>{var{prevStart:t,start:r,charts:i,handleCloseChangeLog:n,groupId:a}=e,o=(0,s.I0)(),l=i.some((e=>e.checked)),c=(0,s.v9)(C.ts),d=!(0,X.BC)(c,x.ZP.RIGHTS.SCHEDULE_GENERATE)&&(0,X.BC)(c,x.ZP.RIGHTS.SCHEDULE,x.ZP.READ);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Be.ZP,{children:(0,u.jsxs)("div",{className:"oGPmJ3bNlz6mJugyRsRZHA==",children:[(0,u.jsx)("div",{className:"N-hXmjqvV-1i5RD6PSS55g==",children:(0,u.jsxs)(Wb,{currentTime:r,children:[(0,u.jsx)("div",{className:"LICZXVM9Dkgc8NW43FSt0A=="}),(0,u.jsx)(Lb,{prevStart:t,start:r,timeStep:3}),i.map(((e,t)=>{var r=0===t;return(0,u.jsx)("div",{className:me()("djcXN3aJLzUO81ua6lKf5w==",{[Ib]:e.checked,[Mb]:e.checked&&r}),children:(0,u.jsx)($a,{heightInPixels:25,readonly:!0,startSecond:ab(),endSecond:ob(),activities:e.activities})},e.recordId)}))]})}),(0,u.jsxs)("div",{className:"OOd9iGfNQf2KkNH3Dq2yEA==",children:[(0,u.jsx)("div",{className:"IODWWoMtA8WfR6K30TQL7w==",children:_b}),(0,u.jsx)("div",{children:i.map(((e,t)=>{var r=0===t;return(0,u.jsx)("div",{className:me()("bF8jdNYC3125tE4c+rE9wA==",{[Ib]:e.checked,[Mb]:e.checked&&r}),children:ns()(e.eventDate,ft._E).format(ft.Rs)},e.recordId)}))})]}),(0,u.jsxs)("div",{className:"AaAVrO80CJ23ZOSiMNHFuw==",children:[(0,u.jsx)("div",{className:"Dbh0KVT1LyFEsfHkDe5e+Q==",children:Bb}),(0,u.jsx)("div",{children:i.map(((e,t)=>{var r=0===t;return(0,u.jsx)("div",{className:me()("R9rutxmyUoxS3bFD3oOEJg==",{[Ib]:e.checked,[Mb]:e.checked&&r}),children:(0,u.jsx)("span",{children:e.respondedManager})},e.recordId)}))})]}),(0,u.jsxs)("div",{className:"fC9TUwmmAI8qf5Y+SvOJ6Q==",children:[(0,u.jsx)("div",{className:"sY6ooRA5OqKCiqajgaAwIQ=="}),(0,u.jsx)("div",{children:i.map(((e,t)=>{var r=0===t;return(0,u.jsx)("div",{className:me()("SzdCBFyofqO69M-0HsgY-A==",{[Ib]:e.checked,[Mb]:e.checked&&r}),children:(0,u.jsx)(Zb.t,{hidden:d,handler:()=>{return t=e.recordId,void o((0,Ub.checkRadioButton)(t));var t},checked:e.checked,className:"_5mT+4hog2Y-p4Vhzd2YoJA=="})},e.recordId)}))})]})]})}),(0,u.jsx)("div",{className:"sPGEfHStk4jDpOTRH4hqUA==",children:(0,u.jsx)(Ae.Z,{hidden:d,onClick:()=>{var e=i.find((e=>e.checked)),{userId:t}=e.activities[0],r=e.activities[0].start,s=(0,ft.iX)(e.activities[e.activities.length-1].end);o((0,Ub.updateUserScheduleInChangeLog)(e.activities,(()=>{n(l),o((0,da.fetchUserSchedule)({userId:t,groupId:a,from:r,to:s},!0))})))},disabled:!l,children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]})};Vb.defaultProps={charts:[]},Vb.propTypes=_()({prevStart:c().string.isRequired,start:c().string.isRequired,charts:c().array,handleCloseChangeLog:c().func.isRequired,groupId:c().string.isRequired});const zb=Vb;var Yb=e=>e.changLog.chartsInChangeLog,Qb=e=>{var{handleCloseChangeLog:t}=e,r=(0,s.v9)(K.D3),i=(0,s.v9)(K.ii),n=(0,s.v9)(K.cY),a=(0,s.v9)(K.wt),o=(0,s.v9)(Yb),l=(0,s.v9)(Y.Wx),c=(0,s.I0)();return(0,m.useEffect)((()=>(c((0,Ub.fetchCharts)({from:(0,ft.b7)(n),to:(0,ft.iX)(n),operatorId:r})),()=>c((0,Ub.resetCharts)()))),[]),(0,u.jsx)(zb,{handleCloseChangeLog:t,dispatch:c,charts:o,activities:a,start:n,prevStart:i,groupId:l})};Qb.propTypes={handleCloseChangeLog:c().func.isRequired};const Kb=Qb;var Xb=e=>{var{graphDateFrom:t,graphDateTo:r}=e,[i,n]=(0,m.useState)(!1),a=(0,s.I0)(),o=(0,s.v9)(Y.Wx),l=(0,s.v9)(K.Xd),c=(0,s.v9)(K.bT),d=i=>{var s={from:t,to:(0,ft.iX)(r),groupId:o,filter:l,urlParams:c};n(!1),e.setShouldDisableUIEvents(!1),!0===i&&a((0,da.fetchGraphData)(s))};return(0,u.jsxs)("div",{className:"iwhD3h2cID6ZwBuniEshsA==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{n(!0),e.setShouldDisableUIEvents(!0)},children:Hb}),(0,u.jsx)(Ze.dy,{open:i,handleBackArrow:d,title:Hb,width:1024,PaperProps:{className:"O0x7P3eL1w3Y3nAXuYYM5w=="},children:(0,u.jsx)(Kb,{handleCloseChangeLog:d})})]})};Xb.propTypes={graphDateFrom:(0,zi.Z)(ft._E).isRequired,graphDateTo:(0,zi.Z)(ft._E).isRequired,setShouldDisableUIEvents:c().func.isRequired};const Jb=Xb;var $b=e=>{var{userName:t,start:r,onCloseRequest:i,frontendSettings:s,graphDateFrom:n,graphDateTo:a,setShouldDisableUIEvents:o}=e,l=s.isThermometerAvailable.value;return(0,u.jsxs)("div",{className:"S0L0HjifRs34wT-o0hdDoA==",children:[(0,u.jsx)(fb,{userName:t}),(0,u.jsx)(ib,{}),(0,u.jsx)(ub,{start:r}),(0,u.jsx)(Ab,{start:r,graphDateFrom:n,graphDateTo:a}),(0,u.jsx)(Jb,{graphDateFrom:n,graphDateTo:a,setShouldDisableUIEvents:o}),(0,u.jsx)(eb,{hidden:!l}),(0,u.jsx)(Ae.Z,{onClick:i,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})})]})};$b.propTypes={graphDateFrom:(0,zi.Z)(ft._E).isRequired,graphDateTo:(0,zi.Z)(ft._E).isRequired,userName:c().string.isRequired,frontendSettings:c().object.isRequired,start:c().string.isRequired,onCloseRequest:c().func.isRequired,setShouldDisableUIEvents:c().func.isRequired};const ej=$b;class tj extends m.PureComponent{get minStart(){var{prevStart:e,start:t}=this.props;return e<t?e:t}get count(){var{prevStart:e,start:t}=this.props,r=ns()(t,ft._E),i=ns()(e,ft._E);return Math.abs(r-i)/36e5+24}get labels(){for(var e=[],t=ns()(this.minStart,ft._E),r=0;r<this.count;r++)e.push(t.format("HH:mm")),t=t.add(1,"hour");return e}render(){var e=ns()(this.minStart,ft._E).add(this.count,"hour").format(ft._E),t={left:lb(this.minStart,ab(),ob())+"%",right:cb(e,ab(),ob())+"%"},r=me()("VJNopJKxsS-vbv9rvDotyw==","click-through");return(0,u.jsx)("div",{className:r,style:t,children:this.labels.map(((e,t)=>(0,u.jsx)("div",{className:"glaPMzfRl8+ZMcRagHpP8w==",children:"00:00"!==e&&(0,u.jsx)("div",{className:"ORDT7XE6szW-RtdagiiyOQ==",children:e})},e.id||t)))})}}tj.propTypes={prevStart:c().string.isRequired,start:c().string.isRequired};const rj=tj;var ij=r(31857);function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sj(Object(r),!0).forEach((function(t){aj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oj=e=>{var{activities:t,userId:r,start:i,updateUserSchedule:n,fetchUserSchedule:a,getScheduleTableByUsers:o,intervalIsChanged:l,onScheduleChange:c,pickerPeriod:d,fetchLaborCodeViolationsByUser:p,isLaborCodeCheckingEnabled:h,prevStart:f,logs:v,violations:y,logsColorMap:g,readOnly:b,biometricPoints:j,frontendSettings:x,disabled:S,isShowLicenseModal:O,userName:P,groupId:w}=e,C=(0,s.I0)(),k=(0,s.v9)(ij.N8),[T,N]=(0,m.useState)(!1),R={from:ns()((0,ft.b7)(i),ft._E).subtract(1,"day").format(ft._E),to:(0,ft.iX)((0,ft.TR)(i,24))};(0,m.useEffect)((()=>{a(nj({userId:r,groupId:w},R)),C((0,ua.setScheduleHasBeenUpdated)(!1))}),[k]),(0,m.useEffect)((()=>N(!0)),["".concat(i).concat(P)]);var E=x.isThermometerAvailable.value;return(0,u.jsxs)("div",{className:"eB3jFLok6546PdVwaB3RKQ==",children:[T&&O&&(0,u.jsx)(Yv.Z,{onClose:()=>N(!1)}),(0,u.jsx)("div",{className:"_28+Yfz2yiK5Xs9GJIRjZHg==",children:(0,u.jsxs)(Wb,{currentTime:i,children:[(0,u.jsx)(Lm,{disabled:S,heightInPixels:21,activities:t,startSecond:ab(),endSecond:ob(),readonly:b,date:i,onScheduleChange:e=>{t.sort(Jf),e.sort(Jf),n({groupId:w,userId:r,activities:e},(()=>{a(nj({userId:r,groupId:w},R)),o({userIds:[r],groupId:w,from:d.from,to:(0,ft.b7)((0,ft.Om)(d.to))}),l(!0),c({userId:r,activities:e}),h&&p({from:d.from,to:d.to,userId:r}),N(!0)}))},onScheduleSuccess:c}),(0,u.jsx)("div",{className:"_0JSmuOptqvcUNvmGEzWRKg==",children:(0,u.jsx)(sv,{data:j,min:sb,max:nb,height:20,hidden:!E})}),(0,u.jsx)("div",{className:Kg,children:(0,u.jsx)(Xm,{min:sb,max:nb,data:v,dataConfig:Qf,colorMap:g,height:15,colorMapConfig:Kf})}),(0,u.jsx)("div",{className:Kg,children:(0,u.jsx)(Xm,{min:sb,max:nb,data:y,height:5,dataConfig:Xf})}),(0,u.jsx)(rj,{prevStart:f,start:i})]})})]})};oj.defaultProps={onScheduleChange:O.wA,getScheduleTableByUsers:O.wA,activities:[],logs:[],biometricPoints:[],violations:[],readOnly:!1,disabled:!1,userName:null},oj.propTypes=_()({prevStart:c().string.isRequired,start:c().string.isRequired,userId:P.K5.isRequired,activities:c().array,logs:c().array,biometricPoints:c().array,violations:c().array,logsColorMap:c().object.isRequired,frontendSettings:c().object.isRequired,updateUserSchedule:c().func.isRequired,fetchUserSchedule:c().func.isRequired,getScheduleTableByUsers:c().func,intervalIsChanged:c().func.isRequired,onScheduleChange:c().func,readOnly:c().bool,disabled:c().bool,pickerPeriod:c().object.isRequired,fetchLaborCodeViolationsByUser:c().func.isRequired,isLaborCodeCheckingEnabled:c().bool.isRequired,isShowLicenseModal:c().bool.isRequired,userName:c().string,groupId:c().string.isRequired});const lj=oj;function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(r),!0).forEach((function(t){uj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pj=(0,o.compose)(y.EN,(0,s.$j)((e=>({start:(0,K.cY)(e),prevStart:(0,K.ii)(e),activities:(0,K.wt)(e),logs:(0,K._J)(e),biometricPoints:(0,K.HB)(e),frontendSettings:(0,B.e0)(e),violations:(0,K.Tq)(e),logsColorMap:(0,B.Mc)(e),userId:(0,K.D3)(e),graphPeriod:(0,K.Qz)(e),scheduleControlPeriod:Ea(e),isDataUpdating:(0,K.WG)(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),isShowLicenseModal:(0,Ou.M)(e),groupId:(0,Y.Wx)(e)})),{updateUserSchedule:da.updateUserSchedule,fetchUserSchedule:da.fetchUserSchedule,getScheduleTableByUsers:da.getScheduleTableByUsers,intervalIsChanged:ua.intervalIsChanged,fetchLaborCodeViolationsByUser:da.fetchLaborCodeViolationsByUser},((e,t,r)=>{var{match:{url:i}}=r,{graphPeriod:s,scheduleControlPeriod:n}=e,a=i.split("/"),o=!(0,j.xb)(a)&&"schedule-control"===a[1];return dj(dj(dj(dj({},e),t),r),{},{pickerPeriod:o?n:s,disabled:e.frontendSettings[pa.av].value&&e.isDataUpdating})})),(0,Ci.c)(["graphPeriod","scheduleControlPeriod","isDataUpdating","history","location","match","staticContext"]))(lj);var hj=e=>{var{hidden:t,start:r,userId:i,userName:s,readOnly:n,frontendSettings:a,graphDateFrom:o,graphDateTo:l,onClose:c,isShowLicenseModal:d,onScheduleChangeSuccess:p}=e,[h,f]=(0,m.useState)(!1),v=!(0,j.xb)(i)&&!(0,j.xb)(r);return t||!v?null:(0,u.jsxs)("div",{className:me()(["gTX5o9zXvUwPUG-ag2xhIQ==",{"ysnwYHogxd65T+JtgBuTGA==":h}]),children:[d&&(0,u.jsx)(Yv.Z,{}),(0,u.jsx)(ej,{graphDateFrom:o,graphDateTo:l,userName:s,start:r,onCloseRequest:c,frontendSettings:a,setShouldDisableUIEvents:f}),(0,u.jsx)(pj,{onScheduleChange:e=>{e.userId&&p({userIds:[i]})},readOnly:n,userName:s})]})};hj.defaultProps={userName:"",graphDateFrom:"",graphDateTo:"",onClose:O.wA,start:(0,ft.zO)(),readOnly:!1,hidden:!1,userId:null},hj.propTypes=_()({graphDateFrom:(0,zi.Z)(ft._E),graphDateTo:(0,zi.Z)(ft._E),frontendSettings:c().object.isRequired,hidden:c().bool,onClose:c().func,start:P.yb,userId:P.K5,userName:c().string,onScheduleChangeSuccess:c().func.isRequired,readOnly:c().bool,isShowLicenseModal:c().bool.isRequired});const fj=hj;var mj=!1;const vj=(0,o.compose)((0,s.$j)((e=>({start:(0,K.cY)(e),userId:(0,K.D3)(e),userName:(0,K.hx)(e),frontendSettings:(0,B.e0)(e),isShowLicenseModal:(0,Ou.M)(e)})),{fetchUserStatus:Bv.fetchUserStatus}),(0,U.Z)((e=>{var{props:t}=e;!mj&&(0,j.xb)(t.telephonyStatuses)&&(t.fetchUserStatus(),mj=!0)})),(0,Ci.c)(["fetchUserStatus"]))(fj);var yj=r(47270),gj=(0,u.jsx)(J.Z,{id:"Manager.Legends.takeReserveSkills",defaultMessage:[{type:0,value:"Учитывать резервные навыки"}]}),bj=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.NoSelectAll",defaultMessage:[{type:0,value:"Удалить все смены"}]}),jj=(0,u.jsx)(J.Z,{id:"ManagerForm.additionalSchedules",defaultMessage:[{type:0,value:"Дополнительные смены"}]}),xj=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.SendSchedules",defaultMessage:[{type:0,value:"Передать смены"}]});const Sj="hc9V7W8bvnP87cv3jLYkXw==",Oj="cI0IA0xHCLb4WR7Loz7WAw==",Pj="MU3l0xhHIAt3Nv9vuj4BPw==";function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(r),!0).forEach((function(t){kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tj=e=>{var{onReserveAccess:t,onCheckAllSwaps:r,reserveAccess:i,users:n,valueChecked:a,isActiveSelectTrash:o,onSelectAllTrashItem:l,onAdditionAllCheckSwaps:c,disabledBtn:d,onGetFreeUserList:p,onAddCheckUser:h}=e,f=(0,er.Z)(),[v,y]=(0,m.useState)(null),[g,b]=(0,m.useState)(!1),[j,x]=(0,m.useState)(n),[S,O]=(0,m.useState)(!1),P=(0,s.v9)(Em),w=(0,s.v9)(Tm),C=(0,s.v9)(gm);(0,m.useEffect)((()=>{Object.values(C).some((e=>e.isAddition))?O(!0):O(!1)}),[JSON.stringify(C)]),(0,m.useEffect)((()=>{b(!1)}),[P,w,a]);var k=(0,s.v9)(Om),T=f.formatMessage({id:"ScheduleControl.SearchByEmployees",defaultMessage:[{type:0,value:"Поиск по сотрудникам"}]});return(0,m.useEffect)((()=>{var e=n.sort((0,X.hM)("fullName"));x(e.map((e=>{var t;return null!==(t=e.additionalInfo)&&void 0!==t&&t.overWork?Cj(Cj({},e),{},{contentAfterText:(0,u.jsx)("span",{style:{marginLeft:5},children:(0,u.jsx)(et.ZP,{styles:!0,glyph:et.i4,className:"DPnOlExZ+LoymAANIFQbPg=="})})}):e})))}),[n]),(0,u.jsxs)("div",{className:"_6Ckf75hh9+INSSuLGTUmIQ==",children:[(0,u.jsx)("div",{className:Sj,children:(0,u.jsx)("div",{className:"pOkdIUPHrJzZlNfKImASwQ==",children:(0,u.jsx)(Rs.XZ,{label:gj,onChange:t,checked:i})})}),(0,u.jsx)("div",{className:Sj,children:(0,u.jsxs)("div",{className:"ctQ9wlssG3-ChR8CQcFBtA==",children:[(0,u.jsx)(Rs.XZ,{onChange:r,checked:a}),(0,u.jsxs)(Ae.Z,{onClick:()=>{l(),y(null)},active:o,className:me()("_8NWWKRp4X88wR1+L4chE-w==",Oj),children:[(0,u.jsx)(et.ZP,{glyph:et.XH}),(0,u.jsx)("span",{className:Pj,children:bj})]}),(0,u.jsxs)(Ae.Z,{onClick:c,active:S,disabled:d,className:Oj,children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)("span",{className:Pj,children:jj})]}),(0,u.jsxs)("div",{className:"ZHccxr2dB4xfGY9TcsNPCQ==",children:[(0,u.jsxs)(Ae.Z,{onClick:()=>{b(!g),g||p()},disabled:d,active:g,children:[(0,u.jsx)(et.ZP,{glyph:et.NO}),(0,u.jsx)("span",{className:Pj,children:xj})]}),(0,u.jsx)(yj.Z,{itemsClassName:"W-2H21x6mBWiZoJfLYifVA==",classContainer:"aVD7EpIofFaEfNQRBHhWDw==",dataSource:j,dataSourceConfig:{value:"id",text:"fullName"},value:v,onChange:e=>{y(e),h(e)},disabled:k!==Oa.Z.succeeded||!g,hintText:T,onBlur:!0})]})]})})]})};Tj.propTypes={onReserveAccess:c().func.isRequired,onCheckAllSwaps:c().func.isRequired,reserveAccess:c().bool.isRequired,users:c().arrayOf(c().shape({additionalInfo:c().shape({hasReserveSkills:c().bool,overWork:c().bool}),firstName:c().string,fullName:c().string,id:c().string,lastName:c().string,middleName:c().string,shortName:c().string})).isRequired,valueChecked:c().bool.isRequired,isActiveSelectTrash:c().bool.isRequired,onSelectAllTrashItem:c().func.isRequired,onAdditionAllCheckSwaps:c().func.isRequired,disabledBtn:c().bool.isRequired,onGetFreeUserList:c().func.isRequired,onAddCheckUser:c().func.isRequired};const Nj=Tj;function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(r),!0).forEach((function(t){Dj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Aj=e=>{var{groupId:t}=e,r=(0,s.I0)(),i=(0,s.v9)(jm),n=(0,s.v9)(wm),a=(0,s.v9)(Dm),o=(0,s.v9)(Am),l=(0,s.v9)(gm),c=(0,s.v9)(Pm);(0,m.useEffect)((()=>()=>r((0,Py.resetFreeUserListByPeriod)())),[]);var d=wy(Object.keys(l),l);return(0,u.jsx)(Nj,{onReserveAccess:e=>r((0,Py.setReserveAccess)(e)),onCheckAllSwaps:e=>r((0,Py.setCheckAllSwaps)(e)),onSelectAllTrashItem:()=>r((0,Py.selectAllTrashItem)()),onAdditionAllCheckSwaps:()=>{r((0,Py.setAdditionAllCheckSwaps)())},onGetFreeUserList:()=>r((0,Py.getFreeUserListByPeriod)(Ej(Ej({},c),{},{groupId:t}))),onAddCheckUser:e=>r((0,Py.setUserIdForCheckedSwaps)({userId:e})),reserveAccess:i,users:n,valueChecked:a,isActiveSelectTrash:d,disabledBtn:o})};Aj.propTypes={groupId:c().string.isRequired};const Mj=Aj;var Ij=e=>{var{userId:t,groupId:r,onSuccess:i}=e;return(0,u.jsxs)("div",{className:"lEIiUgy56xlaEVHSHl02FQ==",children:[(0,u.jsx)("div",{className:"_7nIkwKSSCZk8e7aHrQvqkg==",children:(0,u.jsx)(oy,{items:[{title:(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.AccordTitle",defaultMessage:[{type:0,value:"Выберите сотрудника, период времени и активность"}]}),id:"panel1",content:(0,u.jsx)(Yy,{}),active:!0}]})}),(0,u.jsx)("div",{className:"gPexCHw1c6DVHRffB4uN8g==",children:(0,u.jsx)(og,{})}),(0,u.jsx)("div",{className:"mOPYZR7nc8KhcHFh7q7o5w==",children:(0,u.jsx)(Mj,{groupId:r})}),(0,u.jsx)(Be.$B,{autoHide:!0,children:(0,u.jsx)(_g,{idCurrentGroup:r,userId:t})}),(0,u.jsx)("footer",{className:"IAb9+lXhQPuO0+8qmt5uiQ==",children:(0,u.jsx)(fg,{onSuccess:i})})]})};Ij.propTypes={userId:c().string.isRequired,groupId:c().string.isRequired,onSuccess:c().func.isRequired};const Zj=Ij;var qj=e=>{var{userId:t,groupId:r,handleBackArrow:i}=e,n=(0,s.I0)(),{from:a,to:o}=(0,s.v9)(K.Qz),l=(0,s.v9)(Em),c=(0,s.v9)(gm),d=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled")));return(0,m.useEffect)((()=>(n((0,Mm.setCurrentUserFreeList)(t)),n((0,da.fetchHiredEmployeesByGroupAndPeriod)({from:a,to:o,groupId:r},(e=>{n((0,Mm.setUserFreeList)((0,Mm.getNormalizeNameUsers)(e)))}))),n((0,Mm.setCurrentActivity)(x.ZP.EMPTY_WORK_ACTIVITY_ID)),n((0,Mm.setPeriodSchedule)({from:a,to:(0,ft.iX)(o)})),n((0,Py.getListSwapsRequest)({start:a,end:(0,ft.iX)(o),userId:t})),()=>{n((0,Mm.clearFormDetailSchedule)()),n((0,Py.clearListSwapRequests)())})),[]),(0,u.jsx)(Zj,{userId:t,groupId:r,onSuccess:()=>{var e,s;s=[l,...(e=Object.keys(c).filter((e=>!!c[e].user.selectUserId)).map((e=>c[e].user.selectUserId)),[...new Set(e)])],n((0,da.getScheduleTableByUsers)({userIds:s,groupId:r,from:a,to:o},(()=>{n((0,da.fetchBalancerStatsByUserIds)({from:a,userIds:s,groupId:r}))}))),d&&n((0,da.fetchLaborCodeViolationsByUser)({from:a,to:o,userId:t})),i()}})};qj.defaultProps={userId:null},qj.propTypes={userId:c().string,groupId:c().string.isRequired,handleBackArrow:c().func.isRequired};const Fj=qj,Lj="Mdsz42f1Yz9oeemN6B9rbw==";var Hj=(0,u.jsx)(J.Z,{id:"Common.hide",defaultMessage:[{type:0,value:"Скрыть"}]}),_j=(0,u.jsx)(J.Z,{id:"Common.show",defaultMessage:[{type:0,value:"Показать"}]}),Bj=e=>{var{className:t}=e,r=(0,s.I0)(),i=(0,s.v9)(K.Ak);return(0,u.jsx)(Ae.Z,{onClick:()=>{r((0,da.setSkillAndOfficeListStatus)(!i))},className:t,children:i?Hj:_j})};Bj.defaultProps={className:""},Bj.propTypes={className:c().string};const Gj=Bj;var Wj=r(33143),Uj=(0,u.jsx)(J.Z,{id:"Common.neverShowAgain",defaultMessage:[{type:0,value:"Больше не показывать это сообщение"}]}),Vj=e=>{var{period:t,getScheduleRequest:r}=e,i=(0,s.I0)(),n=(0,er.Z)(),[a,o]=(0,m.useState)(!1),[l,c]=(0,m.useState)(!1),d=(0,s.v9)(K.jc),p=(0,s.v9)(K.SL),h=(0,s.v9)(K.GB),f=(0,s.v9)(K.se),v=(0,s.v9)(K.WJ),y=(0,s.v9)(K.qC),g=(0,s.v9)(K.IF),b=Object.keys(v).length,x=n.formatMessage(Wj.kv),S=n.formatMessage(Wj.Du),O="true"===Kp.Z.getItem("scheduleBlockDialogDontShowAgain"),[P,w]=(0,m.useState)(""),[C,k]=(0,m.useState)([]),[T,N]=(0,m.useState)([]),[R,E]=(0,m.useState)(""),D=()=>{i((0,da.clearScheduleSelectedCheckboxes)()),i((0,da.setSelectAllGraphCells)({selected:!1})),N([]),k([]),w(""),i((0,da.setScheduleBlockFilter)({type:"",values:[]})),i((0,da.setOpenScheduleBlockConfirm)(!1)),o(!1)};(0,m.useEffect)((()=>{f||(D(),i((0,da.setSkillAndOfficeListStatus)(!0)))}),[f]),(0,m.useEffect)((()=>{if(p.length){var{from:e,to:r}=t,s=(ns()(r,ft._E).diff(ns()(e,ft._E),"days")+1)*Object.keys(v).length;p.length===s?i((0,da.setSelectAllGraphCells)({selected:!0})):i((0,da.setSelectAllGraphCells)({selected:!1}))}}),[p.length]),(0,m.useEffect)((()=>{D()}),[b]),(0,m.useEffect)((()=>()=>{D(),i((0,da.setProhibitChangesStatus)(!1))}),[]);var A=e=>{i((0,da.shiftBlockSave)({shiftBlocks:p,isBlocked:e},(()=>{r(),D()})))},M=()=>{o(!1),i((0,da.setOpenScheduleBlockConfirm)(!1))};return f?(0,u.jsxs)("div",{className:"_6P7ZsA-NIl9UAxsUwoWqEg==",children:[(0,u.jsx)(Gj,{className:"NQEXLiDiHWSFpL3ZeCr4fw=="}),(0,u.jsx)(yj.Z,{dataSource:(0,Wj.mr)(n),dataSourceConfig:Wj.Vp,value:P,onChange:w,hintText:x,classContainer:"fAmEwzX2EbaUMSju0wy59w=="}),P===Wj.kE.PREFERENCE?(0,u.jsx)(Gl.Z,{dataSource:(0,Wj.WZ)(P,n),dataSourceConfig:{text:"text",value:"value"},values:C,onChange:e=>{k(e)},hintText:S,classContainer:Lj,onOpen:()=>{N(C)},onClose:()=>{JSON.stringify(T)!==JSON.stringify(C)&&i((0,da.setScheduleBlockFilter)({type:P,values:C}))}}):(0,u.jsx)(yj.Z,{dataSource:(0,Wj.WZ)(P,n),dataSourceConfig:Wj.Vp,value:R,onChange:E,hintText:S,classContainer:Lj}),(0,u.jsx)(Rs.XZ,{label:Wj.W8,checked:d,onChange:()=>{d?(i((0,da.clearScheduleSelectedCheckboxes)()),i((0,da.setSelectAllGraphCells)({selected:!1}))):(i((0,da.generateAllCheckedCheckboxes)({period:t,tableData:v})),i((0,da.setSelectAllGraphCells)({selected:!0})))},className:"rZ4EzLzLWRy-Ms5M-6l--A=="}),(0,u.jsx)("div",{children:"(".concat(p.length,")")}),(0,u.jsx)(Ae.Z,{onClick:()=>A(!0),className:"eahgXbr9jO4vYavN0NxZhg==",disabled:(0,j.xb)(p)||!g,children:(0,u.jsx)(J.Z,{id:"Common.block",defaultMessage:[{type:0,value:"Заблокировать"}]})}),(0,u.jsx)(Ae.Z,{onClick:()=>A(!1),className:"OeFgqGXFuzfZpYlIqkMgVw==",disabled:(0,j.xb)(p)||!y,children:(0,u.jsx)(J.Z,{id:"Common.unblock",defaultMessage:[{type:0,value:"Разблокировать"}]})}),(0,u.jsx)(Ae.Z,{onClick:()=>{p.length>0&&!O?o(!0):(o(!1),i((0,da.setProhibitChangesStatus)(!1)))},className:"wR7QXXMdS9RwFSbZB7RX+Q==",children:(0,u.jsx)(J.Z,{id:"Graph.backToGraph",defaultMessage:[{type:0,value:"Вернуться в график"}]})}),(0,u.jsx)(rn.Z,{open:a||h,onBackdropClick:M,onEscapeKeyDown:M,children:(0,u.jsxs)("div",{className:"kyi4Xj3ukLKrpszZbh9QuA==",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"iX4oORdJmGEHovlyiaQg7g==",children:(0,u.jsx)(J.Z,{id:"Graph.backToGraph",defaultMessage:[{type:0,value:"Вернуться в график"}]})}),(0,u.jsxs)("div",{className:"fTPBLSSkZJ1hfaH31vZpWQ==",children:[(0,u.jsx)(J.Z,{id:"Graph.scheduleBlockDialogMessage",defaultMessage:[{type:0,value:"Вы не выбрали блокировку или разблокировку ячеек графика. Если вернуться в график сейчас, блокировка не будет применена"}]}),(0,u.jsx)("span",{children:"."})]}),(0,u.jsx)(Ae.Z,{className:"ZWo2nv8QNtdV9L3naxx7yw==",onClick:M,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})})]}),(0,u.jsx)("div",{className:"_8gzzK3XwtVMXNarJtEtohw==",children:(0,u.jsx)(Rs.XZ,{label:Uj,onChange:()=>{c(!l),Kp.Z.setItem("scheduleBlockDialogDontShowAgain",!l)},checked:l})}),(0,u.jsxs)("div",{className:"OAMymiPt-IwxkbYfFd8HtA==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{i((0,da.setProhibitChangesStatus)(!1)),i((0,da.setOpenScheduleBlockConfirm)(!1)),o(!1)},children:(0,u.jsx)(J.Z,{id:"Graph.backToGraph",defaultMessage:[{type:0,value:"Вернуться в график"}]})}),(0,u.jsx)(Ae.Z,{onClick:M,children:(0,u.jsx)(J.Z,{id:"Graph.continueWorkWithSchedule",defaultMessage:[{type:0,value:"Продолжить работу с блокировкой"}]})})]})]})})]}):null};Vj.propTypes={period:c().shape({from:(0,zi.Z)(ft._E),to:(0,zi.Z)(ft._E)}).isRequired,getScheduleRequest:c().func.isRequired};const zj=Vj;function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yj(Object(r),!0).forEach((function(t){Kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xj=(0,m.lazy)((()=>Promise.resolve().then(r.bind(r,37361)))),Jj=(0,m.lazy)((()=>Promise.resolve().then(r.bind(r,75514)))),$j=(0,m.lazy)((()=>Promise.resolve().then(r.bind(r,6440)))),ex=(0,m.lazy)((()=>Promise.resolve().then(r.bind(r,96130))));class tx extends m.PureComponent{constructor(e){var t;super(e),t=this,Kj(this,"handleResize",(()=>{var e=document.body.clientWidth/100*50,t=document.body.clientHeight-215;this.state.nextHeight>t&&this.updateTopContentHeight(t),this.state.nextWidth>e&&this.updateUserDataColumnWidth(e)})),Kj(this,"onLeftSideWidthChange",(e=>{var{userDataColumnWidth:t}=this.props,r=document.body.clientWidth/100*50,i=t+e;this.setState({nextWidth:i}),i<yd.WZ?this.updateUserDataColumnWidth(yd.WZ):i>r?this.updateUserDataColumnWidth(r):this.updateUserDataColumnWidth(i)})),Kj(this,"onTopContentHeightChange",(e=>{var{topContentHeight:t}=this.props,r=t+e,i=document.body.clientHeight-215;this.setState({nextHeight:r}),r<yd.Xi?this.updateTopContentHeight(yd.Xi):r>i?this.updateTopContentHeight(i):this.updateTopContentHeight(r)})),Kj(this,"onBottomContentHeightChange",(e=>{_r.ZP.set("Graph.bottomContentHeight",this.state.bottomContentHeight),this.setState((t=>({bottomContentHeight:t.bottomContentHeight-e,tableColumns:[...t.tableColumns]})))})),Kj(this,"handleDateChange",(e=>{this.setState({date:e})})),Kj(this,"handleRefresh",(e=>{var{from:t,to:r}=e,{push:i,setActiveGraphPeriod:s}=this.props,n=(0,ft.iX)(r,ft._E,!1),a={from:(0,ft.X5)(t),to:(0,ft.X5)(n)};i("/schedule/graph/".concat(a.from,":").concat(a.to)),s({from:t,to:(0,ft.iX)(r)}),this.updateDataGraph(this.props.groupId,{from:t,to:r}),this.closeDetails()})),Kj(this,"onScrollRightContent",(0,Yi.D)(10,!1,(e=>{var{scrollLeft:t}=e;this.state.tableScrollLeft!==t&&this.setState({tableScrollLeft:t})}))),Kj(this,"setTableColumns",(e=>{this.setState({tableColumns:e})})),Kj(this,"updateUserDataColumnWidth",(e=>{var{setUserDataColumnWidth:t}=this.props;t(e),_r.ZP.set(yd.Q1,e)})),Kj(this,"updateTopContentHeight",(e=>{var{setTopContentHeight:t}=this.props;t(e),_r.ZP.set(yd.$I,e)})),Kj(this,"closePopup",(()=>{this.setState({openedPopupName:void 0,popupProps:void 0})})),Kj(this,"publish",(()=>{var{publishSchedule:e,groupId:t,shouldRefreshAfterPublish:r,graphDate:{from:i,to:s}}=this.props,n=(0,ft.iX)(s),[a,o]=(0,ft.ae)(i,n,!0);e(t,a,o,(()=>{r&&(this.updateDataGraph(),this.closeDetails())}))})),Kj(this,"hasShowRecalculate",(()=>{var{user:e}=this.props,t=(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD),r=(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD);return t||r||!1})),Kj(this,"hasShowAddSchedule",(()=>{var{user:e}=this.props;return(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE_GENERATE,x.ZP.CRUD)})),Kj(this,"closeDetails",(()=>{this.props.closeDetailsPopup()})),Kj(this,"handleRecalculateFTE",((e,t)=>{var{recalculateFTE:r}=this.props;r(e,t)})),Kj(this,"handleSuccessGeneratePersonalSchedule",(e=>{var{fetchGroupSchedule:t,fetchLaborCodeViolationsByUser:r,graphDate:{from:i,to:s},groupId:n,detailsUserId:a,tableFilters:o,tableUrlParams:l,isLaborCodeCheckingEnabled:c,getScheduleTableByUsers:d,fetchBalancerStatsByUserIds:u}=this.props,[p,h]=(0,ft.ae)(i,s);d({userIds:[e],groupId:n,from:i,to:(0,ft.b7)((0,ft.Om)(s))},(()=>{u({from:i,userIds:[e],groupId:n}),(0,j.xb)(a)||t({from:p,to:(0,ft.iX)(h),groupId:n,userIds:[a],filter:o,urlParams:l}),c&&r({from:p,to:(0,ft.iX)(h),userId:e})}))})),Kj(this,"updateDataGraph",(function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props.groupId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qj({},t.props.graphDate),{fetchGraphData:s,tableFilters:n,tableUrlParams:a,fetchLaborCodeViolationsByUsers:o,isLaborCodeCheckingEnabled:l,sortedByActivitiesDay:c,user:d}=t.props,{from:u,to:p}=i,h=null===(e=d.zonePeriod)||void 0===e?void 0:e.zone,f=(0,ft.iX)(p),[m,v]=(0,ft.ae)(u,f);s({from:(0,j.xb)(h)?m:(0,Qv.gX)(m,h),to:(0,j.xb)(h)?v:(0,Qv.gX)(v,h),groupId:r,userIds:[],sortByDay:c,filter:n,urlParams:a},(e=>{l&&o({userIds:e.scheduleRows.map((e=>e.id)),from:u,to:p})}))})),Kj(this,"openPopup",((e,t)=>{this.setState({openedPopupName:e,popupProps:t})})),Kj(this,"handleScheduleChange",(e=>{var{userIds:t}=e,{fetchBalancerStatsByUserIds:r,graphDate:{from:i,to:s},groupId:n,checkUnsavedChanges:a}=this.props,o=(0,ft.iX)(s),[l,c]=(0,ft.ae)(i,o,!0);r({userIds:[...new Set(t)],from:l,groupId:n}),a({from:l,to:c,groupId:n})})),Kj(this,"handleGeneratePersonalScheduleRequest",(e=>{this.setState({buildScheduleVisible:!0,buildScheduleData:e})})),Kj(this,"handleOpenChangeSchedule",(e=>{this.setState((t=>({isOpenChangeSchedule:!t.isOpenChangeSchedule,currentScheduleDrawer:e})))})),Kj(this,"handleCloseEmployeeForm",(()=>{this.setState({openedEmployeeId:null})})),Kj(this,"handleOpenEmployeeForm",(e=>{this.setState({openedEmployeeId:e})})),Kj(this,"handleOpenTransferSchedules",(e=>this.setState({openedEmployeeIdForTransferSchedules:e}))),Kj(this,"handleCloseTransferSchedules",(()=>{this.setState({openedEmployeeIdForTransferSchedules:null})})),Kj(this,"getUserColumnWidth",(()=>this.props.isShowStatByWeek?this.props.userDataColumnWidth+yd.eS:this.props.userDataColumnWidth)),Kj(this,"getGraphData",(()=>{var{graphDate:{from:e,to:t},groupId:r,fetchGraphData:i,fetchLaborCodeViolationsByUsers:s,isLaborCodeCheckingEnabled:n,tableFilters:a,sortedByActivitiesDay:o,tableUrlParams:l}=this.props,[c,d]=(0,ft.ae)(e,t);i({from:c,to:ns()(d,ft._E).add(1,"day").format(ft._E),groupId:r,userIds:[],sortByDay:o,filter:a,urlParams:l},(e=>{n&&s({userIds:e.scheduleRows.map((e=>e.id)),from:c,to:d})}))})),this.state={bottomContentHeight:_r.ZP.get("Graph.bottomContentHeight")||yd.S5,tableScrollLeft:0,nextHeight:0,nextWidth:0,tableColumns:[],showCalls:!1,buildScheduleVisible:!1,isOpenChangeSchedule:!1,currentScheduleDrawer:{},openedEmployeeId:null,date:e.graphDate,openedEmployeeIdForTransferSchedules:null}}componentDidMount(){var{graphDate:{from:e,to:t},groupId:r,fetchGraphData:i,fetchGroupSkills:s,fetchOffices:n,fetchWorkActivities:a,fetchLaborCodeViolationsByUsers:o,isLaborCodeCheckingEnabled:l,setTopContentHeight:c,setUserDataColumnWidth:d,tableFilters:u,sortedByActivitiesDay:p,tableUrlParams:h}=this.props,f=JSON.parse(Kp.Z.getItem("graphControlButtons"));(0,j.xb)(f)&&Kp.Z.setItem("graphControlButtons",JSON.stringify(Su.LN)),window.addEventListener("resize",this.handleResize);var[m,v]=(0,ft.ae)(e,(0,ft.iX)(t,ft._E,!0));s({groupId:r}),n(),a(),c((0,yd.wH)()),d((0,yd.cd)()),this.closeDetails(),i({from:m,to:v,groupId:r,userIds:[],sortByDay:p,filter:u,urlParams:Qj(Qj({},h),{},{sortName:"name",sortType:"asc"})},(e=>{l&&o({userIds:e.scheduleRows.map((e=>e.id)),from:m,to:v})}))}componentDidUpdate(e){var{isLoading:t,fetchGraphData:r,graphDate:{from:i,to:s},groupId:n,setCurrentViolationListDatePeriod:a,tableFilters:o,fetchGroupSkills:l,tableUrlParams:c,fetchLaborCodeViolationsByUsers:d,sortedByActivitiesDay:u,isLaborCodeCheckingEnabled:p,setActiveGraphPeriod:h}=this.props;i===e.graphDate.from&&s===e.graphDate.to&&n===e.groupId&&o===e.tableFilters&&c===e.tableUrlParams||(t||(l({groupId:n}),r({from:i,to:(0,ft.iX)(s),groupId:n,userIds:[],sortByDay:u,filter:o,urlParams:c},(e=>{p&&d({userIds:e.scheduleRows.map((e=>e.id)),from:i,to:s})}))),this.setState({date:{from:i,to:s}}),a({from:i,to:s})),e.groupId!==n&&this.closeDetails(),h({from:i,to:(0,ft.Om)((0,ft.CK)((0,ft.X5)(s)))})}render(){var{graphDate:{from:e,to:t},groupId:r,frontendSettings:i,push:s,intervalIsChangedState:n,user:a,isLoadingRecalculate:o,userDataColumnWidth:l,topContentHeight:c,fetchGraphData:d,isLoading:p,importSchedule:h,isShowLicenseModal:f,isShowDetail:v,skillAndOfficeListOpened:y,getScheduleTableByUsers:g,fetchBalancerStatsByUserIds:b}=this.props,[S,O]=(0,ft.ae)(e,t),{openedEmployeeId:P,tableColumns:w,tableScrollLeft:C,showCalls:k,bottomContentHeight:T}=this.state,N=this.hasShowRecalculate(),R=this.hasShowAddSchedule(),E=w.slice(1),D=(0,X.BC)(a,x.ZP.RIGHTS.FORECASTING),A=E.length*yd.dG;return(0,u.jsxs)("div",{className:"section graph",children:[f&&(0,u.jsx)(Yv.Z,{}),(0,u.jsx)(Zv,{aggregation:rs.x4,period:{from:S,to:(0,ft.iX)(O)}}),(0,u.jsx)("div",{className:me()("section_content","section__content_no-footer","flex-container","flex-container_vertical"),children:(0,u.jsxs)("div",{className:me()("flex-container","flex-container_vertical","flex-item_flexible"),style:{backgroundColor:yd._4},children:[(0,u.jsx)(m.Suspense,{fallback:yd.U7,children:(0,u.jsx)(Jj,{from:this.state.date.from,to:this.state.date.to,onDateChange:this.handleDateChange,frontendSettings:i,onRefresh:this.handleRefresh,openPopup:this.openPopup,groupId:r,fetchGraphData:d,onPublish:this.publish,push:s,intervalIsChangedState:n,recalculateFTE:this.handleRecalculateFTE,isLoadingRecalculate:o,isShowRecalculate:N,isShowAddSchedule:R,user:a,importSchedule:h})}),(0,u.jsx)(m.Suspense,{fallback:yd.U7,children:(0,u.jsx)(zj,{period:{from:e,to:t},getScheduleRequest:this.getGraphData})}),(0,u.jsxs)(Av,{children:[(0,u.jsx)(m.Suspense,{fallback:yd.U7,children:(0,u.jsx)(Xj,{height:c,chartLeftOffset:0-C,chartWidth:A,leftSideWidth:this.getUserColumnWidth(),isForecastingRights:D,mode:"period",hidden:!y})}),(0,u.jsx)(Pf,{onScroll:this.onScrollRightContent,from:e,to:t,leftSideWidth:l,onChange:this.handleScheduleChange,onChangeScheduleResponse:this.handleOpenChangeSchedule,onGeneratePersonalScheduleRequest:this.handleGeneratePersonalScheduleRequest,openEmployeeForm:this.handleOpenEmployeeForm,openTransferSchedules:this.handleOpenTransferSchedules,setTableColumns:this.setTableColumns}),v&&(0,u.jsx)(vj,{graphDateFrom:e,graphDateTo:t,onScheduleChangeSuccess:this.handleScheduleChange,onClose:this.closeDetails}),(0,u.jsx)(es,{style:{top:c},onDrag:this.onTopContentHeightChange,orientation:Xi}),(0,u.jsx)(es,{style:{left:this.getUserColumnWidth()},onDrag:this.onLeftSideWidthChange,orientation:Ji}),k&&(0,u.jsx)(es,{style:{bottom:T},onDrag:this.onBottomContentHeightChange,orientation:Xi}),(0,u.jsx)("div",{className:is.Z.graphPopups,children:(0,u.jsx)(Md.Z,{onClose:this.closePopup,componentProps:this.state.popupProps,popupName:this.state.openedPopupName,isScheduleLoading:p})})]})]})}),(0,u.jsxs)(m.Suspense,{fallback:yd.U7,children:[(0,u.jsx)($j,{show:this.state.buildScheduleVisible,onCloseRequest:()=>{this.setState({buildScheduleVisible:!1})},buildScheduleData:this.state.buildScheduleData,onChangeStartOfPeriod:e=>{this.setState((t=>({buildScheduleData:Qj(Qj({},t.buildScheduleData),{},{from:e})})))},onChangeEndOfPeriod:e=>{this.setState((t=>({buildScheduleData:Qj(Qj({},t.buildScheduleData),{},{to:e})})))},onChangeNormalize:e=>{this.setState((t=>({buildScheduleData:Qj(Qj({},t.buildScheduleData),{},{normalizeHours:e})})))},onChangePreferencePercent:e=>{this.setState((t=>({buildScheduleData:Qj(Qj({},t.buildScheduleData),{},{preferencePercent:e})})))},onSuccess:this.handleSuccessGeneratePersonalSchedule}),(0,u.jsx)(ex,{updateEmployeeCb:i=>{g({userIds:[i],groupId:r,from:e,to:t},(()=>{b({from:e,userIds:[i],groupId:r})}))},employeeId:P,closeForm:this.handleCloseEmployeeForm}),(0,u.jsx)(Ze.dy,{open:this.state.isOpenChangeSchedule,handleBackArrow:this.handleOpenChangeSchedule,title:yd.TN,width:615,children:(0,u.jsx)(Qg,{handleBackArrow:this.handleOpenChangeSchedule,currentSchedule:this.state.currentScheduleDrawer,groupId:this.props.groupId,from:S,to:O,onRefresh:this.handleRefresh})}),(0,u.jsx)(Ze.dy,{open:!(0,j.xb)(this.state.openedEmployeeIdForTransferSchedules),handleBackArrow:this.handleCloseTransferSchedules,title:yd.TN,width:800,children:(0,u.jsx)(Fj,{userId:this.state.openedEmployeeIdForTransferSchedules,groupId:this.props.groupId,handleBackArrow:this.handleCloseTransferSchedules,onRefresh:this.handleRefresh})})]})]})}}tx.defaultProps={shouldRefreshAfterPublish:!1,topContentHeight:140,userDataColumnWidth:305,isLaborCodeCheckingEnabled:!1,isShowDetail:!1,skillAndOfficeListOpened:!0,isShowStatByWeek:!1,detailsUserId:"",getScheduleTableByUsers:O.wA},tx.propTypes={groupId:c().string.isRequired,sortedByActivitiesDay:c().string.isRequired,tableFilters:ru.PX.isRequired,tableUrlParams:ru.SR.isRequired,detailsUserId:P.K5,fetchGraphData:c().func.isRequired,fetchGroupSchedule:c().func.isRequired,fetchWorkActivities:c().func.isRequired,fetchGroupSkills:c().func.isRequired,publishSchedule:c().func.isRequired,push:c().func.isRequired,user:ge.Z.isRequired,frontendSettings:c().object.isRequired,intervalIsChangedState:c().bool.isRequired,setTopContentHeight:c().func.isRequired,setUserDataColumnWidth:c().func.isRequired,setActiveGraphPeriod:c().func.isRequired,checkUnsavedChanges:c().func.isRequired,fetchBalancerStatsByUserIds:c().func.isRequired,recalculateFTE:c().func.isRequired,isLoadingRecalculate:c().bool.isRequired,userDataColumnWidth:c().number,topContentHeight:c().number,isLoading:c().bool.isRequired,closeDetailsPopup:c().func.isRequired,shouldRefreshAfterPublish:c().bool,graphDate:c().shape({from:(0,zi.Z)(ft._E),to:(0,zi.Z)(ft._E)}).isRequired,setCurrentViolationListDatePeriod:c().func.isRequired,importSchedule:c().func.isRequired,isLaborCodeCheckingEnabled:c().bool,isShowDetail:c().bool,fetchOffices:c().func.isRequired,fetchLaborCodeViolationsByUser:c().func.isRequired,isShowLicenseModal:c().bool.isRequired,isShowStatByWeek:c().bool,skillAndOfficeListOpened:c().bool,fetchLaborCodeViolationsByUsers:c().func.isRequired,getScheduleTableByUsers:c().func};const rx=tx;function ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ix(Object(r),!0).forEach((function(t){nx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ax=(0,o.compose)(y.EN,(0,s.$j)((e=>({intervalIsChangedState:e.schedule.intervalIsChanged[0]?e.schedule.intervalIsChanged[0].isChanged:null,frontendSettings:(0,B.e0)(e),user:(0,C.ts)(e),groupId:(0,Y.Wx)(e),tableUserIds:(0,K.B4)(e),sortedByActivitiesDay:(0,K.uc)(e),isShowDetail:Boolean((0,K.cY)(e)),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e),detailsUserId:(0,K.D3)(e),isLoadingRecalculate:e.schedule.isLoadingRecalculate,userDataColumnWidth:(0,K.IJ)(e),topContentHeight:(0,K.qe)(e),isLoading:(0,K.co)(e),isShowStatByWeek:(0,K.Dr)(e),shouldRefreshAfterPublish:(0,B.vH)(e,pa.Xc),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled"),isShowLicenseModal:(0,Ou.M)(e),skillAndOfficeListOpened:(0,K.Ak)(e)})),{fetchGraphData:da.fetchGraphData,fetchWorkActivities:Gv.fetchAllWorkActivities,fetchGroupSkills:da.fetchGroupSkills,fetchOffices:Wv.fetchOffices,getScheduleTableByUsers:da.getScheduleTableByUsers,fetchGroupSchedule:da.fetchGroupSchedule,publishSchedule:da.publishSchedule,checkUnsavedChanges:da.checkUnsavedChanges,recalculateFTE:ua.recalculateFTE,setUserDataColumnWidth:da.setUserDataColumnWidth,setTopContentHeight:da.setTopContentHeight,closeDetailsPopup:da.closeDetailsPopup,fetchBalancerStatsByUserIds:da.fetchBalancerStatsByUserIds,setCurrentViolationListDatePeriod:da.setCurrentViolationListDatePeriod,importSchedule:da.importSchedule,fetchLaborCodeViolationsByUsers:da.fetchLaborCodeViolationsByUsers,fetchLaborCodeViolationsByUser:da.fetchLaborCodeViolationsByUser,setActiveGraphPeriod:da.setActiveGraphPeriod}),(0,fl.G)((e=>{var t,{params:r}=e.match;return t=r.from&&r.to?{from:(0,ft.I_)(r.from),to:(0,ft.I_)(r.to)}:e.frontendSettings.isGraphStartSinceToday.value?{from:(0,ft.b7)((0,ft.zO)()),to:(0,ft.Fu)().to}:sx({},(0,ft.Fu)()),sx({push:e.history.push,graphDate:t},e)})))(rx);var ox=r(20085),lx=r(50362),cx=r(28269),dx=(e,t)=>{if(!e[cx.p9]&&!e[cx.zX]&&!e[cx.V6])return!1;switch(t){case cx.Do.success:return!e[cx.p9];case cx.Do.error:return!e[cx.zX];case cx.Do.in_work:return!e[cx.V6];default:return!0}},ux=e=>{var{statusMap:t,userId:r,day:i}=e;return(t[r]||{})[i]||{}},px=e=>(0,K.Qz)(e).from||e.kdoExport.periodStart,hx=e=>(0,K.Qz)(e).to||e.kdoExport.periodEnd,fx=e=>e.kdoExport.users,mx=(0,Q.createSelector)(fx,(e=>e.map((e=>e.id)))),vx=e=>e.kdoExport.statusMap,yx=e=>e.kdoExport.selection,gx=e=>e.kdoExport.userFilter,bx=e=>e.kdoExport.userFilterStash,jx=e=>e.kdoExport.statusFilter,xx=(0,Q.createSelector)(fx,gx,((e,t)=>((0,j.xb)(t)?e:e.filter((e=>t.includes((0,ye.Pp)(e.namePeriod))))).sort(lx.kV))),Sx=(0,Q.createSelector)(px,hx,((e,t)=>{for(var r=ns()(e,ft._E).local(),i=ns()(t,ft._E).local(),s=[null],n=r;n<=i;)s.push(n.format("YYYY-MM-DD")),n=n.add(1,"d");return s})),Ox=e=>{var{userId:t,dates:r,selection:i,shouldDisable:s=(()=>!1)}=e,n=i[t]||{};return r.slice(1).filter((e=>!s({userId:t,day:e}))).every((e=>n[e]))},Px=(e,t,r)=>{var i=r[e]||{};return t.slice(1).some((e=>i[e]))},wx=(0,Q.createSelector)(mx,Sx,yx,vx,jx,((e,t,r,i,s)=>e.every((e=>Ox({userId:e,dates:t,selection:r,shouldDisable:t=>{var{day:r}=t,{status:n}=ux({statusMap:i,userId:e,day:r});return dx(s,n)}}))))),Cx=(0,Q.createSelector)(mx,Sx,yx,((e,t,r)=>e.some((e=>Px(e,t,r)))));const kx="--dJc-ffAqDeEvjPzsjuHQ==";var Tx=()=>(0,u.jsxs)("div",{className:"ClJWelEZ+vcoBzyCOIvssA==",children:[(0,u.jsxs)("div",{className:kx,children:[(0,u.jsx)(et.ZP,{glyph:et.Ir,classCustom:"mr"}),(0,u.jsx)(J.Z,{id:"KdoExport.Uploaded",defaultMessage:[{type:0,value:"Заргуженные"}]})]}),(0,u.jsxs)("div",{className:kx,children:[(0,u.jsx)(et.ZP,{glyph:et.TX,classCustom:"mr"}),(0,u.jsx)(J.Z,{id:"KdoExport.NotLoaded",defaultMessage:[{type:0,value:"Не загруженные"}]})]}),(0,u.jsxs)("div",{className:kx,children:[(0,u.jsx)(et.ZP,{glyph:et.An,classCustom:"mr"}),(0,u.jsx)(J.Z,{id:"KdoExport.InProcess",defaultMessage:[{type:0,value:"В процессе"}]})]})]});Tx.propTypes={};const Nx=Tx;function Rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(r),!0).forEach((function(t){Dx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ax=()=>{var e=(0,s.v9)(Cx),t=(0,s.v9)(C.ts),r=(0,s.v9)(yx),i=(0,s.I0)(),n=(0,lx.Tq)(t.zonePeriod,"zone"),a=(0,s.v9)(Y.Wx),o=(0,s.v9)(px),l=(0,s.v9)(hx),c=!(0,X.BC)(t,x.ZP.RIGHTS.KDO_SCHEDULE_PUBLISH,x.ZP.CRUD)||!e,d=()=>{i((0,ox.fetchKdoStatusesByGroup)({groupId:a,from:o,to:l}))};return(0,u.jsxs)("div",{className:"Q55iG+XtuOQW2TSKl9CNbQ==",children:[(0,u.jsxs)(Ae.Z,{onClick:()=>{var e=(e=>{var{timeZone:t,selection:r}=e,i=[];return Object.keys(r).forEach((e=>{var t=r[e],s=Object.keys(t).filter((e=>t[e]));(0,j.xb)(s)||i.push({userId:e,publishDays:s})})),{zone:t,requestList:i}})({timeZone:n,selection:r}),t=e.requestList.map((e=>{var t=e.publishDays.filter((e=>"null"!==e));return Ex(Ex({},e),{},{publishDays:t})})),s=Ex(Ex({},e),{},{requestList:t});i((0,ox.publish)(s,d))},disabled:c,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,classCustom:"mr"}),(0,u.jsx)(J.Z,{id:"KdoExport.ExportToKdo",defaultMessage:[{type:0,value:"Выгрузить в КДО"}]})]}),(0,u.jsx)(Nx,{})]})},Mx="WM3a6I7T0XzwNl8Tfq5UXg==",Ix="Tug+u2DgYIntTnoTBbXVsA==";var Zx=e=>{var{columnIndex:t,intl:r,style:i}=e,n=(0,s.v9)(Sx)[t],a=(e=>{var{formatMessage:t}=e;return[t({id:"ScheduleControl.Table.Sunday",defaultMessage:[{type:0,value:"Вс"}]}),t({id:"ScheduleControl.Table.Monday",defaultMessage:[{type:0,value:"Пн"}]}),t({id:"ScheduleControl.Table.Tuesday",defaultMessage:[{type:0,value:"Вт"}]}),t({id:"ScheduleControl.Table.Wednesday",defaultMessage:[{type:0,value:"Ср"}]}),t({id:"ScheduleControl.Table.Thursday",defaultMessage:[{type:0,value:"Чт"}]}),t({id:"ScheduleControl.Table.Friday",defaultMessage:[{type:0,value:"Пт"}]}),t({id:"ScheduleControl.Table.Saturday",defaultMessage:[{type:0,value:"Сб"}]})]})(r),o=ns()(n),l=o.day(),c=0===l||6===l,d=me()("mexytAYpf2Y8hYF3Jww0oQ==",{"_0wPnR1RTul0+ZTlqN+iIPw==":c});return(0,u.jsxs)("div",{className:d,style:i,children:[(0,u.jsx)("div",{children:a[l]}),(0,u.jsx)("div",{children:o.format("DD.MM")})]})};Zx.propTypes={intl:P.gm.isRequired,style:c().object.isRequired,columnIndex:c().number.isRequired};const qx=(0,v.ZP)(Zx);var Fx={checkCells:ox.checkCells};const Lx=(0,o.compose)((0,s.$j)((e=>({userIds:mx(e),dates:Sx(e),checked:wx(e),indeterminate:Cx(e),filter:jx(e),statusMap:vx(e)})),Fx,((e,t)=>{var{userIds:r,dates:i,checked:s,indeterminate:n,filter:a,statusMap:o}=e,l=i.slice(1),c=e=>{var{userId:t,day:r}=e,{status:i}=ux({statusMap:o,userId:t,day:r});return dx(a,i)};return{onChange:e=>{t.checkCells({userIds:r,days:l,checked:e,shouldDisable:c})},checked:s,className:"Dx+HCCt+ojQWW5QeB5IvHg==",indeterminate:n}})))(Rs.XZ);var Hx=r(37297);function _x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Bx extends m.PureComponent{constructor(){super(...arguments),_x(this,"state",{open:!1,searchTerm:""}),_x(this,"createRootRef",(e=>this.rootEl=e)),_x(this,"createInputRef",(e=>this.inputEl=e)),_x(this,"toggleOpen",(()=>{var{onClose:e}=this.props;this.setState((e=>({open:!e.open})),(()=>{this.state.open||(e&&e(),this.setState({searchTerm:""}))}))})),_x(this,"handleInputChange",(e=>{var{value:t}=e.target,{onChange:r,dataSource:i,dataSourceConfig:{text:s}}=this.props;this.setState({searchTerm:t,open:!0},(()=>{if(t.length>=3){var e=this.filter(i).map((e=>e[s]));r(e)}}))})),_x(this,"handleInputKeyDown",(e=>{var{key:t}=e;"Enter"===t&&this.toggleOpen()})),_x(this,"handleListChange",(e=>{var{onChange:t}=this.props;t(e),this.inputEl.focus()})),_x(this,"filter",(e=>{var{dataSourceConfig:{text:t}}=this.props,{searchTerm:r}=this.state;return r?e.filter((e=>e[t].toLowerCase().includes(r.toLowerCase()))):e}))}render(){var{dataSource:e,dataSourceConfig:t,values:r,disables:i,dropDownHeight:s,dropDownWidth:n,hintText:a}=this.props,o=this.filter(e),l={padding:10};return n&&(l.width=n),(0,u.jsxs)("div",{ref:this.createRootRef,className:"ppZis3Yl9nJFJjgN4MlxCA==",children:[(0,u.jsx)("input",{ref:this.createInputRef,type:"text",name:"input",tabIndex:0,onClick:this.toggleOpen,autoComplete:"off",value:this.state.searchTerm,onChange:this.handleInputChange,placeholder:a,onKeyDown:this.handleInputKeyDown}),(0,u.jsx)(io.Z,{open:this.state.open,onClick:this.toggleOpen,className:"a5taTTPlGH4ic6OM9beVow=="}),(0,u.jsx)(Ns.ZP,{anchorEl:this.rootEl,open:this.state.open,onClose:this.toggleOpen,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsx)("div",{style:l,children:(0,u.jsx)(Hx.Z,{dataSource:o,dataSourceConfig:t,values:r,disables:i,sisables:r,onChange:this.handleListChange,listHeight:s})})})]})}}Bx.defaultProps={dataSource:[],values:[],disables:[],onClose:null},Bx.propTypes={dataSource:c().array,dataSourceConfig:c().object.isRequired,values:c().array,disables:c().array,onChange:c().func.isRequired,dropDownHeight:c().number.isRequired,dropDownWidth:c().number.isRequired,hintText:c().string.isRequired,onClose:c().func};const Gx=Bx;var Wx=r(63683),Ux=e=>{var{userList:t,filter:r,filterStash:i,onClear:s,setFilter:n,stashFilter:a,intl:{formatMessage:o},dropDownWidth:l}=e,c=document.body.clientHeight-290,d=i,p=(e=>{var t=[];return e.forEach((e=>{var r=(0,ye.Pp)(e.namePeriod);t.find((e=>e.name===r))||t.push({id:e.id,name:r})})),t.sort((0,X.hM)("name"))})(t),h=o({id:"ScheduleControl.SearchByEmployees",defaultMessage:[{type:0,value:"Поиск по сотрудникам"}]});return(0,u.jsxs)("div",{className:"_0P9Rq62OpKl8yZ50rzwwsQ==",children:[(0,u.jsx)(Gx,{dataSource:p,dataSourceConfig:{text:"name",value:"name"},values:r,disables:d,onChange:e=>{var t=new Set([...i,...e]);n([...t])},dropDownWidth:l,dropDownHeight:c,hintText:h,onClose:()=>{a(r)}}),(0,u.jsx)(Wx.Z,{count:r.length,clearFilter:s})]})};Ux.defaultProps={userList:[],filterStash:[],dropDownWidth:300},Ux.propTypes={userList:c().arrayOf(P.jZ),filter:c().arrayOf(P.K5).isRequired,filterStash:c().array,intl:c().object.isRequired,setFilter:c().func.isRequired,stashFilter:c().func.isRequired,onClear:c().func.isRequired,dropDownWidth:c().number};const Vx=(0,v.ZP)(Ux),zx=(0,o.compose)((0,s.$j)((e=>({userList:fx(e),filter:gx(e),filterStash:bx(e)})),(e=>({setFilter:t=>e((0,ox.setUserFilter)(t)),stashFilter:t=>e((0,ox.stashUserFilter)(t)),onClear:()=>e((0,ox.clearUserFilter)())}))))(Vx);var Yx=e=>{var t,{user:r,onDelete:i,intl:{formatMessage:n},hiddenFilter:a}=e,o=(0,s.I0)(),l=(0,ye.oo)(r.namePeriod),c=(0,ye.Pp)(r.namePeriod),d=r.positionPeriod?r.positionPeriod.name:"",{normHours:p,actualHours:h,differenceActualMinutes:f}=(0,s.v9)((t=r.id,e=>e.kdoExport.statsUserMap[t]||{})),m=(0,s.v9)((e=>(0,Q.createSelector)(Sx,vx,jx,((t,r,i)=>t.filter((t=>{var{status:s}=ux({statusMap:r,userId:e,day:t});return!dx(i,s)})))))(r.id)),v=(0,s.v9)((e=>(0,Q.createSelector)(Sx,yx,vx,jx,((t,r,i,s)=>Ox({userId:e,dates:t,selection:r,shouldDisable:t=>{var{day:r}=t,{status:n}=ux({statusMap:i,userId:e,day:r});return dx(s,n)}}))))(r.id)),y=(0,s.v9)((e=>(0,Q.createSelector)(Sx,yx,((t,r)=>Px(e,t,r))))(r.id));return(0,u.jsxs)("div",{className:"KdkhkwoHxse5ZkNUinFhdg==",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Rs.XZ,{onChange:e=>o((0,ox.checkCells)({userIds:[r.id],days:m,checked:e})),checked:v,indeterminate:y}),(0,u.jsx)(Zr.q,{userId:r.id,width:26,height:26})]}),(0,u.jsxs)("div",{className:"F1KEerP2Md3AF7HPGv5jDA==",children:[(0,u.jsx)("div",{className:"woydq11++CqE3emQ7G9bGA==",title:c,children:l}),(0,u.jsx)("div",{className:"Gfkgs1WgMzySkCCu-2YPWQ==",title:d,children:d}),(0,u.jsx)(ao,{normHours:p,actualHours:h,differenceActualMinutes:f,formatMessage:n})]}),(0,u.jsx)("div",{children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:()=>i(r),hidden:a})})]})};Yx.defaultProps={hiddenFilter:!1},Yx.propTypes={user:P.jZ.isRequired,onDelete:c().func.isRequired,hiddenFilter:c().bool,intl:P.gm.isRequired};const Qx=(0,v.ZP)(Yx);var Kx=e=>{var{rowIndex:t}=e,r=(0,s.v9)(xx),i=(0,s.v9)(gx),n=(0,s.I0)();return(0,u.jsx)(Qx,{user:r[t-1],checked:!1,onCheck:O.wA,onDelete:e=>n((0,ox.unselectUser)(e)),hiddenFilter:(0,j.xb)(i)})};Kx.propTypes={rowIndex:c().number.isRequired};const Xx=Kx;var Jx=e=>{var{period:t,acronym:r}=e;return(0,u.jsx)("div",{className:me()({"VDqV+295v-4jFhMVpEPIPw==":r,"_7FiLAX+1Rk6rGQNjKgZGjg==":!r}),children:r||t})};Jx.defaultProps={acronym:null},Jx.propTypes={acronym:c().string,period:c().string.isRequired};const $x=Jx;var eS=r(56685),tS=e=>{var{errorMessage:t,statusDate:r}=e,[i,s]=(0,m.useState)(null),n=ns()(r,ft._E),o=()=>{s(null)},l=Boolean(i);return(0,u.jsxs)("span",{onClick:e=>{s(e.currentTarget)},children:[(0,u.jsx)(et.ZP,{glyph:et.TX,classCustom:"mr"}),(0,u.jsx)(Ns.ZP,{id:"mouse-over-popover",open:l,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:o,children:(0,u.jsxs)("div",{className:"Ww+5eXMc5huDDpwzKVUWqQ==",children:[(0,u.jsxs)("div",{className:Mx,children:[(0,u.jsx)(J.Z,{id:"KdoExport.ExportError",defaultMessage:[{type:0,value:"Ошибка загрузки"}]}),(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:o})})]}),(0,u.jsx)("div",{children:n.format(ft._T)}),(0,u.jsx)("div",{children:n.format(ft.wJ)}),(0,u.jsx)("div",{children:t}),(0,u.jsx)("div",{className:Ix,children:(0,u.jsx)(a.rU,{to:"/schedule/graph",children:(0,u.jsx)(J.Z,{id:"KdoExport.GoToGraph",defaultMessage:[{type:0,value:"Перейти в расписание"}]})})})]})})]})};tS.propTypes={errorMessage:c().string.isRequired,statusDate:(0,zi.Z)(ft._E).isRequired};const rS=tS;var iS=e=>{var{statusDate:t}=e,[r,i]=(0,m.useState)(null),s=ns()(t,ft._E),n=()=>{i(null)},o=Boolean(r);return(0,u.jsxs)("span",{onClick:e=>{i(e.currentTarget)},children:[(0,u.jsx)(et.ZP,{glyph:et.Ir,classCustom:"mr"}),(0,u.jsx)(Ns.ZP,{id:"mouse-over-popover",open:o,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:n,children:(0,u.jsxs)("div",{className:"fXi9qvWF0F4E6-f6u1Y5Dg==",children:[(0,u.jsxs)("div",{className:Mx,children:[(0,u.jsx)(J.Z,{id:"KdoExport.ExportSuccess",defaultMessage:[{type:0,value:"Данные загружены"}]}),(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:n})})]}),(0,u.jsx)("div",{children:s.format(ft._T)}),(0,u.jsx)("div",{children:s.format(ft.wJ)}),(0,u.jsx)("div",{className:Ix,children:(0,u.jsx)(a.rU,{to:"/schedule/graph",children:(0,u.jsx)(J.Z,{id:"KdoExport.GoToGraph",defaultMessage:[{type:0,value:"Перейти в расписание"}]})})})]})})]})};iS.propTypes={statusDate:(0,zi.Z)(ft._E).isRequired};const sS=iS;var nS=e=>{var{status:t,color:r}=e,i={fill:r};return(0,u.jsx)("div",{className:"oyvFTji+9RVZeqE4MVJaGA==",style:i,children:(e=>{var{statusDate:t,errorMessage:r}=e;switch(e.status){case cx.Do.in_work:return(0,u.jsx)(et.ZP,{glyph:et.An});case cx.Do.success:return(0,u.jsx)(sS,{statusDate:t});case cx.Do.error:return(0,u.jsx)(rS,{errorMessage:r,statusDate:t});default:return null}})(t)})};nS.propTypes={status:c().object.isRequired,color:c().string.isRequired};const aS=nS;var oS=e=>{var{userId:t,day:r}=e,i=(0,s.v9)(((e,t)=>r=>{var i=(e=>e.kdoExport.scheduleTable)(r)[e]||{};return i[t]||{}})(t,r)),{color:n,acronym:a,period:o}=i,l=(0,X._T)(n)?"white":Qi.V$,c={backgroundColor:n,color:l},d=(0,s.I0)(),p=(0,s.v9)(((e,t)=>r=>(yx(r)[e]||{})[t]||!1)(t,r)),h=(0,s.v9)(jx),f=(0,s.v9)(((e,t)=>r=>{var i=vx(r);return ux({statusMap:i,userId:e,day:t})})(t,r)),m=dx(h,f.status),v=me()("dNfLxZpTpW9Gr3wVWMwogg==",{"Wye5eneBUBldY182JrEn9w==":(0,j.xb)(i),"xWb5q7Bhvmi79rLW+l3y8g==":m});return(0,u.jsxs)("div",{className:v,style:c,children:[(0,u.jsx)(Rs.XZ,{checked:p,onChange:e=>{d((0,ox.checkCells)({userIds:[t],days:[r],checked:e}))},disabled:m}),o&&(0,u.jsx)($x,{period:o,acronym:a}),(0,u.jsx)(aS,{status:f,color:l})]})};oS.propTypes={userId:P.K5.isRequired,day:(0,zi.Z)("YYYY-MM-DD").isRequired};const lS=(0,m.memo)(oS);var cS=e=>{var t,{rowIndex:r,columnIndex:i}=e,n=(0,s.v9)(Sx),a=(0,s.v9)(xx);return(0,u.jsx)(lS,{userId:(e=>{var t=a[e-1];return(null==t?void 0:t.id)||null})(r),day:(t=i,n[t])})};cS.propTypes={columnIndex:c().number.isRequired,rowIndex:c().number.isRequired};const dS=cS;var uS=e=>{var{columnIndex:t,rowIndex:r,style:i}=e,s=r%2==0,n=me()("c-gIqQj-907Ja1uMCGOSgQ==",{"w3hUSOZXJU5Jupsdp81cGg==":s});return 0===r?0===t?(0,u.jsxs)("div",{style:i,className:"_4J7Q9ZEXIzsrTeC4od3I3A==",children:[(0,u.jsx)(Lx,{}),(0,u.jsx)(zx,{})]}):(0,u.jsx)(qx,{columnIndex:t,style:i}):0===t?(0,u.jsx)("div",{style:i,className:n,children:(0,u.jsx)(Xx,{rowIndex:r})}):(0,u.jsx)("div",{style:i,className:n,children:(0,u.jsx)(dS,{rowIndex:r,columnIndex:t})})};uS.propTypes={columnIndex:c().number.isRequired,rowIndex:c().number.isRequired,style:c().object.isRequired};const pS=uS;function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mS=e=>(0,u.jsx)(pS,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(r),!0).forEach((function(t){fS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)),vS=e=>{var{index:t}=e;return 0===t?40:50},yS=e=>t=>{var{index:r}=t;return 0===r?e:60};const gS="ypOLnmwkm0ZnkTa+i3jwMQ==";var bS={},jS=e=>{var{rowCount:t,columnCount:r}=e,i=(0,m.useRef)(null),[s,n]=(0,m.useState)(_r.ZP.get(cx.t2,cx.eV));return(0,u.jsxs)("div",{className:"soBo7BVK5ewHOMkTsOHorg==",children:[(0,u.jsx)(bs.qj,{children:e=>{var{width:n,height:a}=e;return(0,u.jsx)(bs.yR,{ref:i,cellRenderer:mS,columnWidth:yS(s),columnCount:r,fixedColumnCount:1,fixedRowCount:1,height:a,rowHeight:vS,rowCount:t,width:n,classNameBottomLeftGrid:gS,classNameTopLeftGrid:gS,classNameTopRightGrid:"JV7KAqIjvOko-iTRMzTOHg==",classNameBottomRightGrid:"mQ4+8vYe3tab7u2LcLe3sw==",enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,enableFixedRowScroll:!1,style:bS,styleBottomLeftGrid:bS,styleBottomRightGrid:bS,styleTopLeftGrid:bS,styleTopRightGrid:bS})}}),(0,u.jsx)(es,{onDrag:e=>{var t=s+e;n(t),_r.ZP.set(cx.t2,t),i.current.recomputeGridSize({rowIndex:0})},style:{left:s}})]})};jS.propTypes={rowCount:c().number.isRequired,columnCount:c().number.isRequired};const xS=jS,SS=()=>{var e=(0,s.v9)(xx),t=(0,s.v9)(Sx),r=e.length+1;return(0,u.jsx)(xS,{rowCount:r,columnCount:t.length})},OS="-rS0+ZLCcIn7BwsRhVhu-w==";var PS=e=>{var{from:t,to:r}=e,i=ns()(t,ft._E).format("DD.MM"),s=ns()(r,ft._E).format("DD.MM.YYYY");return(0,u.jsx)("div",{className:"VXX-Dm91GEDAx4OL6tJ2xA==",children:(0,u.jsx)(J.Z,{id:"KdoExport.Period",defaultMessage:[{type:0,value:"Период "},{type:1,value:"start"},{type:0,value:"—"},{type:1,value:"end"}],values:{start:i,end:s}})})};PS.propTypes={from:c().string.isRequired,to:c().string.isRequired};const wS=PS,CS=()=>{var e=(0,s.v9)(jx),t=(0,s.I0)(),r=!e[cx.p9]&&!e[cx.zX]&&!e[cx.V6],i=(0,u.jsx)(J.Z,{id:"KdoExport.Uploaded",defaultMessage:[{type:0,value:"Загруженные"}]}),n=(0,u.jsx)(J.Z,{id:"KdoExport.NotUploaded",defaultMessage:[{type:0,value:"Не загруженные"}]}),a=(0,u.jsx)(J.Z,{id:"KdoExport.InProcess",defaultMessage:[{type:0,value:"В процессе"}]});return(0,u.jsxs)("div",{className:"n6Fyl4Jtxm37pwkqDNc0Qw==",children:[(0,u.jsx)("div",{className:OS,children:(0,u.jsx)(Ae.Z,{className:"_88PRyjD2sp8LQcArP31Sfg==",active:r,onClick:()=>{t((0,ox.setStatusFilter)({[cx.p9]:!1,[cx.zX]:!1,[cx.V6]:!1}))},children:(0,u.jsx)(J.Z,{id:"KdoExport.All",defaultMessage:[{type:0,value:"Все"}]})})}),(0,u.jsx)("div",{className:OS,children:(0,u.jsx)(Rs.XZ,{checked:e[cx.p9],onChange:e=>{t((0,ox.setStatusFilter)({[cx.p9]:e}))},label:i})}),(0,u.jsx)("div",{className:OS,children:(0,u.jsx)(Rs.XZ,{checked:e[cx.zX],onChange:e=>{t((0,ox.setStatusFilter)({[cx.zX]:e}))},label:n})}),(0,u.jsx)("div",{className:OS,children:(0,u.jsx)(Rs.XZ,{checked:e[cx.V6],onChange:e=>{t((0,ox.setStatusFilter)({[cx.V6]:e}))},label:a})})]})};var kS=e=>{var{from:t,to:r,intl:i}=e,n=(0,s.I0)(),a=(0,s.v9)(Y.Wx),o=(0,s.v9)(K.Xd),l=(0,s.v9)(K.bT),c=(0,s.v9)(K.uc),d=i.formatMessage({id:"KdoExport.refresh",defaultMessage:[{type:0,value:"Обновить данные"}]});return(0,u.jsxs)(Ae.Z,{className:"ml+ p",onClick:()=>{n((0,ox.fetchKdoStatusesByGroup)({groupId:a,from:t,to:r})),n((0,da.fetchGraphData)({groupId:a,from:t,to:r,filter:o,urlParams:l,sortByDay:c},(()=>{n((0,da.fetchGroupSchedule)({groupId:a,from:t,to:r,filter:o,urlParams:l}))})))},hint:d,children:[(0,u.jsx)(et.ZP,{glyph:et.Du}),(0,u.jsx)("span",{className:"XCcQB+22xe5reI2nwiLY6g==",children:d})]})};kS.propTypes={from:c().string.isRequired,to:c().string.isRequired,intl:c().object.isRequired};const TS=(0,v.ZP)(kS),NS=()=>{var e=(0,s.v9)(px),t=(0,s.v9)(hx);return(0,u.jsxs)("div",{className:"Ij8k0RIPIlcmXEUPr4e3bQ==",children:[(0,u.jsx)(J.Z,{id:"KdoExport.ExportingToKdo",defaultMessage:[{type:0,value:"Выгрузка в КДО"}]}),(0,u.jsx)(wS,{from:e,to:t}),(0,u.jsx)(CS,{}),(0,u.jsx)(TS,{from:e,to:t})]})},RS=()=>(0,u.jsxs)("div",{className:"oheuEFkLOPFNtZPaFTYfdw==",children:[(0,u.jsx)(NS,{}),(0,u.jsx)(SS,{}),(0,u.jsx)(Ax,{})]}),ES=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Y.Wx),r=(0,s.v9)(px),i=(0,s.v9)(hx);return(0,m.useEffect)((()=>(e((0,ox.fetchUsers)({groupId:t,from:r,to:i})),e((0,ox.fetchScheduleTable)({groupId:t,from:r,to:i})),e((0,ox.fetchStats)({groupId:t,from:r})),e((0,ox.fetchKdoStatusesByGroup)({groupId:t,from:r,to:i})),()=>e((0,ox.clearKdoExportData)()))),[e,r,t,i]),(0,s.v9)(B.e0).isKdoExportAvailable.value?(0,u.jsx)(RS,{}):null};var DS=r(92863),AS=r(17812),MS=r(9570),IS=r(33937),ZS=r(30797);J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z;var qS=(0,u.jsx)(J.Z,{id:"Common.ShortDay",defaultMessage:[{type:0,value:"д."}]}),FS=(0,u.jsx)(J.Z,{id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),LS=(0,u.jsx)(J.Z,{id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),HS=(J.Z,{id:"QueueForm.backlogHintText",defaultMessage:"Для расчета обращений с отложенной обработкой. Позволяет отобразить просроченные обращения в расчетных показателях."}),_S={id:"QueueForm.erlangHintText",defaultMessage:"Для чатов или звонков, позволяет учесть вероятностное распределение звонков."},BS={id:"QueueForm.directHintText",defaultMessage:"Для расчета потребности в текстовых каналах. Рассчитывает количество сотрудников от времени обработки."},GS={id:"QueueForm.labelSimultaneousActionsTooltip",defaultMessage:"Сколько клиентов этой очереди оператор может обрабатывать одновременно. Подходит для чатов."},WS={id:"QueueForm.descriptionTooltip",defaultMessage:'Название, которое отобразится в таблице показателей рядом с заголовком "Количество" на странице прогнозов. Например - звонков, чатов, обращений, штук'},US={id:"QueueForm.responseTimeTooltip",defaultMessage:"Время от поступления обращения, через которое обращение будет считаться просроченным"},VS={id:"QueueForm.fillTooltip",defaultMessage:"Потребность в FТЕ будет отображена только тогда, когда наберется то количество обращений, чтобы занять сотрудника минимум на шаг времени. Такую настройку можно задать для обработки e-mail обращений или для отложенной обработки очереди с малым числом обращений, чтобы использовать рабочее время сотрудника оптимально."},zS={id:"QueueForm.serviceLabelTooltip",defaultMessage:"Целевая доля клиентов, которых мы хотим обслужить в пределах времени ответа."},YS={id:"QueueForm.toleranceThresholdTimeTooltip",defaultMessage:"Предполагаемое время, когда клиент сбросит звонок (уйдет из очереди). Показатель используется для расчета процента потерянных звонков."},QS=e=>e||"";const KS="QIJiF5NwfRpgGZQtOK+ZFA==";class XS extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClear",(()=>{var{isEmptyFilter:e,cleanAllFilters:t}=this.props;e||t()}))}render(){var{label:e,numberOfItems:t,totalNumberOfItems:r,filterIsSet:i}=this.props;return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsxs)("div",{children:[t,(0,u.jsx)("span",{children:"/"}),r]}),(0,u.jsxs)(oi.Z,{style:{paddingLeft:5},disabled:!i,onClick:this.handleClear,className:"flex-container",children:[(0,u.jsx)(et.ZP,{glyph:et.Qy}),(0,u.jsx)("div",{className:"_2150Ix0tDoBxgj2Olpmemw==",children:e})]})]})}}XS.defaultProps={label:"",totalNumberOfItems:0,numberOfItems:0,isEmptyFilter:!1,filterIsSet:!1},XS.propTypes={cleanAllFilters:c().func.isRequired,numberOfItems:c().number,totalNumberOfItems:c().number,filterIsSet:c().bool,label:c().string,isEmptyFilter:c().bool};const JS=XS;var $S=r(45258),eO=r(80366),tO=r(6562),rO=r(30553),iO=r(98106),sO=e=>{var{input:t,options:r}=e,i=(0,er.Z)();return(0,u.jsx)("div",{className:"checkbox-switch-list",children:r.map((e=>{var r=(0,u.jsx)(MS.Z,{color:"primary",size:"small",checked:t.value&&-1!==t.value.indexOf(e.id),onChange:(r,i)=>{var s=[...t.value];return i?s.push(e.id):s.splice(s.indexOf(e.id),1),t.onChange(s)}});return(0,u.jsx)("div",{title:(0,iO.oY)(e,i),children:(0,u.jsx)(tO.Z,{children:(0,u.jsx)(rO.Z,{control:r,label:(0,iO.oY)(e,i)})})},e.id)}))})};const nO=sO;sO.propTypes={onChange:c().func.isRequired,options:c().array.isRequired,input:Bt.bJ.isRequired};var aO=r(8286);const oO="LFCqcYzKG3iRvmz0x4ITxQ==",lO="LjbN4PVzo1cnspskHBH4Ew==";function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cO(Object(r),!0).forEach((function(t){uO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pO extends m.Component{constructor(){super(...arguments),uO(this,"renderInput",(e=>{var t=this.props.customError||e.meta.error;if(this.props.useMui){if("datepicker"===this.props.type)return(0,u.jsxs)("div",{children:[(0,u.jsx)(mt.Z,dO(dO(dO({},e.input),this.props.inputProps),{},{date:e.input.value,textFieldStyle:dO({height:"72px",verticalAlign:"bottom"},this.props.inputProps.textFieldStyle),style:dO({display:"inline-block",verticalAlign:"bottom"},this.props.inputProps.style),dateFormat:ft.vc})),e.meta.error&&(0,u.jsx)("div",{className:"context-color_error",children:this.props.customError||e.meta.error})]});if("boolean"===this.props.type)return(0,u.jsx)(MS.Z,dO(dO(dO({},e.input),this.props.inputProps),{},{checked:e.input.value,onChange:(t,r)=>e.input.onChange(r),type:this.props.type,errorText:e.meta.error&&t}));var{disabled:r}=this.props;return(0,u.jsx)(aO.Z,dO(dO(dO({disabled:r,className:me()({"ZOSC0Eiv3wDxXFgyN9gCqQ==":this.props.removeBackground,"_6mQRCuWxEF7ju5O0gkZt6g==":this.props.inputProps.label&&("text"===this.props.type||"number"===this.props.type),"INPde2au1K64CXe102wISw==":this.props.inputProps.fullWidth})},e.input),this.props.inputProps),{},{type:this.props.type,error:e.meta.error,helperText:e.meta.error&&t,onChange:t=>{var{isWithoutSpaceInput:r}=this.props,i=r?t.target.value.trim():t.target.value;" "!==t.target.value[0]&&e.input.onChange(i)}}))}return(0,u.jsxs)("div",{className:"input-field__wrap",children:[(0,u.jsx)("input",dO(dO(dO({className:"os-input os-input_type_".concat(this.props.type||"text")},this.props.inputProps),e.input),{},{type:this.props.type})),e.meta.touched&&e.meta.error&&(0,u.jsx)("span",{className:"input-field__error",children:this.props.customError||e.meta.error})]})}))}render(){return(0,u.jsx)(_e.Z,dO(dO({},this.props),{},{component:this.renderInput}))}}pO.defaultProps={customError:"",isWithoutSpaceInput:!1,removeBackground:!1,disabled:!1},pO.propTypes={removeBackground:c().bool,disabled:c().bool,useMui:c().bool.isRequired,inputProps:c().object.isRequired,type:c().string.isRequired,customError:c().string,isWithoutSpaceInput:c().bool};const hO=pO,fO="_7K6IBIjeHYMayUEJ6t7-Wg==",mO="OsWfaNx3p9cWBJvymRQqNw==";function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vO(Object(r),!0).forEach((function(t){gO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bO extends m.Component{render(){var{handleSubmit:e,onClose:t,workActivities:r,telephonyStatuses:i,valid:s,pristine:n}=this.props;return(0,u.jsxs)("form",{onSubmit:e,className:"monitoring-settings-form",children:[(0,u.jsx)($S.Z,{position:"static",children:(0,u.jsxs)("div",{className:fO,children:[(0,u.jsx)(Mp.Z,{style:{fontSize:"18px"},children:(0,u.jsx)(J.Z,{id:"MonitoringSettingsForm.settings",defaultMessage:[{type:0,value:"Настройки"}]})}),(0,u.jsx)(Ae.Z,{onClick:t,className:mO,children:(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})})})]})}),(0,u.jsxs)("div",{className:"monitoring-settings-form__content",children:[(0,u.jsx)("div",{className:"monitoring-settings-form__content-top p",children:(0,u.jsx)(hO,{name:"seconds",type:"number",component:"input",useMui:!0,inputProps:{label:(0,u.jsx)(J.Z,{id:"MonitoringSettingsForm.toleranceThreshold",defaultMessage:[{type:0,value:"Порог терпимости"}]})}})}),(0,u.jsxs)("div",{className:"monitoring-settings-form__content-bottom",children:[(0,u.jsxs)("div",{className:"monitoring-settings-form__content-bottom-left",children:[(0,u.jsx)("div",{className:"monitoring-settings-form__content-bottom-left-header pv",children:(0,u.jsx)(J.Z,{id:"Menu.schedule",defaultMessage:[{type:0,value:"Расписание"}]})}),(0,u.jsx)("div",{className:"scrollbar pl text-ellipsis fit-parent",children:(0,u.jsx)(_e.Z,{name:"workActivities",component:e=>(0,u.jsx)(nO,yO(yO({},e),{},{options:r}))})})]}),(0,u.jsxs)("div",{className:"monitoring-settings-form__content-bottom-right",children:[(0,u.jsx)("div",{className:"monitoring-settings-form__content-bottom-right-header pv pl",children:(0,u.jsx)(J.Z,{id:"Monitoring.employeeStatus",defaultMessage:[{type:0,value:"Статус сотрудника"}]})}),(0,u.jsx)("div",{className:"scrollbar pl text-ellipsis fit-parent",children:(0,u.jsx)(_e.Z,{name:"telephonyStatuses",component:e=>(0,u.jsx)(nO,yO(yO({},e),{},{options:i}))})})]})]})]}),(0,u.jsx)("div",{className:"monitoring-settings-form__footer p+",children:(0,u.jsx)("button",{className:me()("button-icon button-icon--save",{"qFNfVwyVT305X1ntLrh82Q==":!s||n}),type:"submit",disabled:n})})]})}}bO.propTypes={handleSubmit:c().func.isRequired,onClose:c().func.isRequired,workActivities:c().object.isRequired,telephonyStatuses:c().object.isRequired,valid:c().bool.isRequired,pristine:c().bool.isRequired};const jO=bO;var xO=r(5857),SO=r(88599);function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function PO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wO=(0,u.jsx)(J.Z,{id:"EnsureRights.accessDenied"}),CO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.ZP.READ;return r=>{var i;return i=class extends m.Component{render(){var i={[x.ZP.READ]:1,[x.ZP.CRUD]:2},{role:s,rights:n}=this.props.user,a=n&&i[n[e]]||0;return s===x.ZP.ROLE.ADMINISTRATOR||a>=i[t]?(0,u.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach((function(t){PO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props)):((0,SO.x)(null,wO),null)}},PO(i,"propTypes",{user:c().shape({role:c().string.isRequired,rights:c().object.isRequired}).isRequired}),i}};CO.propTypes={rightsName:c().string.isRequired,requiredAccessLevel:c().string};const kO=CO;function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(r),!0).forEach((function(t){RO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const EO=(0,o.compose)(v.ZP,(0,s.$j)((e=>({monitoringSettings:e.monitoring.monitoringSettings,telephonyStatuses:(0,B.aH)(e),workActivities:ma(e),user:e.user})),(e=>({fetchUserStatus:()=>e((0,Bv.fetchUserStatus)()),fetchAllWorkActivities:()=>e((0,Gv.fetchAllWorkActivities)())})),((e,t,r)=>NO(NO(NO(NO({},e),t),r),{},{onSubmit:t=>{t.id=e.monitoringSettings.id,t.userId=e.monitoringSettings.userId,t.seconds=Number(t.seconds),t.telephonyStatuses=(0,j.xb)(t.telephonyStatuses)?[]:t.telephonyStatuses.filter((e=>!!e)),t.workActivities=(0,j.xb)(t.workActivities)?[]:t.workActivities.filter((e=>!!e)),r.onSave(t)}}))),kO(x.ZP.RIGHTS.MONITORING),(0,U.Z)((e=>{var{props:t}=e;t.telephonyStatuses&&0!==t.telephonyStatuses.length||t.fetchUserStatus(),t.workActivities&&0!==t.workActivities.length||t.fetchAllWorkActivities()})),(0,Fe.Z)({form:"MonitoringSettingsForm",validate:(e,t)=>(0,xO.ZP)({data:e,fields:{seconds:{moreThan:0}},intl:t.intl}).errors}))(jO);var DO=r(90794),AO=r(69554),MO=r(41067),IO=r(96501),ZO=(0,MO.V4)(),qO={value:"year",text:"year"},FO={id:"Common.Year",defaultMessage:"Год"},LO=e=>{var{value:t,onChange:r,intl:i,autoCompleteClassName:s}=e,n=i.formatMessage(FO);return(0,u.jsx)("div",{className:me()(s,IO.Z.root),children:(0,u.jsx)(yj.Z,{dataSource:ZO,dataSourceConfig:qO,value:t,onChange:r,hintText:n})})};LO.defaultProps={value:"",autoCompleteClassName:""},LO.propTypes={value:c().string,autoCompleteClassName:c().string,onChange:c().func.isRequired,intl:P.gm.isRequired};const HO=(0,v.ZP)(LO);var _O={value:"number",text:"name"},BO={id:"Common.Month",defaultMessage:"Месяц"},GO=e=>{var{value:t,onChange:r,intl:i}=e,s=i.formatMessage(BO),n=(0,MO.wH)(i.local);return(0,u.jsx)("div",{className:"IkHcCzGze1YXSi6RQp0r-A==",children:(0,u.jsx)(yj.Z,{dataSource:n,dataSourceConfig:_O,value:t,onChange:r,hintText:s})})};GO.propTypes={value:c().number.isRequired,onChange:c().func.isRequired,intl:P.gm.isRequired};const WO=(0,v.ZP)(GO);var UO=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"ifcW1vMZs7QPZtIkAVjvMQ==",children:t})};UO.propTypes={children:c().node.isRequired};const VO=UO;var zO=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"s7cEYkQ+QRJhahQL0ZsKtQ==",children:t})};zO.propTypes={children:c().node.isRequired};const YO=zO;function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(r),!0).forEach((function(t){XO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function XO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class JO extends m.Component{constructor(e){super(e),XO(this,"handleApply",(()=>{var{onChangeFilter:e,onRequestClose:t,column:r,outputFormatter:i}=this.props,{checked:s}=this.state;e({[jo.Gl.EQUALS]:(0,jo.zW)(i?s.map((e=>i(e))):s)},r),t()})),XO(this,"handleDateChange",(e=>{this.setState({date:e})})),XO(this,"handleCheck",(e=>{this.setState({checked:e})})),XO(this,"handleYearChange",(e=>{this.setState({year:e})})),XO(this,"handleMonthChange",(e=>{this.setState({month:e})})),XO(this,"rowRenderer",(e=>(0,j.xb)(e)||"null"===e?"":(0,ft.LT)(e))),this.state={checked:(0,jo.y)(e.filter),date:null,year:"",month:0}}render(){var{data:e,column:t,filteredColumnKey:r}=this.props,{month:i,year:s,date:n,checked:a}=this.state,o={text:t.key,value:t.key},l=function(e,t,r){return r?e.filter((e=>(0,ft.Vb)(e[t])===(0,ft.Vb)(r))):e}(function(e,t,r){return r?e.filter((e=>ns()(e[t]).format("YYYY")===r)):e}(function(e,t,r){return r?e.filter((e=>Number(ns()(e[t]).format("M"))===r)):e}(function(e,t){var r=[];return e.forEach((e=>{r.find((r=>(0,ft.Vb)(r[t])===(0,ft.Vb)(e[t])))||r.push(e)})),r}(e.map((e=>KO(KO({},e),{},{[t.key]:e[t.key]===x.ZP.END_OF_TIME?null:e[t.key]}))),o.value),o.value,i),o.value,s).sort(((e,t)=>null===(null==e?void 0:e[r])||ns()(e[o.value],ft._E)<ns()(t[o.value],ft._E)?-1:1)),o.value,n);return(0,u.jsxs)("div",{className:"sSTs604IOhAVJln70Tr67A==",children:[(0,u.jsxs)(VO,{children:[(0,u.jsx)(YO,{children:(0,u.jsx)(mt.Z,{date:n,onChange:this.handleDateChange,minYear:1920})}),(0,u.jsxs)(YO,{children:[(0,u.jsx)(HO,{value:s,onChange:this.handleYearChange}),(0,u.jsx)(WO,{value:i,onChange:this.handleMonthChange})]})]}),(0,u.jsx)("div",{className:"eJweYexR1tOoaK6yeVECHQ==",children:(0,u.jsx)(Hx.Z,{values:a,onChange:this.handleCheck,dataSource:l,dataSourceConfig:o,labelRenderer:this.rowRenderer})}),(0,u.jsx)("div",{className:"DNFlmCUwcxK3yLKWkAWjoA==",children:(0,u.jsx)(Ae.Z,{onClick:this.handleApply,children:(0,u.jsx)(J.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]})}}JO.defaultProps={filter:[],outputFormatter:void 0,filteredColumnKey:""},JO.propTypes={data:c().arrayOf(c().object).isRequired,column:c().instanceOf(DO.Z).isRequired,onRequestClose:c().func.isRequired,onChangeFilter:c().func.isRequired,filter:c().array,outputFormatter:c().func,filteredColumnKey:c().string};const $O=JO;function eP(e){return Number.isInteger(Number(e))?Number(e):e}var tP=r(74321);var rP=(e,t)=>(0,j.xb)(e)||(0,j.xb)(e[0])?null:e[0][t],iP=e=>{var t,r,{allElementsArray:i,nameKey:s,onContextOpen:n,row:a}=e,o=(t=i,r=s,(0,j.xb)(t)||(0,j.xb)(t[0])?[]:t.map((e=>e[r]))),l=(0,j.xb)(o)?"":o.length,c=me()({"tfhsUkt0CskGgqvZyO5PXQ==":!!l});return(0,u.jsxs)("div",{className:"fWsyzki-AbpHlk+xG+ILtw==",title:o,onContextMenu:e=>{e.preventDefault(),n(e,a)},children:[(0,u.jsx)("div",{className:"_9lJ1dQa7ivRxJrh7j+KHmQ==",children:(0,u.jsx)("div",{className:"ohzYOFa52gzjJH3ImrJbkw==",children:rP(i,s)})}),(0,u.jsx)("div",{className:c,children:l})]})};iP.defaultProps={allElementsArray:null,nameKey:"name",onContextOpen:O.wA,row:{}},iP.propTypes={allElementsArray:c().array,nameKey:c().string,onContextOpen:c().func,row:c().object};const sP=iP;var nP=e=>{var{text:t,onContextOpen:r,row:i,title:s}=e;return(0,u.jsx)("div",{className:"GHyTaM2IB9MjKPSSQmipCA==",onContextMenu:e=>{e.preventDefault(),r(e,i)},children:(0,u.jsx)("span",{className:"H1xqVXZiO7n6d68AHSRUTw==",title:s,children:t})})};nP.defaultProps={title:"",onContextOpen:O.wA,row:{}},nP.propTypes={text:c().oneOfType([c().number,c().string]).isRequired,onContextOpen:c().func,row:c().object,title:c().string};const aP=nP;var oP=e=>{var t,r,{date:i,onContextOpen:s,row:n}=e;return i===x.ZP.END_OF_TIME?(0,u.jsx)(aP,{text:"",row:n,onContextOpen:s}):(0,u.jsx)(aP,{text:(t=i,r=ns()(t,ft.zE).format(ft._T),"Invalid date"!==r?r:""),row:n,onContextOpen:s})};oP.defaultProps={date:"",onContextOpen:O.wA,row:{}},oP.propTypes={date:c().string,onContextOpen:c().func,row:c().object};const lP=oP;function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(r),!0).forEach((function(t){uP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pP="pl text-ellipsis display-block table__cell_is_editable",hP=e=>{var{intl:t,userStatusesMap:r,workActivitiesMap:i,displaySettings:s,popoverId:n,openEmployeeForm:a,hasOperatorsRights:o}=e,l=dP(dP({},s),{},{empty:!0}),c=[new DO.Z({width:250,label:iO.XY,key:"operatorName",filterable:!0,hasTitle:!1,sortable:!0,renderCell:e=>(0,u.jsx)(Rh,{hidden:!o,popoverId:n,items:(0,iO.lM)(e,{openEmployeeForm:a}),children:(0,u.jsx)(aP,{text:e.operatorName,row:e,title:e.operatorName.length<30?"":e.operatorName})})}),new DO.Z({width:150,sortable:!0,label:iO.VW,hasTitle:!1,key:"activityTime",getValue:e=>{var{activityTime:t}=e;return t},renderCell:e=>(0,u.jsx)("div",{className:tP.Z.cellContainer,children:(0,u.jsx)("span",{className:me()(tP.Z.cellStyleWithPadding,!e.permitted&&"permission-indicator__line"),children:(0,X.vA)({seconds:e.activityTime,formatMessage:t.formatMessage})})})}),new DO.Z({width:250,filterable:!0,hasTitle:!1,label:iO.M_,key:"workActivityName",getValue:e=>i[e.workActivityId]?(0,iO.oY)(i[e.workActivityId],t):iO.I$,renderCell:e=>{var r=i[e.workActivityId];if(r){var s=(0,iO.oY)(r,t);return(0,u.jsxs)("div",{className:tP.Z.cellContainer,children:[(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)("div",{className:"permission-indicator mr",children:(0,u.jsx)("span",{children:(0,u.jsx)("div",{style:{backgroundColor:r.color},className:"permission-indicator__indicator"})})})}),(0,u.jsx)("div",{className:tP.Z.cellStyle,title:s.length<30?"":s,children:s})]})}return(0,u.jsx)("div",{className:"context-color_warning",children:(0,u.jsx)("span",{className:tP.Z.cellStyle,children:iO.I$})})}}),new DO.Z({width:200,filterable:!0,hasTitle:!1,getValue:e=>r[e.telephonyStatusId]?(0,iO.oY)(r[e.telephonyStatusId],t):iO.I$,label:iO.bZ,key:"userStatusName",renderCell:e=>{var i=r[e.telephonyStatusId];return(0,u.jsxs)("div",{className:tP.Z.cellContainer,children:[i&&(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)("div",{className:"permission-indicator mr",children:(0,u.jsx)("span",{children:(0,u.jsx)("div",{style:{backgroundColor:i.color},className:"permission-indicator__indicator"})})})}),(e=>{if(e){var r=(0,iO.oY)(i,t);return(0,u.jsx)("div",{className:tP.Z.cellStyle,children:r})}return(0,u.jsx)("div",{className:"context-color_warning",children:iO.I$})})(i)]})}}),new DO.Z({key:"schemePeriods",label:iO.Gt,sortable:!0,hasTitle:!1,filterable:!0,width:290,filterComponent:AO.Z,cellContentClassName:pP,getValue:e=>{var{schemePeriods:t}=e;return null==t?void 0:t.map((e=>(0,j.xb)(e)?"":e.name.trim()))},renderCell:e=>(0,u.jsx)(sP,{allElementsArray:e.schemePeriods})}),new DO.Z({key:"personnelNumber",label:iO.qt,sortable:!0,filterable:!0,hasTitle:!1,width:200,cellContentClassName:pP,getValue:e=>{var{personnelNumber:t}=e;return null===t?"":t},renderCell:e=>{var t;return(0,u.jsx)(aP,{text:e.personnelNumber,title:(null===(t=e.personnelNumber)||void 0===t?void 0:t.length)<21?"":e.personnelNumber})}}),new DO.Z({key:"login",label:iO.k3,width:200,sortable:!0,hasTitle:!1,filterable:!0,cellContentClassName:pP,renderCell:e=>{var t;return(0,u.jsx)(aP,{text:e.login,title:(null===(t=e.login)||void 0===t?void 0:t.length)<21?"":e.login})}}),new DO.Z({key:"groupPeriod",label:iO.fR,sortable:!0,hasTitle:!1,filterable:!0,width:200,cellContentClassName:pP,getValue:e=>{var{groupPeriod:t}=e;return(0,lx.Tq)(t,"name")},renderCell:e=>{var t;return(0,u.jsx)(aP,{text:(0,lx.Tq)(e.groupPeriod,"name"),title:(null===(t=(0,lx.Tq)(e.groupPeriod,"name"))||void 0===t?void 0:t.length)<21?"":(0,lx.Tq)(e.groupPeriod,"name")})}}),new DO.Z({key:"officePeriod",label:iO.cM,width:200,sortable:!0,hasTitle:!1,filterable:!0,cellContentClassName:pP,getValue:e=>{var{officePeriod:t}=e;return(0,j.xb)(t)?"":t.name},renderCell:e=>{var t;return(0,u.jsx)(aP,{text:(0,lx.Tq)(e.officePeriod,"name"),title:(null===(t=(0,lx.Tq)(e.officePeriod,"name"))||void 0===t?void 0:t.length)<21?"":(0,lx.Tq)(e.officePeriod,"name")})}}),new DO.Z({key:"skills",label:iO.$0,sortable:!0,filterable:!0,hasTitle:!1,width:290,filterComponent:AO.Z,cellContentClassName:pP,getValue:e=>{var{skills:t}=e;return null==t?void 0:t.map((e=>{var{name:t}=e;return t}))},renderCell:e=>(0,u.jsx)(sP,{allElementsArray:e.skills})}),new DO.Z({label:iO.y4,key:"phoneNumber",sortable:!0,hasTitle:!1,filterable:!0,cellContentClassName:pP,width:200,getValue:e=>{var{phoneNumber:t}=e;return""===t?null:t},renderCell:e=>(0,u.jsx)(aP,{text:e.phoneNumber})}),new DO.Z({key:"hiringDate",label:iO.fx,width:170,sortable:!0,filterable:!0,hasTitle:!1,filterComponent:$O,cellContentClassName:pP,renderCell:e=>{var t=(0,ft.I_)(e.hiringDate);return(0,u.jsx)(lP,{date:t})}}),new DO.Z({key:"externalUserIds",label:iO.kY,sortable:!0,filterable:!0,hasTitle:!1,width:290,filterComponent:AO.Z,cellContentClassName:pP,getValue:e=>{var{externalUserIds:t}=e;return null==t?void 0:t.map((e=>{var{externalUserId:t}=e;return(0,j.xb)(t)?"":t}))},renderCell:e=>(0,u.jsx)(sP,{allElementsArray:e.externalUserIds,nameKey:"externalUserId"})}),new DO.Z({key:"normHours",label:iO.O5,width:250,sortable:!0,hasTitle:!1,filterable:!0,getValue:e=>{var{calendarPeriod:t}=e;return(0,j.xb)(t)||(0,j.xb)(t.name)?"":eP(t.name)},renderCell:e=>{var t,r,i;return(0,u.jsx)(aP,{text:null===(t=e.calendarPeriod)||void 0===t?void 0:t.name,title:(null===(r=e.calendarPeriod)||void 0===r?void 0:r.name.length)<31?"":null===(i=e.calendarPeriod)||void 0===i?void 0:i.name})}}),new DO.Z({key:"empty",label:"",width:0,autoSize:!0,renderCell:()=>(0,u.jsx)("span",{})})];return c.filter((e=>{var{key:t}=e;return l[t]}))},fP=r(55470);var mP=r(19873),vP=e=>{var{onSubmit:t,fields:r}=e,i=r.sort((0,X.hM)("label"));return(0,u.jsxs)("div",{className:"lVNxdqQHM4b6Ttr7T3hoMQ==",children:[(0,u.jsx)("div",{className:"AyjAtt+QKxkIQnwa9gQ69Q==",children:i.map((e=>(0,u.jsx)("div",{hidden:e.hidden,className:"+j2dKjE9eAZ5BFNhmeO-bw==",children:(0,u.jsx)(_e.Z,{component:fP.Z,label:e.label,disabled:e.disabled,name:e.name})},e.name)))}),(0,u.jsx)("footer",{className:"DXqmzj9OgfOawWAjZHZLSg==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:t,caption:mP.pF})})]})};vP.propTypes={onSubmit:c().func.isRequired,fields:c().arrayOf(c().shape({disabled:c().bool.isRequired,label:c().string.isRequired,name:c().string.isRequired,hidden:c().bool.isRequired,component:c().node.isRequired})).isRequired};const yP=(0,Fe.Z)({form:mP.Wj})(vP);var gP=r(42513);function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(r),!0).forEach((function(t){xP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SP=e=>e.monitoring.monitoring,OP=e=>e.monitoring.monitoringFilter,PP=e=>e.monitoring.inProgress,wP=e=>e.monitoring.displaySettings,CP=e=>e.monitoring.monitoringSettings,kP=(0,Q.createSelector)(SP,gP.getMapIdsCheckbox,OP,((e,t,r)=>{var i=e.map((e=>{var r,i=null===(r=t[e.operatorId])||void 0===r?void 0:r.employee;return jP(jP({},e),{},{schemePeriods:null==i?void 0:i.schemePeriods,personnelNumber:null==i?void 0:i.personnelNumber,login:null==i?void 0:i.login,groupPeriod:null==i?void 0:i.groupPeriod,officePeriod:null==i?void 0:i.officePeriod,skills:null==i?void 0:i.skills,phoneNumber:null==i?void 0:i.phoneNumber,hiringDate:null==i?void 0:i.hiringDate,externalUserIds:null==i?void 0:i.externalUserIds,calendarPeriod:null==i?void 0:i.calendarPeriod})}));return(0,jo.Rb)(i,r)})),TP=r(48691),NP=e=>{var{onClose:t,intl:r}=e,i=(0,s.I0)(),n=(0,s.v9)(wP),a=(0,s.v9)((e=>(0,qe.Z)(mP.Wj)(e)));return(0,m.useEffect)((()=>i((0,Qr.j2)(mP.Wj,n))),[]),(0,u.jsx)(yP,{fields:(0,mP.VN)(r),onSubmit:()=>{i((0,TP.updateDisplaySettings)(a,(()=>t())))}})};NP.propTypes={onClose:c().func.isRequired,intl:P.gm.isRequired};const RP=(0,v.ZP)(NP);function EP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class DP extends m.Component{constructor(e){super(e),EP(this,"openSettingsForm",(()=>{var{fetchMonitoringSettings:e,initializeSettingsForm:t,monitoringSettings:r}=this.props;e({},(()=>{this.setState({isSettingsEditing:!0},(()=>{t(r)}))}))})),EP(this,"closeSettingsForm",(()=>{this.setState({isSettingsEditing:!1}),this.props.resetSettingsForm()})),EP(this,"changeUpdateInterval",(e=>{var{groupId:t}=this.props;clearInterval(this.intervalFetch),this.intervalFetch=setInterval((()=>{this.state.autoUpdateEnabled&&this.props.fetchMonitoringData({id:t})}),e)})),EP(this,"handleDisplaySettingsOpen",(()=>this.setState({displaySettingsOpen:!0}))),EP(this,"handleDisplaySettingsClose",(()=>this.setState({displaySettingsOpen:!1}))),EP(this,"handleClose",(()=>this.setState({anchorEl:null}))),EP(this,"handleCloseEmployeeForm",(()=>this.setState({employeeId:null}))),EP(this,"handleFocus",(()=>{this.setState({isUpdateIntervalInputFocused:!0})})),EP(this,"handleBlur",(()=>{this.setState({isUpdateIntervalInputFocused:!1})})),this.state={isUpdateIntervalInputFocused:!1,isSettingsEditing:!1,displaySettingsOpen:!1,updateInterval:_r.ZP.get(iO.qJ)?Number(_r.ZP.get(iO.qJ)):1e4,autoUpdateEnabled:"true"===_r.ZP.get(iO.Bu),anchorEl:null,employeeId:null},this.intervalFetch=setInterval((()=>{this.state.autoUpdateEnabled&&this.props.fetchMonitoringData({id:e.groupId})}),this.state.updateInterval)}UNSAFE_componentWillReceiveProps(e){var{groupId:t,fetchMonitoringData:r,displaySettings:i,setMonitoringFilter:s,fetchEmployees:n}=this.props;e.groupId!==t&&e&&(r({id:e.groupId}),n({id:e.groupId}),this.changeUpdateInterval(this.state.updateInterval)),e.displaySettings!==i&&(r({id:e.groupId}),n({id:e.groupId}),s({}))}componentWillUnmount(){clearInterval(this.intervalFetch)}saveSettings(e){this.props.updateMonitoringSettings(e,(()=>{this.props.fetchMonitoringSettings(e,(()=>{this.closeSettingsForm()}))}))}render(){var{monitoring:e,allMonitoringLength:t,userStatusesMap:r,workActivitiesMap:i,intl:s,filters:n,setMonitoringFilter:a,displaySettings:o,isShowLicenseModal:l,user:c}=this.props,d=Object.values(n).some((e=>!(0,j.xb)(e)));if(!(0,X.BC)(this.props.user,x.ZP.RIGHTS.MONITORING))return null;var p=(0,X.BC)(c,x.ZP.RIGHTS.OPERATORS),{anchorEl:h,employeeId:f}=this.state,m=Boolean(h)?"simple-popover":void 0,v=s.formatMessage({id:"Managers.cleanAllFilters",defaultMessage:[{type:0,value:"Снять все фильтры"}]});return(0,u.jsxs)("div",{className:tP.Z.root,children:[l&&(0,u.jsx)(Yv.Z,{}),(0,u.jsxs)("div",{className:"monitoring-settings shadow-box ph+",style:{zIndex:1,display:"flex",alignContent:"flex-star",alignItems:"center"},children:[(0,u.jsxs)("div",{style:{display:"flex"},className:"inline-block inline-block_middle",children:[(0,u.jsx)(Ae.Z,{onClick:this.handleDisplaySettingsOpen,hint:s.formatMessage(iO.p_),className:tP.Z.settings,children:(0,u.jsx)(et.ZP,{glyph:et.Zr})}),(0,u.jsx)(Ae.Z,{style:{marginRight:"20px"},onClick:this.openSettingsForm,children:(0,u.jsx)(J.Z,{id:"Monitoring.settings",defaultMessage:[{type:0,value:"Настройки"}]})}),(0,u.jsx)(JS,{numberOfItems:e.length,totalNumberOfItems:t,cleanAllFilters:()=>{a({})},label:v,filterIsSet:d})]}),(0,u.jsx)("div",{className:"inline-block inline-block_middle ml++",children:(0,u.jsx)(MS.Z,{checked:this.state.autoUpdateEnabled,onClick:()=>{this.setState((e=>({autoUpdateEnabled:!e.autoUpdateEnabled})),(()=>_r.ZP.set(iO.Bu,this.state.autoUpdateEnabled)))}})}),(0,u.jsx)("div",{className:"inline-block inline-block_middle ml++",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:me()(tP.Z.label,{[tP.Z.inputFocusedLabel]:this.state.isUpdateIntervalInputFocused}),children:iO.ZP}),(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,value:QS(this.state.updateInterval/1e3),classNameInput:me()(tP.Z.textField,{[tP.Z.textFieldFocused]:this.state.isUpdateIntervalInputFocused}),onChange:e=>{this.setState({updateInterval:1e3*e})},onFocus:this.handleFocus,onBlur:this.handleBlur})]})}),(0,u.jsx)("div",{className:"inline-block inline-block_middle",children:(0,u.jsx)(AS.Z,{onClick:()=>{this.state.updateInterval/1e3<iO.N?this.setState({updateInterval:1e3*iO.N},(()=>{this.changeUpdateInterval(this.state.updateInterval)})):(this.changeUpdateInterval(this.state.updateInterval),_r.ZP.set(iO.qJ,this.state.updateInterval))},children:(0,u.jsx)(DS.Z,{className:"material-icons",children:"done"})})})]}),(0,u.jsx)(IS.G,{show:this.state.isSettingsEditing,onClose:this.closeSettingsForm,children:(0,u.jsx)(EO,{onClose:this.closeSettingsForm,onSave:e=>this.saveSettings(e)})}),(0,u.jsx)(Ze.ZP,{open:this.state.displaySettingsOpen,width:400,handleBackArrow:this.handleDisplaySettingsClose,title:iO.PF,subtitle:iO.oE,children:(0,u.jsx)(RP,{onClose:this.handleDisplaySettingsClose})}),(0,u.jsx)("div",{className:tP.Z.tableWrapper,children:(0,u.jsx)(ZS.Z,{data:e.sort(((e,t)=>{var r=e.operatorName.trim().toLowerCase().replace(/^ё/,"е"),i=t.operatorName.trim().toLowerCase().replace(/^ё/,"е");return r<i?-1:r>i?1:0})),columns:hP({intl:s,userStatusesMap:r,workActivitiesMap:i,displaySettings:o,onCloseEmployeeForm:this.handleCloseEmployeeForm,hasOperatorsRights:p,employeeId:f,popoverId:m,openEmployeeForm:e=>{this.setState({employeeId:e})}}),filters:n,setFilters:a,cellClassName:tP.Z.cell,headerCellClassName:!0,classNameBottomRightGrid:"scroll",columnsAutoWidth:!0,isAutoWidthCurrentColumn:!0,headerStyle:{paddingLeft:20}})}),(0,u.jsx)(ts.default,{employeeId:f,closeForm:this.handleCloseEmployeeForm})]})}}DP.defaultProps={monitoring:[],allMonitoringLength:0,filters:{},monitoringSettings:{}},DP.propTypes={user:ge.Z.isRequired,fetchMonitoringData:c().func.isRequired,fetchMonitoringSettings:c().func.isRequired,initializeSettingsForm:c().func.isRequired,resetSettingsForm:c().func.isRequired,updateMonitoringSettings:c().func.isRequired,workActivitiesMap:c().object.isRequired,userStatusesMap:c().object.isRequired,monitoringSettings:c().object,monitoring:c().array,allMonitoringLength:c().number,intl:P.gm.isRequired,groupId:P.K5.isRequired,filters:c().object,fetchEmployees:c().func.isRequired,setMonitoringFilter:c().func.isRequired,displaySettings:c().object.isRequired,isShowLicenseModal:c().bool.isRequired};const AP=DP;function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(r),!0).forEach((function(t){ZP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qP=(0,o.compose)((0,s.$j)((e=>({monitoring:kP(e),allMonitoringLength:SP(e).length,filters:OP(e),isLoading:PP(e),user:(0,C.ts)(e),groupId:(0,Y.Wx)(e),workActivitiesMap:ba(e),userStatusesMap:(0,B.kc)(e),displaySettings:wP(e),isShowLicenseModal:(0,Ou.M)(e),monitoringSettings:CP(e)})),(e=>({fetchAllWorkActivities:t=>e((0,Gv.fetchAllWorkActivities)(t)),fetchUserStatus:t=>e((0,Bv.fetchUserStatus)(t)),fetchMonitoringData:t=>e((0,TP.fetchMonitoringData)(t)),fetchMonitoringSettings:(t,r)=>e((0,TP.fetchMonitoringSettings)(t,r)),updateMonitoringSettings:(t,r)=>e((0,TP.updateMonitoringSettings)(t,r)),resetSettingsForm:()=>e((0,Qr.ob)("MonitoringSettingsForm")),initializeSettingsForm:t=>e((0,Qr.j2)("MonitoringSettingsForm",t)),setMonitoringFilter:t=>e((0,TP.setMonitoringFilter)(t)),fetchDisplaySettings:()=>e((0,TP.fetchDisplaySettings)()),fetchEmployees:t=>e((0,dy.fetchEmployees)(t))})),((e,t,r)=>IP(IP(IP(IP({},e),t),r),{},{fetchMonitoringData:r=>{e.inProgress||t.fetchMonitoringData(r)}}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchEmployees({id:t.groupId}),(0,j.xb)(t.monitoringSettings)&&t.fetchMonitoringSettings(),(0,j.xb)(t.workActivitiesMap)&&t.fetchAllWorkActivities(),(0,j.xb)(t.telephonyStatusesMap)&&t.fetchUserStatus(),t.fetchMonitoringData({id:t.groupId}),t.fetchDisplaySettings()})),v.ZP)(AP);var FP=r(24928),LP=r(44007),HP=e=>{var{params:t,onClick:r,isActive:i,isShow:s}=e,n=(0,er.Z)();if(!s)return null;var a=n.formatMessage({id:"Operator.SwapTable.RefreshList",defaultMessage:[{type:0,value:"Обновить список"}]}),o=me()({success:i,disabled:!i});return(0,u.jsx)(Ae.Z,{onClick:()=>{i&&r(t)},className:"icon",disabled:!i,hint:a,children:(0,u.jsx)(et.ZP,{glyph:LP.Z.id,classCustom:o})})};HP.defaultProps={params:{},isActive:!0,isShow:!0,onClick:O.wA},HP.propTypes={onClick:c().func,isActive:c().bool,isShow:c().bool,params:c().object};const _P=HP;class BP extends m.PureComponent{render(){var{isActive:e=!0,onClick:t,filter:r}=this.props;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("span",{className:"ujcOvdOGdnhbdsODTUyrwg==",children:(0,u.jsx)(_P,{onClick:t,isActive:e,params:r})})})}}BP.propTypes={isActive:c().bool.isRequired,onClick:c().func.isRequired,filter:c().object.isRequired};const GP=BP;class WP extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{activeCheck:e,keyCheck:t}=this.props;e({key:t,value:!0})}))}render(){var{title:e,active:t,hidden:r}=this.props,i=me()("bM+K2HCkYO+bW1zulhyyyA==",{active:t});return r?null:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("span",{onClick:this.handleClick,className:i,children:e})})}}WP.defaultProps={activeCheck:null,keyCheck:"",title:null,active:!1,hidden:!1},WP.propTypes={activeCheck:c().func,keyCheck:c().string,title:c().node,active:c().bool,hidden:c().bool};const UP=WP;var VP=r(92879),zP="stop-click";function YP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zP;do{if(e.classList&&e.classList.contains(t))return!0;e=e.parentNode}while(e);return!1}var QP=e=>{var{isActive:t,colorClass:r,customClass:i,title:n,laborCodeViolations:a}=e,o=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),l=me()("flex-container text-ellipsis pv custom-cell bb-dot",{disabled:!t,[r]:!!r,[i]:!!i,"ACLsm-7GXvLFDBJXpX-i5A==":o&&!(0,j.xb)(a)});return(0,u.jsx)("div",{className:l,title:n,children:(0,u.jsx)("div",{className:"gGAJUNY9b6+pU5qBIFS4KA==",children:n})})};QP.defaultProps={isActive:!0,title:"",customClass:"",colorClass:"",laborCodeViolations:{}},QP.propTypes={title:c().oneOfType([c().string,c().node]),colorClass:c().string,customClass:c().string,isActive:c().bool,laborCodeViolations:c().object};const KP=QP;var XP=e=>{var{isActive:t,colorClass:r,normHours:i,actualHours:n,differenceActualMinutes:a,laborCodeViolations:o,title:l,overWork:c}=e,d=(0,er.Z)(),p=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),h=me()("flex-container custom-cell bb-dot","htc0FImXp3ovQyZDC5M1Wg==",{disabled:!t,[r]:!!r,"zKYzQKp82kgFg9YbLF-PLg==":p&&!(0,j.xb)(o)});return(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("span",{className:"_6ZrPg9EzbALTLiw4nPmClg==",title:l,children:l}),(0,u.jsxs)("div",{className:"J29Za4QVstWGMG0czE7Cyg==",children:[(0,u.jsx)(et.ZP,{glyph:et.i4,className:"mMEPM4+lrpL3-+vHEOj-nA==",hidden:!c}),(0,u.jsx)(ao,{differenceActualMinutes:a,actualHours:n,normHours:i,className:"_3w5VpqJh+kUrhbvru3joWw==",formatMessage:d.formatMessage}),p&&(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Fp,{violations:o,containerClassNames:"Kn0A5YQY129OjsZywNlHHQ==",isHideMoreInfoButton:!0})})]})]})};XP.defaultProps={title:"",isActive:!1,overWork:!1,normHours:0,actualHours:0,differenceActualMinutes:0,laborCodeViolations:{}},XP.propTypes={isActive:c().bool,overWork:c().bool,title:c().oneOfType([c().string]),colorClass:c().string.isRequired,normHours:c().number,actualHours:c().number,laborCodeViolations:c().object,differenceActualMinutes:c().number};const JP=(0,m.memo)(XP);class $P extends m.PureComponent{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChecked",(e=>{var{setChecked:t,requestId:r}=this.props;this.setState({isChecked:e}),t({id:r,isChecked:e})}));var{defaultChecked:t}=e;this.state={isChecked:t||!1}}UNSAFE_componentWillReceiveProps(e){var t=e.defaultChecked;t!==this.props.defaultChecked&&this.setState({isChecked:t})}render(){var{isChecked:e}=this.state,{disabled:t,colorClass:r,isLaborCodeCheckingEnabled:i,laborCodeViolations:s}=this.props,n=me()("first-custom-style-cell bb-dot",zP,{disabled:t,[r]:!!r,"yzepLGEfA1uVvnMPR4IH2g==":i&&!(0,j.xb)(s)});return(0,u.jsx)("div",{className:n,style:{paddingLeft:20},children:(0,u.jsx)(Rs.XZ,{checked:e,onChange:this.handleChecked,name:"isProcessing",disabled:t})})}}$P.defaultProps={setChecked:null,defaultChecked:!1,requestId:"",colorClass:"",disabled:!1,isLaborCodeCheckingEnabled:!1,laborCodeViolations:{}},$P.propTypes={setChecked:c().func,defaultChecked:c().bool,requestId:c().string,colorClass:c().string,disabled:c().bool,isLaborCodeCheckingEnabled:c().bool,laborCodeViolations:c().object};const ew=$P,tw=(0,o.compose)((0,s.$j)(((e,t)=>({defaultChecked:vm(e,t.requestId),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled")}))))(ew);var rw={NOT_APPROVED:"NOT_APPROVED",APPROVED:"APPROVED",DECLINED:"DECLINED"};function iw(e,t){var{from:r,to:i,isProcessing:s,isApproved:n,isDeclined:a}=e,o=(e=>{var{isProcessing:t,isApproved:r,isDeclined:i}=e,s=[];return t&&s.push(rw.NOT_APPROVED),r&&s.push(rw.APPROVED),i&&s.push(rw.DECLINED),(0,j.xb)(s)?Object.values(rw):s})({isProcessing:s,isApproved:n,isDeclined:a});return{groupId:t,from:(0,ft.CK)(r),to:(0,ft.iX)(i,ft._E),statuses:o}}function sw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nw extends m.PureComponent{constructor(){super(...arguments),sw(this,"state",{checked:!1}),sw(this,"setChecked",(e=>{var{setMapAllIdsRequests:t}=this.props;this.setState({checked:e}),t({checked:e})}))}render(){var{isActiveCheckbox:e}=this.props;return(0,u.jsx)(Rs.XZ,{checked:this.state.checked,onChange:this.setChecked,name:"checkedAll",disabled:!e})}}nw.defaultProps={isActiveCheckbox:!1},nw.propTypes={setMapAllIdsRequests:c().func.isRequired,isActiveCheckbox:c().bool};const aw=nw;var ow="actual",lw="date",cw=e=>e===ow,dw=e=>e===lw;function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(r),!0).forEach((function(t){hw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fw=(0,o.compose)((0,s.$j)((e=>({filterHead:lm(e)})),{setMapAllIdsRequests:Py.setMapAllIdsRequests},((e,t,r)=>{var{filterHead:i}=e,{isApproved:s}=i,{isDeclined:n}=i,a=0===Object.keys(i).length||cw(i.selectedValue)||!(s||n);return pw(pw(pw(pw({},e),t),r),{},{isActiveCheckbox:a})})))(aw),mw="eEJhWoVAzlaT1lawM0rSyA==";function vw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yw extends m.PureComponent{constructor(){super(...arguments),vw(this,"getIsProcess",(e=>e===rw.NOT_APPROVED)),vw(this,"getIsAccept",(e=>e===rw.APPROVED)),vw(this,"getIsDenied",(e=>e===rw.DECLINED)),vw(this,"getGlyph",(()=>{var{status:e}=this.props,t="";return this.getIsProcess(e)?t=et.An:this.getIsAccept(e)?t=et.Ir:this.getIsDenied(e)&&(t=et.TX),t}))}render(){var{status:e,containerClassName:t}=this.props,r=this.getGlyph(),i=this.getIsAccept(e),s=this.getIsDenied(e),n=this.getIsProcess(e),a=me()("type-indicator__icon",{approve:i,decline:s,"icon-gray":n});return(0,u.jsx)("span",{className:me()(mw,t),children:(0,u.jsx)(et.ZP,{glyph:r,classCustom:a})})}}yw.defaultProps={status:"",containerClassName:mw},yw.propTypes={status:c().string,containerClassName:c().string};const gw=yw;class bw extends m.Component{render(){var e,{status:t,date:r,colorClass:i,isMainItem:s,onClickClose:n}=this.props,a=t===rw.APPROVED,o=t===rw.DECLINED,l=me()("popover-item",{[i]:!!i,approve:a,decline:o});return r?(e=a?(0,u.jsx)(J.Z,{id:"DetailItem.approved",defaultMessage:[{type:0,value:"заявка одобрена"}]}):o?(0,u.jsx)(J.Z,{id:"DetailItem.declined",defaultMessage:[{type:0,value:"заявка отклонена"}]}):(0,u.jsx)(J.Z,{id:"DetailItem.sent",defaultMessage:[{type:0,value:"заявка отправлена"}]}),(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("span",{className:"label",children:(0,u.jsx)(gw,{status:t,containerClassName:"-hMRhNgVnExTH22zCzcLJA=="})}),(0,u.jsxs)("span",{className:"text",children:[(0,u.jsx)("div",{children:r}),e]}),s&&(0,u.jsx)("div",{onClick:n,className:"down-small-icon-container",children:(0,u.jsx)("span",{className:"down-small-icon",onClick:n,children:(0,u.jsx)(et.ZP,{glyph:et.Zx})})})]})):(0,u.jsx)("div",{className:l})}}bw.defaultProps={status:"",colorClass:"",date:"",onClickClose:null,isMainItem:!1},bw.propTypes={status:c().string,colorClass:c().string,date:c().string,onClickClose:c().func,isMainItem:c().bool};const jw=bw;function xw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Sw extends m.Component{constructor(){super(...arguments),xw(this,"state",{open:!1}),xw(this,"open",(()=>{var{getDetailListRequest:e,requestId:t,disabled:r}=this.props;r||(this.setState({open:!0}),e(t))})),xw(this,"close",(()=>{var{clearDetailListRequest:e}=this.props;this.setState({open:!1}),e()}))}render(){var{isActive:e,colorClass:t,title:r,data:i,disabled:s,isLaborCodeCheckingEnabled:n,laborCodeViolations:a}=this.props,o=me()("flex-container text-ellipsis pv custom-cell bb-dot",{disabled:!e,[t]:!!t,"_4mEFSKEjN0oH7HVVzrdfbw==":n&&!(0,j.xb)(a)}),{open:l}=this.state,c=me()("arrow-icon",{disabled:s}),d=0===Object.keys(i).length,{answerTime:p,creationTime:h,status:f}=i,m=(0,ft.IY)(h),v=(0,ft.IY)(p);return(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:"popover-container",style:{width:150},children:[(0,u.jsx)("div",{children:(0,u.jsx)("div",{ref:e=>{this.anchor=e}})}),(0,u.jsxs)("span",{children:[r,(0,u.jsx)("span",{onClick:this.open,className:zP,children:(0,u.jsx)(et.ZP,{glyph:et.Zx,classCustom:c})})]}),(0,u.jsx)(Ns.ZP,{zDepth:3,open:l,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},anchorEl:this.anchor,onClose:this.close,disabled:d,children:(0,u.jsxs)("span",{className:"popover-list",children:[(0,u.jsx)(jw,{onClickClose:this.close,isMainItem:!0,status:f,date:v}),(0,u.jsx)(jw,{date:m})]})})]})})}}Sw.defaultProps={status:"",isActive:!1,colorClass:"",title:"",data:{},disabled:!1,clearDetailListRequest:null,getDetailListRequest:null,requestId:"",isLaborCodeCheckingEnabled:!1,laborCodeViolations:{}},Sw.propTypes={status:c().string,isActive:c().bool,colorClass:c().string,title:c().string,data:c().object,disabled:c().bool,clearDetailListRequest:c().func,getDetailListRequest:c().func,requestId:c().string,isLaborCodeCheckingEnabled:c().bool,laborCodeViolations:c().object};const Ow=Sw,Pw=(0,o.compose)((0,s.$j)((e=>({data:ym(e),isLaborCodeCheckingEnabled:(0,B.vH)(e,"isLaborCodeCheckingEnabled")})),{clearDetailListRequest:Py.clearDetailListRequest,getDetailListRequest:Py.getDetailListRequest}))(Ow),ww="y5AadHFGiMolrR1CXKhT9A==",Cw="_4hrsTBAlSbZGoCsQins8Lg==",kw="SYKTfSNR6d9mjEKqHHHFHA==",Tw="wXMvhYFeJVefXffvZe2dwg==";var Nw=e=>{var{requestType:t,colorClass:r,laborCodeViolations:i}=e,n="ADDITIONAL_SCHEDULE"===t?et.xX:et.v2,a=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),o=me()(ww,{[r]:!!r,[Cw]:a&&!(0,j.xb)(i)});return(0,u.jsx)("div",{className:o,children:(0,u.jsx)(et.ZP,{glyph:n})})};Nw.defaultProps={requestType:"",laborCodeViolations:{}},Nw.propTypes={requestType:c().string,laborCodeViolations:c().object,colorClass:c().string.isRequired};const Rw=Nw;var Ew=e=>{var{status:t,colorClass:r,laborCodeViolations:i}=e,n=(0,s.v9)((e=>(0,B.vH)(e,"isLaborCodeCheckingEnabled"))),a=me()(ww,{[r]:!!r,[Cw]:n&&!(0,j.xb)(i)});return(0,u.jsx)("div",{className:a,children:(0,u.jsx)(gw,{status:t})})};Ew.defaultProps={status:"",laborCodeViolations:{}},Ew.propTypes={status:c().string,laborCodeViolations:c().object,colorClass:c().string.isRequired};const Dw=Ew;function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(r),!0).forEach((function(t){Iw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellUser",defaultMessage:[{type:0,value:"Ф.И.О."}]}),qw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellActivity",defaultMessage:[{type:0,value:"Запрос активности"}]}),Fw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellCreationTime",defaultMessage:[{type:0,value:"Дата подачи"}]}),Lw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellStart",defaultMessage:[{type:0,value:"Начало"}]}),Hw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellEnd",defaultMessage:[{type:0,value:"Окончание"}]}),_w=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellAnswerTime",defaultMessage:[{type:0,value:"Последние изменения"}]}),Bw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellRequestComment",defaultMessage:[{type:0,value:"Комментарий"}]}),Gw=(0,u.jsx)(J.Z,{id:"Schedule.Table.CellAnswerComment",defaultMessage:[{type:0,value:"Комментарий менеджера"}]}),Ww={headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell"};function Uw(e){return e?e===rw.APPROVED?"approve":e===rw.DECLINED?"decline":"":""}var Vw=(0,u.jsx)(fw,{}),zw=e=>{var{mapIdsRequests:t,setMapIdRequest:r,checkedIds:i,violationsByCheckedIds:s,shouldCheckRequests:n,intl:a}=e,o=(e,t)=>(0,j.xb)(s)&&n&&i.length>1&&e?{}:t;return[new DO.Z({headerClassName:"swZALBMbf-s7epDBap4hVw==",cellClassName:"custom-style-cell",fixed:!0,width:55,label:Vw,renderCell:e=>{var{id:i,status:s,userId:n,laborCodeViolations:a}=e,l=t[i],c=s!==rw.NOT_APPROVED,d=o(l,a);return(0,u.jsx)(tw,{checked:l,setChecked:r,requestId:i,disabled:c,colorClass:Uw(s),userId:n,laborCodeViolations:d})}}),new DO.Z({headerClassName:kw,key:"requestType",sortable:!0,filterable:!0,fixed:!0,width:50,getValue:e=>((e,t)=>"ADDITIONAL_SCHEDULE"===e?t.formatMessage({id:"ManagerForm.additionalSchedules",defaultMessage:[{type:0,value:"Дополнительные смены"}]}):"CHANGE_REQUEST"===e?t.formatMessage({id:"Requests.requests",defaultMessage:[{type:0,value:"Заявки на изменение расписания"}]}):void 0)(e.requestType,a),renderCell:e=>{var{requestType:r,status:i,laborCodeViolations:s,id:n}=e,a=t[n],l=o(a,s);return(0,u.jsx)(Rw,{requestType:r,status:i,colorClass:Uw(i),laborCodeViolations:l})}}),new DO.Z({headerClassName:kw,key:"status",sortable:!0,sortFunc:(e,t)=>"NOT_APPROVED"===e&&"NOT_APPROVED"===t?0:"NOT_APPROVED"===e?-1:"NOT_APPROVED"===t?1:"APPROVED"===e&&"DECLINED"===t?-1:"DECLINED"===e&&"APPROVED"===t?1:0,filterable:!1,fixed:!0,width:30,renderCell:e=>{var{status:t,laborCodeViolations:r}=e;return(0,u.jsx)(Dw,{status:t,colorClass:Uw(t),laborCodeViolations:r})}}),new DO.Z({headerClassName:"virtualized-table__header-cell",key:"user",sortable:!0,filterable:!0,hasTitle:!1,fixed:!0,width:370,label:Zw,renderCell:e=>{var{user:r,status:i,userId:s,normInfo:n,laborCodeViolations:a,id:l}=e,c=t[l],d=o(c,a);return(0,u.jsx)(JP,{overWork:null==n?void 0:n.overWork,title:r,userId:s,isActive:!0,colorClass:Uw(i),laborCodeViolations:d,normHours:null==n?void 0:n.userNorm.normHours,actualHours:null==n?void 0:n.actualHours,differenceActualMinutes:null==n?void 0:n.differenceActualMinutes})}}),new DO.Z(Mw(Mw({},Ww),{},{key:"workActivityName",label:qw,width:220,hasTitle:!1,filterable:!0,sortable:!0,getValue:e=>{var{workActivityName:t}=e;return(0,j.xb)(t)?"":t.trim()},renderCell:e=>{var{workActivityName:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=t[a],c=o(l,n);return(0,u.jsx)(KP,{title:r,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:c,customClass:Tw})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"creationTime",label:Fw,width:165,filterable:!0,hasTitle:!1,sortable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),getValue:e=>(0,ft.IY)(e.creationTime),renderCell:e=>{var{creationTime:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=(0,ft.IY)(r),c=t[a],d=o(c,n);return(0,u.jsx)(KP,{title:l,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:d})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"start",label:Lw,width:150,hasTitle:!1,filterable:!0,sortable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),getValue:e=>(0,ft.IY)(e.from),renderCell:e=>{var{from:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=(0,ft.IY)(r),c=t[a],d=o(c,n);return(0,u.jsx)(KP,{title:l,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:d})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"end",label:Hw,width:155,filterable:!0,hasTitle:!1,sortable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),getValue:e=>(0,ft.IY)(e.to),renderCell:e=>{var{to:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=(0,ft.IY)(r),c=t[a],d=o(c,n);return(0,u.jsx)(KP,{title:l,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:d})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"answerTime",label:_w,width:232,filterable:!0,hasTitle:!1,sortable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),getValue:e=>{var{answerTime:t,creationTime:r}=e;return!(0,j.xb)(t)&&t.trim()?(0,ft.IY)(t):(0,ft.IY)(r)},renderCell:e=>{var{creationTime:r,answerTime:i,status:s,id:n,userId:a,laborCodeViolations:l}=e,c=(0,j.xb)(i)?(0,ft.IY)(r):(0,ft.IY)(i),d=s===rw.NOT_APPROVED,p=t[n],h=o(p,l);return(0,u.jsx)(Pw,{title:c,isActive:!0,colorClass:Uw(s),requestId:n,disabled:d,userId:a,laborCodeViolations:h})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"requestComment",label:Bw,width:250,hasTitle:!1,renderCell:e=>{var{requestComment:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=t[a],c=o(l,n);return(0,u.jsx)(KP,{title:r,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:c,customClass:Tw})}})),new DO.Z(Mw(Mw({},Ww),{},{key:"answerComment",label:Gw,width:200,hasTitle:!1,autoSize:!0,renderCell:e=>{var{answerComment:r,status:i,userId:s,laborCodeViolations:n,id:a}=e,l=t[a],c=o(l,n);return(0,u.jsx)(KP,{title:r,isActive:!0,colorClass:Uw(i),userId:s,laborCodeViolations:c,customClass:Tw})}}))]};function Yw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qw extends m.Component{constructor(){super(...arguments),Yw(this,"headerStyle",{boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,background:"white"}),Yw(this,"leftSideStyle",{boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:12}),Yw(this,"leftSideBottomStyle",{boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11}),Yw(this,"handleCellClick",((e,t)=>{var{handleResponseForm:r,setCurrentItemSwap:i}=this.props,{target:s}=e;YP(s)||t.status===rw.NOT_APPROVED&&(i(t),r())}))}render(){var{data:e,isLoading:t,mapIdsRequests:r,setMapIdRequest:i,isLoadingStats:s,violationsByCheckedIds:n,checkedIds:a,shouldCheckRequests:o,intl:l}=this.props,c={mapIdsRequests:r,setMapIdRequest:i,violationsByCheckedIds:n,checkedIds:a,shouldCheckRequests:o,intl:l};return t||s?(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(Z.Z,{})})}):(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(VP.ZP,{ref:e=>this.table=e,data:e,columns:zw(c),columnsAutoWidth:!0,isAutoWidthCurrentColumn:!0,rowHeight:32,classNameBottomRightGrid:"scroll",leftSideBottomStyle:this.leftSideBottomStyle,headerStyle:this.headerStyle,leftSideStyle:this.leftSideStyle,cellClassName:"enable-transition virtualized-table__cell",onCellClick:this.handleCellClick,setFilter:()=>({}),filters:{}})})})}}Qw.propTypes={data:c().array.isRequired,isLoading:c().bool.isRequired,setCurrentItemSwap:c().func.isRequired,handleResponseForm:c().func.isRequired,mapIdsRequests:c().object.isRequired,setMapIdRequest:c().func.isRequired,intl:P.gm.isRequired,isLoadingStats:c().bool.isRequired,violationsByCheckedIds:c().object.isRequired,checkedIds:c().array.isRequired,shouldCheckRequests:c().bool.isRequired};const Kw=Qw;var Xw=(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),Jw=(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]});class $w extends m.Component{render(){var{disabled:e,from:t,to:r,onChangeFromDate:i,onChangeToDate:s}=this.props,n=me()("pr title",{disabled:e}),a=me()("pr",{disabled:e});return(0,u.jsxs)("span",{className:"date-range-swap",children:[(0,u.jsx)("span",{className:n,children:(0,u.jsx)("span",{children:Xw})}),(0,u.jsx)("span",{className:a,children:(0,u.jsx)(mt.Z,{disabled:e,date:t,onChange:i,dateFormat:ft.vc})}),(0,u.jsx)("span",{className:n,children:(0,u.jsx)("span",{children:Jw})}),(0,u.jsx)("span",{className:a,children:(0,u.jsx)(mt.Z,{disabled:e,date:r,minDate:t,onChange:s,dateFormat:ft.vc})})]})}}$w.defaultProps={from:"",to:""},$w.propTypes={disabled:c().bool.isRequired,from:c().string,to:c().string,onChangeFromDate:c().func.isRequired,onChangeToDate:c().func.isRequired};const eC=$w;var tC=(0,u.jsx)(J.Z,{id:"Schedule.LabelCheckboxProcessing",defaultMessage:[{type:0,value:"на рассмотрении"}]}),rC=(0,u.jsx)(J.Z,{id:"Schedule.LabelCheckboxApproved",defaultMessage:[{type:0,value:"одобренные"}]}),iC=(0,u.jsx)(J.Z,{id:"Schedule.LabelCheckboxDeclined",defaultMessage:[{type:0,value:"отклонённые"}]});class sC extends m.PureComponent{render(){var{disabled:e,setValue:t,isProcessing:r,isApproved:i,isDeclined:s}=this.props;return(0,u.jsxs)("div",{className:"filter-checkbox-group",children:[(0,u.jsx)(Rs.ZP,{checked:r,onChange:t,label:tC,name:"isProcessing",disabled:e}),(0,u.jsx)(Rs.ZP,{checked:i,onChange:t,label:rC,name:"isApproved",disabled:e}),(0,u.jsx)(Rs.ZP,{checked:s,onChange:t,label:iC,name:"isDeclined",disabled:e})]})}}sC.propTypes={disabled:c().bool.isRequired,setValue:c().func.isRequired,isProcessing:c().bool.isRequired,isApproved:c().bool.isRequired,isDeclined:c().bool.isRequired};const nC=sC;var aC=(0,u.jsx)(J.Z,{id:"Requests.actualRequests",defaultMessage:[{type:0,value:"Актуальные заявки"}]}),oC=(0,u.jsx)(J.Z,{id:"Requests.applicationForPeriod",defaultMessage:[{type:0,value:"Заявки за период"}]}),lC=(0,u.jsx)(J.Z,{id:"Requests.byEmployees",defaultMessage:[{type:0,value:"По сотрудникам"}]});function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uC extends m.PureComponent{constructor(e){super(e),dC(this,"options",[{value:ow},{value:lw}]),dC(this,"toggleRadioBtn",(e=>{var{disable:t=!1,getList:r,clearSwapList:i,setRefreshBtn:s}=this.props;if(!t){var n=this.options[e].value;this.setState({selectedIndex:e,selectedValue:n},this.setFilterToStore),i(),cw(n)?(r(null),s({isActive:!0,filter:{}})):dw(n)&&(this.setState((e=>({from:e.from||(0,ft.zO)(ft.vc),to:e.to||(0,ft.zO)(ft.vc)})),this.setDateFilter),s({isActive:!1,filter:{}}))}})),dC(this,"setDateFilter",(()=>{var{getListPeriod:e,clearSwapList:t}=this.props,{from:r,to:i,isProcessing:s,isApproved:n,isDeclined:a}=this.state;r<=i?e({from:r,to:i,isProcessing:s,isApproved:n,isDeclined:a}):t()})),dC(this,"updateFilter",(()=>{this.setDateFilter(),this.setFilterToStore()})),dC(this,"onChangeFromDate",(e=>{this.setState((t=>({from:e,to:t.to||(0,ft.zO)(ft.vc)})),this.updateFilter)})),dC(this,"onChangeToDate",(e=>{this.setState((t=>({to:e,from:t.from||(0,ft.zO)(ft.vc)})),this.updateFilter)})),dC(this,"setValueFilter",((e,t)=>{this.setState({[t]:e},this.updateFilter)})),dC(this,"setFilterToStore",(()=>{var{setFilterHeader:e}=this.props,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(r),!0).forEach((function(t){dC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.state);e(t)}));var{defaultValue:t}=e,{from:r}=t,{to:i}=t,s=t.selectedIndex?1:0,n=t.isProcessing||!0,a=t.isApproved||!1,o=t.isDeclined||!1,l=ow;this.state={selectedIndex:s,selectedValue:l,from:r,to:i,isProcessing:n,isApproved:a,isDeclined:o}}componentWillUnmount(){this.props.clearFilterHeader()}render(){var{classContainer:e,disable:t}=this.props,{isProcessing:r,isApproved:i,isDeclined:s,selectedIndex:n,from:a,to:o}=this.state,l=0===n,c=1===n;return(0,u.jsxs)("div",{className:"radio-group filter-content "+e,children:[(0,u.jsx)(Zb.t,{index:0,checked:l,label:aC,handler:this.toggleRadioBtn,disable:t}),(0,u.jsx)(Zb.t,{index:1,checked:c,label:oC,handler:this.toggleRadioBtn,disabled:!c}),(0,u.jsx)(eC,{disabled:!c,from:a,to:o,onChangeFromDate:this.onChangeFromDate,onChangeToDate:this.onChangeToDate}),(0,u.jsx)(nC,{disabled:!c,setValue:this.setValueFilter,isProcessing:r,isApproved:i,isDeclined:s})]})}}function pC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}dC(uC,"defaultProps",{classContainer:"",defaultValue:{from:"",to:""},setRefreshBtn:()=>({})}),uC.propTypes={selectedValue:c().string,options:c().array,onChange:c().func,classContainer:c().string,disable:c().bool,setRefreshBtn:c().func};class hC extends m.Component{constructor(){super(...arguments),pC(this,"refreshScheduleChangeRequests",(e=>{var{filterHead:t,getRequests:r,getRequestsForPeriod:i}=this.props;t.selectedValue===lw?i(iw(t,e)):r({id:e})})),pC(this,"handleUpdate",(()=>{var{getRequests:e,idCurrentGroup:t}=this.props;e({id:t})})),pC(this,"handleUpdatePeriod",(e=>{var{getRequestsForPeriod:t,idCurrentGroup:r}=this.props;t(iw(e,r))})),pC(this,"handleClearData",(()=>{var{clearRequests:e}=this.props;e()}))}UNSAFE_componentWillReceiveProps(e){var{idCurrentGroup:t}=this.props;e.idCurrentGroup!==t&&this.refreshScheduleChangeRequests(e.idCurrentGroup)}render(){var{formatMessage:e,setRefreshBtn:t,setFilterHeader:r,filterHead:i,clearFilterHeader:s}=this.props;return(0,u.jsx)("div",{className:"container filter-container",children:(0,u.jsx)(uC,{getList:this.handleUpdate,getListPeriod:this.handleUpdatePeriod,users:null,formatMessage:e,clearSwapList:this.handleClearData,defaultValue:i,setRefreshBtn:t,setFilterHeader:r,clearFilterHeader:s})})}}hC.defaultProps={filterHead:{from:"",to:"",isProcessing:!0,isApproved:!1,isDeclined:!1,selectedIndex:null,selectedValue:null}},hC.propTypes={formatMessage:c().func.isRequired,filterHead:c().shape({selectedIndex:c().number,selectedValue:c().oneOf([ow,lw]),from:c().string,to:c().string,isProcessing:c().bool,isApproved:c().bool,isDeclined:c().bool}),setRefreshBtn:c().func.isRequired,idCurrentGroup:c().string.isRequired,clearRequests:c().func.isRequired,setFilterHeader:c().func.isRequired,clearFilterHeader:c().func.isRequired,getRequests:c().func.isRequired,getRequestsForPeriod:c().func.isRequired};const fC=hC,mC=(0,o.compose)((0,s.$j)((e=>({data:dm(e),isLoadingRequests:hm(e),filterHead:lm(e)})),{getRequests:Py.getRequests,getRequestsForPeriod:Py.getRequestsForPeriod,clearRequests:Py.clearRequests,setFilterHeader:Py.setFilterHeader,clearFilterHeader:Py.clearFilterHeader}),(0,U.Z)((e=>{var{props:t}=e,{idCurrentGroup:r,filterHead:i}=t;if(0===Object.keys(i).length||cw(i.selectedValue))t.getRequests({id:r});else if(dw(i.selectedValue)){var s=iw(i,r);t.getRequestsForPeriod(s)}})))(fC);function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(r),!0).forEach((function(t){gC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.shiftLength",defaultMessage:[{type:0,value:"Длина смены"}]}),jC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.rowShift",defaultMessage:[{type:0,value:"Количество смен подряд"}]}),xC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.interShift",defaultMessage:[{type:0,value:"Межсменный интервал"}]}),SC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.restWeek",defaultMessage:[{type:0,value:"Непрерывный отдых"}]}),OC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.overWork",defaultMessage:[{type:0,value:"Недоработка / переработка"}]}),PC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.noMore",defaultMessage:[{type:0,value:"Не более"}]}),wC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.noLess",defaultMessage:[{type:0,value:"Не менее"}]}),CC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.hours",defaultMessage:[{type:0,value:"часов"}]}),kC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.isWeek",defaultMessage:[{type:0,value:"в неделю"}]}),TC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.unWork",defaultMessage:[{type:0,value:"Недоработка"}]}),NC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.reWork",defaultMessage:[{type:0,value:"Переработка"}]}),RC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.shortHour",defaultMessage:[{type:0,value:"(ч.)"}]}),EC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.restrictRequestAcceptation",defaultMessage:[{type:0,value:"Ограничить согласование заявок при нарушении правил ТК"}]}),DC=(0,u.jsx)(J.Z,{id:"Common.save"}),AC=(0,u.jsx)(et.ZP,{glyph:et.N}),MC="year",IC="overWorkQuarters",ZC="overWorkMonths",qC=[(0,u.jsx)(J.Z,{id:"LaborCodeSettings.firstQuarter",defaultMessage:[{type:0,value:"I квартал"}]}),(0,u.jsx)(J.Z,{id:"LaborCodeSettings.secondQuarter",defaultMessage:[{type:0,value:"II квартал"}]}),(0,u.jsx)(J.Z,{id:"LaborCodeSettings.thirdQuarter",defaultMessage:[{type:0,value:"III квартал"}]}),(0,u.jsx)(J.Z,{id:"LaborCodeSettings.fourthQuarter",defaultMessage:[{type:0,value:"IV квартал"}]})],FC=[(0,u.jsx)(J.Z,{id:"Common.january",defaultMessage:[{type:0,value:"Январь"}]}),(0,u.jsx)(J.Z,{id:"Common.february",defaultMessage:[{type:0,value:"Февраль"}]}),(0,u.jsx)(J.Z,{id:"Common.march",defaultMessage:[{type:0,value:"Март"}]}),(0,u.jsx)(J.Z,{id:"Common.april",defaultMessage:[{type:0,value:"Апрель"}]}),(0,u.jsx)(J.Z,{id:"Common.may",defaultMessage:[{type:0,value:"Май"}]}),(0,u.jsx)(J.Z,{id:"Common.june",defaultMessage:[{type:0,value:"Июнь"}]}),(0,u.jsx)(J.Z,{id:"Common.july",defaultMessage:[{type:0,value:"Июль"}]}),(0,u.jsx)(J.Z,{id:"Common.august",defaultMessage:[{type:0,value:"Август"}]}),(0,u.jsx)(J.Z,{id:"Common.september",defaultMessage:[{type:0,value:"Сентябрь"}]}),(0,u.jsx)(J.Z,{id:"Common.october",defaultMessage:[{type:0,value:"Октябрь"}]}),(0,u.jsx)(J.Z,{id:"Common.november",defaultMessage:[{type:0,value:"Ноябрь"}]}),(0,u.jsx)(J.Z,{id:"Common.december",defaultMessage:[{type:0,value:"Декабрь"}]})],LC=(e,t)=>{if(!(0,j.xb)(e)){var r=(0,X.xn)(e.laborCodeSettings,"rule"),i=(0,j.xb)(t)?r:(e=>{var{INTER_SHIFT:t,LENGTH_SHIFT:r,ROW_SHIFT:i,OVER_WORK:s,REST_WEEK:n}=e;return{INTER_SHIFT:t,LENGTH_SHIFT:r,ROW_SHIFT:i,OVER_WORK:s,REST_WEEK:n}})(t),{id:s,unWorkHours:n,reWorkHours:a,year:o}=e.overWorkSetting,l=e.overWorkSetting.overWorkQuarters.map((e=>({id:e.id,unWorkHours:e.unWorkHours,reWorkHours:e.reWorkHours,quarter:e.quarter,enable:e.enable}))),c=e.overWorkSetting.overWorkQuarters.flatMap((e=>{var{overWorkMonths:t}=e;return t}));return yC(yC({},i),{},{year:{id:s,unWorkHours:n,reWorkHours:a,year:o},overWorkQuarters:l,overWorkMonths:c,checkRequests:e.checkRequests,notWorkingActivities:e.notWorkingActivities})}},HC=(0,u.jsx)(J.Z,{id:"LaborCodeSettings.violationsSettings",defaultMessage:[{type:0,value:"Настройка правил проверки на нарушения ТК"}]}),_C=(0,u.jsx)(J.Z,{id:"WorkActivityForm.consideredRest",defaultMessage:[{type:0,value:"Считать отдыхом"}]}),BC=e=>e.settings.laborCode.laborCodeSettings.data,GC=e=>e.settings.laborCode.year,WC=e=>e.settings.laborCode.selectedPeriod,UC=(0,Q.createSelector)(BC,WC,((e,t)=>{if((0,j.xb)(e))return t;var{overWorkMonths:r,overWorkQuarters:i,year:s}=LC(e),n=!(0,j.xb)(s.reWorkHours)||!(0,j.xb)(s.unWorkHours),a=i.some((e=>{var{reWorkHours:t,unWorkHours:r}=e;return!(0,j.xb)(t)||!(0,j.xb)(r)})),o=r.some((e=>{var{reWorkHours:t,unWorkHours:r}=e;return!(0,j.xb)(t)||!(0,j.xb)(r)}));return n?"year":a?"quarter":o?"month":(0,j.xb)(t)?"year":t})),VC=r(81343);function zC(e){var t=Object.keys(e),r=[];return 0===t.length?[]:(t.forEach((t=>{e[t]&&r.push(t)})),r)}var YC=e=>{var t=[];return 0===e.length||e.forEach((e=>{(0,j.xb)(e.laborCodeViolations)||t.push(e.id)})),t};function QC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KC=(0,u.jsx)(J.Z,{id:"Requests.confirmFullMessage",defaultMessage:[{type:0,value:"Подтвердите действие"}]}),XC=(0,u.jsx)(J.Z,{id:"Requests.requestsSubmitButtonMessage",defaultMessage:[{type:0,value:"Ок"}]}),JC=(0,u.jsx)(J.Z,{id:"Requests.approveAllChecked",defaultMessage:[{type:0,value:"Одобрить выбранные"}]}),$C=(0,u.jsx)(J.Z,{id:"Requests.requestsCancelButtonMessage",defaultMessage:[{type:0,value:"Отмена"}]}),ek=(0,u.jsx)(J.Z,{id:"Requests.declineAllChecked",defaultMessage:[{type:0,value:"Отклонить выбранные"}]});class tk extends m.PureComponent{constructor(){super(...arguments),QC(this,"approve",(()=>{var{saveApproveDeclineRequests:e,checkedIds:t,updateTable:r}=this.props;this.isEmptyCheckedIds()||e({ids:t,status:"APPROVED"},r)})),QC(this,"decline",(()=>{var{saveApproveDeclineRequests:e,checkedIds:t,updateTable:r}=this.props;this.isEmptyCheckedIds()||e({ids:t,status:"DECLINED"},r)})),QC(this,"isEmptyCheckedIds",(()=>0===this.props.checkedIds.length))}render(){var{user:e,checkedIds:t,requestsList:r,laborCodeSettings:i,violationsByCheckedIds:s,hasRequestsCollision:n}=this.props,a=(0,X.BC)(e,x.ZP.RIGHTS.SCHEDULE_CHANGES,x.ZP.CRUD),o=YC(r),l=i.checkRequests,c=t.some((e=>o.includes(e))),d=(0,j.xb)(t)||!a,p=((e,t,r,i,s,n)=>!i||!!(0,j.xb)(e)||!!s&&(!!(n&&e.length>1)||!(0,j.xb)(t)&&e.length>1||!((0,j.xb)(t)&&e.length>1)&&!!r))(t,s,c,a,l,n);return(0,u.jsxs)("div",{className:"btn-tools-ad btn btn-big16 flex-container",children:[(0,u.jsx)(VC.I,{onSubmit:this.approve,popup:!0,message:XC,disabled:p,fullMessage:KC,submitButtonMessage:JC,cancelButtonMessage:$C,children:(0,u.jsxs)(oi.Z,{className:"mr-20",disabled:p,children:[(0,u.jsx)(et.ZP,{glyph:et.mN}),(0,u.jsx)(J.Z,{id:"Request.BtnApprove",defaultMessage:[{type:0,value:"Одобрить выбранные"}]})]})}),(0,u.jsx)(VC.I,{onSubmit:this.decline,popup:!0,message:ek,disabled:d,fullMessage:KC,submitButtonMessage:JC,cancelButtonMessage:$C,children:(0,u.jsxs)(oi.Z,{className:"mr-20",disabled:d,children:[(0,u.jsx)(et.ZP,{glyph:et.OC}),(0,u.jsx)(J.Z,{id:"Request.BtnDecline",defaultMessage:[{type:0,value:"Отклонить выбранные"}]})]})})]})}}tk.defaultProps={requestsList:[],laborCodeSettings:{},violationsByCheckedIds:[],hasRequestsCollision:!1},tk.propTypes={checkedIds:c().array.isRequired,user:c().object.isRequired,updateTable:c().func.isRequired,saveApproveDeclineRequests:c().func.isRequired,requestsList:c().array,laborCodeSettings:c().object,violationsByCheckedIds:c().array,hasRequestsCollision:c().bool};const rk=tk;function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(r),!0).forEach((function(t){nk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ak=(0,o.compose)((0,s.$j)((e=>({mapIdsRequests:mm(e),filterHead:lm(e),requestsList:dm(e),laborCodeSettings:BC(e),violationsByCheckedIds:um(e),hasRequestsCollision:xm(e),user:e.user})),{saveApproveDeclineRequests:Py.saveApproveDeclineRequests,clearMapIdsRequest:Py.clearMapIdsRequest,getRequests:Py.getRequests,getRequestsForPeriod:Py.getRequestsForPeriod},((e,t,r)=>{var{mapIdsRequests:i,filterHead:s}=e,{clearMapIdsRequest:n,getRequests:a,getRequestsForPeriod:o}=t,{idCurrentGroup:l}=r,c=zC(i);return sk(sk(sk(sk({},e),r),t),{},{checkedIds:c,updateTable:()=>{if(0===Object.keys(s).length||cw(s.selectedValue))a({id:l});else if(dw(s.selectedValue)){var e=iw(s,l);o(e)}n()}})})))(rk);var ok={marginRight:"5px"};class lk extends m.PureComponent{render(){var{glyph:e,label:t,active:r=!1}=this.props;return r?(0,u.jsxs)("span",{className:"legend",children:[(0,u.jsx)(et.ZP,{glyph:e,style:ok}),t]}):null}}lk.defaultProps={active:!1},lk.propTypes={glyph:c().string.isRequired,label:c().any.isRequired,active:c().bool};const ck=lk;var dk=(0,u.jsx)(J.Z,{id:"Manager.SwapLegend.ProcessEasy",defaultMessage:[{type:0,value:"На рассмотрении"}]}),uk=(0,u.jsx)(J.Z,{id:"Manager.SwapLegend.Accept",defaultMessage:[{type:0,value:"Одобрена"}]}),pk=(0,u.jsx)(J.Z,{id:"Manager.SwapLegend.Denied",defaultMessage:[{type:0,value:"Отклонено"}]});class hk extends m.PureComponent{render(){var{isProcess:e,isAccept:t,isDenied:r,idCurrentGroup:i}=this.props;return(0,u.jsxs)("div",{className:"legends",children:[(0,u.jsx)(ak,{idCurrentGroup:i}),(0,u.jsx)(ck,{active:e,glyph:et.An,label:dk}),(0,u.jsx)(ck,{active:t,glyph:et.Ir,label:uk}),(0,u.jsx)(ck,{active:r,glyph:et.TX,label:pk})]})}}hk.defaultProps={idCurrentGroup:""},hk.propTypes={isProcess:c().bool.isRequired,isAccept:c().bool.isRequired,isDenied:c().bool.isRequired,idCurrentGroup:c().string};const fk=hk;class mk extends m.PureComponent{render(){var{title:e,intl:{formatMessage:t}}=this.props,r=t({id:"ManagerSwapSchedule.swapRequest",defaultMessage:[{type:0,value:"Заявка на изменение расписания"}]}),i=e||"".concat(r);return(0,u.jsx)("span",{className:"flex-container",children:(0,u.jsx)("span",{children:i})})}}mk.defaultProps={title:""},mk.propTypes={title:c().string,intl:c().object.isRequired};const vk=(0,v.ZP)(mk);var yk=r(45165);const gk="XepnU6jV4XahpGVeIhca+g==";class bk extends m.PureComponent{render(){var{start:e,end:t,comment:r,workActivityName:i}=this.props,s=(0,ft.fv)(e,t);return(0,u.jsxs)("div",{className:"pt text-gray",children:[(0,u.jsxs)("div",{children:[i,(0,u.jsx)("span",{children:"."}),s]}),(0,u.jsx)("div",{className:"gxFaB+0MEzGhHzoqrrVLiw==",children:'"'.concat(r,'"')})]})}}bk.propTypes={start:c().string.isRequired,end:c().string.isRequired,comment:c().string.isRequired,workActivityName:c().string.isRequired};const jk=bk;class xk extends m.PureComponent{render(){var{userName:e,position:t}=this.props;return(0,u.jsxs)("div",{className:"user-caption pt",children:[(0,u.jsx)("div",{className:"name",children:e}),(0,u.jsx)("div",{className:"role text-gray",children:t})]})}}xk.propTypes={userName:c().string.isRequired,position:c().string.isRequired};const Sk=xk;class Ok extends m.PureComponent{render(){var{userId:e,userName:t,start:r,end:i,comment:s,workActivityName:n,position:a}=this.props;return(0,u.jsxs)("div",{className:"item-detail-title",children:[(0,u.jsx)("div",{children:(0,u.jsx)(Zr.q,{userId:e})}),(0,u.jsx)(Sk,{userName:t,position:a}),(0,u.jsx)(jk,{start:r,end:i,comment:s,workActivityName:n})]})}}Ok.propTypes={userId:c().string.isRequired,userName:c().string.isRequired,start:c().string.isRequired,end:c().string.isRequired,comment:c().string.isRequired,workActivityName:c().string.isRequired,position:c().string.isRequired};const Pk=Ok;var wk=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Comment"}),Ck=e=>{var{setComment:t,comment:r,className:i}=e;return(0,u.jsxs)("div",{className:"request-comment text-gray",children:[(0,u.jsx)("div",{className:"label",children:wk}),(0,u.jsx)("div",{className:"content",children:(0,u.jsx)("textarea",{className:i,onChange:e=>{var{value:r}=e.target;t(r)},value:r})})]})};Ck.defaultProps={className:""},Ck.propTypes={comment:c().string.isRequired,className:c().string,setComment:c().func.isRequired};const kk=Ck;function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Nk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rk=(0,u.jsx)(et.ZP,{glyph:et.mN}),Ek=(0,u.jsx)(J.Z,{id:"Common.Btn.Approve",defaultMessage:[{type:0,value:"Одобрить"}]});class Dk extends m.PureComponent{render(){return(0,u.jsx)(Ge.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(r),!0).forEach((function(t){Nk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"transparent",icon:Rk,caption:Ek},this.props))}}const Ak=Dk;function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ik(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zk=(0,u.jsx)(et.ZP,{glyph:et.OC}),qk=(0,u.jsx)(J.Z,{id:"Common.Btn.Decline",defaultMessage:[{type:0,value:"Отклонить"}]});class Fk extends m.PureComponent{render(){return(0,u.jsx)(Ge.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mk(Object(r),!0).forEach((function(t){Ik(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"transparent",icon:Zk,caption:qk},this.props))}}const Lk=Fk;var Hk="APPROVE",_k="DECLINE",Bk=e=>{var{disabled:t,disabledApproveBtn:r,handleClick:i}=e;return(0,u.jsxs)("div",{className:"btn-add",children:[(0,u.jsx)(Ak,{onClick:()=>i({status:Hk}),disabled:t||r}),(0,u.jsx)(Lk,{onClick:()=>i({status:_k}),disabled:t})]})};Bk.defaultProps={disabled:!1,disabledApproveBtn:!1},Bk.propTypes={handleClick:c().func.isRequired,disabled:c().bool,disabledApproveBtn:c().bool};const Gk=Bk;var Wk=e=>{var{list:t,comment:r,ownerId:i,mainSwapId:s,saveChangeScheduleResponseApprove:n,saveDeclineAdditionalSchedule:a,handleSuccessSave:o,user:l,requestsList:c,laborCodeSettings:d,reserveAccess:p}=e,h=YC(c),f=d.checkRequests,m=h.includes(s)&&f,v=(0,X.BC)(l,x.ZP.RIGHTS.SCHEDULE_CHANGES,x.ZP.CRUD);return(0,u.jsx)("div",{children:(0,u.jsx)(Gk,{handleClick:e=>{var{status:l}=e,c=(e=>e===Hk)(l),d=(e=>e===_k)(l);if(c){var u=(0,j.yv)({list:t,ownerId:i,reserveAccess:p});n({answerComment:r,status:"APPROVED",id:s,list:u},o)}else d&&a({answerComment:r,status:"DECLINED",id:s},o)},disabled:!v,disabledApproveBtn:m})})};Wk.propTypes={saveChangeScheduleResponseApprove:c().func.isRequired,saveDeclineAdditionalSchedule:c().func.isRequired,comment:c().string.isRequired,ownerId:c().string.isRequired,mainSwapId:c().string.isRequired,handleSuccessSave:c().func.isRequired,list:c().object.isRequired,user:c().object.isRequired,requestsList:c().array.isRequired,laborCodeSettings:c().object.isRequired,reserveAccess:c().bool.isRequired};const Uk=Wk,Vk=(0,o.compose)((0,s.$j)((e=>({list:gm(e),requestsList:dm(e),laborCodeSettings:BC(e),user:e.user,reserveAccess:jm(e)})),{saveChangeScheduleResponseApprove:Py.saveChangeScheduleResponseApprove,saveDeclineAdditionalSchedule:Py.saveDeclineAdditionalSchedule}))(Uk);var zk=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Trash",defaultMessage:[{type:0,value:"Удалить смену"}]}),Yk=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Add",defaultMessage:[{type:0,value:"Дополнительная смена"}]}),Qk=(0,u.jsx)(J.Z,{id:"Manager.Legends.Request.Send",defaultMessage:[{type:0,value:"Передать смену"}]});class Kk extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"legends-container requests-detail",children:[(0,u.jsx)(py,{glyph:et.XH,label:zk,classIcon:"error-color",classes:"text-gray"}),(0,u.jsx)(py,{glyph:et.nz,label:Yk,classIcon:"add-color",classes:"text-gray"}),(0,u.jsx)(py,{glyph:et.Eh,label:Qk,classIcon:"success-color arrow-rotate",classes:"text-gray"})]})}}const Xk=Kk;function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(r),!0).forEach((function(t){eT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tT=(0,o.compose)((0,s.$j)((e=>({list:gm(e),user:(0,C.ts)(e),reserveAccess:jm(e)})),{selectAllTrashItem:Py.selectAllTrashItem,clearAllTrashItem:Py.clearAllTrashItem,setReserveAccess:Py.setReserveAccess},((e,t,r)=>{var{list:i,user:s}=e,n=Object.keys(i),a=(0,X.BC)(s,x.ZP.RIGHTS.SCHEDULE_CHANGES,x.ZP.CRUD),o=(0,j.xb)(n)||!a,l=!o&&function(e,t){var r=!0;if(0===e.length)return!1;for(var i=0;i<e.length;i++){var s=t[e[i]],{isTrash:n}=s;if(!n){r=!1;break}}return r}(n,i),c=!o&&function(e,t){var r=!0;if(0===e.length)return!1;for(var i=0;i<e.length;i++){var s=t[e[i]],{isTrash:n}=s;if(n){r=!1;break}}return r}(n,i);return $k($k($k($k({},e),t),r),{},{isActiveSelectTrash:l,isActiveClearTrash:c,disabled:o})})))(Oy);class rT extends m.Component{render(){var{list:e,idCurrentGroup:t,setUserListShow:r,setTrashStateSwap:i,setAdditionStateSwap:s}=this.props;return(0,u.jsx)(Lg,{withoutChecker:!0,list:e,idCurrentGroup:t,setUserListShow:r,setTrashStateSwap:i,setAdditionStateSwap:s,classContainer:"scroll"})}}rT.propTypes={list:c().object.isRequired,idCurrentGroup:c().string.isRequired,setUserListShow:c().func.isRequired,setTrashStateSwap:c().func.isRequired,setAdditionStateSwap:c().func.isRequired};const iT=rT,sT=(0,o.compose)((0,s.$j)((e=>({list:gm(e)})),{getListSwapsRequest:Py.getListSwapsRequest,clearListSwapRequests:Py.clearListSwapRequests,setUserListShow:Py.setUserListShow,setTrashStateSwap:Py.setTrashStateSwap,setAdditionStateSwap:Py.setAdditionStateSwap}),(0,U.Z)((e=>{var{props:t}=e,{getListSwapsRequest:r,start:i,end:s,userId:n}=t;r({start:i,end:s,userId:n})})),(0,Ao.Z)((e=>{var{props:t}=e;t.clearListSwapRequests()})))(iT);var nT=e=>{var{swap:t,idCurrentGroup:r,handleSuccessSave:i}=e,[s,n]=(0,m.useState)(""),{from:a,to:o,requestComment:l,user:c,workActivityName:d,userId:p,id:h,normInfo:{position:f}}=t.currentSwap;return(0,u.jsxs)("div",{className:"a-CLnLS17NeQ5bvWUkaumg==",children:[(0,u.jsxs)("div",{className:gk,children:[(0,u.jsx)(Pk,{userId:p,userName:c,start:a,end:o,comment:l,workActivityName:d,position:f.name}),(0,u.jsx)(kk,{className:"Pec-rWA6CniCBW-PdgirDw==",comment:s,setComment:n}),(0,u.jsx)(Vk,{comment:s,ownerId:p,mainSwapId:h,handleSuccessSave:i})]}),(0,u.jsxs)("div",{className:gk,children:[(0,u.jsx)(Xk,{}),(0,u.jsx)(tT,{})]}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(sT,{start:a,end:o,userId:p,idCurrentGroup:r})})]})};nT.defaultProps={swap:{}},nT.propTypes={swap:c().object,idCurrentGroup:c().string.isRequired,handleSuccessSave:c().func.isRequired};const aT=nT;function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oT(Object(r),!0).forEach((function(t){cT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const dT=(0,o.compose)((0,s.$j)((e=>({filterHead:lm(e)})),{getRequests:Py.getRequests,getRequestsForPeriod:Py.getRequestsForPeriod,setFilterHeader:Py.setFilterHeader},((e,t,r)=>{var{closeDrawer:i,idCurrentGroup:s}=r,{filterHead:n}=e,{getRequests:a,getRequestsForPeriod:o}=t;return lT(lT(lT(lT({},e),t),r),{},{handleSuccessSave:()=>{if(0===Object.keys(n).length||cw(n.selectedValue))a({id:s});else if(dw(n.selectedValue)){var e=iw(n,s);o(e)}i()}})})))(aT);class uT extends m.Component{render(){var{swap:e,isOpen:t,handleBackArrow:r,idCurrentGroup:i}=this.props,s=(0,u.jsx)(vk,{});return(0,u.jsx)(yk.Z,{handleBackArrow:r,open:t,width:650,docked:!1,title:s,children:(0,u.jsx)(dT,{swap:e,idCurrentGroup:i,handleClose:r,closeDrawer:r})})}}uT.propTypes={handleBackArrow:c().func.isRequired,isOpen:c().bool.isRequired,swap:c().object.isRequired,idCurrentGroup:c().string.isRequired};const pT=uT,hT=(0,o.compose)((0,s.$j)())(pT);var fT=e=>{var{data:t,isLoadingRequests:r,idCurrentGroup:i,mapIdsRequests:s,setMapIdRequest:n,setActiveRefreshBtn:a,isLoadingStats:o,violationsByCheckedIds:l,getNewViolationsData:c,checkedIds:d,laborCodeSettings:p,fetchLaborCodeSettings:h,laborCodeYear:f,intl:v}=e,[y,g]=(0,m.useState)(!1),[b,x]=(0,m.useState)({}),S=p.checkRequests;(0,m.useEffect)((()=>{h({year:f})}),[]),(0,m.useEffect)((()=>{!(0,j.xb)(d)&&S&&d.length>1&&c({requests:d})}),[s]);var O=()=>{g(!y)};return(0,u.jsxs)("div",{className:"table-block-hack",children:[(0,u.jsx)(mC,{idCurrentGroup:i,setRefreshBtn:a}),(0,u.jsx)(Kw,{data:t,isLoading:r,isLoadingStats:o,mapIdsRequests:s,violationsByCheckedIds:l,checkedIds:d,shouldCheckRequests:S,intl:v,setMapIdRequest:n,setCurrentItemSwap:e=>x({currentSwap:e}),handleResponseForm:O}),(0,u.jsx)(fk,{isProcess:!0,isAccept:!0,isDenied:!0,idCurrentGroup:i}),(0,u.jsx)(hT,{handleBackArrow:O,isOpen:y,swap:b,idCurrentGroup:i})]})};fT.defaultProps={laborCodeSettings:{},checkedIds:[],laborCodeYear:""},fT.propTypes={data:c().array.isRequired,isLoadingRequests:c().bool.isRequired,intl:P.gm.isRequired,idCurrentGroup:c().string.isRequired,mapIdsRequests:c().object.isRequired,setMapIdRequest:c().func.isRequired,setActiveRefreshBtn:c().func.isRequired,isLoadingStats:c().bool.isRequired,violationsByCheckedIds:c().object.isRequired,getNewViolationsData:c().func.isRequired,fetchLaborCodeSettings:c().func.isRequired,checkedIds:c().array,laborCodeSettings:c().object,laborCodeYear:c().string};const mT=fT;var vT=r(46045);function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yT(Object(r),!0).forEach((function(t){bT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jT=(0,o.compose)(v.ZP,(0,s.$j)((e=>({data:Sm(e),isLoadingRequests:hm(e),isLoadingStats:fm(e),mapIdsRequests:mm(e),violationsByCheckedIds:um(e),laborCodeSettings:BC(e),laborCodeYear:GC(e)})),{getRequests:Py.getRequests,setMapIdRequest:Py.setMapIdRequest,setActiveRefreshBtn:FP.setActiveRefreshBtn,getNewViolationsData:Py.getNewViolationsData,fetchLaborCodeSettings:vT.fetchLaborCodeSettings},((e,t,r)=>gT(gT(gT(gT({},e),r),t),{},{checkedIds:zC(e.mapIdsRequests)}))))(mT);var xT=r(69382),ST=(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),OT=(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]});class PT extends m.Component{render(){var{disabled:e,from:t,to:r,onChangeFromDate:i,onChangeToDate:s}=this.props,n=me()("pr title",{disabled:e}),a=me()("pr",{disabled:e});return(0,u.jsxs)("span",{className:"date-range-swap",children:[(0,u.jsx)("span",{className:n,children:(0,u.jsx)("span",{children:ST})}),(0,u.jsx)("span",{className:a,children:(0,u.jsx)(mt.Z,{disabled:e,date:t,onChange:i,dateFormat:ft.vc})}),(0,u.jsx)("span",{className:n,children:(0,u.jsx)("span",{children:OT})}),(0,u.jsx)("span",{className:a,children:(0,u.jsx)(mt.Z,{disabled:e,date:r,onChange:s,dateFormat:ft.vc,minDate:t})})]})}}PT.defaultProps={from:"",to:""},PT.propTypes={disabled:c().bool.isRequired,from:c().string,to:c().string,onChangeFromDate:c().func.isRequired,onChangeToDate:c().func.isRequired};const wT=PT;var CT=r(57055);function kT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TT="actual",NT="date",RT="users",ET=ns()().format(ft.vc);class DT extends m.PureComponent{constructor(e){super(e),kT(this,"options",[{value:TT},{value:NT},{value:RT}]),kT(this,"userSelectDataSourceConfig",{text:"name",value:"id"}),kT(this,"enableRefreshBtn",(()=>{var{setRefreshBtn:e}=this.props;e({isActive:!0,filter:{}})})),kT(this,"disableRefreshBtn",(()=>{var{setRefreshBtn:e}=this.props;e({isActive:!1,filter:{}})})),kT(this,"handleRadioBtn",(e=>{var{disable:t=!1,onChange:r,clearSwapList:i,setManagerSwapFilter:s}=this.props;if(!t){var n=this.options[e].value;switch(s({filter:n,from:this.state.from,to:this.state.to}),this.setState({selectedIndex:e}),n){case TT:r(null),this.enableRefreshBtn();break;case NT:this.handlePeriodChange(),this.disableRefreshBtn();break;case RT:var{from:a,to:o,selectedUsers:l}=this.state;if((0,j.xb)(l))i();else{var c=l.map((e=>e.id));r({from:a,to:o,userIds:c})}this.disableRefreshBtn()}}})),kT(this,"handlePeriodChange",(()=>{var{onChange:e,clearSwapList:t,setManagerSwapFilter:r}=this.props,{from:i,to:s}=this.state;ns()(i)>ns()(s)?t():(e({from:i,to:s}),r({filter:"date",from:i,to:s}))})),kT(this,"onChangeFromDate",(e=>{this.setState({from:e},this.handlePeriodChange)})),kT(this,"onChangeToDate",(e=>{this.setState({to:e},this.handlePeriodChange)})),kT(this,"onUsersSelectChange",(e=>{var{clearSwapList:t}=this.props;if(this.setState({selectedUsers:e}),(0,j.xb)(e))t();else{var{onChange:r}=this.props,i=e.map((e=>e.id));r({userIds:i})}}));var{defaultValue:t,defaultRadio:r}=e,i=(null==t?void 0:t.from)||ET,s=(null==t?void 0:t.to)||ET;this.state={selectedIndex:r,from:i,to:s,selectedUsers:[]}}render(){var{classContainer:e,disable:t,users:r}=this.props,{selectedIndex:i}=this.state,s=0===i,n=1===i,a=2===i,o=!!r,l=null==r?void 0:r.sort((0,X.hM)("name"));return(0,u.jsxs)("div",{className:"radio-group filter-swap filter-panel "+e,children:[(0,u.jsx)(xT.Z,{index:0,checked:s,label:aC,handler:this.handleRadioBtn,disable:t}),(0,u.jsx)(xT.Z,{index:1,checked:n,label:oC,handler:this.handleRadioBtn,disable:t}),(0,u.jsx)(wT,{disabled:!n,from:this.state.from||"",to:this.state.to||"",onChangeFromDate:this.onChangeFromDate,onChangeToDate:this.onChangeToDate}),o&&(0,u.jsx)(xT.Z,{index:2,checked:a,label:lC,handler:this.handleRadioBtn,disable:t}),o&&(0,u.jsx)(CT.Z,{dataSource:l,values:this.state.selectedUsers,onChange:this.onUsersSelectChange,dataSourceConfig:this.userSelectDataSourceConfig,disabled:!a,returnObjValue:!0,classContainer:"UtV1bTvDrflz7ZxGsMsEcQ=="})]})}}DT.defaultProps={classContainer:"",defaultValue:{from:ET,to:ET},setRefreshBtn:O.wA,disable:!1,users:[],defaultRadio:0},DT.propTypes={onChange:c().func.isRequired,classContainer:c().string,disable:c().bool,setRefreshBtn:c().func,defaultValue:c().object,setManagerSwapFilter:c().func.isRequired,clearSwapList:c().func.isRequired,users:c().array,defaultRadio:c().number};var AT={setManagerSwapFilter:Py.setManagerSwapFilter};const MT=(0,o.compose)((0,s.$j)((e=>({managerSwapFilter:cm(e)})),AT))(DT);var IT=r(74124);class ZT extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getIcon",(()=>{switch(this.props.status){case x.cm.APPROVED_BY_MANAGER:return et.mN;case x.cm.DECLINED_BY_MANAGER:return et.OC;default:return IT.Z.id}}))}render(){var e=this.getIcon(),t=e===IT.Z.id,r=me()({"p icn":t,"zgAeyIM8GGkPcNePYPSb5w==":!t});return(0,u.jsx)(Ae.Z,{className:r,onClick:()=>({}),children:(0,u.jsx)(et.ZP,{glyph:e})})}}ZT.propTypes={status:c().string.isRequired};const qT=ZT;class FT extends m.PureComponent{render(){var{isFirst:e,userId:t,fullName:r,date:i,comment:s}=this.props,n=e?"first row":"second row";return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)(Zr.q,{userId:t}),(0,u.jsxs)("div",{className:"tr-swap_content--user",children:[(0,u.jsx)("span",{className:"FIO",title:r,children:r}),(0,u.jsx)("span",{className:"date-activity",children:i}),(0,u.jsx)("span",{className:"comment-activity",children:s})]})]})}}FT.defaultProps={isFirst:!1},FT.propTypes={fullName:c().string.isRequired,date:c().string.isRequired,comment:c().string.isRequired,isFirst:c().bool,userId:c().string.isRequired};const LT=FT;class HT extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{changeDetail:e,swap:t}=this.props;e(t)}))}render(){var{fromUser:e,toUser:t}=this.props,{status:r}=e,i=e.userName||"",s=(0,ft.fv)(e.start,e.end),n=e.comment||"",a=t.userName||"",o=(0,ft.fv)(t.start,t.end),l=t.comment||"";return(0,u.jsx)("tr",{children:(0,u.jsx)("td",{onClick:this.handleClick,children:(0,u.jsxs)("div",{className:"tr-swap",children:[(0,u.jsx)("div",{className:"tr-swap_icon",children:(0,u.jsx)(qT,{status:r})}),(0,u.jsxs)("div",{className:"tr-swap_content",children:[(0,u.jsx)(LT,{isFirst:!0,fullName:i,date:s,comment:n,userId:e.userId}),(0,u.jsx)(LT,{fullName:a,date:o,comment:l,userId:t.userId})]})]})})})}}HT.propTypes={fromUser:c().object.isRequired,toUser:c().object.isRequired,changeDetail:c().func.isRequired,swap:c().object.isRequired};const _T=HT;var BT=(0,u.jsx)(J.Z,{id:"EmployeeSkillsForm.employeeSkillsForm",defaultMessage:[{type:0,value:"Навыки сотрудника"}]}),GT=(0,u.jsx)(J.Z,{id:"EmployeeRequest.tasks",defaultMessage:[{type:0,value:"Задачи"}]}),WT=(0,u.jsx)(J.Z,{id:"Settings.WorkActivitiesTitle",defaultMessage:[{type:0,value:"Активности в смене"}]}),UT=(0,u.jsx)(et.ZP,{glyph:et.Jr,classCustom:"success"}),VT=(0,u.jsx)(et.ZP,{glyph:et.dV,classCustom:"changed"});class zT extends m.Component{render(){var{statuses:e}=this.props,{isSkills:t,isTasks:r,isActivities:i}=e,s=!0,n=me()({"text-gray":s}),a=me()({"text-gray":s}),o=me()({"text-gray":s}),l=t?UT:VT,c=r?UT:VT,d=i?UT:VT;return(0,u.jsxs)("div",{className:"sw-statuses sw-container",children:[(0,u.jsxs)("span",{children:[l,(0,u.jsx)("span",{className:n,children:BT})]}),(0,u.jsxs)("span",{children:[c,(0,u.jsx)("span",{className:a,children:GT})]}),(0,u.jsxs)("span",{children:[d,(0,u.jsx)("span",{className:o,children:WT})]})]})}}zT.defaultProps={isSkills:"",isTasks:"",isActivities:""},zT.propTypes={isSkills:c().string,isTasks:c().string,isActivities:c().string,statuses:c().object.isRequired};const YT=zT;var QT=e=>{var{resolveSwapSchedule:t,responseId:r,onUpdateData:i,onHiddenModal:n,managerSwapFilter:a,hidden:o}=e,l=(0,s.v9)(C.ts),c=!(0,X.BC)(l,x.ZP.RIGHTS.SWAP_SCHEDULE,x.ZP.CRUD);return o?null:(0,u.jsxs)("div",{className:"sw-container sw-saved",children:[(0,u.jsxs)(oi.Z,{onClick:()=>{t({responseId:r,status:"APPROVE"},(()=>{i({from:a.from,to:a.to,filterMode:a.filter})})),n()},className:"mr+",disabled:c,children:[(0,u.jsx)(et.ZP,{glyph:et.mN}),(0,u.jsx)(J.Z,{id:"Request.BtnSuccess",defaultMessage:[{type:0,value:"Одобрить"}]})]}),(0,u.jsxs)(oi.Z,{onClick:()=>{t({responseId:r,status:"DECLINE"},(()=>{i({from:a.from,to:a.to,filterMode:a.filter})})),n()},className:"mr+",disabled:c,children:[(0,u.jsx)(et.ZP,{glyph:et.OC}),(0,u.jsx)(J.Z,{id:"Request.BtnCancel",defaultMessage:[{type:0,value:"Отклонить"}]})]})]})};QT.propTypes={resolveSwapSchedule:c().func.isRequired,responseId:c().string.isRequired,managerSwapFilter:c().object.isRequired,onUpdateData:c().func.isRequired,onHiddenModal:c().func.isRequired,hidden:c().bool},QT.defaultProps={hidden:!1};const KT=QT;var XT=(0,u.jsx)(J.Z,{id:"Manager.SwapLegend.Accept",defaultMessage:[{type:0,value:"Одобрена"}]}),JT=(0,u.jsx)(J.Z,{id:"Manager.SwapLegend.RequestDenied",defaultMessage:[{type:0,value:"Отклонена"}]});var $T=e=>{var{status:t}=e;return(0,u.jsx)("div",{className:"fSLwYXWkUrw42aPnxeJ1kg==",children:t===x.cm.APPROVED_BY_MANAGER?(0,u.jsxs)("div",{children:[(0,u.jsx)(et.ZP,{glyph:et.mN}),XT]}):t===x.cm.DECLINED_BY_MANAGER?(0,u.jsxs)("div",{children:[(0,u.jsx)(et.ZP,{glyph:et.OC}),JT]}):null})};$T.propTypes={status:c().string.isRequired};const eN=$T;class tN extends m.PureComponent{render(){var{userName:e,expiration:t,comment:r}=this.props;return(0,u.jsxs)("div",{className:"res-list-item-title",children:[(0,u.jsx)("div",{style:{marginBottom:"5px"},children:e}),(0,u.jsxs)("div",{children:[t+" ",(0,u.jsx)("div",{className:me()("XkQEGOwIx0vz8ncWrjARPQ==","subtext"),children:'"'.concat(r,'"')})]})]})}}tN.propTypes={userName:c().string.isRequired,expiration:c().string.isRequired,comment:c().string.isRequired};const rN=tN;class iN extends m.PureComponent{render(){var{userId:e,userName:t,expirationAfter:r,comment:i,headerContainerClassName:s}=this.props;return(0,u.jsxs)("div",{className:me()("swap-detail-item-header",s),children:[(0,u.jsx)(Zr.q,{userId:e}),(0,u.jsx)(rN,{userName:t,expiration:r,comment:i})]})}}iN.propTypes={userId:c().string.isRequired,headerContainerClassName:c().string,userName:c().string.isRequired,expirationAfter:c().string.isRequired,comment:c().string.isRequired},iN.defaultProps={headerContainerClassName:""};const sN=iN;var nN=[null,"01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"];function aN(e,t,r){var i=(0,ft.ZG)(e),s=(0,ft.ZG)(t),n=(0,ft.ZG)(r);return 100*(0,X.Fv)(i,s,n)}function oN(e){return ns()(e,ft._E).local().format(ft.pz)}class lN extends m.PureComponent{render(){var{text:e}=this.props;return e?(0,u.jsx)("div",{className:"label",children:e}):null}}lN.propTypes={text:c().string.isRequired};const cN=lN;class dN extends m.PureComponent{render(){var e,t=(e=this.props.hour,nN[e]);return(0,u.jsx)("div",{className:"hours-line-item",children:(0,u.jsx)(cN,{text:t})})}}dN.propTypes={hour:c().number.isRequired};const uN=dN;class pN extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"generateGrid",(()=>{for(var e=[],t=0;t<24;t++)e.push((0,u.jsx)(uN,{hour:t},t));return e}))}render(){return(0,u.jsx)("div",{className:"hours-line click-through",children:this.generateGrid()})}}const hN=pN;var fN={id:"id",start:"start",end:"end"},mN={id:"workActivityId",color:"color",text:"name"};class vN extends m.PureComponent{render(){var{dayStart:e}=this.props,t=(0,ft.iX)(e),r=(0,Rn.oJ)(this.props.activities);return(0,u.jsx)("div",{className:"activities-layer",children:(0,u.jsx)(Xm,{min:e,max:t,data:r,dataConfig:fN,colorMap:this.props.workActivitiesMap,colorMapConfig:mN,showGrid:!1,showText:!0,defaultColor:"lightgray"})})}}vN.propTypes={dayStart:c().string.isRequired,activities:c().array.isRequired,workActivitiesMap:c().object.isRequired};const yN=vN;class gN extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"timeFormat",(e=>ns()(e,ft._E).local().format(ft.wJ)))}render(){var{start:e,end:t,min:r,max:i}=this.props,s=e>t,n=me()("range",{invalid:s}),a=this.timeFormat(e),o=this.timeFormat(t),l={left:aN(e,r,i)+"%",right:100-aN(t,r,i)+"%"};return(0,u.jsx)("div",{className:"range-layer",children:(0,u.jsx)("div",{className:"range-wrap",children:(0,u.jsx)("div",{className:n,style:l,children:(0,u.jsxs)("div",{className:"inner",children:[(0,u.jsx)("div",{className:"label left",children:a}),(0,u.jsx)("div",{className:"label right",children:o}),(0,u.jsx)("div",{className:"bottom"})]})})})})}}gN.propTypes={min:c().string.isRequired,max:c().string.isRequired,start:c().string.isRequired,end:c().string.isRequired};const bN=gN;class jN extends m.Component{render(){var{onClick:e,disabled:t,glyph:r,isShow:i}=this.props;return i?(0,u.jsx)("div",{className:"schedule-range__control"}):(0,u.jsx)("div",{className:"schedule-range__control",children:(0,u.jsx)(oi.Z,{onClick:e,disabled:t,children:(0,u.jsx)(et.ZP,{glyph:r})})})}}jN.propTypes={onClick:c().func.isRequired,disabled:c().bool.isRequired,glyph:c().string.isRequired,isShow:c().bool.isRequired};const xN=jN;function SN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ON extends m.PureComponent{constructor(e){super(e),SN(this,"nextDay",(()=>{this.setState((e=>({dayStart:(0,ft.Om)(e.dayStart)})))})),SN(this,"prevDay",(()=>{this.setState((e=>({dayStart:(0,ft.JM)(e.dayStart)})))})),SN(this,"isMinDate",(()=>this.state.dayStart<=this.state.minDate)),SN(this,"isMaxDate",(()=>this.state.dayStart>=this.state.maxDate));var t=(0,ft.b7)(e.start),r=(0,ft.b7)(e.end),i=ns()(e.start,ft._E).format(ft.vc)===ns()(e.end,ft._E).format(ft.vc);this.state={minDate:t,maxDate:r,dayStart:t,isOneDay:i}}UNSAFE_componentWillReceiveProps(e){if(e.start!==this.props.start||e.end!==this.props.end){var t=(0,ft.b7)(e.start),r=(0,ft.b7)(e.end),i=ns()(e.start,ft._E).format(ft.vc)===ns()(e.end,ft._E).format(ft.vc);this.setState({minDate:t,maxDate:r,dayStart:t,isOneDay:i})}}render(){var{activities:e,workActivitiesMap:t,start:r,end:i}=this.props,{isOneDay:s}=this.state,{dayStart:n}=this.state,a=(0,ft.iX)(n);return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)("div",{className:"schedule-range__date",style:{paddingTop:"0px"},children:oN(this.state.dayStart)}),(0,u.jsx)(xN,{onClick:this.prevDay,disabled:this.isMinDate(),glyph:et.Y4,isShow:s}),(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsxs)("div",{className:"schedule-range",children:[(0,u.jsx)(yN,{dayStart:n,activities:e,workActivitiesMap:t}),(0,u.jsx)(hN,{}),(0,u.jsx)(bN,{min:n,max:a,start:r,end:i})]})}),(0,u.jsx)(xN,{onClick:this.nextDay,disabled:this.isMaxDate(),glyph:et.LZ,isShow:s})]})}}ON.defaultProps={workActivitiesMap:{}},ON.propTypes={start:c().string.isRequired,end:c().string.isRequired,activities:c().array.isRequired,workActivitiesMap:c().object};const PN=ON;function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(r),!0).forEach((function(t){kN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const TN=(0,o.compose)((0,s.$j)((e=>({workActivitiesMap:pn(e)})),{fetchWorkActivities:Sa.fetchWorkActivities},((e,t,r)=>CN(CN(CN({},e),t),r))),(0,U.Z)((e=>{var{props:t}=e;t.isRequastDisabled||t.fetchWorkActivities()})))(PN);class NN extends m.PureComponent{render(){var{activities:e,start:t,end:r}=this.props;return(0,u.jsx)("div",{className:"sw-user-line",children:(0,u.jsx)(TN,{activities:e,start:t,end:r})})}}NN.propTypes={activities:c().array.isRequired,start:c().string.isRequired,end:c().string.isRequired};const RN=NN;class EN extends m.PureComponent{render(){var{userId:e,userName:t,start:r,end:i,comment:s,activities:n}=this.props,a=(0,ft.fv)(r,i);return(0,u.jsx)("div",{className:"sw-row",children:(0,u.jsxs)("div",{className:"tr-swap_body",children:[(0,u.jsx)(sN,{userId:e,userName:t,expirationAfter:a,comment:s}),(0,u.jsx)(RN,{activities:n,start:r,end:i})]})})}}EN.propTypes={userId:c().string.isRequired,userName:c().string.isRequired,start:c().string.isRequired,end:c().string.isRequired,comment:c().string.isRequired,activities:c().array.isRequired};const DN=EN;function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach((function(t){IN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ZN extends m.Component{render(){var e,{isLoading:t=!1,userRequest:r,userResponse:i,statuses:s,activityUserFrom:n=[],activityUserTo:a=[],resolveSwapSchedule:o,onUpdateData:l,onHiddenModal:c,managerSwapFilter:d}=this.props,{status:p}=r,h="PROCESSING"!==p&&"WAITING_MANAGER_REGULATION"!==p;return e=t||!r&&!i?(0,u.jsx)("div",{className:"tr-swap",children:(0,u.jsx)("div",{className:"tr-swap_content",children:(0,u.jsx)(Z.Z,{})})}):(0,u.jsx)("div",{className:"tr-swap",children:(0,u.jsxs)("div",{className:"tr-swap_content",children:[(0,u.jsx)(DN,MN(MN({},r),{},{activities:n})),(0,u.jsx)(DN,MN(MN({},i),{},{activities:a}))]})}),(0,u.jsxs)("div",{className:"sw",children:[(0,u.jsx)("div",{className:"sw-lines",children:(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"table-swap",children:(0,u.jsx)("tbody",{children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{children:e})})})})})}),(0,u.jsx)(YT,{statuses:s}),(0,u.jsx)(KT,{resolveSwapSchedule:o,responseId:i.id,onUpdateData:l,managerSwapFilter:d,onHiddenModal:c,hidden:h}),(0,u.jsx)(eN,{status:p})]})}}ZN.propTypes={isLoading:c().bool,userRequest:c().object.isRequired,userResponse:c().object.isRequired,statuses:c().object,activityUserFrom:c().array.isRequired,activityUserTo:c().array.isRequired,resolveSwapSchedule:c().func.isRequired,onUpdateData:c().func.isRequired,onHiddenModal:c().func.isRequired,managerSwapFilter:c().object.isRequired},ZN.defaultProps={isLoading:!1,statuses:{}};const qN=ZN,FN=(0,o.compose)((0,s.$j)((e=>({activityUserFrom:(0,Tu.getSwapActivityUserFrom)(e),activityUserTo:(0,Tu.getSwapActivityUserTo)(e),isLoading:(0,Tu.getSwapLoadingDetail)(e),managerSwapFilter:cm(e)})),{getUserReqResSwap:FP.getUserReqResSwap,resolveSwapSchedule:FP.resolveSwapSchedule}))(qN);var LN={id:"OperatorSwapSchedule.swapRequest",defaultMessage:"Заявка на обмен сменами"},HN={id:"Common.and",defaultMessage:"и"};function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(r),!0).forEach((function(t){GN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class WN extends m.Component{constructor(){super(...arguments),GN(this,"state",{isShowDetail:!1,swap:null}),GN(this,"getAllowed",(e=>"SWAP_AUTOMATIC"===e)),GN(this,"getSwapStatuses",(e=>{var{allowedActionForSkills:t,allowedActionForTasks:r,allowedActionForWorkActivities:i}=e;return{isSkills:this.getAllowed(t),isTasks:this.getAllowed(r),isActivities:this.getAllowed(i)}})),GN(this,"getSwapUsers",(e=>{if(!e)return null;var{request:t,comparedResponses:r=[]}=e;return{userRequest:t,userResponse:(0,j.xb)(r)?{}:r[0].response}})),GN(this,"getTitleDetail",((e,t)=>{var{userRequest:r,userResponse:i}=e,s=t(LN),n=t(HN);return"".concat(s,": ").concat(r.userName," ").concat(n," ").concat(i.userName)})),GN(this,"getUserObj",(e=>{var{userId:t,start:r,end:i}=e;return{userId:t,from:r,to:i}})),GN(this,"changeDetailShow",(e=>{var{getUserReqResSwap:t}=this.props,r=this.getSwapUsers(e),i=this.getUserObj(r.userRequest),s=this.getUserObj(r.userResponse),n={request:i,response:s};e.request.status===x.cm.APPROVED_BY_MANAGER||e.request.status===x.cm.AUTOMATIC_SWAP?t({request:BN(BN({},s),{},{userId:i.userId}),response:BN(BN({},i),{},{userId:s.userId})}):t(n),this.setState((t=>({isShowDetail:!t.isShowDetail,swap:e})))})),GN(this,"hiddenDetailShow",(()=>{this.props.clearUserToFromActivities(),this.setState({isShowDetail:!1})}))}render(){var e,t,r,i,{isLoading:s,list:n,getAllSwap:a,intl:{formatMessage:o}}=this.props,{isShowDetail:l,swap:c}=this.state,d={},p="";if(s)return(0,u.jsx)("div",{className:"swap-scroll-list scroll",children:(0,u.jsx)(Z.Z,{})});if(c){var h=(0,j.xb)(c.comparedResponses)?{}:c.comparedResponses[0];r=this.getSwapUsers(c),d=this.getSwapStatuses(h)||{},p=this.getTitleDetail(r,o),i=c.request.status===x.cm.APPROVED_BY_MANAGER||c.request.status===x.cm.AUTOMATIC_SWAP?{request:BN(BN({},r.userRequest),{},{start:r.userResponse.start,end:r.userResponse.end}),response:BN(BN({},r.userResponse),{},{start:r.userRequest.start,end:r.userRequest.end})}:{request:BN({},r.userRequest),response:BN({},r.userResponse)}}return(0,u.jsxs)("div",{className:"swap-scroll-list scroll",children:[(0,u.jsx)("table",{className:"table-swap",children:(0,u.jsx)("tbody",{children:n.map(((e,t)=>{var r=(0,j.xb)(e.comparedResponses)?{}:e.comparedResponses[0].response;return(0,u.jsx)(_T,{fromUser:e.request,toUser:r||{},changeDetail:this.changeDetailShow,swap:e},e.id||t)}))})}),(0,u.jsx)(yk.Z,{open:l,width:1e3,title:p,handleBackArrow:this.hiddenDetailShow,children:(0,u.jsx)(FN,{active:l,userRequest:null===(e=i)||void 0===e?void 0:e.request,userResponse:null===(t=i)||void 0===t?void 0:t.response,statuses:d,onUpdateData:a,onHiddenModal:this.hiddenDetailShow})})]})}}WN.propTypes={formatMessage:c().func.isRequired,intl:c().object.isRequired,isLoading:c().bool.isRequired,list:c().array.isRequired,getUserReqResSwap:c().func.isRequired,clearUserToFromActivities:c().func.isRequired,getAllSwap:c().func.isRequired};const UN=(0,v.ZP)(WN);class VN extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{getAllSwap:t}=this.props;"actual"===(null==e?void 0:e.filterMode)?t({}):t(e)}))}render(){var{intl:{formatMessage:e},isLoading:t,list:r,users:i=[],clearSwapList:s,getUserReqResSwap:n,clearUserToFromActivities:a,setActiveRefreshBtn:o}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(MT,{classContainer:"container",onChange:this.handleChange,users:i,formatMessage:e,clearSwapList:s,setRefreshBtn:o}),(0,u.jsx)(UN,{formatMessage:e,isLoading:t,list:r,getUserReqResSwap:n,clearUserToFromActivities:a,getAllSwap:this.handleChange})]})}}VN.defaultProps={isLoading:!1,list:[],users:[]},VN.propTypes={intl:P.gm.isRequired,isLoading:c().bool,list:c().array,users:c().array,getAllSwap:c().func.isRequired,clearSwapList:c().func.isRequired,getUserReqResSwap:c().func.isRequired,clearUserToFromActivities:c().func.isRequired,setActiveRefreshBtn:c().func.isRequired};const zN=VN;var YN={getAllSwap:FP.getAllSwap,getAllUsers:FP.getAllUsers,clearSwapList:FP.clearSwapList,getUserReqResSwap:FP.getUserReqResSwap,clearUserToFromActivities:FP.clearUserToFromActivities,setActiveRefreshBtn:FP.setActiveRefreshBtn};const QN=(0,o.compose)((0,s.$j)((e=>({isLoading:(0,Tu.getSwapLoading)(e),list:(0,Tu.getSwapList)(e),users:(0,Tu.getSwapUsers)(e),groupId:(0,Y.Wx)(e)})),YN),(0,U.Z)((e=>{var{props:t}=e;t.getAllSwap(),t.getAllUsers(t.groupId)})),v.ZP)(zN);var KN=(0,u.jsx)(J.Z,{id:"Requests.downloadReport",defaultMessage:[{type:0,value:"Выгрузить отчет по заявкам"}]}),XN=e=>{var{groupId:t,shouldShow:r,getRequestsExcel:i}=e,n=(0,s.v9)(lm),a=(0,j.xb)(n)||"actual"===n.selectedValue,o=iw((e=>{var{from:t,to:r,isApproved:i,isDeclined:s,isProcessing:n}=e;return{from:t,to:r,isApproved:i,isDeclined:s,isProcessing:n}})(n),t),l=(e=>({from:x.ZP.START_OF_TIME,to:x.ZP.END_OF_TIME,groupId:e,statuses:["NOT_APPROVED"]}))(t);return(0,u.jsx)(u.Fragment,{children:r&&(0,u.jsxs)(Ae.Z,{className:"fcygOadoVFs1sM8tWNwqDA==",onClick:()=>{i(a?l:o)},children:[(0,u.jsx)(et.ZP,{glyph:et.gq}),(0,u.jsx)("span",{className:"K4BEqkwzDbWOMN7d9SEK-g==",children:KN})]})})};XN.propTypes={groupId:c().string.isRequired,shouldShow:c().bool.isRequired,getRequestsExcel:c().func.isRequired};const JN=XN;var $N=(0,u.jsx)(J.Z,{id:"ScheduleChange.Title",defaultMessage:[{type:0,value:"Изменение расписания"}]}),eR=(0,u.jsx)(J.Z,{id:"ScheduleChangeSwap.Title",defaultMessage:[{type:0,value:"Обмен сменами"}]}),tR=e=>{var{refreshBtn:{isActive:t,filter:r},getAllSwap:i,groupId:s,user:n,isScheduleExchangeAvailable:a,getRequestsExcel:o,getRequests:l}=e,[c,d]=(0,m.useState)(!0),[p,h]=(0,m.useState)(!1),f=i,v=t;c&&(f=()=>{l({id:s})},v=t);var y=(0,X.BC)(n,x.ZP.RIGHTS.SWAP_SCHEDULE);return(0,u.jsxs)("div",{className:"flex-container flex-container_vertical flex-item flex-item_flexible section section_collapsible-menu filter swap",children:[(0,u.jsxs)("div",{className:"TeIEsh8pCJxhRALH6DkcVA==",children:[(0,u.jsx)(GP,{isActive:v,filter:r,onClick:f}),(0,u.jsx)(UP,{activeCheck:()=>{d(!0),h(!1)},keyCheck:"isScheduleActive",title:$N,active:c}),(0,u.jsx)(UP,{activeCheck:()=>{d(!1),h(!0)},keyCheck:"isSwapActive",title:eR,active:p,hidden:!y||!a}),(0,u.jsx)(JN,{groupId:s,shouldShow:c,getRequestsExcel:o})]}),c&&(0,u.jsx)(jT,{idCurrentGroup:s}),p&&(0,u.jsx)(QN,{})]})};tR.defaultProps={isScheduleExchangeAvailable:!1,user:{}},tR.propTypes={isScheduleExchangeAvailable:c().bool,user:c().object,refreshBtn:c().shape({isActive:c().bool.isRequired,filter:c().object.isRequired}).isRequired,getAllSwap:c().func.isRequired,getRequests:c().func.isRequired,groupId:P.K5.isRequired,getRequestsExcel:c().func.isRequired};const rR=tR,iR=(0,s.$j)((e=>({isScheduleExchangeAvailable:(0,B.vH)(e,pa.dc),refreshBtn:(0,Tu.getSwapRefresh)(e),groupId:(0,Y.Wx)(e),user:(0,C.ts)(e)})),{setActiveRefreshBtn:FP.setActiveRefreshBtn,getAllSwap:FP.getAllSwap,getRequests:Py.getRequests,getRequestsExcel:Py.getRequestsExcel})(rR);var sR=r(33758),nR=r(73430),aR=r(78965),oR=r(76945),lR=r(5397),cR=r(47787),dR=r(282);const uR="oYwgwPufQkcRdd50TnB+Hw==",pR="ffZqrHXIKZgBf8Uz0nv8mg==",hR="cix8VU-ElumLB0xlpGPDXg==",fR="PdhxIMp6eaJCiRu83BYLrw==",mR="AjMUU8-DwxvRDaWtEPusjA==",vR="_59LbrBPAQadPYwC92CT2cg==",yR="wyBle-XUj06CAXHh3hUq6g==";var gR=r(32554),bR=r(85311),jR=r(25022);const xR="+kGEFM5wHuxtFavssNwVDQ==";class SR extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"openedNodes",void 0),this.openedNodes=e.openedNodes}render(){var{queues:e,onlyGroups:t,showQueues:r,style:i,value:s,onChange:n}=this.props;if(e&&s&&(!this.openedNodes||0===Object.keys(this.openedNodes).length)){var a={};this.openedNodes=this.openedNodes||{},(0,X._u)(e,"children",((e,t)=>a[t.id]={parent:e,item:t}));for(var o=a[s]?a[s].parent:void 0;o;)this.openedNodes[o.id]=o,o=a[o.id]?a[o.id].parent:void 0}return(0,u.jsx)("div",{className:"permission-groups__select scrollbar",style:i,children:(0,u.jsx)(jR.Z,{showNode:e=>r||!t||e.group,nodeNameKey:"groupName",treeRoot:e,nodeStyleGetter:()=>({height:"32px",minHeight:"32px",lineHeight:"32px"}),iconStyle:{margin:"4px"},openedNodes:this.openedNodes,renderLabel:e=>{var t=e.id===s;return(0,u.jsx)("div",{style:{verticalAlign:"top",display:"inline-block"},children:(0,u.jsxs)(AS.Z,{onClick:t=>{n(e.id),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},iconStyle:{height:"12px",width:"12px"},style:{height:"24px",width:"24px",padding:0,fontSize:"15px",justifyContent:"unset"},className:xR,children:[t&&(0,u.jsx)(gR.Z,{color:Qi.mW}),!t&&(0,u.jsx)(bR.Z,{}),(0,u.jsx)("span",{className:me()(xR,"pl"),title:e.groupName,children:e.groupName})]})})}})})}}SR.propTypes={onChange:c().func.isRequired,queues:c().object.isRequired,showQueues:c().bool.isRequired,value:c().string.isRequired,style:c().object.isRequired,openedNodes:c().object.isRequired,onlyGroups:c().bool.isRequired},SR.contextTypes={muiTheme:c().object};var OR=r(56664);const PR=(0,o.compose)((0,s.$j)(((e,t)=>({queues:t.queues||(t.showQueues?e.settings.queuesHierarchy:e.settings.permissionGroupsTree)})),{fetchQueuesHierarchy:OR.fetchQueuesHierarchy,fetchHierarchyTree:_i.fetchHierarchyTree}),(0,U.Z)((e=>{var{props:t}=e;t.queues&&0!==Object.keys(t.queues).length||(t.showQueues?t.fetchQueuesHierarchy():t.fetchHierarchyTree(t.forceRoot))})))(SR);function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wR(Object(r),!0).forEach((function(t){kR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TR=e=>{var{nameId:t,updateFunc:r,groupMap:i,fetchSchedules:s,isSchemeListShowedByGroup:n,groupId:a,show:o,close:l,title:c,queue:d,item:p}=e,[h,f]=(0,m.useState)(d),[v,y]=(0,m.useState)(p);return(0,m.useEffect)((()=>{y(p),o||f(d)}),[p,d,o]),(0,u.jsx)(rn.Z,{open:o,onClick:l,onKeyDown:e=>{"Escape"===e.key&&l()},children:(0,u.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{minWidth:"400px"},children:[(0,u.jsx)($S.Z,{position:"static",children:(0,u.jsxs)("div",{className:hR,children:[(0,u.jsx)(Mp.Z,{style:{fontSize:"18px",marginLeft:"20px"},children:c}),(0,u.jsx)(Ae.Z,{onClick:l,className:pR,children:(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})})})]})}),(0,u.jsx)("div",{className:"p++",children:(0,u.jsx)(PR,{style:{height:250},value:h,type:"radio",name:"company-structure",onChange:e=>{h!==e&&f(e)}})}),(0,u.jsx)("div",{className:"pb+",style:{textAlign:"center"},children:(0,u.jsx)(dR.Z,{variant:"contained",color:"primary",onClick:()=>{var e,o=null===(e=i[d])||void 0===e?void 0:e.groupName,c=n?{groupId:a}:{},u=CR(CR({},v),{},{groupName:o});t?u[t]=d:u.groupId=d,"function"==typeof r&&r(u,(()=>{l(),s(c)}))},children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaGroupEdit.save",defaultMessage:[{type:0,value:"Сохранить"}]})})})]})})};TR.defaultProps={title:{},show:!1,nameId:"",updateFunc:O.wA},TR.propTypes={close:c().func.isRequired,fetchSchedules:c().func.isRequired,queue:c().string.isRequired,item:c().object.isRequired,updateFunc:c().func,title:c().object,show:c().bool,isSchemeListShowedByGroup:c().bool.isRequired,nameId:c().string,groupId:c().string.isRequired,groupMap:c().objectOf(P.Aj).isRequired};const NR=TR;var RR=(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.title",defaultMessage:[{type:0,value:"Форма копирования смены"}]}),ER=(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.name",defaultMessage:[{type:0,value:"Название смены"}]}),DR=(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.group",defaultMessage:[{type:0,value:"Группа"}]}),AR=(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.copy",defaultMessage:[{type:0,value:"Копировать"}]});function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(r),!0).forEach((function(t){ZR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qR=e=>{var{show:t,close:r,item:i,createFunc:s,onSave:n}=e,[a,o]=(0,m.useState)(""),[l,c]=(0,m.useState)(""),[d,p]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{i&&(o(i.name),c(i.groupId))}),[i]),(0,u.jsx)(IS.G,{show:t,onClose:r,children:(0,u.jsxs)("div",{className:"ops-change-queue-form",style:{minWidth:"400px"},children:[(0,u.jsx)($S.Z,{position:"static",children:(0,u.jsxs)("div",{className:"O1c0cCNCRHj4aLsIF0CNLw==",children:[(0,u.jsx)("div",{style:{fontSize:"18px"},children:RR}),(0,u.jsx)(Ae.Z,{onClick:r,className:"PHr4HrInnZ5FYrjIAoc+SA==",children:(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})})})]})}),(0,u.jsxs)("div",{className:"p++",children:[(0,u.jsx)(aO.Z,{className:!d&&(0,j.xb)(a)?"Ga6uGXyguRiI8q9wArxWww==":"",value:a,label:ER,onFocus:()=>p(!0),onBlur:()=>p(!1),onChange:e=>{var{target:t}=e;return o(t.value)}}),(0,u.jsx)("h2",{children:DR}),(0,u.jsx)(PR,{style:{height:"250px"},value:l,type:"radio",name:"company-structure",onChange:e=>c(e)})]}),(0,u.jsx)("div",{className:"pb+",style:{textAlign:"center"},children:(0,u.jsx)(dR.Z,{disabled:(0,j.xb)(a),variant:"contained",color:"primary",onClick:()=>{var e=IR(IR({},i),{},{name:a,groupId:l});delete e.id,"function"==typeof s&&s(e,(()=>{"function"==typeof n&&n()})),r()},children:AR})})]})})};qR.defaultProps={onSave:O.wA},qR.propTypes={show:c().bool.isRequired,close:c().func.isRequired,item:c().object.isRequired,createFunc:c().func.isRequired,onSave:c().func};const FR=qR;class LR extends m.Component{render(){var{selectedScheduleContainer:e={},scheduleContainer:t,selectScheduleContainer:r,rowStyles:i}=this.props,s=e.id===t.id,{top:n}=i;return(0,u.jsx)("div",{title:t.name,className:"+-orkWZogJK-SANW+bf-jw==",style:{backgroundColor:s?Qi.Gj:void 0,top:n},onClick:()=>r(t),children:(0,u.jsx)("span",{className:"_1WXxfMQzLGgRBypPSc0Ehg==",children:t.name})})}}LR.propTypes={rowStyles:c().object.isRequired,selectedScheduleContainer:c().object.isRequired,scheduleContainer:c().object.isRequired,selectScheduleContainer:c().func.isRequired};var HR={id:"ScheduleSchemaForm.shiftSelect",defaultMessage:"Поиск по сменам"},_R=e=>{var{selectedSchedule:t,schedules:r,selectScheduleContainer:i,intl:{formatMessage:s}}=e,[n,a]=(0,m.useState)(""),o=(0,m.useRef)(null),l=(0,m.useCallback)((()=>(0,j.xb)(r)?[]:n?r.filter((e=>e.name.toLowerCase().includes(n.toLowerCase()))).sort(((e,t)=>e.name>=t.name?1:-1)):r),[r,n]),c=me()("CFc8S+wL6MXOW5KhzK8rmw=="),d=me()("search-field","F5O0sAoFWwc1dyuHJLN--A=="),p=s(HR),h=l(),f=e=>{var{key:r,rowIndex:s,style:n}=e;return(0,u.jsx)(LR,{scheduleContainer:h[s],selectedScheduleContainer:t,selectScheduleContainer:i,rowStyles:n},r)};return(0,u.jsxs)("div",{className:c,style:{height:"100%"},children:[(0,u.jsx)("div",{className:"a7L8zP-i1UGTTVx4uIJU8A==",children:(0,u.jsx)("input",{value:n,type:"text",name:"auto-complete-search",className:d,autoComplete:"off",placeholder:p,onChange:e=>{return t=e.target.value,a(t);var t}})}),(0,u.jsx)("div",{className:"_8kQ+oW7RbxXZfYgGMp3CuQ==",children:(0,u.jsx)(bs.qj,{children:e=>{var{height:t,width:r}=e;return(0,u.jsx)(bs.rj,{style:{overflowX:"hidden"},columnWidth:260,columnCount:1,ref:o,height:t,rowCount:h.length,rowHeight:40,overscanRowCount:10,cellRenderer:f,width:r,className:me()("mY-s6Pw0JobphDR1oTl57g==","scrollbar")})}})})]})};const BR=(0,v.ZP)(_R);_R.defaultProps={selectedSchedule:{},schedules:[],selectScheduleContainer:O.wA},_R.propTypes={intl:P.gm.isRequired,selectedSchedule:c().object,schedules:c().array,selectScheduleContainer:c().func};var GR=r(21940),WR=(0,k.vU)({add:{id:"ScheduleEditor.add",defaultMessage:[{type:0,value:"Добавить активность"}]},selectType:{id:"Common.change",defaultMessage:[{type:0,value:"Изменить"}]},remove:{id:"ScheduleEditor.remove",defaultMessage:[{type:0,value:"Удалить"}]}});class UR extends m.Component{render(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(AS.Z,{onClick:e=>{this.props.onChange(this.props.value),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},iconStyle:{height:"12px",width:"12px"},style:{height:"24px",width:"24px",padding:0,fontSize:"15px"},children:[this.props.checked&&(0,u.jsx)(gR.Z,{color:Qi.mW}),!this.props.checked&&(0,u.jsx)(bR.Z,{})]}),(0,u.jsx)("span",{onClick:e=>{this.props.onChange(this.props.value),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},className:"pl",style:{cursor:"pointer"},children:this.props.label})]})}}UR.defaultProps={label:null,checked:!1},UR.propTypes={onChange:c().func.isRequired,checked:c().bool,value:c().string.isRequired,label:c().any};class VR extends m.Component{renderItem(e){var t=e.id===this.props.value,r=(0,u.jsx)("span",{className:me()(this.props.itemTextClassName,"BbI8ghdObx7hPpRsl+6s1Q=="),style:{color:t?"":"#a2aeb4"},children:e.name});return(0,u.jsx)("label",{className:"radio-button-group__item",children:(0,u.jsx)(UR,{checked:t,name:this.props.name,value:e.id,id:e.id,onChange:e=>{this.props.onChange(e)},label:r})},e.id)}render(){var{values:e=[],className:t}=this.props;return(0,u.jsx)("div",{className:"radio-button-group scrollbar "+t,children:e.map((e=>this.renderItem(e)))})}}VR.defaultProps={className:"",name:"",itemTextClassName:""},VR.propTypes={values:c().array.isRequired,value:c().string.isRequired,onChange:c().func.isRequired,name:c().string,className:c().string,itemTextClassName:c().string};const zR={root:"_6aevCEQQ-pDquPz8y4UqUA==",header:"iSiJXzcatItROx7cys9VwA==",body:"Dd+nP3qs0J-5uJNGxB2nYw==",bottom:"Up70nhEvwDe0WpHaj-53iA==",text:"HNlXgeqLo82JJRGjhrX2-w==",labelReplacingActivity:"_4SFK8RXjkHN0xmqXWfcAIQ==",inputNumber:"mDZd+Rdjgcier4qZ0TjUyw==",checkbox:"OVfRUoOHPTIGGK3ws-LpHQ==",activitiesTime:"mvx8jaP1wKl2aQMUytcg2Q==",activitiesRow:"eR6ekalFSaGCSYHZ8tw-kA==",search:"q7xrzxBvS+sKULnHBK5Zbg=="};function YR(e){var{fixed:t,mainActivity:r,secondaryActivity:i,length:s,step:n}=e;return!(0,j.xb)(r)&&!!(t||!(0,j.xb)(i)&&s&&n)}var QR=(0,u.jsx)(J.Z,{id:"ActivitySelect.floatingActivity",defaultMessage:[{type:0,value:"«Плавающая» активность"}]}),KR={id:"ScheduleShifts.searchByActivities",defaultMessage:"Поиск по активностям"};function XR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JR=ai().bind(zR);class $R extends m.Component{constructor(e){super(e),XR(this,"handleApply",(()=>{var{onChange:e}=this.props;e(this.state)})),XR(this,"filterActivities",(e=>{(0,j.xb)(e)&&this.setState({activities:this.props.activities});var t=this.props.activities.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));this.setState({activities:t})})),XR(this,"stopPropagation",(e=>{e.stopPropagation()})),XR(this,"handleFloatingActivity",(e=>{this.setState({fixed:!e},(()=>{this.state.fixed&&this.setState({step:0,length:0})}))})),XR(this,"roundValue",(e=>5*Math.round(e/5))),this.state={fixed:void 0===e.interval.fixed||e.interval.fixed,step:e.interval.step||0,length:e.interval.length||0,secondaryActivity:e.interval.secondaryActivity,mainActivity:e.value,id:e.value,activities:e.activities||[]}}render(){var{theme:e,onChange:t,value:r,name:i,onMouseUp:s,intl:n}=this.props,{id:a,fixed:o,length:l,step:c,secondaryActivity:d,activities:p}=this.state,h="activity-select"+i,f="activity-select2"+this.props.name;return this.props.showFlexible?(0,u.jsxs)("div",{className:JR("activity-select","root"),onMouseDown:this.stopPropagation,children:[(0,u.jsxs)("div",{className:zR.header,children:[(0,u.jsx)(J.Z,{id:"ScheduleEditor.activitySelect",defaultMessage:[{type:0,value:"Выбор активности"}]}),(0,u.jsx)("input",{type:"text",className:zR.search,placeholder:n.formatMessage(KR),onChange:e=>this.filterActivities(e.target.value)})]}),(0,u.jsxs)("div",{className:JR("body","scroll"),children:[(0,u.jsx)(VR,{className:"radio-button-group_vertical",onChange:e=>this.setState({mainActivity:e,id:e}),values:p,value:a,name:h,onMouseUp:s}),(0,u.jsx)("div",{className:zR.checkbox,children:(0,u.jsx)(Rs.ZP,{checked:!o,onChange:this.handleFloatingActivity,classNameLabel:zR.text,label:QR})}),!o&&(0,u.jsxs)("div",{className:zR.activitiesTime,children:[(0,u.jsxs)("div",{className:zR.activitiesRow,children:[(0,u.jsx)("span",{className:zR.text,children:(0,u.jsx)(J.Z,{id:"ActivitySelect.durationActivity",defaultMessage:[{type:0,value:"Продолжительность активности"}]})}),(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,isRoundValue:!0,value:l,onChange:e=>this.setState({length:e}),classNameInput:zR.inputNumber}),(0,u.jsx)("span",{className:JR(e.minuteSpan,zR.text),children:(0,u.jsx)(J.Z,{id:"ActivitySelect.minuteActivity",defaultMessage:[{type:0,value:"минут"}]})})]}),(0,u.jsxs)("div",{className:zR.activitiesRow,children:[(0,u.jsx)("span",{className:zR.text,children:(0,u.jsx)(J.Z,{id:"ActivitySelect.stepInCorridor",defaultMessage:[{type:0,value:"Шаг в коридоре"}]})}),(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,isRoundValue:!0,value:c,onChange:e=>this.setState({step:e}),classNameInput:zR.inputNumber}),(0,u.jsx)("span",{className:zR.text,children:(0,u.jsx)(J.Z,{id:"ActivitySelect.minuteActivity",defaultMessage:[{type:0,value:"минут"}]})})]}),(0,u.jsx)("div",{className:zR.labelReplacingActivity,children:(0,u.jsx)(J.Z,{id:"ActivitySelect.replacementActivity",defaultMessage:[{type:0,value:"«Замещающая» активность"}]})}),(0,u.jsx)(VR,{className:"radio-button-group_vertical",values:p.filter((e=>e.id!==this.state.mainActivity)),value:d,name:f,onChange:e=>this.setState({secondaryActivity:e})})]})]}),(0,u.jsx)("div",{className:zR.bottom,children:(0,u.jsx)(Ae.Z,{glyph:et.Ir,onClick:this.handleApply,disabled:!YR(this.state),children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]}):(0,u.jsx)("div",{className:"activity-select activity-select-scroll scrollbar",children:(0,u.jsx)(VR,{className:"radio-button-group_vertical",onChange:t,values:p,value:r,name:h})})}}$R.defaultProps={activities:[],step:null,length:null,onMouseUp:null,secondaryActivity:"",name:"",value:"",fixed:!0,interval:{}},$R.propTypes={fixed:c().bool,showFlexible:c().bool.isRequired,activities:c().array,name:c().string,value:c().string,secondaryActivity:c().string,onMouseUp:c().func,onChange:c().func.isRequired,theme:c().object.isRequired,step:c().number,length:c().number,interval:c().object,intl:P.gm.isRequired};const eE=$R;var tE=r(52760);const rE=(0,tE.ZP)((()=>({checkboxDiv:{display:"inline-block",padding:"1em 1em 1em 1.3em"},activitiesTime:{display:"inline-block",padding:"0 1em 1em 1.3em"},inputCheckboxClass:{display:"flex",height:"14px"},inputNumber:{width:"4em"},inputTitleLeft:{marginBottom:"0.5em"},inputTitleRight:{marginTop:"1em",marginBottom:"0.5em"},minuteSpan:{fontSize:"16px",fontWeight:"500"},activitySpan:{paddingBottom:"1em",paddingLeft:"2em"}}))),iE=(0,o.compose)((0,s.$j)((e=>({activities:un(e)})),{fetchWorkActivities:Sa.fetchWorkActivities}),rE,v.ZP)(eE);function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(r),!0).forEach((function(t){aE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oE="insert",lE="update";class cE extends m.Component{constructor(e){var t;super(e),t=this,aE(this,"rootRef",(0,m.createRef)()),aE(this,"onKeyDown",(e=>{if(!e.target||"input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()){if(8===e.which||46===e.which){var t=this.state.proxyActivities.map((e=>e.activity))[0];(t||this.state.allActivitiesSelected)&&this.removeActivity(t)}e.stopPropagation()}})),aE(this,"onDragStop",(()=>{if(this.dragStartCoordinates){this.dragStartCoordinates=void 0;var e={dragDelta:{x:0,y:0,seconds:0}},t=this.state.dragDelta.x*this.secondInPixels;t=Math.ceil(t/this.props.step)*this.props.step,Math.abs(t)>=this.props.step&&(e=nE(nE({},e),{},{proxyActivities:[],allActivitiesSelected:!1}),this.state.allActivitiesSelected?(this.props.activities.forEach((e=>{var r=Math.max(0,X.xs(e.start)+t);e.start=X.He(r);var i=Math.max(600,X.xs(e.end)+t);e.end=X.He(i)})),this.props.onChange(this.props.activities)):this.props.onChange(this.normalizeActivities(this.props.activities))),this.setState(e)}})),aE(this,"onDragStart",(e=>{this.dragStartCoordinates=e.touches?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}})),aE(this,"onMouseDown",((e,t)=>{if(!this.state.allActivitiesSelected){var r=[t];this.setState({proxyActivities:r})}this.onDragStart(e),this.props.stopMouseDownPropagation&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())})),aE(this,"onMouseMove",(e=>{if(this.dragStartCoordinates){var t=!0,r=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,s=r-this.dragStartCoordinates.x,n=i-this.dragStartCoordinates.y,a=s*this.secondInPixels;a=Math.ceil(a/this.props.step)*this.props.step,Math.abs(a-this.state.dragDelta.seconds)>=this.props.step&&this.setState((e=>({proxyActivities:e.proxyActivities.map((e=>{if(e.start){var r=Math.max(0,X.xs(e.activity.start)+a),i=X.He(r);e.end||i<e.activity.end?e.start=i:t=!1}if(e.end){var s=Math.max(600,X.xs(e.activity.end)+a),n=X.He(s);e.start||n>e.activity.start?e.end=n:t=!1}return e})),dragDelta:t?{seconds:a,x:s,y:n}:e.dragDelta})))}})),aE(this,"removeActivity",(e=>{if(this.state.allActivitiesSelected||1===this.props.activities.length)this.props.onChange([]);else{var{activities:t}=this.props,r=t.indexOf(e);if(0!==r){var i=t[r+1];i&&(i.start=e.start)}var s=t.filter((t=>t!==e));this.props.onChange(this.mergeSameType(s))}})),aE(this,"createActivity",(function(e,r){var i,s,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=nE({id:r},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),l=t.props.workActivities[r],c=(0,j.xb)(l.duration)?900:60*l.duration;if(e){n=(s=t.roundToStep((X.xs(e.end)+X.xs(e.start))/2))+c;var d=t.props.activities.indexOf(e),u=X.xs(e.start),p=X.xs(e.end)-u,h=X.He(u+c),f=c<p,m=c===p;if(n<X.xs(e.end))i=[...t.props.activities.slice(0,d),nE(nE({},e),{},{end:X.He(s)}),o,nE(nE({},e),{},{start:X.He(n)}),...t.props.activities.slice(d+1)];else if(d<t.props.activities.length-1){var v=t.props.activities.slice(d+1).map((e=>{var t=X.xs(e.start),r=X.xs(e.end);return f||(e.start=X.He(t+c-p),e.end=X.He(r+c-p)),e}));i=f?[...t.props.activities.slice(0,d),nE(nE({},o),{},{start:e.start,end:h}),nE(nE({},e),{},{start:h}),...v]:[...t.props.activities.slice(0,d),nE(nE({},o),{},{start:e.start,end:h}),...v]}else i=!f||m?[...t.props.activities.slice(0,d),nE(nE({},o),{},{start:e.start,end:h})]:[...t.props.activities.slice(0,d),nE(nE({},o),{},{start:e.start,end:h}),nE(nE({},e),{},{start:h})]}else if(t.props.activities.length){var{activities:y}=t.props,g=X.xs(y[0].start),b=X.xs(y[y.length-1].end),x=(0,Rn.R0)(s=0,t.secondInPixels,a);X.xs((0,ft.ni)(x))<g?s=(n=g)-c:n=(s=b)+c,(i=[...y]).unshift(o)}else n=(s=void 0===a?t.roundToStep(t.props.endSecond+t.props.startSecond/2):Math.ceil(a*t.secondInPixels/t.props.step)*t.props.step)+c,i=[o];86400===c?(o.start="00:00",o.end="24:00",t.props.onChange(t.mergeSameType(i.filter((e=>"00:00"===e.start))))):(o.start=X.He(s),o.end=X.He(n),t.props.onChange(t.mergeSameType(i)))})),aE(this,"normalizeActivities",(e=>{var t=this.sortActivities(e),r=[];return t.forEach(((i,s)=>{var n=s+1,a=s-1,o=t[n],l=t[a],c=this.state.proxyActivities.find((e=>e.activity===o)),d=this.state.proxyActivities.find((e=>e.activity===i));if(i.start=d&&d.start?d.start:i.start,i.end=d&&d.end?d.end:i.end,l&&d){var u=d.start||i.start;do{l&&l.start>=i.start&&l.end<=i.end&&(r.push(l),a--,(l=t[a])&&(l.end=u))}while(l&&l.start>u)}if(o&&d){var p=d.end||i.end;o.start=p;do{o.end<i.end&&(r.push(o),n++,(o=t[n])&&(o.start=p))}while(o&&o.end<p)}if(!d&&o){var h=c&&c.start?c.start:o.start,f=c&&c.end?c.end:o.end;i.end>f&&(t=this.sortActivities([...t,{id:i.id,start:f,end:i.end,mainActivity:i.mainActivity||i.id}])),h>i.start&&(i.end=h)}e.length>1&&i.start===i.end&&r.push(i)})),(t=t.filter((e=>-1===r.indexOf(e)))).forEach(((e,r)=>{t[r-1]&&e.start>t[r-1].end&&(e.start=t[r-1].end)})),this.mergeSameType(t)})),aE(this,"changeActivityType",(function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.id=r,Object.keys(i).forEach((t=>e[t]=i[t])),t.props.onChange(t.mergeSameType(t.props.activities))})),aE(this,"mergeSameType",(e=>{var t=[];return this.sortActivities(e).forEach((e=>{var r=t[t.length-1];r&&r.mainActivity===e.mainActivity&&r.id===e.id?r.end=e.end:t.push(e)})),t})),aE(this,"sortActivities",(e=>e.sort(((e,t)=>{var r=this.state.proxyActivities.find((t=>t.activity===e)),i=this.state.proxyActivities.find((e=>e.activity===t)),s=r&&r.start?r.start:e.start,n=r&&r.end?r.end:e.end,a=i&&i.start?i.start:t.start,o=i&&i.end?i.end:t.end;return s===a?n>o?1:-1:s>a?1:-1})))),aE(this,"unSelectActivities",(e=>{e.target.attributes&&e.target.attributes[cE.DRAGGABLE_OWNER]&&e.target.attributes[cE.DRAGGABLE_OWNER].value===this.id||this.state.proxyActivities.length&&this.setState({proxyActivities:[],allActivitiesSelected:!1})})),this.id=X.Vj(),this.state={proxyActivities:[],dragDelta:{x:0,y:0,seconds:0},allActivitiesSelected:!1,addActivityOptions:null}}componentDidMount(){this.props.readonly||(document.addEventListener("mousedown",this.unSelectActivities,!1),document.addEventListener("mouseup",this.onDragStop,!1),document.addEventListener("touchend",this.onDragStop,!1),document.addEventListener("mousemove",this.onMouseMove,!1),document.addEventListener("touchmove",this.onMouseMove,!1),this.rootRef.current.addEventListener("keydown",this.onKeyDown,!1))}componentWillUnmount(){document.removeEventListener("mousedown",this.unSelectActivities,!1),document.removeEventListener("mouseup",this.onDragStop,!1),document.removeEventListener("touchend",this.onDragStop,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("touchmove",this.onMouseMove,!1),this.rootRef.current.removeEventListener("keydown",this.onKeyDown,!1)}getContextMenuItems(e){var t=[],{intl:r}=this.props;e&&!0===e.fixed&&(e.secondaryActivity=null);var i=e&&e.mainActivity;return t.push({label:r.formatMessage(WR.add),icon:(0,u.jsx)(et.ZP,{glyph:et.dt}),preventAutoClose:!0,handler:t=>{this.setState({addActivityOptions:{mainActivityId:i,activity:e,leftOffset:t,mode:oE}})}}),(0,j.xb)(e)||(t.push({label:r.formatMessage(WR.selectType),icon:(0,u.jsx)(et.ZP,{glyph:et.pB}),preventAutoClose:!0,handler:()=>{this.setState({addActivityOptions:{mainActivityId:i,activity:e,mode:lE}})}}),t.push({label:r.formatMessage(WR.remove),icon:(0,u.jsx)(et.ZP,{glyph:et.XH}),handler:()=>this.removeActivity(e)})),t}roundToStep(e){return Math.ceil(e/this.props.step)*this.props.step}render(){var{workActivities:e,activities:t,endSecond:r=86400,startSecond:i=0,widthInPixels:s,heightInPixels:n,orientation:a="horizontal",readonly:o,showActivityText:l,onClick:c,style:d}=this.props,{addActivityOptions:p}=this.state;return this.componentWidthInPixels=s||(this.rootRef.current?this.rootRef.current.offsetWidth:100),this.secondInPixels=(r-i)/this.componentWidthInPixels,(0,u.jsxs)("div",{style:nE({width:s||"100%",height:n||"100%"},d),children:[(0,u.jsx)(tn,{items:o?[]:this.getContextMenuItems(),style:{width:s||"100%",height:n||"100%"},children:(0,u.jsx)("div",{onClick:c,tabIndex:0,ref:this.rootRef,className:a+"-schedule-editor schedule-editor disable-selection--deep",style:{position:"relative",width:s?s+"px":"100%",height:n?n+"px":"100%"},children:t.map(((s,n)=>{var c=nE(nE({},s),{},{activityModel:e[s.id||s.mainActivity],secondaryActivityModel:e[s.secondaryActivity],startSecond:X.xs(s.start),endSecond:X.xs(s.end)}),d=this.state.proxyActivities.find((e=>e.activity===s)),p=c.startSecond/(r-i)*100+"%",h=(c.endSecond-c.startSecond)/(r-i)*100+"%",f=((d&&d.end?X.xs(d.end):c.endSecond)-(d&&d.start?X.xs(d.start):c.startSecond))/(r-i)*100,m=this.state.dragDelta.x+"px";d&&!d.start&&d.end&&(m=0);var v=o?"":" grabbable"+(this.dragStartCoordinates?" grabbable_active":""),y="".concat(c.activityModel?c.activityModel.name:""," (").concat(X.xY(c.start)," - ").concat(X.xY(c.end),")"),g=c.secondaryActivityModel?"".concat(c.secondaryActivityModel?c.secondaryActivityModel.name:""," (").concat(c.step,"/").concat(c.length,")"):"",b=c.activityModel?c.activityModel.color:"black",j=X._T(b)?"white":"#77828c";return(0,u.jsxs)(tn,{items:o?[]:this.getContextMenuItems(s),style:{left:p,width:h,position:"absolute",height:"100%",top:0},children:[(!this.state.allActivitiesSelected||this.state.allActivitiesSelected&&0===t.indexOf(s))&&d&&(0,u.jsx)("span",{className:"".concat(a,"-schedule-editor__flag-wrapper ").concat(a,"-schedule-editor__flag-wrapper_start"),children:(0,u.jsx)("span",{[cE.DRAGGABLE_OWNER]:this.id,className:"".concat(a,"-schedule-editor__flag ").concat(a,"-schedule-editor__flag_start"),style:{cursor:"ew-resize",right:d.start?-this.state.dragDelta.x+"px":"inherit"},onTouchStart:e=>this.onMouseDown(e,{activity:s,start:s.start}),onMouseDown:e=>this.onMouseDown(e,{activity:s,start:s.start}),children:X.xY(d.start||s.start)})}),d&&(0,u.jsx)("div",{className:"click-through lifted",style:{backgroundColor:c.activityModel?c.activityModel.color:"black",left:m,width:f*this.componentWidthInPixels/100+"px",position:"absolute",height:"100%",top:0}}),(0,u.jsx)("div",{[cE.DRAGGABLE_OWNER]:this.id,style:{opacity:d?.5:1,width:"100%",height:"100%",cursor:o?"initial":"grab",backgroundColor:b,overflow:"hidden"},className:"".concat(a,"-schedule-editor__activity")+v,onTouchStart:o?void 0:e=>this.onMouseDown(e,{activity:s,start:s.start,end:s.end}),onMouseDown:o?void 0:e=>this.onMouseDown(e,{activity:s,start:s.start,end:s.end}),onDoubleClick:o?void 0:()=>{var e=t.map((e=>({activity:e,start:e.start,end:e.end})));this.setState({proxyActivities:e,allActivitiesSelected:!0})},title:y+" "+g,children:(0,u.jsxs)("div",{style:{display:"flex",pointerEvents:"none",overflow:"hidden",color:j},children:[l?(0,u.jsx)("div",{className:"mh",style:{flex:"1 1",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:y}):null,s.secondaryActivity&&(0,u.jsxs)("b",{style:{flex:"0 0"},children:["~",s.step,"/",s.length]})]})}),(!this.state.allActivitiesSelected||this.state.allActivitiesSelected&&t.indexOf(s)===t.length-1)&&d&&(0,u.jsx)("span",{className:"".concat(a,"-schedule-editor__flag-wrapper ").concat(a,"-schedule-editor__flag-wrapper_end"),children:(0,u.jsx)("span",{[cE.DRAGGABLE_OWNER]:this.id,className:"".concat(a,"-schedule-editor__flag ").concat(a,"-schedule-editor__flag_end"),style:{cursor:"ew-resize",left:d.end?this.state.dragDelta.x+"px":"inherit"},onTouchStart:e=>this.onMouseDown(e,{activity:s,end:s.end}),onMouseDown:e=>this.onMouseDown(e,{activity:s,end:s.end}),children:X.xY(d.end||s.end)})})]},n)}))})}),(0,u.jsx)(rn.Z,{open:p,onClose:()=>this.setState({addActivityOptions:null}),children:p&&(0,u.jsx)(iE,{showFlexible:!0,value:p.mainActivityId,onChange:e=>{tn.closeAll();var t=e.id||e.mainActivity;switch(p.mode){case oE:this.createActivity(p.activity,t,p.leftOffset,e),this.setState({addActivityOptions:null});break;case lE:this.changeActivityType(p.activity,t,e),this.setState({addActivityOptions:null});break;default:throw Error("Unknown mode")}GR.Z.closeDetachedPopup()},activities:e,interval:p.activity})})]})}}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(r),!0).forEach((function(t){pE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}aE(cE,"DRAGGABLE_OWNER","data-draggable-owner"),cE.defaultProps={activities:[],style:{},orientation:"horizontal",stopMouseDownPropagation:!1,readonly:!1,showActivityText:!1,floatingActivities:!1,onClick:O.wA},cE.propTypes={style:c().object,orientation:c().string,step:c().number.isRequired,heightInPixels:c().number.isRequired,widthInPixels:c().number.isRequired,minWidth:c().number.isRequired,startSecond:c().number.isRequired,endSecond:c().number.isRequired,activities:c().array,workActivities:c().object.isRequired,onChange:c().func.isRequired,stopMouseDownPropagation:c().bool,readonly:c().bool,showActivityText:c().bool,onCreateReject:c().func.isRequired,floatingActivities:c().bool,onClick:c().func,intl:c().shape({formatMessage:c().func.isRequired}).isRequired};const hE=(0,o.compose)((0,s.$j)((e=>({workActivities:pn(e),workActivitiesStatus:dn(e)})),{fetchWorkActivities:Sa.fetchWorkActivities},((e,t,r)=>{return uE(uE(uE(uE({},e),t),r),{},{activities:(i=!1,r.activities.map((e=>((e.end<=e.start||i)&&(e.end>e.start&&(e.start=(0,X.He)((0,X.xs)(e.start)+86400)),i=!0,e.end=(0,X.He)((0,X.xs)(e.end)+86400)),e)))),onChange:e=>{r.validate&&!r.validate(e)||r.onChange(e.map((e=>(e.start=(0,X.xY)(e.start),e.end=(0,X.xY)(e.end),e))))}});var i})),(0,U.Z)((e=>{var{props:t}=e;t.workActivitiesStatus===Oa.Z.idle&&t.fetchWorkActivities()})),v.ZP)(cE);class fE extends m.Component{render(){var{index:e,schedule:t,removeVariant:r,editActivity:i,currentOpenedSchedule:s,containsNightSchedules:n,onClick:a,user:o}=this.props,l=s===e,c=(0,X.BC)(o,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD),d=t.activities||[];return(0,u.jsxs)("div",{className:"schedule__list-item mv",style:{position:"relative",height:l?"50px":"25px",opacity:l?1:.4},children:[c&&(0,u.jsx)("div",{className:"schedule__list-remove",onClick:t=>{t.stopPropagation(),r(e)},children:"✕"}),(0,u.jsxs)("div",{style:{marginLeft:"24px",backgroundColor:"lightgrey",height:"100%",position:"relative"},onClick:a,children:[(0,u.jsx)(hE,{startTime:0,step:300,floatingActivities:!0,endSecond:3600*(n?48:24),onChange:t=>{i(e,Object.keys(t).map((e=>t[e])))},readonly:!c,activities:d,showActivityText:!0,schedule:!0,getSecond:e=>(0,X.xs)(e),getTime:e=>(0,X.He)(e),workActivityIdPropertyName:"mainActivity",startTimePropertyName:"start",endTimePropertyName:"end"}),(0,u.jsx)(Um,{hoursCount:n?48:24,style:{paddingTop:0}})]})]},e)}}fE.propTypes={index:c().number.isRequired,schedule:c().object.isRequired,removeVariant:c().func.isRequired,editActivity:c().func.isRequired,currentOpenedSchedule:c().number.isRequired,containsNightSchedules:c().bool.isRequired,onClick:c().func.isRequired,user:c().object.isRequired};const mE=fE;var vE=r(79724),yE=r(62808),gE=[{name:(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.24hour",defaultMessage:[{type:0,value:"24 часа"}]}),id:"24"},{name:(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.48hour",defaultMessage:[{type:0,value:"48 часов"}]}),id:"48"}],bE=e=>{var{input:{value:t,onChange:r},className:i}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(mb.Z,{onChange:r,value:t,step:5,className:i})})};bE.propTypes={input:c().object.isRequired,className:c().string.isRequired};const jE=bE,xE="ThFtc7ngz7GpAR16FjG+1g==";class SE extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getStepError",(()=>(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.stepIsRequired",defaultMessage:[{type:0,value:"Поле 'Шаг времени' обязательно для заполнения"}]}))),this.state={scheduleLength:24}}shouldComponentUpdate(e){return this.state.scheduleLength!==e.scheduleLength}render(){var{handleSubmit:e,onScheduleLengthChange:t,intl:r,canEdit:i,formValues:s}=this.props;return(0,u.jsx)("div",{style:{position:"relative"},children:(0,u.jsxs)("form",{onSubmit:e,children:[(0,u.jsxs)("div",{className:"row-item",children:[(0,u.jsx)("p",{className:"schedule-form__label disable-selection",children:(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.spanStartChanging",defaultMessage:[{type:0,value:"Промежуток начала смены"}]})}),(0,u.jsxs)("div",{className:"hAdUHQOneR-6-zpEIKzb+w==",children:[(0,u.jsx)(_e.Z,{name:"start",component:jE,type:"number",className:xE}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(_e.Z,{name:"end",component:jE,type:"number",className:xE})]})]}),(0,u.jsxs)("div",{className:"row-item schedule-form__number-input ml+",children:[(0,u.jsx)("p",{className:"schedule-form__label disable-selection",children:(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.stepTime",defaultMessage:[{type:0,value:"Шаг времени"}]})}),(0,u.jsx)(_e.Z,{name:"step",customError:this.getStepError(),classNameInput:"EFwlBgs2uBRJ4x1Y12K2dg==",component:yE.Z,minValue:5,isMultipleFive:!0,notEmpty:!0})]}),(0,u.jsxs)("div",{className:"row-item ml+",children:[(0,u.jsx)("p",{className:"schedule-form__label disable-selection",children:(0,u.jsx)(J.Z,{id:"ScheduleGenerateForm.scheduleLength",defaultMessage:[{type:0,value:"Период"}]})}),(0,u.jsx)("div",{className:"schedule-form__period-select",children:(0,u.jsx)(_e.Z,{name:"scheduleLength",component:e=>{var{input:r}=e;return(0,u.jsx)(VR,{itemTextClassName:"PWIxTFJvM1654P3OXfTivg==",name:"scheduleLength",value:""+this.state.scheduleLength,onChange:e=>{r.onChange(Number(e)),this.setState({scheduleLength:Number(e)}),t&&t(e)},values:gE})}})})]}),(0,u.jsx)("div",{title:r.formatMessage({id:"ScheduleGenerateForm.generateVariants"}),style:{position:"absolute",right:"16px",top:"16px",zIndex:100,height:35},children:(0,u.jsx)(sR.Z,{color:"primary",size:"small",zDepth:4,mini:!0,disabled:!i||(0,j.xb)(null==s?void 0:s.activities),onClick:e,children:(0,u.jsx)(vE.Z,{className:"material-icons",children:"vertical_align_bottom"})})}),(0,u.jsx)("div",{className:"scroll",style:{height:80,paddingTop:20},children:(0,u.jsx)("div",{style:{position:"relative"},className:"flex-item_flexible",children:(0,u.jsxs)("div",{style:{border:"1px solid",borderTop:"none",position:"relative",paddingTop:15,width:48===this.state.scheduleLength?"200%":"100%"},children:[(0,u.jsx)(_e.Z,{name:"activities",component:e=>{var{input:t}=e;return(0,u.jsx)(hE,{startTime:0,endSecond:3600*this.state.scheduleLength,step:300,minWidth:900,minSize:300,heightInPixels:22,showActivityText:!0,floatingActivities:!0,onChange:e=>{t.onChange(e)},activities:t.value||[]})}}),(0,u.jsx)(Um,{showHours:!0,hoursCount:this.state.scheduleLength})]})})})]})})}}SE.defaultProps={canEdit:!1,onScheduleLengthChange:null,formValues:{}},SE.propTypes={handleSubmit:c().func.isRequired,onScheduleLengthChange:c().func,intl:P.gm.isRequired,canEdit:c().bool,formValues:c().object};const OE=SE;function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PE(Object(r),!0).forEach((function(t){CE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kE={start:"required",end:"required",step:{required:!0,moreThanOrEqualTo:5}},TE={start:"00:00",end:"08:00",step:"60"},NE="ScheduleGenerateForm";const RE=(0,o.compose)(v.ZP,(0,s.$j)((e=>({workActivities:un(e),workActivitiesStatus:dn(e),formValues:(0,qe.Z)(NE)(e)})),{generateSchedule:ua.generateSchedule,fetchWorkActivities:Sa.fetchWorkActivities,change:Qr.m,initialize:Qr.j2},((e,t,r)=>wE(wE(wE(wE({},e),r),t),{},{change:t.change.bind(NE),initializeForm:e=>t.initialize(NE,e),onSubmit:e=>{for(var r=(0,X.xs)(e.start),i=(e=>{var{start:t,end:r,scheduleLength:i}=e;if(48===i){var s=ns()(t,ft.wJ).diff(ns()(r,ft.wJ),"seconds");if(s>=0)return 86400-s+(0,X.xs)(t);if(s<0)return Math.abs(s)+(0,X.xs)(t)}return(0,X.xs)(r)})(e),s=!1,n=(0,X.xs)(e.activities[0].start),a=e.activities.map((e=>(e.mainActivity||(e.mainActivity=e.workActivityId),e.end<=e.start||s?(e.end>e.start&&(e.startSecond=(0,X.xs)(e.start)+86400-n),s=!0,e.endSecond=(0,X.xs)(e.end)+86400-n):(e.startSecond=(0,X.xs)(e.start)-n,e.endSecond=(0,X.xs)(e.end)-n),e))),o=r,l=[];o<=i;)l.push({activities:a.map((e=>wE(wE({},e),{},{mainActivity:e.mainActivity||e.id,start:(0,X.He)(e.startSecond+o),end:(0,X.He)(e.endSecond+o)})))}),o+=60*e.step;t.generateSchedule(l)}}))),(0,Fe.Z)({form:NE,validate:(e,t)=>(0,xO.ZP)({data:e,fields:kE,formNameSpace:NE,intl:t.intl}).errors,initialValues:TE}),(0,U.Z)((e=>{var{props:t}=e;t.workActivitiesStatus===Oa.Z.idle&&t.fetchWorkActivities(),t.initializeForm(wE({},TE))})))(OE);function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(r),!0).forEach((function(t){AE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ME extends m.Component{constructor(e){super(e),AE(this,"onScheduleNameChange",(e=>{var{target:t}=e;" "!==t.value.substring(0,1)&&this.setState({scheduleName:t.value},(()=>{this.props.selectedSchedule.name=t.value}))})),AE(this,"createScheduleContainer",(()=>{this.props.selectScheduleContainer({variants:[]}),this.setState({scheduleName:""})})),AE(this,"update",(()=>{var{editSchedule:e,schedule:t,activities:r}=this.props;e(DE(DE({},t),{},{variants:r}))})),AE(this,"save",(()=>{var e,{selectedSchedule:t,saveScheduleContainer:r,fetchSchedules:i,groupId:s,isSchemeListShowedByGroup:n,groupMap:a}=this.props,o=n?{groupId:s}:{},l=null===(e=a[s])||void 0===e?void 0:e.groupName;r(DE(DE({},t),{},{name:this.state.scheduleName,groupName:l}),(()=>{i(o)}))})),AE(this,"closeCopyForm",(()=>{this.setState({isCopyFormVisible:!1})})),this.state={currentOpenedSchedule:null,scheduleLength:24,scheduleName:"",isChangeGroupFormVisible:!1,isCopyFormVisible:!1}}UNSAFE_componentWillReceiveProps(e){if(this.props.isSchemeListShowedByGroup&&this.props.groupId!==e.groupId&&this.props.fetchSchedules({groupId:e.groupId}),e.selectedSchedule&&e.selectedSchedule.name&&this.props.selectedSchedule!==e.selectedSchedule&&this.setState({scheduleLength:e.selectedSchedule.containsNightSchedules?48:24,scheduleName:e.selectedSchedule.name||""}),this.props.groupId!==e.groupId&&this.setState({scheduleName:""}),this.props.activities!==e.activities){var t=e.activities.some((e=>e.activities.some((e=>(0,X.xs)(e.end)>86400))));this.setState({scheduleLength:t?48:24})}}render(){var e,{editActivity:t,removeVariant:r,deleteSchedule:i,saveScheduleContainer:s,activities:n,selectedSchedule:a={},schedules:o=[],unfilteredSchedules:l=[],isSchemeListShowedByGroup:c,selectScheduleContainer:d,intl:p,groupId:h,groupMap:f,user:m,fetchSchedules:v}=this.props,y=null===(e=f[h])||void 0===e?void 0:e.groupName,g=c?o:l;if(!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS))return null;var b=n.some((e=>e.activities.some((e=>e.start>e.end||e.end>="24:00"||e.start>="24:00")))),S=!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)||!a||!a.id,O=(0,u.jsx)(J.Z,{id:"ScheduleMenu.changeQueueTitle",defaultMessage:[{type:0,value:"Форма изменения группы смены"}]}),P=(0,u.jsx)(J.Z,{id:"Managers.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),w=(0,u.jsx)(J.Z,{id:"Schedule.scheduleName",defaultMessage:[{type:0,value:"Название смены"}]});return(0,u.jsxs)("div",{className:"flex-container section",children:[(0,u.jsxs)("div",{className:"By+UQijLYN3QJ0ZfxOLRuw==",children:[(0,u.jsx)(sR.Z,{color:"primary",size:"small",disabled:!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD),zDepth:4,style:{position:"absolute",right:"16px",top:"40px",zIndex:100},onClick:this.createScheduleContainer,children:(0,u.jsx)(nR.Z,{color:Qi.DG.primary1Color,className:"material-icons",children:"add"})}),(0,u.jsx)(BR,{selectedSchedule:a,schedules:g,selectScheduleContainer:d})]}),(0,u.jsx)("div",{style:{flex:"1 1",flexDirection:"column"},children:(0,u.jsxs)("div",{style:{flex:"1 1",flexDirection:"column"},children:[(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)&&(0,u.jsxs)("div",{className:"p+",style:{flex:"0 0 36px"},children:[(0,u.jsx)("span",{className:"nTtJO9GGWn1gAXg69ACjLg==",children:P}),(0,u.jsx)("span",{children:":"}),(0,u.jsx)("span",{className:"zEQwWERRXwdEt1o55G8zWA==",children:this.props.selectedSchedule.groupName||y}),(0,u.jsx)("span",{className:"e1fgDoY7figunVuG+OIgKw==",children:w}),(0,u.jsx)("span",{children:":"}),(0,u.jsx)(aO.Z,{title:this.state.scheduleName,className:"_2kuP823Wwp359CheLwB1Ig==",error:!this.state.scheduleName,id:(0,X.Vj)(),helperText:this.state.scheduleName?void 0:(0,u.jsx)(J.Z,{id:"Form.fieldIsRequiredError",values:{fieldName:" "}}),value:this.state.scheduleName,onChange:this.onScheduleNameChange}),(0,u.jsx)("div",{title:p.formatMessage({id:"Common.save"}),style:{float:"right",paddingRight:"8px"},children:(0,u.jsx)(sR.Z,{color:"primary",size:"small",className:"mh",mini:!0,disabled:!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)||!a||(0,j.xb)(this.state.scheduleName),onClick:this.save,children:(0,u.jsx)(aR.Z,{color:Qi.DG.primary1Color,className:"material-icons",children:"save"})})}),(0,u.jsx)("div",{title:p.formatMessage({id:"Common.delete"}),style:{float:"right",paddingRight:"16px"},children:(0,u.jsx)(VC.I,{disabled:S,onSubmit:()=>{i(a.id),this.setState({scheduleName:""}),this.createScheduleContainer()},children:(0,u.jsx)(sR.Z,{color:"secondary",size:"small",className:"mh",mini:!0,disabled:S,secondary:!0,children:(0,u.jsx)(oR.Z,{className:"material-icons"})})})}),(0,u.jsx)("div",{title:p.formatMessage({id:"Common.moveToAnotherGroup"}),style:{float:"right",paddingRight:"16px"},children:(0,u.jsx)(sR.Z,{color:"secondary",size:"small",className:"mh",mini:!0,disabled:!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)||!a||!a.id,secondary:!0,onClick:()=>{this.setState({isChangeGroupFormVisible:!0})},children:(0,u.jsx)(lR.Z,{className:"material-icons",children:"list"})})}),(0,u.jsx)("div",{title:p.formatMessage({id:"Common.copy"}),style:{float:"right",paddingRight:"16px"},children:(0,u.jsx)(sR.Z,{color:"secondary",size:"small",className:"mh",mini:!0,disabled:!(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)||!a||!a.id,secondary:!0,onClick:()=>{this.setState({isCopyFormVisible:!0})},children:(0,u.jsx)(cR.Z,{className:"material-icons",children:"content_copy"})})})]}),(0,u.jsx)("div",{style:{flex:"0 0 150px"},children:(0,u.jsx)(pd.Z,{zDepth:2,className:"p+",children:(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)&&(0,u.jsx)(RE,{canEdit:(0,X.BC)(m,x.ZP.RIGHTS.SCHEDULE_CONTAINERS,x.ZP.CRUD)})})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{style:{flex:"0 0 24px"},className:"ph+",children:(0,u.jsx)(J.Z,{id:"Schedule.possibleShifts",defaultMessage:[{type:0,value:"Варианты рабочих смен"}]})}),(0,u.jsx)("div",{style:{flex:"1"},className:"scroll",children:(0,u.jsxs)("div",{style:{width:b?"200%":"100%"},children:[(0,u.jsx)("div",{style:{marginLeft:"24px",position:"relative",height:"30px"},children:(0,u.jsx)(Um,{hoursCount:b?48:24,showHours:!0,style:{marginTop:5}})}),(0,u.jsx)("div",{className:"VpusZ9IaMBk+b8xm6J9RwA==",style:{marginTop:5},children:(0,u.jsx)(Be.$B,{children:(0,u.jsx)("div",{children:n.map(((e,i)=>(0,u.jsx)(mE,{user:m,schedule:e,index:i,containsNightSchedules:b,editActivity:t,removeVariant:r,onClick:()=>{this.setState({currentOpenedSchedule:i})},currentOpenedSchedule:this.state.currentOpenedSchedule,scheduleLength:this.state.scheduleLength},e.id||i)))})})})]})})]})]})}),(0,u.jsx)(NR,{updateFunc:s,item:a,show:this.state.isChangeGroupFormVisible,close:()=>{this.setState({isChangeGroupFormVisible:!1}),this.createScheduleContainer()},title:O,queue:a.groupId,groupMap:f,fetchSchedules:v,isSchemeListShowedByGroup:c,groupId:h}),(0,u.jsx)(FR,{show:this.state.isCopyFormVisible,close:this.closeCopyForm,item:a,createFunc:s})]})}}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ZE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e){return t=>{var r;return r=class extends m.Component{componentDidUpdate(t,r){e(this,t,r)}render(){return(0,u.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(r),!0).forEach((function(t){ZE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props))}},ZE(r,"displayName","doOnComponentDidUpdate(".concat(t.name||t.displayName||"",")")),r}}ME.contextTypes={muiTheme:c().object},ME.defaultProps={activities:[],selectedSchedule:{},schedule:{},schedules:[],unfilteredSchedules:[]},ME.propTypes={groupMap:c().objectOf(P.Aj).isRequired,editActivity:c().func.isRequired,removeVariant:c().func.isRequired,deleteSchedule:c().func.isRequired,saveScheduleContainer:c().func.isRequired,activities:c().arrayOf(c().object),selectedSchedule:c().object,schedule:c().object,schedules:c().arrayOf(c().object),unfilteredSchedules:c().arrayOf(c().object),fetchSchedules:c().func.isRequired,selectScheduleContainer:c().func.isRequired,editSchedule:c().func.isRequired,intl:c().object.isRequired,user:c().object.isRequired,groupId:c().string.isRequired,isSchemeListShowedByGroup:c().bool.isRequired};var FE=r(99926);function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LE(Object(r),!0).forEach((function(t){_E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const BE=(0,o.compose)(v.ZP,(0,s.$j)((e=>({activities:(0,ij.qF)(e),selectedSchedule:(0,ij.D9)(e),groupMap:(0,B.GJ)(e),unfilteredSchedules:(0,ij.Qs)(e),schedules:(0,ij.ao)(e),generatedSchemas:(0,ij.BC)(e),groupId:(0,Y.Wx)(e),user:(0,C.ts)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup")})),(e=>({fetchSchedules:t=>e((0,ua.fetchSchedules)(t)),fetchSchedule:t=>e((0,ua.fetchSchedule)(t)),editSchedule:(t,r)=>e((0,ua.editSchedule)(t,r)),createSchedule:(t,r)=>e((0,ua.createSchedule)(t,r)),deleteSchedule:t=>e((0,ua.deleteSchedule)(t)),removeVariant:t=>e((0,ua.removeVariant)(t)),editActivity:(t,r)=>e((0,ua.editActivity)(t,r)),addSchedule:t=>e((0,ua.addSchedule)(t)),clearScheduleActivities:()=>e((0,ua.clearScheduleActivities)()),clearSelectedScheduleContainer:t=>e((0,ua.clearSelectedScheduleContainer)(t)),selectScheduleContainer:t=>{e((0,ua.addScheduleAction)(t)),e((0,ua.setSelectedScheduleContainer)(t))},setSelectedScheduleContainer:t=>e((0,ua.setSelectedScheduleContainer)(t))})),((e,t,r)=>HE(HE(HE(HE({},e),t),r),{},{saveScheduleContainer:(r,i)=>{var s={groupName:r.groupName,id:r.id,groupId:r.groupId||e.selectedSchedule.groupId||e.groupId,name:r.name.trim(),variants:e.activities.filter((e=>e.activities&&e.activities.length>0)).map((e=>({start:(0,X.xY)(e.activities[0].start),activities:e.activities.map((e=>{var t=HE(HE({},e),{},{end:(0,X.xY)(e.end),start:(0,X.xY)(e.start),fixed:void 0!==e.fixed?e.fixed:!e.secondaryActivity});return delete t.background,t})),end:(0,X.xY)(e.activities[e.activities.length-1].end)})))};s.id?t.editSchedule(s,i):t.createSchedule(s,(e=>{t.selectScheduleContainer(HE(HE({},e),{},{groupName:r.groupName}))}))},computingForm:(0,u.jsx)(FE.h,HE({},r)),queue:e.groupId}))),qE(((e,t)=>{var{props:r}=e;r.groupId!==t.groupId&&(r.clearScheduleActivities(),r.clearSelectedScheduleContainer())})),(0,Ao.Z)((e=>{var{props:t}=e;t.clearScheduleActivities(),t.clearSelectedScheduleContainer()})),(0,U.Z)((e=>{var{props:t}=e;t.isSchemeListShowedByGroup&&t.groupId?t.fetchSchedules({groupId:t.groupId}):t.fetchSchedules()})))(ME);class GE extends m.PureComponent{render(){var{open:e,children:t}=this.props;return(0,u.jsx)("div",{style:{overflowY:"hidden",maxHeight:e?1e3:0,transition:"max-height 750ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},children:t})}}GE.propTypes={open:c().bool.isRequired,children:c().object.isRequired};var WE=r(93188);const UE="evdoV+W+ZDAqZvt3yhe9nQ==";var VE={administrator:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.administrator",defaultMessage:[{type:0,value:"Администратор"}]}),all:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.all",defaultMessage:[{type:0,value:"Все"}]}),employee:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.employee",defaultMessage:[{type:0,value:"Сотрудник"}]}),manager:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.manager",defaultMessage:[{type:0,value:"Менеджер"}]}),changeWorkActivity:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.changeWorkActivity",defaultMessage:[{type:0,value:"Редактирование активностей"}]}),change_schedule_operator_request:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.change_schedule_operator_request",defaultMessage:[{type:0,value:"Изменение статуса заявки"}]}),generate:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.generate",defaultMessage:[{type:0,value:"Построение расписания"}]}),manualChange:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.manualChange",defaultMessage:[{type:0,value:"Изменение расписания"}]}),other:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.other",defaultMessage:[{type:0,value:"Прочие изменения"}]}),publish:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.publish",defaultMessage:[{type:0,value:"Публикация расписания"}]}),scheduleGeneration:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.scheduleGeneration",defaultMessage:[{type:0,value:"Построение расписания"}]})},zE=e=>VE[e]||e;function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YE(Object(r),!0).forEach((function(t){KE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XE={headerClassName:"virtualized-table__header-cell",cellClassName:"p"},JE={[x.ZP.SCHEDULE_CHANGES.CHANGE_SCHEDULE_OPERATOR_REQUEST]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.change_schedule_operator_request",defaultMessage:[{type:0,value:"Изменение статуса заявки"}]}),[x.ZP.SCHEDULE_CHANGES.OTHER]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.other",defaultMessage:[{type:0,value:"Прочие изменения"}]}),[x.ZP.SCHEDULE_CHANGES.GENERATE]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.generate",defaultMessage:[{type:0,value:"Построение расписания"}]}),[x.ZP.SCHEDULE_CHANGES.PUBLISH]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.publish",defaultMessage:[{type:0,value:"Публикация расписания"}]}),[x.ZP.SCHEDULE_CHANGES.CHANGE_WORK_ACTIVITY]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.changeWorkActivity",defaultMessage:[{type:0,value:"Редактирование активностей"}]}),[x.ZP.SCHEDULE_CHANGES.CHANGE_SCHEDULE]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.change_schedule",defaultMessage:[{type:0,value:"Изменение расписания"}]}),[x.ZP.SCHEDULE_CHANGES.ADDITIONAL_USER_SCHEDULE]:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType.additional_user_schedule",defaultMessage:[{type:0,value:"Дополнительная смена"}]}),[x.ZP.SCHEDULE_CHANGES.SCHEDULE_SWAP]:(0,u.jsx)(J.Z,{id:"Menu.listAllSwap",defaultMessage:[{type:0,value:"Обмен сменами"}]})},$E=e=>{var{users:t}=e,r=(0,X.xn)(t);return[new DO.Z({headerClassName:"virtualized-table__first-header-cell",key:"eventDate",sortable:!0,hasTitle:!1,width:200,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.dateTimeHeader",defaultMessage:[{type:0,value:"Дата | Время"}]}),renderCell:e=>(0,u.jsx)("div",{className:"virtualized-table__first-cell flex-container text-ellipsis pv",children:e.eventDate&&(0,ft.r8)(e.eventDate)})}),new DO.Z(QE(QE({},XE),{},{key:"manager",width:250,hasTitle:!1,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userName",defaultMessage:[{type:0,value:"Кто"}]}),filterable:!1,sortable:!0,getValue:e=>r[e.manager].name,renderCell:e=>{var t="undefined"===r[e.manager].name?"":r[e.manager].name;return(0,u.jsx)("div",{className:"p text-ellipsis",title:t,children:r[e.manager]&&r[e.manager].name||e.manager})}})),new DO.Z(QE(QE({},XE),{},{key:"operator",width:250,hasTitle:!1,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.subjectName",defaultMessage:[{type:0,value:"Кому"}]}),renderCell:e=>(0,u.jsx)("div",{className:"p text-ellipsis",title:r[e.operator].name,children:r[e.operator]&&r[e.operator].name})})),new DO.Z(QE(QE({},XE),{},{key:"changePeriod",width:200,sortable:!0,hasTitle:!1,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changePeriod",defaultMessage:[{type:0,value:"Изменение"}]}),getValue:e=>{var{minStart:t,maxEnd:r}=e;return"".concat(t," ... ").concat(r)},renderCell:e=>{var t=(0,ft.Vb)(e.minStart),r=(0,ft.Vb)(e.maxEnd);return(0,u.jsx)("div",{className:"p text-ellipsis",children:"".concat(t," ... ").concat(r)})}})),new DO.Z(QE(QE({},XE),{},{key:"resource",autoSize:!0,width:250,hasTitle:!1,filterable:!1,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.changeType",defaultMessage:[{type:0,value:"Причина"}]}),getValue:e=>zE(e.resource),renderCell:e=>{var t=JE[e.resource]||e.resource;return(0,u.jsx)("div",{className:"p text-ellipsis",children:t})}}))]},eD=(0,u.jsx)("div",{className:"container mt+",children:(0,u.jsx)(J.Z,{id:"ScheduleChanges.noDataToDisplay",defaultMessage:[{type:0,value:"Нет данных для отображения"}]})}),tD=e=>{var{children:t,isLoading:r,isEmpty:i}=e;return r?(0,u.jsx)(Z.Z,{}):i?eD:t};tD.defaultProps={children:null},tD.propTypes={children:c().node,isLoading:c().node.isRequired,isEmpty:c().node.isRequired};const rD=tD;var iD=[null,"01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"];class sD extends m.PureComponent{render(){return this.props.text?(0,u.jsx)("div",{className:"label",children:this.props.text}):null}}sD.propTypes={text:c().string.isRequired};const nD=sD;class aD extends m.PureComponent{render(){var e,t=(e=this.props.hour,iD[e]);return(0,u.jsx)("div",{className:"hours-line-item",children:(0,u.jsx)(nD,{text:t})})}}aD.propTypes={hour:c().number.isRequired};const oD=aD;class lD extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"generateGrid",(()=>{for(var e=[],t=0;t<24;t++)e.push((0,u.jsx)(oD,{hour:t},t));return e}))}shouldComponentUpdate(){return!1}render(){return(0,u.jsx)("div",{className:"hours-line click-through",children:this.generateGrid()})}}const cD=lD;var dD={height:20,position:"absolute",bottom:0},uD=e=>{var{startSecond:t,schedule:r,userId:i}=e,s=t+86400;return(0,u.jsxs)("div",{className:"schedule-changes-details-item",children:[(0,u.jsx)(Zr.q,{userId:i}),(0,u.jsxs)("div",{className:"inner-wrap",children:[(0,u.jsx)($a,{style:dD,readonly:!0,activities:r,startSecond:t,endSecond:s,heightInPixels:20,showActivityText:!0,onChange:O.wA}),(0,u.jsx)(cD,{})]})]})};uD.propTypes={startSecond:c().number.isRequired,schedule:c().array.isRequired,userId:c().string.isRequired};const pD=uD;var hD=e=>{var{item:t,changeDetails:r}=e,{minStart:i,maxEnd:s,manager:n,operator:a}=t,o=ns()(i,ft._E),l=ns()(s,ft._E),[c,d]=(0,m.useState)(o),{before:p,after:h}=r,f=c.startOf("day").unix();return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(pD,{startSecond:f,schedule:p,userId:n}),(0,u.jsx)(pD,{startSecond:f,schedule:h,userId:a}),(0,u.jsxs)("div",{className:"flex-container",style:{lineHeight:"30px"},children:[(0,u.jsx)("div",{children:(0,u.jsx)(Ae.Z,{onClick:()=>{d(c.clone().subtract(1,"day"))},disabled:c<=o,children:(0,u.jsx)(et.ZP,{glyph:et.Y4})})}),(0,u.jsx)("div",{className:"flex-item_flexible text-align_center",style:{color:Qi.V$},children:c.format(ft._T)}),(0,u.jsx)("div",{children:(0,u.jsx)(Ae.Z,{onClick:()=>{d(c.clone().add(1,"day"))},disabled:c>=l,children:(0,u.jsx)(et.ZP,{glyph:et.LZ})})})]})]})};hD.propTypes=_()({changeDetails:c().shape({before:c().arrayOf(c().object),after:c().arrayOf(c().object)}).isRequired,item:c().shape({manager:P.K5.isRequired,operator:P.K5.isRequired,minStart:(0,zi.Z)(ft._E).isRequired,maxEnd:(0,zi.Z)(ft._E).isRequired}).isRequired});const fD=hD;var mD=r(32041);function vD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yD extends m.Component{constructor(e){super(e),vD(this,"userSelectDataSourceConfig",{text:"name",value:"id",secondaryValue:"type"}),vD(this,"getSelectedUsers",(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>(e[t.id]=t,e)),{});return[...e.map((e=>r[e])),...t.map((e=>r[e]))]})),vD(this,"onUserTypeSelect",(e=>{this.setState({userType:e}),this.setState({selectedUsers:[]})})),vD(this,"onApply",(()=>{var{from:e,to:t,timeFrom:r,timeTo:i,selectedUsers:s}=this.state;this.props.onApply({selectedEmployeeIds:s.filter((e=>e.type===yD.userTypes.employee)).map((e=>e.id)),selectedManagersIds:s.filter((e=>e.type===yD.userTypes.manager)).map((e=>e.id)),from:"".concat(e," ").concat(r),to:"".concat(t," ").concat(i)})})),vD(this,"onUsersSelectChange",(e=>this.setState({selectedUsers:e}))),vD(this,"getSelectedItemsDescription",(e=>Object.keys(e).map((t=>e[t].name+(this.state.userType===yD.userTypes.all?" ":""))).join(", "))),this.state={userType:yD.userTypes.all,selectedUsers:this.getSelectedUsers(e.users,e.operators,e.managers),from:e.from,to:e.to,timeFrom:(0,ft.jL)(e.from),timeTo:(0,ft.jL)(e.to)}}UNSAFE_componentWillReceiveProps(e){var{operators:t,managers:r,from:i,to:s,users:n}=e;t===this.props.operators&&r===this.props.managers&&i===this.props.from&&s===this.props.to||this.setState({selectedUsers:this.getSelectedUsers(n,t,r),from:i,to:s})}render(){var{from:e,to:t,timeFrom:r,timeTo:i,userType:s,selectedUsers:n}=this.state,{users:a}=this.props,o=a.sort((0,X.hM)());return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsxs)("div",{className:"flex-item_fixed",style:{marginRight:"80px"},children:[(0,u.jsxs)("h2",{className:me()(UE,"schedule-changes-filter__h2"),children:[(0,u.jsx)(et.ZP,{glyph:Ty.Z.id}),(0,u.jsx)(J.Z,{id:"Calendar.displayPeriod",defaultMessage:[{type:0,value:"Период отображения"}]})]}),(0,u.jsxs)("div",{className:"flex-container",style:{alignItems:"baseline",marginBottom:"7px"},children:[(0,u.jsx)("div",{className:"flex-item_flexible mr",children:(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mt.Z,{onChange:e=>this.setState({from:e}),date:e,dateFormat:ft.vc})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mb.Z,{onChange:e=>{this.setState({timeFrom:e})},value:r})})]}),(0,u.jsxs)("div",{className:"flex-container",style:{alignItems:"baseline"},children:[(0,u.jsx)("div",{className:"flex-item_flexible mr",children:(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mt.Z,{onChange:e=>this.setState({to:e}),date:t,minDate:e,dateFormat:ft.vc})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mb.Z,{onChange:e=>{this.setState({timeTo:e})},value:i})})]})]}),(0,u.jsxs)("div",{className:"flex-item_flexible",children:[(0,u.jsxs)("h2",{className:me()(UE,"schedule-changes-filter__h2"),children:[(0,u.jsx)(et.ZP,{glyph:mD.Z.id}),(0,u.jsx)(J.Z,{id:"ScheduleChanges.users",defaultMessage:[{type:0,value:"Пользователи"}]})]}),(0,u.jsx)("div",{style:{paddingTop:"3px"},children:(0,u.jsx)(Zb.E,{onChange:this.onUserTypeSelect,selectedValue:s,options:[{value:yD.userTypes.all,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.all",defaultMessage:[{type:0,value:"Все"}]})},{value:yD.userTypes.manager,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.manager",defaultMessage:[{type:0,value:"Менеджер"}]})},{value:yD.userTypes.employee,label:(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.employee",defaultMessage:[{type:0,value:"Сотрудник"}]})}]})}),(0,u.jsx)(Gl.Z,{onChange:this.onUsersSelectChange,dataSourceConfig:this.userSelectDataSourceConfig,values:n,dataSource:s===yD.userTypes.all?o:o.filter((e=>e.type===s)),getSecondaryText:zE,classContainer:"BR9811gpMNxsZGCi8hJIuA==",isShowSecondaryText:!0})]}),(0,u.jsx)("div",{className:"flex-container flex-container_align-items-flex-end",children:(0,u.jsx)("div",{className:"raion-button raion-button-default",onClick:this.onApply,children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]})})}}yD.userTypes={all:"all",manager:"manager",employee:"employee"},yD.defaultProps={managers:[],operators:[]},yD.propTypes={users:c().array.isRequired,onApply:c().func.isRequired,operators:c().array,managers:c().array,from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired};const gD=(0,v.ZP)(yD);var bD=r(23859);function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jD(Object(r),!0).forEach((function(t){SD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OD=e=>(0,u.jsxs)("div",xD(xD({className:"chip"},e),{},{children:[(0,u.jsx)("div",{children:e.children}),(0,u.jsx)(Ae.Z,{onClick:e.onRequestDelete,children:(0,u.jsx)(et.ZP,{glyph:bD.Z.id})})]}));OD.propTypes={children:c().node.isRequired,onRequestDelete:c().func.isRequired};const PD=OD;function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(r),!0).forEach((function(t){kD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TD=e=>{var{users:t,filter:r,onChange:i}=e,{selectedManagersIds:s=[],selectedEmployeeIds:n=[]}=r,a=e=>{i(CD(CD({},r),{},{selectedEmployeeIds:n.filter((t=>t!==e)),selectedManagersIds:s.filter((t=>t!==e))}))},o=t.reduce(((e,t)=>(e[t.id]=t,e)),{});return[...s.map((e=>(0,u.jsx)(PD,{onRequestDelete:()=>{a(e)},children:o[e]&&o[e].name},e))),...n.map((e=>(0,u.jsx)(PD,{onRequestDelete:()=>{a(e)},children:o[e]&&o[e].name},e)))]};TD.defaultProps={users:[]},TD.propTypes={users:c().array,filter:c().shape({selectedManagersIds:c().array,selectedEmployeeIds:c().array}).isRequired,onChange:c().func.isRequired};const ND=TD;var RD={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ED=e=>{var{hidden:t,from:r,to:i,users:s,filter:n,onChange:a}=e;if(t)return null;var o=ns()(r,ft._E).format(ft._T),l=ns()(i,ft._E).format(ft._T);return(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("h2",{style:RD,children:["".concat(o," ... ").concat(l," | "),(0,j.xb)(s)?(0,u.jsx)(J.Z,{id:"Common.allChanges",defaultMessage:[{type:0,value:"Все изменения"}]}):(0,u.jsx)(ND,{users:s,filter:n,onChange:a})]})})};ED.defaultProps={hidden:!1},ED.propTypes={hidden:c().bool,from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired,users:c().array.isRequired,filter:c().shape({selectedManagersIds:c().array,selectedEmployeeIds:c().array}).isRequired,onChange:c().func.isRequired};const DD=ED;function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AD(Object(r),!0).forEach((function(t){ID(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ID(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZD={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},qD={boxShadow:"rgba(0, 0, 0, 0.16) 0px 0px 0px, rgba(0, 0, 0, 0.23) 0px 0px 0px",background:"white"},FD=e=>{var{changes:t,users:r,loading:i,changeDetails:s}=e,[n,a]=(0,m.useState)(!0),[o,l]=(0,m.useState)(!0),[c,d]=(0,m.useState)({from:ns()().startOf("day").format(ft._E),to:ns()().endOf("day").format(ft._E),managers:[],operators:[]}),[p,h]=(0,m.useState)(null),[f,v]=(0,m.useState)(null);(0,m.useEffect)((()=>{e.fetchEmployees(e.groupId),l(!1)}),[]),(0,m.useEffect)((()=>{o||e.fetchEmployees(e.groupId)}),[e.groupId]);var y=t=>{var{fetchChangesLog:r,removeLogFetched:i}=e;a(!1),d(t),(0,j.xb)(t.selectedEmployeeIds)&&(0,j.xb)(t.selectedManagersIds)?(i(),a(!0)):r({from:ns()(t.from,ft._E).utc().format(ft._E),to:ns()(t.to,ft._E).utc().format(ft._E),operators:t.selectedEmployeeIds,managers:t.selectedManagersIds})},g=n?{}:{transform:"rotate(-90deg)"};return(0,u.jsxs)("div",{className:"schedule-changes",children:[(0,u.jsxs)("div",{className:"flex-item_fixed  container with-divider",children:[(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"ScheduleChanges.title",defaultMessage:[{type:0,value:"Журнал изменений расписания"}]})}),(0,u.jsx)("span",{onClick:()=>{a(!n)},children:(0,u.jsxs)("h2",{className:me()("flex-container","usqUkkb-76+cpBH8hYgBwA=="),children:[(0,u.jsxs)("div",{className:me()(UE,"flex-item_flexible"),children:[(0,u.jsx)(J.Z,{id:"ScheduleChanges.filterTitle",defaultMessage:[{type:0,value:"Настройте отображение"}]}),(0,u.jsxs)("span",{className:"subtext",children:[" ",(0,u.jsx)(J.Z,{id:"ScheduleChanges.filterSubtitle",defaultMessage:[{type:0,value:"(отфильтруйте по периоду времени, менеджеру или сотруднику)"}]})]})]}),(0,u.jsx)(Ae.Z,{children:(0,u.jsx)(et.ZP,{glyph:WE.Z.id,style:MD({transition:"all .5s"},g)})})]})}),(0,u.jsx)(GE,{open:n,children:(0,u.jsx)("div",{className:"pb++",children:(0,u.jsx)(gD,{users:r||[],onApply:y,from:c.from,to:c.to,managers:c.selectedManagersIds,operators:c.selectedEmployeeIds})})})]}),(0,u.jsx)(DD,{from:c.from,to:c.to,hidden:(0,j.xb)(t)||i,users:r,filter:c,onChange:y}),(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsxs)(rD,{isLoading:i,isEmpty:(0,j.xb)(t),children:[(0,u.jsx)(ZS.Z,{headerStyle:ZD,cellStyle:qD,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",onCellClick:(t,r)=>{var{operator:i,revision:s,resource:n}=r,a={operatorId:i,revision:s,resource:n},o=t.currentTarget;e.fetchChangeDetails(a,(()=>{h(o),v(r)}))},rowHeight:32,columnsAutoWidth:!0,data:t,columns:$E({users:r})}),(0,u.jsx)(Ns.ZP,{open:Boolean(p),anchorEl:p,onClose:()=>{h(null),v(null)},PaperProps:{style:{width:"100%"}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:f&&(0,u.jsx)(fD,{changeDetails:s,item:f})})]})})]})};FD.defaultProps={changeDetails:[]},FD.propTypes=_()({changes:c().array.isRequired,users:c().array.isRequired,fetchChangesLog:c().func.isRequired,fetchEmployees:c().func.isRequired,fetchChangeDetails:c().func.isRequired,removeLogFetched:c().func.isRequired,groupId:c().string.isRequired,changeDetails:c().array,loading:c().bool.isRequired});const LD=FD;var HD=e=>e.scheduleChanges.loading,_D=e=>e.scheduleChanges.changes,BD=e=>e.scheduleChanges.users,GD=e=>e.scheduleChanges.details,WD=r(89473);const UD=(0,o.compose)((0,s.$j)((e=>({changes:_D(e),users:BD(e),changeDetails:GD(e),loading:HD(e),groupId:(0,Y.Wx)(e)})),(e=>({fetchChangesLog:(t,r)=>e((0,WD.fetchChangesLog)(t,r)),fetchChangeDetails:(t,r)=>e((0,WD.fetchChangeDetails)(t,r)),fetchEmployees:t=>e((0,WD.fetchEmployees)(t)),removeLogFetched:()=>e((0,WD.removeLogFetched)())}))))(LD);var VD=r(96905),zD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.addSchema",defaultMessage:[{type:0,value:"Добавить схему"}]}),YD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.add",defaultMessage:[{type:0,value:"Добавление схемы"}]}),QD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.edit",defaultMessage:[{type:0,value:"Редактирование схемы"}]}),KD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.schemesSettings",defaultMessage:[{type:0,value:"Настройки схем"}]}),XD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.untypicalDays",defaultMessage:[{type:0,value:"Нетипичные дни"}]}),JD=(0,u.jsx)(J.Z,{id:"ScheduleSchema.labelEditingSpecialDays",defaultMessage:[{type:0,value:"Настройка нетипичных дней"}]}),$D={id:"ScheduleSchema.searchBySchemes",defaultMessage:"Поиск по схемам"},eA={id:"ScheduleSchema.schemaSettings",defaultMessage:"Настройки схемы"},tA={id:"ScheduleSchema.removeSchema",defaultMessage:"Удалить схему"},rA={id:"ScheduleSchema.schemeSelect",defaultMessage:"Выбор схемы"},iA={id:"ScheduleSchema.groupName",defaultMessage:"Точка оргструктуры"},sA={id:"Manager.Schedule.Request.Save",defaultMessage:"Сохранить изменения"},nA={id:"ScheduleSchema.schemeFirstDay",defaultMessage:"Первый день схемы"},aA={id:"ScheduleSchema.schemeInterval",defaultMessage:"Межсменный интервал"},oA={id:"OperatorPreferences.WorkingDay",defaultMessage:"Рабочий день"},lA={id:"ScheduleSchema.weekEnd",defaultMessage:"Выходной день"},cA={id:"ScheduleSchema.day",defaultMessage:"День"},dA={id:"ScheduleSchema.container",defaultMessage:"Контейнер"},uA={id:"Common.add",defaultMessage:"Добавить"},pA={id:"Actions.cancel",defaultMessage:"Отмена"};const hA="_5WB5YXFK4O2OGDd69fEPeg==",fA="_4QWGnIscshaq1jSdX1WXzw==",mA="_7GTNzz2vjCx1lDGQawHVGg==";var vA=e=>{var{scheme:t,intl:r,style:i,disabled:s,onRequestEdit:n,showSchemaMaxDay:a}=e;return(0,j.xb)(t)?null:(0,u.jsxs)("div",{className:"bg5fiOSwDJbbCImfxKxtZg==",style:i,children:[(0,u.jsx)(Ae.Z,{onClick:()=>{n(t.id)},className:"_7ei5mqk2f-IigmRdyd11Cg==",hint:r.formatMessage(eA),disabled:s,children:(0,u.jsx)("div",{className:me()("flex-item_flexible","ZO8E3zEjtcCueApm4dxzlQ=="),children:(0,u.jsx)("span",{title:t.name,children:t.name})})}),(0,u.jsx)("div",{className:me()("flex-item_fixed","pr","IDFt5x+pVVuAPVKpI+vTfg=="),children:a&&(0,u.jsx)("span",{children:"("+t.maxDay+")"})})]})};vA.defaultProps={disabled:!1},vA.propTypes={style:c().object.isRequired,disabled:c().bool,scheme:c().object.isRequired,onRequestEdit:c().func.isRequired,showSchemaMaxDay:c().bool.isRequired,intl:P.gm.isRequired};const yA=vA;var gA=e=>{var{dayNumber:t,dayWidth:r,momentDate:i,restOfWeekCount:s}=e,[n,a]=(0,m.useState)(!1),o=(0,m.useRef)(null),l=ns()().startOf("d").unix(),c=me()("inline-block_middle mt","_45ljbu7lHr4pcbVHS8e+xQ=="),d=me()("schema__week-overlay","enable-transition",{"schema__week-overlay_hovered":7===t}),p="schema-header__day";return i.startOf("d").unix()===l&&(p+=" schema-header__day_today"),(0,u.jsxs)("div",{ref:o,className:me()("OWYSOAhK8iYZvwKJulCHJA==",p),onClick:()=>{a(!n)},style:{width:r},children:[0===i.weekday()&&(0,u.jsx)("div",{className:d,style:{width:s*Number.parseFloat(r)+"%"}}),(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("div",{children:(0,Dh.kC)(i.format("dd."))}),(0,u.jsx)("div",{children:i.format("DD.MM")})]})]},t)};gA.propTypes={dayNumber:c().number.isRequired,dayWidth:c().string.isRequired,momentDate:c().instanceOf(ns()).isRequired,restOfWeekCount:c().number.isRequired};const bA=gA;var jA=e=>{var{maxDay:t,dayWidth:r,height:i}=e,s=ns()().startOf("week").subtract(0,"d");return(0,u.jsx)("div",{className:"schema-header shadow-box",style:{height:i},children:[...new Array(t).keys()].map((e=>{var i=ns()(s).add(e,"d").subtract(1,"week"),n=Math.floor(t-e)>=7?7:7&t;return(0,u.jsx)(bA,{item:e,dayWidth:r,momentDate:i,restOfWeekCount:n,dayNumber:e},e)}))})};jA.propTypes={maxDay:c().number.isRequired,dayWidth:c().string.isRequired,height:c().number.isRequired};const xA=jA;class SA extends m.Component{shouldComponentUpdate(e){return e.schema!==this.props.schema||e.schema.maxDay!==this.props.schema.maxDay||e.schema.firstDay!==this.props.schema.firstDay||(0,X.pK)(e.schema.containers.map((e=>e.containerId+e.day)))!==(0,X.pK)(this.props.schema.containers.map((e=>e.containerId+e.day)))}render(){var{schema:e,containerStyle:t,itemStyle:r,settings:i}=this.props,s=ns()().startOf("week").subtract(1,"week").diff(ns()(e.firstDay,"YYYY-MM-DD"),"d")%e.maxDay,n=ns()().startOf("week").subtract(0,"d");return(0,u.jsx)("div",{style:t,className:"W9SBfhfU1g3PunJidwkDkA==",children:(0,u.jsx)("div",{className:"schema-row__days-wrapper",children:(0,u.jsx)("div",{className:"schema-row__days",children:[...new Array(28).keys()].map(((t,a)=>{var o,l=ns()(n).add(t,"d").subtract(1,"week").format(ft.pz),c=null==e?void 0:e.untypicalDays.some((e=>{var{date:t}=e;return ns()(t,ft.vc).format(ft.pz)===l})),d=a+s,p=d<0?e.maxDay+d%e.maxDay:d%e.maxDay,h=p===e.maxDay?1:p+1,f=e.containersMap[h];o=c?"schema-row__days-item schema-row__days-item_untypicalDay":f?"schema-row__days-item schema-row__days-item_working-day":"schema-row__days-item schema-row__days-item_weekend";var m=[];return e.dayOffRules&&e.dayOffRules.some((e=>e&&e.start<=h&&e.end>=h))&&m.push((0,u.jsx)("div",{className:"schema-row__days-item-marker schema-row__days-item-marker_weekend_float"},t.id||a)),o+=" pl",!0===i["ScheduleSchema.showSchemaLastDayBorder"].value&&h===e.maxDay&&(o+=" schema-row__days-item_last-day"),(0,u.jsxs)("div",{className:o,style:r,children:[(0,u.jsx)("span",{children:i["ScheduleSchema.showTargetDayNumber"].value?h:""}),m]},t.id||a)}))})})})}}SA.propTypes={schema:c().object.isRequired,containerStyle:c().object.isRequired,itemStyle:c().object.isRequired,settings:c().object.isRequired};const OA=SA;function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PA(Object(r),!0).forEach((function(t){CA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class kA extends m.Component{constructor(e){super(e),CA(this,"maxDay",28),CA(this,"onFilterChange",(0,Yi.D)(1e3,!1,(e=>{var{scheduleSchema:t}=this.props,r=t.filter((t=>t.name.toLowerCase().indexOf(e.toLowerCase())>=0));this.setState({filterString:e,filteredData:e?r:t})}))),CA(this,"updateFilter",((e,t)=>{var r=e.filter((e=>e.name.toLowerCase().indexOf(this.state.filterString.toLowerCase())>=0)),i=t?r:e;this.setState({filteredData:i})})),CA(this,"_renderBodyCell",(e=>{var{key:t,rowIndex:r,style:i}=e,s=this.state.filteredData[r],{frontendSettings:n}=this.props;return(0,u.jsx)(OA,{style:i,settings:n,schema:s,itemStyle:{width:100/28+"%"},containerStyle:i},t)})),CA(this,"_renderLeftSideCell",(e=>{var{key:t,rowIndex:r,style:i}=e,s=this.state.filteredData[r],{user:n,intl:a,frontendSettings:o}=this.props,l=!(0,X.BC)(n,x.ZP.RIGHTS.SCHEDULE_SCHEME,x.ZP.CRUD),c=!0===o["ScheduleSchema.showSchemaMaxDay"].value;return(0,u.jsx)(yA,{scheme:s,showSchemaMaxDay:c,style:i,intl:a,onRequestEdit:e=>this.openEditForm(e),disabled:l},t)})),CA(this,"openEditForm",(e=>{var{scheduleSchema:t,onOpenEditForm:r,selectedScheduleSchema:i}=this.props,s=t.find((t=>t.id===e));i(s),r(s)})),this.leftTableRef=(0,m.createRef)(),this.rightTableRef=(0,m.createRef)(),this.state={rowHeight:30,topHeaderCellHeight:48,filterString:"",filteredData:e.scheduleSchema||[]}}UNSAFE_componentWillReceiveProps(e){var t,r,i,s,{isSchemeListShowedByGroup:n}=e;e.scheduleSchema!==this.props.scheduleSchema&&(this.updateFilter(e.scheduleSchema,this.state.filterString),null===(t=this.leftTableRef)||void 0===t||null===(r=t.current)||void 0===r||r.forceUpdate(),null===(i=this.rightTableRef)||void 0===i||null===(s=i.current)||void 0===s||s.forceUpdate()),e.groupId!==this.props.groupId&&e&&(n?(this.props.fetchScheduleSchema(e.groupId),this.props.fetchSchedules({groupId:e.groupId})):(this.props.fetchAllScheduleSchemeList(),this.props.fetchSchedules()))}componentDidUpdate(e){var{leftColumnWidth:t}=this.props;t!==e.leftColumnWidth&&(this.leftTableRef.current.forceUpdate(),this.rightTableRef.current.forceUpdate())}render(){var{intl:e,sizes:{leftWidth:t},leftColumnWidth:r}=this.props,{rowHeight:i,filteredData:s,topHeaderCellHeight:n}=this.state,a=me()("Y0PAQcJk63MGBEVuaY5fxg==",hA);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"flex-item_flexible overflow-hidden",children:(0,u.jsx)(bs.qj,{children:o=>{var{height:l,width:c}=o;return(0,u.jsx)(bs.Ew,{children:o=>{var{onScroll:d,scrollLeft:p,scrollTop:h}=o;return(0,u.jsxs)("div",{className:"flex-container",style:{width:c,height:l},children:[(0,u.jsxs)("div",{className:"flex-container flex-container_vertical flex-item_fixed",children:[(0,u.jsx)("div",{className:me()("flex-item_fixed",hA),children:(0,u.jsx)("div",{style:{height:n,position:"relative",marginRight:20,marginLeft:20},children:(0,u.jsx)("input",{type:"text",className:"search-field",style:{position:"absolute",bottom:10,width:"100%"},placeholder:e.formatMessage($D),onChange:e=>{this.onFilterChange(e.target.value)}})})}),(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsx)(bs.rj,{ref:this.leftTableRef,className:a,cellRenderer:this._renderLeftSideCell,columnWidth:t,columnCount:1,height:l-n-20,rowHeight:i,scrollTop:h,onScroll:e=>{d(wA(wA({},e),{},{scrollLeft:p}))},rowCount:s.length,width:t})})]}),(0,u.jsx)("div",{className:"flex-item_flexible",style:{width:c-r+"px"},children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)("div",{className:"flex-item_fixed",style:{width:c-r,overflow:"hidden",position:"relative",height:l,marginBottom:-(l-n)},children:(0,u.jsx)("div",{style:{height:l,marginBottom:-(l-n),width:28/21*(c-r),position:"absolute",left:-p},children:(0,u.jsx)(xA,{dayWidth:100/28+"%",maxDay:28,height:n})})}),(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsx)(bs.rj,{ref:this.rightTableRef,className:"scroll",overscanRowCount:30,cellRenderer:this._renderBodyCell,columnWidth:28/21*(c-r),columnCount:1,height:l-n,onScroll:d,rowHeight:i,scrollTop:h,rowCount:s.length,width:c-r},c)})]})})]})}})}})})})}}kA.propTypes={sizes:c().shape({leftWidth:c().number.isRequired}).isRequired,fetchScheduleSchema:c().func.isRequired,fetchSchedules:c().func.isRequired,scheduleSchema:c().array.isRequired,frontendSettings:c().object.isRequired,isSchemeListShowedByGroup:c().bool.isRequired,fetchAllScheduleSchemeList:c().func.isRequired,intl:P.gm.isRequired,groupId:P.K5.isRequired,leftColumnWidth:c().number.isRequired,user:P.jZ.isRequired,onOpenEditForm:c().func.isRequired,selectedScheduleSchema:c().func.isRequired};const TA="_6I19ivo3OaNkVrazO+405A==";var NA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),RA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.nameSchema",defaultMessage:[{type:0,value:"Название схемы"}]}),EA=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.idExternalSystem",defaultMessage:[{type:0,value:"ID внешней системы"}]}),DA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.maxDay",defaultMessage:[{type:0,value:"Количество дней"}]}),AA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.schemeInterval",defaultMessage:[{type:0,value:"Межсменный интервал"}]}),MA=(0,u.jsx)(J.Z,{id:"Preferences.hours",defaultMessage:[{type:0,value:"часов"}]}),IA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.firstDay",defaultMessage:[{type:0,value:"Первый день схемы"}]}),ZA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.dayTypes",defaultMessage:[{type:0,value:"Типы дней"}]}),qA=(0,u.jsx)(J.Z,{id:"ScheduleSchema.working",defaultMessage:[{type:0,value:"Рабочий"}]}),FA=(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayOff",defaultMessage:[{type:0,value:"Выходной"}]}),LA=e=>{var{renderButton:t}=e;return(0,u.jsxs)("div",{className:me()("eGICy7505x0I3vM6EjycEg==","flex-item_fixed container with-divider"),children:[(0,u.jsx)("div",{className:"_0-B2fU2Ts6XsdqFTg5kV7A==",children:t()}),(0,u.jsxs)("div",{className:"flex-container with-divider",children:[(0,u.jsx)("div",{className:me()("o9ZAO0XKT637BsuYyxBYNQ==","text-style_title flex-item_fixed"),children:(0,u.jsx)("div",{className:me()("_3DL6IihN-vXx33sEWG71Ew==","inline-block inline-block_middle"),children:ZA})}),(0,u.jsxs)("div",{className:me()("UKBdNldBg2F6vhPDeZvRyw==","flex-item_flexible"),children:[(0,u.jsx)(vd.Z,{className:me()("_3R8wcfU0cw-m09sYxVYhKg==")}),(0,u.jsx)("span",{className:me()(TA),children:(0,u.jsx)(J.Z,{id:"ScheduleSchema.working",defaultMessage:[{type:0,value:"Рабочий"}]})}),(0,u.jsx)(vd.Z,{className:me()("QcxE+tHedmHf1R9LD3MzWA==","material-icons")}),(0,u.jsx)("span",{className:me()(TA),children:(0,u.jsx)(J.Z,{id:"ScheduleSchema.holyDay",defaultMessage:[{type:0,value:"Выходной"}]})}),(0,u.jsx)(vd.Z,{className:me()("xQCAT10p8tIF0vwICYOtsQ==","material-icons")}),(0,u.jsx)("span",{className:me()(TA),children:(0,u.jsx)(J.Z,{id:"ScheduleSchema.untypical",defaultMessage:[{type:0,value:"Нетипичный"}]})}),(0,u.jsx)(vd.Z,{className:me()("Av8cbvMeGfGsFF05-0syLw==","material-icons")}),(0,u.jsx)("span",{className:me()(TA),children:(0,u.jsx)(J.Z,{id:"ScheduleSchema.weekEndFloat",defaultMessage:[{type:0,value:"«Плавающий» выходной"}]})})]})]})]})};LA.propTypes={renderButton:c().func.isRequired};const HA=LA;var _A=r(13910),BA=r(35519),GA=r(85732);function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function UA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VA=e=>(0,u.jsx)(GA.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WA(Object(r),!0).forEach((function(t){UA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({value:e.input.value,onChange:e.input.onChange},e));VA.propTypes=Bt.oX;const zA=VA;var YA=r(64621);const QA={container:"-ROv2SYL5p2Hx+GQjm0erg==",row:"a1uFIabDdOENejzRn-1dbg==",actionButtons:"aqqxU7btQCUyWnJzBbcqUQ==",inputStyle:"Wg21vsigkT-tUlkQJXPU-A==",label:"p+g4eu+-Mf5nG7GxLrLNyw==",typeDaysContainer:"iJmr9MsK-kTucyeyjK2dcQ==",footer:"i-t-cPRgvnaKsj-qIxDkpg==",groupSelector:"zK+6veQyKqvLwhSCMNRjwQ==",popover:"JwpmZOelj3Xw8HsBDf-s1Q=="},KA=()=>(0,u.jsxs)("div",{className:"Gon89cfQk-eJCE1ZbOL6vg==",children:[ZA,(0,u.jsx)(vd.Z,{className:"c5yTwpc5Q3tjw+HRlo3GJw=="}),qA,(0,u.jsx)(vd.Z,{className:"MM4CQM0PpJSWMiIaVWa+QQ=="}),FA,(0,u.jsx)(vd.Z,{className:"s4IISUMdHSz8IeFG+XsxFw=="}),(0,u.jsx)(J.Z,{id:"ScheduleSchema.weekEndFloat",defaultMessage:[{type:0,value:"«Плавающий» выходной"}]})]}),XA="lMQEXqbj0YnI47eGHaRTIQ==",JA="MiUYX7w4lRhoMuNWBmmXMg==",$A={1:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.monday",defaultMessage:[{type:0,value:"Пн."}]}),2:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.tuesday",defaultMessage:[{type:0,value:"Вт."}]}),3:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.wednesday",defaultMessage:[{type:0,value:"Ср."}]}),4:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.thursday",defaultMessage:[{type:0,value:"Чт."}]}),5:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.friday",defaultMessage:[{type:0,value:"Пт."}]}),6:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.saturday",defaultMessage:[{type:0,value:"Сб."}]}),0:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.sunday",defaultMessage:[{type:0,value:"Вс."}]})};var eM=e=>{var t,{day:r,dayCell:i,onChange:n,isFloatHoliday:a}=e,o=(0,s.v9)(ij.yR),l=me()("tQLBxbiLT-QmqqDzJQsL4g==",{"qTfyzjr+Aom7WhTM9EIdWw==":!(0,j.xb)(null==i?void 0:i.containerId)}),c=null===(t=o[null==i?void 0:i.containerId])||void 0===t?void 0:t.name,d=me()({"xqW3BEexeJTGWj8RGjtnHg==":!(0,j.xb)(null==i?void 0:i.containerId)&&!a,"jvxJ-7hZySLhvjAJabgmsQ==":a&&!(0,j.xb)(null==i?void 0:i.containerId)});return(0,u.jsxs)("li",{className:l,children:[(0,u.jsxs)("div",{className:"Ea+-vvJZSVPZKxwGtb8Kqw==",children:[(0,u.jsx)(Rs.XZ,{onChange:e=>{n({day:r,checked:e,containerId:(null==i?void 0:i.containerId)||""})},checked:null==i?void 0:i.checked,label:$A[r%7]}),!(0,j.xb)(null==i?void 0:i.containerId)&&(0,u.jsx)(vd.Z,{className:d})]}),(0,u.jsx)("div",{className:"XtXJ6+v9NWld54cf7hmiqg==",children:(0,u.jsx)("span",{title:c,children:c})})]})};eM.defaultProps={dayCell:{},isFloatHoliday:!1},eM.propTypes={day:c().number.isRequired,onChange:c().func.isRequired,dayCell:c().object,isFloatHoliday:c().bool};const tM=eM;function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rM(Object(r),!0).forEach((function(t){sM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nM=e=>{var t,{value:r,maxDay:i,schedules:s,onChange:n,dayOffRules:a}=e,[o,l]=(0,m.useState)(0),[c,d]=(0,m.useState)(""),[p,h]=(0,m.useState)(r);(0,m.useEffect)((()=>n(p.filter((e=>{var{day:t}=e;return t<=i})))),[p,i]);var f=e=>{if(p.some((t=>t.day===e.day)))return h(p.map((t=>t.day===e.day?e:t)));h([...p,e])};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ul",{className:"Yai4jNJs7C7czPqQ95sbFA==",children:null===(t=[...Array(i||0).keys()])||void 0===t?void 0:t.map((e=>{var t=p.find((t=>t.day===e+1)),r=((e,t)=>e.some((e=>{var{start:r,end:i}=e;return t>=r&&t<=i&&r!==i&&0!==r&&""!==r})))(a,e+1);return(0,u.jsx)(tM,{day:e+1,dayCell:t||{day:e,containerId:""},onChange:f,isFloatHoliday:r},e)}))}),(0,u.jsxs)("div",{className:"jf4qNLCNy+1dw9gLVufqgQ==",children:[(0,u.jsxs)("div",{className:"pVZABeX6k9NTim0UctcDeg==",children:[(0,u.jsx)("div",{className:JA,children:(0,u.jsx)(Zb.t,{index:0,handler:l,label:qA,checked:0===o,classNameLabel:XA})}),(0,u.jsx)(yj.Z,{dataSource:s,onChange:e=>{d(e),h(p.map((t=>iM(iM({},t),{},{containerId:t.checked?e:t.containerId,checked:!1}))))},value:c,classContainer:"kJ1k7oVajXF9xz+6drouYA==",disabled:1===o})]}),(0,u.jsx)("div",{className:JA,children:(0,u.jsx)(Zb.t,{index:1,handler:e=>{l(e),d(""),h(p.map((e=>iM(iM({},e),{},{containerId:!0===e.checked?"":e.containerId,checked:!1})))),n(p)},label:FA,checked:1===o,classNameLabel:XA})})]})]})};nM.defaultProps={schedules:[],dayOffRules:[]},nM.propTypes={maxDay:c().number.isRequired,value:c().array.isRequired,schedules:c().array,onChange:c().func.isRequired,dayOffRules:c().arrayOf(c().object)};const aM=nM;var oM=["input"];function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dM=e=>{var{input:{onChange:t,value:r}}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,oM);return(0,u.jsx)(aM,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(r),!0).forEach((function(t){cM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({value:r,onChange:t},i))};dM.propTypes={input:c().shape({value:c().array,onChange:c().func}).isRequired};const uM=dM,pM="wKjddLUb-t8PI9HvlNGBDQ==",hM="WrAvLnR6Akf01hzJO98Rww==";var fM={daysOffCount:"",end:"",maxDistance:"",minDistance:"",start:""},mM={width:"45px"},vM=e=>{var{fields:t,days:r}=e,i=(0,s.v9)((0,qe.Z)("ScheduleSchemaForm"));return(0,j.xb)(t)?null:(0,u.jsx)("div",{className:"H0e1gK0Kbi+zkZPDnEhwaw==",children:(0,u.jsxs)("div",{className:"_1PcnRd2GdQRHCf9fBS6T7w==",children:[(0,u.jsxs)("div",{className:"-N0AsIrZukssNydFV8MDrA==",children:[(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.floatingHoliday",defaultMessage:[{type:0,value:"«Плавающие» выходные"}]}),(0,u.jsx)(Ae.Z,{onClick:()=>t.push(fM),className:"muJrXLNsMQ4z3L2rDweJ9A==",children:(0,u.jsx)(J.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})})]}),null==t?void 0:t.map(((e,s)=>{var n=s+1===t.length;return(0,u.jsxs)("div",{className:"m7B3arV9CUqnIqO1jvpbhA==",children:[(0,u.jsxs)("div",{className:me()(pM,"uiZwWULLtU6cb+zZuMtUhQ=="),children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)("div",{className:hM,children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayStart",defaultMessage:[{type:0,value:"День начала"}]})}),(0,u.jsx)(_e.Z,{name:"".concat(e,".start"),component:zA,minValue:1,style:mM,disabledUpArrow:i.maxDay<=r[s].start})]}),(0,u.jsx)("div",{className:"RkFCxnQL25V53VI4aP-J-Q==",children:(0,u.jsx)(Ae.Z,{onClick:()=>t.remove(s),children:(0,u.jsx)(J.Z,{id:"Common.delete",defaultMessage:[{type:0,value:"Удалить"}]})})})]}),(0,u.jsxs)("div",{className:pM,children:[(0,u.jsx)("div",{className:hM,children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayEnd",defaultMessage:[{type:0,value:"День окончания"}]})}),(0,u.jsx)(_e.Z,{name:"".concat(e,".end"),component:zA,minValue:1,style:mM,disabledUpArrow:i.maxDay<=r[s].end,disabledDownArrow:r[s].end<=r[s].start+1})]}),(0,u.jsxs)("div",{className:pM,children:[(0,u.jsx)("div",{className:hM,children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.daysOffCount",defaultMessage:[{type:0,value:"Количество выходных"}]})}),(0,u.jsx)(_e.Z,{name:"".concat(e,".daysOffCount"),component:zA,minValue:1,style:mM})]}),(0,u.jsxs)("div",{className:pM,children:[(0,u.jsx)("div",{className:hM,children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.minDistance",defaultMessage:[{type:0,value:"Минимальное расстояние"}]})}),(0,u.jsx)(_e.Z,{name:"".concat(e,".minDistance"),component:zA,style:mM})]}),(0,u.jsxs)("div",{className:pM,children:[(0,u.jsx)("div",{className:hM,children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.maximumDistance",defaultMessage:[{type:0,value:"Максимальное расстояние"}]})}),(0,u.jsx)(_e.Z,{name:"".concat(e,".maxDistance"),component:zA,style:mM})]}),!n&&(0,u.jsx)("div",{className:me()(pM,"nurIm6RG-Bc94e2N+gbhwg==")})]},e)}))]})})};vM.propTypes={fields:c().object.isRequired,days:c().arrayOf(c().object).isRequired};const yM=vM;var gM={id:"ScheduleSchema.copyScheme",defaultMessage:"Копировать схему"},bM={id:"ScheduleSchema.removeSchema",defaultMessage:"Удалить схему"};var jM=e=>{var{showCopyPopup:t,deleteSchedule:r}=e,i=(0,er.Z)();return(0,u.jsxs)("div",{className:"fAQ0xocR2gIOruQEsI2r-g==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>t(!0),hint:i.formatMessage(gM),children:(0,u.jsx)(et.ZP,{glyph:et.TI})}),(0,u.jsx)(VC.I,{onSubmit:r,popup:!0,children:(0,u.jsx)(Ae.Z,{hint:i.formatMessage(bM),children:(0,u.jsx)(et.ZP,{glyph:et.XH})})})]})};jM.propTypes={showCopyPopup:c().func.isRequired,deleteSchedule:c().func.isRequired};const xM=jM;function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SM(Object(r),!0).forEach((function(t){PM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wM extends m.Component{constructor(e){super(e),this.state={queue:e.queue,schema:OM({},e.schema),name:e.schema.name+"-copy",externalId:e.schema.externalId+"-copy"}}UNSAFE_componentWillReceiveProps(e){e.schema&&this.setState({schema:e.schema})}copySchema(){var{schema:e}=this.state;e.groupId=this.state.queue,e.name=this.state.name,e.externalId=this.state.externalId,delete e.id,this.props.saveScheduleSchema(e,(()=>{this.props.onSave(),this.props.onClose()}))}render(){var{onClose:e}=this.props,t=(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.copy",defaultMessage:[{type:0,value:"Копировать"}]});return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"JHEeRl1vb11bIxm4S8kDbQ==",children:[(0,u.jsx)($S.Z,{position:"static",children:(0,u.jsxs)("div",{className:fO,children:[(0,u.jsx)(Mp.Z,{style:{fontSize:"18px"},children:(0,u.jsx)(J.Z,{id:"ScheduleSchemaGroupEdit.copySchema",defaultMessage:[{type:0,value:"Копирование схемы"}]})}),(0,u.jsx)(Ae.Z,{onClick:e,className:mO,children:(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})})})]})}),(0,u.jsx)("div",{className:"p++",children:(0,u.jsx)(aO.Z,{label:(0,u.jsx)(J.Z,{id:"Common.name"}),value:this.state.name,onChange:e=>this.setState({name:e.target.value}),fullWidth:!0})}),(0,u.jsx)("div",{className:"p++",children:(0,u.jsx)(aO.Z,{label:(0,u.jsx)(J.Z,{id:"Common.externalId"}),value:this.state.externalId,onChange:e=>this.setState({externalId:e.target.value}),fullWidth:!0})}),(0,u.jsx)("div",{className:"p++",children:(0,u.jsx)(PR,{value:this.state.queue,type:"radio",onlyGroups:!0,name:"company-structure",onChange:e=>{this.state.queue!==e&&this.setState({queue:e})}})}),(0,u.jsx)("div",{className:"fJZxsiWcfr7TBham7Q1UcA==",children:(0,u.jsx)(Ge.Z,{caption:t,onClick:()=>{this.copySchema()}})})]})})}}wM.defaultProps={onSave:O.wA},wM.propTypes={onClose:c().func.isRequired,queue:c().string.isRequired,schema:c().object.isRequired,onSave:c().func,saveScheduleSchema:c().func.isRequired};const CM=(0,o.compose)((0,s.$j)(null,{saveScheduleSchema:YA.saveScheduleSchema}))(wM);var kM=e=>{var{formValues:t,schedules:r,invalid:i,pristine:n,handleSubmit:a,showCopyPopup:o,isShowCopyPopup:l,editSchema:c,fetchScheduleSchema:d,fetchSchedules:p,groupId:h,deleteScheduleSchema:f,resetSelectedScheduleSchema:v,onCloseDrawer:y,scheduleSchema:g,copiedScheduleId:b,fetchAllScheduleSchemeList:x,isSchemeListShowedByGroup:S}=e,O=(0,s.I0)(),P=!(0,j.xb)(c),w=e=>1===(e instanceof ns()?e.toDate():e).getDay(),C=g.find((e=>e.id===b));return(0,m.useEffect)((()=>{(0,j.xb)(C)||O((0,YA.selectedScheduleSchema)(C))}),[b]),(0,m.useEffect)((()=>{P&&O((0,Qr.j2)("ScheduleSchemaForm",c))}),[c]),(0,m.useEffect)((()=>()=>{O((0,YA.setCopyScheduleId)(""))}),[]),(0,u.jsxs)("div",{className:QA.container,children:[(0,u.jsxs)("div",{className:QA.wrapper,children:[(0,u.jsx)("div",{className:QA.actionButtons,children:P&&(0,u.jsx)(xM,{showCopyPopup:o,deleteSchedule:()=>{f({id:c.id},(()=>{y(),v()}))}})}),(0,u.jsxs)("div",{hidden:!P,className:QA.row,children:[(0,u.jsx)("label",{id:"name",className:QA.label,children:NA}),(0,u.jsx)(_e.Z,{component:Kr.Z,name:"groupId",classContainer:QA.groupSelector,classNamePopover:QA.popover})]}),(0,u.jsxs)("div",{className:QA.row,children:[(0,u.jsx)("label",{id:"name",className:QA.label,children:RA}),(0,u.jsx)(_e.Z,{component:BA.I,name:"name",classContainer:QA.inputStyle})]}),(0,u.jsxs)("div",{className:QA.row,children:[(0,u.jsx)("label",{id:"externalId",className:QA.label,children:EA}),(0,u.jsx)(_e.Z,{component:BA.I,name:"externalId",classContainer:QA.inputStyle})]}),(0,u.jsxs)("div",{className:QA.row,children:[(0,u.jsx)("label",{id:"maxDay",className:QA.label,children:DA}),(0,u.jsx)(_e.Z,{component:zA,name:"maxDay",style:{width:"55px"},minValue:1})]}),(0,u.jsxs)("div",{className:QA.row,children:[(0,u.jsx)("label",{id:"shiftInterval",className:QA.label,children:AA}),(0,u.jsx)(_e.Z,{component:zA,hideArrows:!0,name:"shiftInterval",style:{width:"55px"}}),(0,u.jsx)("span",{style:{marginLeft:"10px"},children:MA})]}),(0,u.jsxs)("div",{className:QA.row,children:[(0,u.jsx)("label",{id:"firstDay",className:QA.label,children:IA}),(0,u.jsx)(_e.Z,{name:"firstDay",component:e=>{var{input:t}=e;return(0,u.jsx)(mt.Z,{date:t.value,onChange:t.onChange,filterDates:w,dateFormat:ft.vc})}})]})]}),(0,u.jsxs)(Be.$B,{children:[(0,u.jsxs)("div",{className:QA.typeDaysContainer,children:[(0,u.jsx)(KA,{}),(0,u.jsx)(_e.Z,{component:uM,name:"containers",maxDay:null==t?void 0:t.maxDay,schedules:r,dayOffRules:null==t?void 0:t.dayOffRules.map((e=>{var{start:t,end:r}=e;return{start:t,end:r}}))})]}),(0,u.jsx)(_A.Z,{name:"dayOffRules",component:yM,days:null==t?void 0:t.dayOffRules})]}),(0,u.jsx)(rn.Z,{open:l,onClose:()=>o(!1),children:(0,u.jsx)(CM,{onClose:()=>o(!1),queue:null==c?void 0:c.groupId,schema:c,onSave:()=>{S?d({id:h}):x(),p({groupId:h})}})}),(0,u.jsx)("footer",{className:QA.footer,children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:a,caption:(0,u.jsx)(J.Z,{id:"Common.save"}),disabled:i||n})})]})};kM.defaultProps={schedules:[],scheduleSchema:[],editSchema:{},copiedScheduleId:"",isSchemeListShowedByGroup:!1,fetchAllScheduleSchemeList:O.wA},kM.propTypes={schedules:c().array,scheduleSchema:c().array,copiedScheduleId:c().string,isSchemeListShowedByGroup:c().bool,formValues:c().object.isRequired,handleSubmit:c().func.isRequired,invalid:c().bool.isRequired,pristine:c().bool.isRequired,isShowCopyPopup:c().bool.isRequired,showCopyPopup:c().func.isRequired,editSchema:c().object,fetchScheduleSchema:c().func.isRequired,fetchSchedules:c().func.isRequired,groupId:c().string.isRequired,deleteScheduleSchema:c().func.isRequired,resetSelectedScheduleSchema:c().func.isRequired,onCloseDrawer:c().func.isRequired,fetchAllScheduleSchemeList:c().func};const TM=kM;var NM=r(56975);function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(r),!0).forEach((function(t){DM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AM="ScheduleSchemaForm";const MM=(0,o.compose)(v.ZP,(0,s.$j)((e=>({formValues:(0,qe.Z)(AM)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup"),schedules:(0,ij.bB)(e),scheduleSchema:(0,NM.Hn)(e),copiedScheduleId:(0,NM.lW)(e),isShowGroupEditPopup:(0,NM.Uw)(e),isShowCopyPopup:(0,NM.nO)(e),editSchema:(0,NM.s$)(e),groupMap:(0,B.GJ)(e)})),{change:Qr.m,arrayPush:Qr.aj,showGroupEditPopup:YA.showGroupEditPopup,showCopyPopup:YA.showCopyPopup,deleteScheduleSchema:YA.deleteScheduleSchema,fetchAllScheduleSchemeList:YA.fetchAllScheduleSchemeList,fetchScheduleSchema:YA.fetchScheduleSchema,fetchSchedules:ua.fetchSchedules,resetSelectedScheduleSchema:YA.resetSelectedScheduleSchema},((e,t,r)=>EM(EM(EM(EM({},e),r),t),{},{onSubmit:t=>{var{externalGroupId:i,groupName:s,isGroup:n}=e.groupMap[t.groupId];t.untypicalDays=t.untypicalDays.map((e=>{var t=e.date.length>5?e.date:(0,ft.X5)(e.date,ft.pz);return EM(EM({},e),{},{date:t})})),t.containers=t.containers.map((e=>(0,O.CE)(e,"checked"))).filter((e=>{var{containerId:t}=e;return!(0,j.xb)(t)})),r.onSubmit(EM(EM({},t),{},{name:t.name.trim(),externalId:t.externalId.trim(),externalGroupId:i,groupId:t.groupId,groupName:s,isGroup:n}))}}))),(0,Fe.Z)({form:AM}))(TM);var IM=r(57591),ZM=r(82251),qM=r(3309),FM=r(17094);const LM="qpsH9Utk-1SjegWNDjekog==",HM="BqUxLwVU90qNDEB7Ri75kQ==";var _M={text:"name",value:"id"},BM=e=>1===(e instanceof ns()?e.toDate():e).getDay(),GM=e=>{var t,{scheduleSchema:r,valid:i,pristine:s,intl:n,formValue:a,change:o,onSubmit:l,groupId:c,removeAllScheduleSchemes:d,fetchScheduleSchema:p,fetchAllSchedules:h,fetchSchedules:f,isSchemeListShowedByGroup:v,fetchAllScheduleSchemeList:y}=e,g=!i||s,b=!(null!=a&&null!==(t=a.ids)&&void 0!==t&&t.length);return(0,m.useEffect)((()=>{null!=a&&a.firstDate||o("firstDate","")}),[a]),(0,u.jsxs)("div",{className:"_0tY7eimtNhRSU6QPrCCimg==",children:[(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)("tr",{className:"container-select-user",children:(0,u.jsx)("td",{colSpan:"2",children:(0,u.jsx)("div",{className:"NqnbN8fz+bNGJfChKZh4kQ==",children:(0,u.jsx)(VC.I,{onSubmit:()=>{d(a.ids,(()=>{p(c),a.ids=[]}))},disabled:b,popup:!0,children:(0,u.jsxs)(Ae.Z,{onClick:O.wA,className:"B0sEiwXH6oHYuCL5EWd-6Q==",hint:n.formatMessage(tA),disabled:b,children:[(0,u.jsx)(et.ZP,{glyph:FM.Z.id,classCustom:"ZxZgz3ghDN6nT3H1wZg+Zg=="}),(0,u.jsx)(J.Z,{id:"ScheduleSchema.removeSchema",defaultMessage:[{type:0,value:"Удалить схему"}]})]})})})})}),(0,u.jsx)(ZM.Z,{labelClassName:LM,childrenClassName:HM,label:n.formatMessage(iA),children:(0,u.jsx)(_e.Z,{component:Kr.Z,name:"groupId",classNamePopover:"yK0IootvMyVnIZy+ld2LEA=="})}),(0,u.jsx)(ZM.Z,{labelClassName:LM,childrenClassName:HM,label:n.formatMessage(rA),children:(0,u.jsx)(_e.Z,{name:"ids",checkboxLabelClassName:"c-6rDlcrK6foCWkIGIsS2g==",component:qM.Z,dataSource:r,dataSourceConfig:_M})}),(0,u.jsx)(ZM.Z,{labelClassName:LM,childrenClassName:HM,label:n.formatMessage(aA),children:(0,u.jsxs)("div",{className:"U3XRDO2k-XGyJmaiTatAyg==",children:[(0,u.jsx)(_e.Z,{component:zA,hideArrows:!0,type:"text",name:"shiftInterval",style:{width:"55px"},className:"wVmTsc7n4JqsF7aBAP8hlQ=="}),(0,u.jsx)(J.Z,{id:"ScheduleSchema.hours",defaultMessage:[{type:0,value:"часов"}]})]})}),(0,u.jsx)(ZM.Z,{labelClassName:LM,childrenClassName:HM,label:n.formatMessage(nA),children:(0,u.jsx)(_e.Z,{name:"firstDate",component:e=>{var{input:t}=e;return(0,u.jsx)(mt.Z,{isEmptyInitDate:!0,date:t.value,showMask:!1,onChange:t.onChange,filterDates:BM,dateFormat:ft.vc})}})})]}),(0,u.jsx)("div",{className:"bottom-panel",children:(0,u.jsx)("div",{className:"container-drawer",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:n.formatMessage(sA),disabled:g,onClick:()=>{l(a),h(),c&&(v?p(c):y(),f({groupId:c}))}})})})]})};GM.defaultProps={formValue:{},groupId:"",fetchScheduleSchema:null,isSchemeListShowedByGroup:!1,fetchAllScheduleSchemeList:O.wA},GM.propTypes={scheduleSchema:c().object.isRequired,valid:c().bool.isRequired,pristine:c().bool.isRequired,intl:c().object.isRequired,formValue:c().object,removeAllScheduleSchemes:c().func.isRequired,onSubmit:c().func.isRequired,change:c().func.isRequired,groupId:c().string,fetchScheduleSchema:c().func,fetchAllSchedules:c().func.isRequired,fetchSchedules:c().func.isRequired,fetchAllScheduleSchemeList:c().func,isSchemeListShowedByGroup:c().bool};const WM=GM;var UM="MassEditSchemes";const VM=(0,o.compose)(v.ZP,(0,s.$j)((e=>({groupId:(0,Y.Wx)(e),scheduleSchema:(0,NM.Hn)(e),formValue:(0,qe.Z)(UM)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup")})),(e=>({destroyForm:()=>e((0,Qr.ob)(UM)),onSubmit:t=>e((0,ua.massEditSchemes)(t)),fetchScheduleSchema:t=>e((0,YA.fetchScheduleSchema)({id:t})),removeAllScheduleSchemes:(t,r)=>e((0,YA.removeAllScheduleSchemes)(t,r)),fetchSchedules:t=>e((0,ua.fetchSchedules)(t)),fetchAllSchedules:()=>e((0,ua.fetchAllSchedules)()),fetchAllScheduleSchemeList:()=>e((0,YA.fetchAllScheduleSchemeList)())}))),(0,Fe.Z)({form:UM,validate:e=>{var t,r={};return null!==(t=e.ids)&&void 0!==t&&t.length||(r.ids="Required"),e.shiftInterval||e.firstDate||e.groupId||(r.shiftInterval="Required",r.firstDate="Required",r.groupId="Required"),r}}))(WM),zM="GpnLLwhfypQA4vMDupVSbQ==",YM="KgiecFH4HXSHnnYf4NVbSA==",QM="gjU-F-eEOj5tSvsjwDZGsw==";var KM=e=>{var{isEdit:t,onSave:r,onReject:i,isValid:s,intl:n}=e;return(0,u.jsx)("div",{className:"uVGQBraVV3k-lPMKQCY09w==",children:t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ae.Z,{onClick:r,className:"kj8RKb72QQoNL1cq7rz-2w==",disabled:!s,children:n.formatMessage(sA)}),(0,u.jsx)(Ae.Z,{onClick:i,children:n.formatMessage(pA)})]}):(0,u.jsx)(Ae.Z,{onClick:r,disabled:!s,children:n.formatMessage(uA)})})};KM.propTypes={intl:P.gm.isRequired,isEdit:c().bool.isRequired,onSave:c().func.isRequired,onReject:c().func.isRequired,isValid:c().bool.isRequired};const XM=KM;var JM=(e,t)=>t===ft.pz?e.length>5?(0,ft.Ro)(e,ft.vc):e:t===ft.vc?5===e.length?(0,ft.X5)(e,ft.pz):e:void 0;function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(r),!0).forEach((function(t){tI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rI={text:"name",value:"id"},iI="workDay",sI="dayOff",nI=e=>{var{intl:t,scheduleContainersMapArray:r,scheduleSchema:i,input:s,isEdit:n,addHandler:a,rejectHandler:o,untypicalDays:l}=e,[c,d]=(0,m.useState)({}),[p,h]=(0,m.useState)(!1),[f,v]=(0,m.useState)(!1),[y,g]=(0,m.useState)(!1),b=(0,m.useMemo)((()=>l.filter((e=>JM(e.date,ft.pz)===c.date))),[c.date,l]);(0,m.useEffect)((()=>{if((0,j.xb)(b)&&g(!1),!(0,j.xb)(b)&&!(0,j.xb)(c.ids)){var e=c.ids.filter((e=>b.find((t=>t.ids.includes(e)))));(0,j.xb)(e)?g(!1):g(!0)}}),[c.ids,b]),(0,m.useEffect)((()=>{d(eI(eI({},s.value),{},{date:(0,j.xb)(s.value.date)?(0,ft.zO)(ft.pz):s.value.date})),h(!!s.value.containerId)}),[s.value]),(0,m.useEffect)((()=>{var e=(0,j.xb)(c.date)||(0,j.xb)(c.ids)||!n&&y||p&&(0,j.xb)(null==c?void 0:c.containerId);v(!e)}),[c,y,p]);var x=[{value:sI,label:t.formatMessage(lA)},{value:iI,label:t.formatMessage(oA)}],S=(e,t)=>d((r=>eI(eI({},r),{},{[t]:e})));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"MH3Ks-oh7Ew1JmX0-XIPRw==",children:[(0,u.jsxs)("div",{className:zM,style:{width:"90px"},children:[(0,u.jsx)("span",{className:YM,children:t.formatMessage(cA)}),(0,u.jsx)(mt.Z,{date:c.date||(0,ft.zO)(ft.pz),dateFormat:ft.pz,onChange:e=>S(e,"date"),className:"hgyroWS-4Zh02rdsKa6Mfw==",shouldHideYear:!0})]}),(0,u.jsxs)("div",{className:zM,style:{width:"320px"},children:[(0,u.jsx)("span",{className:YM,children:t.formatMessage(rA)}),(0,u.jsx)(Gl.Z,{name:"ids",dataSource:i,dataSourceConfig:rI,onChange:e=>S(e,"ids"),values:c.ids||[],classContainer:"_1AQU2Yg5dFbVoXV7s6JnwA==",checkboxLabelClassName:"ioBtnoxYv6-L5ybNOCREEg=="})]}),(0,u.jsxs)("div",{className:zM,children:[(0,u.jsx)("span",{className:YM,children:t.formatMessage(dA)}),(0,u.jsxs)("div",{className:"EHXuSVK0DDXRy56ndy6H1A==",children:[(0,u.jsx)(Zb.E,{selectedValue:p?iI:sI,options:x,onChange:e=>{var t=e===iI;h(e===iI),!t&&c.containerId&&s.onChange(eI(eI({},c),{},{containerId:""}))},classContainer:"zrFTlowmut0mfmMfYFqMHQ=="}),(0,u.jsx)(yj.Z,{name:"containerId",value:c.containerId||"",dataSource:r,dataSourceConfig:rI,disabled:!p,onChange:e=>S(e,"containerId")})]})]})]}),(0,u.jsx)(XM,{isEdit:n,onSave:()=>{a(c),s.onChange({})},onReject:()=>{o(),s.onChange({})},isValid:f,intl:t})]})};nI.propTypes={intl:P.gm.isRequired,scheduleSchema:c().array.isRequired,scheduleContainersMapArray:c().array.isRequired,input:c().object.isRequired,isEdit:c().bool.isRequired,addHandler:c().func.isRequired,rejectHandler:c().func.isRequired,untypicalDays:c().func.isRequired};const aI=nI,oI="_1b9DlXDdC+iqgHbHvSPChg==",lI="Hg6QXf5vkoC9XT4QFEOUOQ==";function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cI(Object(r),!0).forEach((function(t){uI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pI=e=>{var{onDeleteSpecialDay:t,index:r,item:i,activeIndex:n,groupId:a,isSchemeListShowedByGroup:o}=e,l=(0,s.I0)(),c=me()("ypvhWFx+t12z4jqLTagbWg==",{[lI]:n===r}),d=JM(i.date,ft.pz);return(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>{var e=dI(dI({},i),{},{date:JM(i.date,ft.vc)});l((0,YA.deleteUntypicalDay)(e,(()=>t(r)))),l(o?(0,YA.fetchScheduleSchema)({id:a}):(0,YA.fetchAllScheduleSchemeList)())}})}),(0,u.jsx)("div",{className:"FP808Gpa0tLgENq7xdpxcQ==",children:d})]})};pI.defaultProps={activeIndex:null},pI.propTypes={onDeleteSpecialDay:c().func.isRequired,item:c().object.isRequired,activeIndex:c().number,index:c().number.isRequired,isSchemeListShowedByGroup:c().bool.isRequired,groupId:c().string.isRequired};const hI=pI;var fI=e=>{var{ids:t,activeIndex:r,index:i,scheduleSchemaMap:s}=e,n=me()(oI,{[lI]:r===i}),a=t.map((e=>s[e])).join(", ");return(0,u.jsx)("div",{className:n,title:a,children:(0,u.jsx)("span",{className:"text-ellipsis",children:a})})};fI.defaultProps={activeIndex:null,ids:[]},fI.propTypes={scheduleSchemaMap:c().object.isRequired,ids:c().array,activeIndex:c().number,index:c().number.isRequired};const mI=fI;var vI=e=>{var{containerName:t,index:r,activeIndex:i}=e,s=me()(oI,{[lI]:i===r});return(0,u.jsx)("div",{className:s,children:(0,u.jsx)("span",{className:"text-ellipsis",children:t})})};vI.defaultProps={containerName:"",activeIndex:null},vI.propTypes={containerName:c().string,index:c().number.isRequired,activeIndex:c().number};const yI=vI;var gI=e=>{var{onDeleteSpecialDay:t,scheduleSchemaMap:r,scheduleContainersMap:i,activeIndex:s,intl:n,isSchemeListShowedByGroup:a,groupId:o}=e;return[new DO.Z({label:n.formatMessage(cA),key:"date",width:100,hasTitle:!1,headerClassName:"zJB3cU13H+x0kzBRMY8Czg==",renderCell:(e,r)=>(0,u.jsx)(hI,{onDeleteSpecialDay:t,item:e,index:r,activeIndex:s,groupId:o,isSchemeListShowedByGroup:a})}),new DO.Z({label:n.formatMessage(rA),key:"schemes",width:350,headerClassName:QM,renderCell:(e,t)=>(0,u.jsx)(mI,{ids:e.ids,activeIndex:s,index:t,scheduleSchemaMap:r})}),new DO.Z({label:n.formatMessage(dA),key:"container",width:450,headerClassName:QM,autoSize:!0,renderCell:(e,t)=>{var r;return(0,u.jsx)(yI,{containerName:null===(r=i[null==e?void 0:e.containerId])||void 0===r?void 0:r.name,activeIndex:s,index:t})}})]};function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bI(Object(r),!0).forEach((function(t){xI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SI=e=>{var{intl:t,scheduleSchema:r,scheduleContainersMap:i,scheduleContainersMapArray:n,scheduleSchemaMap:a,changeSpecialDay:o,specialDays:l,isSpecialDaysLoading:c,massUpdateSpecialDays:d,fetchSpecialDaysForMultiEdit:p,groupId:h,isSchemeListShowedByGroup:f}=e,[v,y]=(0,m.useState)(null),[g,b]=(0,m.useState)([]),[x,S]=(0,m.useState)(!1),O=(0,s.I0)();(0,m.useEffect)((()=>(p(h),()=>{y(null),b([])})),[]),(0,m.useEffect)((()=>{b(l)}),[l]);var P={onDeleteSpecialDay:e=>{b((t=>{var r=gi()(t);return r.splice(e,1),r}))},scheduleContainersMap:i,scheduleSchemaMap:a,intl:t,activeIndex:v,isSchemeListShowedByGroup:f,groupId:h};return c?(0,u.jsx)(Z.Z,{}):(0,u.jsxs)("div",{className:"_540AVhQHstMmgz4Bi3ju6A==",children:[(0,u.jsx)("form",{children:(0,u.jsx)(_e.Z,{component:aI,type:"text",name:"specialWorkTime",isEdit:null!==v,intl:t,scheduleContainersMapArray:n,scheduleSchema:r,addHandler:e=>{null!==v?(b((t=>{var r=gi()(t);return r.splice(v,1,e),r})),y(null)):b((t=>[...t,e])),S(!0)},rejectHandler:()=>y(null),untypicalDays:g})}),(0,u.jsx)("div",{className:"+b+RAEzQIFIFXUEIv9tisg==",children:(0,u.jsx)(VP.ZP,{data:g,columns:gI(P),onCellClick:(e,t,r)=>{var i=jI(jI({},g[r]),{},{date:JM(t.date,ft.pz)});y(r),o(i)},hideBottomLeftGridScrollbar:!0,columnsAutoWidths:!0,cellClassName:"enable-transition virtualized-table__cell"})}),(0,u.jsx)("div",{className:"z-bVBAAGYhFRay33wOfYWw==",children:(0,u.jsx)("div",{className:"container-drawer",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:t.formatMessage(sA),disabled:!x||(0,j.xb)(g),onClick:()=>{var e=g.map((e=>{var t=JM(e.date,ft.vc);return jI(jI({},e),{},{date:t})}));d(e,(()=>{p(h),O(f?(0,YA.fetchScheduleSchema)({id:h}):(0,YA.fetchAllScheduleSchemeList)())})),S(!1)}})})})]})};SI.propTypes={intl:P.gm.isRequired,isSchemeListShowedByGroup:c().bool.isRequired,scheduleSchema:c().array.isRequired,scheduleContainersMap:c().object.isRequired,scheduleContainersMapArray:c().array.isRequired,scheduleSchemaMap:c().object.isRequired,changeSpecialDay:c().func.isRequired,specialDays:c().array.isRequired,isSpecialDaysLoading:c().bool.isRequired,massUpdateSpecialDays:c().func.isRequired,fetchSpecialDaysForMultiEdit:c().func.isRequired,groupId:c().string.isRequired};const OI=SI;function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PI(Object(r),!0).forEach((function(t){CI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kI="MassEditUntypicalDays";const TI=(0,o.compose)(v.ZP,(0,s.$j)((e=>({scheduleSchema:(0,NM.Hn)(e),scheduleContainersMapArray:(0,ij.AB)(e),scheduleContainersMap:(0,ij.bJ)(e),formValue:(0,qe.Z)(kI)(e),specialDays:(0,NM.k4)(e),isSpecialDaysLoading:(0,NM.kf)(e),groupId:(0,Y.Wx)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup")})),(e=>({massUpdateSpecialDays:(t,r)=>e((0,YA.massUpdateSpecialDays)(t,r)),fetchSpecialDaysForMultiEdit:t=>e((0,YA.fetchSpecialDaysForMultiEdit)(t)),changeSpecialDay:t=>e((0,Qr.m)(kI,"specialWorkTime",t))}))),(0,Fe.Z)({form:kI}),(0,fl.G)((e=>{var t={};return e.scheduleSchema.forEach((e=>{t[e.id]=e.name})),wI(wI({},e),{},{scheduleSchemaMap:t})})))(OI);var NI=e=>{for(var t={},r=0;r<e;r++)t[r]=!1;return t},RI={date:(0,ft.zO)(ft.pz),containerId:""},EI=(0,u.jsx)(J.Z,{id:"ScheduleSchema.weekEnd",defaultMessage:[{type:0,value:"Выходной день"}]}),DI=(0,u.jsx)(J.Z,{id:"ScheduleSchema.workingDay",defaultMessage:[{type:0,value:"Рабочий день"}]}),AI=(0,u.jsx)(J.Z,{id:"Common.day",defaultMessage:[{type:0,value:"День"}]}),MI=(0,u.jsx)(J.Z,{id:"Common.scheduleContainer",defaultMessage:[{type:0,value:"Смена"}]}),II=(0,u.jsx)(J.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]}),ZI=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),qI=(0,u.jsx)(J.Z,{id:"Common.Cancel",defaultMessage:[{type:0,value:"Отмена"}]});const FI="F6ojh8hs8yl4-xkJkU5q6g==",LI="YROFN3G9CGXGnPO4wEABNQ==",HI="+ZZQSO-LsYv+dyABXam8ag==",_I="-dnvEYBj8OGCnf4+RXE2kw==";function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function GI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BI(Object(r),!0).forEach((function(t){WI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UI="workDay",VI="dayOff",zI=e=>{var t,{onChange:r,value:i,schedules:s,schedulesMap:n,formValues:a}=e,[o,l]=(0,m.useState)(RI),[c,d]=(0,m.useState)(null),[p,h]=(0,m.useState)(!1),[f,v]=(0,m.useState)(!1),[y,g]=(0,m.useState)(!1),[b,x]=(0,m.useState)(NI(i.length)),S=()=>{var e=a.untypicalDays.some((e=>{var t=e.date.length>5?ns()(e.date,ft.vc).format(ft.pz):e.date;return o.date===t})),t=f&&(0,j.xb)(o.containerId);g(!e&&!t)};(0,m.useEffect)((()=>{var e=!(0,j.xb)(o.date);g(e),S()}),[o]),(0,m.useEffect)((()=>{S()}),[a,f]);var O,P=[{value:VI,label:EI},{value:UI,label:DI}];return(0,u.jsxs)("div",{className:"_17KBob7BEoBdXcrlQFsxZw==",children:[(0,u.jsxs)("div",{className:"HTCX3WdM9YcD0U2BMcBfgA==",children:[(0,u.jsxs)("div",{className:_I,style:{width:"100px"},children:[(0,u.jsx)("span",{className:FI,children:AI}),(0,u.jsx)(mt.Z,{date:(null==o?void 0:o.date)||(0,ft.zO)(ft.pz),dateFormat:ft.pz,onChange:e=>{l(GI(GI({},o),{},{date:ns()(e,ft.pz).format(ft.pz)}))},className:"_88vN7DomWIt7T+kC5DLHFQ==",shouldHideYear:!0})]}),(0,u.jsxs)("div",{className:_I,children:[(0,u.jsx)("span",{className:FI,children:MI}),(0,u.jsxs)("div",{className:"cGiHI+dhmO9Dv0P5ZYBSaQ==",children:[(0,u.jsx)(Zb.E,{selectedValue:f?UI:VI,options:P,onChange:e=>{v(e===UI),f&&l({date:o.date,containerId:""})},classContainer:"c8f004-uIpyu0A3D2LcKAQ=="}),(0,u.jsx)(Il.Z,{onChange:e=>l(GI(GI({},o),{},{containerId:e})),dataSource:s,value:null==o?void 0:o.containerId,disabled:!f})]})]})]}),(0,u.jsxs)("div",{className:"arkWpnmHKmLvkw+qDm1pHw==",children:[!p&&(0,u.jsxs)(Ae.Z,{onClick:()=>{r([...i,o]),l(RI)},disabled:!y,children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)("span",{className:"wgpe0-cT6M00eVfRTdRd5Q==",children:II})]}),p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ae.Z,{onClick:()=>{var e=i.filter(((e,t)=>t!==c));r([...e,o]),l(RI),h(!1),d(null)},children:ZI}),(0,u.jsx)(Ae.Z,{className:"siJcclJf9nmiPMFWbh5lTw==",onClick:()=>{l(RI),h(!1),d(null),v(!1)},children:qI})]})]}),(0,u.jsxs)("div",{className:"NZ7ZazxTEDFlP852QWYrvw==",children:[(0,u.jsxs)("div",{className:"grcyf4QGx1c9J100EIdSYA==",children:[(0,u.jsxs)("div",{className:"yJjZSERcbMxc77BpCV+1oQ==",children:[(0,u.jsx)(Rs.XZ,{className:LI,onChange:e=>{for(var t={},r=0;r<i.length;r++)t[r]=e;return x(t)},checked:[...new Set(Object.values(b))].some((e=>!0===e))}),(0,u.jsx)(Ae.Z,{onClick:()=>{var e=i.filter(((e,t)=>!b[t]));x(NI(e.length)),r(e),p&&(h(!1),d(null),l(RI),v(!1))},className:HI,disabled:(O=b,!Object.values(O).some((e=>!0===e))),children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),AI]}),MI]}),(0,u.jsx)("ul",{className:"_0N6I8vCf4FaRgTZf8gw8Wg==",children:(0,u.jsx)(Be.$B,{children:null==a||null===(t=a.untypicalDays)||void 0===t?void 0:t.map(((e,t)=>{var s,{containerId:a,date:o}=e,f="".concat(a).concat(t),m=o.length>5?(0,ft.Ro)(o,ft.vc):o;return(0,u.jsx)("li",{className:"JOJlXTjHILhXulJfvvr8hQ==",children:(0,u.jsxs)("div",{className:"FGLrGS7OPdV0lHW8t3AoEA==",children:[(0,u.jsx)(Rs.XZ,{className:LI,onChange:e=>((e,t)=>{x(GI(GI({},b),{},{[e]:t}))})(t,e),checked:b[t]||!1}),(0,u.jsx)(Ae.Z,{onClick:()=>{return e=t,s=i.filter(((t,r)=>r!==e)),x(NI(s.length)),r(s),void(p&&(h(!1),d(null),l(RI),v(!1)));var e,s},className:HI,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsxs)("div",{className:me()("_4e4zyHv9K5MUy3So+KoOwA==",{"SUL5VokKWSwtkTucnNS-tA==":t===c}),onClick:()=>(e=>{d(e),h(!0),(0,j.xb)(i[e].containerId)?v(!1):v(!0);var t=i.find(((t,r)=>r===e)),r=GI(GI({},t),{},{date:(0,ft.Ro)(t.date,ft.vc)});l(r)})(t),children:[(0,u.jsx)("div",{className:"hhuQ0Nq6y5tFNSfQVL3yLQ==",children:m}),(0,u.jsx)("div",{className:"Xir+6OGcQ8n4xF-VZZ9sZg==",children:(0,u.jsx)("span",{children:null===(s=n[a])||void 0===s?void 0:s.name})})]})]})},f)}))})})]})]})};zI.defaultProps={value:[],schedules:[],schedulesMap:{},formValues:{}},zI.propTypes={value:c().array,onChange:c().func.isRequired,schedules:c().array,schedulesMap:c().object,formValues:c().object};const YI=zI;var QI=e=>{var{input:{value:t,onChange:r}}=e,i=(0,s.v9)(ij.bB),n=(0,s.v9)(ij.bJ),a=(0,s.v9)((0,qe.Z)("ScheduleSchemaForm"));return(0,u.jsx)(YI,{value:t,onChange:r,schedules:i,schedulesMap:n,formValues:a})};QI.propTypes={input:c().object.isRequired};const KI=QI;var XI=e=>{var{sizes:t,onResize:r,fetchScheduleSchema:i,fetchSchedules:s,updateScheduleSchema:n,initializeForm:a,saveScheduleSchema:o,user:l,scheduleSchema:c,frontendSettings:d,intl:p,groupId:h,showGroupEditPopup:f,selectedScheduleSchema:v,resetSelectedScheduleSchema:y,isSchemeListShowedByGroup:g,fetchAllScheduleSchemeList:b}=e,[j,S]=(0,m.useState)(300),[O,P]=(0,m.useState)(!1),[w,C]=(0,m.useState)(YD),[k,T]=(0,m.useState)(!1),[N,R]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{O||C(YD)}),[O]),(0,u.jsxs)("div",{className:"schedule-schema",children:[(0,u.jsx)(HA,{renderButton:()=>(0,X.BC)(l,x.ZP.RIGHTS.SCHEDULE_SCHEME,x.ZP.CRUD)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ml.Z,{glyph:et.dt,classIcon:fA,onClick:()=>{a({groupId:h}),P(!0),y()},textAfter:zD,classContainer:mA}),(0,u.jsx)(Ml.Z,{glyph:et.rX,classIcon:fA,textAfter:KD,classContainer:mA,onClick:()=>{T(!0)}}),(0,u.jsx)(Ml.Z,{glyph:et.v2,classIcon:fA,textAfter:XD,onClick:()=>{R(!0)}})]}):null}),(0,u.jsx)(kA,{sizes:t,fetchScheduleSchema:i,fetchSchedules:s,scheduleSchema:c,frontendSettings:d,intl:p,groupId:h,leftColumnWidth:j,user:l,onOpenEditForm:e=>{C(QD),a(e),P(!0)},showGroupEditPopup:f,selectedScheduleSchema:v,isSchemeListShowedByGroup:g,fetchAllScheduleSchemeList:b}),(0,u.jsx)(Ze.ZP,{open:O,handleBackArrow:()=>P(!1),width:610,asideContent:(0,u.jsx)(_e.Z,{component:KI,name:"untypicalDays"}),asideTitle:JD,asideOpen:O,title:w,asideWidth:620,children:(0,u.jsx)(MM,{groupId:h,onCancel:()=>P(!1),onSubmit:e=>{e.id?n(e,(()=>{g?i(h):b(),P(!1)})):o(e,(()=>P(!1)))},onCloseDrawer:()=>P(!1)})}),(0,u.jsx)(Ze.ZP,{open:k,handleBackArrow:()=>T(!1),width:700,title:KD,children:(0,u.jsx)(VM,{})}),(0,u.jsx)(Ze.ZP,{open:N,handleBackArrow:()=>R(!1),width:900,title:XD,children:(0,u.jsx)(TI,{})}),(0,u.jsx)(es,{onDrag:e=>{var{leftWidth:i}=t,s=i+e,n=s;s<=VD.S?n=VD.S:s>=VD.w&&(n=VD.w),r({leftWidth:n}),S(n)},style:{left:j}})]})};XI.propTypes={sizes:c().shape({leftWidth:c().number.isRequired}).isRequired,onResize:c().func.isRequired,isSchemeListShowedByGroup:c().bool.isRequired,fetchAllScheduleSchemeList:c().func.isRequired,fetchScheduleSchema:c().func.isRequired,fetchSchedules:c().func.isRequired,updateScheduleSchema:c().func.isRequired,initializeForm:c().func.isRequired,saveScheduleSchema:c().func.isRequired,user:ge.Z.isRequired,scheduleSchema:c().array.isRequired,frontendSettings:c().object.isRequired,intl:P.gm.isRequired,groupId:P.K5.isRequired,showGroupEditPopup:c().func.isRequired,selectedScheduleSchema:c().func.isRequired,resetSelectedScheduleSchema:c().func.isRequired};const JI=XI;var $I=r(46981),eZ=e=>e.common.openedFormName;const tZ=(0,o.compose)((0,s.$j)((e=>({sizes:(0,NM.Xr)(e),scheduleSchema:(0,NM.Hn)(e),calendar:(0,B.eJ)(e),frontendSettings:(0,B.e0)(e),user:(0,C.ts)(e),groupId:(0,Y.Wx)(e),asideFormName:eZ(e),isLoadingSchema:(0,NM.wt)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup")})),(e=>({onResize:t=>e((0,YA.resizeLayout)(t)),fetchCalendar:t=>e((0,$I.fetchCalendar)(t)),updateScheduleSchema:(t,r)=>e((0,YA.updateScheduleSchema)(t,r)),saveScheduleSchema:(t,r)=>e((0,YA.saveScheduleSchema)(t,r)),fetchScheduleSchema:t=>e((0,YA.fetchScheduleSchema)({id:t})),fetchAllScheduleSchemeList:()=>e((0,YA.fetchAllScheduleSchemeList)()),fetchSchedules:t=>e((0,ua.fetchSchedules)(t)),showGroupEditPopup:()=>e((0,YA.showGroupEditPopup)()),selectedScheduleSchema:t=>e((0,YA.selectedScheduleSchema)(t)),resetSelectedScheduleSchema:()=>e((0,YA.resetSelectedScheduleSchema)()),initializeForm:t=>{var r={id:t.id||"",externalGroupId:t.externalGroupId||"",externalId:t.externalId||"",groupId:t.groupId||"",groupName:t.groupName||"",isGroup:t.isGroup||!0,name:t.name||"",shiftInterval:t.shiftInterval||null,dayOffRules:t.dayOffRules||[],untypicalDays:t.untypicalDays||[],containers:t.containers||[],maxDay:t.maxDay||7,firstDay:t.firstDay||ns()().startOf("week").format("YYYY-MM-DD")};e((0,Qr.j2)("ScheduleSchemaForm",r))},resetForm:()=>e((0,Qr.ob)("ScheduleSchemaForm"))}))),kO(x.ZP.RIGHTS.SCHEDULE_SCHEME),(0,U.Z)((e=>{var{props:t}=e,{groupId:r,isSchemeListShowedByGroup:i}=t;i&&r?(t.fetchSchedules({groupId:r}),t.fetchScheduleSchema(r)):(t.fetchAllScheduleSchemeList(),t.fetchSchedules())})),v.ZP,(0,Fe.Z)({form:"ScheduleSchemaForm"}))(JI);var rZ=r(44593),iZ=r(55517),sZ=r(62822),nZ=r(50998),aZ=r(13258),oZ=r(64126),lZ=r(50117),cZ=r(85639),dZ=r(8397),uZ=r(7127);class pZ extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDialogAccept",(e=>{var{onChange:t,linkPrefix:r,push:i}=this.props;t?t(ns()(e).format(ft.vc)):i(r+(r.endsWith("/")?"":"/")+ns()(e).format(ft.vc))}))}render(){var{currentDate:e=ns()(),linkPrefix:t="/operator/work-shifts/day/"}=this.props,r=ns()(e,ft.vc).subtract(1,"d"),i=ns()(e,ft.vc).add(1,"d"),s=t+(t.endsWith("/")?"":"/")+r.format(ft.vc),n=t+(t.endsWith("/")?"":"/")+i.format(ft.vc),o=this.props.onChange?(0,u.jsx)("span",{onClick:()=>this.props.onChange(r.format(ft.vc)),children:(0,u.jsx)(et.ZP,{glyph:et.Y4})}):(0,u.jsx)(a.rU,{to:s,children:(0,u.jsx)(et.ZP,{glyph:et.Y4})}),l=this.props.onChange?(0,u.jsx)("span",{onClick:()=>this.props.onChange(i.format(ft.vc)),children:(0,u.jsx)(et.ZP,{glyph:et.LZ})}):(0,u.jsx)(a.rU,{to:n,children:(0,u.jsx)(et.ZP,{glyph:et.LZ})}),c=this.props.className||"day-select";return(0,u.jsx)("div",{className:c,children:(0,u.jsxs)("ul",{className:"AQ47TKeNPAdFjysp0ty9qg==",children:[(0,u.jsx)("li",{children:o}),(0,u.jsx)(mt.Z,{date:e,onChange:this.handleDialogAccept}),(0,u.jsx)("li",{children:l})]})})}}pZ.defaultProps={className:"",onChange:null},pZ.propTypes={currentDate:c().string.isRequired,linkPrefix:c().string.isRequired,className:c().string,onChange:c().func,push:c().func.isRequired};const hZ=pZ;var fZ=r(84138),mZ=e=>e.tasks.tasks,vZ=e=>e.tasks.toggleTaskForm,yZ=e=>e.tasks.isDeletingTask,gZ=e=>e.settings.tasksWithSubtaskTemplates,bZ=(0,Q.createSelector)(gZ,(e=>(0,X.xn)(e))),jZ=r(49489),xZ=r(26209),SZ=e=>{var{multiple:t,value:r,onChange:i,taskTemplates:s,hintText:n,floatingLabelText:a,error:o,fullWidth:l,style:c,disabled:d}=e;return(0,u.jsx)(xZ.Z,{disabled:d,fullWidth:l,multiple:t,hintText:n,label:a,errorText:o,style:c,value:r,onChange:e=>{i(e.target.value)},children:s&&s.map&&s.map((e=>(0,u.jsx)(cZ.Z,{insetChildren:!0,checked:r&&r.indexOf(e.id)>-1,value:e.id,children:e.name},e.id)))})};SZ.defaultProps={multiple:!1,disabled:!1,taskTemplates:[],hintText:null,style:null,error:""},SZ.propTypes={multiple:c().bool,disabled:c().bool,value:c().string.isRequired,onChange:c().func.isRequired,taskTemplates:c().array,hintText:c().bool,floatingLabelText:c().object.isRequired,error:c().string,fullWidth:c().bool.isRequired,style:c().object};const OZ=SZ;var PZ=!1;const wZ=(0,o.compose)((0,s.$j)((e=>({taskTemplates:gZ(e).sort(((e,t)=>e.name>t.name?1:-1))})),{fetchTasksWithSubtaskTemplates:jZ.fetchTasksWithSubtaskTemplates}),(0,U.Z)((e=>{var{props:t}=e;t.taskTemplates&&t.taskTemplates.length||PZ||(t.groupId?t.fetchTasksWithSubtaskTemplates({id:t.groupId}):t.fetchTasksWithSubtaskTemplates(),PZ=!0)})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;t.groupId!==r.groupId&&(t.groupId?t.fetchTasksWithSubtaskTemplates({id:t.groupId}):t.fetchTasksWithSubtaskTemplates())})))(OZ);var CZ=r(51115),kZ=r(25281),TZ=r(75364),NZ=r(61604),RZ=r(40074),EZ=r(52541);class DZ extends m.PureComponent{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"radioSelectList",(0,m.createRef)()),this.state={open:!1,options:this.makeOptions(this.props.values)},this.close=this.close.bind(this),this.open=this.open.bind(this)}componentDidMount(){this.checkDefaultValue()}UNSAFE_componentWillReceiveProps(e){e.values!==this.props.values&&this.checkDefaultValue(),this.setState({options:this.makeOptions(e.values)})}getNameById(e){var t=this.props.values.find((t=>t.id===e));return t?t.name:this.props.placeholder||(0,u.jsx)(J.Z,{id:"RadioSelect.select",defaultMessage:[{type:0,value:"Выбрать"}]})}close(){this.setState({open:!1})}open(){this.setState({open:!0})}makeOptions(e){var t=[];return e.forEach((e=>{var{id:r,name:i}=e;t.push((0,u.jsx)(rO.Z,{value:r,control:(0,u.jsx)(RZ.Z,{}),label:i},r))})),t}checkDefaultValue(){this.props.nullable||this.props.value||this.props.onChange(this.props.values[0]?this.props.values[0].id:"")}render(){return(0,u.jsxs)("div",{className:me()("radio-select",{"radio-select--opened":this.state.open}),children:[(0,u.jsx)("div",{ref:this.radioSelectList,className:"radio-select__value "+this.props.className,onClick:()=>this.open(),style:this.props.style,children:this.getNameById(this.props.value)}),this.state.open&&(0,u.jsx)(Ns.ZP,{open:!0,onClose:this.close,anchorEl:this.radioSelectList["radio-select__list"],style:{width:this.props.width||"400px"},children:(0,u.jsx)("div",{className:"p+ scrollbar",style:{maxHeight:this.props.maxHeight||"400px",overflowY:"scroll"},children:(0,u.jsx)(EZ.Z,{onChange:(e,t)=>{this.props.closeOnSelect&&this.close(),this.props.onChange&&this.props.onChange(t)},name:this.props.name,defaultSelected:this.props.value,children:this.state.options})})})]})}}DZ.defaultProps={value:"",onChange:O.wA,name:"",placeholder:"",closeOnSelect:!1,nullable:!1,width:"",maxHeight:"",style:{},className:""},DZ.propTypes={values:c().array.isRequired,value:c().string,onChange:c().func,name:c().string,placeholder:c().string,closeOnSelect:c().bool,nullable:c().bool,width:c().string,maxHeight:c().string,style:c().object,className:c().string};const AZ=c().oneOf(["DIRECT","ERLANG"]);var MZ=r(97721);const IZ=c().shape({id:MZ.Z.isRequired,groups:c().array.isRequired,rateCorrection:c().number.isRequired,serviceCallTime:c().number.isRequired,servicePercent:c().number.isRequired,description:c().string,telephonyId:c().string.isRequired,name:c().string.isRequired,computeType:AZ.isRequired,skill:c().bool.isRequired});var ZZ=r(52600),qZ=e=>{var{queues:t,multiple:r,value:i,onChange:s,hintText:n,useMui:a,name:o,disabled:l}=e;if(a){var c=null==t?void 0:t.sort((0,X.hM)()).map((e=>({id:e.id,name:e.name})));return(0,u.jsx)("div",{className:"O169iDNViCCzcxw-Y0Oz6g==",children:(0,u.jsx)(_e.Z,{component:ZZ.Z,disabled:l,name:o,dataSource:c,hintText:n,clearBtn:!0})})}return r?(0,u.jsx)(xZ.Z,{multiple:!0,hintText:n,value:i,onChange:s,children:t&&t.map&&t.map((e=>(0,u.jsx)(cZ.Z,{insetChildren:!0,checked:i&&i.indexOf(e.id)>-1,value:e.id,children:e.name},e.id)))}):(0,u.jsx)("div",{className:"schedule-select__wrap checkbox-group-select",children:(0,u.jsx)(DZ,{name:"queue",onChange:s,value:i,values:t})})};qZ.defaultProps={useMui:!1,multiple:!1,disabled:!1,hintText:"",queues:[]},qZ.propTypes={onChange:c().func.isRequired,queues:c().arrayOf(IZ),value:P.K5.isRequired,multiple:c().bool,disabled:c().bool,hintText:c().string,useMui:c().bool,name:c().string.isRequired};const FZ=qZ;var LZ=e=>{var{multiple:t,value:r,onChange:i,hintText:n,useMui:a,name:o,disabled:l}=e,c=(0,s.I0)(),d=(0,s.v9)(TZ.Sh),p=(0,s.v9)(Y.Wx);return(0,m.useEffect)((()=>{c((0,NZ.getQueues)({id:p}))}),[c,p]),(0,u.jsx)(FZ,{disabled:l,queues:d,multiple:t,value:r,onChange:i,hintText:n,useMui:a,name:o})};LZ.defaultProps={useMui:!1,multiple:!1,disabled:!1,hintText:"",name:"",onChange:O.wA},LZ.propTypes={onChange:c().func,value:P.K5.isRequired,multiple:c().bool,disabled:c().bool,hintText:c().string,useMui:c().bool,name:c().string};const HZ=LZ;var _Z=r(59601),BZ=e=>(0,j.xb)(e)?"0":e,GZ=(0,u.jsx)(J.Z,{id:"UserTasks.nameFieldRequired",defaultMessage:[{type:0,value:"Поле «Название» обязательно для заполнения"}]}),WZ=(0,u.jsx)(J.Z,{id:"UserTasks.externalIdFieldRequired",defaultMessage:[{type:0,value:"Поле «ID внешней системы» обязательно для заполнения"}]}),UZ=(0,u.jsx)(J.Z,{id:"UserTasks.activityFieldRequired",defaultMessage:[{type:0,value:"Поле «Активность для задачи» обязательно для заполнения"}]}),VZ=(0,u.jsx)(J.Z,{id:"UserTasks.minDurationFieldRequired",defaultMessage:[{type:0,value:"Поле «Мин. длительность (мин.)» обязательно для заполнения"}]}),zZ=(0,u.jsx)(J.Z,{id:"UserTasks.priorityFieldRequired",defaultMessage:""}),YZ=(0,u.jsx)(J.Z,{id:"UserTasks.stepFieldRequired",defaultMessage:[{type:0,value:"Поле «Шаг распределения» обязательно для заполнения"}]}),QZ=(0,u.jsx)(J.Z,{id:"UserTasks.maxDurationFieldRequired",defaultMessage:[{type:0,value:"Поле «Макс. длительность (мин.)» обязательно для заполнения"}]}),KZ=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]}),XZ=(0,u.jsx)(J.Z,{id:"Tasks.template",defaultMessage:[{type:0,value:"Типовая Задача"}]}),JZ=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.activityForTask",defaultMessage:[{type:0,value:"Активность для задачи"}]}),$Z=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.replaceableActivities",defaultMessage:[{type:0,value:"Заменяемые активности"}]}),eq=(0,u.jsx)(J.Z,{id:"Common.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),tq=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.priority",defaultMessage:[{type:0,value:"Приоритет"}]}),rq=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.minDurability",defaultMessage:[{type:0,value:"Мин. длительность (мин.)"}]}),iq=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.maxDurability",defaultMessage:[{type:0,value:"Макс. длительность (мин.)"}]}),sq=(0,u.jsx)(J.Z,{id:"Tasks.norm",defaultMessage:[{type:0,value:"Норматив, сек."}]}),nq=(0,u.jsx)(J.Z,{id:"TaskTemplatesList.step",defaultMessage:[{type:0,value:"Шаг распределения"}]}),aq=(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),oq=(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]}),lq=(0,u.jsx)(J.Z,{id:"UserTasks.evenly",defaultMessage:[{type:0,value:"Равномерное распределение"}]}),cq=(0,u.jsx)(J.Z,{id:"Actions.delete",defaultMessage:[{type:0,value:"Удалить"}]}),dq=(0,u.jsx)(J.Z,{id:"Actions.cancel",defaultMessage:[{type:0,value:"Отмена"}]}),uq=(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]});class pq extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{this.setState((e=>({expanded:!e.expanded})))})),this.state={expanded:!1},this.rootRef=(0,m.createRef)()}render(){var{subtask:e,name:t,intl:r,disabled:i}=this.props,s=r.formatMessage({id:"SettingsMenu.queues",defaultMessage:[{type:0,value:"очереди"}]}),n=r.formatMessage({id:"Common.ShortSec",defaultMessage:[{type:0,value:"сек."}]}),a=r.formatMessage({id:"Tasks.norm",defaultMessage:[{type:0,value:"Норматив, сек."}]}),o=r.formatMessage({id:"Tasks.count",defaultMessage:[{type:0,value:"Количество, шт."}]});return(0,u.jsxs)(pd.Z,{className:"mb p",children:[(0,u.jsxs)("div",{ref:this.rootRef,className:"flex-container",style:{lineHeight:"28px",height:"28px",cursor:"pointer"},onClick:this.handleClick,children:[(0,u.jsx)("div",{title:e.subtaskTemplateName,className:me()("flex-item_flexible","fjjpD27znTk667MtrJXvdg=="),children:e.subtaskTemplateName}),(0,u.jsx)("div",{className:"flex-item_fixed ph1",children:(0,u.jsx)("span",{className:"text-style_caption",children:"".concat(BZ(e.norm)," ").concat(n," * ").concat(BZ(e.count))})}),(0,u.jsx)("div",{className:"flex-item_fixed",children:this.state.expanded?(0,u.jsx)(kZ.Z,{}):(0,u.jsx)(CZ.Z,{})})]}),(0,u.jsx)("div",{style:{width:"110px"},children:(0,u.jsx)(Ns.ZP,{className:"l7N0ttPV1YNPfE3+RbU0cw==",open:this.state.expanded,anchorEl:this.rootRef.current,onClose:this.handleClick,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{display:"flex"},children:[(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,name:"".concat(t,".norm"),disabled:i,text:a,className:oO,classNameInput:lO,containerClassName:"HYIwnx6Hne-7PQV2U2jQ6w=="}),(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,name:"".concat(t,".count"),disabled:i,text:o,className:oO,classNameInput:lO,containerClassName:"XE2t6Hvl7rnGEV5D5QtrJQ=="})]}),(0,u.jsx)("div",{className:"Iah+l+fBe9y6-PUKjuTTOg==",children:(0,u.jsx)(HZ,{disabled:i,hintText:s,value:e.queueId,useMui:!0,name:"".concat(t,".queueId")})})]})})})]})}}pq.propTypes={subtask:c().object.isRequired,name:c().string.isRequired,disabled:c().bool,intl:c().object.isRequired},pq.defaultProps={disabled:!1};const hq=(0,v.ZP)(pq);function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function mq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fq(Object(r),!0).forEach((function(t){vq(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yq extends m.Component{constructor(){super(...arguments),vq(this,"field",(e=>{var{disabled:t}=this.props;return(0,u.jsx)(u.Fragment,{children:e.fields.map(((e,r)=>(0,u.jsx)(hq,{subtask:this.props.formValues.userSubtasks[r],disabled:t,name:e},e)))})}))}render(){return(0,u.jsx)(_A.Z,mq(mq({},this.props),{},{component:this.field}))}}yq.propTypes={disabled:c().bool,formValues:c().shape({groupId:c().string.isRequired,userSubtasks:c().array.isRequired}).isRequired},yq.defaultProps={disabled:!1};const gq=yq;function bq(e){var{hasInfo:t}=e;return t?(0,u.jsxs)("div",{className:"time-picker__info-block",children:[(0,u.jsxs)("div",{className:"time-picker__min-value-info",children:[(0,u.jsx)(et.ZP,{glyph:et.Uf}),(0,u.jsx)("b",{className:"time-picker__five-minute",children:(0,u.jsx)(J.Z,{id:"TimePicker.zeroMinute",defaultMessage:[{type:0,value:"0 минут"}]})}),(0,u.jsx)("span",{className:"time-picker__min-time-before-start-shift",children:(0,u.jsx)(J.Z,{id:"TimePicker.minTimeBeforeStartShift",defaultMessage:[{type:0,value:"Минимальное время до начала смены"}]})})]}),(0,u.jsxs)("div",{className:"time-picker__max-value-info",children:[(0,u.jsx)(et.ZP,{glyph:et.G}),(0,u.jsx)("b",{className:"time-picker__twenty-four-hours",children:(0,u.jsx)(J.Z,{id:"TimePicker.twentyFourHours",defaultMessage:[{type:0,value:"24 часа"}]})}),(0,u.jsx)("span",{className:"time-picker__max-time-before-start-shift",children:(0,u.jsx)(J.Z,{id:"TimePicker.maxTimeBeforeStartShift",defaultMessage:[{type:0,value:"Максимальное время до начала смены"}]})})]}),(0,u.jsxs)("div",{className:"time-picker__step-value-info",children:[(0,u.jsx)(et.ZP,{glyph:et.ZH}),(0,u.jsx)("b",{className:"time-picker__step-five-minute",children:(0,u.jsx)(J.Z,{id:"TimePicker.oneMinute",defaultMessage:[{type:0,value:"1 минута"}]})}),(0,u.jsx)("span",{className:"time-picker__time-step",children:(0,u.jsx)(J.Z,{id:"TimePicker.timeStep",defaultMessage:[{type:0,value:"Шаг времени"}]})})]})]}):null}bq.defaultProps={hasInfo:!1},bq.propTypes={hasInfo:c().bool};const jq=bq;var xq=r(24459);function Sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Oq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sq(Object(r),!0).forEach((function(t){Pq(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wq=e=>{var t=(0,m.useRef)(null),r=(0,m.useRef)(null),i=(0,m.useRef)(null),[s,n]=(0,m.useState)(e.value),[a,o]=(0,m.useState)(59),[l,c]=(0,m.useState)(null),d=Boolean(l),p=e=>(e=Number(e))>9?e:"0"+e,h=()=>{e.disabled||c(null)},f=()=>{e.onChange((e=>{var{hours:t,minutes:r}=e;return"".concat(p(t),":").concat(p(r))})((t=>{var r,i=(r=Math.round(t.minutes/e.step)*e.step)>=60?0:r;return Oq(Oq({},t),{},{minutes:i})})(s))),n(e.value),h()},v=e=>{n(Oq(Oq({},s),e))},y=s.hours<=9?"0".concat(Number(s.hours)):"".concat(Number(s.hours)),g=s.minutes<=9?"0".concat(Number(s.minutes)):"".concat(Number(s.minutes)),{hasInfo:b,disabled:j}=e,x=me()({"time-picker__change-form-apply-button":b,"time-picker__change-form-item":!b}),S=me()("time-picker__input",{active:d,disabled:j});return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{type:"text",className:S,ref:t,onClick:r=>{e.disabled||(c(r.currentTarget),n(e.value),t&&t.current.focus())},value:(e=>{var{hours:t,minutes:r}=e;return"".concat(p(t)," : ").concat(p(r))})(e.value),disabled:j,onChange:O.wA}),(0,u.jsxs)(Ns.ZP,{open:d,anchorEl:l,anchorOrigin:{horizontal:"middle",vertical:"top"},targetorigin:{horizontal:"middle",vertical:"bottom"},style:{color:"inherited"},onBackdropClick:h,children:[(0,u.jsxs)("div",{className:"time-picker__change-form-wrap",children:[(0,u.jsx)("div",{className:"time-picker__change-form-item",children:(0,u.jsx)(xq.R,{disabled:e.disabled,style:{width:"40px",marginRight:"20px"},value:y,ref:r,maxValue:e.allow24hours?24:23,hideArrows:!0,onChange:e=>{v({hours:e}),24===e?(n(Oq(Oq({},s),{},{minutes:0})),o(0)):0===a&&o(59)},onKeyPress:e=>{"Enter"===e.key&&i.current.focus()}})}),(0,u.jsx)(J.Z,{id:"TimePicker.h",defaultMessage:[{type:0,value:"ч."}]}),(0,u.jsx)("div",{className:"time-picker__change-form-item",children:(0,u.jsx)(xq.R,{disabled:e.disabled,style:{width:"40px"},value:g,maxValue:a,hideArrows:!0,onChange:e=>{v({minutes:e})},ref:i,onKeyPress:e=>{"Enter"===e.key&&f()}})}),(0,u.jsx)(J.Z,{id:"TimePicker.m",defaultMessage:[{type:0,value:"мин."}]}),(0,u.jsx)("div",{className:x,children:(0,u.jsx)(Ae.Z,{onClick:f,children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]}),(0,u.jsx)(jq,{hasInfo:b})]})]})};wq.defaultProps={value:{hours:0,minutes:0},step:1,hasInfo:!1,disabled:!1,allow24hours:!1},wq.propTypes={onChange:c().func.isRequired,value:c().shape({hours:c().any,minutes:c().any}),step:c().number,hasInfo:c().bool,disabled:c().bool,allow24hours:c().bool};const Cq=(0,v.ZP)(wq);function kq(e){return ns()(e,ft._E).local().format(ft.vc)}function Tq(e,t){var r="".concat(e,"T").concat(t);return ns()(r,"YYYY-MM-DDTHH:mm").format(ft._E)}function Nq(e){return ns()(e,ft._E).local().add(1,"day").format(ft._E)}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Eq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(r),!0).forEach((function(t){Dq(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Aq={paddingRight:2,fontSize:10};const Mq=function(e){var{disabled:t}=e;return(0,u.jsxs)(Ae.Z,Eq(Eq({},e),{},{disabled:t,children:[(0,u.jsx)("span",{style:Aq,children:"+"}),(0,u.jsx)(J.Z,{id:"Common.hours",defaultMessage:[{type:0,value:"часы"}]})]}))};function Iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Zq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iq(Object(r),!0).forEach((function(t){qq(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fq={width:5,height:5};const Lq=function(e){return(0,u.jsx)(Ae.Z,Zq(Zq({className:"close-button"},e),{},{children:(0,u.jsx)(et.ZP,{glyph:et.Tw,style:Fq})}))};class Hq extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"toggleHiddenResponse",(()=>{this.props.onToggleHiddenResponse()}))}render(){if(this.props.hidden)return(0,u.jsx)("div",{className:"hiddable-time-picker",children:(0,u.jsx)(Mq,{disabled:this.props.disabled,onClick:this.toggleHiddenResponse})});var e,t=(e=this.props.value,{hours:ns()(e,ft._E).local().format("HH"),minutes:ns()(e,ft._E).local().format("mm")});return(0,u.jsxs)("div",{className:"hiddable-time-picker",children:[(0,u.jsx)(Lq,{onClick:this.toggleHiddenResponse}),(0,u.jsx)(Cq,{onChange:this.props.onChange,value:t,step:5})]})}}Hq.defaultProps={hidden:!0,disabled:!1},Hq.propTypes={value:c().string.isRequired,hidden:c().bool,disabled:c().bool,onChange:c().func.isRequired,onToggleHiddenResponse:c().func.isRequired};const _q=Hq;function Bq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gq={alignItems:"baseline",marginBottom:"7px"};class Wq extends m.PureComponent{constructor(e){super(e),Bq(this,"isClosedEndOfPeriod",(()=>this.props.isEndOfPeriod&&!this.state.showTime)),Bq(this,"handleChangeDate",(e=>{var t,{date:r,onChange:i}=this.props,s=Tq(e,(t=r,ns()(t,ft._E).format(ft.wJ)));i(this.isClosedEndOfPeriod()?Nq(s):s)})),Bq(this,"handleChangeTime",(e=>{var{date:t,onChange:r}=this.props;r(Tq(kq(t),e))})),Bq(this,"toggleShowTime",(()=>{var{date:e,onChange:t,isEndOfPeriod:r}=this.props;this.setState((e=>({showTime:!e.showTime})),(()=>{var i;r?this.state.showTime?t((i=e,ns()(i,ft._E).local().add(-1,"day").format(ft._E))):t(Nq((0,ft.b7)(e))):this.state.showTime||t((0,ft.b7)(e))}))})),this.state={showTime:e.initialShowTime}}UNSAFE_componentWillReceiveProps(e){this.props.initialShowTime!==e.initialShowTime&&this.setState({showTime:e.initialShowTime})}render(){var{date:e,label:t,maxDate:r,minDate:i,disabled:s}=this.props,n=kq(e);return(0,u.jsxs)("div",{className:"date-time-picker",style:Gq,children:[t&&(0,u.jsx)("div",{className:"date-time-picker__label",children:t}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(mt.Z,{disabled:s,maxDate:r,minDate:i,onChange:this.handleChangeDate,date:n,dateFormat:ft.vc})}),(0,u.jsx)("div",{className:"flex-item_fixed mr",children:(0,u.jsx)(_q,{disabled:s,onChange:this.handleChangeTime,value:e,step:5,hidden:!this.state.showTime,onToggleHiddenResponse:this.toggleShowTime})})]})}}Wq.defaultProps={label:"",maxDate:"",minDate:"",isEndOfPeriod:!1,disabled:!1,initialShowTime:!1},Wq.propTypes={date:P.yb.isRequired,onChange:c().func.isRequired,label:c().oneOfType([c().string,c().node]),isEndOfPeriod:c().bool,initialShowTime:c().bool,disabled:c().bool,minDate:c().string,maxDate:c().string};const Uq=Wq;function Vq(e){var{input:{value:t,onChange:r},label:i,isEndOfPeriod:s,initialShowTime:n,minDate:a,maxDate:o,disabled:l}=e;return(0,j.xb)(t)?null:(0,u.jsx)(Uq,{disabled:l,date:t,minDate:a,maxDate:o,onChange:r,label:i,isEndOfPeriod:s,initialShowTime:n})}Vq.defaultProps={isEndOfPeriod:null,disabled:!1,minDate:"",maxDate:""},Vq.propTypes={input:c().object.isRequired,label:c().oneOfType([c().string,c().node]).isRequired,minDate:c().string,maxDate:c().string,isEndOfPeriod:c().bool,disabled:c().bool,initialShowTime:c().bool.isRequired};const zq=Vq;class Yq extends m.Component{render(){var{submitting:e,handleSubmit:t,style:r,deleteTask:i,id:s,onCancel:n,changeValue:a,taskTemplatesMap:o,refreshTasks:l,disableBtn:c,isDeletingTask:d,toggleTaskForm:p,formValues:h}=this.props,f="DISTRIBUTED"===(null==h?void 0:h.status);return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:r,onSubmit:t,children:[(0,u.jsxs)("div",{className:"flex-item flex-item_flexible scrollbar flex-container",children:[(0,u.jsxs)("div",{className:"flex-item_flexible mr",style:{width:"400px"},children:[(0,u.jsx)(hO,{removeBackground:!0,name:"name",type:"text",useMui:!0,inputProps:{label:KZ,fullWidth:!0},disabled:e,customError:GZ}),(0,u.jsx)(_e.Z,{name:"userTaskTemplateId",component:e=>{var{input:t,meta:r}=e;return(0,u.jsx)(wZ,{disabled:f,fullWidth:!0,groupId:null==h?void 0:h.groupId,floatingLabelText:XZ,className:"form-input",error:r.error,name:"userTaskTemplateId",value:t.value,onChange:e=>{t.onChange(e),o[e]&&a("userSubtasks",o[e].subtaskTemplates.map((e=>({count:1,norm:e.norm,queueId:"",subtaskTemplateId:e.id,subtaskTemplateName:e.name}))))}})}}),(0,u.jsx)("h2",{children:(0,u.jsx)(J.Z,{id:"Tasks.distributionPeriod",defaultMessabe:"Период распределения"})}),(0,u.jsx)(_e.Z,{name:"start",component:zq,disabled:f,label:aq,initialShowTime:"00:00:00"!==ns()(null==h?void 0:h.start).format(ft.pV)}),(0,u.jsx)(_e.Z,{name:"end",minDate:null==h?void 0:h.start,component:zq,disabled:f,label:oq,initialShowTime:"00:00:00"!==ns()(null==h?void 0:h.end).format(ft.pV)}),(0,u.jsx)(_e.Z,{name:"evenly",disabled:f,component:fP.Z,label:lq,className:"BQpYF4sC8R4wPZPPOiOlyA=="})]}),h&&(0,u.jsx)("div",{className:"flex-item_fixed",style:{width:"300px"},children:(0,u.jsx)("div",{className:"scrollbar overflow-scroll-y fit-parent",children:(0,u.jsx)(gq,{taskTemplatesMap:o,formValues:h,disabled:f,name:"userSubtasks",value:h.userSubtasks})})})]}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[!!i&&s&&(0,u.jsx)(dR.Z,{onClick:()=>{i(s,l),d(!0)},disabled:c,children:(0,u.jsx)(J.Z,{id:"Actions.delete",defaultMessage:[{type:0,value:"Удалить"}]})}),(0,u.jsx)(dR.Z,{style:{marginRight:"15px"},onClick:e=>{e.preventDefault(),n(),p(!1)},disabled:c,children:(0,u.jsx)(J.Z,{id:"Actions.cancel",defaultMessage:[{type:0,value:"Отмена"}]})}),(0,u.jsx)(dR.Z,{color:"primary",variant:"contained",disabled:e||c,onClick:e=>{e.preventDefault(),t(),p(!1)},children:(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})})]})]})}}Yq.defaultProps={onCancel:O.wA,id:null,disableBtn:!1},Yq.propTypes={submitting:c().bool.isRequired,handleSubmit:c().func.isRequired,style:c().object.isRequired,deleteTask:c().func.isRequired,refreshTasks:c().func.isRequired,id:c().string,onCancel:c().func,changeValue:c().func.isRequired,taskTemplatesMap:c().object.isRequired,formValues:c().object.isRequired,disableBtn:c().bool,isDeletingTask:c().func.isRequired,toggleTaskForm:c().func.isRequired};const Qq=Yq;var Kq=r(28487);function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Jq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xq(Object(r),!0).forEach((function(t){$q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eF="taskForm",tF={name:xO.z2.required,userTaskTemplateId:xO.z2.required,start:xO.z2.required,end:xO.z2.required};const rF=(0,o.compose)(y.EN,v.ZP,(0,s.$j)((e=>({id:e.form[eF]&&e.form[eF].values?e.form[eF].values.id:void 0,formValues:(0,qe.Z)(eF)(e),taskGroupsMap:e.settings.taskGroupsMap,tasksGroupsTree:e.settings.tasksGroupsTree,permissionGroupsMap:e.settings.permissionGroupsMap,user:(0,C.ts)(e),disableBtn:yZ(e)})),{createTask:Kq.createTask,updateTask:Kq.updateTask,deleteTask:Kq.deleteTask,change:Qr.m,isDeletingTask:Kq.isDeletingTask,toggleTaskForm:Kq.toggleTaskForm},((e,t,r)=>{var{from:i=(0,ft.zO)(),to:s=i}=r.match.params,{formValues:n}=e,a=(0,ft.b7)(i);return Jq(Jq(Jq(Jq({},e),t),r),{},{initialValues:Jq(Jq({},n),{},{start:a,end:s}),changeValue:(e,r)=>{t.change(eF,e,r)},onSubmit:e=>{e.strategy=e.evenly?"TASK_EVENLY":"TASK_GREEDY",delete e.evenly;var i=Jq(Jq({},e),{},{end:ns()(e.end,ft.vc).format(ft.vc)===e.end||"00:00:00"===ns()(e.end,ft._E).format(ft.pV)&&ns()(e.start,ft._E).format(ft._E)===ns()(e.end,ft._E).format(ft._E)?(0,ft.iX)(e.end):e.end,name:e.name.trim()});e.id?t.updateTask(i,(()=>{r.onSave&&r.onSave(i)})):t.createTask(i,(()=>{var{start:e}=i,{viewMode:t,history:s}=r;"day"===t&&s.push("/schedule/tasks/"+ns()(e,ft._E).format(ft.vc)),r.onSave&&r.onSave(i)}))}})})),kO(x.ZP.RIGHTS.TASK,x.ZP.CRUD),(0,Fe.Z)({form:eF,validate:(e,t)=>(0,xO.ZP)({data:e,fields:tF,formNameSpace:"Common",intl:t.intl}).errors}))(Qq);var iF=e=>{var{open:t,onClose:r,onSubmit:i,taskIds:s}=e,[n,a]=(0,m.useState)((0,ft.zO)()),[o,l]=(0,m.useState)((0,ft.zO)());return(0,u.jsx)(rn.Z,{open:t,onClose:r,children:(0,u.jsxs)("div",{className:"gFOJelxEAbXEp7OF322OrA==",children:[(0,u.jsx)(J.Z,{id:"ForecastComputing.from"}),(0,u.jsx)(mt.Z,{date:n,onChange:a}),(0,u.jsx)(J.Z,{id:"ForecastComputing.to"}),(0,u.jsx)(mt.Z,{minDate:n,date:o,onChange:l}),(0,u.jsx)(Ae.Z,{onClick:()=>{i({taskIds:s,from:n,to:o}),r()},children:(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]})})]})})};iF.propTypes={open:c().bool.isRequired,onClose:c().func.isRequired,onSubmit:c().func.isRequired,taskIds:c().arrayOf(P.K5).isRequired};const sF=iF;function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(r),!0).forEach((function(t){oF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lF=(0,o.compose)(y.EN,(0,s.$j)(null,(e=>({copyTasks:(t,r)=>e((0,Kq.copyTasks)(t,r))})),((e,t,r)=>aF(aF({},r),{},{onSubmit:e=>t.copyTasks(e,(()=>{var t="/schedule/tasks/"+ns()(e.to,ft._E).format(ft.vc);r.history.push(t),r.refreshTasks()}))}))))(sF);var cF=(0,k.vU)({hintDistributeTask:{id:"Tasks.hintDistributeTask",defaultMessage:[{type:0,value:"Распределить задачу"}]},hintRedistributeTask:{id:"Tasks.redistributeTasks",defaultMessage:[{type:0,value:"Перераспределить задачи"}]},hintRemove:{id:"Tasks.hintRemove",defaultMessage:[{type:0,value:"Удалить задачу"}]},hintSave:{id:"Tasks.hintSave",defaultMessage:[{type:0,value:"Сохранить изменения"}]},distributed:{id:"Tasks.status.assigned",defaultMessage:[{type:0,value:"Распределено"}]},notEnoughResources:{id:"Tasks.status.notEnoughResources",defaultMessage:[{type:0,value:"Не хватает ресурсов"}]},notDistributed:{id:"Tasks.status.notAssigned",defaultMessage:[{type:0,value:"Не распределено"}]}});var dF={DISTRIBUTED:{description:cF.distributed,color:"context-color_success"},NOT_ENOUGH_RESOURCES:{description:cF.notEnoughResources,color:"context-color_alert"},NOT_DISTRIBUTED:{description:cF.notDistributed,color:"context-color_warning"}},uF=r(46869),pF=r(50255),hF=r(37253),fF=r(49396),mF=e=>{var{disabled:t,onDistribute:r,onForceDistribute:i,onCopy:s,onRedistribute:n,onWithdraw:a,onDelete:o}=e,[l,c]=(0,m.useState)(null),d=()=>{c(null)},p=e=>()=>{e(),d()};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(dR.Z,{disabled:t,onClick:e=>{c(e.currentTarget)},children:(0,u.jsx)(J.Z,{id:"Actions.actions",defaultMessage:[{type:0,value:"Действия"}]})}),(0,u.jsxs)(rZ.Z,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:d,children:[(0,u.jsxs)(cZ.Z,{onClick:p(r),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(pF.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"Tasks.batchDistribute",defaultMessage:[{type:0,value:"Распределить выделенные"}]})]}),(0,u.jsxs)(cZ.Z,{onClick:p(i),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(pF.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"Tasks.batchDistributeForce",defaultMessage:[{type:0,value:"Принудительно распределить выделенные"}]})]}),(0,u.jsxs)(cZ.Z,{onClick:p(s),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(cR.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"Tasks.copyTasksToDate",defaultMessage:[{type:0,value:"Копировать выделенные задачи"}]})]}),(0,u.jsxs)(cZ.Z,{onClick:p(n),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(hF.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"redistributeSelectedTasks",defaultMessage:[{type:0,value:"Перераспределить выделенные задачи"}]})]}),(0,u.jsxs)(cZ.Z,{onClick:p(a),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(fF.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"Tasks.freeTasks",defaultMessage:[{type:0,value:"Снять выделенные задачи"}]})]}),(0,u.jsxs)(cZ.Z,{onClick:p(o),children:[(0,u.jsx)(uF.Z,{children:(0,u.jsx)(oR.Z,{fontSize:"small"})}),(0,u.jsx)(J.Z,{id:"Tasks.batchDelete",defaultMessage:[{type:0,value:"Удалить выделенные"}]})]})]})]})};mF.defaultProps={disabled:!1},mF.propTypes={disabled:c().bool,onDistribute:c().func.isRequired,onForceDistribute:c().func.isRequired,onCopy:c().func.isRequired,onRedistribute:c().func.isRequired,onWithdraw:c().func.isRequired,onDelete:c().func.isRequired};const vF=mF;function yF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bF=["day","month","period"];class jF extends m.Component{constructor(e){super(e),gF(this,"taskColor",dZ.Z[100]),gF(this,"refreshTasks",(()=>{var{from:e,to:t,groupId:r}=this.props;this.props.fetchByTaskGroup({from:e,to:(0,ft.iX)(t),groupId:r,taskGroupId:null},void 0,!1)})),gF(this,"createTask",(()=>{if(X.BC(this.props.user,x.ZP.RIGHTS.TASK,x.ZP.CRUD)){var{initializeTaskForm:e,groupId:t,toggleTaskForm:r,from:i,to:s}=this.props;e({groupId:t,start:(0,ft.b7)(i),end:s,userSubtasks:[]}),this.setState({selectedTaskId:"new-task-id"}),r(!0)}})),gF(this,"sortTasks",((e,t)=>e.status===t.status?e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0:e.status<t.status?1:-1)),gF(this,"handleCloseCopyTasksDialog",(()=>{this.setState({copyTasksDialogOpen:!1})}));var{intl:{formatMessage:t}}=e;this.formatMessage=t,this.state={copyTasksDialogOpen:!1,calendarView:bF[0],selectedTaskId:null,selectedTasks:{}}}UNSAFE_componentWillReceiveProps(e){var{groupId:t,from:r,to:i}=this.props;e.from===r&&e.to===i&&e.groupId===t||this.setState({selectedTaskId:null,selectedTasks:{}})}render(){var{tasks:e=[],batchDistribute:t,redistributeTasks:r,taskTemplatesMap:i,tasksWithSubtaskTemplates:s,freeTasks:n,push:a,deleteTasks:o,from:l,to:c,initializeTaskForm:d,user:p,intl:h,toggleTaskForm:f,openTaskForm:m,isDeletingTask:v}=this.props,{selectedTasks:y,copyTasksDialogOpen:g}=this.state,b="/schedule/tasks",S=b+(b.endsWith("/")?"":"/"),O=Object.keys(y),P=!X.BC(p,x.ZP.RIGHTS.TASK,x.ZP.CRUD)||(0,j.xb)(y),w=e.reduce(((e,t)=>(e[0]+=t.assignedSeconds,e[1]+=t.totalSeconds,e)),[0,0]),C=(X.uu(Math.floor(w[0]),!0,!1,h)||"0")+" / "+(X.uu(Math.floor(w[1]),!0,!1,h)||"0");return(0,u.jsxs)("div",{className:"flex-container",style:{flexDirection:"column"},children:[(0,u.jsxs)("div",{className:"U-pHa4ZE4h8BpA4MSJx8cQ==",children:[(0,u.jsx)(pd.Z,{className:"flex-item_flexible",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",style:{height:"100%"},children:[(0,u.jsxs)("div",{className:"flex-item_fixed text-style_subheading p+",style:{position:"relative"},children:[(0,u.jsxs)("div",{className:"flex-container flex-container_align-items-center",children:[(0,u.jsxs)("div",{className:"flex-item_flexible",children:[(0,u.jsx)(dR.Z,{style:{marginRight:"15px",boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 6px"},onClick:()=>{Object.keys(this.state.selectedTasks).length===e.length?this.setState({selectedTasks:{}}):this.setState({selectedTasks:e.reduce(((e,t)=>(e[t.id]=t,e)),{})})},children:(0,u.jsx)(J.Z,{id:"FBTable.selectAll",defaultMessage:[{type:0,value:"Выделить все"}]})}),(0,u.jsx)(J.Z,{id:"Menu.tasks"})]}),(0,u.jsx)("div",{className:"flex-item_fixed",children:" ".concat(C)})]}),(0,u.jsx)(sR.Z,{color:"primary",size:"small",style:{position:"absolute",right:"16px",top:"48px",zIndex:100},disabled:!X.BC(p,x.ZP.RIGHTS.TASK,x.ZP.CRUD),onClick:this.createTask,children:(0,u.jsx)(nR.Z,{color:Qi.Gj,className:"material-icons",children:"add"})})]}),(0,u.jsx)(iZ.Z,{}),(0,u.jsx)("div",{className:"flex-item_flexible scrollbar pl+",style:{height:"100%",overflowY:"auto"},children:(0,u.jsx)(sZ.Z,{children:e.sort(this.sortTasks).map((e=>{var t=ns()(e.start,ft._E).local().format(ft.Rs),r=ns()(e.end,ft._E).local().format(ft.Rs),s="".concat(t," ... ").concat(r),n=dF[e.status]||{id:""},a=(0,u.jsx)(AS.Z,{children:(0,u.jsx)(oZ.Z,{className:"material-icons",children:"more_vert"})});return(0,u.jsx)(nZ.Z,{style:{backgroundColor:e.id===this.state.selectedTaskId?this.taskColor:void 0},children:(0,u.jsxs)("div",{className:"flex-container",style:{width:"100%",cursor:"pointer"},children:[(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)("label",{children:(0,u.jsx)(aZ.Z,{style:{marginRight:"10px"},color:"primary",checked:!!this.state.selectedTasks[e.id],onChange:(t,r)=>{this.setState((t=>{var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yF(Object(r),!0).forEach((function(t){gF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.selectedTasks);return r?i[e.id]=e:delete i[e.id],{selectedTasks:i}}))}})})}),(0,u.jsxs)("div",{className:"flex-item_flexible overflow-hidden",style:{lineHeight:"24px"},onClick:()=>{X.BC(p,x.ZP.RIGHTS.TASK,x.ZP.CRUD)&&this.setState({selectedTaskId:e.id},(()=>{d(e),f(!0)}))},children:[(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)("div",{className:"flex-item_flexible overflow-hidden",children:e.name}),(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)("span",{className:"ph "+n.color,children:this.formatMessage(n.description)})})]}),(0,u.jsxs)("div",{className:"text-style_caption mt flex-container",children:[(0,u.jsxs)("div",{className:"flex-item_flexible overflow-hidden",children:[i[e.userTaskTemplateId]&&i[e.userTaskTemplateId].name," ",(0,u.jsx)("span",{children:"("}),s,(0,u.jsx)("span",{children:")"})]}),(0,u.jsxs)("div",{className:"flex-item_fixed",children:[X.uu(Math.floor(e.assignedSeconds),!0,!1,h)||"0"," ",(0,u.jsx)("span",{children:"/"}),X.uu(Math.floor(e.totalSeconds),!0,!1,h)]})]})]}),(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)(rZ.Z,{iconButtonElement:a,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"bottom"},children:(0,u.jsx)(cZ.Z,{onClick:()=>{this.props.redistributeTasks([e.id],this.refreshTasks)},children:this.formatMessage(cF.hintRedistributeTask)})})})]})},e.id)}))})})]})}),m&&(0,u.jsx)(pd.Z,{className:"flex-item_flexible p+",style:{backgroundColor:this.taskColor},children:(0,u.jsx)(rF,{style:{height:"100%"},viewMode:this.state.calendarView,taskTemplatesMap:s,onSave:()=>this.setState({selectedTaskId:null}),onCancel:()=>this.setState({selectedTaskId:null}),refreshTasks:this.refreshTasks})})]}),(0,u.jsx)("div",{className:"section__footer",children:(0,u.jsxs)("div",{className:"ph+ pv++ shadow-box",children:[(0,u.jsx)("div",{className:"inline-block inline-block_middle",children:(0,u.jsx)("button",{className:"button-icon",type:"button",onClick:()=>{var e=bF.indexOf(this.state.calendarView),t=e===bF.length-1?bF[0]:bF[e+1];this.setState({calendarView:t});var r=l,i=c;"month"===t&&(r=ns()().startOf("month").format(ft._E),i=ns()().endOf("month").format(ft.vc)),"day"===t&&(r=l,i=l),a(S+r+"/"+i)},children:(0,u.jsx)(lZ.Z,{className:"material-icons",children:"date_range"})})}),(0,u.jsxs)("div",{className:"inline-block inline-block_middle mr+",children:["day"===this.state.calendarView&&(0,u.jsx)(hZ,{currentDate:l,linkPrefix:b,push:a}),"month"===this.state.calendarView&&(0,u.jsx)(uZ.A,{onChange:e=>{var t="MM.YYYY",r=ns()(e,t).startOf("month").format(ft._E),i=ns()(e,t).endOf("month").format(ft.vc);a(S+r+"/"+i)}}),"period"===this.state.calendarView&&(0,u.jsxs)("div",{children:[(0,u.jsx)(J.Z,{id:"Calendar.period",defaultMessage:[{type:0,value:"Период"}]})," ",(0,u.jsx)(mt.Z,{autoFocus:!0,onChange:e=>{a(S+e+"/"+c)},date:l}),(0,u.jsx)("span",{className:"date-range__dash",children:"—"}),(0,u.jsx)(mt.Z,{onChange:e=>{a(S+l+"/"+ns()(e,ft.vc).format(ft.vc))},minDate:l,date:c})]})]}),X.BC(p,x.ZP.RIGHTS.TASK,x.ZP.CRUD)&&(0,u.jsx)(dR.Z,{style:{marginRight:"15px"},variant:"contained",color:"primary",onClick:this.createTask,children:(0,u.jsx)(J.Z,{id:"Actions.create",defaultMessage:[{type:0,value:"Создать"}]})}),(0,u.jsx)(vF,{disabled:P,onDistribute:()=>{var r=e.sort(((e,t)=>e.number<t.number?1:-1)).filter((e=>!!this.state.selectedTasks[e.id]));t(r,!1,(()=>{this.refreshTasks()}))},onDelete:()=>{v(!0),o(e.filter((e=>!!this.state.selectedTasks[e.id])).map((e=>e.id)),(()=>{this.refreshTasks(),this.setState({selectedTaskId:null,selectedTasks:{}})}))},onCopy:()=>{this.setState({copyTasksDialogOpen:!0})},onWithdraw:()=>{n(e.filter((e=>!!this.state.selectedTasks[e.id])).map((e=>e.id)),(()=>{this.refreshTasks()}))},onRedistribute:()=>{r(e.sort(((e,t)=>e.number<t.number?1:-1)).filter((e=>!!this.state.selectedTasks[e.id])).map((e=>e.id)),(()=>{this.refreshTasks()}))},onForceDistribute:()=>{t(e.sort(((e,t)=>e.number<t.number?1:-1)).filter((e=>!!this.state.selectedTasks[e.id])),!0,(()=>{this.refreshTasks()}))}}),(0,u.jsx)(lF,{open:g,onClose:this.handleCloseCopyTasksDialog,taskIds:O,refreshTasks:this.refreshTasks})]})})]})}}jF.defaultProps={tasks:[],intl:null,openTaskForm:!1},jF.propTypes=_()({user:ge.Z.isRequired,fetchByTaskGroup:c().func.isRequired,tasks:c().array,batchDistribute:c().func.isRequired,redistributeTasks:c().func.isRequired,taskTemplatesMap:c().object.isRequired,tasksWithSubtaskTemplates:c().object.isRequired,intl:P.gm,freeTasks:c().func.isRequired,push:c().func.isRequired,deleteTasks:c().func.isRequired,from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft.vc).isRequired,initializeTaskForm:c().func.isRequired,groupId:P.K5.isRequired,toggleTaskForm:c().func.isRequired,openTaskForm:c().bool,isDeletingTask:c().func.isRequired});const xF=jF;var SF=r(65062);function OF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function PF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OF(Object(r),!0).forEach((function(t){wF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const CF=(0,o.compose)(y.EN,v.ZP,(0,s.$j)((e=>({taskTemplatesMap:(0,B.wR)(e),tasksWithSubtaskTemplates:bZ(e),tasks:mZ(e),user:(0,C.ts)(e),groupId:(0,Y.Wx)(e),openTaskForm:vZ(e),formValues:(0,qe.Z)(eF)(e)})),{deleteTasks:Kq.deleteTasks,distributeTasks:Kq.distributeTasks,fetchTasksGroupsHierarchy:SF.fetchTasksGroupsHierarchy,fetchWorkActivities:Sa.fetchWorkActivities,fetchTaskTemplates:jZ.fetchTaskTemplates,fetchTasksWithSubtaskTemplates:jZ.fetchTasksWithSubtaskTemplates,freeTasks:Kq.freeTasks,redistributeTasks:Kq.redistributeTasks,fetchByTaskGroup:Kq.fetchByTaskGroup,initialize:Qr.j2,toggleTaskForm:Kq.toggleTaskForm,isDeletingTask:Kq.isDeletingTask},((e,t,r)=>{var{from:i=(0,ft.zO)(),to:s=i}=r.match.params;return PF(PF(PF(PF({},e),r),t),{},{push:r.history.push,from:(0,ft.b7)(i),to:s,batchDistribute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;t.distributeTasks(e.map((e=>e.id)),r,i)},copyTasksToDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;t.copyTasks(e.sort(((e,t)=>e.number>t.number?1:-1)).map((e=>e.id)),r,i,s)},initializeTaskForm:r=>{r.evenly="TASK_EVENLY"===r.strategy,r.userSubtasks.forEach((t=>{try{t.subtaskTemplateName=e.taskTemplatesMap[r.userTaskTemplateId].subtaskTemplates.find((e=>t.subtaskTemplateId===e.id)).name}catch(e){console.warn("can`t find subtask template")}})),t.initialize(eF,r)}})})),kO(x.ZP.RIGHTS.TASK),(0,U.Z)((e=>{var{props:t}=e;t.fetchTaskTemplates({id:t.groupId}),t.fetchTasksWithSubtaskTemplates({id:t.groupId}),t.fetchTasksGroupsHierarchy(),t.fetchWorkActivities(),t.groupId&&t.fetchByTaskGroup({from:t.from,to:(0,ft.iX)(t.to),groupId:t.groupId,taskGroupId:null},void 0,!1),t.formValues||t.toggleTaskForm(!1)})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;t.match.params.from||r.push("/schedule/tasks/"+ns()().format(ft.vc)),t.groupId!==r.groupId&&(t.fetchTaskTemplates({id:t.groupId}),t.fetchTasksWithSubtaskTemplates({id:t.groupId})),!t.groupId||t.from===r.from&&t.to===r.to&&t.groupId===r.groupId||(t.initialize(eF,PF(PF({},t.formValues),{},{start:t.from,end:t.to})),r.fetchByTaskGroup({from:t.from,to:(0,ft.iX)(t.to),groupId:t.groupId,taskGroupId:null},void 0,!1))})),(0,Ci.c)(["params","history","location","route","fetchWorkActivities","routeParams","routes","children","distributeTasks","fetchTasksGroupsHierarchy","fetchTaskTemplates","fetchTasksWithSubtaskTemplates","initialize"]))(xF);var kF=r(30086),TF=r(57581),NF=r(12687),RF=r(3227),EF=e=>{var{input:{onChange:t,value:r},date:i,minDate:s,maxDate:n}=e;return(0,u.jsx)(RF.Z,{date:r||i,onChange:t,showTime:!0,minDate:s,maxDate:n})};EF.defaultProps={date:"",minDate:"",maxDate:""},EF.propTypes={date:c().string,input:c().object.isRequired,maxDate:c().string,minDate:c().string};const DF=EF;var AF=r(32138),MF=r(41818);function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ZF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IF(Object(r),!0).forEach((function(t){qF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FF=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{valueKey:i="value",labelKey:s="label",childrenKey:n="children",data:a=[]}=t;return(0,j.xb)(a)||a.forEach((a=>{var o,l=a[n];if(!(0,j.xb)(l)){var c=ZF(ZF({},t),{},{data:l});o=e(c)}var d={value:a[i],label:a[s],children:o};r.push(d)})),r};function LF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.forEach((e=>{if(t[e.value]=ZF({},e),e.children){var i=LF(e.children);r=ZF(ZF({},r),i)}})),ZF(ZF({},t),r)}var HF=r(38646),_F=r(75249);function BF(e,t){return!!e.label.toUpperCase().includes(t.toUpperCase())||!(0,j.xb)(e.children)&&e.children.some((e=>BF(e,t)))}function GF(e,t){e.children&&(e.children=e.children.filter((e=>BF(e,t))),e.children.forEach((e=>GF(e,t))))}function WF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=gi()(e[0]);return(0,j.xb)(r)?[]:((0,j.xb)(t)||GF(r,t),[r])}var UF=r(10251),VF=r.n(UF);const zF={container:"sSuVXuq3w+W9HjNarRj0pA==",main:"VmmeMEZKKfZvTW7lx4esjg==",parent:"_6DSgWEvKMwlTM4Y8O2mYMw==",item:"Q4ijGZL6s-rXSMLclSjolg==",checkboxes:"C9BE24ifhBYGbXvJBAai0w==",activeLabel:"iN1vlR37r0w9PFsRHZLsmw==",someChecked:"_8g9WsP5FEhGfX2VFsRkKNw==",arrow:"_6xpxnAEg539apio0LtEaeQ==",treeNodes:"TjsoaT2uU+c0B43CR7v0bw==",button:"_0Igz3iNz3uCcnv1m0h2RWg=="};function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class KF{constructor(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};QF(this,"setProps",(e=>{this.props=e})),QF(this,"clone",(()=>{var e={};return Object.keys(this.flatNodes).forEach((t=>{var r=this.flatNodes[t];e[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YF(Object(r),!0).forEach((function(t){QF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)})),new KF(this.props,e)})),QF(this,"getNode",(e=>this.flatNodes[e])),QF(this,"flattenNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Array.isArray(e)&&0!==e.length&&e.forEach(((e,s)=>{var n=t.nodeHasChildren(e);t.flatNodes[e.value]={children:e.children,parent:r,isParent:n,isLeaf:!n,treeDepth:i,value:e.value,label:e.label,index:s},t.flattenNodes(e.children,e,i+1)}))})),QF(this,"nodeHasChildren",(e=>Array.isArray(e.children)&&e.children.length>0)),QF(this,"serializeList",(e=>{var t=[];return Object.keys(this.flatNodes).forEach((r=>{this.flatNodes[r][e]&&t.push(r)})),t})),QF(this,"deserializeLists",(e=>{var t=["checked","expanded"];Object.keys(this.flatNodes).forEach((e=>{t.forEach((t=>{this.flatNodes[e][t]=!1}))})),t.forEach((t=>{e[t].forEach((e=>{void 0!==this.flatNodes[e]&&(this.flatNodes[e][t]=!0)}))}))})),QF(this,"toggleChecked",((e,t)=>{var r=this.flatNodes[e.value];null!=r&&r.isLeaf?this.toggleNode(e.value,"checked",t):(this.toggleNode(e.value,"checked",t),r.children.forEach((e=>{this.toggleChecked(e,t)})))})),QF(this,"toggleNode",((e,t,r)=>(this.flatNodes[e][t]=r,this))),this.props=e,this.flatNodes=r}}const XF=KF;function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class eL extends m.PureComponent{render(){var{toggleOpen:e,isOpen:t,hidden:r}=this.props,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JF(Object(r),!0).forEach((function(t){$F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t?{}:{transform:"rotate(-90deg)"});return r?null:(0,u.jsx)("span",{className:"flex-item_flexible",style:{position:"relative"},children:(0,u.jsx)(oi.Z,{onClick:e,children:(0,u.jsx)(et.ZP,{classCustom:zF.arrow,glyph:et.Zx,style:i})})})}}eL.defaultProps={toggleOpen:O.wA,isOpen:!1,hidden:!1},eL.propTypes={toggleOpen:c().func,isOpen:c().bool,hidden:c().bool};const tL=eL;var rL=e=>{var t,r,i,s,n,{expanded:a,children:o,checked:l,onCheck:c,value:d,label:p,onExpand:h,isParent:f,treeDepth:m}=e,v=e=>{var{toggle:t}=e;return!(0!==l||!t)||!(1===l&&!t)&&2===l},y=0===m?zF.main:f?zF.parent:zF.li;return(0,u.jsxs)("li",{className:y,children:[(0,u.jsx)("span",{className:zF.item,children:(n=me()({[zF.activeLabel]:1===l}),t=(0,u.jsx)("span",{className:n,children:p}),r=(0,j.xb)(o),i=1===l,s=2===l,(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:(0,u.jsx)(tL,{isOpen:a,toggleOpen:()=>{f&&h({value:d,expanded:!a})},hidden:r})}),(0,u.jsx)(Rs.ZP,{onChange:()=>c({value:d,checked:v({toggle:!0})}),className:zF.checkboxes,checked:i,indeterminate:s}),(0,u.jsx)("span",{onClick:c,style:{cursor:"pointer"},children:t})]}))}),a?o:null]})};rL.defaultProps={onCheck:!1,treeDepth:null,isParent:!1,expanded:!1,label:"",checked:!1},rL.propTypes={treeDepth:c().number,value:c().object.isRequired,onCheck:c().bool,isParent:c().bool,children:c().node.isRequired,expanded:c().bool,label:c().string,checked:c().bool,onExpand:c().func.isRequired};const iL=rL;function sL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nL extends m.PureComponent{constructor(e){var t;super(e),t=this,sL(this,"getAllChecked",(function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((e=>{if(r.getNode(e.value).isParent){t.isEveryChildCheckedParent(e,r)&&i.push(e.value);var s=t.getAllChecked(e.children,r);(0,j.xb)(s)||(i=[...i,...s])}})),i})),sL(this,"isEveryChildCheckedParent",((e,t)=>e.children.every((e=>t.getNode(e.value).checked)))),sL(this,"handleClick",(()=>{var{onClear:e,onClearChecked:t}=this.props;e(),t()})),sL(this,"onCheck",(e=>{var{onCheck:t}=this.props,r=this.state.model.clone();r.toggleChecked(e,e.checked),t(r.serializeList("checked"))})),sL(this,"onExpand",(e=>{var{onExpand:t}=this.props,r=this.state.model.clone();r.toggleNode(e.value,"expanded",e.expanded),t(r.serializeList("expanded"))})),sL(this,"determineShallowCheckState",(e=>{var t=this.state.model.getNode(e.value);return t.isLeaf?t.checked?1:0:this.isEveryChildChecked(e)||t.checked?1:this.isSomeChildChecked(e)?2:0})),sL(this,"isEveryChildChecked",(e=>e.children.every((e=>1===this.state.model.getNode(e.value).checkState)))),sL(this,"isSomeChildChecked",(e=>e.children.some((e=>this.state.model.getNode(e.value).checkState>0)))),sL(this,"renderTreeNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{model:i}=t.state,s=e.map((e=>{var s=e.value,n=i.getNode(e.value),a=n.isParent?t.renderTreeNodes(e.children,e):null;return n.checkState=t.determineShallowCheckState(e),!r.value||i.getNode(r.value).expanded?(0,u.jsx)(iL,{checked:n.checkState,value:e.value,isParent:n.isParent,isLeaf:n.isLeaf,onCheck:t.onCheck,onExpand:t.onExpand,label:e.label,expanded:n.expanded,treeDepth:n.treeDepth,children:a},s):null}));return(0,u.jsx)("ul",{children:s})}));var r=new XF(e);r.flattenNodes(e.nodes),r.deserializeLists({checked:e.checked,expanded:e.expanded}),this.state={model:r,prevProps:e}}UNSAFE_componentWillReceiveProps(e){var{model:t,prevProps:r}=this.state,{nodes:i}=e;this.setState({prevProps:e}),t.setProps(e),VF()(r.nodes,i)||t.flattenNodes(i),t.deserializeLists({checked:e.checked,expanded:e.expanded})}render(){var{nodes:e,isHiddenIconDellFilter:t}=this.props,r=this.renderTreeNodes(e);return(0,u.jsxs)("div",{className:zF.treeNodes,children:[(0,u.jsx)("div",{className:zF.container,children:r}),(0,u.jsx)("div",{className:zF.button,hidden:t,children:(0,u.jsx)(Ae.Z,{onClick:this.handleClick,children:(0,u.jsx)(et.ZP,{glyph:et.KW})})})]})}}nL.defaultProps={nodes:[],checked:[],expanded:[],isHiddenIconDellFilter:!1,onCheck:O.wA,onExpand:O.wA,onClear:O.wA,onClearChecked:O.wA},nL.propTypes={checked:c().array,expanded:c().array,onCheck:c().func,onClear:c().func,onClearChecked:c().func,onExpand:c().func,nodes:c().array,isHiddenIconDellFilter:c().bool};const aL=nL;function oL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lL extends m.PureComponent{constructor(){super(),oL(this,"toggleOpen",(()=>this.setState((e=>({open:!e.open}))))),oL(this,"handleClick",(()=>{this.toggleOpen()})),oL(this,"getValueInput",(()=>{var e,{nodes:t,checked:r}=this.props,i=function(e,t){var r=[];return(0,j.xb)(t)||(0,j.xb)(e)||e.forEach((e=>{var i=t[e];r.push(i)})),r}(r,LF(t)),s=(e=i,(0,j.xb)(e)?{}:{label:e[0]?e[0].label:"",count:e.length-1}),{count:n=0,label:a=""}=s;return{count:n,label:a,isShowCount:n>0}})),oL(this,"handleCheck",((e,t)=>{var{onCheck:r}=this.props;r(e,t)})),oL(this,"handleTextChange",(e=>{var{target:t}=e;this.setState({searchTerm:t.value,open:!!t.value});var r=WF(this.props.nodes,t.value),i=!(0,j.xb)(r)&&(0,HF.Z5)(r[0]);this.props.onExpand(i)})),this.state={open:!1,searchTerm:""},this.rootRef=(0,m.createRef)(),this.inputRef=(0,m.createRef)()}render(){var{listHeight:e,disabled:t,classContainer:r,checked:i,expanded:s,nodes:n,onExpand:a,isFormDevise:o,placeholder:l,intl:c,onClear:d,onClearChecked:p}=this.props,{open:h,searchTerm:f}=this.state,m=me()("auto-complete-multi-select","flex-container",{[r]:!!r}),v=me()("flex-item_flexible","icon"),y=this.getValueInput(),g=WF(n,f),b=h?f:y.label||f,j=o?"pUPmke7xbxoBX4H02JqmuQ==":"q2ZPDHo8NGmz8Q49TBOWyg==",x=l||c.formatMessage(_F.UC);return(0,u.jsxs)("div",{className:m,ref:this.rootRef,children:[(0,u.jsxs)("div",{className:v,style:{position:"relative"},children:[(0,u.jsx)("input",{ref:this.inputRef,type:"text",placeholder:x,name:"auto-complete-search",value:b,onChange:this.handleTextChange,onClick:this.handleClick,style:{width:"100%"},disabled:t,autoComplete:"off"}),y.isShowCount&&(0,u.jsx)("span",{className:"o+dfy9uOhLsCox-Fcn1NLw==",children:"+ ".concat(y.count)}),(0,u.jsx)(nh.Z,{open:h,disabled:t,className:j,onClick:this.handleClick})]}),(0,u.jsx)(Ns.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:h,anchorEl:this.rootRef.current,onClose:this.toggleOpen,disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsx)("div",{style:{width:this.rootRef.current?this.rootRef.current.offsetWidth:100,maxHeight:e,height:e,padding:"10px 10px 10px 15px"},className:"scroll",children:(0,u.jsx)(aL,{onClearChecked:p,onClear:d,checked:i,expanded:s,nodes:g,onCheck:this.handleCheck,onExpand:a})})})]})}}lL.defaultProps={isFormDevise:!1,listHeight:300,classContainer:"",disabled:!1,checked:[],expanded:[],nodes:[],onClear:O.wA,onClearChecked:O.wA,placeholder:""},lL.propTypes={isFormDevise:c().bool,intl:P.gm.isRequired,listHeight:c().number,classContainer:c().string,disabled:c().bool,checked:c().array,expanded:c().array,nodes:c().array,onCheck:c().func.isRequired,onClear:c().func,onClearChecked:c().func,onExpand:c().func.isRequired,placeholder:c().string};const cL=(0,v.ZP)(lL);function dL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uL extends m.PureComponent{constructor(e){super(e),dL(this,"onCheck",(e=>{var{onChange:t}=this.props;t(e),this.setState({checked:e})})),dL(this,"onExpand",(e=>{this.setState({expanded:e})})),dL(this,"handleClear",(()=>{this.setState({expanded:[]})})),dL(this,"handleClearChecked",(()=>{this.setState({checked:[]})}));var{initValue:t}=this.props;this.state={checked:t||[],expanded:[]}}UNSAFE_componentWillReceiveProps(e){e.initValue!==this.props.initValue&&this.setState({checked:e.initValue})}render(){var{checked:e,expanded:t}=this.state,{data:r,isFormDevise:i,placeholder:s}=this.props,n=FF({valueKey:"id",labelKey:"groupName",childrenKey:"children",data:r});return(0,u.jsx)(cL,{onClearChecked:this.handleClearChecked,onClear:this.handleClear,isFormDevise:i,checked:e,expanded:t,nodes:n,onCheck:this.onCheck,onExpand:this.onExpand,placeholder:s})}}uL.defaultProps={isFormDevise:!1,initValue:[],placeholder:""},uL.propTypes={isFormDevise:c().bool,initValue:c().array,data:c().array.isRequired,onChange:c().func.isRequired,placeholder:c().string};const pL=uL,hL="AnGuZtkxGcoHoZf7pargpw==",fL="bBqHKlePOo9pu2bfRzDVlg==";var mL=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]}),vL=(0,u.jsx)(J.Z,{id:"Events.period",defaultMessage:[{type:0,value:"Время проведения"}]}),yL=(0,u.jsx)(J.Z,{id:"Events.duration",defaultMessage:[{type:0,value:"Длительность (мин.)"}]}),gL=(0,u.jsx)(J.Z,{id:"WorkActivity.choiceActivity",defaultMessage:[{type:0,value:"Выбор активности"}]}),bL=(0,u.jsx)(J.Z,{id:"Events.replaceableActivity",defaultMessage:[{type:0,value:"Заменяемая активность"}]}),jL=(0,u.jsx)(J.Z,{id:"Events.users",defaultMessage:[{type:0,value:"Участники"}]}),xL=(0,u.jsx)(J.Z,{id:"Events.groupingCount",defaultMessage:[{type:0,value:"Объединить по"}]}),SL=(0,u.jsx)(J.Z,{id:"Events.strategy",defaultMessage:[{type:0,value:"Тип распределения"}]}),OL=(0,u.jsx)(J.Z,{id:"Events.description",defaultMessage:[{type:0,value:"Комментарий"}]}),PL=(0,u.jsx)(J.Z,{id:"Events.sameTime",defaultMessage:[{type:0,value:"Одновременно"}]}),wL=(0,u.jsx)(J.Z,{id:"Events.sequentially",defaultMessage:[{type:0,value:"Последовательно"}]}),CL=(0,u.jsx)(J.Z,{id:"Events.eventLoad",defaultMessage:[{type:0,value:"По нагрузке"}]}),kL=[{value:"EVENT_SAME_TIME",label:PL,hint:(0,u.jsx)(J.Z,{id:"Events.sameTimeHint",defaultMessage:[{type:0,value:"— ставим наиболее оптимальный по FTE интервал всем в одно время"}]})},{value:"EVENT_SEQUENTIALLY",label:wL,hint:(0,u.jsx)(J.Z,{id:"Events.sequentiallyHint",defaultMessage:[{type:0,value:"— ставим с наименьшим возможным перерывом, но без пересечения, учитываем FTE"}]})},{value:"EVENT_LOAD",label:CL,hint:(0,u.jsx)(J.Z,{id:"Events.eventLoadHint",defaultMessage:[{type:0,value:"— возможно одновременно или с пересечением, но оптимально по FTE"}]})}],TL=[{value:"group",label:(0,u.jsx)(J.Z,{id:"Events.structure",defaultMessage:[{type:0,value:"Структура организации"}]})},{value:"office",label:(0,u.jsx)(J.Z,{id:"Events.office",defaultMessage:[{type:0,value:"Офис"}]})},{value:"skills",label:(0,u.jsx)(J.Z,{id:"Events.skill",defaultMessage:[{type:0,value:"Навык"}]})},{value:"position",label:(0,u.jsx)(J.Z,{id:"Events.position",defaultMessage:[{type:0,value:"Должность"}]})}],NL=(0,u.jsx)(J.Z,{id:"Events.usersByStructure",defaultMessage:[{type:0,value:"Сотрудники в выбранном разделе"}]}),RL=(0,u.jsx)(J.Z,{id:"Events.excludeUsers",defaultMessage:[{type:0,value:"Исключить участников, если их активности нельзя заменить"}]}),EL=(0,u.jsx)(J.Z,{id:"Events.groupingCountHint",defaultMessage:[{type:0,value:"человек"}]}),DL=(0,u.jsx)(J.Z,{id:"Events.addForm",defaultMessage:[{type:0,value:"Добавить событие"}]}),AL=function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.filter((e=>e.group===(null==r?void 0:r.id))).forEach((e=>i.push(e))),(0,j.xb)(null==r?void 0:r.children)||r.children.forEach((r=>{e(t,r,i)})),i},ML=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if((0,j.xb)(e))return r;if("skills"===t)return r.filter((t=>!(0,j.xb)(t.skills)&&t.skills.some((t=>e.includes(t.skillId)))));if("schemes"===t)return r.filter((t=>!(0,j.xb)(t.schemes)&&t.schemes.some((t=>e.includes(t.scheduleSchemeId)))));if("group"===t){var s=new Set;return null==e||e.forEach((e=>{var[t]=i.group.filter((t=>t.id===e));AL(r,t).forEach((e=>s.add(e)))})),[...s.values()]}return r.filter((r=>e.includes(r[t])))},IL={value:"id",text:"name"},ZL=e=>{var{input:t,dataSet:r,employeeList:i,getSelectedUsersAndStructures:n}=e,{onChange:a}=t,[o,l]=(0,m.useState)(""),[c,d]=(0,m.useState)([]),[p,h]=(0,m.useState)(i),[f,v]=(0,m.useState)([]);(0,m.useEffect)((()=>{d([]),v([]),n([],[])}),[o]),(0,m.useEffect)((()=>{a(f)}),[f]),(0,m.useEffect)((()=>{var e=ML(c,o,i,r);h(e)}),[c,i]);var y=(0,s.v9)(B.K2),g=(0,j.xb)(y)?[]:[y];return(0,u.jsxs)("div",{className:"TcGV5egKwQGBbeC4PiGA5g==",children:[(0,u.jsxs)("div",{className:hL,children:[(0,u.jsx)(Zb.E,{options:TL,selectedValue:o,onChange:l,radioBtnContainerClassName:"SSjBckOOuHLnrAW1VfCNDQ=="}),(0,u.jsx)("div",{hidden:"group"!==o||(0,j.xb)(o),className:fL,children:(0,u.jsx)(pL,{data:g,initValue:c,onChange:e=>{d(e),n(f,e)}})}),(0,u.jsx)(Gl.Z,{hidden:"group"===o,dataSource:null==r?void 0:r[o],values:c,onChange:e=>{d(e),n(f,e)},dataSourceConfig:IL,dropDownHeight:200,classContainer:fL})]}),(0,u.jsxs)("div",{className:hL,children:[(0,u.jsx)("span",{className:"nbg-3E3zt6w5BrrQmoY2YQ==",children:NL}),(0,u.jsx)(Gl.Z,{dataSource:p,values:f,onChange:e=>{v(e),n(y,e)},dataSourceConfig:IL,classContainer:fL,dropDownHeight:200})]})]})};ZL.propTypes={input:c().object.isRequired,dataSet:c().object.isRequired,employeeList:c().array.isRequired,getSelectedUsersAndStructures:c().func},ZL.defaultProps={getSelectedUsersAndStructures:O.wA};const qL=ZL;function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function LL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FL(Object(r),!0).forEach((function(t){HL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _L=e=>{var t=(0,B.GJ)(e);return Object.values(t)};const BL=(0,o.compose)((0,s.$j)((e=>{var t;return{group:_L(e),office:(0,B.TB)(e),skills:(0,MF.Jh)(e),groupId:null===(t=(0,B.K2)(e))||void 0===t?void 0:t.id,position:(0,B.k8)(e),employeeList:(0,Lu.Cs)(e)}}),{fetchEmployees:dy.fetchEmployees,fetchOffices:Wv.fetchOffices,fetchSkills:dy.fetchSkills,fetchPositions:AF.fetchPositions}),(0,fl.G)((e=>{var{group:t,office:r,skills:i,position:s}=e;return LL(LL({},e),{},{dataSet:{group:t,office:r,skills:i,position:s}})})),(0,U.Z)((e=>{var{props:t}=e;t.fetchOffices(),t.fetchSkills(t),t.fetchPositions(),t.fetchEmployees({id:t.groupId})})))(qL);function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GL(Object(r),!0).forEach((function(t){UL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VL=e=>{var{activities:t,formValues:r,invalid:i,pristine:s,handleSubmit:n}=e,[a,o]=(0,m.useState)(!1),[l,c]=(0,m.useState)([]),[d,p]=(0,m.useState)([]),h=!a||(0,j.xb)(l)||(0,j.xb)(d);(0,m.useEffect)((()=>{var e,t,i,{duration:s,end:n,start:a}=r;o((e=a,t=n,i=s,!(0,j.xb)(i)&&(0,ft.ab)(e,t,"minutes")>=Number(i)&&Number(i)>=5))}),[r]);var{from:f,to:v}=(0,ft.J6)();return(0,u.jsxs)("form",{onSubmit:n,className:"N2glWcKKXCCHwahfA7-yLw==",children:[(0,u.jsx)("div",{className:"+YCWxXw+1SszoXlQsKQ05A==",children:(0,u.jsxs)(TF.Z,{className:"vBSgP4Uk8mq5fYlJams4sA==",children:[(0,u.jsx)(kF.Z,{label:vL,children:(0,u.jsxs)("div",{className:"WQNgjdL5KdvYch6C1jQbBw==",children:[(0,u.jsx)(_e.Z,{component:DF,date:f,name:"start"}),(0,u.jsx)(vb.i,{}),(0,u.jsx)("div",{className:"UpK1cnpkyocjvSt6YVE8cw==",children:(0,u.jsx)(_e.Z,{component:DF,date:(0,ft.iX)(v),name:"end",minDate:null==r?void 0:r.start})})]})}),(0,u.jsx)(kF.Z,{label:mL,children:(0,u.jsx)("div",{className:"_3J161iie07FYd5J-D8lHFQ==",children:(0,u.jsx)(_e.Z,{component:NF.Z,type:"text",name:"name"})})}),(0,u.jsx)(kF.Z,{label:yL,children:(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,isRoundValue:!0,classNameInput:"XKTDRC5Iku765i07q87jJQ==",name:"duration"})}),(0,u.jsx)(kF.Z,{label:gL,children:(0,u.jsx)("div",{className:"ec7eKNvfTtUv15WucYNVtQ==",children:(0,u.jsx)(_e.Z,{name:"targetWorkActivityId",component:ZZ.Z,dataSource:t,dataSourceConfig:{value:"id",text:"name"}})})}),(0,u.jsx)(kF.Z,{label:bL,children:(0,u.jsxs)("div",{className:"vx+WDiEniCFCFJwblj5sqg==",children:[(0,u.jsx)("div",{className:"sq2Rf7EJNK0Ra2TRU5n1Yg==",children:(0,u.jsx)(_e.Z,{component:qM.Z,name:"replaceableWorkActivities",dataSource:t,classContainer:"_71vq7xCe7qJvsNUvuwq3Bg==",classButton:"q8YsGFDD4A0h0I7BO32AYw==",dataSourceConfig:{value:"id",text:"name"}})}),(0,u.jsx)("div",{className:"GwLLld79DWcWWMHn1kdsPw==",children:(0,u.jsx)(_e.Z,{component:fP.Z,name:"behavior",label:RL,disabled:(0,j.xb)(null==r?void 0:r.replaceableWorkActivities)})})]})}),(0,u.jsx)(kF.Z,{label:jL,children:(0,u.jsx)(_e.Z,{name:"userIds",component:BL,getSelectedUsersAndStructures:(e,t)=>{c(e),p(t)}})}),(0,u.jsx)(kF.Z,{label:xL,children:(0,u.jsxs)("div",{className:"_5oRxqFbtzcjaptQIPNwTjw==",children:[(0,u.jsx)(_e.Z,{component:_Z.Z,name:"groupingCapacity",isValueWithoutZero:!0}),(0,u.jsx)("span",{className:"rTIC-NlMSTFp1pY9bhJAKg==",children:EL})]})}),(0,u.jsx)(kF.Z,{label:SL,children:(0,u.jsx)(_e.Z,{name:"strategy",component:e=>{var{input:t}=e;return(0,u.jsx)(Zb.E,{options:kL,selectedValue:t.value,onChange:t.onChange,classContainer:"UPlo2TIPB4OBd-xxREmq8w==",classNameLabelHint:"DfGATn1NYsUynsD3GN1ZLA==",removeBtnMargins:!0})}})}),(0,u.jsx)(kF.Z,{label:OL,children:(0,u.jsx)(_e.Z,{component:NF.Z,type:"text",name:"description"})})]})}),(0,u.jsxs)(Ae.Z,{onClick:n,disabled:h||i||s,className:"Zb4CmW09BcBWU95lEEHwFw==",children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)("span",{className:"_8sG2f9hz6BToX-gYvtiizw==",children:DL})]})]})};VL.propTypes=WL(WL({},Bt.Ar),{},{activities:c().array.isRequired,formValues:c().object.isRequired});const zL=VL;function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(r),!0).forEach((function(t){KL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XL="eventAddForm",JL={start:(0,ft.J6)().from,end:(0,ft.iX)((0,ft.J6)().to),strategy:kL[0].value},$L={name:"required",groupingCapacity:"required",duration:"required",targetWorkActivityId:"required",replaceableWorkActivities:"required",userIds:"required",strategy:"required"};const eH=(0,o.compose)(v.ZP,(0,s.$j)((e=>({formValues:(0,qe.Z)(XL)(e)||{},activities:un(e),initialValues:JL,period:(0,K.Qz)(e)})),(e=>({createEvent:(t,r)=>e((0,ca.createEvent)(t,r)),fetchWorkActivities:()=>e((0,Sa.fetchWorkActivities)()),changeSchemeHistoryField:t=>e((0,Qr.m)(XL,"schemePeriods",t)),fetchEventsByPeriod:t=>e((0,ca.fetchEventsByPeriod)(t))})),((e,t,r)=>QL(QL(QL(QL({},e),t),r),{},{onSubmit:()=>{var r=((e,t)=>{var r;if(!(0,j.xb)(e)){var i=e.behavior?"AVOID":"NONE";return(null===(r=e.replaceable)||void 0===r?void 0:r.length)===t&&(i="FORCE"),(0,j.xb)(e.users),QL(QL({},e),{},{behavior:i})}})(e.formValues,e.activities.length),i=(0,O.CE)(r,"behavior").description||"";t.createEvent({behavior:r.behavior,event:QL(QL({},(0,O.CE)(r,"behavior")),{},{name:(0,O.CE)(r,"behavior").name.trim(),description:i.trim()})},(()=>t.fetchEventsByPeriod(e.period)))}}))),(0,Fe.Z)({form:XL,enableReinitialize:!0,validate:(e,t)=>(0,xO.ZP)({data:e,formNameSpace:"",fields:$L,intl:t.intl}).errors}),(0,U.Z)((e=>{var{props:t}=e;t.activities.length||t.fetchWorkActivities()})))(zL),tH=()=>{var[e,t]=(0,m.useState)(!0);return(0,u.jsxs)($v,{expanded:e,onChange:()=>{t(!e)},children:[(0,u.jsxs)(ry,{style:{padding:"0 40px"},children:[(0,u.jsx)(nh.Z,{open:e,className:"mr"}),(0,u.jsx)(J.Z,{id:"Events.add",defaultMessage:[{type:0,value:"Добавление события"}]})]}),(0,u.jsx)(sy,{expanded:e,children:(0,u.jsx)(eH,{})})]})};var rH=r(868),iH=(0,u.jsx)(J.Z,{id:"Events.timeSpend",defaultMessage:[{type:0,value:"Время проведения"}]}),sH=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]}),nH=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.activity",defaultMessage:[{type:0,value:"Активность"}]}),aH=(0,u.jsx)(J.Z,{id:"Events.assignedUsers",defaultMessage:[{type:0,value:"Участники"}]}),oH=(0,u.jsx)(J.Z,{id:"Common.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),lH=(0,u.jsx)(J.Z,{id:"Events.author",defaultMessage:[{type:0,value:"Автор"}]}),cH=(0,u.jsx)(J.Z,{id:"Events.emptyAssignedUsers",defaultMessage:[{type:0,value:"Отсутствуют"}]}),dH=(0,ey.Z)((e=>({tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}})))(rH.ZP);const uH="cVgjIOFbXoV9ev8WAa1NCg==";var pH=e=>{var{start:t,end:r,onDelete:i,onReport:s,idEvent:n}=e;return(0,u.jsxs)("div",{className:"dYJf6E+FqISXHMvIdCGA4A==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>i(n),className:uH,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(Ae.Z,{onClick:()=>s([n]),className:uH,children:(0,u.jsx)(et.ZP,{glyph:et.gq})}),(0,u.jsx)("span",{className:"MQYPmVuWGa0Zr0p7P+Qw5w==",children:"".concat(ns()(t,ft._E).format(ft.Rs)," - ").concat(ns()(r,ft._E).format(ft.Rs))})]})};pH.propTypes={start:c().string.isRequired,end:c().string.isRequired,onDelete:c().func.isRequired,onReport:c().func.isRequired,idEvent:c().string.isRequired};const hH=pH;var fH=e=>{var t;return null===(t=e.events)||void 0===t?void 0:t.eventsTable.data},mH=e=>{var{label:t,onReport:r}=e,i=(0,s.v9)(fH),n=i.flatMap((e=>{var{id:t}=e;return t}));return(0,u.jsxs)("div",{className:"oDC3x93irtlKVmlBvfleXg==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>r(n),className:"PvW7mb4Q+LHc1XUok1oNTw==",disabled:(0,j.xb)(i),children:(0,u.jsx)(et.ZP,{glyph:et.gq})}),(0,u.jsx)("span",{className:"XkzIzr8wphmoOZ5Uhg8SXQ==",children:t})]})};mH.propTypes={label:c().object.isRequired,onReport:c().func.isRequired};const vH=mH,yH="LH+Grjqh5VKVluPQSD287Q==",gH="N5LcyiFXbgslAvylGf3Vrw==",bH="LcKkeLhx1lBi9IZsQHMG2Q==",jH="vNmHaKmNoY9Mjfgb4sRbmA==";var xH=e=>{var{onDelete:t,onReport:r}=e;return[new VP.sg({key:"start",width:350,hasTitle:!1,renderHeader:()=>(0,u.jsx)(vH,{label:iH,onReport:r}),renderCell:e=>(0,u.jsx)(hH,{start:e.start,end:e.end,onDelete:t,onReport:r,idEvent:e.id})}),new VP.sg({key:"name",width:200,hasTitle:!1,renderHeader:()=>(0,u.jsx)("div",{className:gH,children:(0,u.jsx)("span",{className:bH,children:sH})}),renderCell:e=>(0,u.jsx)("div",{className:me()(yH,{width:"200px"}),children:(0,u.jsx)("span",{className:jH,title:e.name,children:e.name})})}),new VP.sg({key:"workActivityName",width:200,hasTitle:!1,renderHeader:()=>(0,u.jsx)("div",{className:gH,children:(0,u.jsx)("span",{className:bH,children:nH})}),renderCell:e=>(0,u.jsx)("div",{className:yH,children:(0,u.jsx)("span",{className:jH,title:e.workActivityName,children:e.workActivityName})})}),new VP.sg({key:"assignedUsers",width:200,hasTitle:!1,renderHeader:()=>(0,u.jsx)("div",{className:gH,children:(0,u.jsx)("span",{className:bH,children:aH})}),renderCell:e=>{var t,r;return(0,u.jsx)(dH,{title:(r=e.assignedUsers,(0,u.jsx)(u.Fragment,{children:r.map((e=>{var{fullName:t}=e;return t})).map((e=>(0,u.jsx)("div",{children:e},(0,X.Vj)())))})),children:(0,u.jsxs)("div",{className:"-EAV+H7xFQzXWAP88vQlxA==",children:[(0,u.jsx)("div",{className:me()(yH,jH),children:(0,j.xb)(e.assignedUsers)?cH:null===(t=e.assignedUsers[0])||void 0===t?void 0:t.fullName}),(0,u.jsx)("div",{children:"(".concat(e.assignedUsers.length,")")})]})})}}),new VP.sg({key:"comment",width:200,hasTitle:!1,renderHeader:()=>(0,u.jsx)("div",{className:gH,children:(0,u.jsx)("span",{className:bH,children:oH})}),renderCell:e=>(0,u.jsx)("div",{className:yH,children:(0,u.jsx)("span",{className:jH,title:e.comment,children:e.comment})})}),new VP.sg({key:"author",width:200,hasTitle:!1,renderHeader:()=>(0,u.jsx)("div",{className:gH,children:(0,u.jsx)("span",{className:bH,children:lH})}),renderCell:e=>(0,u.jsx)("div",{className:me()(yH,{width:"200px"}),children:(0,u.jsx)("span",{className:jH,title:e.author.fullName,children:e.author.fullName})})})]},SH=e=>{var{eventsData:t,onDelete:r,onReport:i}=e;return(0,u.jsx)("div",{className:"Za4bp3+B-0ixQ9d3nZ19Tw==",children:(0,u.jsx)(VP.ZP,{data:t,columns:xH({onDelete:r,onReport:i}),columnsAutoWidth:!0,classNameBottomRightGrid:"scroll",cellClassName:"enable-transition virtualized-table__cell",headerStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1}})})};SH.propTypes={eventsData:c().array.isRequired,onDelete:c().func.isRequired,onReport:c().func.isRequired};const OH=SH;function PH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(r),!0).forEach((function(t){CH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kH=()=>{var e=(0,s.I0)(),t=(0,s.v9)(K.Qz),{to:r}=t,i=wH(wH({},t),{},{to:(0,ft.iX)(r)});(0,m.useEffect)((()=>e((0,ca.fetchEventsByPeriod)(i))),[]);var n=(0,s.v9)(fH);return(0,u.jsx)(OH,{eventsData:n,onDelete:t=>e((0,ca.deleteEvent)(t,(()=>e((0,ca.fetchEventsByPeriod)(i))))),onReport:t=>e((0,ca.getEventsExcel)(t))})};kH.propTypes={};const TH=kH,NH=()=>(0,u.jsxs)("div",{className:"Tvt4KJgHlkN7tg1HMUqqhw==",children:[(0,u.jsx)(tH,{}),(0,u.jsx)(Be.ZP,{autoHide:!0,children:(0,u.jsx)("div",{className:"b2D2Oy9m0gCrAIm4wYPcsw==",children:(0,u.jsx)(TH,{})})})]});var RH=["title","intl"];function EH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function DH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AH=e=>{var{title:t,intl:r}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,RH),n=(0,s.v9)(Y.mj),a="WFM";return(0,m.useEffect)((()=>{t&&(a=r.formatMessage(M[t.id])),document.title=n?"".concat(a," - ").concat(n):a}),[t,n]),(0,u.jsx)(y.AW,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EH(Object(r),!0).forEach((function(t){DH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i))};AH.propTypes={title:c().shape({id:c().string,defaultMessage:c().string}).isRequired,intl:P.gm.isRequired};const MH=(0,v.ZP)(AH);var IH=e=>{var{basePath:t,user:r}=e,i=e=>t+e,s="(\\d{4}-\\d{2}-\\d{2})";return(0,X.BC)(r,x.ZP.RIGHTS.SCHEDULE)||(0,j.xb)(r)?(0,u.jsx)(Gi,{children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:t,exact:!0,children:(0,u.jsx)(y.l_,{to:i("/graph")})}),(0,u.jsx)(MH,{path:i("/shifts"),title:{id:"Menu.shift",defaultMessage:"Смены"},children:(0,u.jsx)(BE,{})}),(0,u.jsx)(MH,{path:i("/schema"),title:{id:"Menu.schema",defaultMessage:"Схемы"},children:(0,u.jsx)(tZ,{})}),(0,u.jsx)(MH,{path:i("/graph"),exact:!0,title:{id:"Menu.graph",defaultMessage:"График"},children:(0,u.jsx)(ax,{})}),(0,u.jsx)(MH,{path:i("/graph/:from".concat(s,"::to").concat(s)),title:{id:"Menu.graph",defaultMessage:"График"},children:(0,u.jsx)(ax,{})}),(0,u.jsx)(MH,{path:i("/graph/:from".concat(s,"/:mid?")),title:{id:"Menu.graph",defaultMessage:"График"},children:(0,u.jsx)(zv,{})}),(0,u.jsx)(MH,{path:i("/requests"),title:{id:"Menu.requests",defaultMessage:"Заявки"},children:(0,u.jsx)(iR,{})}),(0,u.jsx)(MH,{path:i("/monitoring"),title:{id:"Menu.monitoring",defaultMessage:"Мониторинг"},children:(0,u.jsx)(qP,{})}),(0,u.jsx)(MH,{path:i("/tasks/:from?/:to?"),title:{id:"Menu.tasks",defaultMessage:"Задачи"},children:(0,u.jsx)(CF,{})}),(0,u.jsx)(MH,{path:i("/changes"),title:{id:"Menu.scheduleChanges",defaultMessage:"Журнал изменений"},children:(0,u.jsx)(UD,{})}),(0,u.jsx)(MH,{path:i("/export-to-kdo"),title:{id:"Menu.export-to-kdo",defaultMessage:"Выгрузка в КДО"},children:(0,u.jsx)(ES,{})}),(0,u.jsx)(MH,{path:i("/events"),title:{id:"Menu.events",defaultMessage:"События"},children:(0,u.jsx)(NH,{})}),(0,u.jsx)(y.AW,{component:Wi})]})}):(0,u.jsx)(Vi,{user:r})};IH.propTypes={basePath:c().string.isRequired,user:P.jZ.isRequired};const ZH=IH;var qH=r(23301);class FH extends m.Component{render(){var e=me()(this.props.classNames,{"date-range":!0,"date-range--inactive":this.props.inactive});return(0,u.jsxs)("div",{className:e,children:[(0,u.jsx)(mt.Z,{onChange:this.props.onChangeFrom,date:this.props.dateFrom,dateFormat:ft.vc}),(0,u.jsx)("span",{className:"date-range__dash",children:"—"}),(0,u.jsx)(mt.Z,{onChange:this.props.onChangeTo,date:this.props.dateTo,dateFormat:ft.vc})]})}}FH.defaultProps={inactive:!1,classNames:{}},FH.propTypes={onChangeFrom:c().func.isRequired,onChangeTo:c().func.isRequired,inactive:c().bool,dateFrom:c().string.isRequired,dateTo:c().string.isRequired,classNames:c().object};const LH=FH;var HH=r(35108),_H=r(17196);function BH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function GH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BH(Object(r),!0).forEach((function(t){WH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WH(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class UH extends m.PureComponent{constructor(e){super(e),WH(this,"handleSearchTextChange",(0,Yi.D)(300,!1,(e=>{this.setState({filterString:e})}))),WH(this,"withoutDoubles",(e=>{var t=[],{key:r}=this.props.column;return e.forEach((e=>{t.find((t=>t[r]===e[r]))||t.push(e)})),t})),WH(this,"widthFullValue",(e=>e.map((e=>{var{formatMessage:t}=this.props,r=(0,j.xb)(this.props.getFullValue(e,this.props.column))?t({id:"Common.empty",defaultMessage:[{type:0,value:"Пусто"}]}):this.props.getFullValue(e,this.props.column);return GH(GH({},e),{},{[this.props.column.key]:r})})))),WH(this,"filter",(e=>{var{column:{key:t}}=this.props,{filterString:r}=this.state;return(0,j.xb)(r)?e:e.filter((e=>!(0,j.xb)(e[t])&&e[t].toLowerCase().includes(r.toLowerCase())))})),WH(this,"handleDeleteFilter",(()=>{this.setState((e=>({filtersStash:GH(GH({},e.filtersStash),{},{[jo.Gl.EQUALS]:{}})}))),this.props.onChangeFilter({}),this.props.onRequestClose()})),WH(this,"updateFilter",(e=>{var t=e.reduce(((e,t)=>(e[t]=!0,e)),{});this.setState({filtersStash:{[jo.Gl.EQUALS]:t}})})),WH(this,"handleSortAsc",(()=>{var{column:e,onSortAsc:t}=this.props;t(e)})),WH(this,"handleSortDesc",(()=>{var{column:e,onSortDsc:t}=this.props;t(e)})),this.state={filterString:void 0,filtersStash:e.filter||{}}}render(){var e,{column:t,onRequestClose:r,showCloseButton:i,onSortAsc:s,onSortDsc:n,onChangeFilter:a,filter:o,sortDirection:l}=this.props,c=this.filter(this.withoutDoubles(this.widthFullValue(this.props.data))),d=this.state.filtersStash[jo.Gl.EQUALS]||{};return c.sort((e=t.key,(t,r)=>t[e]>r[e]?1:t[e]<r[e]?-1:0)),(0,u.jsxs)("div",{className:"bgaHVqoZmrfZOfVv1el76A==",children:[(0,u.jsx)("div",{className:"table-filter__header",children:(0,u.jsx)(Ae.Z,{className:"table-filter__close-button",onClick:r,hidden:!i,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})})}),(0,u.jsxs)("div",{className:"table-filter__tool-bar",children:[s&&(0,u.jsxs)(Ae.Z,{onClick:this.handleSortAsc,active:l>0,className:"mr+",children:[(0,u.jsx)(et.ZP,{glyph:et.Lx}),(0,u.jsx)(J.Z,{id:"Filter.sortFromAToZ",defaultMessage:[{type:0,value:"А - Я"}]})]}),n&&(0,u.jsxs)(Ae.Z,{onClick:this.handleSortDesc,active:l<0,className:"mr+",children:[(0,u.jsx)(et.ZP,{glyph:et.Mx}),(0,u.jsx)(J.Z,{id:"Filter.sortFromZToA",defaultMessage:[{type:0,value:"Я - А"}]})]}),(0,u.jsxs)(Ae.Z,{onClick:this.handleDeleteFilter,className:"mr+",disabled:(0,j.xb)(o),children:[(0,u.jsx)(et.ZP,{glyph:et.XH}),(0,u.jsx)(J.Z,{id:"tableFilter.removeFilter",defaultMessage:[{type:0,value:"Удалить фильтр"}]})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(hn.Z,{onChange:this.handleSearchTextChange,style:{width:"100%"},className:"mv"})}),(0,u.jsx)(Hx.Z,{dataSource:c,dataSourceConfig:{text:t.key,value:t.key},values:Object.keys(d),onChange:this.updateFilter,rowRenderer:e=>"firingDate"===t.key||"hiringDate"===t.key||"dateOfBirth"===t.key?ns()(e).format(ft._T):e}),(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(Ge.Z,{onClick:()=>{a(this.state.filtersStash,t),r()},type:"transparent",caption:(0,u.jsx)(J.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]})})})]})}}UH.defaultProps={filter:{},sortDirection:0,showCloseButton:!1,formatMessage:null},UH.propTypes={column:c().shape({key:c().string.isRequired}).isRequired,data:c().array.isRequired,onRequestClose:c().func.isRequired,showCloseButton:c().bool,onSortAsc:c().func.isRequired,onSortDsc:c().func.isRequired,onChangeFilter:c().func.isRequired,getFullValue:c().func.isRequired,filter:c().object,sortDirection:c().number,formatMessage:c().func};const VH=UH;var zH=r(11034),YH=r(31878),QH=(0,u.jsx)(J.Z,{id:"Managers.address",defaultMessage:[{type:0,value:"Фактический адрес"}]}),KH=(0,u.jsx)(J.Z,{id:"Managers.dateOfBirth",defaultMessage:[{type:0,value:"Дата рождения"}]}),XH={id:"Managers.dateOfBirth",defaultMessage:"Дата рождения"},JH=(0,u.jsx)(J.Z,{id:"Managers.email",defaultMessage:[{type:0,value:"Адрес электронной почты"}]}),$H={id:"Managers.email",defaultMessage:"Адрес электронной почты"},e_=(0,u.jsx)(J.Z,{id:"Managers.firingDate",defaultMessage:[{type:0,value:"Дата увольнения"}]}),t_={id:"Managers.firingDate",defaultMessage:"Дата увольнения"},r_=(0,u.jsx)(J.Z,{id:"Managers.hiringDate",defaultMessage:[{type:0,value:"Дата приема на работу"}]}),i_={id:"Managers.hiringDate",defaultMessage:"Дата приема на работу"},s_=(0,u.jsx)(J.Z,{id:"Managers.name",defaultMessage:[{type:0,value:"Ф.И.О."}]}),n_={id:"Managers.name",defaultMessage:"Ф.И.О."},a_=(0,u.jsx)(J.Z,{id:"Managers.position",defaultMessage:[{type:0,value:"Должность"}]}),o_={id:"Managers.position",defaultMessage:"Должность"},l_=(0,u.jsx)(J.Z,{id:"Managers.phoneNumber",defaultMessage:[{type:0,value:"Номер телефона"}]}),c_={id:"Managers.phoneNumber",defaultMessage:"Номер телефона"},d_=(0,u.jsx)(J.Z,{id:"Managers.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]}),u_={id:"Managers.groupName",defaultMessage:"Точка оргструктуры"},p_=(0,u.jsx)(J.Z,{id:"Managers.zone",defaultMessage:[{type:0,value:"Часовой пояс"}]}),h_={id:"Managers.zone",defaultMessage:"Часовой пояс"},f_=(0,u.jsx)(J.Z,{id:"Managers.office",defaultMessage:[{type:0,value:"Офис"}]}),m_={id:"Managers.office",defaultMessage:"Офис"},v_=(J.Z,{id:"Managers.externalId",defaultMessage:"Внешний логин"}),y_={id:"Managers.login",defaultMessage:"Логин WFM"},g_={id:"DisplaySettings.address",defaultMessage:"Фактический адрес"},b_=(0,u.jsx)(J.Z,{id:"Managers.showFired",defaultMessage:[{type:0,value:"Показывать уволенных"}]}),j_=(J.Z,J.Z,{id:"ManagerForm.editFormTitle",defaultMessage:"Редактирование данных менеджера"}),x_=(J.Z,J.Z,J.Z,(0,u.jsx)(J.Z,{id:"EmployeeForm.fireOperator",defaultMessage:[{type:0,value:"Уволить сотрудника"}]})),S_={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1,height:32},O_={width:32},P_=me()("virtualized-table__first-header-cell flex-container","pXjVbgvbrVJFWw1JMxNOFw=="),w_="nowrap-content editable-table-cell",C_=(me()("virtualized-table__first-cell nowrap-content","_5b0PtV7eBbgl6m2gXvwfHQ=="),me()(w_,"jDeV7i2j9kOw2iWSydTCvw=="),me()(w_,"cE76NkcBtURY9sppkqODNA==","pZnB-K8MDAP+Ao5L8cSwFA==")),k_=me()("virtualized-table__header-cell","_08NcjIDM2E6iuo3lSRNWXQ=="),T_={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,height:"calc(100% + 17px)"},N_={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11},R_={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:12},E_={id:"ManagerForm.Add",defaultMessage:"Добавление менеджера"},D_=e=>[{component:zH.Z,name:"avatar",label:e.formatMessage(YH.yD),disable:!0,hidden:!0},{component:zH.Z,name:"namePeriod",label:e.formatMessage(n_),disable:!0,hidden:!0},{component:zH.Z,name:"positionPeriod",label:e.formatMessage(o_),disable:!0,hidden:!0},{component:zH.Z,name:"login",label:e.formatMessage(y_)},{component:zH.Z,name:"groupPeriod",label:e.formatMessage(u_)},{component:zH.Z,name:"zonePeriod",label:e.formatMessage(h_)},{component:zH.Z,name:"officePeriod",label:e.formatMessage(m_)},{component:zH.Z,name:"address",label:e.formatMessage(g_)},{component:zH.Z,name:"phoneNumber",label:e.formatMessage(c_)},{component:zH.Z,name:"email",label:e.formatMessage($H)},{component:zH.Z,name:"dateOfBirth",label:e.formatMessage(XH)},{component:zH.Z,name:"hiringDate",label:e.formatMessage(i_)},{component:zH.Z,name:"firingDate",label:e.formatMessage(t_)},{component:zH.Z,name:"externalUserIds",label:e.formatMessage(v_)}],A_=(e,t)=>{var r=new Intl.Collator;return(0,j.xb)(e)?1:(0,j.xb)(t)?-1:r.compare(e,t)},M_=r(40845);function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(r),!0).forEach((function(t){q_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class F_ extends m.PureComponent{constructor(e){super(e),q_(this,"handleSearchTextChange",(0,Yi.D)(50,!1,(e=>{var{column:t}=this.props,r=()=>this.initialData.filter((r=>r[t.key].toLowerCase().includes(e.toLowerCase())));this.setState((()=>({filterString:e,preparedData:r()})))}))),q_(this,"withoutEndOfTime",((e,t)=>e.filter((e=>e[t]&&e[t]!==x.ZP.END_OF_TIME)))),q_(this,"widthFullValue",(e=>e.map((e=>Z_(Z_({},e),{},{[this.props.column.key]:this.props.getFullValue(e,this.props.column)}))))),q_(this,"handleDeleteFilter",(()=>{var{column:e}=this.props;this.setState((e=>({filtersStash:Z_(Z_({},e.filtersStash),{},{[jo.Gl.EQUALS]:{}})}))),this.props.handleDeleteFilter(e,{})})),q_(this,"updateFilter",(e=>{var{updateMultiFilter:t,column:r}=this.props,i=e.reduce(((e,t)=>(e[t]=!0,e)),{}),s={[jo.Gl.EQUALS]:i};this.setState({filtersStash:s}),t(r,s)}));var{key:t}=this.props.column;this.initialData=this.widthFullValue(this.withoutEndOfTime(e.data,t),t),this.state={filterString:void 0,filtersStash:e.filter||{},preparedData:this.initialData}}render(){var{column:e,onRequestClose:t,showCloseButton:r,onSortAsc:i,onSortDsc:s,filter:n,sortDirection:a,active:o}=this.props,{key:l}=e,c=[...this.state.preparedData];c.sort(((e,t)=>(e[l]>t[l]?1:-1)*a));var d=this.state.filtersStash[jo.Gl.EQUALS]||{},p=me()({"table-filter_hide":!o});return(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)("div",{className:"table-filter__header",children:r?(0,u.jsx)("div",{}):(0,u.jsx)(Ae.Z,{className:"table-filter__close-button",onClick:t,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})})}),(0,u.jsxs)("div",{className:"table-filter__tool-bar",children:[i&&(0,u.jsxs)(Ae.Z,{onClick:()=>i(e),active:a>0,className:"mr+",children:[(0,u.jsx)(et.ZP,{glyph:et.Lx}),(0,u.jsx)(J.Z,{id:"Filter.sortFromAToZ",defaultMessage:[{type:0,value:"А - Я"}]})]}),s&&(0,u.jsxs)(Ae.Z,{onClick:()=>s(e),active:a<0,className:"mr+",children:[(0,u.jsx)(et.ZP,{glyph:et.Mx}),(0,u.jsx)(J.Z,{id:"Filter.sortFromZToA",defaultMessage:[{type:0,value:"Я - А"}]})]}),(0,u.jsxs)(Ae.Z,{onClick:this.handleDeleteFilter,className:"mr+",disabled:0===Object.keys(n).length,children:[(0,u.jsx)("span",{className:M_.Z.trashIconStyle,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(J.Z,{id:"tableFilter.removeFilter",defaultMessage:[{type:0,value:"Удалить фильтр"}]})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)(hn.Z,{onChange:this.handleSearchTextChange,style:{width:"100%"},className:"mv",value:this.state.filterString})}),(0,u.jsx)(Hx.Z,{dataSource:c,dataSourceConfig:{text:e.key,value:e.key},values:Object.keys(d),onChange:this.updateFilter,rowRenderer:t=>"firingDate"===e.key||"hiringDate"===e.key||"dateOfBirth"===e.key?ns()(t).format(ft._T):t})]})}}F_.defaultProps={filter:{},sortDirection:0,active:!1,getFullValue:O.wA,showCloseButton:!1,updateMultiFilter:O.wA,handleDeleteFilter:O.wA,onSortAsc:O.wA,onSortDsc:O.wA},F_.propTypes={active:c().bool,data:c().array.isRequired,onRequestClose:c().func.isRequired,showCloseButton:c().bool,getFullValue:c().func,sortDirection:c().number,column:c().object.isRequired,filter:c().object,updateMultiFilter:c().func,handleDeleteFilter:c().func,onSortAsc:c().func,onSortDsc:c().func};var L_=(0,u.jsx)(J.Z,{id:"Common.employeeFullName",defaultMessage:[{type:0,value:"Ф.И.О. сотрудника"}]}),H_=(0,u.jsx)(J.Z,{id:"filter.apply",defaultMessage:[{type:0,value:"Применить"}]});function __(e,t,r){return(0,u.jsxs)("div",{className:"table__sort-arrows",children:[e===r.key&&"dsc"===t&&(0,u.jsx)("span",{className:"table__sort-arrow--up",children:"↑"}),e===r.key&&"asc"===t&&(0,u.jsx)("span",{className:"table__sort-arrow--down",children:"↓"}),e!==r.key&&(0,u.jsx)("span",{className:"table__sort-arrow--both",children:"↕"})]})}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(r),!0).forEach((function(t){W_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class U_ extends m.PureComponent{constructor(e){super(e),W_(this,"getMultiFilter",((e,t,r)=>{var i=e&&e[t],s=e&&e[r],n={[t]:{},[r]:{}};return i&&(n[[t]]=e[t].reduce(((e,t)=>(e[jo.Gl.EQUALS]=e[jo.Gl.EQUALS]||{},e[jo.Gl.EQUALS][t[jo.Gl.EQUALS]]=!0,e)),{})),s&&(n[r]=e[r].reduce(((e,t)=>(e[jo.Gl.EQUALS]=e[jo.Gl.EQUALS]||{},e[jo.Gl.EQUALS][t[jo.Gl.EQUALS]]=!0,e)),{})),n})),W_(this,"handleFilter",(()=>{this.setState((e=>({filterActive:!e.filterActive})))})),W_(this,"handleChangeFilter",(()=>{var{multiFilter:e}=this.state;this.props.onChangeFilter(e),this.props.onRequestClose()})),W_(this,"getItemFilter",((e,t)=>({[t.key]:{items:e,column:t}}))),W_(this,"updateMultiFilter",((e,t)=>{this.setState((r=>({multiFilter:G_(G_({},r.multiFilter),this.getItemFilter(t,e))})))})),W_(this,"handleDeleteFilter",((e,t)=>{this.setState((r=>({multiFilter:G_(G_({},r.multiFilter),this.getItemFilter(t,e))})),(()=>{this.handleChangeFilter()}))})),W_(this,"withoutDoubles",((e,t)=>{var r=[];return e.forEach((e=>{r.find((r=>r[t]===e[t]))||r.push(e)})),r}));var{columns:t,key1:r,key2:i,allFilters:s}=e,n=((e,t,r)=>{for(var i=[],s=0;s<e.length;s++){var n=e[s],a=n.key;a!==t&&a!==r||i.push(n)}return i})(t,r,i),a=n[0],o=n[1],l=this.getMultiFilter(s,r,i),c=l[r],d=l[i],u=c&&this.getItemFilter(c,a)||{},p=d&&this.getItemFilter(d,o)||{};this.state={filterActive:!0,showCloseButton:!0,multiFilter:G_(G_({},u),p),multiColumn:n}}render(){var{data:e,onRequestClose:t,sortDirection:r,key1:i,key2:s,allFilters:n,getFullValue:a,onSortAsc:o,onSortDsc:l}=this.props,{filterActive:c,showCloseButton:d,multiColumn:p}=this.state,h=this.getMultiFilter(n,i,s),f=0===r?1:r,m=c,v=!c,y=this.withoutDoubles(e,i),g=this.withoutDoubles(e,s),b=p[0],j=p[1],x=h[i],S=h[s],O=a||b.getValue,P=a||j.getValue;return(0,u.jsx)("div",{className:"table-filter",children:(0,u.jsxs)("div",{children:[(0,u.jsx)(Ae.Z,{active:m,onClick:()=>{this.handleFilter()},children:L_}),(0,u.jsx)(Ae.Z,{active:v,style:{paddingLeft:"20px"},onClick:()=>{this.handleFilter()},children:a_}),(0,u.jsx)(Ae.Z,{className:"table-filter__close-button",onClick:t,children:(0,u.jsx)(et.ZP,{glyph:et.Tw})}),(0,u.jsx)("div",{style:{paddingBottom:"10px"}}),(0,u.jsx)(F_,{active:m,data:y,onRequestClose:t,showCloseButton:d,getFullValue:O,sortDirection:f,column:b,onSortAsc:o,onSortDsc:l,filter:x,updateMultiFilter:this.updateMultiFilter,handleDeleteFilter:this.handleDeleteFilter,withoutDoubles:this.withoutDoubles}),(0,u.jsx)(F_,{active:v,data:g,onRequestClose:t,showCloseButton:d,getFullValue:P,onSortAsc:o,onSortDsc:l,sortDirection:f,column:j,filter:S,updateMultiFilter:this.updateMultiFilter,handleDeleteFilter:this.handleDeleteFilter,withoutDoubles:this.withoutDoubles}),(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(Ge.Z,{onClick:this.handleChangeFilter,type:"transparent",caption:H_})})]})})}}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function z_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(r),!0).forEach((function(t){Y_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}U_.defaultProps={data:[],columns:[],allFilters:{},sortDirection:0,onRequestClose:O.wA,getFullValue:O.wA,key1:"",key2:""},U_.propTypes={data:c().array,onRequestClose:c().func,getFullValue:c().func,sortDirection:c().number,columns:c().array,allFilters:c().object,onChangeFilter:c().func.isRequired,key1:c().string,key2:c().string,onSortAsc:c().func.isRequired,onSortDsc:c().func.isRequired};class Q_ extends m.Component{render(){var{rowStyleProvider:e,column:t,onRowClick:r,onCellClick:i,index:s,data:n,rowIndex:a}=this.props,o=t.showTitle?rB.getFullValue(n[a],t):null,l=e&&e(n[a],a)||t.className;return(0,u.jsxs)("div",{className:l,onClick:e=>{r(n[a],a),i(n[a][t.key],s,e,n[a],t.key)},style:z_({},t.style||{}),children:[t.render&&t.render(n[a],t.key,a),!t.render&&(0,u.jsx)("span",{title:o,className:"table__value p",children:rB.getFullValue(n[a],t)})]})}}Q_.propTypes={rowStyleProvider:c().func.isRequired,column:c().object.isRequired,onRowClick:c().func.isRequired,onCellClick:c().func.isRequired,index:c().number.isRequired,data:c().array.isRequired,rowIndex:c().number.isRequired};class K_ extends HH.Table{constructor(e){super(e),this._calculateState=(e,t)=>{var r=HH.Table.prototype._calculateState.call(this,e,t);return setTimeout((()=>{!this.props.onScrollEnd||t&&r.scrollX===t.scrollX&&r.scrollY===t.scrollY||this.props.onScrollEnd(r.scrollX,r.scrollY,r.firstRowIndex)})),r}}}var X_=["rowIndex","columnKey"];function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(r),!0).forEach((function(t){eB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tB extends m.Component{static cancelEvent(e){e.stopPropagation()}static getFullValue(e,t){var r;if(t&&t.getFullValue)r=t.getFullValue(e)||"";else try{var i=t?t.key:this.state.key;if(Number.isInteger(i))return e[i];r=i.split(".").reduce(((e,t)=>e[t]),e)}catch(e){console.error("getFullValue error: ",e)}return r}constructor(e){super(e),eB(this,"componentRoot",(0,m.createRef)()),eB(this,"closeFilter",(()=>{this.setState({currentOpenedFilter:-1})})),eB(this,"filter",(e=>{var{filters:t}=this.state;return(0,jo.hX)(e,t,tB.getFullValue)})),eB(this,"mapColumns",((e,t)=>(0,u.jsx)(HH.Column,{fixed:e.fixed,columnKey:e.key,width:Number(this.calculateColumnWidth(e,this.width)),header:this.renderHeader(e,t),cell:this.renderCell},t))),eB(this,"handleChangeMultiFilter",(e=>{Object.entries(e).forEach((e=>{var t=e[0],r=e[1],i=r.items,s=r.column||{key:t};this.changeFilter(i,s)}))})),eB(this,"changeFilter",((e,t)=>{var r=Object.keys(e).reduce(((r,i)=>[...r,...Object.keys(e[i]).reduce(((e,r)=>[...e,{[i]:r,column:t}]),[])]),[]);this.setState((e=>{var i=$_($_({},e.filters),{},{[t.key]:r.length?r:void 0}),{onFiltersChange:s,setMultiFilter:n}=this.props;return!!s&&s(i),n(i),{filters:i}}),(()=>this.props.onFiltersChange&&this.props.onFiltersChange(this.state.filters)))})),eB(this,"handleChangeTableHeaderFilter",((e,t)=>{var r=Object.keys(e).reduce(((r,i)=>[...r,...Object.keys(e[i]).reduce(((e,r)=>[...e,{[i]:r,column:t}]),[])]),[]);this.setState((e=>({filters:$_($_({},e.filters),{},{[t.key]:r.length?r:void 0})})),(()=>this.props.onFiltersChange&&this.props.onFiltersChange(this.state.filters)))})),eB(this,"updateSizes",(()=>{var{width:e=1e3,height:t=500}=this.getSizeOfTable();this.width=e,this.height=t})),eB(this,"renderCell",(e=>{var{rowIndex:t,columnKey:r}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,X_),{onRowClick:s,onCellClick:n,rowStyleProvider:a}=this.props;return(0,m.createElement)(HH.Cell,$_($_({},i),{},{key:t}),(0,u.jsx)(Q_,{onRowClick:s,column:this.columns[r],data:this.preparedData,index:t,onCellClick:n,rowIndex:t,rowStyleProvider:a}))})),eB(this,"renderColumns",(e=>e.map(this.mapColumns))),this.state={key:e.sortBy||null,order:e.sortOrder||"asc",currentOpenedFilter:-1,filters:e.filters||{},highlightedModel:void 0,sortColumn:e.sortBy?e.columns.find((t=>t.key===e.sortBy)):void 0},this.columns=e.columns.reduce(((e,t)=>(e[t.key]=t,e)),{}),this.updateSizes()}componentDidMount(){this.updateSizes(),window.addEventListener("resize",this.updateSizes)}UNSAFE_componentWillReceiveProps(e){var t=e.columns.length!==this.props.columns.length;if(!t)for(var r=0;r<e.columns.length;r++)if(!this.props.columns[r]||e.columns[r].key!==this.props.columns[r].key){t=!0;break}t&&(this.columns=e.columns.reduce(((e,t)=>(e[t.key]=t,e)),{})),e.filters!==this.props.filters&&this.setState({filters:e.filters||{}}),this.updateSizes()}componentWillUnmount(){window.removeEventListener("resize",this.updateSizes)}handleSort(e){var{key:t,order:r}=this.state;if(t!==e.key)this.setState({key:e.key,sortColumn:e,order:"asc"});else{var i="asc"===r?"dsc":"asc";this.setState({key:e.key,sortColumn:e,order:i})}if(this.props.onSortChange){var s="asc"===r?"dsc":"asc";this.props.onSortChange({key:e.key,sortColumn:e,order:s})}"dsc"===r&&this.setState({key:null})}getSizeOfTable(){var e,t,r=this.componentRoot?this.componentRoot.parentElement:void 0;return r&&(t=r.offsetWidth,e=r.offsetHeight),this.props.width&&(t=this.props.width),this.props.height&&(e=this.props.height),{width:t,height:e}}sort(e,t){var{key:r,order:i}=this.state;return r?e.sort(((e,r)=>{var s=tB.getFullValue(e,t),n=tB.getFullValue(r,t);if(""===s||void 0===s)return 1;if(""===n||void 0===n)return-1;var a=s<n?-1:1;return"asc"===i?a:-1*a})):e}calculateColumnWidth(e,t){var{columns:r=[]}=this.props;if(void 0!==e.width)return e.width;var i=r.filter((e=>void 0===e.width)),s=(t-r.reduce(((e,t)=>void 0!==t.width?e+t.width:e),0))/i.length;return s<tB.MIN_COLUMN_WIDTH?tB.MIN_COLUMN_WIDTH:s}sortAsc(e){this.setState({sortColumn:e,key:e.key,order:"asc"}),this.props.onSortChange&&this.props.onSortChange({sortColumn:e,key:e.key,order:"asc"})}sortDsc(e){this.setState({sortColumn:e,key:e.key,order:"dsc"}),this.props.onSortChange&&this.props.onSortChange({sortColumn:e,key:e.key,order:"dsc"})}hasAnyFilter(e){return!!this.state.filters[e.key]}toggleFilterPopup(e){this.state.currentOpenedFilter===e?this.setState({currentOpenedFilter:-1}):this.setState({currentOpenedFilter:e})}renderHeader(e,t){var{onHeaderCellClick:r,columns:i,intl:{formatMessage:s}}=this.props,{key:n,order:a}=this.state,o=this.state.filters,l=e=>{switch(e){case"asc":return 1;case"dsc":return-1;default:return 0}};return(0,u.jsx)(_H.Z,{style:{color:"inherit",padding:0},className:me()({"IWS6rrL9McWVLS2Ab3AuGQ==":e.filterable},"table__cell",{"table__cell--sortable":e.sortable}),onClick:i=>{r(e,i),!this.props.filterable&&!e.filterable||!1===e.filterable?e.sortable&&this.handleSort(e):this.toggleFilterPopup(t)},children:(0,u.jsxs)("div",{ref:e.key+"-header-cell",children:[e.renderHeader?e.renderHeader(e):(0,u.jsx)("div",{className:"table__label",title:e.label&&e.label.props?s(e.label.props):e.label,children:e.label}),this.hasAnyFilter(e)&&(0,u.jsx)("div",{className:"table__column-filter-indicator context-color_info",children:"*"}),e.sortable&&__(n,a,e),this.state.currentOpenedFilter===t&&(0,u.jsxs)(Ns.ZP,{open:!0,className:"table-filter scrollbar",anchorEl:this.componentRoot.current,onClose:this.closeFilter,onClick:tB.cancelEvent,style:{overflowY:"scroll"},children:[" ",this.props.isMultiColumnFilter&&(0,u.jsx)(U_,{data:this.props.data,multiFilter:this.props.multiFilter,setMultiFilter:this.props.setMultiFilter,onRequestClose:()=>{this.setState({currentOpenedFilter:-1})},onSortAsc:t=>{var r=$_($_({},e),{},{key:t.key});this.sortAsc(r)},onSortDsc:t=>{var r=$_($_({},e),{},{key:t.key});this.sortDsc(r)},sortDirection:l(a),columns:i,allFilters:o,onChangeFilter:this.handleChangeMultiFilter,getFullValue:tB.getFullValue,key1:"userName",key2:"position"})," ",this.props.isColumnFilter&&(0,u.jsx)(VH,{data:this.props.data,onRequestClose:()=>{this.setState({currentOpenedFilter:-1})},getFullValue:tB.getFullValue,column:e,formatMessage:s,onSortAsc:()=>this.sortAsc(e),onSortDsc:()=>this.sortDsc(e),sortDirection:l(a),filter:this.state.filters[e.key]&&this.state.filters[e.key].reduce(((e,t)=>(e[jo.Gl.EQUALS]=e[jo.Gl.EQUALS]||{},e[jo.Gl.EQUALS][t[jo.Gl.EQUALS]]=!0,e)),{}),onChangeFilter:t=>{this.handleChangeTableHeaderFilter(t,e)}})]})]})},t)}render(){var{data:e,columns:t,scrollCallback:r,rowClassNameGetter:i,rowHeight:s,scrollLeft:n,scrollTop:a,scrollToColumn:o,rowHighlighting:l,setNumberOfEmployees:c,customContainerClassName:d,subtractTableWidth:p}=this.props;if(!e)return null;var h=this.sort.bind(this),{filter:f}=this;this.preparedData=h(f(e),this.state.sortColumn),c&&c(this.preparedData.length,this.state.filters);var m=l?"table_row-highlighting":void 0,v=me()(m,d),y=this.width-p;return(0,u.jsx)("div",{ref:this.componentRoot,className:v,children:(0,u.jsx)(K_,{rowHeight:s||25,rowsCount:this.preparedData.length,width:y,height:this.height,onScrollEnd:r,headerHeight:30,scrollLeft:n,scrollTop:a,scrollToColumn:o,rowClassNameGetter:t=>{var r="table__row ";return i&&(r+=i(t)),l&&e[t]===this.state.highlightedModel&&(r+=" table__row_highlighted"),r},onRowClick:(t,r)=>{this.setState({highlightedModel:e[r]})},children:t&&this.renderColumns(t)})})}}eB(tB,"MIN_COLUMN_WIDTH",80),tB.defaultProps={rowStyleProvider:O.wA,setMultiFilter:O.wA,onFiltersChange:O.wA,onSortChange:O.wA,scrollCallback:O.wA,rowClassNameGetter:O.wA,onRowClick:O.wA,onCellClick:O.wA,onHeaderCellClick:O.wA,filterable:!1,rowHighlighting:!1,isMultiColumnFilter:!1,isColumnFilter:!0,multiFilter:{},filters:{},containerId:"",customContainerClassName:"",subtractTableWidth:0,setNumberOfEmployees:null},tB.propTypes={sortBy:c().oneOfType([c().string,c().number]).isRequired,columns:c().array.isRequired,intl:P.gm.isRequired,onRowClick:c().func,onCellClick:c().func,rowStyleProvider:c().func,onHeaderCellClick:c().func,setMultiFilter:c().func,multiFilter:c().object,setNumberOfEmployees:c().func,filterable:c().bool,rowHighlighting:c().bool,isColumnFilter:c().bool,isMultiColumnFilter:c().bool,containerId:c().string,customContainerClassName:c().string,height:c().number.isRequired,width:c().number.isRequired,onFiltersChange:c().func,onSortChange:c().func,filters:c().object,sortOrder:c().oneOf(["asc","dsc"]).isRequired,data:c().array.isRequired,scrollCallback:c().func,rowClassNameGetter:c().func,rowHeight:c().number.isRequired,scrollLeft:c().number.isRequired,scrollTop:c().number.isRequired,scrollToColumn:c().number.isRequired,subtractTableWidth:c().number};const rB=(0,v.ZP)(tB);function iB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iB(Object(r),!0).forEach((function(t){nB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class aB extends m.Component{constructor(e){super(e),nB(this,"handleChange",(e=>{this.setState({value:e.target.value})})),this.state={value:e.value}}render(){var{value:e}=this.state;return"textarea"===this.props.type?(0,u.jsx)("textarea",sB(sB({},this.props),{},{value:e,onChange:e=>{this.handleChange(e),this.props.onChange&&this.props.onChange(e)}})):(0,u.jsx)("input",sB(sB({},this.props),{},{value:e,onChange:e=>{this.handleChange(e),this.props.onChange&&this.props.onChange(e)}}))}}function oB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(r),!0).forEach((function(t){cB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}aB.propTypes={onChange:c().func.isRequired,type:c().string.isRequired,value:c().string.isRequired};var dB=0;class uB extends m.Component{constructor(e){super(e),cB(this,"getRenderCellFunction",(e=>t=>this.renderCell(t,e))),cB(this,"finishEditing",(()=>{this.setState({editingIndex:void 0,editingField:void 0})})),cB(this,"renderCell",((e,t)=>{var{data:r=[],noDirty:i}=this.props,{key:s,editComponent:n="text",viewComponent:a="text",cellContentClassName:o="ph",onChange:l=(()=>{}),onFinishEdit:c=(()=>{})}=t;return this.state.editingIndex===r.indexOf(e)&&this.state.editingField===s?"string"==typeof n?(0,u.jsx)("div",{className:"ph",children:(0,u.jsx)(aB,{autoFocus:!0,className:"table__input",id:this.editingCellId,type:n,checked:"checkbox"===n?rB.getFullValue(e,t):void 0,value:rB.getFullValue(e,t),onChange:t=>{try{var r=s.split(".");r.reduce(((e,i,s)=>(s+1<r.length&&void 0===e[i]?e[i]={}:s+1===r.length&&(e[i]="checkbox"===n?t.target.checked:t.target.value),e[i])),e)}catch(e){console.error(e)}e.$dirty=!i,l(t,e,s)},onBlur:()=>{this.finishEditing(),c(e,s)},onKeyDown:t=>{"Enter"===t.key&&(this.finishEditing(),c(e,s))}})}):"boolean"==typeof n?null:(0,u.jsx)("div",{className:"ph",onBlur:this.finishEditing,children:n(e,(()=>{e.$dirty=!i,this.forceUpdate()}),this.finishEditing)}):(0,u.jsxs)("div",{style:lB({cursor:"pointer",textDecoration:"underline",height:(this.props.rowHeight||25)+"px",verticalAlign:"middle",lineHeight:(this.props.rowHeight||25)+"px"},t.style||{}),className:o,onClick:()=>{this.setState({editingIndex:r.indexOf(e),editingField:s}),setTimeout((()=>{var e=document.getElementById(this.editingCellId);e&&e.focus()}),0)},children:[(void 0===a||"string"==typeof a)&&rB.getFullValue(e,t),!(void 0===a||"string"==typeof a)&&a(e,s)]})})),this.editableTableIndex=dB,this.editingCellId="editable-table-".concat(this.editableTableIndex,"-active-input"),dB++,this.state={editingIndex:void 0,editingField:void 0},e.columns.forEach((e=>{e.editable&&(e.render=this.getRenderCellFunction(e))})),this.defaultProps={noDirty:!1}}UNSAFE_componentWillReceiveProps(e){this.props.columns!==e.columns&&e.columns.forEach((e=>{e.editable&&(e.render=this.getRenderCellFunction(e))}))}render(){var{data:e=[]}=this.props;return(0,u.jsx)(rB,lB(lB({},this.props),{},{rowClassNameGetter:t=>{var r="table__row";this.props.rowClassNameGetter&&(r+=" "+this.props.rowClassNameGetter(t));var i=e[t];return i&&i.$dirty&&(r+=" table__row_dirty"),r}}))}}uB.defaultProps={rowClassNameGetter:O.wA,noDirty:!1,data:[],columns:[],rowHeight:""},uB.propTypes={rowClassNameGetter:c().func,noDirty:c().bool,data:c().array,columns:c().array,rowHeight:c().string};const pB=uB;function hB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class fB extends m.Component{constructor(e){super(e),hB(this,"tableRef",(0,m.createRef)()),hB(this,"updateCurrentDay",((e,t,r)=>{e[t]=r,e.$dirty=!0})),this.state={createOpen:!1}}getColumns(){var{formatMessage:e}=this.props;return[{label:(0,u.jsx)(J.Z,{id:"Actions.actions",defaultMessage:[{type:0,value:"Действия"}]}),key:"actions",width:80,className:"ph",fixed:!0,render:e=>(0,u.jsx)("div",{className:"nowrap-content ph",children:(0,u.jsx)("span",{children:(0,u.jsx)("button",{type:"button",title:(0,u.jsx)(J.Z,{id:"Actions.save"}),className:"button-icon context-color_success",onClick:()=>{this.props.editDay(e,(()=>delete e.$dirty))},children:"✔"})})})},{label:e({id:"Calendar.date",defaultMessage:[{type:0,value:"Дата"}]}),width:100,render:e=>(0,u.jsx)("span",{className:"ph+",children:ns()(e.date).format("DD.MM.YYYY")})},{key:"workDayNumber",width:100,label:e({id:"Calendar.number",defaultMessage:[{type:0,value:"Номер"}]})},{label:e({id:"Calendar.isHoliday",defaultMessage:[{type:0,value:"Гос. праздник"}]}),key:"isHoliday",width:100,render:(e,t)=>(0,u.jsx)("div",{className:"ph++",children:(0,u.jsx)(Rs.XZ,{value:e.isHoliday,defaultChecked:e.isHoliday,id:e.id,onChange:r=>{this.updateCurrentDay(e,t,r.target.checked)}})})},{label:e({id:"Calendar.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),key:"comment",editable:!0,editComponent:"text"}]}render(){var{calendar:e,createCalendarForm:t,resetForm:r,rights:i,setPeriod:s,fetchCalendar:n}=this.props;return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"section calendar",children:[(0,u.jsx)("div",{className:"section__content scrollbar",children:(0,u.jsx)(pB,{ref:this.tableRef,columns:this.getColumns(),data:e})}),(0,u.jsx)("div",{className:"section__footer",children:i[x.ZP.RIGHTS.SETTINGS]===x.ZP.CRUD&&(0,u.jsxs)("div",{className:me()("offices__footer",{"office--opened":this.state.createOpen}),children:[(0,u.jsxs)("div",{style:{height:"40px"},children:[(0,u.jsxs)("span",{className:"calendar__date-range",children:[(0,u.jsx)("span",{children:(0,u.jsx)(J.Z,{id:"Calendar.displayPeriod",defaultMessage:[{type:0,value:"Период отображения"}]})}),(0,u.jsx)(LH,{dateFrom:this.props.period.from,dateTo:this.props.period.to,onChangeFrom:e=>s({from:e}),onChangeTo:e=>s({to:e})})]}),(0,u.jsx)(AS.Z,{className:"button-icon icon-calendar inline-block_middle mh",onClick:()=>n(this.props.period),children:(0,u.jsx)(qH.Z,{className:"material-icons"})})]}),this.state.createOpen&&t({onClose:()=>{this.setState({createOpen:!1}),r()},props:this.props})]})})]})})}}fB.propTypes={period:c().object.isRequired,formatMessage:c().func.isRequired,calendar:c().array.isRequired,createCalendarForm:c().func.isRequired,resetForm:c().func.isRequired,rights:c().object.isRequired,setPeriod:c().func.isRequired,fetchCalendar:c().func.isRequired,editDay:c().func.isRequired};const mB=fB,vB=(0,tE.ZP)((()=>({menu:{display:"flex"}})));function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yB(Object(r),!0).forEach((function(t){bB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jB=(0,o.compose)((0,s.$j)((e=>({calendar:(0,B.eJ)(e),rights:e.user.rights||{},formatMessage:e.intl.formatMessage,period:(()=>{var t=ns()(),r=t.year(),i=t.month(),s=ns()([r,i]).format("YYYY-MM-DD"),n=ns()(ns()([r,i])).endOf("month").format("YYYY-MM-DD"),a=gB({},e.settings.period);return a.from=a.from||s,a.to=a.to||n,a})()})),{fetchCalendar:$I.fetchCalendar,editDay:$I.editDay,deleteDay:$I.deleteDay,setPeriod:$I.setPeriod},((e,t,r)=>gB(gB(gB({},e),r),t))),(0,U.Z)((e=>{var{props:t}=e;t.fetchCalendar()})),vB)(mB);function xB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function SB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xB(Object(r),!0).forEach((function(t){OB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class PB extends m.Component{render(){var{submitting:e,handleSubmit:t,style:r,onDelete:i=(()=>{}),id:s,onCancel:n=(()=>{})}=this.props;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:SB({},r),onSubmit:t,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)("div",{className:"flex-item flex-item_fixed",children:(0,u.jsx)(hO,{name:"title",type:"text",useMui:!0,inputProps:{label:(0,u.jsx)(J.Z,{id:"Common.name"}),fullWidth:!0},disabled:e})}),(0,u.jsx)(hO,{name:"text",type:"text",useMui:!0,inputProps:{label:(0,u.jsx)(J.Z,{id:"Common.text"}),fullWidth:!0,multiLine:!0},disabled:e})]})}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[!!i&&s&&(0,u.jsx)(dR.Z,{onClick:()=>{i(s)},secondary:!0,label:(0,u.jsx)(J.Z,{id:"Actions.delete"})}),(0,u.jsx)(dR.Z,{onClick:e=>{e.preventDefault(),n()},label:(0,u.jsx)(J.Z,{id:"Actions.cancel"})}),(0,u.jsx)(dR.Z,{primary:!0,disabled:e,onClick:e=>{e.preventDefault(),t()},children:(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})})]})]})}}function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function CB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wB(Object(r),!0).forEach((function(t){kB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}PB.defaultProps={submitting:!1},PB.propTypes={submitting:c().bool,handleSubmit:c().func.isRequired,style:c().object.isRequired,onDelete:c().func.isRequired,id:c().string.isRequired,onCancel:c().func.isRequired};var TB="CommentTemplateForm",NB={title:xO.z2.required,text:xO.z2.required};const RB=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:e.form[TB]&&e.form[TB].values?e.form[TB].values.id:void 0})),{},((e,t,r)=>CB(CB(CB({},e),t),r))),(0,Fe.Z)({form:TB,validate:(e,t)=>(0,xO.ZP)({data:e,fields:NB,formNameSpace:"Common",intl:t.intl}).errors}))(PB);function EB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class DB extends m.Component{constructor(e){super(e),EB(this,"hideForm",(()=>this.setState({formVisible:!1},this.props.resetForm))),EB(this,"toggleFormVisibility",(()=>this.setState((e=>({formVisible:!e.formVisible}))))),this.state={formVisible:!1}}render(){var{user:e,commentTemplates:t,initializeCommentTemplateForm:r,deleteCommentTemplate:i,updateCommentTemplate:s,createCommentTemplate:n}=this.props;return(0,u.jsxs)("div",{className:"section",children:[(0,u.jsxs)("div",{className:"section__content section__content_no-footer scrollbar",children:[(0,X.BC)(e,x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD)&&(0,u.jsx)(sR.Z,{style:{position:"absolute",bottom:"16px",right:"16px",zIndex:"100"},onClick:()=>{r({}),this.toggleFormVisibility()},children:(0,u.jsx)(nR.Z,{})}),(0,u.jsx)(sZ.Z,{children:t.map(((e,t)=>{var i=(0,u.jsx)("div",{style:{display:"block"},className:"text-ellipsis",children:e.title});return(0,u.jsx)(nZ.Z,{title:e.title,primaryText:i,secondaryText:e.text,onClick:()=>{r(e),this.toggleFormVisibility()}},e.id||t)}))})]}),(0,u.jsx)(ve.ZP,{open:this.state.formVisible,anchor:"right",classes:{paper:"gQ0KE0l1CoxxD-MZFzdV7g=="},onClose:this.hideForm,children:(0,u.jsx)("div",{className:"p+",style:{height:"100%"},children:(0,u.jsx)(RB,{style:{height:"100%"},onSubmit:e=>{e.id?s(e,this.hideForm):n(e,this.hideForm)},onDelete:e=>{GR.Z.confirm("",void 0,(()=>i(e,this.hideForm)))},onCancel:this.hideForm})})})]})}}DB.propTypes={user:c().object.isRequired,commentTemplates:c().func.isRequired,initializeCommentTemplateForm:c().func.isRequired,deleteCommentTemplate:c().func.isRequired,updateCommentTemplate:c().func.isRequired,createCommentTemplate:c().func.isRequired,resetForm:c().func.isRequired};var AB=r(37548);function MB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MB(Object(r),!0).forEach((function(t){ZB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qB=(0,o.compose)((0,s.$j)((e=>({commentTemplates:e.settings.commentTemplates,user:e.user||{}})),{fetchCommentTemplates:AB.fetchCommentTemplates,deleteCommentTemplate:AB.deleteCommentTemplate,updateCommentTemplate:AB.updateCommentTemplate,createCommentTemplate:AB.createCommentTemplate,initializeCommentTemplateForm:e=>t=>{t((0,Qr.j2)("CommentTemplateForm",e))},resetForm:()=>e=>e((0,Qr.ob)("CommentTemplateForm"))},((e,t,r)=>IB(IB(IB({},e),r),t))),(0,U.Z)((e=>{var{props:t}=e;t.fetchCommentTemplates()})))(DB);function FB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function LB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FB(Object(r),!0).forEach((function(t){HB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _B extends m.Component{render(){var{submitting:e,handleSubmit:t,style:r,onDelete:i,id:s,onCancel:n}=this.props;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:LB({},r),onSubmit:t,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)("div",{className:"flex-item flex-item_fixed",children:(0,u.jsx)(hO,{name:"key",type:"text",useMui:!0,inputProps:{label:"key",fullWidth:!0},disabled:!!s||e})}),(0,u.jsx)("div",{className:"flex-item flex-item_fixed",children:(0,u.jsx)(hO,{name:"value",type:"text",useMui:!0,inputProps:{label:"value",fullWidth:!0,multiLine:!0},disabled:e})})]})}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[!!i&&s&&(0,u.jsx)(dR.Z,{onClick:()=>{i(s)},secondary:!0,label:(0,u.jsx)(J.Z,{id:"Actions.delete"})}),(0,u.jsx)(dR.Z,{onClick:e=>{e.preventDefault(),n()},label:(0,u.jsx)(J.Z,{id:"Actions.cancel"})}),(0,u.jsx)(dR.Z,{primary:!0,disabled:e,onClick:e=>{e.preventDefault(),t()},children:(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})})]})]})}}_B.defaultProps={onCancel:O.wA,onDelete:O.wA,id:null},_B.propTypes={onCancel:c().func,submitting:c().bool.isRequired,handleSubmit:c().func.isRequired,style:c().object.isRequired,onDelete:c().func,id:c().number};const BB=_B;function GB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(r),!0).forEach((function(t){UB(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UB(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VB="FrontendSettingForm",zB={key:"required",value:"required json"};const YB=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:e.form[VB]&&e.form[VB].values?e.form[VB].values.id:void 0})),{},((e,t,r)=>WB(WB(WB({},e),t),r))),(0,Fe.Z)({form:VB,validate:(e,t)=>(0,xO.ZP)({data:e,fields:zB,formNameSpace:"Common",intl:t.intl}).errors}))(BB),QB=()=>{var e={VERSION:"c8acdf6",COMMIT_DATA:"commit c8acdf614c4c4e3a23ff99b1cd1523f7ecbd1233\nMerge: 251bbb2 6faf583\nAuthor: Умаров Ади <dasler-fw@inbox.ru>\nDate:   Tue Oct 24 08:27:59 2023 +0000\n\n    Merge branch 'WFM-11684-release36' into 'release36'\n    \n    WFM-11684-release36 - Refactor the organization tree\n    \n    See merge request frontend/wfmfront!6615",BRANCH:"HEAD",BUILD_DATE:"2023-10-24T08:32:21.508Z"};return(0,u.jsx)("div",{className:"context-background_info p+",style:{color:"white"},children:Object.keys(e).map((t=>(0,u.jsxs)("div",{className:"context-color",children:[t,(0,u.jsx)("span",{children:":"}),(0,u.jsx)("strong",{children:e[t]})]},t)))})};var KB=(0,Ip.Z)({root:{position:"absolute",right:"16px",bottom:"16px",zIndex:100}}),XB=e=>{var{onClick:t}=e,r=KB();return(0,u.jsx)(sR.Z,{color:"primary",className:r.root,onClick:t,children:(0,u.jsx)(nR.Z,{})})};XB.propTypes={onClick:c().func.isRequired};const JB=XB;var $B=r(18334),eG=e=>{var{keyName:t}=e;return(0,u.jsxs)("span",{children:[pa.Nj[t],(0,u.jsx)("span",{children:"("}),t,(0,u.jsx)("span",{children:")"})]})};eG.propTypes={keyName:c().string.isRequired};const tG=eG;function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(r),!0).forEach((function(t){sG(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nG extends m.PureComponent{constructor(e){super(e),sG(this,"isCustom",(()=>!!this.props.item.id)),sG(this,"handleSave",(()=>{var{item:e,updateFrontendSetting:t,createFrontendSetting:r}=this.props,{value:i}=this.state;"isHideRussianLocalization"===e.key&&Kp.Z.setItem("isHideRussianLocalization",i),this.isCustom(e)?t(iG(iG({},e),{},{value:i})):r(iG(iG({},e),{},{value:i}))})),sG(this,"handleDelete",(()=>{var{item:e,deleteFrontendSetting:t}=this.props;t(e,Ii.T.success)})),sG(this,"handleCheckboxChange",(e=>{this.setState({value:e})})),sG(this,"handleChange",(e=>{this.setState({value:e.target.value})})),this.state={value:e.item.value}}UNSAFE_componentWillReceiveProps(e){this.setState({value:e.item.value})}render(){var{item:e}=this.props,t=!!e.id,r=e.value!==this.state.value,i="boolean"==typeof e.value,s="string"==typeof e.value,n=i?{borderBottom:"1px dotted lightgray"}:{},a=(0,u.jsx)(tG,{keyName:e.key});return(0,u.jsxs)("div",{className:"flex-container",style:n,children:[r&&(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(AS.Z,{onClick:this.handleSave,children:(0,u.jsx)(DS.Z,{className:"material-icons",color:$B.Z[600],children:"save"})})}),(0,u.jsxs)("div",{style:{flex:1},children:[s&&(0,u.jsx)(aO.Z,{fullWidth:!0,classes:{root:"duCujn0XmEJXxeugm0X4Gg=="},label:a,value:this.state.value,onChange:this.handleChange}),i&&(0,u.jsx)("div",{className:"pt pb mt+",children:(0,u.jsx)(Rs.XZ,{checked:this.state.value,onChange:this.handleCheckboxChange,label:a})})]}),t&&(0,u.jsx)("div",{className:"mt++",children:(0,u.jsx)(Ge.Z,{onClick:this.handleDelete,caption:"reset"})})]})}}nG.propTypes={item:c().object.isRequired,deleteFrontendSetting:c().func.isRequired,updateFrontendSetting:c().func.isRequired,createFrontendSetting:c().func.isRequired};const aG=nG,oG=(0,o.compose)((0,s.$j)(null,{createFrontendSetting:S.createFrontendSetting,updateFrontendSetting:S.updateFrontendSetting,deleteFrontendSetting:S.deleteFrontendSetting}))(aG);var lG=e=>{var{frontendSettings:t}=e;return(0,u.jsx)(u.Fragment,{children:Object.keys(t).sort(((e,t)=>e>t?1:-1)).map((e=>(0,u.jsx)(oG,{item:t[e]},e)))})};lG.propTypes={frontendSettings:c().object.isRequired};const cG=lG;var dG=e=>{var{user:t}=e,[r,i]=(0,m.useState)(!1),n=(0,s.I0)(),a=(0,s.v9)(B.e0),o=()=>i(!1);return(0,ye.GP)(t)?(0,u.jsxs)("div",{className:"yh7Ghsie6gNCsRPlCXe6xw==",children:[(0,u.jsxs)("div",{className:"section__content section__content_no-footer scroll",children:[(0,u.jsxs)("div",{className:"ph++",children:[(0,u.jsx)(QB,{}),(0,u.jsx)(cG,{frontendSettings:a})]}),(0,u.jsx)(JB,{onClick:()=>{n((0,Qr.j2)(VB,{})),i(!0)}})]}),(0,u.jsx)(ve.ZP,{open:r,classes:{paper:"fyp7ukg1kG1LD6idZAFbkg=="},anchor:"right",onClose:o,children:(0,u.jsx)("div",{className:"p+",style:{height:"100%"},children:(0,u.jsx)(YB,{style:{height:"100%"},onSubmit:e=>{n((0,S.createFrontendSetting)(e,o))},onCancel:()=>{n((0,Qr.ob)(VB)),o()}})})})]}):null};dG.propTypes={user:P.jZ.isRequired};const uG=dG;var pG=(0,u.jsx)(J.Z,{id:"DisplaySettings.hintMessage",defaultMessage:[{type:0,value:"Выберите поля для отображения."}]});var hG=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),fG=e=>{var{close:t,fetchWorkActivities:r,setTableDisplaySettings:i,formValues:s,fields:n,pristine:a}=e,o=me()("_1Jgrurk7G9rkllyfsUGArg==","scroll");return(0,u.jsxs)("div",{className:"pR61alHAAMzlr4lWXOnGbw==",children:[(0,u.jsx)("div",{className:o,children:(0,j.xb)(n)?[]:n.sort((0,X.hM)("label")).map((e=>{var t=e.component||wr.XZ;return(0,u.jsx)("span",{className:me()("_36lKV6L05n89tl14fG9Yaw=="),hidden:e.hidden,children:(0,u.jsx)(_e.Z,{component:t,name:e.name,label:e.label,disabled:e.disable})},e.name)}))}),(0,u.jsx)("div",{className:"ARDZotqfhLqIc+a3cf3XKw==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{i(s),a||r(),t()},caption:hG})})]})};fG.defaultProps={fields:[],fetchWorkActivities:O.wA,pristine:!0},fG.propTypes={close:c().func.isRequired,fetchWorkActivities:c().func,setTableDisplaySettings:c().func.isRequired,formValues:c().object.isRequired,fields:c().array,pristine:c().bool};const mG=fG;var vG="DisplaySettingsSimpleForm";const yG=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(vG)(e)}))),(0,Fe.Z)({form:vG}))(mG);var gG=r(68258),bG=r(34011),jG=r(10790);function xG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SG={width:15,height:15};class OG extends m.Component{constructor(){super(...arguments),xG(this,"state",{iconEye:!0}),xG(this,"handleClickEye",(()=>{this.setState((e=>({iconEye:!e.iconEye})))}))}render(){var{iconEye:e}=this.state,{component:t,isWithoutSpaceInput:r}=this.props,i=e?"password":"text",s=e?(0,u.jsx)(et.ZP,{glyph:et.Wi,style:SG}):(0,u.jsx)(et.ZP,{glyph:et.bA,style:SG});return(0,u.jsxs)("div",{className:jG.Z.passwordContainer,children:[(0,u.jsx)(_e.Z,{component:t,isWithoutSpaceInput:r,type:i,name:"password"}),(0,u.jsx)(Ae.Z,{className:jG.Z.buttonEye,onClick:this.handleClickEye,children:s})]})}}OG.defaultProps={component:"input",isWithoutSpaceInput:!0},OG.propTypes={component:c().node,isWithoutSpaceInput:c().bool};const PG=OG;var wG=(0,u.jsx)(J.Z,{id:"EmployeeAddForm.login",defaultMessage:[{type:0,value:"Логин"}]}),CG=(0,u.jsx)(J.Z,{id:"EmployeeAddForm.password",defaultMessage:[{type:0,value:"Пароль"}]}),kG=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить и продолжить"}]}),TG=(0,u.jsx)(J.Z,{id:"EmployeeAddForm.inputLoginAndPassword",DefaultMessage:"Для создания пользователя введите логин и пароль"});class NG extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSaveClick",(()=>{var{onSubmit:e,formValue:{login:t,password:r}}=this.props;e({login:t,password:(0,Le.H)(r)})}))}render(){var{invalid:e}=this.props;return(0,u.jsxs)("div",{className:jG.Z.root,children:[(0,u.jsxs)("div",{className:jG.Z.body,children:[(0,u.jsx)("div",{className:jG.Z.title,children:TG}),(0,u.jsx)("div",{className:jG.Z.mainBlock,children:(0,u.jsxs)("table",{className:jG.Z.tableForm,children:[(0,u.jsx)(TF.X,{label:wG,labelClassName:jG.Z.labelLogin,childrenClassName:jG.Z.loginInput,children:(0,u.jsx)(_e.Z,{component:NF.U,type:"text",name:"login"})}),(0,u.jsx)(TF.X,{label:CG,labelClassName:jG.Z.labelPassword,childrenClassName:jG.Z.rowForm,children:(0,u.jsx)(PG,{component:NF.Z,isWithoutSpaceInput:!0})})]})})]}),(0,u.jsx)("div",{className:jG.Z.footer,children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:kG,onClick:this.handleSaveClick,disabled:e})})]})}}function RG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function EG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RG(Object(r),!0).forEach((function(t){DG(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}NG.defaultProps={invalid:!1,formValue:{}},NG.propTypes={onSubmit:c().func.isRequired,formValue:c().object,invalid:c().bool};var AG="ManagerAddForm",MG=(0,gG.q9)(["login","password"]);const IG=(0,o.compose)((0,Fe.Z)({form:AG,validate:MG}),(0,s.$j)((e=>({formValue:(0,qe.Z)(AG)(e)})),(e=>({createManager:(t,r)=>e((0,bG.createManager)(t,r)),destroyForm:()=>e((0,Qr.ob)(AG))})),((e,t,r)=>{var i=e=>{r.closeForm(),t.destroyForm(),r.openEditForm(e.id)};return EG(EG(EG(EG({},e),t),r),{},{onSubmit:e=>{var r={login:e.login.trim(),password:e.password.trim()};t.createManager(r,i)}})})))(NG),ZG=()=>(0,u.jsxs)("div",{className:jG.Z.titleAva,children:[(0,u.jsx)(et.ZP,{glyph:et.KP,className:jG.Z.avatar}),(0,u.jsx)(J.Z,{id:"ManagerForm.Add",defaultMessage:[{type:0,value:"Добавление менеджера"}]})]});var qG=r(17632),FG=r(20995),LG=r(94368),HG=r(56180),_G=r(71132),BG=r.n(_G),GG=e=>{var{defaultOpen:t,autoClose:r,onOpen:i,onClose:s,children:n,open:a,toggleOnContentClick:o}=e,l=(0,m.useRef)(null),[c,d]=(0,m.useState)(t),p=()=>{d(!1),s&&s()},h=()=>{c?p():(d(!0),i&&i())},f=e=>{!BG().byMatcher(e.target,(e=>e===l.current))&&l.current&&r&&p()};(0,m.useEffect)((()=>(r&&document.body.addEventListener("click",f,!1),()=>{r&&document.body.removeEventListener("click",f,!1)})),[r]);var v=void 0===a?c:c||a;return(0,u.jsxs)("div",{className:me()("collapse",{"collapse--open":v,"collapse--closed":!v}),ref:l,children:[(0,u.jsx)("div",{className:"collapse__panel",onClick:h,children:n[0]}),(0,u.jsx)(HG.Collapse,{isOpened:v,children:(0,u.jsx)("div",{className:"collapse__content",onClick:()=>{o&&h()},children:v&&n.slice(1)})})]})};GG.defaultProps={open:null,autoClose:!1,onOpen:null,onClose:null,defaultOpen:!1,toggleOnContentClick:null},GG.propTypes={autoClose:c().bool,onOpen:c().func,onClose:c().func,defaultOpen:c().bool,children:c().node.isRequired,open:c().func,toggleOnContentClick:c().func};const WG=GG;class UG extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"renderGroup",((e,t)=>(0,u.jsx)("div",{style:{marginLeft:"30px"},children:(0,u.jsxs)(WG,{open:this.hasActiveChild(e),autoClose:!1,children:[(0,u.jsxs)("div",{"data-open":this.hasActiveChild(e),children:["checkbox"===this.props.type?(0,u.jsx)(Mg.Z,{type:"checkbox",id:e.id,value:e.id,name:"group",checked:!(!this.props.value||!this.props.value.some((t=>t.id===e.id))),onChange:t=>{this.handleCheck({id:t.target.id,type:e.group?"group":"queue"})}}):(0,u.jsx)(UR,{className:"mr",type:"radio",name:"group",value:e.id,defaultChecked:this.state.values.some((t=>t.id===e.id||t.id===this.props.queues.id)),onChange:e=>{this.props.onChange(e)}}),(0,u.jsx)("span",{className:me()({"company-structure__group-name":e.group&&!!e.children.length},{"company-structure__group-name_theme_radio":e.group&&!!e.children.length&&"checkbox"!==this.props.type},{"company-structure__no-group-name":!e.group||e.group&&!e.children.length}),children:e.name})]}),(0,u.jsx)("div",{children:e&&e.group&&e.children&&e.children.length>0&&this.filterQueues(e.children).map(((e,t)=>this.renderGroup(e,t)))})]})},t))),this.state={values:[]}}handleCheck(e){var t=this.recursiveFind(this.props.queues,e.id),r=this.getAllChildren(t),i=this.state.values.some((t=>t.id===e.id)),s=this.toggleValue([e,...r],i);this.setState({values:s},(()=>this.props.onChange(s)))}getAllChildren(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&e.children?e.children&&e.children.reduce(((e,t)=>(t&&t.children&&this.getAllChildren(t,e),e.push({id:t.id,type:t.group?"group":"queue"}),e)),t):t}toggleValue(e,t){return e.reduce((r=>{var i=r.some((t=>t.id===e.id));return t?r=r.filter((t=>t.id!==e.id)):i||r.push(e),r}),[...this.state.values])}recursiveFind(e,t){return e.id===t?e:e&&e.children&&(e.children.forEach((e=>{var i=this.recursiveFind(e,t);i&&(r=i)})),r)?r:void 0;var r}filterQueues(e){return this.props.showQueues?e:e.filter((e=>e.group))}hasActiveChild(e){return!(!e||!e.children)&&(!!this.state.values.some((t=>t.id===e.id))||e.children.some((e=>this.hasActiveChild(e))))}render(){var{queues:e,queuesGroups:t,onlyGroups:r}=this.props;return(0,u.jsxs)("div",{children:[!r&&(0,u.jsx)("div",{className:"permission-groups__select",children:e&&this.renderGroup(e)}),r&&(0,u.jsx)("div",{className:"permission-groups__select",children:t&&this.renderGroup(t)})]})}}UG.defaultProps={queues:{},type:"",showQueues:!1,value:"",onlyGroups:!1,queuesGroups:null},UG.propTypes={onChange:c().func.isRequired,queues:c().object,type:c().string,showQueues:c().bool,value:c().string,queuesGroups:c().object,onlyGroups:c().bool};const VG=UG,zG=(0,tE.ZP)((()=>({container:{position:"fixed",left:"40%",top:"40%",backgroundColor:"white",padding:"20px"}}))),YG=(0,o.compose)((0,s.$j)((e=>({queues:(0,B.T1)(e),queuesGroups:e.settings.permissionGroups,groupId:(0,Y.Wx)(e)})),{fetchSkills:dy.fetchSkills}),(0,U.Z)((e=>{var{props:t}=e;t.queues&&t.queues.length||t.fetchSkills(t)})),zG)(VG);var QG=r(5617),KG=r(93231),XG=r(323),JG=r(30117),$G=r(94769),eW=r(74225),tW=r(94719),rW=r(30663),iW=r(41486),sW=r(5624),nW=r(29698);class aW extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{keyField:t,onChange:r}=this.props;r({key:t,value:e})}))}render(){var{value:e,label:t,disabled:r}=this.props;return(0,u.jsxs)("div",{className:"kQJWInROgTnYoKd98jZC6g==",children:[(0,u.jsx)("span",{className:"_0gpgVzcjRFbJuQTkIbmz-Q==",children:t}),(0,u.jsx)(Rs.XZ,{onChange:this.handleChange,checked:e,disabled:r})]})}}aW.defaultProps={disabled:!1,label:null},aW.propTypes={value:c().bool.isRequired,onChange:c().func.isRequired,keyField:c().string.isRequired,disabled:c().bool,label:c().oneOfType([c().string,c().node])};const oW=aW;var lW=r(66071);var cW=(0,u.jsx)(J.Z,{id:"Biometrics.register",defaultMessage:[{type:0,value:"Регистратор"}]}),dW=(0,u.jsx)(J.Z,{id:"Biometrics.manager",defaultMessage:[{type:0,value:"Менеджер"}]});class uW extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getFormattedRole",(e=>"Manager"===e?dW:"Register"===e?cW:""))}render(){var{role:e}=this.props;return(0,u.jsx)("div",{children:this.getFormattedRole(e)})}}uW.propTypes={role:c().string.isRequired};const pW=uW;var hW="Register",fW="None",mW="Manager",vW={id:"Biometrics.register",defaultMessage:"Регистратор"},yW={id:"Biometrics.manager",defaultMessage:"Менеджер"},gW={id:"Biometrics.notSet",defaultMessage:"Не задана"},bW=e=>{var t=e(gW),r=e(vW),i=e(yW);return[{value:fW,label:t},{value:hW,label:r},{value:mW,label:i}]},jW=r(85027);function xW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function SW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xW(Object(r),!0).forEach((function(t){OW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class PW extends m.Component{constructor(){super(...arguments),OW(this,"getValidatedRole",(e=>{var{userId:t}=this.props;return t&&e!==hW&&e!==mW?fW:e})),OW(this,"handleChange",(e=>{var{key:t,value:r}=e,{input:{onChange:i,value:s}}=this.props,n={[t]:r};i(SW(SW({},s),n))})),OW(this,"handleClearBiometry",(()=>{var{clearEmployeeBiometrics:e,userId:t}=this.props;e(t)}))}render(){var{input:{value:e},hidden:t,onRowClick:r,openedForm:i,formMeta:s}=this.props;if(t)return null;var{deviceUserId:n,faceData:a,cardId:o,password:l,globalManager:c,role:d,numberFingers:p}=e,h=this.getValidatedRole(d);return(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(rW.Z,{labelClassName:"vh8grjAdKk+7fwaIW9qgnw==",label:jW.Vf,title:!0,children:(0,u.jsx)(Ae.Z,{onClick:this.handleClearBiometry,className:"oyz3D5Yt4NagNrpc4NI1Dw==",children:(0,u.jsx)(J.Z,{id:"Biometrics.clear",defaultMessage:[{type:0,value:"Очистить биометрию"}]})})}),(0,u.jsx)(rW.Z,{label:jW.f4,disabled:!0,children:n||""}),(0,u.jsx)(rW.Z,{label:jW.XY,disabled:!0,children:p||0}),(0,u.jsx)(rW.Z,{childrenClassName:"r0M5dgf5SXtzCzNYZxrgyg==",label:jW.mz,disabled:!a,children:(0,u.jsx)(et.ZP,{glyph:et.LR})}),(0,u.jsx)(rW.Z,{label:jW.Bh,disabled:!0,children:o}),(0,u.jsx)(rW.Z,{label:jW.fq,onRowClick:r,openedForm:i,rowKey:"biometryPassword",formMeta:s,children:(0,u.jsx)(lW.Z,{value:l,disabled:!0})}),(0,u.jsx)(rW.Z,{childrenClassName:"+Zr3iGtaOZfGf97lv-E3Ig==",label:jW.UR,onRowClick:r,openedForm:i,rowKey:"globalManager",formMeta:s,children:(0,u.jsx)(oW,{value:c,keyField:"globalManager",onChange:this.handleChange,formMeta:s,disabled:!0})}),(0,u.jsx)(rW.Z,{label:jW.dL,onRowClick:r,openedForm:i,formMeta:s,rowKey:"role",children:(0,u.jsx)(pW,{role:h})})]})}}PW.defaultProps={input:null,openedForm:"",onRowClick:null,hidden:!1,formMeta:null,userId:""},PW.propTypes={input:c().object,userId:c().string,openedForm:c().string,onRowClick:c().func,hidden:c().bool,formMeta:c().object,clearEmployeeBiometrics:c().func.isRequired};const wW=PW;var CW=r(33766);var kW=r(12828);function TW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function NW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TW(Object(r),!0).forEach((function(t){RW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EW=e=>{var{intl:t,handleSubmit:r,invalid:i,managerFormValues:s,options:n,updateManager:a}=e,{pristine:o}=n,[l,c]=(0,m.useState)(!1);return(0,u.jsxs)("div",{className:"l5O7ATZ0B8yoXYUAy+XqVA==",children:[(0,u.jsx)(_e.Z,{component:"input",type:"text",name:"telephonyId",placeholder:t.formatMessage(kW.eM)}),(0,u.jsx)("div",{className:"bdlL2hGcNJWmzmXzlKmpHQ==",children:(0,u.jsx)(oi.Z,{onClick:()=>{c(!0),o&&r()},disabled:i,className:"usp3D1IHwWMeBvPCsVCSMA==",children:(0,u.jsxs)("div",{className:"kHRjocEbweo3ia0F1OwCGw==",children:[(0,u.jsx)(et.ZP,{glyph:et.BN,classCustom:"OcXyS4WVDbh1pT0C50Dn-g=="}),(0,u.jsx)("div",{className:"nZlCIdpRNOa3irkLEgW+jQ==",children:iW.$w})]})})}),(0,u.jsx)(wn.Z,{message:j_,fullMessage:iW.r0,onSubmit:()=>{var e,t,i=NW(NW({},s),{},{login:null===(e=s.login)||void 0===e?void 0:e.trim(),address:null===(t=s.address)||void 0===t?void 0:t.trim()});if(!o)if(s.firingDate!==QG.o5){var n=(0,ft.Yd)(s.firingDate,ft._E),l=(0,ft.CK)(n,ft._T);a(NW(NW({},i),{},{firingDate:l}),r)}else a(i,r)},open:l&&!o,close:()=>{c(!1)},onCancel:r,buttonClassName:"hZE-scSrfE-kPVE71TX4eg==",submitButtonMessage:iW.Rb,cancelButtonMessage:iW.EI})]})};EW.defaultProps={invalid:!1,options:{},updateManager:O.wA},EW.propTypes={handleSubmit:c().func.isRequired,updateManager:c().func,managerFormValues:c().object.isRequired,invalid:c().bool,options:c().shape({pristine:c().bool}),intl:P.gm.isRequired};const DW=EW;var AW=["managerFormValues","user","currentManagerValues"];function MW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MW(Object(r),!0).forEach((function(t){ZW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{MANAGER_FORM:qW}=x.FORM_NAMES,FW={scheduleSchemeId:"required",telephonyId:"required",personnelNumber:"required"};const LW=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:(0,CW.Z)(qW)(e,"id"),user:(0,C.ts)(e),currentManagerValues:(0,B.kq)(e),managerFormValues:(0,qe.Z)(qW)(e)||{}})),{appointRoleToOperator:bG.appointRoleToOperator,fetchManagers:bG.fetchManagers,reset:Qr.mc,editManager:bG.editManager,blockManager:bG.blockManager,unblockManager:bG.unblockManager},((e,t,r)=>{var i,s,{managerFormValues:n,user:a,currentManagerValues:o}=e,l=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,AW);return IW(IW(IW({},r),e),{},{updateManager:(e,i)=>{var s=(0,QG.lg)(e),n=s.blocked,l=n!==o.blocked;return t.editManager(s,(()=>{var e=s.id;i(),l?n?(r.closeEditForm(),t.blockManager(e)):(r.closeForm(),t.unblockManager(e)):r.closeEditForm(),e===a.id&&t.getMe()}))},initialValues:IW({},l),managerFormValues:n,onSubmit:(i=t.appointRoleToOperator,s=()=>{t.fetchManagers(),r.closeEditForm(),t.reset()},e=>{var{id:t,telephonyId:r}=e;i({id:t,telephonyId:r},s)})})})),(0,Fe.Z)({form:"ToOperator",validate:(e,t)=>(0,xO.ZP)({data:e,fields:FW,intl:t.intl}).errors}))(DW);function HW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _W extends m.PureComponent{constructor(){super(...arguments),HW(this,"state",{open:!1}),HW(this,"toggleVisible",(()=>{this.setState((e=>({open:!e.open})))}))}render(){var{open:e}=this.state,{display:t}=this.props;return t?(0,u.jsxs)("div",{className:"Mfu4Fqwm1cMri1b4z6CTGA==",children:[(0,u.jsx)("div",{className:"ZLIkypMxraIKc5nUZS71wg==",children:(0,u.jsx)(oi.Z,{onClick:this.toggleVisible,children:(0,u.jsx)(J.Z,{id:"ManagerToOperator.TurnToOperator",defaultMessage:[{type:0,value:"Сделать оператором"}]})})}),e&&(0,u.jsx)(LW,{closeEditForm:this.props.closeEditForm})]}):null}}_W.defaultProps={display:!1},_W.propTypes={closeEditForm:c().func.isRequired,display:c().bool};const BW=_W,GW="X2USaYaQhgS1KhxKgG5iBA==";var WW=r(73282);function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function VW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(r),!0).forEach((function(t){zW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YW=e=>{var t,{dirty:r,onSubmitConfirm:i,confirmOpened:n,onCloseConfirm:a,closeAdditionalDrawer:o,formValue:l,user:c,closeForm:d,biometricIsAvailable:p,managerToOperatorIsAvailable:h,onRowClick:f,openedForm:v,formMeta:y,clearBiometry:g,pristine:b,getPristine:S,updateManager:O}=e,[P,w]=(0,m.useState)(!0),C=(0,s.v9)((e=>(0,B.vH)(e,"isHidePersonalData")));(0,m.useEffect)((()=>{S(b)}),[b]);var k=()=>{var e,t,r=VW(VW({},l),{},{login:null===(e=l.login)||void 0===e?void 0:e.trim(),address:null===(t=l.address)||void 0===t?void 0:t.trim()});if(!b)if(l.firingDate!==QG.o5){var s=(0,ft.Yd)(l.firingDate,ft._E),n=(0,ft.CK)(s,ft._T);O(VW(VW({},r),{},{firingDate:n}))}else O(r);i()},T=!!(0,j.xb)(null==l?void 0:l.login);if((0,j.xb)(l))return(0,u.jsx)(Z.Z,{});var N=me()("mSfpPQyE3P8+qxkXlxOfBQ==","scroll"),R=(0,X.BC)(c,x.ZP.RIGHTS.OPERATORS,x.ZP.CRUD),E=h&&!(0,ye.oO)({firingDate:l.firingDate}),D=P?"password":"text";return(0,u.jsxs)("div",{className:"F0wdLNBLw9KtJ2XNYwhdcg==",children:[(0,u.jsxs)("div",{className:N,children:[(0,u.jsxs)(IM.Z,{children:[(0,u.jsxs)("tr",{className:GW,children:[(0,u.jsx)("td",{children:jW._d}),(0,u.jsx)("td",{})]}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.fullNameRow,label:eW.i,rowKey:"namePeriod",openedForm:v,onRowClick:f,formMeta:y,children:(0,u.jsx)(_e.Z,{component:tW.Z,name:"namePeriod"})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.xl,rowKey:"login",formMeta:y,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{component:BA.I,type:"text",name:"login"})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.LT,rowKey:"externalUserIds",openedForm:v,onRowClick:f,formMeta:y,children:(0,u.jsx)(_e.Z,{component:nW.Z,type:"text",name:"externalUserIds"})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.yy,rowKey:"password",formMeta:y,children:(0,u.jsxs)("div",{className:sW.Z.inputPassword,onClick:o,children:[(0,u.jsx)(_e.Z,{component:NF.Z,isWithoutSpaceInput:!0,type:D,name:"password"}),(0,u.jsx)(Ae.Z,{className:sW.Z.iconEye,onClick:()=>w(!P),children:(0,He.kO)(P)})]})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.cn,rowKey:"positionPeriod",openedForm:v,onRowClick:f,formMeta:y,children:(0,u.jsx)(_e.Z,{component:$G.Z,name:"positionPeriod.name"})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW._J,rowKey:"groupPeriod",openedForm:v,onRowClick:f,formMeta:y,children:(0,u.jsx)(_e.Z,{component:$G.Z,name:"groupPeriod.name"})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.WI,rowKey:"zonePeriod",openedForm:v,onRowClick:f,formMeta:y,children:(0,u.jsx)(_e.Z,{component:$G.Z,name:"zonePeriod.zone"})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.xS,rowKey:"officePeriod",openedForm:v,onRowClick:f,formMeta:y,lineClassName:"W48KAT8ZKbeUgJHDxHJu3Q==",children:(0,u.jsx)(_e.Z,{component:$G.Z,name:"officePeriod.name"})}),(0,u.jsxs)("tr",{className:GW,children:[(0,u.jsx)("td",{children:jW.tl}),(0,u.jsx)("td",{})]}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.rN,rowKey:"address",formMeta:y,hidden:C,children:(0,u.jsx)("div",{title:null===(t=l.address)||void 0===t?void 0:t.trim(),onClick:o,children:(0,u.jsx)(_e.Z,{component:BA.I,type:"text",name:"address"})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.aj,rowKey:"phoneNumber",formMeta:y,hidden:C,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{component:Cr.Z,type:"text",name:"phoneNumber",hintText:"+x(xxx)xxx-xx-xx"})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.iY,rowKey:"email",formMeta:y,hidden:C,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{component:He.fM,type:"text",name:"email",hintText:"example@domain.com",isShowErrorWithoutTouched:!0})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:KH,rowKey:"dateOfBirth",formMeta:y,hidden:C,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{className:sW.Z.dateOfBirthInput,component:WW.Z,name:"dateOfBirth",buttonLabel:iW.Ao,buttonLabelClassName:sW.Z.buttonLabelClassName})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.sT,rowKey:"hiringDate",formMeta:y,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{className:sW.Z.dateClassName,component:KG.Z,name:"hiringDate"})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.js,rowKey:"firingDate",formMeta:y,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{component:XG.Z,className:sW.Z.dateClassName,name:"firingDate",mainFormValues:l,buttonLabel:x_})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,childrenClassName:sW.Z.inputCell,label:jW.qb,rowKey:"notificationChannels",formMeta:y,children:(0,u.jsx)("div",{onClick:o,children:(0,u.jsx)(_e.Z,{component:JG.Z,name:"notificationChannels",type:"text"})})}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,label:jW.AO,rowKey:"blocked",formMeta:y,children:(0,u.jsx)(_e.Z,{name:"blocked",component:wr.XZ,hidden:!R})}),(0,u.jsxs)(rW.Z,{labelClassName:sW.Z.itemText,rowKey:"rights",label:jW._h,childrenClassName:sW.Z.rightsSettingsLabelWrap,onRowClick:f,openedForm:v,formMeta:y,children:[(0,u.jsx)(et.ZP,{glyph:et.zG}),iW.eJ]}),(0,u.jsx)(rW.Z,{labelClassName:sW.Z.itemText,rowKey:"managerToOperator",openedForm:v,onRowClick:f,hidden:!E,formMeta:y,children:jW.u9})]}),(0,u.jsx)(_e.Z,{component:wW,name:"biometry",userId:l.id,onRowClick:f,openedForm:v,hidden:!p,formMeta:y,clearEmployeeBiometrics:g})]}),(0,u.jsxs)("div",{className:"kpPAuQgRIRGxh9MH+2PNLw==",children:[(0,u.jsx)(Ge.Z,{type:"stripped",onClick:k,caption:iW._8,disabled:T}),(0,u.jsx)(BW,{closeEditForm:d})]}),(0,u.jsx)(wn.Z,{message:iW.uv,fullMessage:iW.r0,onSubmit:()=>{k(),i()},open:n&&r,close:a,buttonClassName:sW.Z.button,submitButtonMessage:iW.Rb,cancelButtonMessage:iW.EI})]})};YW.propTypes=_()(VW(VW({},Bt.ZP),{},{user:ge.Z.isRequired,formValue:c().object.isRequired,onRowClick:c().func.isRequired,openedForm:c().string.isRequired,closeForm:c().func.isRequired,managerToOperatorIsAvailable:c().bool.isRequired,biometricIsAvailable:c().bool.isRequired,formMeta:c().object.isRequired,clearBiometry:c().func.isRequired}));const QW=YW;function KW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function XW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KW(Object(r),!0).forEach((function(t){JW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{MANAGER_FORM:$W}=x.FORM_NAMES;const eU=(0,o.compose)((0,s.$j)((e=>({user:(0,C.ts)(e),formValue:(0,qe.Z)($W)(e)||{},formMeta:(0,LG.Z)($W)(e),managerToOperatorIsAvailable:(0,B.vH)(e,"isConvertToManagerAvailable"),biometricIsAvailable:(0,B.vH)(e,"isBiometricsAvailable"),initialValues:(0,B.kq)(e)})),{fetchPositions:AF.fetchPositions,fetchPermissionGroups:_i.fetchPermissionGroups,change:Qr.m,showManagers:bG.showManagers,fetchManager:bG.fetchManager,initialize:Qr.j2,clearEmployeeBiometrics:dy.clearEmployeeBiometrics,editManager:bG.editManager,blockManager:bG.blockManager,unblockManager:bG.unblockManager,getMe:N.getMe},((e,t,r)=>XW(XW(XW(XW({},e),t),r),{},{changeValue:(e,r)=>t.change($W,e,r),setShowManagers:e=>t.showManagers(e),permissionGroupRadio:e=>(0,u.jsx)(YG,XW(XW({},e),{},{type:"radio"})),initializeManagerForm:e=>{t.fetchManager(e,(e=>{t.initialize($W,e)}))},closeAdditionalDrawer:()=>{r.closeAdditionalDrawer()},closeForm:()=>{r.closeForm(),r.employeeId===e.user.id&&t.getMe()},clearBiometry:()=>{var{biometry:r}=e.formValue,i=XW(XW({},r),{},{numberFingers:0,faceData:!1});t.clearEmployeeBiometrics(e.formValue.id,(()=>{t.change($W,"biometry",i)}))},updateManager:i=>{var s=(0,QG.lg)(i),n=s.blocked,a=n!==e.initialValues.blocked;return t.editManager(s,(()=>{var i=s.id;a?n?(r.closeForm(),t.blockManager(i)):(r.closeForm(),t.unblockManager(i)):r.closeForm(),i===e.user.id&&t.getMe()}))}}))),v.ZP,(0,Fe.Z)({form:$W,validate:He.Lk,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e;t.initializeManagerForm(t.employeeId),t.fetchPositions(),t.fetchPermissionGroups()})),kO(x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD),(0,Ci.c)(["fetchPositions","fetchPermissionGroups","fetchManager","changeValue","clearEmployeeBiometrics","initializeManagerForm","setShowManagers","permissionGroupRadio","intl","employeeId","showManagers","_reduxForm"]))(QW);var tU=e=>{var{employeeId:t}=e;return(0,u.jsxs)("div",{className:"-z3Lw5zcCqMzvKUf+hi2mw==",children:[(0,u.jsx)(Zr.q,{userId:t}),(0,u.jsx)(J.Z,{id:"ManagerForm.editFormTitle",defaultMessage:[{type:0,value:"Редактирование данных менеджера"}]})]})};tU.defaultProps={employeeId:null},tU.propTypes={employeeId:P.K5};const rU=tU;class iU extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{keyField:t,onChange:r}=this.props;r({key:t,value:e})}))}render(){var{value:e,intl:{formatMessage:t}}=this.props;return(0,u.jsx)(yj.Z,{value:e,onChange:this.handleChange,dataSource:bW(t),dataSourceConfig:{text:"label",value:"value"}})}}iU.propTypes={value:c().string.isRequired,onChange:c().func.isRequired,intl:c().shape({formatMessage:c().func.isRequired}).isRequired,keyField:c().string.isRequired};const sU=(0,v.ZP)(iU);function nU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class aU extends m.Component{constructor(){super(...arguments),nU(this,"getValidatedRole",(e=>{var{userId:t}=this.props;return t&&e!==hW&&e!==mW?fW:e})),nU(this,"handleChange",(e=>{var{value:t}=e,{input:{onChange:r}}=this.props;r(t)}))}render(){var{input:{value:e}}=this.props,t=this.getValidatedRole(e);return(0,u.jsx)(sU,{value:t,keyField:"role",onChange:this.handleChange})}}aU.propTypes={input:c().shape({value:c().string,onChange:c().func}).isRequired,userId:c().string.isRequired};const oU=aU;var lU=r(75839),cU=r(26970);var dU={EMPLOYEE:(0,u.jsx)(J.Z,{id:"WorkActivityLevels.employee",defaultMessage:[{type:0,value:"Сотрудник"}]}),MANAGER:(0,u.jsx)(J.Z,{id:"WorkActivityLevels.manager",defaultMessage:[{type:0,value:"Менеджер"}]}),GENERAL:(0,u.jsx)(J.Z,{id:"WorkActivityLevels.common",defaultMessage:[{type:0,value:"Общий"}]}),PLANNER:(0,u.jsx)(J.Z,{id:"WorkActivityLevels.scheduler",defaultMessage:[{type:0,value:"Планировщик"}]})},uU=e=>{var{availableWorkActivityLevels:t,checkedValues:r,onChange:i}=e;return(0,u.jsx)("div",{className:"Yeb1PAP0SZPDbGq6OT9Wyg==",children:(0,u.jsx)(Be.$B,{children:(0,u.jsx)("div",{className:"KQ4Bax1TtC5JZB6M6t2oHw==",children:t.map((e=>(0,u.jsx)(Rs.XZ,{label:dU[e]||"",checked:r.includes(e),onChange:t=>{i(t?[...r,e]:r.filter((t=>t!==e)))}},e)))})})})};uU.propTypes={availableWorkActivityLevels:c().arrayOf(c().string).isRequired,checkedValues:c().arrayOf(c().string).isRequired,onChange:c().func.isRequired};const pU=uU;var hU=e=>e.common.workActivityLevels,fU=r(93043),mU=e=>{var{checkedValues:t,onChange:r}=e,i=(0,s.I0)(),{data:n,status:a}=(0,s.v9)(hU);return(0,m.useEffect)((()=>(i((0,fU.fetchWorkActivityLevels)()),()=>{i((0,fU.resetWorkActivityLevels)())})),[i]),a===Oa.Z.loading?(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"Common.Loading",defaultMessage:[{type:0,value:"Загрузка..."}]})}):(0,u.jsx)(pU,{availableWorkActivityLevels:n,checkedValues:t,onChange:r})};mU.propTypes={checkedValues:c().arrayOf(c().string).isRequired,onChange:c().func.isRequired};const vU=mU;var yU="control",gU="schedule",bU="reporting",jU="controlPoints",xU=(e,t)=>{var r=t.isScheduleControlAvailable.value,i=t.isBiometricsAvailable.value,s=t.isScheduleExchangeAvailable.value,n=t.isKdoExportAvailable.value,a=(e=>{var t=e===x.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS,r=e===x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS;return t||r})(e),o=(e=>e===x.ZP.RIGHTS.BIOMETRICS)(e),l=(e=>e===x.ZP.RIGHTS.SWAP_SCHEDULE)(e);return a?r:o?i:l?s:!(e=>e===x.ZP.RIGHTS.KDO_SCHEDULE_PUBLISH||e===x.ZP.RIGHTS.KDO_STATUS_CONTAINERS)(e)||n},SU=(0,u.jsx)(J.Z,{id:"ManagerForm.None",defaultMessage:[{type:0,value:"Без прав"}]}),OU=(0,u.jsx)(J.Z,{id:"ManagerForm.Read",defaultMessage:[{type:0,value:"Только чтение"}]}),PU=(0,u.jsx)(J.Z,{id:"ManagerForm.Crud",defaultMessage:[{type:0,value:"Полные права"}]}),wU=e=>{var t,{currentValue:r,rights:i,onChange:s,label:n,visible:a,shouldDisableButton:o}=e;return a?(0,u.jsxs)("div",{className:"GI8GUc0fTHsourBzT+HKRw==",children:[(0,u.jsx)("div",{children:n}),(0,u.jsx)(Zb.E,{classContainer:"V995z0zjc0NSJWg2NHXsGA==",options:[{value:x.ZP.NONE,label:SU},{value:x.ZP.READ,label:OU},{value:x.ZP.CRUD,label:PU}],onChange:e=>{var t=i&&i.length&&(0,X.xn)(i,"resource")||[];t[r]={resource:r,action:e};var n=(0,X.Lb)(t),a=n&&n.length&&n.filter((e=>e.action!==x.ZP.NONE));s(a)},selectedValue:(t=i&&i.length&&(0,X.xn)(i,"resource"),t[r]?t[r].action:x.ZP.NONE),shouldDisableButton:o})]}):null};wU.defaultProps={rights:[],visible:!0},wU.propTypes={currentValue:c().string.isRequired,label:c().oneOfType([c().node,c().string]).isRequired,onChange:c().func.isRequired,rights:c().array,visible:c().bool,shouldDisableButton:c().func.isRequired};const CU=wU;var kU=e=>{var{rightGroupName:t,onExpand:r,expanded:i,items:s,title:n,frontendSettings:a,onChange:o,value:l,content:c,hidden:d}=e,p=()=>{r(t)},h=s.some((e=>xU(e.value,a)));return d||!h?null:(0,u.jsx)("div",{className:me()("sFsnYpVpEVKa0zIJL+SUGw==",{"_0jDJ2qaDpB-z8Q9WWiwypg==":!i}),children:(0,u.jsxs)($v,{expanded:i,onChange:p,children:[(0,u.jsx)(ry,{children:(0,u.jsxs)("div",{className:"r23wR+fgXaJ3aG3rhQVa2g==",children:[(0,u.jsx)("span",{className:"mr",children:(0,u.jsx)(nh.Z,{open:i,onClick:p})}),(0,u.jsx)(Ae.Z,{onClick:p,active:i,children:n})]})}),(0,u.jsx)(sy,{expanded:i,children:(0,u.jsxs)("div",{className:"PneuifZSIY5bIWWrDxr79g==",children:[s.map((e=>(0,u.jsx)(CU,{currentValue:e.value,label:e.label,onChange:o,rights:l,visible:xU(e.value,a),shouldDisableButton:t=>((e,t)=>{var{disabledButtons:r}=e;return!(0,j.xb)(r)&&r.includes(t)})(e,t)},e.value))),c&&(0,u.jsx)("div",{children:c})]})})]})})};kU.defaultProps={expanded:!1,items:[],value:[],content:"",hidden:!1},kU.propTypes={rightGroupName:c().string.isRequired,onExpand:c().func.isRequired,expanded:c().bool,items:c().array,title:c().node.isRequired,content:c().oneOfType([c().string,c().node]),frontendSettings:c().object.isRequired,onChange:c().func.isRequired,value:c().oneOfType([c().string,c().array]),hidden:c().bool};const TU=kU;function NU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function RU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NU(Object(r),!0).forEach((function(t){EU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DU=e=>{var{rights:t,frontendSettings:r,onSubmit:i}=e,s=r.isScheduleControlAvailable.value,n=r.isBiometricsAvailable.value,{input:{value:a,onChange:o}}=t,l={control:!1,schedule:!1,reporting:!1,controlPoints:!1},c={control:!0,schedule:!0,reporting:!0,controlPoints:!0},[d,p]=(0,m.useState)(l),h=Object.values(d).every((e=>!0===e)),f=e=>{p(RU(RU({},d),{},{[e]:!d[e]}))},v=h?jW.ub:jW.mO,y=(0,u.jsxs)("div",{className:"MBwNCZ7lbX-dT90mdXyuTA==",children:[(0,u.jsx)("div",{className:"Bixd3sERshUZBWZGoBeFIA==",children:jW.T_}),(0,u.jsx)(vU,{onChange:e.workActivityLevels.input.onChange,checkedValues:e.workActivityLevels.input.value})]});return(0,u.jsxs)("div",{children:[(0,u.jsx)(Ae.Z,{onClick:()=>{p(h?l:c)},className:"_6UX-IxbpzVWYBDJQGP-+4Q==",children:v}),(0,u.jsxs)("div",{className:me()("xaplbOJCg3nV7JW9maF-GQ==","scroll"),children:[(0,u.jsx)(TU,{onChange:o,value:a,items:jW.Wh,title:jW.WC,expanded:d[yU],onExpand:f,frontendSettings:r,rightGroupName:yU}),(0,u.jsx)(TU,{onChange:o,value:a,items:jW.HD,title:jW.Sh,expanded:d[gU],onExpand:f,frontendSettings:r,rightGroupName:gU,content:y}),(0,u.jsx)(TU,{onChange:o,value:a,items:jW.lA,title:jW.Ad,expanded:d[bU],onExpand:f,frontendSettings:r,rightGroupName:bU}),(0,u.jsx)(TU,{hidden:!s&&!n,onChange:o,value:a,items:jW.nH,title:jW.oL,expanded:d[jU],onExpand:f,frontendSettings:r,rightGroupName:jU})]}),(0,u.jsx)("div",{className:"aH-6jp2X2wsdq51aX5647g==",children:(0,u.jsx)(Ae.Z,{onClick:i,children:(0,u.jsxs)("div",{className:"OVBteIhlLtChdSd3CXt4RQ==",children:[(0,u.jsx)(et.ZP,{glyph:et.BN,classCustom:"_9t9+t7UrStmnzsyMAL90Wg=="}),(0,u.jsx)("div",{className:"Kzp6oFyDeflpIPAu6stnKA==",children:iW.$w})]})})})]})};DU.propTypes=RU(RU({},Bt.J1),{},{frontendSettings:c().object.isRequired,onSubmit:c().func.isRequired});const AU=DU;function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MU(Object(r),!0).forEach((function(t){ZU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qU=e=>{var{frontendSettings:t,handleSubmit:r,fieldName:i}=e;return(0,u.jsx)(cU.Z,{names:[i,"workActivityLevels"],component:AU,onSubmit:r,frontendSettings:t})};qU.propTypes=IU(IU({},Bt.ZP),{},{frontendSettings:c().object.isRequired});const FU=qU;function LU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function HU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LU(Object(r),!0).forEach((function(t){_U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _U(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{RIGHTS_SETTINGS:BU,MANAGER_FORM:GU}=x.FORM_NAMES;const WU=(0,o.compose)((0,s.$j)((e=>({frontendSettings:(0,B.e0)(e),mainFormValues:(0,qe.Z)(GU)(e)||{}})),(e=>({updateManager:t=>{e((0,bG.editManager)(t))},changeForm:(t,r)=>{e((0,Qr.m)(GU,r,t)),e((0,Qr.Fq)(GU,r))}})),((e,t,r)=>{var{fieldName:i}=r,{changeForm:s}=t,{mainFormValues:n}=e,a=n[i],o=n.workActivityLevels;return HU(HU(HU(HU({},e),t),r),{},{onSubmit:e=>{s(e[i],i),s(e.workActivityLevels,"workActivityLevels");var r=HU(HU({},n),e);t.updateManager(r)},initialValues:{[i]:(0,j.xb)(a)?[{resource:x.ZP.RIGHTS.SCHEDULE,action:x.ZP.READ}]:a,workActivityLevels:o}})})),(0,Fe.Z)({form:BU,enableReinitialize:!0}))(FU);var UU=r(41641),VU=r(42132),zU=r(13074);function YU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(r),!0).forEach((function(t){KU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XU=x.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,JU="groupPeriod",$U=(0,gG.v7)((0,gG.q9)(["groupId"]),(0,gG.Z6)());const eV=(0,o.compose)((0,s.$j)((e=>({currentManager:(0,B.kq)(e),permissionGroupsMap:(0,B.GJ)(e),history:(0,B.kx)(e),managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e)})),(e=>({addGroupValidityPeriod:(t,r,i)=>e((0,bG.addGroupValidityPeriod)(t,r,i)),fetchGroupHistory:t=>e((0,dy.fetchGroupHistory)(t)),updateParentFormValue:t=>{(0,lx.JY)(t)&&(e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,JU,t)),e((0,Qr.Fq)(x.FORM_NAMES.MANAGER_FORM,JU)))},reset:()=>e((0,Qr.mc)(XU))})),((e,t,r)=>{var i=(0,j.xb)(e.history)?jW.VY:jW.it;return QU(QU(QU({},e),r),{},{onSubmit:r=>{(0,QG.uT)(r);var i=QU(QU({},r),{},{name:e.permissionGroupsMap[r.groupId].name}),s=QU(QU({},e.managerFormValues),{},{groupPeriod:i});t.addGroupValidityPeriod(r,s,(()=>{t.fetchGroupHistory(r.userId),t.updateParentFormValue(i),t.reset()}))},initialValues:QU(QU({},i),{},{userId:e.currentManager.id})})})),(0,Fe.Z)({form:XU,validate:$U,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e,r=(0,j.xb)(t.history)?jW.VY:jW.it;t.initialize(QU(QU({},r),{},{userId:t.currentManager.id}))})))(zU.Z);var tV=(0,u.jsx)(J.Z,{id:"GroupHistory.AddingPeriodAndOrganizationStructurePoint",defaultMessage:[{type:0,value:"Добавление периода и точки привязки"}]}),rV=e=>{var{history:t,permissionGroupNodes:r}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eV,{title:tV,autoCompleteFieldNameKey:"groupId",autoCompleteComponent:VU.Z,mainFieldProps:{nodes:r}}),(0,u.jsx)(UU.Z,{history:t})]})};rV.propTypes={history:c().array.isRequired,permissionGroupNodes:c().array.isRequired};const iV=rV,sV=(0,o.compose)((0,s.$j)((e=>({managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e),history:(0,MF.Jq)(e),permissionGroupNodes:(0,B.Zi)(e)})),(e=>({updateParentFormValue:t=>e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,"userName",t)),fetchGroupHistory:t=>e((0,dy.fetchGroupHistory)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchGroupHistory(t.managerFormValues.id)})))(iV);function nV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function aV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(r),!0).forEach((function(t){oV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lV=x.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,cV="officePeriod",dV=(0,gG.v7)((0,gG.q9)(["officeId"]),(0,gG.Z6)());const uV=(0,o.compose)((0,s.$j)((e=>({currentManager:(0,B.kq)(e),officesMap:(0,B.it)(e),history:(0,B.Km)(e),managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e)})),(e=>({addOfficePeriod:(t,r,i)=>e((0,bG.addOfficePeriod)(t,r,i)),fetchOfficeHistory:t=>e((0,dy.fetchOfficeHistory)(t)),updateParentFormValue:t=>{(0,lx.JY)(t)&&(e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,cV,t)),e((0,Qr.Fq)(x.FORM_NAMES.MANAGER_FORM,cV)))},reset:()=>e((0,Qr.mc)(lV))})),((e,t,r)=>{var i=(0,j.xb)(e.history)?jW.VY:jW.it;return aV(aV(aV({},e),r),{},{onSubmit:r=>{(0,QG.uT)(r);var i=aV(aV({},r),{},{name:e.officesMap[r.officeId].name}),s=aV(aV({},e.managerFormValues),{},{officePeriod:i});t.addOfficePeriod(r,s,(()=>{t.fetchOfficeHistory(r.userId),t.updateParentFormValue(i),t.reset()}))},initialValues:aV(aV({},i),{},{userId:e.currentManager.id})})})),(0,Fe.Z)({form:lV,validate:dV,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e,r=(0,j.xb)(t.history)?jW.VY:jW.it;t.initialize(aV(aV({},r),{},{userId:t.currentManager.id}))})))(zU.Z);var pV=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingOffice",defaultMessage:[{type:0,value:"Добавление офиса"}]}),hV=e=>{var{history:t}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(uV,{title:pV,autoCompleteComponent:wr.GN,autoCompleteFieldNameKey:"officeId"}),(0,u.jsx)(UU.Z,{history:t})]})};hV.propTypes={history:c().array.isRequired};const fV=hV,mV=(0,o.compose)((0,s.$j)((e=>({managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e),history:(0,MF.GW)(e)})),(e=>({fetchOfficeHistory:t=>e((0,dy.fetchOfficeHistory)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchOfficeHistory(t.managerFormValues.id)})))(fV);var vV=r(94297);function yV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yV(Object(r),!0).forEach((function(t){bV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jV=x.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,xV="positionPeriod",SV=(0,gG.v7)((0,gG.q9)(["positionId"]),(0,gG.Z6)());const OV=(0,o.compose)((0,s.$j)((e=>({currentManager:(0,B.kq)(e),positionsMap:(0,B._1)(e),history:(0,B.O5)(e),managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e)})),(e=>({addPositionPeriod:(t,r,i)=>e((0,bG.addPositionPeriod)(t,r,i)),fetchPositionPeriodHistory:t=>e((0,dy.fetchPositionPeriodHistory)(t)),updateParentFormValue:t=>{(0,lx.JY)(t)&&(e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,xV,t)),e((0,Qr.Fq)(x.FORM_NAMES.MANAGER_FORM,xV)))},reset:()=>e((0,Qr.mc)(jV))})),((e,t,r)=>{var i=(0,j.xb)(e.history)?jW.VY:jW.it;return gV(gV(gV({},e),r),{},{onSubmit:r=>{(0,QG.uT)(r);var i=gV(gV({},r),{},{name:e.positionsMap[r.positionId].name}),s=gV(gV({},e.managerFormValues),{},{positionPeriod:i});t.addPositionPeriod(r,s,(()=>{t.fetchPositionPeriodHistory(r.userId),t.updateParentFormValue(i),t.reset()}))},initialValues:gV(gV({},i),{},{userId:e.currentManager.id})})})),(0,Fe.Z)({form:jV,validate:SV,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e,r=(0,j.xb)(t.history)?jW.VY:jW.it;t.initialize(gV(gV({},r),{},{userId:t.currentManager.id}))})))(zU.Z);var PV=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingPosition",defaultMessage:[{type:0,value:"Добавление должности"}]}),wV=e=>{var{history:t}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(OV,{title:PV,autoCompleteFieldNameKey:"positionId",autoCompleteComponent:vV.Z}),(0,u.jsx)(UU.Z,{history:t})]})};wV.propTypes={history:c().array.isRequired};const CV=wV,kV=(0,o.compose)((0,s.$j)((e=>({managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e),history:(0,MF.Hg)(e)})),(e=>({fetchPositionPeriodHistory:t=>e((0,dy.fetchPositionPeriodHistory)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchPositionPeriodHistory(t.managerFormValues.id)})))(CV);var TV=r(60988);function NV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function RV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NV(Object(r),!0).forEach((function(t){EV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DV=x.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,AV="zonePeriod",MV=(0,gG.v7)((0,gG.q9)(["zone"]),(0,gG.Z6)());const IV=(0,o.compose)((0,s.$j)((e=>({currentManager:(0,B.kq)(e),permissionGroupsMap:(0,B.GJ)(e),history:(0,B.y8)(e),managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e)})),(e=>({addZonePeriod:(t,r,i)=>e((0,bG.addZonePeriod)(t,r,i)),fetchZoneHistory:t=>e((0,dy.fetchZoneHistory)(t)),updateParentFormValue:t=>{(0,lx.JY)(t)&&(e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,AV,t)),e((0,Qr.Fq)(x.FORM_NAMES.MANAGER_FORM,AV)))},reset:()=>e((0,Qr.mc)(DV))})),((e,t,r)=>{var i=(0,j.xb)(e.history)?jW.VY:jW.it;return RV(RV(RV({},e),r),{},{autoCompleteFieldNameKey:"zone",onSubmit:r=>{(0,QG.uT)(r);var i=RV(RV({},e.managerFormValues),{},{zonePeriod:r});t.addZonePeriod(r,i,(()=>{t.fetchZoneHistory(r.userId),t.updateParentFormValue(r),t.reset()}))},initialValues:RV(RV({},i),{},{userId:e.currentManager.id})})})),(0,Fe.Z)({form:DV,validate:MV,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e,r=(0,j.xb)(t.history)?jW.VY:jW.it;t.initialize(RV(RV({},r),{},{userId:t.currentManager.id}))})))(zU.Z);var ZV=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingZone",defaultMessage:[{type:0,value:"Добавление часового пояса"}]}),qV=e=>{var{history:t}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(IV,{title:ZV,autoCompleteComponent:TV.Z}),(0,u.jsx)(UU.Z,{history:t,mainFieldKey:"zone"})]})};qV.propTypes={history:c().array.isRequired};const FV=qV,LV=(0,o.compose)((0,s.$j)((e=>({managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e),history:(0,MF.Mc)(e)})),(e=>({updateParentFormValue:t=>e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,"userName",t)),fetchZoneHistory:t=>e((0,dy.fetchZoneHistory)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchZoneHistory(t.managerFormValues.id)})))(FV);var HV=r(7066),_V=r(84804),BV=(J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,J.Z,(0,u.jsx)(J.Z,{id:"EmployeeForm.addingFullName",defaultMessage:[{type:0,value:"Добавление Ф.И.О."}]})),GV=(J.Z,{id:"EmployeeForm.firstName",defaultMessage:"Имя"}),WV={id:"EmployeeForm.lastName",defaultMessage:"Фамилия"},UV={id:"EmployeeForm.middleName",defaultMessage:"Отчество"};const VV="q4YGLeElSUp7mRpxx2-o1A==";var zV=r(19262);function YV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(r),!0).forEach((function(t){KV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XV=e=>{var{intl:{formatMessage:t},invalid:r,handleSubmit:i,history:s}=e,n=(0,_V.t)("safari");return(0,u.jsxs)("div",{className:me()("I02DahA0F4+liEZvo0SKIw==",{"hCZUvkfvipoMWwtzMAjqBA==":n}),children:[(0,u.jsx)("h1",{children:BV}),(0,u.jsx)(_e.Z,{component:zV.Z,name:"startDate",disabled:(0,j.xb)(s)}),(0,u.jsx)("div",{className:VV,children:(0,u.jsx)(_e.Z,{component:"input",name:"lastName",type:"text",placeholder:t(WV)})}),(0,u.jsx)("div",{className:VV,children:(0,u.jsx)(_e.Z,{component:"input",name:"firstName",type:"text",placeholder:t(GV)})}),(0,u.jsx)("div",{className:VV,children:(0,u.jsx)(_e.Z,{component:"input",name:"middleName",type:"text",placeholder:t(UV)})}),(0,u.jsx)(zU.H,{onClick:i,disabled:r})]})};XV.propTypes=QV(QV({},Bt.ZP.isRequired),{},{intl:P.gm.isRequired});const JV=XV;function $V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$V(Object(r),!0).forEach((function(t){tz(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rz=x.FORM_NAMES.VALIDITY_PERIOD_ADD_FORM,iz="namePeriod",sz=(0,gG.q9)(["firstName","lastName"]);const nz=(0,o.compose)((0,s.$j)((e=>({currentManager:(0,B.kq)(e),history:(0,B.Rd)(e),managerFormValues:(0,qe.Z)(x.FORM_NAMES.MANAGER_FORM)(e)})),(e=>({addFullName:(t,r,i)=>e((0,bG.addFullName)(t,r,i)),fetchFullNameHistory:t=>e((0,dy.fetchFullNameHistory)(t)),reset:()=>e((0,Qr.mc)(rz)),updateParentFormValue:t=>{(0,lx.JY)(t)&&(e((0,Qr.m)(x.FORM_NAMES.MANAGER_FORM,iz,t)),e((0,Qr.Fq)(x.FORM_NAMES.MANAGER_FORM,iz)))}})),((e,t)=>{var{id:r}=e.currentManager,i=(0,j.xb)(e.history)?jW.VY:jW.it;return ez(ez({},e),{},{initialValues:ez(ez({},i),{},{userId:r}),onSubmit:i=>{i.endDate=i.endDate||jW.VY.endDate,i.startDate=i.startDate?(0,QG.Fd)(i.startDate):(0,ft.zO)(ft._E,!0),i.firstName=i.firstName.trim(),i.lastName=i.lastName.trim(),i.middleName=i.middleName?i.middleName.trim():"",i.userId=i.userId||r;var s=ez(ez({},e.managerFormValues),{},{namePeriod:i});t.addFullName(i,s,(()=>{t.fetchFullNameHistory(i.userId),t.updateParentFormValue(i),t.reset()}))}})})),(0,Fe.Z)({form:rz,enableReinitialize:!0,validate:sz}),v.ZP)(JV);var az=e=>{var{history:t}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(nz,{}),(0,u.jsx)(HV.Z,{history:t})]})};az.defaultProps={history:[]},az.propTypes={history:c().array};const oz=az,lz=(0,o.compose)((0,s.$j)((e=>({history:(0,MF.P4)(e),currentManager:(0,B.kq)(e)})),(e=>({fetchFullNameHistory:t=>e((0,dy.fetchFullNameHistory)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchFullNameHistory(t.currentManager.id)})))(oz);var cz=r(95032);function dz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function uz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dz(Object(r),!0).forEach((function(t){pz(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{MANAGER_FORM:hz}=x.FORM_NAMES;const fz=(0,o.compose)((0,s.$j)((e=>({mainFormValues:(0,qe.Z)(hz)(e)||{},userId:(0,C.rc)(e)})),(e=>({changeForm:(t,r)=>e((0,Qr.m)(hz,r,t)),updateManager:t=>e((0,bG.editManager)(t))})),((e,t,r)=>{var{fieldName:i}=r,{mainFormValues:s}=e,{changeForm:n}=t,a="biometry."+i,o=(0,j.xb)(s.biometry)?null:s.biometry[i];return uz(uz(uz(uz({},e),t),r),{},{onSubmit:e=>{var{biometryPassword:r}=e;if(r){var o={password:r};n(r,"biometry.password");var l=uz(uz({},s.biometry),o),c=uz(uz({},s),{},{biometry:l});t.updateManager(c)}else{n(e[i],a);var d=uz(uz({},s.biometry),e),u=uz(uz({},s),{},{biometry:d});t.updateManager(u)}},initialValues:{[i]:o}})})),(0,Fe.Z)({form:"SimpleEditingForm",enableReinitialize:!0}))(cz.Z);var mz={namePeriod:iW.P$,externalUserIds:iW.tl,password:iW.ZK,positionPeriod:iW.P5,groupPeriod:iW.Qe,zonePeriod:iW.qd,officePeriod:iW.nC,biometryPassword:iW.ZK,role:iW.op,managerToOperator:jW.Ip,rights:iW.eJ},vz=e=>(0,j.xb)(e)?iW.eA:mz[e];function yz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gz extends m.Component{constructor(e){super(e),yz(this,"handleCloseDrawers",(()=>{var{closeForm:e}=this.props;this.setState({openedForm:"emptyForm"}),e()})),yz(this,"closeEditForm",(()=>{var{isManagerDirtyForm:e}=this.props;e?this.setState({openConfirm:!0}):this.handleCloseDrawers()})),yz(this,"closeConfirm",(()=>{this.handleCloseDrawers(),this.setState({openConfirm:!1})})),yz(this,"handleRowClick",(e=>{this.setState({openedForm:e})})),yz(this,"closeAdditionalDrawer",(()=>{this.setState({openedForm:"emptyForm"})})),yz(this,"copyManager",(()=>{this.props.onCopyManager(),this.handleCloseDrawers()})),this.state={openedForm:"emptyForm",openConfirm:!1,pristine:!0}}render(){var{openedForm:e}=this.state,{employeeId:t,intl:r}=this.props,i=!(0,j.xb)(t),s=((e,t,r)=>{if(!(0,j.xb)(e)){var i=((e,t)=>({namePeriod:(0,u.jsx)(lz,{}),positionPeriod:(0,u.jsx)(kV,{}),groupPeriod:(0,u.jsx)(sV,{}),zonePeriod:(0,u.jsx)(LV,{}),officePeriod:(0,u.jsx)(mV,{}),externalUserIds:(0,u.jsx)(lU.Z,{isManagerForm:!0}),rights:(0,u.jsx)(WU,{fieldName:"rights"}),biometryPassword:(0,u.jsx)(fz,{fieldName:"biometryPassword",type:"password"}),globalManager:(0,u.jsx)(fz,{fieldName:"globalManager",label:jW.UR,component:fP.Z}),role:(0,u.jsx)(fz,{fieldName:"role",component:oU}),managerToOperator:(0,u.jsx)(LW,{closeEditForm:e,options:t})}))(t,r);return i[e]}return null})(e,this.handleCloseDrawers,{pristine:this.state.pristine});return(0,u.jsx)(yk.Z,{open:i,handleBackArrow:this.closeEditForm,title:(0,u.jsx)(rU,{employeeId:t}),asideTitle:vz(e),asideContent:s,asideOpen:Boolean(s),asideWidth:550,headerContent:(()=>(0,u.jsx)("div",{className:FG.Z.iconCopy,children:(0,u.jsx)(Ae.Z,{onClick:this.copyManager,hint:r.formatMessage({id:"ManagerForm.copyCard",defaultMessage:[{type:0,value:"Копировать карточку"}]}),children:(0,u.jsx)(et.ZP,{glyph:et.TI,style:{width:16,height:16}})})}))(),children:(0,u.jsx)(eU,{employeeId:t,onRowClick:this.handleRowClick,closeForm:this.closeEditForm,closeAdditionalDrawer:this.closeAdditionalDrawer,openedForm:e,onSubmitConfirm:this.handleCloseDrawers,getPristine:e=>{this.setState({pristine:e})},confirmOpened:this.state.openConfirm,onCloseConfirm:this.closeConfirm})})}}gz.defaultProps={employeeId:null,isManagerDirtyForm:!1,onCopyManager:O.wA},gz.propTypes={employeeId:c().string,isManagerDirtyForm:c().bool,closeForm:c().func.isRequired,onCopyManager:c().func,intl:P.gm.isRequired};const bz=(0,v.ZP)(gz);var jz=e=>{var{closeForm:t,employeeId:r,openEditForm:i}=e,n=(0,s.I0)(),a=(0,s.v9)((0,qG.Z)($W));return(0,u.jsx)(bz,{onCopyManager:()=>{n((0,bG.copyManager)({id:r},(e=>{i(null,{id:e}),n((0,bG.fetchManagers)())})))},closeForm:t,employeeId:r,isManagerDirtyForm:a})};jz.defaultProps={employeeId:"",openEditForm:O.wA},jz.propTypes={employeeId:c().string,closeForm:c().func.isRequired,openEditForm:c().func};const xz=jz,Sz=function(){return(0,u.jsx)("div",{children:(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"Managers.managersSettings",defaultMessage:[{type:0,value:"Настройка менеджеров"}]})})})};var Oz={id:"DisplaySettingsForm.displaySetting",defaultMessage:"Настройка отображения"},Pz={id:"EmployeeForm.Add",defaultMessage:"Добавление сотрудника"},wz={id:"EmployeeForm.multipleEdit",defaultMessage:"Массовое редактирование сотрудников"},Cz=(0,u.jsx)(J.Z,{id:"Employee.Skills",defaultMessage:[{type:0,value:"Навыки"}]}),kz=(0,u.jsx)(J.Z,{id:"Employee.importVacation",defaultMessage:[{type:0,value:"Отпуска"}]}),Tz=(0,u.jsx)(J.Z,{id:"Employee.changesPreferences",defaultMessage:[{type:0,value:"Смены предпочтений"}]}),Nz=(0,u.jsx)(J.Z,{id:"Employee.Employee",defaultMessage:[{type:0,value:"Сотрудника"}]}),Rz=(0,u.jsx)(et.ZP,{glyph:et.Qh}),Ez=me()("container","uZ-5piUl7KxfiRub3PjkWg=="),Dz=e=>{var{openDisplaySettings:t,addButtonLabel:r,onAddClick:i,onShowFired:s,isShowFiredManagers:n,numberOfManagers:a,totalNumberOfManagers:o,cleanAllFilters:l,filters:c}=e,d=(0,er.Z)(),p=!(0,jo.E7)(c),h=d.formatMessage({id:"Managers.cleanAllFilters",defaultMessage:[{type:0,value:"Показывать уволенных"}]});return(0,u.jsxs)("div",{className:Ez,children:[(0,u.jsx)("div",{className:"+sH+CDwKrBUEIGiy39-U1g==",children:(0,u.jsx)(Ae.Z,{onClick:t,hint:d.formatMessage(Oz),children:(0,u.jsx)(et.ZP,{glyph:et.Zr})})}),(0,u.jsx)("div",{title:d.formatMessage(E_),className:"_9dQ5JB7AwF3s7juaPJJ6oQ==",children:(0,u.jsx)(Ge.Z,{type:"transparent",caption:r,onClick:i,icon:Rz})}),(0,u.jsx)("div",{className:"FOiyBg+G10Ggh9fOa1pjFg==",children:(0,u.jsx)(Mg.Z,{onChange:s,label:b_,checked:n})}),(0,u.jsx)("div",{className:KS,children:(0,u.jsx)(JS,{label:h,cleanAllFilters:l,filters:c,filterIsSet:p,numberOfItems:a,totalNumberOfItems:o})})]})};Dz.defaultProps={addButtonLabel:""},Dz.propTypes={openDisplaySettings:c().func.isRequired,onAddClick:c().func.isRequired,onShowFired:c().func.isRequired,cleanAllFilters:c().func.isRequired,addButtonLabel:c().string,numberOfManagers:c().number.isRequired,filters:c().object.isRequired,totalNumberOfManagers:c().number.isRequired,isShowFiredManagers:c().bool.isRequired};const Az=Dz;var Mz=r(51622),Iz=r(79439);class Zz extends m.Component{render(){var{text:e,title:t}=this.props,r=me()(Iz.default.cell,Iz.default.simpleField);return(0,u.jsx)("div",{className:r,title:t,children:(0,u.jsx)("span",{className:Iz.default.cellValueStyle,children:e})})}}Zz.defaultProps={text:"",title:""},Zz.propTypes={text:c().oneOfType([c().number,c().string]),title:c().oneOfType([c().number,c().string])};const qz=Zz;var Fz=e=>{var{date:t}=e,r=(0,j.xb)(t)||t===x.ZP.END_OF_TIME?"":(0,ft.Yd)(t);return(0,u.jsx)(qz,{title:r,className:M_.Z.simpleField,text:r})};Fz.defaultProps={date:""},Fz.propTypes={date:c().string};const Lz=Fz;var Hz=(e,t)=>(0,j.xb)(e)||(0,j.xb)(e[0])?null:e[0][t],_z=e=>{var t,r,{allElementsArray:i,nameKey:s}=e,{arrayCellStyle:n}=Iz.default,a=(t=i,r=s,(0,j.xb)(t)||(0,j.xb)(t[0])?[]:t.map((e=>e[r]))),o=(0,j.xb)(a)?"":a.length,l=me()({[n]:!!o});return(0,u.jsxs)("div",{className:Iz.default.arrayCellContainer,title:a,children:[(0,u.jsx)("div",{className:Iz.default.cell,children:(0,u.jsx)("div",{className:Iz.default.cellValueStyle,children:Hz(i,s)})}),(0,u.jsx)("div",{className:l,children:o})]})};_z.defaultProps={allElementsArray:null,nameKey:"name"},_z.propTypes={allElementsArray:c().array,nameKey:c().string};const Bz=_z;var Gz=e=>{var t,r=(0,s.v9)(Y.Wx),{user:i,children:n,copyUser:a,classNames:o,isManager:l}=e,c=(0,s.I0)();return(0,u.jsx)(Ch,{user:i,isContextMenuDisabled:(0,ye.oO)(i),classNames:o,onMenuOpen:()=>{c((0,dy.setIsUserContextMenuOpen)(!0))},onMenuClose:()=>{c((0,dy.setIsUserContextMenuOpen)(!1))},items:(t=[],t.push({label:(0,u.jsx)(J.Z,{id:"ScheduleCopyForm.copy",defaultMessage:[{type:0,value:"Копировать"}]}),icon:(0,u.jsx)(et.ZP,{glyph:et.TI}),handler:()=>{c(a({id:i.id},(()=>{c(l?(0,bG.fetchManagers)():(0,dy.fetchEmployees)({id:r}))})))}}),t),children:n})};Gz.defaultProps={user:{},classNames:"",isManager:!1},Gz.propTypes={classNames:c().string,user:c().object,children:c().node.isRequired,copyUser:c().func.isRequired,isManager:c().bool};const Wz=Gz;function Uz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Vz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uz(Object(r),!0).forEach((function(t){zz(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yz=e=>{var{isFired:t,user:r,updateUser:i}=e,s=(0,er.Z)();if(!t)return null;var n=s.formatMessage({id:"Employee.restoreEmployee",defaultMessage:[{type:0,value:"Восстановить сотрудника"}]});return(0,u.jsx)(Ae.Z,{onClick:()=>{if((0,j.xb)(r.preferenceContainers))i(Vz(Vz({},r),{},{firingDate:x.ZP.END_OF_TIME}));else{var e=r.preferenceContainers.map((e=>{var{id:t}=e;return t}));i(Vz(Vz({},r),{},{preferenceContainers:e,firingDate:x.ZP.END_OF_TIME}))}},hint:n,children:(0,u.jsx)(et.ZP,{glyph:et.Du})})};Yz.defaultProps={isFired:!1,updateUser:O.wA},Yz.propTypes={isFired:c().bool,user:ge.Z.isRequired,updateUser:c().func};const Qz=Yz,Kz=(0,o.compose)((0,s.$j)(null,(e=>({updateUser:t=>e((0,bG.editManager)(t))}))))(Qz);function Xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Jz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xz(Object(r),!0).forEach((function(t){$z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eY=e=>{var{deleteManager:t,tableDisplaySettings:r,isShowFiredManagers:i}=e,s=Jz(Jz({},r),{},{empty:!0});return[new DO.Z({headerClassName:k_,label:s_,key:"namePeriod",hasTitle:!1,sortable:!0,filterable:!0,fixed:!0,sortFunc:A_,width:350,getValue:e=>(0,j.xb)(e.namePeriod)?null:(0,ye.Pp)(e.namePeriod).trim(),renderHeader:()=>(0,u.jsxs)("div",{className:P_,children:[(0,u.jsx)("div",{style:O_}),s_]}),renderCell:e=>{var r=(0,ye.oo)(e.namePeriod),s=(0,ye.Pp)(e.namePeriod),n=(0,ye.oO)(e),a=me()("SX-tcEUTbsflCLlZJCu7Jg==",{"aVzOMZThJtjmtKWPSDG+Lg==":!n&&i});return(0,u.jsx)(Wz,{user:e,copyUser:bG.copyManager,isManager:!0,children:(0,u.jsxs)("div",{className:"-HDKiez+zrh0jXJAoT1LhA==",children:[(0,u.jsx)("div",{className:"gG1+clDh24-TT8EvNRyP9g==",children:(0,u.jsx)(Kz,{isFired:(0,ye.oO)(e),user:e})}),(0,u.jsx)("span",{className:a,children:(0,u.jsx)(Mz.Z,{hidden:!0,currentId:e.id,deleteCb:t})}),(0,u.jsx)("div",{className:"dD+ON+RRgxCciOQ2xW5GOg==",children:(0,u.jsx)(Zr.q,{userId:e.id})}),(0,u.jsx)("div",{className:"JxfkWS6yL0bgZnjoto-akQ==",children:(0,u.jsx)(qz,{text:r,title:s})})]})})}}),new DO.Z({headerClassName:k_,key:"positionPeriod",sortable:!0,filterable:!0,hasTitle:!1,width:250,sortFunc:A_,label:a_,getValue:e=>(0,lx.Tq)(e.positionPeriod,"name"),renderCell:e=>{var t=(0,lx.Tq)(e.positionPeriod,"name");return(0,u.jsx)("div",{title:t,className:C_,children:(0,u.jsx)(qz,{text:t,title:t})})}}),new DO.Z({headerClassName:k_,key:"login",sortable:!0,width:180,hasTitle:!1,label:jW.xl,filterable:!0,sortFunc:A_,renderCell:e=>(0,u.jsx)("div",{title:e.login,className:C_,children:e.login})}),new DO.Z({headerClassName:k_,key:"externalUserIds",sortable:!0,width:192,hasTitle:!1,label:jW.LT,filterable:!0,sortFunc:A_,filterComponent:AO.Z,getValue:e=>{var{externalUserIds:t}=e;return t.map((e=>{var{externalUserId:t}=e;return(0,j.xb)(t)?"":t}))},renderCell:e=>(0,u.jsx)("div",{className:C_,children:(0,u.jsx)(Bz,{allElementsArray:e.externalUserIds,nameKey:"externalUserId"})})}),new DO.Z({headerClassName:k_,label:d_,key:"groupPeriod",width:230,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:A_,getValue:e=>(0,lx.Tq)(e.groupPeriod,"name"),renderCell:e=>{var t=(0,lx.Tq)(e.groupPeriod,"name");return(0,u.jsx)("div",{title:t,className:C_,children:(0,u.jsx)(qz,{text:t,title:t})})}}),new DO.Z({headerClassName:k_,label:p_,key:"zonePeriod",width:200,hasTitle:!1,sortable:!0,filterable:!0,sortFunc:A_,getValue:e=>(0,lx.Tq)(e.zonePeriod,"zone"),renderCell:e=>{var t=(0,lx.Tq)(e.zonePeriod,"zone");return(0,u.jsx)("div",{title:t,className:C_,children:t})}}),new DO.Z({headerClassName:k_,label:f_,key:"officePeriod",width:250,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:A_,getValue:e=>(0,lx.Tq)(e.officePeriod,"name"),renderCell:e=>{var t=(0,lx.Tq)(e.officePeriod,"name");return(0,u.jsx)("div",{title:t,className:C_,children:t})}}),new DO.Z({headerClassName:k_,label:QH,key:"address",width:350,hasTitle:!1,filterable:!0,sortable:!0,sortFunc:A_,getValue:e=>e.address||null,renderCell:e=>(0,u.jsx)("div",{title:e.address,className:C_,children:e.address})}),new DO.Z({headerClassName:k_,label:l_,key:"phoneNumber",width:250,hasTitle:!1,sortable:!0,filterable:!0,sortFunc:A_,getValue:e=>{var{phoneNumber:t}=e;return""===t?null:t},renderCell:e=>(0,u.jsx)("div",{title:e.phoneNumber,className:C_,children:e.phoneNumber})}),new DO.Z({headerClassName:k_,label:JH,key:"email",width:250,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:A_,getValue:e=>{var{email:t}=e;return""===t?null:t},renderCell:e=>(0,u.jsx)("div",{title:e.email,className:C_,children:e.email})}),new DO.Z({headerClassName:k_,label:KH,key:"dateOfBirth",width:183,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:A_,filterComponent:e=>(0,u.jsx)($O,Jz(Jz({},e),{},{filteredColumnKey:"dateOfBirth"})),renderCell:e=>(0,u.jsx)(Lz,{date:e.dateOfBirth})}),new DO.Z({headerClassName:k_,label:r_,key:"hiringDate",width:230,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft._T),getValue:e=>(0,ft.Vb)(e.hiringDate),renderCell:e=>(0,u.jsx)(Lz,{date:e.hiringDate})}),new DO.Z({headerClassName:k_,label:e_,key:"firingDate",width:200,sortable:!0,hasTitle:!1,filterable:!0,sortFunc:A_,filterComponent:$O,getValue:e=>{var{firingDate:t}=e;return t===x.ZP.END_OF_TIME?null:t},renderCell:e=>(0,u.jsx)(Lz,{date:e.firingDate})}),new DO.Z({key:"empty",label:"",width:0,autoSize:!0,renderCell:()=>(0,u.jsx)("span",{})})].filter((e=>s[e.key]))};const tY="ExMBEAgKFtQYSQroaPivPA==";var rY=(0,u.jsx)(J.Z,{id:"DisplaySettingsForm.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]}),iY={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},sY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.addWorkActivityFormTitle",defaultMessage:[{type:0,value:"Добавление активности WFM"}]}),nY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.editWorkActivityFormTitle",defaultMessage:[{type:0,value:"Редактирование активности WFM"}]}),aY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.autoChangeFormTitle",defaultMessage:[{type:0,value:"Настройка параметров автозамены"}]}),oY=(0,u.jsx)(J.Z,{id:"WorkActivity.addWorkActivityWFM",defaultMessage:[{type:0,value:"Добавить активность WFM"}]}),lY=(0,u.jsx)(J.Z,{id:"WorkActivity.autoChange",defaultMessage:[{type:0,value:"Автозамены"}]}),cY=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]}),dY={id:"Common.name",defaultMessage:"Название"},uY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.addingAutoChangeBunch",defaultMessage:[{type:0,value:"Добавление связки автозамены"}]}),pY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.editingAutoChangeBunch",defaultMessage:[{type:0,value:"Редактирование связки автозамены"}]}),hY=(0,u.jsx)(J.Z,{id:"Positions.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),fY={id:"Positions.externalId",defaultMessage:"ID внешней системы"},mY=(0,u.jsx)(J.Z,{id:"QueueForm.Color",defaultMessage:[{type:0,value:"Цвет"}]}),vY={id:"QueueForm.Color",defaultMessage:"Цвет"},yY=(J.Z,(0,u.jsx)(J.Z,{id:"DisplaySettings.employeeStatuses",defaultMessage:[{type:0,value:"Разрешенные статусы сотрудников"}]})),gY={id:"DisplaySettings.employeeStatuses",defaultMessage:"Разрешенные статусы сотрудников"},bY=(J.Z,(0,u.jsx)(J.Z,{id:"DisplaySettings.salaryActivity",defaultMessage:[{type:0,value:"Табельная активность"}]})),jY={id:"DisplaySettings.salaryActivity",defaultMessage:"Табельная активность"},xY=(0,u.jsx)(J.Z,{id:"Common.hourlyWage",defaultMessage:[{type:0,value:"Ставка (₽/час)"}]}),SY={id:"Common.hourlyWage",defaultMessage:"Ставка (₽/час)"},OY=(0,u.jsx)(J.Z,{id:"WorkActivityForm.acronymInput",defaultMessage:[{type:0,value:"Акроним"}]}),PY={id:"WorkActivityForm.acronymInput",defaultMessage:"Акроним"},wY=(0,u.jsx)(J.Z,{id:"WorkActivity.substitutions",defaultMessage:[{type:0,value:"Заменяющие активности"}]}),CY={id:"WorkActivity.substitutions",defaultMessage:"Заменяющие активности"},kY={width:32},TY="virtualized-table__header-cell",NY="nowrap-content custom-style-cell editable-table-cell cursor-pointer",RY=me()("virtualized-table__first-cell nowrap-content",tY);function EY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function DY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EY(Object(r),!0).forEach((function(t){AY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class MY extends m.Component{constructor(e){super(e),AY(this,"openDisplaySettings",(()=>{this.setState((e=>({displaySettingsOpened:!e.displaySettingsOpened})))})),AY(this,"clearAllFilters",(()=>{this.props.setManagerListFilter({})})),AY(this,"closeDisplaySettingsForm",(()=>{this.setState({displaySettingsOpened:!1})})),AY(this,"handleAdd",(()=>{this.setState((e=>({addFormOpened:!e.addFormOpened})))})),AY(this,"handleOpenDisplaySettings",(()=>{var{tableDisplaySettings:e,initializeDisplaySettingsForm:t}=this.props;t(DY(DY({},e),{avatar:!0,namePeriod:!0})),this.openDisplaySettings()})),AY(this,"handleCellClick",((e,t)=>{this.props.isUserContextMenuOpen||this.setState({currentUserId:t.id})})),AY(this,"handleRowHeight",(e=>{var{index:t}=e;return 0===t?32:50})),AY(this,"closeEditForm",(()=>{this.setState({currentUserId:null})})),AY(this,"closeAddForm",(()=>{this.setState({addFormOpened:!1})})),AY(this,"openEditFormAfterCreating",(e=>{this.props.resetForm(),this.setState({currentUserId:e})})),AY(this,"shouldDisableRow",(e=>(0,ye.oO)(e))),AY(this,"getScrollInfo",(e=>{var t=e.scrollWidth>e.clientWidth;this.props.setScrollOptions(t)})),this.state={displaySettingsOpened:!1,addFormOpened:!1,currentUserId:null}}render(){var{positions:e,deleteManager:t,changeShowFired:r,createManagerTableDisplaySettings:i,isShowFiredManagers:s,tableDisplaySettings:n,groups:a,offices:o,onSetFilter:l,totalNumberOfManagers:c,filteredManagerList:d,filter:p,hasScroll:h,intl:f}=this.props,{currentUserId:m,addFormOpened:v}=this.state,y={deleteManager:t,positions:e,groups:a,offices:o,tableDisplaySettings:n,isShowFiredManagers:s},g=d.length;return(0,u.jsxs)("div",{className:"_0W+VXnqznjZIogN1eyeDOg==",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(Sz,{})}),(0,u.jsx)(Az,{onAddClick:this.handleAdd,onShowFired:r,openDisplaySettings:this.handleOpenDisplaySettings,isShowFiredManagers:s,cleanAllFilters:this.clearAllFilters,filters:p,numberOfManagers:g,totalNumberOfManagers:c}),(0,u.jsx)("div",{className:"jrMVrEL5sdhuXuskB20PBg==",children:(0,u.jsx)(VP.ZP,{displaySettings:n,filters:p,setFilter:l,onScroll:this.getScrollInfo,rowHeight:this.handleRowHeight,data:d,columns:eY(y),ref:e=>this.table=e,headerStyle:S_,columnsAutoWidth:!0,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,leftSideBottomStyle:h?N_:T_,leftSideStyle:R_,onCellClick:this.handleCellClick,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",shouldDisableRow:this.shouldDisableRow,checkboxLabelClassName:"YKT8ybA7OB6jsfC8I3PcjA=="})}),(0,u.jsx)(yk.Z,{open:v,handleBackArrow:this.closeAddForm,width:605,title:(0,u.jsx)(ZG,{}),children:(0,u.jsx)(IG,{closeForm:this.closeAddForm,openEditForm:this.openEditFormAfterCreating})}),(0,u.jsx)(xz,{openEditForm:this.handleCellClick,employeeId:m,closeForm:this.closeEditForm}),(0,u.jsx)(yk.Z,{open:this.state.displaySettingsOpened,width:400,handleBackArrow:this.closeDisplaySettingsForm,onRequestChange:this.closeDisplaySettingsForm,title:rY,subtitle:pG,children:(0,u.jsx)(yG,{fields:D_(f),setTableDisplaySettings:i,close:this.closeDisplaySettingsForm})})]})}}MY.defaultProps={positions:[],offices:[],tableDisplaySettings:{},groups:{},isShowFiredManagers:!1,hasScroll:!1},MY.propTypes={positions:c().array,offices:c().array,changeShowFired:c().func.isRequired,createManagerTableDisplaySettings:c().func.isRequired,initializeDisplaySettingsForm:c().func.isRequired,resetForm:c().func.isRequired,deleteManager:c().func.isRequired,isShowFiredManagers:c().bool,hasScroll:c().bool,tableDisplaySettings:c().object,groups:c().object,totalNumberOfManagers:c().number.isRequired,onSetFilter:c().func.isRequired,filteredManagerList:c().array.isRequired,setScrollOptions:c().func.isRequired,filter:c().object.isRequired,setManagerListFilter:c().func.isRequired,isUserContextMenuOpen:c().bool.isRequired,intl:P.gm.isRequired};const IY=(0,v.ZP)(MY),ZY=(0,tE.ZP)((()=>({main:{backgroundColor:"#fff",marginTop:"20px",marginLeft:"20px",borderRadius:"5px",border:"1px solid #a1adb3",boxShadow:"0px 0px 15px 2px #cccccc",overflowX:"hidden",position:"relative",width:"calc(100vw - 300px)",maxWidth:"1420px",minWidth:"1000px"},leftPanel:{width:"40%",height:"100%",overflow:"hidden",float:"left",boxShadow:"0px 0px 15px 2px #cccccc",fontSize:"14px"},rightPanel:{width:"60%",float:"right",height:"100%",overflow:"scroll"},fields:{padding:"3% 0 3% 3%",boxShadow:"0px 0px 5px 1px #cccccc",height:"16%",minHeight:"15em",cursor:"pointer"},name:{fontSize:"14px",fontWeight:"500",display:"inline-block"},link:{color:"#09acf8",cursor:"pointer"},flex:{display:"flex"},buttons:{display:"inline-block",float:"right",paddingRight:"1em"},headerFields:{padding:"3% 0 3% 0"},paddings:{paddingBottom:"1%",fontWeight:"500"},closeButton:{float:"right",paddingTop:"1em",paddingRight:"1em"}})));function qY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function FY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qY(Object(r),!0).forEach((function(t){LY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HY="ManagerForm";const _Y=(0,o.compose)(v.ZP,(0,s.$j)((e=>({totalNumberOfManagers:(0,B.Cr)(e).length,currentManager:(0,B.kq)(e),isUserContextMenuOpen:(0,Lu.D1)(e),groups:e.settings.permissionGroupsMap,formValue:(0,qe.Z)(HY)(e)||{},offices:e.settings.offices,positions:(0,B.k8)(e),hasScroll:(0,B.qM)(e),managersShow:e.settings.managersShow,isShowFiredManagers:(0,B.Dj)(e),rights:e.user.rights||{},tableDisplaySettings:e.settings.managerTableDisplaySettings,filteredManagerList:(0,B.aI)(e),filter:(0,B.Xg)(e)})),(e=>({setShowManagers:t=>e((0,bG.showManagers)(t)),fetchManagers:()=>e((0,bG.fetchManagers)()),fetchManager:(t,r)=>e((0,bG.fetchManager)(t,r)),fetchOffices:()=>e((0,Wv.fetchOffices)()),setScrollOptions:t=>e((0,bG.setScrollOptions)(t)),fetchGroups:()=>e((0,_i.fetchPermissionGroups)()),fetchPositions:()=>e((0,AF.fetchPositions)()),fetchTableDisplaySettings:()=>e((0,bG.fetchTableDisplaySettings)()),deleteManager:t=>e((0,bG.deleteManager)(t)),changeShowFired:t=>e((0,bG.changeShowFired)(t)),createManagerTableDisplaySettings:t=>e((0,bG.createManagerTableDisplaySettings)(t)),initializeManagerForm:t=>{e((0,Qr.j2)(HY,t))},initializeDisplaySettingsForm:t=>{e((0,Qr.j2)(vG,t))},resetForm:()=>e((0,Qr.ob)(HY)),setManagerListFilter:t=>e((0,bG.setManagerListFilter)(t))})),((e,t,r)=>FY(FY(FY(FY({},e),r),t),{},{onSetFilter:t.setManagerListFilter}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchManagers(),t.fetchOffices(),t.fetchPositions(),t.fetchGroups(),t.fetchTableDisplaySettings()})),ZY)(IY);var BY=e=>{var{children:t}=e;return t};BY.propTypes={children:c().node.isRequired};const GY=BY;var WY=e=>{var{children:t,trigger:r}=e;return r&&(t.find((e=>e.props.value===r))||t.find((e=>e.type===GY)))||null};WY.defaultProps={trigger:""},WY.propTypes={trigger:c().string,children:c().arrayOf(c().object).isRequired};const UY=WY;var VY=e=>{var{trigger:t,value:r,children:i}=e;return t&&t!==r?null:i};VY.defaultProps={trigger:null},VY.propTypes={trigger:c().string,value:c().string.isRequired,children:c().node.isRequired};const zY=VY;function YY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YY(Object(r),!0).forEach((function(t){KY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class XY extends m.PureComponent{constructor(){super(...arguments),KY(this,"handleCheckboxChange",(e=>{var{name:t,onChange:r}=this.props;r({[t]:e})}))}render(){var e="managers"===this.props.switchNotifications;return(0,u.jsx)(Rs.XZ,QY(QY({},this.props),{},{onChange:this.handleCheckboxChange,disabled:e||this.props.disabled}))}}XY.defaultProps={switchNotifications:"employee"},XY.propTypes={name:c().string.isRequired,onChange:c().func.isRequired,switchNotifications:c().string,disabled:c().bool.isRequired};const JY=XY;var $Y=e=>e<=59?e:e%60,eQ=(e,t)=>((e,t)=>{var r=parseInt(t,10);return(e=>(parseInt(e,10),0===e?0:60*e))(e)+r})(e,t),tQ="secondNotification",rQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeForSendPushStart",defaultMessage:[{type:0,value:"Отправлять пуш-уведомления за"}]}),iQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeForSendPushBeforeActivity",defaultMessage:[{type:0,value:"до начала активности"}]}),sQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.messageText",defaultMessage:[{type:0,value:"Текст сообщения"}]});const nQ="eIo9AlvQahmaPV6X0WXyGQ==";function aQ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class oQ extends m.Component{constructor(e){super(e),aQ(this,"handleChangeTimePicker",((e,t)=>{var{flagStateSecond:r}=this.props,{repeatHours:i,repeatMinutes:s}=this.state,n=e.split(":"),a=parseInt(n[0],10),o=parseInt(n[1],10),l=eQ(a,o),c=eQ(i,s),d=0===l;r&&l<c&&!d||this.setState({hours:a,minutes:o},(()=>{var{onChangeTimePicker:e,timeKeyFirst:r}=this.props,{hours:i,minutes:s}=this.state;e(i,s,r),d&&this.onSecondCheckboxChange({[t]:!1})}))})),aQ(this,"handleChangeRepeatTimePicker",(e=>{var{hours:t,minutes:r}=this.state,i=e.split(":"),s=parseInt(i[0],10),n=parseInt(i[1],10),a=eQ(t,r);eQ(s,n)>a||this.setState({repeatHours:s,repeatMinutes:n},(()=>{this.props.onChangeTimePicker(this.state.repeatHours,this.state.repeatMinutes,this.props.timeKeySecond)}))})),aQ(this,"onSecondCheckboxChange",(e=>{var{onCheckboxChange:t,flagKeySecond:r}=this.props;t(e),e[r]||this.handleChangeRepeatTimePicker("00:00")})),this.state={hours:e.pushTimeHoursCalc(e.timeKeyFirst)||0,minutes:e.pushTimeMinutesCalc(e.timeKeyFirst)||0,repeatHours:e.pushTimeHoursCalc(e.timeKeySecond)||0,repeatMinutes:e.pushTimeMinutesCalc(e.timeKeySecond)||0}}render(){var{pushEnabled:e,sendPushMessageValue:t,flagKeyFirst:r,flagKeySecond:i,flagStateFirst:s,flagStateSecond:n,onCheckboxChange:a,onChangeMessage:o,message:l,repeatMessage:c,messageStateKey:d,repeatMessageStateKey:p}=this.props,{hours:h,minutes:f}=this.state,m=!s||!e,v=m||!n,y=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendPushNotifications",defaultMessage:[{type:0,value:"Отправлять пуш-уведомления"}]}),g=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendRepeatedPushNotifications",defaultMessage:[{type:0,value:"Отправлять повторное пуш-уведомление"}]});return(0,u.jsxs)("div",{className:"container-work-shifts__start-finish-work-shifts",children:[(0,u.jsxs)("div",{className:"start-finish-work-shift__send-push-notification",children:[(0,u.jsx)("div",{className:"start-finish-work-shift__checkbox",children:(0,u.jsx)(JY,{name:r,disabled:!e,checked:s,onChange:e=>{a(e),this.handleChangeRepeatTimePicker("00:00")},label:y})}),(0,u.jsx)("div",{className:"start-finish-work-shift__time-for-send-push",children:(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeForSendPushStart",defaultMessage:[{type:0,value:"Отправлять пуш-уведомления за"}]}),(0,u.jsx)(Cq,{disabled:m,value:{hours:this.state.hours,minutes:this.state.minutes},hasInfo:!0,onChange:e=>{this.handleChangeTimePicker(e,i)},allow24hours:!0}),t]})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"start-finish-work-shift__message-text",children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.messageText",defaultMessage:[{type:0,value:"Текст сообщения"}]})}),(0,u.jsx)("textarea",{placeholder:"...",disabled:m,className:me()("start-finish-work-shift__text-area",nQ),value:l,onChange:e=>{o(e.target.value,d)}})]})]}),(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"start-finish-work-shift__send-repeated-push-notification",children:[(0,u.jsx)("div",{className:"start-finish-work-shift__repeated-checkbox",children:(0,u.jsx)(JY,{name:i,disabled:m||0===h&&0===f,checked:n,onChange:this.onSecondCheckboxChange,label:g})}),(0,u.jsx)("div",{className:"start-finish-work-shift__time-for-send-push",children:(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendRepeatedPushNotificationsStart",defaultMessage:[{type:0,value:"Отправлять повторное пуш-уведомление за"}]}),(0,u.jsx)(Cq,{disabled:v,value:{hours:this.state.repeatHours,minutes:this.state.repeatMinutes},hasInfo:!0,onChange:this.handleChangeRepeatTimePicker,allow24hours:!0}),t]})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"start-finish-work-shift__message-text",children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.messageText",defaultMessage:[{type:0,value:"Текст сообщения"}]})}),(0,u.jsx)("textarea",{placeholder:"...",disabled:v,className:me()("start-finish-work-shift__repeat-text-area",nQ),value:c,onChange:e=>{o(e.target.value,p)}})]})]})})]})}}oQ.defaultProps={message:"",repeatMessage:""},oQ.propTypes={pushEnabled:c().bool.isRequired,flagStateFirst:c().bool.isRequired,flagStateSecond:c().bool.isRequired,sendPushMessageValue:c().object.isRequired,message:c().string,repeatMessage:c().string,timeKeyFirst:c().string.isRequired,timeKeySecond:c().string.isRequired,flagKeyFirst:c().string.isRequired,flagKeySecond:c().string.isRequired,repeatMessageStateKey:c().string.isRequired,messageStateKey:c().string.isRequired,pushTimeHoursCalc:c().func.isRequired,pushTimeMinutesCalc:c().func.isRequired,onChangeTimePicker:c().func.isRequired,onChangeMessage:c().func.isRequired,onCheckboxChange:c().func.isRequired};const lQ=oQ;var cQ="IS_NOTIFICATIONS_ABOUT_ACTIVITIES_ENABLED",dQ="MINUTES_BEFORE_FIRST_ACTIVITY_START_FIRST_NOTIFY",uQ="MINUTES_BEFORE_FIRST_ACTIVITY_START_SECOND_NOTIFY",pQ="MINUTES_BEFORE_LAST_ACTIVITY_END_FIRST_NOTIFY",hQ="MINUTES_BEFORE_LAST_ACTIVITY_END_SECOND_NOTIFY",fQ="IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY",mQ="IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY",vQ="IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY",yQ="IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY",gQ="CUSTOM_FIRST_ACTIVITY_START_FIRST_NOTIFICATION",bQ="CUSTOM_FIRST_ACTIVITY_START_SECOND_NOTIFICATION",jQ="CUSTOM_LAST_ACTIVITY_END_FIRST_NOTIFICATION",xQ="CUSTOM_LAST_ACTIVITY_END_SECOND_NOTIFICATION";function SQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function OQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SQ(Object(r),!0).forEach((function(t){PQ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PQ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wQ extends m.Component{render(){var{pushEnabled:e,globalSettings:t}=this.props,r=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeForSendPushBeforeStart",defaultMessage:[{type:0,value:"до начала рабочей смены"}]}),i=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeForSendPushBeforeEnd",defaultMessage:[{type:0,value:"до окончания рабочей смены"}]});return(0,u.jsx)("div",{className:"relations-constructor flex-container_vertical",children:(0,u.jsxs)("div",{className:"work-shifts__header",children:[(0,u.jsxs)("div",{className:"work-shifts__start",children:[(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.startWorkShift",defaultMessage:[{type:0,value:"Начало рабочей смены"}]})}),(0,u.jsx)(lQ,OQ({timeKeyFirst:dQ,timeKeySecond:uQ,flagKeyFirst:fQ,flagKeySecond:mQ,flagStateFirst:this.props.IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY,flagStateSecond:this.props.IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY,message:this.props.MESSAGE_FIRST_ACTIVITY_START_FIRST_NOTIFY,repeatMessage:this.props.MESSAGE_FIRST_ACTIVITY_START_SECOND_NOTIFY,messageStateKey:gQ,repeatMessageStateKey:bQ,startWorkShift:!0,globalSettings:t,sendPushMessageValue:r,pushEnabled:e},this.props))]}),(0,u.jsxs)("div",{className:"work-shifts__finish",children:[(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.endWorkShift",defaultMessage:[{type:0,value:"Окончание рабочей смены"}]})}),(0,u.jsx)(lQ,OQ({timeKeyFirst:pQ,timeKeySecond:hQ,flagKeyFirst:vQ,flagKeySecond:yQ,flagStateFirst:this.props.IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY,flagStateSecond:this.props.IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY,message:this.props.MESSAGE_LAST_ACTIVITY_END_FIRST_NOTIFY,repeatMessage:this.props.MESSAGE_LAST_ACTIVITY_END_SECOND_NOTIFY,messageStateKey:jQ,repeatMessageStateKey:xQ,endWorkShift:!0,globalSettings:t,sendPushMessageValue:i,pushEnabled:e},this.props))]})]})})}}wQ.propTypes={pushEnabled:c().bool.isRequired,IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY:c().bool.isRequired,IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY:c().bool.isRequired,IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY:c().bool.isRequired,IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY:c().bool.isRequired,MESSAGE_LAST_ACTIVITY_END_FIRST_NOTIFY:c().string.isRequired,MESSAGE_LAST_ACTIVITY_END_SECOND_NOTIFY:c().string.isRequired,MESSAGE_FIRST_ACTIVITY_START_FIRST_NOTIFY:c().string.isRequired,MESSAGE_FIRST_ACTIVITY_START_SECOND_NOTIFY:c().string.isRequired,flagStateSecond:c().bool.isRequired,globalSettings:c().object.isRequired};const CQ=wQ;var kQ=(0,u.jsx)(J.Z,{id:"AutoCompleteMultiSelect.selectAll"});const TQ="zh26UayuhWb9ts7jIYhT6w==";function NQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function RQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NQ(Object(r),!0).forEach((function(t){EQ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EQ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class DQ extends m.Component{constructor(e){super(e),EQ(this,"onUpdateSearch",(0,Yi.D)(1e3,!1,(e=>{var{dataSourceConfig:t}=this.props,r=this.props.dataSource.filter((r=>-1!==r[t.text].toLowerCase().indexOf(e.toLowerCase()))).sort(this.sortFunc);this.setState({filteredItems:r})}))),EQ(this,"apply",(()=>{this.setState({open:!1,searchText:""},(()=>{this.props.onChange(Object.keys(this.state.selectedItems).map((e=>this.state.selectedItems[e]))),this.forceUpdate()}))})),EQ(this,"onSearchTextChange",(e=>{this.setState({searchText:e.target.value}),this.onUpdateSearch(e.target.value)})),EQ(this,"getSelectedItemsDescription",(e=>Object.keys(e).map((t=>e[t][this.props.fieldName])).join(", "))),EQ(this,"allSelected",(()=>this.state.filteredItems.every((e=>!!this.state.selectedItems[e.id])))),EQ(this,"toggleSelectAll",(()=>{var{disableSelectedItems:e}=this.props;this.setState((t=>{var r=RQ({},t.selectedItems);if(this.allSelected())t.filteredItems.forEach((e=>{delete r[e.id]}));else if(e){var i=(0,O.eL)(this.props.selectedItems);t.filteredItems.filter((e=>!i[e.id])).forEach((e=>{r=RQ(RQ({},r),{},{[e.id]:RQ({},e)})}))}else t.filteredItems.forEach((e=>{r=RQ(RQ({},r),{},{[e.id]:RQ({},e)})}));return{selectedItems:r}}))})),EQ(this,"makeItemCheckboxHandler",(e=>t=>{var{dataSourceConfig:r}=this.props;this.setState((i=>{var s=RQ({},i.selectedItems);return t?s[e[r.value]]=e:delete s[e[r.value]],{selectedItems:s}}))})),EQ(this,"itemDisabled",(e=>{var{selectedItems:t,disableSelectedItems:r,dataSourceConfig:i}=this.props;return!(!r||!t||!t.some((t=>t[i.value]===e)))})),EQ(this,"open",(()=>{this.setState({open:!0})})),EQ(this,"getInputValue",(()=>{var{open:e,searchText:t,selectedItems:r}=this.state,i=this.getSelectedItemsDescription(r);return e||(0,j.xb)(i)&&!(0,j.xb)(t)?t:i})),EQ(this,"handleClear",(()=>{this.setState({selectedItems:{}})})),this.list=null,this.sortFunc=e.fieldName?(0,X.hM)(e.fieldName):X.r7;var{value:t,dataSourceConfig:r}=e,i=t?(0,X.xn)(t,r.value):{};this.state={selectedItems:i,searchText:"",open:!1,filteredItems:e.dataSource.sort(this.sortFunc)},this.rootRef=(0,m.createRef)(),this.inputRef=(0,m.createRef)(),e.getSelectedItemsDescription&&(this.getSelectedItemsDescription=e.getSelectedItemsDescription)}UNSAFE_componentWillReceiveProps(e){this.props.value===e.value||(0,j.xb)(e.value)||this.setState({selectedItems:e.value.reduce(((e,t)=>{var r;return e[t[null===(r=this.props.dataSourceConfig)||void 0===r?void 0:r.value]]=t,e}),{})}),e.dataSource!==this.props.dataSource&&this.setState({filteredItems:e.dataSource.sort(this.sortFunc)}),(0,j.xb)(e.value)&&this.setState({selectedItems:[]})}render(){var{listHeight:e,disabled:t=!1,withoutMargins:r,classContainer:i,labelAll:s,intl:n,dataSourceConfig:a,placeholder:o,classNameLabel:l}=this.props,c=o||n.formatMessage({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),d=r?{}:{margin:"14px 40px 0 0"},p=me()("auto-complete-multi-select","flex-container",{[i]:!!i}),h=this.state.open,f=h?"simple-popover":void 0;return(0,u.jsxs)("div",{className:p,ref:this.rootRef,style:d,children:[(0,u.jsxs)("div",{className:"flex-item_flexible icon",style:{position:"relative"},children:[(0,u.jsx)("input",{type:"text",ref:this.inputRef,placeholder:c,name:"auto-complete-search",value:this.getInputValue(),onChange:this.onSearchTextChange,style:{width:"100%",paddingRight:"25px"},disabled:t,autoComplete:"off",onClick:this.open}),(0,u.jsx)(nh.Z,{open:h,disabled:t,className:"cLGy7JMCOqNuBS9t4saTDQ==",onClick:this.open})]}),(0,u.jsxs)(Ns.ZP,{open:h,anchorEl:this.rootRef.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.apply,className:"+tNcmzj8a9OSaOpe1d5uCA==",onEscapeKeyDown:this.apply,disableEnforceFocus:!0,disableAutoFocus:!0,children:[(0,u.jsx)("div",{className:"p1y4TlE1N+fwnsyOtjtzYw==",children:(0,u.jsx)(Rs.XZ,{label:s,checked:this.allSelected(),onChange:this.toggleSelectAll,className:TQ})}),(0,u.jsxs)("div",{style:{width:this.rootRef.current?this.rootRef.current.offsetWidth:100,maxHeight:e,padding:"10px"},className:"scroll",children:[this.state.filteredItems.map((e=>{var t=a.secondaryText&&("string"==typeof a.secondaryText?e[a.secondaryText]:a.secondaryText(e)),r=e[a.secondaryValue],i=e[a.value],s=this.itemDisabled(i),n=(0,u.jsxs)("span",{children:[e[a.text],(0,u.jsx)("span",{className:"text-style_caption context-color_secondary ml",children:t})]}),o=this.state.selectedItems[e[a.value]],c=(0,j.xb)(o)?"":o[a.secondaryValue];return(0,u.jsx)("div",{children:(0,u.jsx)(Rs.XZ,{checked:s||c===r&&!!this.state.selectedItems[e[a.value]],onChange:this.makeItemCheckboxHandler(e),disabled:s,label:n,hint:e[a.text],className:TQ,classNameLabel:l})},"".concat(e[a.value]).concat(t))})),(0,u.jsx)("div",{children:(0,u.jsx)(Wx.Z,{count:Object.keys(this.state.selectedItems).length,clearFilter:this.handleClear,className:"Sj-M99W+sdDUk2AoW69IWw=="})})]})]},f)]})}}DQ.defaultProps={listHeight:300,classContainer:"",labelAll:kQ,fieldName:"name",dataSourceConfig:{text:"name",value:"id"},disabled:!1,disableSelectedItems:!1,selectedItems:[],withoutMargins:!1,getSelectedItemsDescription:null,placeholder:"",classNameLabel:""},DQ.propTypes={dataSource:c().array.isRequired,onChange:c().func.isRequired,getSelectedItemsDescription:c().func,value:c().any.isRequired,listHeight:c().number,dataSourceConfig:c().object,disabled:c().bool,disableSelectedItems:c().bool,selectedItems:c().array,withoutMargins:c().bool,classContainer:c().string,classNameLabel:c().string,labelAll:c().node,fieldName:c().string,intl:c().object.isRequired,placeholder:c().string};const AQ=(0,v.ZP)(DQ);var MQ=e=>{var t,{onChangePushNotifications:r,onChangeMinutes:i,onChangeNotificationMessage:s,minutesBeforeWorkActivityStart:n,pushNotifications:a,pushEnabled:o,label:l,disabledPushNotifications:c,name:d,notificationMessage:p}=e,h=d===tQ&&c;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"activity-settings__checkbox",children:(0,u.jsx)(Rs.XZ,{disabled:!o||h,checked:a,onChange:r,label:l})}),(0,u.jsx)("div",{className:"start-finish-work-shift__time-for-send-push",children:(0,u.jsxs)("div",{className:"flex-container",children:[rQ,(0,u.jsx)(Cq,{disabled:!o||!a||h,value:{hours:(t=n,(t<=59?0:parseInt(t/60,10))||0),minutes:$Y(n)||0},onChange:i,hasInfo:!0,allow24hours:!0}),iQ]})}),(0,u.jsx)("div",{className:"activity-settings__message-text",children:sQ}),(0,u.jsx)("textarea",{placeholder:"...",value:p,disabled:h||!a||!o,className:me()("tuo4FMC1xoFIsyJLXx7VHA==","activity-settings__text-area"),onChange:e=>s(e.target.value)})]})};MQ.defaultProps={disabledPushNotifications:!1,name:null},MQ.propTypes={onChangePushNotifications:c().func.isRequired,onChangeMinutes:c().func.isRequired,onChangeNotificationMessage:c().func.isRequired,minutesBeforeWorkActivityStart:c().number.isRequired,pushNotifications:c().bool.isRequired,pushEnabled:c().bool.isRequired,label:c().string.isRequired,disabledPushNotifications:c().bool,notificationMessage:c().string.isRequired,name:c().string};const IQ=MQ;function ZQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function qQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZQ(Object(r),!0).forEach((function(t){FQ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FQ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class LQ extends m.Component{constructor(e){super(e),FQ(this,"handleChangeMinutesBeforeWorkActivityStart",(e=>{var{minutesBeforeWorkActivityStartSecond:t}=this.state.notifySettings,{notifySettings:{sendPushNotificationsSecond:r}}=this.state,i=e.split(":"),s=parseInt(i[0],10),n=parseInt(i[1],10),a=eQ(s,n),o=0===a;r&&a<t&&!o||this.setState((e=>qQ(qQ({},e),{},{notifySettings:qQ(qQ({},e.notifySettings),{},{minutesBeforeWorkActivityStart:a,sendPushNotificationsSecond:0!==a&&e.notifySettings.sendPushNotificationsSecond,minutesBeforeWorkActivityStartSecond:0===a?0:e.notifySettings.minutesBeforeWorkActivityStartSecond})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r),o&&this.handleChangePushNotificationsSecond()}))})),FQ(this,"handleChangeMinutesBeforeWorkActivityStartSecond",(e=>{var{minutesBeforeWorkActivityStart:t}=this.state.notifySettings,r=e.split(":"),i=parseInt(r[0],10),s=parseInt(r[1],10),n=eQ(i,s);n>t||this.setState((e=>qQ(qQ({},e),{},{notifySettings:qQ(qQ({},e.notifySettings),{},{minutesBeforeWorkActivityStartSecond:n})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r)}))})),FQ(this,"handleChangePushNotifications",(e=>{this.setState((t=>qQ(qQ({},t),{},{notifySettings:qQ(qQ({},t.notifySettings),{},{sendPushNotifications:e,sendPushNotificationsSecond:!0===e&&t.notifySettings.sendPushNotificationsSecond,minutesBeforeWorkActivityStartSecond:0})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r)}))})),FQ(this,"handleChangePushNotificationsSecond",(e=>{e||this.handleChangeMinutesBeforeWorkActivityStartSecond("00:00"),this.setState((t=>qQ(qQ({},t),{},{notifySettings:qQ(qQ({},t.notifySettings),{},{sendPushNotificationsSecond:e})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r)}))})),FQ(this,"handleChangeNotificationMessage",(e=>{this.setState((t=>qQ(qQ({},t),{},{notifySettings:qQ(qQ({},t.notifySettings),{},{notificationMessage:e})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r)}))})),FQ(this,"handleChangeNotificationMessageSecond",(e=>{this.setState((t=>qQ(qQ({},t),{},{notifySettings:qQ(qQ({},t.notifySettings),{},{notificationMessageSecond:e})})),(()=>{var{onChange:e,activityId:t}=this.props,{notifySettings:r}=this.state;e(t,r)}))})),this.state={notifySettings:e.notifySettings}}render(){var{activityColor:e,activityName:t,pushEnabled:r}=this.props,{minutesBeforeWorkActivityStart:i,minutesBeforeWorkActivityStartSecond:s,notificationMessage:n,notificationMessageSecond:a,sendPushNotifications:o,sendPushNotificationsSecond:l}=this.state.notifySettings,c=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendPushNotifications",defaultMessage:[{type:0,value:"Отправлять пуш-уведомления"}]}),d=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendRepeatedPushNotifications",defaultMessage:[{type:0,value:"Отправлять повторное пуш-уведомление"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"start-finish-work-shift__send-push-notification",children:[(0,u.jsx)("div",{className:"activity-settings__activity-name",children:(0,u.jsxs)("span",{children:[(0,u.jsx)(vd.Z,{color:e,className:"material-icons",style:{fontSize:"16px",verticalAlign:"text-top",marginRight:"4px"}}),t]})}),(0,u.jsx)(IQ,{onChangePushNotifications:this.handleChangePushNotifications,onChangeMinutes:this.handleChangeMinutesBeforeWorkActivityStart,onChangeNotificationMessage:this.handleChangeNotificationMessage,pushEnabled:r,pushNotifications:o,minutesBeforeWorkActivityStart:i,notificationMessage:n,label:c,name:"firstNotification"})]}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:(0,u.jsx)(IQ,{onChangePushNotifications:this.handleChangePushNotificationsSecond,onChangeMinutes:this.handleChangeMinutesBeforeWorkActivityStartSecond,onChangeNotificationMessage:this.handleChangeNotificationMessageSecond,pushEnabled:r,pushNotifications:l,minutesBeforeWorkActivityStart:s,notificationMessage:a,label:d,disabledPushNotifications:!o||0===i,name:tQ})})]})}}LQ.defaultProps={notifySettings:{minutesBeforeWorkActivityStart:0,minutesBeforeWorkActivityStartSecond:0,notificationMessage:"",notificationMessageSecond:"",sendPushNotifications:!1,sendPushNotificationsSecond:0}},LQ.propTypes={activityColor:c().string.isRequired,activityName:c().string.isRequired,activityId:c().string.isRequired,onChange:c().func.isRequired,pushEnabled:c().bool.isRequired,notifySettings:c().object};const HQ=LQ;var _Q=e=>{var{filteredWorkActivitiesList:t,pushEnabled:r,onChange:i}=e;return(0,u.jsx)(u.Fragment,{children:t.map((e=>(0,u.jsx)(HQ,{onChange:(e,t)=>{i({key:e,value:t})},activityId:e.id,activityColor:e.color,activityName:e.name,pushEnabled:r,notifySettings:e.notifySettings},e.id)))})};_Q.propTypes={filteredWorkActivitiesList:c().array.isRequired,onChange:c().func.isRequired,pushEnabled:c().bool.isRequired};const BQ=_Q;var GQ=e=>e.settings.pushNotifications,WQ=e=>e.settings.switchNotifications,UQ=e=>e.settings.switchWorkShiftsActivities,VQ=e=>e.settings.workActivitiesInNotifications,zQ=r(43454);var YQ=e=>{var{workActivities:t,onChange:r,pushEnabled:i}=e,n=(0,s.I0)(),a=(0,s.v9)(VQ);(0,m.useEffect)((()=>()=>n((0,zQ.clearAllWorkActivities)())),[n]);var o=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.searchInActivitiesWFM",defaultMessage:[{type:0,value:"Поиск по активностям WFM"}]}),l=0===a.length?t:a;return(0,u.jsxs)("div",{className:"activity-settings",children:[(0,u.jsx)("h1",{className:"activity-settings__header",children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.activitiesButton",defaultMessage:[{type:0,value:"Активности"}]})}),(0,u.jsx)("div",{className:"activity-settings__search-activities",children:(0,u.jsx)(AQ,{styleProps:"5px 0 0 0",dataSource:t,value:a,inputPlaceholder:o,onChange:e=>n((0,zQ.setWorkActivitiesInNotifications)(e)),classNameLabel:"hvecyEQkUOdWa88TN4nGDQ=="})}),(0,u.jsx)("div",{className:"activity-settings__activity-item",children:(0,u.jsx)(BQ,{onChange:r,filteredWorkActivitiesList:l,pushEnabled:i})})]})};YQ.propTypes={workActivities:c().array.isRequired,onChange:c().func.isRequired,pushEnabled:c().bool.isRequired};const QQ=YQ;var KQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.employeesButton",defaultMessage:[{type:0,value:"Сотрудники"}]}),XQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.managersButton",defaultMessage:[{type:0,value:"Менеджеры"}]}),JQ=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.header",defaultMessage:[{type:0,value:"Настройка пуш-уведомлений"}]}),$Q=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.enablePushNotifications",defaultMessage:[{type:0,value:"Включить пуш-уведомления сотрудникам"}]});var eK=e=>{var{switchNotifications:t,setSwitchNotifications:r,user:i}=e,s=(0,X.BC)(i,x.ZP.RIGHTS.MONITORING);return(0,u.jsxs)("div",{className:"_7N0THJpNjJIVtFV5G7Sv6g==",children:[(0,u.jsx)(oi.Z,{active:"employees"===t,onClick:()=>r("employees"),children:KQ}),(0,u.jsx)(oi.Z,{className:"BTUVk6Okb6DwHZicPQDIyw==",active:"managers"===t,onClick:()=>r("managers"),disabled:!s,children:XQ})]})};eK.propTypes={user:P.jZ.isRequired,switchNotifications:c().string.isRequired,setSwitchNotifications:c().func.isRequired};const tK=eK,rK="qghNqY39wO9F6g21SGpBXQ==";var iK=(0,u.jsx)(J.Z,{id:"NotificationRules.violation",defaultMessage:[{type:0,value:"Нарушение"}]}),sK=(0,u.jsx)(J.Z,{id:"NotificationRules.isViolation",defaultMessage:[{type:0,value:"Является нарушением"}]}),nK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.addNotificationRuleMonitoring",defaultMessage:[{type:0,value:"Добавить правило уведомления мониторинга"}]}),aK=(0,u.jsx)(J.Z,{id:"MonitoringSettingsForm.wfmActivity",defaultMessage:[{type:0,value:"Активность WFM"}]}),oK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.employeeStatus",defaultMessage:[{type:0,value:"Статус сотрудника"}]}),lK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.employeeCount",defaultMessage:[{type:0,value:"Количество сотрудников"}]}),cK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.timeInState",defaultMessage:[{type:0,value:"Время в этом состоянии"}]}),dK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.labelLessMinutes",defaultMessage:[{type:0,value:"Время в этом состоянии, менее"}]}),uK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.labelMoreMinutes",defaultMessage:[{type:0,value:"Время в этом состоянии, более"}]}),pK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.fioEmployee",defaultMessage:[{type:0,value:"Ф.И.О. сотрудника"}]}),hK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.sendNames",defaultMessage:[{type:0,value:"Отправлять Ф.И.О. сотрудника"}]}),fK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.eventName",defaultMessage:[{type:0,value:"Название события"}]}),mK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.editMonitoringNotificationRule",defaultMessage:[{type:0,value:"Редактирование правила уведомления мониторинга"}]}),vK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.addMonitoringNotificationRule",defaultMessage:[{type:0,value:"Добавление правила уведомления мониторинга"}]}),yK=e=>{var{editDrawer:t,disabled:r}=e;return(0,u.jsxs)(Ae.Z,{className:"PHbPEItqen84m+CuFTN6bA==",onClick:()=>t(),disabled:r,children:[(0,u.jsx)(et.ZP,{glyph:et.dt,className:"GOy0xqa4cJeb2Q0PwS1edg=="}),nK]})};yK.defaultProps={disabled:!1},yK.propTypes={editDrawer:c().func.isRequired,disabled:c().bool};const gK=yK,bK="csrvt1+u4P707zyTrgjPiQ==";var jK=(0,u.jsx)(J.Z,{id:"Common.Yes"}),xK=(0,u.jsx)(J.Z,{id:"Common.No"}),SK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.noMatter",defaultMessage:[{type:0,value:"Не важно"}]}),OK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.notTake",defaultMessage:[{type:0,value:"Не учитывать"}]}),PK=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.minutes",defaultMessage:[{type:0,value:"минут"}]}),wK=[{value:!0,label:jK},{value:!1,label:xK},{value:"null",label:SK}],CK=e=>{var{violation:t,deleteRule:r,id:i,hasMonitoringCRUDRights:s}=e,n=me()(bK,"aRzwMKAZgaEFNU3mRZVZFA=="),a=t?jK:xK;return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("span",{children:(0,u.jsx)(eS.Z,{children:(0,u.jsx)(VC.I,{popup:!0,onSubmit:()=>r(i),disabled:!s,children:(0,u.jsx)(Ae.Z,{disabled:!s,children:(0,u.jsx)(et.ZP,{glyph:et.XH})})})})}),(0,u.jsx)("span",{className:"bEXNCPNRzZyylOryGnJFow==",children:(0,j.xb)(t)?SK:a})]})};CK.defaultProps={hasMonitoringCRUDRights:!1,violation:!1},CK.propTypes={id:c().string.isRequired,violation:c().bool,hasMonitoringCRUDRights:c().bool,deleteRule:c().func.isRequired};const kK=CK;var TK=e=>{var{data:t}=e;return(0,j.xb)(t)?null:(0,u.jsx)("div",{className:bK,children:(0,u.jsx)("div",{className:"dKRQMST5xg+o4YYmaFTcew==",children:t.map(((e,t)=>{var{id:r,name:i}=e;return(0,u.jsx)("span",{className:"_2ZbkqjXUc1TKU+vk77ry+Q==",title:i,children:"".concat(i)},r||t)}))})})};TK.propTypes={data:c().array.isRequired};const NK=TK;var RK=e=>{var{minutes:t,disable:r,intl:{formatMessage:i}}=e,s=i({id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),n=r?OK:"".concat(t," ").concat(s);return(0,u.jsx)("div",{className:bK,children:n})};RK.defaultProps={minutes:null,disable:!1},RK.propTypes={minutes:c().number,disable:c().bool,intl:c().object.isRequired};const EK=(0,v.ZP)(RK);var DK=(0,u.jsx)(J.Z,{id:"Common.Yes",defaultMessage:[{type:0,value:"Да"}]}),AK=(0,u.jsx)(J.Z,{id:"Common.No",defaultMessage:[{type:0,value:"Нет"}]}),MK=e=>{var{send:t}=e,r=t?DK:AK;return(0,u.jsx)("div",{className:bK,children:r})};MK.propTypes={send:c().bool.isRequired};const IK=MK;var ZK=e=>{var{deleteRule:t,intl:{formatMessage:r},hasMonitoringCRUDRights:i}=e,s=r({id:"Common.Yes",defaultMessage:[{type:0,value:"Да"}]}),n=r({id:"Common.No",defaultMessage:[{type:0,value:"Нет"}]}),a=r({id:"NotificationCenterSettings.noMatter",defaultMessage:[{type:0,value:"Не важно"}]}),o=r({id:"NotificationCenterSettings.notTake",defaultMessage:[{type:0,value:"Не учитывать"}]});return[new DO.Z({label:iK,key:"violation",width:150,hasTitle:!1,filterable:!0,sortable:!0,headerClassName:"sgbuRd+NNKivn89tLlW-6A==",getValue:e=>null===e.violation?a:!1===e.violation?n:s,renderCell:e=>(0,u.jsx)(kK,{violation:e.violation,hasMonitoringCRUDRights:i,deleteRule:t,id:e.id})}),new DO.Z({label:aK,key:"workActivities",width:170,filterable:!0,hasTitle:!1,sortable:!0,filterComponent:AO.Z,getValue:e=>(0,j.xb)(e.workActivities)?[]:e.workActivities.map((e=>e.name)),renderCell:e=>(0,u.jsx)(NK,{data:e.workActivities})}),new DO.Z({label:oK,key:"userStatuses",width:210,filterable:!0,sortable:!0,hasTitle:!1,filterComponent:AO.Z,getValue:e=>(0,j.xb)(e.userStatuses)?[]:e.userStatuses.map((e=>e.name)),renderCell:e=>(0,u.jsx)(NK,{data:e.userStatuses})}),new DO.Z({label:lK,key:"countEmployees",width:220,hasTitle:!1,filterable:!0,sortable:!0,renderCell:e=>(0,u.jsx)("div",{className:rK,style:{paddingLeft:"10px"},children:e.countEmployees})}),new DO.Z({label:dK,key:"lessMinutes",width:265,hasTitle:!1,filterable:!0,sortable:!0,getValue:e=>e.lessMinutesDisable?o:e.lessMinutes,renderCell:e=>(0,u.jsx)(EK,{minutes:e.lessMinutes,disable:e.lessMinutesDisable})}),new DO.Z({label:uK,key:"moreMinutes",width:265,filterable:!0,sortable:!0,hasTitle:!1,getValue:e=>e.moreMinutesDisable?o:e.moreMinutes,renderCell:e=>(0,u.jsx)(EK,{minutes:e.moreMinutes,disable:e.moreMinutesDisable})}),new DO.Z({label:pK,key:"sendNames",hasTitle:!1,width:175,filterable:!0,sortable:!0,autoSize:!0,getValue:e=>!1===e.sendNames?n:s,renderCell:e=>(0,u.jsx)(IK,{send:e.sendNames})}),new DO.Z({label:fK,key:"eventName",hasTitle:!1,width:180,filterable:!0,sortable:!0,autoSize:!0,renderCell:e=>(0,u.jsx)("div",{className:rK,children:(0,u.jsx)("span",{className:"hmF81KF2J4x+QVcAo54ogQ==",children:e.eventName})})})]};function qK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function FK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qK(Object(r),!0).forEach((function(t){LK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HK=e=>{var{input:{value:t,onChange:r},classNameInput:i,maxLength:s}=e;return(0,u.jsx)("input",{maxLength:s,type:"text",value:t,onBlur:()=>r(t.trim()),onChange:e=>{!e.target.value.startsWith(" ")&&r(e)},className:i})};HK.defaultProps={classNameInput:""},HK.propTypes=FK(FK({},Bt.oX),{},{classNameInput:c().string});const _K=HK;function BK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function GK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BK(Object(r),!0).forEach((function(t){WK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UK=e=>{var{dataSource:t,dataSourceConfig:r,input:{value:i,onChange:s},selectedItems:n,disableSelectedItems:a,placeholder:o,classNameLabel:l}=e,c=""===i?[]:i;return(0,u.jsx)(AQ,{dataSource:t,dataSourceConfig:r,value:c,onChange:s,selectedItems:n,disableSelectedItems:a,placeholder:o,withoutMargins:!0,classNameLabel:l})};UK.defaultProps={selectedItems:[],disableSelectedItems:!1,dataSourceConfig:{text:"name",value:"id"},classNameLabel:""},UK.propTypes=GK(GK({},Bt.oX),{},{selectedItems:c().array,classNameLabel:c().string,disableSelectedItems:c().bool,dataSource:c().arrayOf(c().object).isRequired,dataSourceConfig:c().shape({text:c().string,value:c().oneOfType([c().string,c().number]).isRequired})});const VK=UK;function zK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function YK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zK(Object(r),!0).forEach((function(t){QK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KK=e=>{var{dataSource:t,dataSourceConfig:r,input:{value:i,onChange:s},disableSelectedItems:n,placeholder:a}=e,o=(""===i?[]:i).map((e=>t.find((t=>t[r.value]===e))));return(0,u.jsx)(AQ,{dataSource:t,dataSourceConfig:r,value:o,onChange:e=>{s(e.map((e=>e[r.value])))},disableSelectedItems:n,placeholder:a,withoutMargins:!0})};KK.defaultProps={disableSelectedItems:!1,dataSourceConfig:{text:"name",value:"id"}},KK.propTypes=YK(YK({},Bt.oX),{},{disableSelectedItems:c().bool,dataSource:c().arrayOf(c().object).isRequired,dataSourceConfig:c().shape({text:c().string,value:c().oneOfType([c().string,c().number]).isRequired})});const XK=KK;var JK=e=>{var{input:{onChange:t,value:r}}=e;return(0,u.jsx)(Zb.E,{options:wK,onChange:t,selectedValue:r})};JK.defaultProps={input:null},JK.propTypes={input:c().shape(Bt.oX)};const $K=JK,eX="RIAD1gW3T07Jt-X7lWD1kA==",tX="_5wxb+SIBTGH6qyA0YaqRuQ==";var rX=e=>{var{label:t,input:{onChange:r,value:i},disabled:s}=e;return(0,u.jsxs)("div",{className:"q8zTU0ZmpCocoS9w4wvJwQ==",children:[(0,u.jsx)("span",{children:t}),(0,u.jsx)("input",{value:i,onChange:e=>{var t=parseInt(e.target.value,10);r(Math.abs(t))},type:"number",className:"dimhrhFj5oBGsxiDFGg6aQ==",disabled:s}),(0,u.jsx)("span",{children:PK})]})};rX.defaultProps={disabled:!1},rX.propTypes={label:c().string.isRequired,value:c().string.isRequired,onChange:c().func.isRequired,input:c().object.isRequired,disabled:c().bool};const iX=rX;var sX={text:"name",value:"id"},nX=e=>{var{workActivity:t,userStatus:r,intl:{formatMessage:i},handleSubmit:s,close:n,pristine:a,formValue:o}=e,l=i({id:"NotificationCenterSettings.searchInActivitiesWFM",defaultMessage:[{type:0,value:"Поиск по активностям WFM"}]}),c=i({id:"NotificationCenterSettings.searchByEmployeeStatuses",defaultMessage:[{type:0,value:"Поиск по статусам сотрудников"}]}),d=i({id:"LaborCodeSettings.noLess",defaultMessage:[{type:0,value:"Не менее"}]}),p=i({id:"NotificationCenterSettings.less",defaultMessage:[{type:0,value:"Менее"}]}),h=i({id:"NotificationCenterSettings.more",defaultMessage:[{type:0,value:"Более"}]}),f=a||(0,j.xb)(o.eventName),m=()=>{s(),n()};return(0,u.jsxs)("form",{onSubmit:m,className:"_7tTzYNwnUjuMbhTdwJChsg==",children:[(0,u.jsx)("div",{className:"ChqYzegbRuibDGrtFOyWGg==",children:(0,u.jsxs)(TF.Z,{children:[(0,u.jsx)(kF.Z,{label:sK,children:(0,u.jsx)(_e.Z,{component:$K,name:"violation"})}),(0,u.jsx)(kF.Z,{label:aK,children:(0,u.jsx)(_e.Z,{component:VK,name:"workActivities",dataSource:t,dataSourceConfig:sX,placeholder:l,disableSelectedItems:!0,classNameLabel:tX})}),(0,u.jsx)(kF.Z,{label:oK,children:(0,u.jsx)(_e.Z,{component:VK,name:"userStatuses",dataSource:r,dataSourceConfig:sX,placeholder:c,disableSelectedItems:!0,classNameLabel:tX})}),(0,u.jsx)(kF.Z,{label:lK,children:(0,u.jsx)(_e.Z,{component:yE.Z,name:"countEmployees",text:d,className:"il-OFsulPjV+T89b36fAsQ=="})}),(0,u.jsxs)(kF.Z,{label:cK,children:[(0,u.jsxs)("div",{className:eX,children:[(0,u.jsx)(_e.Z,{component:iX,name:"lessMinutes",label:p,disabled:o.lessMinutesDisable}),(0,u.jsx)(_e.Z,{component:wr.XZ,name:"lessMinutesDisable",label:OK})]}),(0,u.jsxs)("div",{className:eX,children:[(0,u.jsx)(_e.Z,{component:iX,name:"moreMinutes",label:h,disabled:o.moreMinutesDisable}),(0,u.jsx)(_e.Z,{component:wr.XZ,name:"moreMinutesDisable",label:OK})]})]}),(0,u.jsx)(kF.Z,{label:hK,children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:"sendNames"})}),(0,u.jsx)(kF.Z,{label:fK,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"eventName"})})]})}),(0,u.jsx)("div",{className:"HT28vOn0qsLYT+a-WcUpZQ==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:e=>{e.preventDefault(),m()},caption:(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]}),disabled:f})})]})};nX.defaultProps={formValue:{}},nX.propTypes={workActivity:c().array.isRequired,userStatus:c().array.isRequired,intl:P.gm.isRequired,handleSubmit:c().func.isRequired,close:c().func.isRequired,pristine:c().bool.isRequired,formValue:c().object};const aX=(0,v.ZP)(nX);function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oX(Object(r),!0).forEach((function(t){cX(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dX="MonitoringNotificationRuleForm";const uX=(0,o.compose)((0,s.$j)((e=>{return{workActivity:ma(e),userStatus:(t=(0,B.aH)(e),t.map((e=>{var{id:t,name:r}=e;return{id:t,name:r}}))),formValue:(0,qe.Z)(dX)(e)};var t}),(e=>({onSubmit:t=>{var r=lX(lX({},t),{},{eventName:t.eventName.trim()});r.id?e((0,zQ.updateMonitoringRule)(r,(()=>e((0,zQ.fetchMonitoringRules)())))):e((0,zQ.createMonitoringRule)(r,(()=>e((0,zQ.fetchMonitoringRules)()))))}}))),(0,Fe.Z)({form:dX,initialValues:{violation:"null",moreMinutesDisable:!1,lessMinutesDisable:!1}}))(aX);function pX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pX(Object(r),!0).forEach((function(t){fX(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mX=e=>{var{intl:t}=e,[r,i]=(0,m.useState)(!1),[n,a]=(0,m.useState)(mK),o=(0,s.v9)((e=>e.settings.monitoringRules)),l=(0,s.v9)(C.ts),c=(0,s.I0)(),d=(0,X.BC)(l,x.ZP.RIGHTS.MONITORING,x.ZP.CRUD),p=()=>{a(mK),i(!1)},h={deleteRule:e=>{c((0,zQ.deleteMonitoringRule)(e))},intl:t,hasMonitoringCRUDRights:d};return(0,u.jsxs)("div",{className:"GJSSbddQv5AbiiI6JSPm5A==",children:[(0,u.jsx)(gK,{editDrawer:()=>{a(vK),i(!0)},disabled:!d}),(0,u.jsx)("div",{className:"UreZ+bsso8pSoCcRd3DHlw==",children:(0,u.jsx)(VP.ZP,{data:o,columns:ZK(h),onCellClick:(e,t)=>{if(d){var{violation:r}=t,s=null===r?hX(hX({},t),{},{violation:"null"}):hX({},t);c((0,Qr.j2)("MonitoringNotificationRuleForm",s)),i(!0)}},columnsAutoWidths:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",checkboxLabelClassName:"KQjGULbgswPH4f5mrUY95A=="})}),(0,u.jsx)(Ze.ZP,{title:n,open:r,onRequestChange:p,handleBackArrow:p,width:700,children:(0,u.jsx)(uX,{close:p})})]})};mX.propTypes={intl:c().object.isRequired};const vX=(0,v.ZP)(mX);var yX=e=>{var{disabledStart:t,disabledActivities:r}=e,i=(0,s.I0)(),n=(0,s.v9)(UQ);return(0,u.jsxs)("div",{className:"CB98XJORapLQ176v3xeeaQ==",children:[(0,u.jsx)(oi.Z,{active:"workShifts"===n,disabled:t,onClick:()=>i((0,zQ.setSwitchWorkShiftsActivities)("workShifts")),children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.startEndWorkShiftsButton",defaultMessage:[{type:0,value:"Начало / окончание рабочей смены"}]})}),(0,u.jsx)(oi.Z,{active:"activities"===n,disabled:r,onClick:()=>i((0,zQ.setSwitchWorkShiftsActivities)("activities")),style:{paddingLeft:"15px"},children:(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.activitiesButton",defaultMessage:[{type:0,value:"Активности"}]})})]})};yX.propTypes={disabledStart:c().bool.isRequired,disabledActivities:c().bool.isRequired};const gX=yX;var bX=(0,u.jsx)(J.Z,{id:"Common.save"}),jX=(0,u.jsx)(et.ZP,{glyph:et.N}),xX=e=>{var{content:t,handleSubmit:r,disabled:i,disabledStart:s,disabledActivities:n}=e,a=me()("container","lbw2vEf0O4toT+iLk+qwqA==");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(gX,{disabledStart:s,disabledActivities:n}),(0,u.jsx)("div",{className:"XGrSKVvSca2Ef1c3picgRw==",children:(0,u.jsx)("div",{className:"notification-center-settings__content scroll",children:(0,u.jsx)("div",{className:a,children:t})})}),(0,u.jsx)("div",{className:"kPlzTLbOgYg77svNVDURfA==",children:(0,u.jsx)(Ge.Z,{caption:bX,type:"stripped",icon:jX,onClick:r,disabled:i})})]})};xX.propTypes={content:c().node.isRequired,handleSubmit:c().func.isRequired,disabled:c().bool.isRequired,disabledStart:c().bool.isRequired,disabledActivities:c().bool.isRequired};const SX=xX;function OX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function PX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OX(Object(r),!0).forEach((function(t){wX(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OX(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class CX extends m.Component{constructor(e){super(e),wX(this,"getMessageObject",((e,t)=>t.find((t=>t.key===e&&t)))),wX(this,"getCheckboxProps",(e=>({name:e,checked:this.state[e],onChange:this.handleCheckboxChange,label:$Q}))),wX(this,"getMinutesFromHours",(e=>(parseInt(e,10),0===e?0:60*e))),wX(this,"getMinutesFromMinutesAndHours",((e,t)=>{var r=parseInt(t,10);return this.getMinutesFromHours(e)+r})),wX(this,"getTimeFromTimePicker",((e,t,r)=>{var{timePickerArr:i}=this.state,s=[...i,{key:r,value:this.getMinutesFromMinutesAndHours(e,t)}];this.setState({timePickerArr:s})})),wX(this,"setSettings",(e=>{var{settings:t}=this.state,r={[e.key]:e.value},i=PX(PX({},t),r);this.setState({settings:i})})),wX(this,"setActivityMessages",(e=>{var{key:t,value:r}=e,{messages:i}=this.state,s={[t]:r};this.setState({messages:PX(PX({},i),s)})})),wX(this,"doMinutesToMinutes",(e=>{var{globalSettings:t}=this.props,r=t[e];return r<=59?r:t[e]%60})),wX(this,"doMinutesToHours",(e=>{var{globalSettings:t}=this.props;if(t[e]<=59)return 0;var r=t[e]/60;return parseInt(r,10)})),wX(this,"handleCheckboxChange",(e=>{!1===e.IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY&&this.setState({IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY:!1}),!1===e.IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY&&this.setState({IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY:!1}),this.setState(PX({},e))})),wX(this,"handleChangeMessage",((e,t)=>{this.setState((r=>{var i=r[t];return{[t]:PX(PX({},i),{},{value:e})}}))})),wX(this,"handleSubmit",(()=>{var e,t,r,i,{workActivities:s,updateAllPushNotifications:n,updateAllGlobalSettings:a,fetchPushNotifications:o,updateWorkActivityAll:l,clearAllWorkActivities:c}=this.props,d=s.map((e=>PX(PX({},e),{},{notifySettings:e.notifySettings}))),u=(0,X.xn)(d,"id"),p=(e=s,t=this.state.settings,r=[],i=function(e){var t={};return e.forEach((e=>{var r=e.id;t[r]=e})),t}(e),Object.keys(t).forEach((e=>{var s=t[e],n=i[e];n.notifySettings=s,r.push(n)})),r),h=(0,X.xn)(p),f=Object.keys(this.state.settings).filter((e=>JSON.stringify(h[e])!==JSON.stringify(u[e]))).map((e=>h[e])),m=(e=>e.map((e=>PX(PX({},e),{},{value:e.value?e.value:" "}))))([{id:this.state[gQ].id,key:this.state[gQ].key,value:this.state[gQ].value},{id:this.state[bQ].id,key:this.state[bQ].key,value:this.state[bQ].value},{id:this.state[jQ].id,key:this.state[jQ].key,value:this.state[jQ].value},{id:this.state[xQ].id,key:this.state[xQ].key,value:this.state[xQ].value}]);l([...f]),n(m);var v=[{key:cQ,value:this.state.IS_NOTIFICATIONS_ABOUT_ACTIVITIES_ENABLED},{key:fQ,value:this.state[fQ]},{key:mQ,value:this.state[mQ]},{key:vQ,value:this.state[vQ]},{key:yQ,value:this.state[yQ]}];a([...this.state.timePickerArr,...v],o),c()}));var t=this.props.pushNotifications,r={[gQ]:"",[bQ]:"",[jQ]:"",[xQ]:""};(e=>0!==e.length)(t)&&(r[gQ]=this.getMessageObject(gQ,t),r[bQ]=this.getMessageObject(bQ,t),r[jQ]=this.getMessageObject(jQ,t),r[xQ]=this.getMessageObject(xQ,t)),this.initialValues=PX(PX({},r),{},{[cQ]:(0,Dh.z3)(e.globalSettings.IS_NOTIFICATIONS_ABOUT_ACTIVITIES_ENABLED),[fQ]:(0,Dh.z3)(e.globalSettings.IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY),[mQ]:(0,Dh.z3)(e.globalSettings.IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY),[vQ]:(0,Dh.z3)(e.globalSettings.IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY),[yQ]:(0,Dh.z3)(e.globalSettings.IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY),IS_SEND_START_ACTIVITY_NOTIFY:(0,Dh.z3)(e.globalSettings.IS_SEND_START_ACTIVITY_NOTIFY),[dQ]:e.globalSettings.MINUTES_BEFORE_FIRST_ACTIVITY_START_FIRST_NOTIFY||0,[uQ]:e.globalSettings.MINUTES_BEFORE_FIRST_ACTIVITY_START_SECOND_NOTIFY||0,[pQ]:e.globalSettings.MINUTES_BEFORE_LAST_ACTIVITY_END_FIRST_NOTIFY||0,[hQ]:e.globalSettings.MINUTES_BEFORE_LAST_ACTIVITY_END_SECOND_NOTIFY||0,settings:[],messages:{},timePickerArr:[]}),this.state=PX({},this.initialValues)}UNSAFE_componentWillReceiveProps(e){if(e.workActivities!==this.props.workActivities){var t={};e.workActivities.forEach((e=>{t[e.id]=e.notifySettings})),this.setState({settings:t})}if(e.globalSettings!==this.props.globalSettings){var r=t=>"true"===e.globalSettings[t];this.setState({[cQ]:r(cQ),[fQ]:r(fQ),[mQ]:r(mQ),[vQ]:r(vQ),[yQ]:r(yQ)},(()=>{this.initialValues=PX(PX({},this.initialValues),this.state)}))}if(e.pushNotifications!==this.props.pushNotifications){var i=this.getMessageObject(gQ,e.pushNotifications),s=this.getMessageObject(bQ,e.pushNotifications),n=this.getMessageObject(jQ,e.pushNotifications),a=this.getMessageObject(xQ,e.pushNotifications);this.setState({[gQ]:i,[bQ]:s,[jQ]:n,[xQ]:a},(()=>{this.initialValues=PX(PX({},this.initialValues),this.state)}))}}get pristine(){return VF()(this.initialValues,this.state)}render(){var e,{globalSettings:t,workActivities:r,isLoading:i,switchNotifications:s,setSwitchNotifications:n,user:a,switchWorkShiftsActivities:o}=this.props,l=!this.state[cQ],c=!this.state[cQ],d={IS_SEND_FIRST_ACTIVITY_START_FIRST_NOTIFY:this.state[fQ],IS_SEND_FIRST_ACTIVITY_START_SECOND_NOTIFY:this.state[mQ],IS_SEND_LAST_ACTIVITY_END_FIRST_NOTIFY:this.state[vQ],IS_SEND_LAST_ACTIVITY_END_SECOND_NOTIFY:this.state[yQ],MESSAGE_FIRST_ACTIVITY_START_FIRST_NOTIFY:this.state[gQ].value,MESSAGE_FIRST_ACTIVITY_START_SECOND_NOTIFY:this.state[bQ].value,MESSAGE_LAST_ACTIVITY_END_FIRST_NOTIFY:this.state[jQ].value,MESSAGE_LAST_ACTIVITY_END_SECOND_NOTIFY:this.state[xQ].value};return e=i?(0,u.jsx)("div",{className:"notification-center-settings__shifts-activities",children:(0,u.jsx)(Z.Z,{})}):(0,u.jsx)("div",{className:"notification-center-settings__shifts-activities",children:(0,u.jsxs)(UY,{trigger:o,children:[(0,u.jsx)(zY,{value:"workShifts",children:(0,u.jsx)(CQ,PX(PX({},d),{},{onChangeMessage:this.handleChangeMessage,onChangeTimePicker:this.getTimeFromTimePicker,onCheckboxChange:this.handleCheckboxChange,pushTimeHoursCalc:this.doMinutesToHours,pushTimeMinutesCalc:this.doMinutesToMinutes,globalSettings:t,pushEnabled:this.state.IS_NOTIFICATIONS_ABOUT_ACTIVITIES_ENABLED}))}),(0,u.jsx)(zY,{value:"activities",children:(0,u.jsx)(QQ,{onChange:this.setSettings,workActivities:r,pushEnabled:this.state.IS_NOTIFICATIONS_ABOUT_ACTIVITIES_ENABLED})})]})}),(0,u.jsxs)("div",{className:"_8OWjGC2j7aA10Asl3XPukA==",children:[(0,u.jsxs)("div",{className:"VAcI9rsXQKiXulJBGm6igw==",children:[(0,u.jsx)("h1",{children:JQ}),(0,u.jsx)(tK,{switchNotifications:s,setSwitchNotifications:n,user:a}),"employees"===s&&(0,u.jsx)("div",{className:"R0FsxRQYNqJBoHb0-ptqJw==",children:(0,u.jsx)(JY,PX(PX({},this.getCheckboxProps(cQ)),{},{switchNotifications:s}))})]}),(0,u.jsxs)(UY,{trigger:s,children:[(0,u.jsx)(zY,{value:"employees",children:(0,u.jsx)(SX,{disabledStart:l,disabledActivities:c,content:e,handleSubmit:this.handleSubmit,disabled:this.pristine})}),(0,u.jsx)(zY,{value:"managers",children:(0,u.jsx)(vX,{})})]})]})}}CX.propTypes={user:P.jZ.isRequired,globalSettings:c().object.isRequired,pushNotifications:c().array.isRequired,fetchGlobalSettingsForPush:c().func.isRequired,workActivities:c().array.isRequired,updateWorkActivityAll:c().func.isRequired,updateAllPushNotifications:c().func.isRequired,updateAllGlobalSettings:c().func.isRequired,fetchPushNotifications:c().func.isRequired,isLoading:c().bool.isRequired,switchNotifications:c().string.isRequired,setSwitchNotifications:c().func.isRequired,switchWorkShiftsActivities:c().string.isRequired,clearAllWorkActivities:c().func.isRequired};var kX=r(78830),TX="IS_ACCOUNTING_REPORT_ENABLED",NX="IS_SALARY_ACCOUNTING_FOR_MANAGER_ENABLED",RX="IS_ACCOUNTING_REPORT_FOR_OPERATOR_ENABLED",EX="IS_SALARY_ACCOUNTING_FOR_OPERATOR_ENABLED",DX=e=>e.settings.accounting,AX=e=>e.settings.accountingLoading,MX=(0,Q.createSelector)(B.Tv,(e=>{var t=t=>"true"===e[t];return{[TX]:t(TX),[NX]:t(NX),[RX]:t(RX),[EX]:t(EX)}}));const IX=(0,o.compose)((0,s.$j)((e=>{return{globalSettings:(0,B.Tv)(e),pushNotifications:GQ(e),workActivities:(t=(0,B._8)(e),t.filter((e=>e.id!==x.ZP.EMPTY_WORK_ACTIVITY_ID))),accountingRules:DX(e),isLoading:(0,B.Ze)(e),user:(0,C.ts)(e),switchNotifications:WQ(e),switchWorkShiftsActivities:UQ(e)};var t}),{fetchGlobalSettingsForPush:zQ.fetchGlobalSettingsForPush,fetchPushNotifications:zQ.fetchPushNotifications,updateAllPushNotifications:zQ.updateAllPushNotifications,updateGlobalSettings:V.updateGlobalSettings,updateAllGlobalSettings:zQ.updateAllGlobalSettings,fetchAllWorkActivities:Gv.fetchAllWorkActivities,updateWorkActivityAll:Gv.updateWorkActivityAll,fetchAccountingRules:kX.fetchAccountingRules,setSwitchNotifications:zQ.setSwitchNotifications,fetchMonitoringRules:zQ.fetchMonitoringRules,fetchUserStatus:Bv.fetchUserStatus,clearAllWorkActivities:zQ.clearAllWorkActivities}),(0,U.Z)((e=>{var{props:t}=e;t.fetchGlobalSettingsForPush(),t.fetchPushNotifications(),t.fetchAllWorkActivities(),t.fetchUserStatus(),(0,X.BC)(t.user,x.ZP.RIGHTS.MONITORING)&&t.fetchMonitoringRules()})))(CX);function ZX(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qX extends m.PureComponent{constructor(){super(...arguments),ZX(this,"inputRef",null),ZX(this,"setInputRef",(e=>{this.inputRef=e})),ZX(this,"clear",(()=>{this.inputRef&&(this.inputRef.value=null)})),ZX(this,"handleChange",(e=>{var{onImportRequest:t,onSuccess:r}=this.props,i=e.target.files[0];if(i){var s=new FormData;s.append("file",i),t({data:s,successCb:r,completeCb:this.clear})}}))}render(){var e=(0,u.jsx)(J.Z,{id:"Offices.selectFile",defaultMessage:[{type:0,value:"Выберите файл"}]}),{hideIcon:t}=this.props;return(0,u.jsx)("div",{className:"button button-transparent",children:(0,u.jsxs)("label",{style:{cursor:"pointer",paddingRight:"0",paddingLeft:"0"},className:"button-transparent",children:[(0,u.jsxs)("span",{hidden:t,children:[(0,u.jsx)(et.ZP,{glyph:et.bb})," "," "," "]}),(0,u.jsx)(J.Z,{id:"Offices.import",defaultMessage:[{type:0,value:"Импортировать"}]}),(0,u.jsx)("input",{ref:this.setInputRef,className:"form-input",style:{display:"none"},type:"file",placeholder:e,onChange:this.handleChange})]})})}}qX.defaultProps={hideIcon:!1,onSuccess:null},qX.propTypes={onImportRequest:c().func.isRequired,onSuccess:c().func,hideIcon:c().bool};const FX=qX;var LX=(0,u.jsx)(et.ZP,{glyph:et.dt});class HX extends m.Component{render(){if(this.props.hidden)return null;var{onAddClick:e,addButtonLabel:t,disabled:r}=this.props;return(0,u.jsx)("div",{className:"button-transparent-wrap",children:(0,u.jsx)(Ge.Z,{type:"transparent",caption:t,onClick:e,icon:LX,disabled:r})})}}HX.defaultProps={hidden:!1,disabled:!1},HX.propTypes={hidden:c().bool,onAddClick:c().func.isRequired,addButtonLabel:c().node.isRequired,disabled:c().bool};const _X=HX,BX={tableCell:"BpOS3FB-mcFNs5z2LF078A==",removeButton:"zo6JWTyGRT-Hl-tPKy6TIA==",comment:"FmmAIVwujjRdxGScWyphog==",labelStyle:"ZndykGZuUxvgLkpmvSdHcQ=="};var GX=(0,u.jsx)(J.Z,{id:"OfficeForm.name",defaultMessage:[{type:0,value:"Название*"}]}),WX=(0,u.jsx)(J.Z,{id:"OfficeForm.timezone",defaultMessage:[{type:0,value:"Часовой пояс*"}]}),UX=(0,u.jsx)(J.Z,{id:"OfficeForm.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),VX=(0,u.jsx)(J.Z,{id:"OfficeForm.workplaces",defaultMessage:[{type:0,value:"Рабочих мест"}]}),zX=(0,u.jsx)(J.Z,{id:"OfficeForm.workingHours",defaultMessage:[{type:0,value:"Время работы"}]}),YX=(0,u.jsx)(J.Z,{id:"Common.date",defaultMessage:[{type:0,value:"Дата"}]}),QX=(0,u.jsx)(J.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]}),KX=(0,u.jsx)(J.Z,{id:"OfficeSpecialDays.date",defaultMessage:[{type:0,value:"Дата"}]}),XX=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),JX=(0,u.jsx)(J.Z,{id:"Common.Cancel",defaultMessage:[{type:0,value:"Отмена"}]}),$X="pl text-ellipsis display-block table__cell_is_editable",eJ=[(0,u.jsx)(J.Z,{id:"CalendarViewSelect.monday",defaultMessage:[{type:0,value:"Пн."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.tuesday",defaultMessage:[{type:0,value:"Вт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.wednesday",defaultMessage:[{type:0,value:"Ср."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.thursday",defaultMessage:[{type:0,value:"Чт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.friday",defaultMessage:[{type:0,value:"Пт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.saturday",defaultMessage:[{type:0,value:"Сб."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.sunday",defaultMessage:[{type:0,value:"Вс."}]})],tJ=(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayOff",defaultMessage:[{type:0,value:"Выходной"}]}),rJ=[{dayOfWeek:1,from:"08:00",to:"20:00",weekend:!1},{dayOfWeek:2,from:"08:00",to:"20:00",weekend:!1},{dayOfWeek:3,from:"08:00",to:"20:00",weekend:!1},{dayOfWeek:4,from:"08:00",to:"20:00",weekend:!1},{dayOfWeek:5,from:"08:00",to:"20:00",weekend:!1},{dayOfWeek:6,from:"08:00",to:"20:00",weekend:!0},{dayOfWeek:7,from:"08:00",to:"20:00",weekend:!0}];class iJ extends m.PureComponent{render(){var{title:e,children:t}=this.props;return(0,u.jsxs)("div",{className:"panel-item",children:[(0,u.jsx)("div",{className:"first panel-item-style",children:e}),(0,u.jsx)("div",{className:"second panel-item-style",children:t})]})}}iJ.defaultProps={title:null},iJ.propTypes={title:c().string,children:c().node.isRequired};const sJ=iJ;function nJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function aJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nJ(Object(r),!0).forEach((function(t){oJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lJ extends m.Component{constructor(e){super(e),oJ(this,"handleChange",(e=>{var{input:{onChange:t}}=this.props;t(e)})),this.zones=(0,Qv.DJ)()}render(){var{label:e,input:{value:t},disabled:r}=this.props;return(0,u.jsx)(sJ,{title:e,children:(0,u.jsx)(yj.Z,{dataSource:this.zones,dataSourceConfig:{text:"text",value:"name"},value:t,onChange:this.handleChange,disabled:r})})}}lJ.defaultProps={disabled:!1,label:null},lJ.propTypes=aJ(aJ({},Bt.oX),{},{disabled:c().bool,label:c().node});const cJ=lJ,dJ="CGQ-bm707h+djcWWkp3Z6Q==",uJ="G8LVawJNZvYKu-w24RRNdg==";var pJ=e=>{var{from:t,to:r,weekend:i,onChange:s,index:n,classNames:a}=e,o=me()(dJ,a);return(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{className:uJ,children:(0,u.jsx)(mb.Z,{onChange:e=>s(e,r,i),value:t,disabled:i},n)}),(0,u.jsx)("span",{children:" - "}),(0,u.jsx)("div",{className:uJ,children:(0,u.jsx)(mb.Z,{onChange:e=>s(t,e,i),value:r,disabled:i},"".concat(n,"-second-date"))}),(0,u.jsx)(Rs.ZP,{className:"qN81jaqyBJbf06AOLhVBzg==",onChange:e=>s(t,r,e),label:tJ,checked:i})]})};pJ.defaultProps={classNames:""},pJ.propTypes={onChange:c().func.isRequired,classNames:c().string,from:c().oneOfType([c().string,(0,zi.Z)(ft.wJ)]).isRequired,to:c().oneOfType([c().string,(0,zi.Z)(ft.wJ)]).isRequired,weekend:c().bool.isRequired,index:c().number.isRequired};const hJ=pJ;var fJ=e=>{var{handleSuccess:t,day:{dayOfWeek:r,from:i,to:s,weekend:n},label:a,index:o}=e,l=i||"08:00",c=s||"20:00";return(0,u.jsxs)("div",{className:dJ,children:[(0,u.jsx)("div",{className:"+Y-isO1wnfCBuPO64zwvvw==",children:a}),(0,u.jsx)(hJ,{classNames:"_1NBlbesQ6Em2tegtWZlB0g==",from:l,to:c,index:o,weekend:n,onChange:(e,i,s)=>t({dayOfWeek:r,from:e,to:i,weekend:s})})]})};fJ.defaultProps={day:null,label:null},fJ.propTypes={label:c().object,index:c().number.isRequired,handleSuccess:c().func.isRequired,day:c().shape({dayOfWeek:c().number,from:c().oneOfType([c().string,(0,zi.Z)(ft.wJ)]),to:c().oneOfType([c().string,(0,zi.Z)(ft.wJ)]),id:c().string,weekend:c().bool})};const mJ=fJ;function vJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gJ=e=>{var{week:t,input:{onChange:r,onBlur:i}}=e,s=e=>{var s=gi()(t);s[e.dayOfWeek-1]=e,r(s),i(s)};return(0,u.jsx)(u.Fragment,{children:t.map(((e,t)=>(0,u.jsx)(mJ,{index:t,label:eJ[e.dayOfWeek-1],day:e,handleSuccess:s},t)))})};gJ.defaultProps={week:rJ},gJ.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vJ(Object(r),!0).forEach((function(t){yJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({week:c().array},Bt.oX);const bJ=gJ;function jJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SJ=e=>{var{formValue:t,invalid:r,handleSubmit:i,close:s,pristine:n,frontendSettings:a}=e,o=a.isSeatAccountingEnabled.value,l=!!t.id,c=(0,u.jsx)(J.Z,{id:"Offices.addOffice",defaultMessage:[{type:0,value:"Добавить офис"}]}),d=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),p=l?d:c,h=(0,_V.t)("safari");return(0,u.jsxs)("div",{className:me()("office-form",{"_3S8VLjITIPY3HrY0thGHpQ==":h}),children:[(0,u.jsx)("div",{className:"office-form__body scroll",children:(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(ZM.Z,{label:GX,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name"})}),(0,u.jsx)(ZM.Z,{label:WX,required:!0,children:(0,u.jsx)(_e.Z,{component:cJ,type:"text",name:"timezone"})}),(0,u.jsx)(ZM.Z,{label:zX,labelClassName:"Vjgi-bJ0r7qDqRmxHa+Rkg==",children:(0,u.jsx)(_e.Z,{component:bJ,type:"text",name:"workTime",week:t.workTime})}),(0,u.jsx)(ZM.Z,{label:UX,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"comment"})}),(0,u.jsx)(ZM.Z,{label:VX,hidden:!o,children:(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,name:"maxSeats",classNameInput:"ZxeyNp5nt39nPNzXJmnsWA=="})})]})}),(0,u.jsxs)("div",{className:"office-form__footer",children:[(0,u.jsx)("div",{className:"pb+",children:(0,u.jsxs)("div",{className:"office-form__asterisk",children:[(0,u.jsx)("span",{children:" * — "}),(0,u.jsx)(J.Z,{id:"Common.requireFields",defaultMessage:[{type:0,value:"поля, обязательные для заполнения"}]})]})}),(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{i(),s()},caption:p,disabled:n||r})]})]})};SJ.defaultProps={formValue:{}},SJ.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jJ(Object(r),!0).forEach((function(t){xJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Bt.ZP);const OJ=SJ,PJ=(0,tE.ZP)((()=>({menu:{display:"flex"}})));function wJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function CJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wJ(Object(r),!0).forEach((function(t){kJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TJ={name:"required",timezone:"required"},NJ="OfficeForm";const RJ=(0,o.compose)(v.ZP,(0,s.$j)((e=>({formValue:(0,qe.Z)(NJ)(e),currentOffice:(0,B.i_)(e)&&(0,B.zz)(e),frontendSettings:(0,B.e0)(e)})),{createOffice:Wv.createOffice,editOffice:Wv.editOffice,change:Qr.m},((e,t,r)=>CJ(CJ(CJ({},e),r),{},{initialValues:{workTime:rJ},onSubmit:e=>{var r,i=CJ(CJ({},e),{},{comment:null===(r=e.comment)||void 0===r?void 0:r.trim(),name:e.name.trim()});t.change(NJ,"timezone",i),i.id?t.editOffice(i):t.createOffice(i)}}))),(0,Fe.Z)({form:NJ,validate:(e,t)=>(0,xO.ZP)({data:e,fields:TJ,intl:t.intl}).errors}),PJ)(OJ),EJ="OCGVBZnc3dNkCZDXUFciQA==",DJ="ut3MBVJzBclsJndHwKBMVQ==",AJ="Tnegf6O1NNmx0dJ3UU8qwA==";class MJ extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDelete",(()=>{var{onDeleteSpecialDay:e,index:t}=this.props;e(t)}))}render(){var{item:e,activeIndex:t,index:r}=this.props,i=t===r?me()(EJ,DJ,AJ):me()(EJ,DJ);return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:this.handleDelete})}),(0,u.jsx)("div",{className:"ZOvbW4vWmdnvG8Io+4vXrg==",children:ns()(e.day,ft._E).format("DD.MM")})]})}}MJ.defaultProps={activeIndex:null},MJ.propTypes={onDeleteSpecialDay:c().func.isRequired,item:c().object.isRequired,activeIndex:c().number,index:c().number.isRequired};const IJ=MJ;var ZJ=(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayOff",defaultMessage:[{type:0,value:"Выходной"}]}),qJ=e=>{var{from:t,to:r,weekend:i,activeIndex:s,index:n}=e,a=s===n?me()(EJ,AJ):EJ;return i?(0,u.jsx)("div",{className:a,children:(0,u.jsx)("span",{children:ZJ})}):(0,u.jsx)("div",{className:a,children:(0,u.jsx)("span",{children:"".concat(t," - ").concat(r)})})};qJ.defaultProps={activeIndex:null},qJ.propTypes={weekend:c().bool.isRequired,from:c().string.isRequired,to:c().string.isRequired,activeIndex:c().number,index:c().number.isRequired};const FJ=qJ;var LJ=e=>{var{comment:t,index:r,activeIndex:i}=e,s=i===r?me()(EJ,AJ):EJ;return(0,u.jsx)("div",{className:s,children:(0,u.jsx)("span",{className:"C4BaxKiuDxdR0NUp7mlmyw==",children:t})})};LJ.defaultProps={comment:"",activeIndex:null},LJ.propTypes={comment:c().string,index:c().number.isRequired,activeIndex:c().number};const HJ=LJ;var _J=e=>{var{onDeleteSpecialDay:t,activeIndex:r}=e;return[new DO.Z({label:YX,key:"date",width:155,sortable:!0,cellContentClassName:$X,headerClassName:"_3DrqbH21PPNnHIn9uLNiiw==",renderCell:(e,i)=>(0,u.jsx)(IJ,{onDeleteSpecialDay:t,item:e,index:i,activeIndex:r}),getValue:e=>{var{day:t}=e;return t}}),new DO.Z({label:zX,key:"time",width:150,sortable:!0,cellContentClassName:$X,renderCell:(e,t)=>(0,u.jsx)(FJ,{from:e.from,to:e.to,weekend:e.weekend,index:t,activeIndex:r}),getValue:e=>{var{from:t}=e;return t}}),new DO.Z({label:UX,key:"commentSpecial",width:140,autoSize:!0,sortable:!0,cellContentClassName:$X,renderCell:(e,t)=>(0,u.jsx)("span",{title:e.comment,children:(0,u.jsx)(HJ,{comment:e.comment,index:t,activeIndex:r})}),getValue:e=>{var{comment:t}=e;return null===t?"":t}})]};const BJ="PGaKT67BJq87JHwSvgyy6Q==",GJ="aFV1k7NDu+Z7oKYJw15YqQ==";class WJ extends m.Component{render(){var{handleAdd:e,handleEdit:t,activeIndex:r,handleCancel:i}=this.props;return null!==r?(0,u.jsxs)("div",{className:GJ,children:[(0,u.jsx)(Ae.Z,{onClick:t,className:BJ,children:XX}),(0,u.jsx)(Ae.Z,{onClick:i,className:BJ,children:JX})]}):(0,u.jsx)("div",{className:GJ,children:(0,u.jsxs)(Ae.Z,{onClick:e,className:BJ,children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),QX]})})}}WJ.defaultProps={activeIndex:null},WJ.propTypes={handleAdd:c().func.isRequired,handleEdit:c().func.isRequired,activeIndex:c().number,handleCancel:c().func.isRequired};const UJ=WJ,VJ="E3LIoA4dO1cG3QdAOqI8KQ==",zJ="iy3Yo2W7Ym7tH6slR6M-Tg==";function YJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class QJ extends m.Component{constructor(){super(...arguments),YJ(this,"handleDate",(e=>{var{handleChange:t}=this.props;t(e)})),YJ(this,"incrementYear",(()=>{var{day:e}=this.props,t=ns()(e,ft._E).add(1,"year").format(ft.vc),{handleChange:r}=this.props;r(t)})),YJ(this,"decrementYear",(()=>{var{day:e}=this.props,t=ns()(e,ft._E).add(-1,"year").format(ft.vc),{handleChange:r}=this.props;r(t)}))}render(){var{day:e}=this.props,t=ns()(e,ft.vc).format("dddd"),r=t[0].toUpperCase()+t.slice(1);return(0,u.jsxs)("div",{className:"_25V0iyr+4zlNkhlpgNmwMw==",children:[(0,u.jsx)(Ae.Z,{onClick:this.decrementYear,className:VJ,children:(0,u.jsx)(et.ZP,{glyph:et.Y4,className:zJ})}),(0,u.jsx)("span",{className:"oA5foYU3uby+SBK78cRqjA==",children:ns()(e,ft._E).year()}),(0,u.jsx)(Ae.Z,{onClick:this.incrementYear,className:VJ,children:(0,u.jsx)(et.ZP,{glyph:et.LZ,className:zJ})}),(0,u.jsx)("span",{className:"A9-NehvpPyQFjAscq5DWKA==",children:KX}),(0,u.jsx)(mt.Z,{onChange:this.handleDate,dateFormat:ft.vc,date:e}),(0,u.jsx)("span",{className:"S5nIcRG3zup1rVBb7B714w==",children:r})]})}}QJ.propTypes={handleChange:c().func.isRequired,day:c().string.isRequired};const KJ=QJ;class XJ extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChangePeriod",((e,t,r)=>{var{handleChange:i}=this.props;i(e,t,r)}))}render(){var{from:e,to:t,weekend:r}=this.props;return(0,u.jsxs)("div",{className:"AAlHHVoHaPrpbBGoySW7IQ==",children:[(0,u.jsx)("span",{className:"yQqbL3mS-2f+ckP7otc3WA==",children:zX}),(0,u.jsx)(hJ,{onChange:this.handleChangePeriod,from:e,to:t,weekend:r})]})}}XJ.propTypes={handleChange:c().func.isRequired,from:(0,zi.Z)(ft.wJ).isRequired,to:(0,zi.Z)(ft.wJ).isRequired,weekend:c().bool.isRequired};const JJ=XJ;class $J extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChangeInput",(e=>{var{handleChange:t}=this.props;t(e.target.value)}))}render(){var{comment:e}=this.props;return(0,u.jsxs)("div",{className:"q2qSwRIu0cLmtWXsLFRMPA==",children:[(0,u.jsx)("span",{className:"-wMN9JRcn0ACo+V4360XaA==",children:UX}),(0,u.jsx)("input",{onChange:this.handleChangeInput,className:"VxYGNa2eUM9DOsiaL23QrA==",value:e,type:"text",name:"comment"})]})}}$J.defaultProps={handleChange:null,comment:""},$J.propTypes={handleChange:c().func,comment:c().string};const e$=$J;function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(r),!0).forEach((function(t){i$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s$={day:ns()((0,ft.zO)(),ft.vc).format(ft.vc),from:"08:00",to:"20:00",weekend:!1,comment:""};class n$ extends m.Component{constructor(e){super(e),i$(this,"handleDay",(e=>{this.setState({day:e})})),i$(this,"handleWorkingHours",((e,t,r)=>{this.setState({from:e,to:t,weekend:r})})),i$(this,"handleComment",(e=>{this.setState({comment:e})})),i$(this,"handleClick",(()=>{var{input:{value:e,onChange:t}}=this.props;t([...e,this.state]),this.setState(r$({},s$))})),i$(this,"handleEdit",(()=>{var{input:{value:e,onChange:t},activeIndex:r,handleCancel:i}=this.props,s=gi()(e);s[r]=this.state,t(s),i()})),this.state=s$}UNSAFE_componentWillReceiveProps(e){if(null!==e.activeIndex){if(e.activeIndex!==this.props.activeIndex){var{activeIndex:t}=e,{input:{value:r}}=this.props,{day:i,from:s,to:n,weekend:a,comment:o}=r[t];this.setState({day:i,from:s,to:n,weekend:a,comment:o})}}else this.setState(s$)}render(){var{day:e,from:t,to:r,weekend:i,comment:s}=this.state,{activeIndex:n,handleCancel:a}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(KJ,{day:e,handleChange:this.handleDay}),(0,u.jsx)(JJ,{from:t,to:r,weekend:i,handleChange:this.handleWorkingHours}),(0,u.jsx)(e$,{comment:s,handleChange:this.handleComment}),(0,u.jsx)(UJ,{handleAdd:this.handleClick,handleEdit:this.handleEdit,handleCancel:a,activeIndex:n})]})}}n$.propTypes=r$({},Bt.oX);const a$=n$;function o$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l$ extends m.Component{constructor(){super(...arguments),o$(this,"handleCellClick",((e,t,r)=>{var{changeActiveIndex:i}=this.props;i(r)})),o$(this,"handleDeleteSpecialDay",(e=>{var{changeSpecialDay:t,currentOffice:{specialWorkTime:r}}=this.props,i=gi()(r);i.splice(e,1),t(i)})),o$(this,"handleCancel",(()=>{var{changeActiveIndex:e}=this.props;e(null)}))}render(){var{currentOffice:{specialWorkTime:e,activeIndex:t}}=this.props,r={onDeleteSpecialDay:this.handleDeleteSpecialDay,activeIndex:t};return(0,u.jsxs)("form",{className:"tVG+t1Il6McbvaHsQkbIlA==",children:[(0,u.jsx)(_e.Z,{component:a$,type:"text",name:"specialWorkTime",activeIndex:t,handleCancel:this.handleCancel}),(0,u.jsx)(ZS.Z,{data:e,columns:_J(r),onCellClick:this.handleCellClick,hideBottomLeftGridScrollbar:!0,columnsAutoWidths:!0,cellClassName:"enable-transition virtualized-table__cell"})]})}}l$.defaultProps={specialWorkTime:[],currentOffice:{},changeSpecialDay:null,changeActiveIndex:null,activeIndex:null},l$.propTypes={specialWorkTime:c().array,currentOffice:c().object,changeActiveIndex:c().func,changeSpecialDay:c().func,activeIndex:c().number};const c$=l$;var d$="OfficeForm";const u$=(0,o.compose)((0,s.$j)((e=>({currentOffice:(0,qe.Z)(d$)(e)})),(e=>({changeSpecialDay:t=>e((0,Qr.m)(d$,"specialWorkTime",t)),changeActiveIndex:t=>e((0,Qr.m)(d$,"activeIndex",t))}))),(0,Fe.Z)({form:d$,destroyOnUnmount:!1}),PJ,v.ZP)(c$);class p$ extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getTimeZoneName",(()=>{var{currentTimeZone:e}=this.props;return"GMT ".concat(e>=0?"+":"").concat(e)}))}render(){var e=this.getTimeZoneName();return(0,u.jsx)("div",{title:e,children:e})}}p$.propTypes={currentTimeZone:c().number.isRequired};const h$=p$;var f$=(0,u.jsx)(J.Z,{id:"OfficeForm.addOffice",defaultMessage:[{type:0,value:"Добавление офиса"}]}),m$=(0,u.jsx)(J.Z,{id:"OfficeForm.editOffice",defaultMessage:[{type:0,value:"Редактирование офиса"}]}),v$=(0,u.jsx)(J.Z,{id:"OfficeForm.addSpecialDays",defaultMessage:[{type:0,value:"Добавление нетипичных дней"}]}),y$=(0,u.jsx)(J.Z,{id:"OfficeForm.editSpecialDays",defaultMessage:[{type:0,value:"Редактирование нетипичных дней"}]}),g$={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},b$=(0,u.jsx)(J.Z,{id:"Offices.addOffice",defaultMessage:[{type:0,value:"Добавить офис"}]}),j$=(0,u.jsx)(J.Z,{id:"Offices.name",defaultMessage:[{type:0,value:"Название"}]}),x$=(0,u.jsx)(J.Z,{id:"Offices.timeZone",defaultMessage:[{type:0,value:"Часовой пояс"}]}),S$=(0,u.jsx)(J.Z,{id:"Offices.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),O$={width:32},P$="virtualized-table__header-cell";function w$(e){var{deleteOffice:t}=e;return[new DO.Z({label:j$,key:"name",sortable:!0,filterable:!0,hasTitle:!1,width:300,renderHeader:()=>(0,u.jsxs)("div",{className:"virtualized-table__first-header-cell flex-container",children:[(0,u.jsx)("div",{style:O$}),j$]}),renderCell:e=>(0,u.jsxs)("div",{className:"virtualized-table__first-cell nowrap-content offices__first-column-cell",children:[(0,u.jsx)("span",{className:BX.removeButton,children:(0,u.jsx)(Mz.Z,{currentId:e.id,deleteCb:t})}),(0,u.jsx)("div",{title:e.name,className:"nowrap-content custom-style-cell editable-table-cell input-container",children:(0,u.jsx)("div",{className:BX.tableCell,children:e.name})})]})}),new DO.Z({headerClassName:P$,key:"timezone",sortable:!0,width:280,hasTitle:!1,label:x$,renderCell:e=>(0,u.jsx)("div",{className:"nowrap-content custom-style-cell editable-table-cell offices__timezone",children:(0,u.jsx)(h$,{currentTimeZone:e.timezone})})}),new DO.Z({headerClassName:P$,key:"comment",width:450,label:S$,autoSize:!0,hasTitle:!1,renderCell:e=>(0,u.jsx)("div",{className:BX.comment,children:(0,u.jsx)("div",{title:e.comment,className:BX.tableCell,children:e.comment})})})]}const C$=function(){return(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"Offices.officesSettings",defaultMessage:[{type:0,value:"Настройка офисов"}]})})};function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function T$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k$(Object(r),!0).forEach((function(t){N$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R$=e=>{var{fetchOffices:t,importOffices:r,deleteOffice:i,isOfficeEdit:s,user:n,onSetFilter:a,filteredOfficesList:o,filter:l,initializeOfficeForm:c,resetForm:d}=e,[p,h]=(0,m.useState)(!1),[f,v]=(0,m.useState)(!1),y=()=>h(!0),g=()=>{h(!1),v(!1)},b=(0,X.BC)(n,x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD),j={deleteOffice:i,handleAdd:y},S=s?m$:f$,O=s?y$:v$;return(0,u.jsxs)("div",{className:"offices",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(C$,{})}),(0,u.jsxs)("div",{className:"container offices__control-panel flex-container button-transparent-wrap",children:[(0,u.jsx)(FX,{onSuccess:t,onImportRequest:r}),(0,u.jsx)(_X,{onAddClick:()=>{h(!0),c({}),d()},addButtonLabel:b$,hidden:!b})]}),(0,u.jsx)("div",{className:"offices__table-wrap",children:(0,u.jsx)(VP.ZP,{data:o,columns:w$(j),setFilters:a,filters:l,rowHeight:32,columnsAutoWidth:!0,headerStyle:g$,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",onCellClick:(e,t)=>{var r=t.workTime.map((e=>T$(T$({},e),{},{from:null===e.from?"08:00":e.from,to:null===e.to?"20:00":e.to})));c(T$(T$({},t),{},{workTime:r})),y()},checkboxLabelClassName:BX.labelStyle})}),(0,u.jsx)(yk.Z,{open:p,width:500,onRequestChange:g,handleBackArrow:g,title:S,asideTitle:O,asideContent:(0,u.jsx)(u$,{}),asideWidth:455,asideOpen:f,children:(0,u.jsx)(RJ,{close:g})})]})};R$.propTypes=_()({filteredOfficesList:c().arrayOf(c().shape({comment:c().string,id:c().string,name:c().string,timezone:c().number})).isRequired,deleteOffice:c().func.isRequired,onSetFilter:c().func.isRequired,filter:c().object.isRequired,isOfficeEdit:c().bool.isRequired,initializeOfficeForm:c().func.isRequired,resetForm:c().func.isRequired,fetchOffices:c().func.isRequired,importOffices:c().func.isRequired,user:ge.Z.isRequired});const E$=R$;var D$=e=>!!((0,qe.Z)("OfficeForm")(e)||{}).id;const A$=(0,o.compose)((0,s.$j)((e=>({user:(0,C.ts)(e),isOfficeEdit:D$(e),isCreateOfficeSuccess:(0,B.SK)(e),filteredOfficesList:(0,B.Sl)(e),filter:(0,B.wu)(e)})),(e=>({fetchOffices:()=>e((0,Wv.fetchOffices)()),importOffices:t=>e((0,Wv.importOffices)(t)),deleteOffice:t=>e((0,Wv.deleteOffice)(t)),initializeOfficeForm:t=>{e((0,Qr.j2)("OfficeForm",t))},resetForm:()=>e((0,Qr.ob)("OfficeForm")),onSetFilter:t=>e((0,Wv.setOfficesListFilter)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchOffices()})),(0,Ci.c)(["history","location","params","route","routeParams","routes","children"]))(E$);var M$=r(3212);var I$={id:"Hierarchy.parentShouldNotBeAChildOfSameNode",defaultMessage:"Родитель не может быть дочерним элементом себя"},Z$=(0,u.jsx)(J.Z,{id:"PermissionGroupForm.externalGroupIdRequired",defaultMessage:[{type:0,value:"Поле 'ID внешней системы' обязатетельно для заполнения"}]}),q$=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]}),F$=(0,u.jsx)(J.Z,{id:"Common.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),L$=(0,u.jsx)(J.Z,{id:"Common.empty",defaultMessage:[{type:0,value:"Пусто"}]}),H$={id:"Common.parentGroup",defaultMessage:"Родительская группа"},_$=(0,u.jsx)(J.Z,{id:"Actions.delete",defaultMessage:[{type:0,value:"Удалить"}]}),B$=(0,u.jsx)(J.Z,{id:"Actions.cancel",defaultMessage:[{type:0,value:"Отмена"}]}),G$=(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]});function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function U$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W$(Object(r),!0).forEach((function(t){V$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z$=e=>{var{onSubmit:t,onCancel:r,submitting:i,invalid:s,style:n,id:a,formValues:o,permissionGroupsMap:l,groupId:c,deletePermissionGroup:d,pristine:p}=e,h=(0,er.Z)(),[f,v]=(0,m.useState)(c),[y,g]=(0,m.useState)(!1),[b,x]=(0,m.useState)(!0);(0,m.useEffect)((()=>{(0,j.xb)(f)||(g(f===a),x(f===c))}),[f]);var S=!!c,O=s||y||b&&p,P=h.formatMessage(H$),w=h.formatMessage(I$),C=(0,j.xb)(l[c])?L$:l[c].groupName,k=(0,j.xb)(l[f])?C:l[f].groupName;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:U$(U$({},n),{},{width:450}),onSubmit:t,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)("div",{className:"flex-item flex-item_fixed",children:(0,u.jsx)(hO,{name:"groupName",type:"text",useMui:!0,inputProps:{label:q$,fullWidth:!0},disabled:i,customError:GZ})}),(0,u.jsx)("div",{className:"flex-item flex-item_fixed",style:{marginTop:20},children:(0,u.jsx)(hO,{name:"externalGroupId",type:"text",useMui:!0,inputProps:{label:F$,fullWidth:!0},disabled:i,customError:Z$})}),S&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"YUwMeBAoGwkIWZ1Znplznw==",children:"".concat(P,": ").concat(k)})}),y&&(0,u.jsx)("div",{className:"context-color_error p+",children:w}),(0,u.jsx)("div",{className:me()("LsABrhGew1knwBhY5BZGMA==","scroll"),children:(0,u.jsx)(PR,{showQueues:!1,value:f||c,type:"radio",onChange:v})})]})]})}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[a&&(0,u.jsx)(VC.I,{popup:!0,onSubmit:()=>{d(a,(()=>{r()}))},className:"t5Tr10Am6rbb+K3uXZOGvA==",children:(0,u.jsx)(dR.Z,{children:_$})}),(0,u.jsx)(dR.Z,{onClick:r,children:B$}),(0,u.jsx)(Ge.Z,{type:"stripped",disabled:O,onClick:e=>{e.preventDefault(),t(U$(U$({},o),{},{groupId:f})),r()},caption:G$})]})]})};z$.defaultProps={onCancel:O.wA,submitting:!1,invalid:!1,onSubmit:O.wA,style:{},formValues:{},id:"",groupId:"",pristine:!0},z$.propTypes={id:P.K5,groupId:c().string,submitting:c().bool,invalid:c().bool,style:c().object,permissionGroupsMap:c().object.isRequired,formValues:c().object,onSubmit:c().func,onCancel:c().func,deletePermissionGroup:c().func.isRequired,pristine:c().bool};const Y$=z$;function Q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function K$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(r),!0).forEach((function(t){X$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J$="PermissionGroupForm",$$={groupName:"required",externalGroupId:"required"};const e0=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:e.form[J$]&&e.form[J$].values?e.form[J$].values.id:void 0,formValues:(0,qe.Z)(J$)(e),groupId:e.form[J$]&&e.form[J$].values?e.form[J$].values.groupId:void 0,children:e.form[J$]&&e.form[J$].values?e.form[J$].values.children:void 0,permissionGroupsMap:e.settings.permissionGroupsMap})),{createPermissionGroup:_i.createPermissionGroup,editPermissionGroup:_i.editPermissionGroup,fetchHierarchyTree:_i.fetchHierarchyTree,deletePermissionGroup:_i.deletePermissionGroup},((e,t,r)=>K$(K$(K$(K$({},e),t),r),{},{onSubmit:e=>{var r=K$(K$({},e),{},{externalGroupId:e.externalGroupId.trim(),groupName:e.groupName.trim()});r.id?t.editPermissionGroup(r,t.fetchHierarchyTree):t.createPermissionGroup(r)}}))),(0,Fe.Z)({form:J$,validate:(e,t)=>((e,t,r)=>{var{intl:{formatMessage:i},permissionGroupsMap:s}=r,{errors:n}=t;if(e.groupId)for(var a=s[e.groupId];a;)a.id===e.id&&(n.groupId=i(I$)),a=s[a.groupId];return n})(e,(0,xO.ZP)({data:e,fields:$$,formNameSpace:"Common",intl:t.intl}),t)}))(Y$),t0="h+hv2+SchXRDAzUVzrbEoQ==";var r0=e=>{var{initializeForm:t,fetchHierarchyTree:r,permissionGroupsTree:i}=e,[s,n]=(0,m.useState)(!1);return(0,u.jsxs)("div",{className:"+onZzokfDx-BMUjgTKqrlA==",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"SettingsMenu.structureOrganization",defaultMessage:[{type:0,value:"Структура организации"}]})})}),(0,u.jsx)("div",{className:"_9GHD5YyljJn0usq9DG64kg==",children:(0,u.jsx)(M$.e,{getNodeChildren:e=>[{render:()=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",height:30,paddingLeft:10},children:[(0,u.jsx)(Ae.Z,{style:{marginRight:10,display:"flex"},onClick:()=>{t({groupId:e.id,isGroup:!0}),n(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.dt,className:t0})}),i.id===e.id&&(0,u.jsx)(Ae.Z,{style:{display:"flex"},onClick:()=>{r()},children:(0,u.jsx)(et.ZP,{glyph:LP.Z.id,className:t0})})]}),customNode:!0},...e.children||[]],renderLabel:e=>(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ae.Z,{onClick:()=>(e=>{t(e),n(!0)})(e),style:{fontSize:"16px"},children:e.groupName})})})}),(0,u.jsx)(ve.ZP,{open:s,onClose:()=>n(!s),openSecondary:!0,onRequestChange:()=>n(!s),docked:!1,children:(0,u.jsx)("div",{className:"p+",style:{height:"100%"},children:(0,u.jsx)(e0,{style:{height:"100%"},onCancel:()=>n(!s)})})})]})};r0.propTypes=_()({initializeForm:c().func.isRequired,fetchHierarchyTree:c().func.isRequired,permissionGroupsTree:c().object.isRequired});const i0=r0;function s0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s0(Object(r),!0).forEach((function(t){a0(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s0(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o0=(0,o.compose)((0,s.$j)((e=>({rights:e.user.rights||{},permissionGroupsTree:(0,B.K2)(e)})),(e=>({fetchHierarchyTree:()=>e((0,_i.fetchHierarchyTree)()),editPermissionGroup:(t,r)=>e((0,_i.editPermissionGroup)(t,r)),fetchPermissionGroups:()=>e((0,_i.fetchPermissionGroups)()),deletePermissionGroup:(t,r)=>e((0,_i.deletePermissionGroup)(t,r)),initializeForm:t=>{e((0,Qr.j2)("PermissionGroupForm",n0(n0({},t),{},{name:t.name,externalId:t.externalId})))},resetForm:()=>e((0,Qr.ob)("PermissionGroupForm"))}))))(i0),l0="hv48dsJnI5f-w3DUbumliw==";var c0=(0,u.jsx)(J.Z,{id:"PositionForm.addPosition",defaultMessage:[{type:0,value:"Добавление должности"}]}),d0=(0,u.jsx)(J.Z,{id:"PositionForm.editPosition",defaultMessage:[{type:0,value:"Редактирование должности"}]}),u0=(0,u.jsx)(J.Z,{id:"Positions.addPosition",defaultMessage:[{type:0,value:"Добавить должность"}]}),p0={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},h0=(0,u.jsx)(J.Z,{id:"Positions.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),f0=(0,u.jsx)(J.Z,{id:"Positions.wage",defaultMessage:[{type:0,value:"Ставка, ₽/чac"}]}),m0="virtualized-table__header-cell",v0={width:32},y0=(0,u.jsx)(J.Z,{id:"Positions.name",defaultMessage:[{type:0,value:"Название"}]}),g0={color:"#77828c",padding:0,cursor:"pointer",width:"100%",paddingRight:20,textOverflow:"ellipsis",overflow:"hidden"},b0=e=>{var{deletePosition:t}=e;return[new DO.Z({label:y0,key:"name",width:350,sortable:!0,filterable:!0,hasTitle:!1,editable:!0,renderHeader:()=>(0,u.jsxs)("div",{className:"virtualized-table__first-header-cell flex-container",children:[(0,u.jsx)("div",{style:v0}),y0]}),renderCell:e=>(0,u.jsxs)("div",{className:"virtualized-table__first-cell nowrap-content positions__first-column-cell",children:[(0,u.jsx)("span",{className:"Xu8ZEaTTGdjbcSx5rWmNkw==",children:(0,u.jsx)(Mz.Z,{currentId:e.id,deleteCb:t})}),(0,u.jsx)("div",{title:e.name,className:"NSHg8FkchSICm-iyf-rSyA==",children:(0,u.jsx)("div",{style:g0,children:e.name})})]})}),new DO.Z({headerClassName:m0,label:f0,key:"hourlyWage",editComponent:"number",width:190,hasTitle:!1,sortable:!0,filterable:!0,editable:!0,getValue:e=>e.hourlyWage,renderCell:e=>(0,u.jsx)("div",{title:e.hourlyWage,className:l0,children:e.hourlyWage})}),new DO.Z({headerClassName:m0,label:h0,key:"externalId",width:200,sortable:!0,filterable:!0,hasTitle:!1,editable:!0,autoSize:!0,getValue:e=>eP(e.externalId),renderCell:e=>(0,u.jsx)("div",{title:e.externalId,className:l0,children:e.externalId})})]};const j0=function(){return(0,u.jsx)("div",{className:"positions__page-header",children:(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"Positions.positionsSettings",defaultMessage:[{type:0,value:"Настройка должностей"}]})})})};var x0=(0,u.jsx)(J.Z,{id:"PositionForm.name",defaultMessage:[{type:0,value:"Название*"}]}),S0=(0,u.jsx)(J.Z,{id:"PositionForm.wage",defaultMessage:[{type:0,value:"Ставка, ₽/чac*"}]}),O0=(0,u.jsx)(J.Z,{id:"PositionForm.externalId",defaultMessage:[{type:0,value:"ID внешней системы"}]}),P0=(0,u.jsx)(J.Z,{id:"Positions.addPosition",defaultMessage:[{type:0,value:"Добавить должность"}]}),w0=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),C0=(0,u.jsx)(J.Z,{id:"Common.requireFields",defaultMessage:[{type:0,value:"поля, обязательные для заполнения"}]});function k0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function T0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k0(Object(r),!0).forEach((function(t){N0(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k0(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R0=e=>{var{formValues:t,invalid:r,pristine:i,handleSubmit:s,close:n}=e,a=t.id?w0:P0;return(0,u.jsxs)("div",{className:"positions-form",children:[(0,u.jsx)("div",{className:"positions-form__body scroll",children:(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(ZM.Z,{label:x0,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name"})}),(0,u.jsx)(ZM.Z,{label:S0,required:!0,children:(0,u.jsx)(_e.Z,{component:_Z.Z,name:"hourlyWage",classNameInput:"_3b0fYPKgjx4jQddclwGRgA=="})}),(0,u.jsx)(ZM.Z,{label:O0,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"externalId"})})]})}),(0,u.jsxs)("div",{className:"positions-form__footer",children:[(0,u.jsx)("div",{className:"pb+",children:(0,u.jsx)("div",{className:"positions-form__asterisk",children:C0})}),(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{s(),n()},caption:a,disabled:r||i})]})]})};R0.defaultProps={formValues:{}},R0.propTypes=T0(T0({},Bt.ZP),{},{formValues:c().object});const E0=R0;function D0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D0(Object(r),!0).forEach((function(t){M0(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D0(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I0="PositionForm",Z0={name:"required",hourlyWage:"required",externalId:"required"};const q0=(0,o.compose)(v.ZP,(0,s.$j)((e=>({formValues:(0,qe.Z)(I0)(e),currentPosition:e.form.PositionForm&&e.form.PositionForm.values,userGroupRootId:(0,B.dL)(e)})),{createPosition:AF.createPosition,updatePosition:AF.updatePosition,change:Qr.m,fetchPositions:AF.fetchPositions},((e,t,r)=>A0(A0(A0({},e),r),{},{onSubmit:r=>{var i=A0(A0({},r),{},{externalId:r.externalId.trim(),name:r.name.trim()}),s=A0(A0({},i),{},{groupId:e.userGroupRootId});i.id?t.updatePosition(s):t.createPosition(s)}}))),(0,Fe.Z)({form:I0,validate:(e,t)=>(0,xO.ZP)({data:e,fields:Z0,intl:t.intl}).errors}))(E0);function F0(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class L0 extends m.Component{constructor(e){super(e),F0(this,"editFormOpen",(()=>{this.setState({createOpen:!0})})),F0(this,"closeAddForm",(()=>{this.setState({createOpen:!1})})),F0(this,"handleAdd",(()=>{var{initializePositionForm:e,resetForm:t}=this.props;this.setState({createOpen:!0}),e({}),t()})),F0(this,"handleCellClick",((e,t)=>{var{initializePositionForm:r}=this.props;r(t),this.editFormOpen()})),this.state={createOpen:!1}}render(){var{filteredPositionsList:e,filter:t,onSetFilter:r,user:i,deletePosition:s,isPositionEdit:n}=this.props,a={deletePosition:s},o=(0,X.BC)(i,x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD),l=n?d0:c0;return(0,u.jsxs)("div",{className:"positions",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(j0,{})}),(0,u.jsx)("div",{className:"container table-header-control-panel",children:(0,u.jsx)(_X,{onAddClick:this.handleAdd,addButtonLabel:u0,hidden:!o})}),(0,u.jsx)("div",{className:"positions__table-wrap",children:(0,u.jsx)(VP.ZP,{columns:b0(a),data:e,setFilters:r,filters:t,columnsAutoWidth:!0,headerStyle:p0,cellClassName:"enable-transition virtualized-table__cell",onCellClick:this.handleCellClick,classNameBottomRightGrid:"scroll",checkboxLabelClassName:"Q-rdFhivFQ3wPRaoz4PliQ=="})}),(0,u.jsx)(yk.Z,{handleBackArrow:this.closeAddForm,onRequestChange:this.closeAddForm,open:this.state.createOpen,title:l,width:560,children:(0,u.jsx)(q0,{close:this.closeAddForm})})]})}}L0.defaultProps={filteredPositionsList:[]},L0.propTypes=_()({resetForm:c().func.isRequired,initializePositionForm:c().func.isRequired,isPositionEdit:c().bool.isRequired,user:ge.Z.isRequired,deletePosition:c().func.isRequired,onSetFilter:c().func.isRequired,filter:c().object.isRequired,filteredPositionsList:c().arrayOf(P.O9)});const H0=L0;var _0="PositionForm",B0=e=>!!((0,qe.Z)(_0)(e)||{}).id;const G0=(0,o.compose)((0,s.$j)((e=>({isPositionEdit:B0(e),user:(0,C.ts)(e),filteredPositionsList:(0,B.N3)(e),filter:(0,B.xF)(e)})),(e=>({fetchPositions:()=>e((0,AF.fetchPositions)()),deletePosition:t=>e((0,AF.deletePosition)(t)),initializePositionForm:t=>{e((0,Qr.j2)(_0,t))},resetForm:()=>e((0,Qr.ob)(_0)),onSetFilter:t=>e((0,AF.setPositionsListFilter)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchPositions()})),(0,Ci.c)(["history","location","params","route","routeParams","routes","children","fetchPositions"]))(H0);var W0=r(3603),U0=(0,u.jsx)(J.Z,{id:"Common.save"}),V0=e=>{var{onClick:t,disabled:r}=e;return(0,u.jsx)(Ge.Z,{type:"stripped",onClick:t,caption:U0,disabled:r})};V0.defaultProps={disabled:!1},V0.propTypes={onClick:c().func.isRequired,disabled:c().bool};const z0=V0,Y0=(0,o.compose)((0,s.$j)((e=>({disabled:(0,W0.Z)(Fu.$F)(e)})),(e=>({onClick:()=>e((0,Qr.Ps)(Fu.$F))}))))(z0);function Q0(e){var{positionId:t,workActivityId:r}=e;return!!t&&!!r}var K0={tools:{width:100},position:{width:"30%"},workActivity:{width:"30%"},period:{}},X0={width:100};function J0(e){return K0[e]||X0}function $0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$0(Object(r),!0).forEach((function(t){t1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$0(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function t1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class r1 extends m.PureComponent{constructor(){super(...arguments),t1(this,"items",[{id:"Common.position",defaultMessage:"Должность",styleKey:"position"},{id:"Common.workActivity",defaultMessage:"Активность WFM",styleKey:"workActivity"},{id:"Common.timePeriod",defaultMessage:"Период времени",styleKey:"period"}])}render(){return(0,u.jsx)("table",{className:"simple-table",children:(0,u.jsx)("thead",{className:"table-header",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:J0("tools")}),this.items.map((e=>(0,u.jsx)("th",{style:J0(e.styleKey),children:(0,u.jsx)(J.Z,e1({},e))},e.id)))]})})})}}const i1=r1;function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s1(Object(r),!0).forEach((function(t){a1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o1="00:00";class l1 extends m.PureComponent{constructor(){super(...arguments),a1(this,"handleChange",(e=>{this.props.onChange(e)})),a1(this,"handlePeriodStartChange",(e=>{this.handleChange(n1(n1({},this.props.value),{},{start:e}))})),a1(this,"handlePeriodEndChange",(e=>{this.handleChange(n1(n1({},this.props.value),{},{end:e}))})),a1(this,"splitTimeString",(e=>{if(e.constructor===String){var t=ns()(e,"HH:mm");return{hours:t.format("HH"),minutes:t.format("mm")}}return e}))}render(){var{disabled:e,step:t}=this.props,r=(0,u.jsx)("div",{className:"pl pr",children:"-"});return(0,u.jsxs)("div",{className:"time-range-picker",children:[(0,u.jsx)(Cq,{value:this.splitTimeString(this.props.value.start),onChange:this.handlePeriodStartChange,disabled:e,step:t}),r,(0,u.jsx)(Cq,{value:this.splitTimeString(this.props.value.end),onChange:this.handlePeriodEndChange,disabled:e,step:t})]})}}l1.defaultProps={disabled:!1,value:{start:o1,end:o1},step:1},l1.propTypes={value:c().shape({start:c().string.isRequired,end:c().string.isRequired}),onChange:c().func.isRequired,disabled:c().bool,step:c().number};const c1=l1;function d1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p1 extends m.PureComponent{render(){return this.props.hidden?null:(0,u.jsx)(oi.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d1(Object(r),!0).forEach((function(t){u1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props))}}p1.propTypes={hidden:c().bool.isRequired};const h1=p1;function f1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m1 extends m.PureComponent{constructor(){super(...arguments),f1(this,"handleAdd",(()=>{var{createAccountingRule:e,positionId:t,workActivityId:r,hourlyWage:i,applyingHourlyWageType:s,period:n}=this.props;e({positionId:t,workActivityId:r,activityStartTime:n.start,hourlyWage:i||0,activityEndTime:n.end,applyingHourlyWageType:s}),this.props.clear()})),f1(this,"handleUpdate",(()=>{var{id:e,positionId:t,workActivityId:r,period:i,hourlyWage:s,applyingHourlyWageType:n}=this.props;this.props.updateAccountingRule({id:e,positionId:t,workActivityId:r,activityStartTime:i.start,activityEndTime:i.end,hourlyWage:s,applyingHourlyWageType:n},this.props.onUpdateSuccess)})),f1(this,"handleDelete",(()=>{this.props.removeAccountingRule(this.props.id)}))}render(){var{id:e,isChanged:t}=this.props,r=!e;return(0,u.jsx)("div",{children:r?(0,u.jsx)(Ae.Z,{onClick:this.handleAdd,disabled:!Q0(this.props),children:(0,u.jsx)(et.ZP,{glyph:et.N})}):(0,u.jsxs)("div",{children:[(0,u.jsx)(h1,{onClick:this.handleUpdate,disabled:!Q0(this.props),hidden:!t,children:(0,u.jsx)(et.ZP,{glyph:et.N})}),(0,u.jsx)(h1,{onClick:this.handleDelete,hidden:t,children:(0,u.jsx)(et.ZP,{glyph:et.XH})})]})})}}m1.defaultProps={period:{},hourlyWage:"",id:"",positionId:"",workActivityId:"",applyingHourlyWageType:""},m1.propTypes={id:c().string,clear:c().func.isRequired,createAccountingRule:c().func.isRequired,removeAccountingRule:c().func.isRequired,updateAccountingRule:c().func.isRequired,isChanged:c().bool.isRequired,onUpdateSuccess:c().func.isRequired,positionId:c().string,workActivityId:c().string,hourlyWage:c().string,applyingHourlyWageType:c().string,period:c().object};const v1=m1,y1=(0,o.compose)((0,s.$j)(null,{createAccountingRule:kX.createAccountingRule,removeAccountingRule:kX.removeAccountingRule,updateAccountingRule:kX.updateAccountingRule}))(v1);class g1 extends m.PureComponent{render(){var{value:e,onChange:t,disabled:r}=this.props,i=me()("ml",{disabled:r});return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(xq.R,{value:e,style:{width:50,marginLeft:5,marginRight:20},hideArrows:!0,maxValue:999999999,onChange:t,disabled:r}),(0,u.jsx)("div",{className:i,children:(0,u.jsx)(J.Z,{id:"Common.wageRateHour"})})]})}}g1.propTypes={value:c().number.isRequired,onChange:c().func.isRequired,disabled:c().bool.isRequired};const b1=g1;function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j1(Object(r),!0).forEach((function(t){S1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O1 extends m.PureComponent{constructor(){super(...arguments),S1(this,"wagesList",[{value:x.ZP.WORK_ACTIVITY_HOURLY_WAGE,label:(0,u.jsx)(J.Z,{id:"salarySettings.forActivity",defaultMessage:[{type:0,value:"Ставке активности"}]})},{value:x.ZP.POSITION_HOURLY_WAGE,label:(0,u.jsx)(J.Z,{id:"salarySettings.forPosition",defaultMessage:[{type:0,value:"Ставке должности"}]})},{value:x.ZP.ACCOUNTING_RULE_HOURLY_WAGE,label:(0,u.jsx)(J.Z,{id:"salarySettings.forAccountingRule",defaultMessage:[{type:0,value:"Введенной стоимости"}]})}]),S1(this,"hourlyWageChange",(e=>{var{value:t,onChange:r}=this.props;r(x1(x1({},t),{},{hourlyWage:e}))})),S1(this,"hourlyWageTypeChange",(e=>{var{value:t,onChange:r}=this.props;r(x1(x1({},t),{},{applyingHourlyWageType:e}))}))}render(){var{value:e}=this.props,t=e.applyingHourlyWageType!==x.ZP.ACCOUNTING_RULE_HOURLY_WAGE;return(0,u.jsxs)("div",{className:"pt pb",children:[(0,u.jsx)(J.Z,{id:"salarySettings.payFor",defaultMessage:[{type:0,value:"Оплачивается по:"}]}),(0,u.jsxs)("div",{className:"flex-container pt pb",children:[(0,u.jsx)(Zb.E,{options:this.wagesList,onChange:this.hourlyWageTypeChange,selectedValue:e.applyingHourlyWageType}),(0,u.jsx)(b1,{value:e.hourlyWage,onChange:this.hourlyWageChange,disabled:t})]})]})}}O1.propTypes={onChange:c().func.isRequired,value:c().shape({applyingHourlyWageType:c().oneOf([x.ZP.WORK_ACTIVITY_HOURLY_WAGE,x.ZP.POSITION_HOURLY_WAGE,x.ZP.ACCOUNTING_RULE_HOURLY_WAGE]),hourlyWage:c().number}).isRequired};const P1=O1;function w1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w1(Object(r),!0).forEach((function(t){k1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T1="00:00";class N1 extends m.PureComponent{constructor(e){super(e),k1(this,"handlePositionChange",(e=>{this.setState({positionId:e,isChanged:!0})})),k1(this,"handleWorkActivityChange",(e=>{this.setState({workActivityId:e,isChanged:!0})})),k1(this,"handlePeriodChange",(e=>{this.setState({period:e,isChanged:!0})})),k1(this,"handleHourlyWagePickerChange",(e=>{this.setState(C1(C1({},e),{},{isChanged:!0}))})),k1(this,"handleUpdateSuccess",(()=>{this.setState({isChanged:!1})})),k1(this,"clear",(()=>{this.setState({applyingHourlyWageType:x.ZP.WORK_ACTIVITY_HOURLY_WAGE,period:{start:T1,end:T1},positionId:void 0,workActivityId:void 0,isChanged:!1})}));var{activityEndTime:t,activityStartTime:r,applyingHourlyWageType:i,hourlyWage:s,id:n,positionId:a,workActivityId:o}=this.props;this.state={applyingHourlyWageType:i,period:{start:r,end:t},hourlyWage:s,id:n,positionId:a,workActivityId:o,isChanged:!1}}UNSAFE_componentWillReceiveProps(e){var{applyingHourlyWageType:t,hourlyWage:r,id:i,positionId:s,workActivityId:n}=e;this.setState({applyingHourlyWageType:t,hourlyWage:r,id:i,positionId:s,workActivityId:n})}render(){var{positions:e,workActivities:t}=this.props,{id:r,positionId:i,workActivityId:s,period:n,hourlyWage:a,applyingHourlyWageType:o,isChanged:l}=this.state;return(0,u.jsx)("table",{className:"simple-table",children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)("tr",{style:{height:20}}),(0,u.jsxs)("tr",{className:"mt",children:[(0,u.jsx)("td",{style:J0("tools"),children:(0,u.jsx)(y1,{id:r,positionId:i,workActivityId:s,period:n,hourlyWage:a,applyingHourlyWageType:o,clear:this.clear,onUpdateSuccess:this.handleUpdateSuccess,isChanged:l})}),(0,u.jsx)("td",{style:J0("position"),children:(0,u.jsx)(yj.Z,{dataSource:e,dataSourceConfig:{value:"id",text:"name"},value:this.state.positionId,onChange:this.handlePositionChange})}),(0,u.jsx)("td",{style:J0("workActivity"),children:(0,u.jsx)(yj.Z,{dataSource:t,dataSourceConfig:{value:"id",text:"name"},value:this.state.workActivityId,onChange:this.handleWorkActivityChange})}),(0,u.jsx)("td",{style:J0("period"),children:(0,u.jsx)(c1,{value:this.state.period,onChange:this.handlePeriodChange})})]}),(0,u.jsxs)("tr",{style:{borderBottom:"1px solid lightgray"},children:[(0,u.jsx)("td",{style:J0("tools")}),(0,u.jsx)("td",{colSpan:5,children:(0,u.jsx)(P1,{value:this.state,onChange:this.handleHourlyWagePickerChange})})]})]})})}}N1.defaultProps={activityEndTime:T1,activityStartTime:T1,applyingHourlyWageType:x.ZP.WORK_ACTIVITY_HOURLY_WAGE,hourlyWage:"",id:"",positionId:"",workActivityId:""},N1.propTypes={positions:c().array.isRequired,workActivities:c().array.isRequired,activityEndTime:c().string,activityStartTime:c().string,applyingHourlyWageType:c().string,hourlyWage:c().string,id:c().string,positionId:c().string,workActivityId:c().string};const R1=N1;function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function D1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A1=e=>{var{positions:t,workActivities:r,accountingRules:i,loading:s}=e;return s?(0,u.jsx)(Z.Z,{}):(0,u.jsxs)("div",{className:"uHxTKbpZaXFO0UH1vZOMZg==",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("h2",{children:(0,u.jsx)(J.Z,{id:"salarySettings.relationsConstructor",defaultMessage:[{type:0,value:"Конструктор связей"}]})})}),(0,u.jsx)(i1,{}),(0,u.jsx)(R1,{positions:t,workActivities:r}),(0,u.jsx)("div",{className:"H0uW2Mzt52PzmD6R4sQmsA==",children:i.map((e=>(0,u.jsx)(R1,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E1(Object(r),!0).forEach((function(t){D1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({positions:t,workActivities:r},e),e.id)))})]})};A1.propTypes={positions:c().array.isRequired,workActivities:c().array.isRequired,accountingRules:c().array.isRequired,loading:c().bool.isRequired},i1.defaultProps={positions:[],workActivities:[]};const M1=A1,I1=(0,o.compose)((0,s.$j)((e=>({accountingRules:DX(e),loading:AX(e)})),{fetchAccountingRules:kX.fetchAccountingRules,accountingRulesFetched:kX.accountingRulesFetched}),(0,U.Z)((e=>{var{props:t}=e;t.fetchAccountingRules()})),(0,Ao.Z)((e=>{var{props:t}=e;t.accountingRulesFetched([])})))(M1);var Z1=(0,k.vU)({isAccountingReportEnabled:{id:"salarySettings.on",defaultMessage:[{type:0,value:"Включить расчет заработной платы"}]},isSalaryAccountingForManagerEnabled:{id:"salarySettings.showSumForManagers",defaultMessage:[{type:0,value:"Показывать суммы в отчете менеджера"}]},isAccountingReportForOperatorEnabled:{id:"salarySettings.showReportForOperators",defaultMessage:[{type:0,value:"Показывать отчет оператору"}]},isSalaryAccountingForOperatorEnabled:{id:"salarySettings.showSumForOperators",defaultMessage:[{type:0,value:"Показывать суммы в отчете оператора"}]}});function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q1(Object(r),!0).forEach((function(t){L1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H1={[TX]:(0,u.jsx)(J.Z,F1({},Z1.isAccountingReportEnabled)),[NX]:(0,u.jsx)(J.Z,F1({},Z1.isSalaryAccountingForManagerEnabled)),[RX]:(0,u.jsx)(J.Z,F1({},Z1.isAccountingReportForOperatorEnabled)),[EX]:(0,u.jsx)(J.Z,F1({},Z1.isSalaryAccountingForOperatorEnabled))};function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_1(Object(r),!0).forEach((function(t){G1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W1=e=>{var{formValues:t}=e;return(0,u.jsx)("div",{className:"pb",children:(0,u.jsxs)("div",{className:"pb pt",children:[(0,u.jsx)("div",{style:{paddingBottom:"10px"},children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:Fu.dv,label:H1[Fu.dv]})}),(0,u.jsxs)("div",{style:{paddingLeft:"20px"},children:[(0,u.jsx)("div",{style:{paddingBottom:"10px"},children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:Fu.pT,label:H1[Fu.pT],disabled:!t[Fu.dv]})}),(0,u.jsx)("div",{style:{paddingBottom:"10px"},children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:Fu.II,label:H1[Fu.II],disabled:!t[Fu.dv]})}),(0,u.jsx)("div",{style:{paddingLeft:"20px"},children:(0,u.jsx)("div",{style:{paddingBottom:"10px"},children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:Fu.FH,label:H1[Fu.FH],disabled:!t[Fu.dv]||!t[Fu.II]})})})]})]})})};W1.defaultProps={formValues:{}},W1.propTypes=B1(B1({},Bt.ZP),{},{formValues:c().object});const U1=W1,V1=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(Fu.$F)(e),initialValues:MX(e)}))),(0,Fe.Z)({form:Fu.$F,enableReinitialize:!0}))(U1);class z1 extends m.PureComponent{render(){return this.props.displayContent?(0,u.jsx)("div",{className:"JC9TTkTZTjwmcQTKwBOMSQ==",children:this.props.children}):null}}z1.propTypes={children:c().node.isRequired,displayContent:c().bool.isRequired};const Y1=z1;function Q1(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class K1 extends m.PureComponent{constructor(){super(...arguments),Q1(this,"onSaveFlagsSuccess",(()=>{this.props.fetchGlobalSettings(),Ii.T.success()})),Q1(this,"onSaveFlagsError",(()=>{(0,SO.x)()})),Q1(this,"handleFlagsChange",(e=>{this.props.updateGlobalSettingsArray(e,this.onSaveFlagsSuccess,this.onSaveFlagsError)}))}render(){var{positions:e,workActivities:t,globalSettings:r}=this.props,i="true"===r[Fu.dv];return(0,u.jsxs)("div",{className:"flex-container_vertical",style:{width:"100%"},children:[(0,u.jsxs)("div",{className:"rTOuDb5ybmzOyDrN0rzzhQ==",children:[(0,u.jsxs)("div",{className:"container with-divider",children:[(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"salarySettings",defaultMessage:[{type:0,value:"Настройка расчёта заработной платы"}]})}),(0,u.jsx)(V1,{globalSettings:r,onSubmit:this.handleFlagsChange})]}),(0,u.jsx)(Y1,{displayContent:i,children:(0,u.jsx)(I1,{positions:e,workActivities:t})})]}),(0,u.jsx)("div",{className:"_92D1DTyMQegOi9CYh3mIIA==",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(Y0,{})})})]})}}K1.propTypes={positions:c().array.isRequired,workActivities:c().array.isRequired,globalSettings:c().object.isRequired,updateGlobalSettingsArray:c().func.isRequired,fetchGlobalSettings:c().func.isRequired};const X1=(0,o.compose)((0,s.$j)((e=>({globalSettings:(0,B.Tv)(e),positions:(0,B.k8)(e),workActivities:Cm(e)})),{fetchGlobalSettings:V.fetchGlobalSettings,updateGlobalSettingsArray:V.updateGlobalSettingsArray,fetchPositions:AF.fetchPositions,fetchActivityList:Mm.fetchActivityList}),(0,U.Z)((e=>{var{props:t}=e;t.fetchGlobalSettings(),t.fetchPositions(),t.fetchActivityList()})))(K1),J1="JxMewq2ikfz6rLtlbmsp8w==",$1="TPIkjDtbJb6vaHi4OGe6Gg==";class e2 extends m.Component{render(){var{selected:e}=this.props;return(0,j.xb)(e)?null:(0,u.jsx)("ul",{className:"u8jnPFCPsNkZaSa6hSCyCA==",children:e.map(((e,t)=>(0,u.jsxs)("li",{className:"C6y+liGfPjtKSNUQbopiSg==",children:[(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>{this.props.onDelete(e.id)}}),"  ",(0,u.jsx)("span",{children:e.name})]},e.id||t)))})}}e2.propTypes={selected:c().array.isRequired,onDelete:c().func.isRequired};const t2=e2;class r2 extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDelete",(e=>{var{input:{value:t,onChange:r}}=this.props;return r(t.filter((t=>t.id!==e)))}))}render(){var{dataSource:e,dataSourceConfig:t,input:{value:r,onChange:i},classNameLabel:s}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(AQ,{dataSource:e,dataSourceConfig:t,value:r,onChange:i,withoutMargins:!0,classNameLabel:s}),(0,u.jsx)(t2,{selected:r,onDelete:this.handleDelete})]})}}r2.defaultProps={classNameLabel:""},r2.propTypes={input:Bt.bJ.isRequired,dataSource:c().arrayOf(c().object).isRequired,classNameLabel:c().string,dataSourceConfig:c().shape({text:c().string,value:c().oneOfType([c().string,c().number]).isRequired}).isRequired};const i2=r2;var s2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.enable",defaultMessage:[{type:0,value:"Включить блокировку"}]}),n2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.textFirst",defaultMessage:[{type:0,value:"Укажите, за сколько дней до текущей даты запрещено изменять расписание"}]}),a2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.textSecond",defaultMessage:[{type:0,value:"(нельзя заблокировать изменение расписания более, чем за 30 дней до текущей даты)"}]}),o2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.replacementActivities",defaultMessage:[{type:0,value:"Исключения для блокированного периода расписания"}]}),l2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.addBunchActivity",defaultMessage:[{type:0,value:"Добавить связку замены активностей"}]}),c2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.replaceableActivity",defaultMessage:[{type:0,value:"Заменяемая активность"}]}),d2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.replaceableActivityWFM",defaultMessage:[{type:0,value:"Заменяющая активность"}]}),u2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.whatReplaced",defaultMessage:[{type:0,value:"Чем заменяется"}]}),p2=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.titleAddingActivityReplacement",defaultMessage:[{type:0,value:"Добавление связки замены активностей"}]}),h2=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),f2=e=>{var t=150*Math.max(...e.map((e=>e.blockedReplacements.length)));return!t||t<900?900:t},m2={replaced:[]},v2=e=>{var{fields:t,workActivities:r,selectedActivities:i}=e;return(0,j.xb)(t)?null:(0,u.jsxs)("div",{children:[(0,u.jsx)("ul",{className:"b82ozjF+8XYdjkC5CzMuUQ==",children:t.map(((e,s)=>(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"pNbB8t+G4hTSKbdeAH3x7A==",children:[(0,u.jsxs)(TF.Z,{children:[(0,u.jsx)(kF.Z,{label:c2,children:(0,u.jsx)("div",{className:$1,children:(0,u.jsx)(_e.Z,{name:"".concat(e,".replaceable"),component:ZZ.Z,dataSource:r,classNameLabel:J1})})}),(0,u.jsx)(kF.Z,{label:u2,children:(0,u.jsx)("div",{className:$1,children:(0,u.jsx)(_e.Z,{name:"".concat(e,".replaced"),component:i2,dataSource:r,selectedActivities:i,classNameLabel:J1})})})]}),(0,u.jsx)(Ae.Z,{className:"y4alPbZju-Oa26xP2vgzHQ==",onClick:()=>t.remove(s),children:(0,u.jsx)(et.ZP,{glyph:et.XH})})]})},e)))}),(0,u.jsx)("div",{className:"UtQYgdF1tpk4ZEazi23PDw==",children:(0,u.jsx)(_X,{addButtonLabel:l2,onAddClick:()=>t.push(m2)})})]})};function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y2(Object(r),!0).forEach((function(t){b2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}v2.defaultProps={selectedActivities:[]},v2.propTypes={fields:c().object.isRequired,workActivities:c().array.isRequired,selectedActivities:c().array};var j2=e=>{var{handleSubmit:t,invalid:r,workActivities:i,formValues:s={},closeForm:n}=e;return(0,u.jsxs)("form",{className:"J1JmfSjfpSvQ7tTjCSAYVA==",onSubmit:t,children:[(0,u.jsx)("div",{className:"scroll",children:(0,u.jsx)(_A.Z,{name:"activities",component:v2,workActivities:i,selectedActivities:s.activities})}),(0,u.jsx)("div",{className:"AMD9wOgsgAmKe1MpJmviTg==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{t(),n()},caption:(0,u.jsx)(J.Z,{id:"Common.save"}),disabled:r})})]})};j2.propTypes=g2(g2({},Bt.ZP),{},{workActivities:c().array.isRequired,closeForm:c().func.isRequired});const x2=j2;function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S2(Object(r),!0).forEach((function(t){P2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w2="ScheduleBlockerForm";const C2=(0,o.compose)((0,s.$j)((e=>({workActivities:ma(e),workActivitiesMap:ba(e),formValues:(0,qe.Z)(w2)(e)})),(e=>({saveData:t=>{e((0,Gv.updateWorkActivityAll)(t,(()=>{e((0,Gv.fetchAllWorkActivities)())})))}})),((e,t,r)=>O2(O2(O2({},e),r),{},{onSubmit:r=>{t.saveData(((e,t)=>e.activities.map((e=>O2(O2({},t[e.replaceable]),{},{blockedReplacements:e.replaced.map((e=>e.id)),replaceable:!0}))))(r,e.workActivitiesMap))}}))),(0,Fe.Z)({form:w2,validate:e=>{var t={};if((0,j.xb)(e.activities)||(0,j.xb)(e.activities.length))t.activities={_error:"At least one member must be entered"};else{var r=[];e.activities.forEach(((e,t)=>{var i={};((0,j.xb)(e)||(0,j.xb)(e.replaceable))&&(i.replaceable="required",r[t]=i),((0,j.xb)(e)||(0,j.xb)(e.replaced))&&(i.replaced="required",r[t]=i)})),r.length&&(t.activities=r)}return t},initialValues:{activities:[m2]}}))(x2),k2="BomDltAUsWItqyhXWpH5Lg==";var T2=e=>{var{item:{id:t,name:r},onDeleteActivity:i}=e;return(0,u.jsx)("div",{className:k2,children:(0,u.jsx)(eS.Z,{divStyle:{width:"100%"},children:(0,u.jsxs)("div",{className:"XklX0FhCA7Sm-1rsYJ0yHw==",title:r,children:[(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>i(t)}),"  ",(0,u.jsx)("span",{className:"R+D3ibVl-79rOL3rn5+iIw==",children:r})]})})})};T2.propTypes={item:c().shape({id:c().string,name:c().string}).isRequired,onDeleteActivity:c().func.isRequired};const N2=T2;function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function E2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R2(Object(r),!0).forEach((function(t){D2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A2=e=>{var{activity:t,workActivitiesMap:r,handleEditWorkActivity:i}=e;return(0,j.xb)(r)?null:(0,u.jsx)("div",{className:k2,children:t.blockedReplacements.map((e=>(0,u.jsxs)("div",{className:"ayeJtoDZwolBbXDSDM4KlQ==",title:r[e].name,children:[(0,u.jsx)("span",{className:"DGrDNeHshur0Y5q79XWkzg==",children:r[e].name}),(0,u.jsx)(Ml.Z,{glyph:et.Tw,classContainer:"+ne6TsRaYxoUf8nLZaK8Lw==",onClick:()=>{var r;r=e,i(E2(E2({},t),{},{blockedReplacements:t.blockedReplacements.filter((e=>e!==r))}))}})]},e)))})};A2.propTypes={activity:c().object.isRequired,workActivitiesMap:c().object.isRequired,handleEditWorkActivity:c().func.isRequired};const M2=A2;var I2=e=>{var{activity:t}=e,r=(0,s.I0)(),i=(0,s.v9)(ba);return(0,u.jsx)(M2,{activity:t,workActivitiesMap:i,handleEditWorkActivity:e=>{r((0,Gv.editWorkActivity)(e,(()=>r((0,Gv.fetchAllWorkActivities)()))))}})};I2.propTypes={activity:c().object.isRequired};const Z2=I2,q2="rfwGlrCGQyiFZNAtP6WqDA==";var F2=e=>{var{onDeleteActivity:t,workActivities:r}=e;return[new DO.Z({label:c2,key:"name",hasTitle:!1,width:400,headerClassName:"_40CjsgC6TQdDsKWmoPGU5A==",renderCell:e=>(0,u.jsx)(N2,{item:e,onDeleteActivity:t})}),new DO.Z({label:u2,key:"replaced",hasTitle:!1,width:f2(r),headerClassName:"XbImTPx+dry8XrDTlYfLHw==",autoSize:!0,renderCell:e=>(0,u.jsx)(Z2,{activity:e})})]};const L2=()=>(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"ScheduleBlocker.scheduleLocks",defaultMessage:[{type:0,value:"Настройки блокировки расписания"}]})});function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H2(Object(r),!0).forEach((function(t){B2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G2=e=>{var{user:t,workActivities:r,formValues:i,handleSubmit:s,invalid:n,dirty:a,workActivitiesMap:o,editWorkActivity:l,fetchWorkActivities:c}=e,[d,p]=(0,m.useState)(!1),h=()=>p(!d),{enable:f}=i,v=(0,X.BC)(t,x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD),y=ns()().add(-i.days,"day").format(ft.pz),g={onDeleteActivity:e=>{var t=_2(_2({},o[e]),{},{blockedReplacements:[]});l(t,c)},workActivities:r},b=me()({"FAFg243n6bdrRkO1jaAk5A==":!f}),j=me()("W-eEbLyx3-Ifwb3w8LfVZg==",b),S=me()(q2,"container",b),O=me()("z5gK74tTwexsOE7NF6KYwA==",b),P=me()({"UuEHXC+IIck8UvfAZnSZIg==":!f});return(0,u.jsxs)("div",{className:"x1IDUE0U62Sq7qb1JxZx+g==",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(L2,{})}),(0,u.jsxs)("div",{className:P,children:[(0,u.jsxs)("form",{onSubmit:s,children:[(0,u.jsx)("div",{className:me()(q2,"NidpiYiO8PNOw+kRvwYSiA==","container"),children:(0,u.jsx)(_e.Z,{name:"enable",component:wr.XZ,className:"K+bH+ebrMDbEHk2ie9W3Ag==",label:s2})}),(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("p",{className:"p4ikVyQUP4bzfxjPYO2NwA==",children:(0,ft.zO)(ft.pz)}),(0,u.jsx)("p",{className:"oS8ddbR9czrd+TuHEfFf-w==",children:n2}),(0,u.jsx)("p",{className:"+Hl3ksV+jvrHqUCxr8UH+Q==",children:a2})]}),(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("div",{className:"tmGc069gDsjZNtAf7hjF3w==",children:(0,u.jsx)(_e.Z,{name:"days",component:wr.iR,width:600,min:0,max:30,step:1,disabled:!i.enable,hasMarks:!0,isScheduleBlocker:!0})}),(0,u.jsx)("p",{className:O,children:(0,u.jsx)(J.Z,{id:"ScheduleBlocker.textThird__two",defaultMessage:[{type:0,value:"Изменение расписания заблокировано до "},{type:1,value:"scheduleBlockerDays"}],values:{scheduleBlockerDays:y}})})]})]}),(0,u.jsxs)("article",{className:S,children:[(0,u.jsx)("h2",{className:"V0obX6-89p8+FBB+TSMPEQ==",children:o2}),(0,u.jsx)("div",{className:"Nz9kvPhCQ25KAsgVZ-IoNA==",children:(0,u.jsx)(Ge.Z,{type:"transparent",icon:(0,u.jsx)(et.ZP,{glyph:et.dt}),caption:l2,onClick:h,disabled:!v})})]})]}),(0,u.jsx)("div",{className:j,children:(0,u.jsx)(VP.ZP,{data:r,columns:F2(g),columnsAutoWidth:!0,classNameBottomRightGrid:"scroll",cellClassName:"enable-transition virtualized-table__cell"})}),(0,u.jsx)(Ze.dy,{open:d,onRequestChange:h,handleBackArrow:h,title:p2,width:510,children:d&&(0,u.jsx)("div",{className:"_7rMKCRDSmlzsd0fgBz+ZhQ==",children:(0,u.jsx)(C2,{closeForm:h})})}),(0,u.jsx)("div",{className:"lh9ouZoarXZdCmPcYk7YRg==",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:s,caption:h2,disabled:n||!a})})})]})};G2.defaultProps={formValues:{}},G2.propTypes=_2({editWorkActivity:c().func.isRequired,workActivities:c().array.isRequired,user:ge.Z.isRequired,formValues:c().object},Bt.ZP);const W2=G2;var U2=(0,Q.createSelector)(ma,(e=>e.filter((e=>!(0,j.xb)(e.blockedReplacements)))));function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V2(Object(r),!0).forEach((function(t){Y2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y2(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q2="ScheduleBlocker";const K2=(0,o.compose)((0,s.$j)((e=>({workActivities:U2(e),workActivitiesMap:ba(e),user:(0,C.ts)(e),formValues:(0,qe.Z)(Q2)(e),initialValues:{enable:"true"===e.settings.globalSettings.SCHEDULE_BLOCKER,days:-Number(e.settings.globalSettings.SCHEDULE_BLOCKER_DAYS)}})),(e=>({fetchGlobalSettings:()=>e((0,V.fetchGlobalSettings)()),fetchAllWorkActivities:()=>e((0,Gv.fetchAllWorkActivities)()),updateGlobalSettings:(t,r,i)=>e((0,V.updateGlobalSettings)(t,r,i)),updateGlobalSettingsAll:(t,r)=>e((0,V.updateGlobalSettingsAll)(t,r)),editWorkActivity:(t,r,i)=>e((0,Gv.editWorkActivity)(t,r,i))})),((e,t,r)=>z2(z2(z2(z2({},e),r),t),{},{onSubmit:e=>{var r=[{key:"SCHEDULE_BLOCKER",value:String(e.enable)},{key:"SCHEDULE_BLOCKER_DAYS",value:String(-e.days)}];t.updateGlobalSettingsAll(r,(()=>{t.fetchGlobalSettings()}))}}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchGlobalSettings(),t.fetchAllWorkActivities()})),(0,Fe.Z)({form:Q2,enableReinitialize:!0}))(W2);var X2=e=>e.settings.swap;class J2 extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"container note-exchange",children:[(0,u.jsxs)("span",{style:{paddingBottom:20,paddingTop:30},children:[(0,u.jsx)(J.Z,{id:"Settings.DeclineSwapHintMessage",defaultMessage:[{type:0,value:"«Отказ в обмене» - заявка не отобразится на доске"}]}),(0,u.jsx)(J.Z,{id:"Settings.PriorityStatus",defaultMessage:[{type:0,value:"(приоритетный статус);"}]})]}),(0,u.jsxs)("span",{children:[(0,u.jsx)(J.Z,{id:"Settings.SwapManagerRegulationHintMessage",defaultMessage:[{type:0,value:"«Участие менеджера» - заявка придет на согласование"}]}),(0,u.jsx)(J.Z,{id:"Settings.SwapAfterApproveHintMessage",defaultMessage:[{type:0,value:"(обмен сменами произойдет после подтверждения менеджером)"}]})]})]})}}const $2=J2;class e5 extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{keySetting:t,onChange:r,setDisableSetting:i}=this.props,s={key:t,value:e};i&&i(!e),r(s)}))}render(){var{selectedValue:e,label:t}=this.props,r=e;return"string"==typeof r&&(r=(0,Dh.z3)(e)),(0,u.jsx)("div",{className:"VDn2GVUBanSas9MhO56+XQ==",children:(0,u.jsx)(Rs.XZ,{onChange:this.handleChange,label:t,checked:r})})}}e5.defaultProps={setDisableSetting:null,selectedValue:"",keySetting:{}},e5.propTypes={selectedValue:c().string,label:c().object.isRequired,onChange:c().func.isRequired,setDisableSetting:c().func,keySetting:c().object};const t5=e5;var r5=r(68757);class i5 extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{keySetting:t,onChange:r}=this.props;r({key:t,value:e})}))}render(){var{options:e,isDisable:t,selectedValue:r}=this.props;return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("h2",{className:"bnRH0STOXmUBv3-sPFfQMA==",children:r5.ac}),(0,u.jsx)("div",{className:"radio-right",children:(0,u.jsx)(Zb.E,{options:e,onChange:this.handleChange,selectedValue:r,disable:t})})]})}}i5.propTypes={options:c().array.isRequired,onChange:c().func.isRequired,keySetting:c().string.isRequired,isDisable:c().bool.isRequired,selectedValue:c().array.isRequired};const s5=i5;class n5 extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{keySetting:t,onChange:r}=this.props;r({key:t,value:e})}))}render(){var{options:e,disable:t,selectedValue:r}=this.props;return(0,u.jsx)(Zb.E,{options:e,onChange:this.handleChange,selectedValue:r,classContainer:"radio-group-vertical",disable:t,classBtn:"XI+R7i4kNgx2DyP2sq71Fw=="})}}n5.propTypes={options:c().array.isRequired,disable:c().bool.isRequired,onChange:c().func.isRequired,selectedValue:c().string.isRequired,keySetting:c().string.isRequired};const a5=n5;function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o5(Object(r),!0).forEach((function(t){c5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d5=(0,u.jsx)(J.Z,{id:"Settings.SwapParamsTitle",defaultMessage:[{type:0,value:"Параметры сравнения"}]}),u5=(0,u.jsx)(J.Z,{id:"Settings.SwapMatchTitle",defaultMessage:[{type:0,value:"Совпадение"}]}),p5=(0,u.jsx)(J.Z,{id:"Settings.SwapMismatchTitle",defaultMessage:[{type:0,value:"Несовпадение"}]}),h5=(0,u.jsx)(J.Z,{id:"Settings.SkillEmployeesTitle",defaultMessage:[{type:0,value:"Навыки сотрудников"}]}),f5=(0,u.jsx)(J.Z,{id:"Settings.WorkActivitiesTitle",defaultMessage:[{type:0,value:"Активности в смене"}]}),m5=(0,u.jsx)(J.Z,{id:"Settings.UserTaskTitle",defaultMessage:[{type:0,value:"Задачи"}]});class v5 extends m.Component{constructor(){super(...arguments),c5(this,"getProps",((e,t)=>{var{options:r,onChange:i,isDisable:s}=this.props;return l5(l5({},{options:r,onChange:i,disable:s}),{},{keySetting:e,selectedValue:t})}))}render(){var{values:e}=this.props,t=this.getProps(r5.BC.SKILLS_MATCH_RULE,e.queueMatchValue),r=this.getProps(r5.BC.SKILLS_MISMATCH_RULE,e.queueMismatchValue),i=this.getProps(r5.BC.WORK_ACTIVITIES_MATCH_RULE,e.workMatchValue),s=this.getProps(r5.BC.WORK_ACTIVITIES_MISMATCH_RULE,e.workMismatchValue),n=this.getProps(r5.BC.USER_TASK_TEMPLATES_MATCH_RULE,e.userMatchValue),a=this.getProps(r5.BC.USER_TASK_TEMPLATES_MISMATCH_RULE,e.userMismatchValue);return(0,u.jsx)("div",{className:me()("relations-constructor","flex-container_vertical","_96Zu5mrC11q+roZtsxh5yA=="),children:(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("table",{className:"simple-table simple-table-exchange",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:d5}),(0,u.jsx)("th",{children:u5}),(0,u.jsx)("th",{children:p5})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:"mt",children:[(0,u.jsx)("td",{children:h5}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},t))}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},r))})]}),(0,u.jsxs)("tr",{className:"mt",children:[(0,u.jsx)("td",{children:f5}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},i))}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},s))})]}),(0,u.jsxs)("tr",{className:"mt",children:[(0,u.jsx)("td",{children:m5}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},n))}),(0,u.jsx)("td",{children:(0,u.jsx)(a5,l5({},a))})]})]})]})})})}}v5.defaultProps={isDisable:!1},v5.propTypes={options:c().array.isRequired,onChange:c().func.isRequired,isDisable:c().bool,values:c().object.isRequired};const y5=v5;function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g5(Object(r),!0).forEach((function(t){j5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x5 extends m.Component{constructor(){super(...arguments),j5(this,"state",{disable:!1,initialSettings:{},settings:{}}),j5(this,"setSettings",(e=>{var{settings:t}=this.state,r={[e.key]:e.value},i=b5(b5({},t),r);this.setState({settings:i})})),j5(this,"setDisableSetting",(e=>{this.setState({disable:e})})),j5(this,"saveSettings",(()=>{var{settings:e}=this.state,{updateGlobalSettings:t}=this.props;this.setState({initialSettings:e}),t(e)}))}UNSAFE_componentWillReceiveProps(e){var{swap:t}=this.props,{swap:r}=e;if(t!==r){var i=r5.BC.SWAP_SCHEDULE_SERVICE_STATUS,s=(0,Dh.z3)(r[i]);this.setState({settings:r,initialSettings:r,disable:!s})}}get pristine(){var{settings:e,initialSettings:t}=this.state;return VF()(e,t)}render(){var{settings:e,disable:t}=this.state,{isLoading:r}=this.props,i=r5.BC.SWAP_SCHEDULE_SCOPE,s=e[i],n=r5.BC.SWAP_SCHEDULE_SERVICE_STATUS,a=e[n],o=r5.BC.SWAP_SCHEDULE_MANAGER_APPROVAL,l=e[o],c={queueMatchValue:e[r5.BC.SKILLS_MATCH_RULE],queueMismatchValue:e[r5.BC.SKILLS_MISMATCH_RULE],workMatchValue:e[r5.BC.WORK_ACTIVITIES_MATCH_RULE],workMismatchValue:e[r5.BC.WORK_ACTIVITIES_MISMATCH_RULE],userMatchValue:e[r5.BC.USER_TASK_TEMPLATES_MATCH_RULE],userMismatchValue:e[r5.BC.USER_TASK_TEMPLATES_MISMATCH_RULE]},d=(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"Settings.ExchangeWork",defaultMessage:[{type:0,value:"Настройка доски обмена сменами и согласования заявок"}]})})}),p=(0,u.jsx)(J.Z,{id:"Settings.ManagerApproval",defaultMessage:[{type:0,value:"Согласование менеджера при дополнительных сменах"}]}),h=(0,u.jsx)(J.Z,{id:"Settings.SwapAllowWork",defaultMessage:[{type:0,value:"Разрешить обмен сменами"}]});return r?(0,u.jsxs)("div",{className:"flex-container_vertical exchange",children:[d,(0,u.jsx)(Z.Z,{})]}):(0,u.jsxs)("div",{className:"flex-container_vertical exchange",children:[d,(0,u.jsxs)("div",{className:"_31GIJQ-fDyWsZkrqZala8Q==",children:[(0,u.jsx)(t5,{onChange:this.setSettings,keySetting:o,selectedValue:l,label:p}),(0,u.jsx)(t5,{onChange:this.setSettings,keySetting:n,selectedValue:a,setDisableSetting:this.setDisableSetting,label:h}),(0,u.jsx)(s5,{options:r5.wp,isDisable:t,onChange:this.setSettings,keySetting:i,selectedValue:s}),(0,u.jsx)(y5,{isDisable:t,onChange:this.setSettings,values:c,options:r5.WT})]}),(0,u.jsxs)("div",{className:"OgLR7BJWBiJWfl2412YxNw==",children:[(0,u.jsx)($2,{}),(0,u.jsx)("div",{className:"bD1gALAZq42AOxxqf7BeZQ==",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:r5.NO,onClick:this.saveSettings,disabled:this.pristine})})]})]})}}x5.defaultProps={isLoading:!1},x5.propTypes={isLoading:c().bool,swap:c().object.isRequired,updateGlobalSettings:c().func.isRequired};const S5=x5;var O5=r(38886),P5={fetchAllSetting:O5.fetchAllSetting,updateGlobalSettings:O5.updateGlobalSettings};const w5=(0,o.compose)((0,s.$j)((e=>({swap:X2(e),isLoading:(0,B.Ze)(e)})),P5),(0,U.Z)((e=>{var{props:t}=e;t.fetchAllSetting()})))(S5);var C5=r(96230);const k5="TZ4G9XGnHoabmqrSCIi8Cg==";function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function N5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T5(Object(r),!0).forEach((function(t){R5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E5=e=>{var{roundValue:t,useMui:r,type:i,inputProps:s,customError:n,textAsNumber:a,field:{input:o,meta:{touched:l,error:c}}}=e,d=n||c;return r?"datepicker"===i?(0,u.jsxs)("div",{children:[(0,u.jsx)(mt.Z,N5(N5(N5({},o),s),{},{date:o.value,textFieldStyle:N5({height:"72px",verticalAlign:"bottom"},s.textFieldStyle),style:N5({display:"inline-block",verticalAlign:"bottom"},s.style),dateFormat:ft.vc})),c&&(0,u.jsx)("div",{className:"context-color_error",children:d})]}):"boolean"===i?(0,u.jsx)(MS.Z,N5(N5(N5({},o),s),{},{checked:o.value,onChange:(e,t)=>o.onChange(t),type:i,errorText:c&&d})):(0,u.jsx)(aO.Z,N5(N5(N5({},o),s),{},{className:"JBstEkxIp4YLG91Pog63Yw==",type:i,error:c,helperText:c&&d,onBlur:()=>{var{onChange:e,value:r}=o;t&&e((0,xO.Vb)(r,t))},onChange:e=>{var t=e.target.value[0],r=!Number.isNaN(Number(e.nativeEvent.data));(a?" "!==t&&r:" "!==t)&&o.onChange(e)}})):(0,u.jsxs)("div",{className:"input-field__wrap",children:[(0,u.jsx)("input",N5(N5(N5({className:"os-input os-input_type_".concat(i||"text")},s),o),{},{type:i})),l&&d&&(0,u.jsx)("span",{className:"input-field__error",children:d})]})};E5.defaultProps={roundValue:!1,customError:"",textAsNumber:!1},E5.propTypes={roundValue:c().bool,useMui:c().bool.isRequired,field:c().object.isRequired,inputProps:c().object.isRequired,type:c().string.isRequired,customError:c().oneOfType([c().string,c().node]),textAsNumber:c().bool};const D5=E5;function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function M5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A5(Object(r),!0).forEach((function(t){I5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Z5 extends m.Component{constructor(){super(...arguments),I5(this,"renderField",(e=>{var{useMui:t,inputProps:r,type:i,roundValue:s,customError:n,textAsNumber:a}=this.props;return(0,u.jsx)(D5,{useMui:t,inputProps:r,type:i,roundValue:s,field:e,customError:n,textAsNumber:a})}))}render(){return(0,u.jsx)(_e.Z,M5(M5({},this.props),{},{component:this.renderField}))}}Z5.defaultProps={customError:"",roundValue:!1,textAsNumber:!1,useMui:!1,inputProps:{}},Z5.propTypes={useMui:c().bool,inputProps:c().object,type:c().string.isRequired,customError:c().oneOfType([c().string,c().node]),roundValue:c().bool,textAsNumber:c().bool};var q5=r(96486),F5=r.n(q5);function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L5(Object(r),!0).forEach((function(t){_5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B5={background:"transparent",boxShadow:"none"},G5=e=>{var{handleSubmit:t,style:r,onDeleteClick:i,id:s,onCancel:n,invalid:a,pristine:o,rootGroupTree:l}=e,c=(0,m.useCallback)((e=>{var{input:{value:t,onChange:r}}=e;return(0,u.jsx)(M$.e,{onChange:O.wA,renderLabel:e=>{var i=!(!t||!t.find((t=>t===e.id)));return(0,u.jsxs)("div",{style:{paddingTop:"3px",cursor:"pointer"},className:"oVt8813zRDGBnoOSuAEhpA==",onClick:s=>{var n=[...t],a=(0,HF.oj)(e.id,l);if(i)if((0,q5.isEmpty)(a))r(n.filter((t=>t!==e.id)));else{var o=n.filter((e=>!a.includes(e)));r(o)}else n.push(e.id,...a),r(n);s.stopPropagation()},title:e.name||e.groupName,children:[(0,u.jsx)(aZ.Z,{checked:i,style:{color:"green"},onChange:O.wA}),e.name||e.groupName]})}})}),[]),d=a||o;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:H5({},r),onSubmit:t,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)("div",{className:"flex-item flex-item_fixed",children:(0,u.jsx)(hO,{name:"name",type:"text",useMui:!0,inputProps:{label:KZ,fullWidth:!0},customError:GZ})}),(0,u.jsx)("div",{className:me()("flex-item_flexible scroll","pvqDwKhZHYkk2GPjd8J9Bg=="),children:(0,u.jsx)(_e.Z,{name:"groupsIds",component:c})})]})}),(0,u.jsxs)("div",{className:me()("flex-item_fixed text-align_right","Tqmq7xN9fueyhApa-8P6TA=="),children:[!!i&&s&&(0,u.jsx)(dR.Z,{variant:"contained",color:"secondary",onClick:()=>{i(s)},children:cq}),(0,u.jsx)(dR.Z,{variant:"contained",style:B5,onClick:e=>{e.preventDefault(),n()},children:dq}),(0,u.jsx)(Ge.Z,{type:"stripped",disabled:d,onClick:e=>{e.preventDefault(),t()},caption:uq})]})]})};G5.defaultProps={handleSubmit:O.wA,onCancel:O.wA,onDeleteClick:O.wA,invalid:!1,pristine:!1,style:{}},G5.propTypes={handleSubmit:c().func,onCancel:c().func,onDeleteClick:c().func,invalid:c().bool,pristine:c().bool,style:c().object,id:P.K5.isRequired,rootGroupTree:c().object.isRequired};const W5=G5;function U5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function V5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U5(Object(r),!0).forEach((function(t){z5(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z5(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y5=e=>{var{submitting:t,handleSubmit:r,style:i,onDelete:s,id:n,invalid:a,dirty:o,onCancel:l}=e,c=a||!o;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:V5({},i),onSubmit:r,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsx)(hO,{name:"name",type:"text",useMui:!0,inputProps:{label:KZ,fullWidth:!0},disabled:t,customError:GZ}),(0,u.jsx)(hO,{name:"externalId",type:"text",useMui:!0,inputProps:{label:eq,fullWidth:!0},disabled:t,customError:WZ}),(0,u.jsx)("div",{className:"Akd8bW4GFA7nIzkAZ2bmNg==",children:(0,u.jsx)(Z5,{name:"norm",type:"text",useMui:!0,inputProps:{label:sq,fullWidth:!0},disabled:t,textAsNumber:!0})})]})}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[!!s&&n&&(0,u.jsx)(dR.Z,{variant:"contained",color:"secondary",onClick:()=>s(n),children:cq}),(0,u.jsx)(dR.Z,{variant:"contained",style:B5,onClick:e=>{e.preventDefault(),l()},children:dq}),(0,u.jsx)(Ge.Z,{type:"stripped",disabled:c,onClick:e=>{e.preventDefault(),r()},caption:uq})]})]})};Y5.defaultProps={handleSubmit:O.wA,onCancel:O.wA,onDelete:O.wA,invalid:!1,dirty:!1,submitting:!1,style:{},id:null},Y5.propTypes={handleSubmit:c().func,onCancel:c().func,onDelete:c().func,invalid:c().bool,submitting:c().bool,dirty:c().bool,style:c().object,id:c().string};const Q5=Y5;var K5="SubTaskTemplateForm",X5=(0,CW.Z)(K5),J5={name:xO.z2.required,externalId:xO.z2.required},$5=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:X5(e,"id")}))),(0,Fe.Z)({form:K5,validate:(e,t)=>(0,xO.ZP)({data:e,fields:J5,formNameSpace:"Common",intl:t.intl}).errors}))(Q5);$5.defaultProps={onDelete:c().func.isRequired,onSubmit:c().func.isRequired};const e4=$5;function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function r4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t4(Object(r),!0).forEach((function(t){i4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i4(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s4="TaskGroupForm",n4={groupsIds:xO.z2.required,name:xO.z2.required,minDuration:xO.z2.required,maxDuration:xO.z2.required};const a4=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:e.form[s4]&&e.form[s4].values?e.form[s4].values.id:void 0,groupId:e.form[s4]&&e.form[s4].values?e.form[s4].values.groupId:void 0,parentTaskGroupId:e.form[s4]&&e.form[s4].values?e.form[s4].values.parentId:void 0,children:e.form[s4]&&e.form[s4].values?e.form[s4].values.children:void 0,taskGroupsMap:e.settings.taskGroupsMap,tasksGroupsTree:e.settings.tasksGroupsTree,permissionGroupsMap:e.settings.permissionGroupsMap,rootGroupTree:e.settings.permissionGroupsTree})),{createTaskGroup:SF.createTaskGroup,editTaskGroup:SF.editTaskGroup,deleteTaskGroup:SF.deleteTaskGroup,fetchTaskTemplates:jZ.fetchTaskTemplates,fetchTasksGroupsHierarchy:SF.fetchTasksGroupsHierarchy},((e,t,r)=>r4(r4(r4(r4({},e),t),r),{},{onSubmit:e=>{var i=[...new Set(e.groupsIds)],s=r4(r4({},e),{},{groupsIds:i,name:e.name.trim()});e.id?t.editTaskGroup(s,(()=>{r.onSave&&r.onSave(s),t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy()})):t.createTaskGroup(s,(()=>{r.onSave&&r.onSave(s),t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy()})),r.onCancel()},onDeleteClick:e=>{t.deleteTaskGroup(e,(e=>{r.onDelete(e),t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy()}))}}))),(0,Fe.Z)({form:s4,validate:(e,t)=>{var r=(0,xO.ZP)({data:e,fields:n4,formNameSpace:"Common",intl:t.intl});if(e.groupsIds&&e.groupsIds.length<1&&(r.errors.groupsIds="Errors"),e.parentId)for(var i=t.taskGroupsMap[e.parentId];i;)i.id===e.id&&(r.errors.parentId=t.intl.formatMessage({id:"Hierarchy.parentShouldNotBeAChildOfSameNode"})),i=t.taskGroupsMap[i.parentId];return r.errors}}))(W5);var o4=r(64436),l4=r(43700);var c4=e=>{var{onChange:t,value:r,label:i,error:s,activities:n,formClassName:a,selectClassName:o,selectItemClassName:l,activityNameLabelStyle:c}=e;return(0,u.jsxs)(o4.Z,{className:a,children:[(0,u.jsx)(l4.Z,{id:"simple-select-label",children:i}),(0,u.jsx)(xZ.Z,{labelId:"simple-select-label",id:"simple-select",className:o,value:r,onChange:t,activityNameLabelStyle:c,error:s,children:n.map((e=>(0,u.jsx)(cZ.Z,{className:l,value:e.id,children:(0,u.jsx)("div",{className:c,title:e.name,children:e.name})},e.id)))}),s&&(0,u.jsx)("div",{className:"b2HLhrbDImbseKCC+yA3EQ==",children:s})]})};c4.defaultProps={activities:[],value:"",formClassName:"",selectClassName:"",selectItemClassName:"",activityNameLabelStyle:"",error:""},c4.propTypes={onChange:c().func.isRequired,value:c().string,label:c().node.isRequired,activities:c().array,formClassName:c().string,selectClassName:c().string,selectItemClassName:c().string,activityNameLabelStyle:c().string,error:c().oneOfType([c().string,c().node])};const d4=c4,u4=(0,o.compose)((0,s.$j)((e=>({activities:cn(e)}))),v.ZP)(d4);var p4=e=>{var[t,r]=(0,m.useState)([e.value]);(0,m.useEffect)((()=>{r([...e.value])}),[e.value]);var{onChange:i,label:s,activities:n,formClassName:a,selectClassName:o,className:l}=e;return(0,u.jsxs)(o4.Z,{className:a,children:[(0,u.jsx)(l4.Z,{id:"multi-select-label",children:s}),(0,u.jsx)(xZ.Z,{labelId:"multi-select-label",id:"multi-select",multiple:!0,className:o,value:t,onChange:e=>{i(e),r(e.target.value)},children:n.map((e=>(0,u.jsx)(cZ.Z,{className:l,style:{width:430},value:e.id,title:e.name,children:e.name},e.id)))})]})};p4.defaultProps={activities:[],value:[],formClassName:"",selectClassName:"",className:""},p4.propTypes={onChange:c().func.isRequired,value:c().array,label:c().node.isRequired,activities:c().array,formClassName:c().string,selectClassName:c().string,className:c().string};const h4=p4,f4=(0,o.compose)((0,s.$j)((e=>({activities:cn(e)}))),v.ZP)(h4);function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m4(Object(r),!0).forEach((function(t){y4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y4(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g4=e=>{var{submitting:t,handleSubmit:r,style:i,invalid:s,onDeleteClick:n,id:a,dirty:o,onCancel:l}=e,c=s||!o;return(0,u.jsxs)("form",{className:"flex-container flex-container_vertical",style:v4({},i),onSubmit:r,children:[(0,u.jsx)("div",{className:"flex-item flex-item_flexible scrollbar",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",children:[(0,u.jsxs)("div",{className:"flex-item flex-item_fixed",children:[(0,u.jsx)(Z5,{name:"name",type:"text",useMui:!0,inputProps:{label:KZ,fullWidth:!0},disabled:t,customError:GZ}),(0,u.jsx)(Z5,{name:"externalId",type:"text",useMui:!0,inputProps:{label:eq,fullWidth:!0},disabled:t,customError:WZ}),(0,u.jsx)(_e.Z,{name:"workActivityId",component:e=>{var{input:t,meta:{error:r}}=e;return(0,u.jsx)(u4,{label:JZ,error:r&&UZ,formClassName:"Id1q-cTlOgAXMF1xf6rHtg==",name:t.name,value:t.value,onChange:e=>t.onChange(e.target.value),activityNameLabelStyle:"_5d9Ve4+Von0GVOKks04uTw=="})},customError:UZ}),(0,u.jsx)(_e.Z,{name:"possibleReplacesIds",component:e=>{var{input:t}=e;return(0,u.jsx)(f4,{label:$Z,name:"replaceableActivities",formClassName:"biEFYsDVtQKSCkxeepbf5g==",className:"N4GIieQmEpf7iVfA9pceaQ==",value:t.value,onChange:e=>t.onChange(e.target.value)})}}),(0,u.jsx)("div",{className:k5,children:(0,u.jsx)(Z5,{name:"priority",type:"text",useMui:!0,inputProps:{label:tq,fullWidth:!0},disabled:t,customError:zZ,textAsNumber:!0})}),(0,u.jsx)("div",{className:k5,children:(0,u.jsx)(Z5,{name:"minDuration",type:"text",useMui:!0,inputProps:{label:rq,fullWidth:!0},disabled:t,customError:VZ,roundValue:!0,textAsNumber:!0})}),(0,u.jsx)("div",{className:k5,children:(0,u.jsx)(Z5,{name:"step",type:"text",useMui:!0,inputProps:{label:nq,fullWidth:!0},disabled:t,customError:YZ,roundValue:!0,textAsNumber:!0})}),(0,u.jsx)("div",{className:k5,children:(0,u.jsx)(Z5,{name:"maxDuration",type:"text",useMui:!0,inputProps:{label:iq,fullWidth:!0},disabled:t,customError:QZ,roundValue:!0,textAsNumber:!0})})]}),(0,u.jsx)(pd.Z,{className:"flex-item flex-item_flexible scrollbar m"})]})}),(0,u.jsxs)("div",{className:"flex-item_fixed text-align_right",children:[!!n&&a&&(0,u.jsx)(dR.Z,{variant:"contained",color:"secondary",onClick:e=>{e.preventDefault(),n(a)},children:cq}),(0,u.jsx)(dR.Z,{variant:"contained",style:B5,onClick:e=>{e.preventDefault(),l()},children:dq}),(0,u.jsx)(Ge.Z,{type:"stripped",disabled:c,onClick:e=>{e.preventDefault(),r()},caption:uq})]})]})};g4.defaultProps={handleSubmit:O.wA,onDeleteClick:O.wA,onCancel:O.wA,invalid:!1,submitting:!1,dirty:!1,style:{}},g4.propTypes={handleSubmit:c().func,onDeleteClick:c().func,onCancel:c().func,invalid:c().bool,dirty:c().bool,submitting:c().bool,style:c().object,id:P.K5.isRequired};const b4=g4;function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function x4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j4(Object(r),!0).forEach((function(t){S4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S4(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O4="TaskTemplateForm",P4={name:xO.z2.required,externalId:xO.z2.required,workActivityId:xO.z2.required,priority:xO.z2.required,minDuration:xO.z2.required,step:xO.z2.required,maxDuration:xO.z2.required};const w4=(0,o.compose)(v.ZP,(0,s.$j)((e=>({id:e.form[O4]&&e.form[O4].values?e.form[O4].values.id:void 0,taskGroupsMap:e.settings.taskGroupsMap,tasksGroupsTree:e.settings.tasksGroupsTree,permissionGroupsMap:e.settings.permissionGroupsMap})),{createTaskTemplate:jZ.createTaskTemplate,updateTaskTemplate:jZ.updateTaskTemplate,deleteTaskTemplate:jZ.deleteTaskTemplate,fetchTaskTemplates:jZ.fetchTaskTemplates,fetchTasksGroupsHierarchy:SF.fetchTasksGroupsHierarchy},((e,t,r)=>x4(x4(x4(x4({},e),t),r),{},{onSubmit:e=>{var i=x4(x4({},e),{},{externalId:e.externalId.trim(),name:e.name.trim()});i.id?t.updateTaskTemplate(e,(()=>{t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy(),r.onSave&&r.onSave(i)})):t.createTaskTemplate(i,(()=>{t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy(),r.onSave&&r.onSave(i)}))},onDeleteClick:e=>{t.deleteTaskTemplate({id:e},(()=>{r.onDelete(),t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy()}))}}))),(0,Fe.Z)({form:O4,validate:(e,t)=>(0,xO.ZP)({data:e,fields:P4,formNameSpace:"Common",intl:t.intl}).errors}))(b4),C4="ELy30J95Pt3Zx4PGiLFzJw==",k4="Xaceu1D3B0FKZQA7g6FIvQ==",T4="_3lyPjeANgqTkS6P9bcJIWQ==",N4="wFvZL1Y1ThqJC0tJlazfjw==",R4="VFMrBDLkWiMmaeN1gXZfNw==",E4="D3CWbaHPIRU6OVPSb9S-Nw==",D4="U1-chfS7yCtRNtvHlL1YFw==";function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function M4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A4(Object(r),!0).forEach((function(t){I4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I4(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z4=e=>{var{taskTemplatesMap:t,taskTemplates:r,taskGroupsMap:i,updateTaskTemplate:s,fetchTaskTemplate:n,fetchTasksGroupsHierarchy:a,user:o,initializeTaskGroupForm:l,initializeTaskTemplateForm:c,initializeSubTaskTemplateForm:d}=e,[p,h]=(0,m.useState)(!1),[f,v]=(0,m.useState)(!1),[y,g]=(0,m.useState)(!1),[b,j]=(0,m.useState)(null),[S,O]=(0,m.useState)(null),P=C5.Z,w=dZ.Z,C=()=>g(!1),k=(0,X.Lb)(i).sort((0,X.hM)("name")),T=(0,X.xn)(k),N=t[S],R=T[b],E=(0,X.BC)(o,x.ZP.RIGHTS.TASK,x.ZP.CRUD);return(0,u.jsxs)("div",{className:"section",children:[(0,u.jsxs)("div",{className:"D6rSAcj1BktBeU2AZnsjKw==",children:[(0,u.jsx)(pd.Z,{className:"flex-item_flexible",children:(0,u.jsxs)("div",{className:"flex-container flex-container_vertical",style:{minWidth:"250px",height:"100%"},children:[(0,u.jsxs)("div",{className:me()("flex-item_fixed text-style_subheading",T4),children:[(0,u.jsx)(Ae.Z,{style:{display:"flex",marginRight:2},disabled:!E,onClick:()=>{l({}),h(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.dt,className:D4})}),(0,u.jsx)(J.Z,{id:"Tasks.taskGroups",defaultMessage:[{type:0,value:"Группы задач"}]})]}),(0,u.jsx)(iZ.Z,{}),(0,u.jsx)("div",{className:"scroll",style:{height:"100%",overflowY:"auto"},children:(0,u.jsx)(sZ.Z,{children:Object.keys(T).map((e=>(0,u.jsx)(nZ.Z,{button:!0,className:C4,onClick:()=>{j(e),O(null)},style:{paddingLeft:44,backgroundColor:e===b?P:void 0},children:(0,u.jsx)("div",{title:T[e].name,children:T[e].name})},e)))})})]})}),!!R&&(0,u.jsxs)(pd.Z,{style:{backgroundColor:P,minWidth:"250px"},className:"flex-container flex-container_vertical flex-item_flexible",elevation:5,children:[(0,u.jsxs)(pd.Z,{className:"flex-item_fixed",style:{backgroundColor:P},children:[(0,u.jsxs)("div",{className:N4,children:[(0,u.jsx)(Ae.Z,{disabled:!E,onClick:()=>{l(R),h(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.Wy,className:me()(E4)})}),(0,u.jsxs)("div",{className:me()("text-style_title",R4),title:R.name,children:[(0,u.jsx)(J.Z,{id:"Tasks.taskGroup",defaultMessage:[{type:0,value:"Группа задач"}]}),(0,u.jsx)("span",{children:": "}),(0,u.jsx)("span",{children:R.name})]}),(0,u.jsx)("div",{className:"flex-item_flexible"})]}),(0,u.jsx)(iZ.Z,{}),(0,u.jsxs)("div",{className:me()("text-style_subheading",T4),children:[(0,u.jsx)(Ae.Z,{style:{display:"flex",marginRight:2},disabled:!b||!E,onClick:()=>{c({userTaskGroupId:b}),v(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.dt,className:D4})}),(0,u.jsx)(J.Z,{id:"Tasks.taskTemplates",defaultMessage:[{type:0,value:"Шаблоны задач"}]})]}),(0,u.jsx)(iZ.Z,{})]}),(0,u.jsx)("div",{className:"flex-item_flexible scrollbar",style:{overflowY:"auto"},children:(0,u.jsx)(sZ.Z,{children:r.filter((e=>e.userTaskGroupId===b)).map((e=>(0,u.jsx)(nZ.Z,{className:C4,button:!0,onClick:()=>O(e.id),style:{paddingLeft:44,backgroundColor:e.id===S?w:void 0},children:(0,u.jsx)("div",{title:e.name,children:e.name})},e.id)))})})]}),!!N&&(0,u.jsxs)(pd.Z,{style:{backgroundColor:w,minWidth:"250px"},className:"flex-container flex-container_vertical flex-item_flexible",elevation:5,children:[(0,u.jsxs)(pd.Z,{style:{backgroundColor:w},className:"flex-item_fixed scrollbar",children:[(0,u.jsxs)("div",{className:N4,children:[(0,u.jsx)(Ae.Z,{disabled:!E,onClick:()=>{c(N),v(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.Wy,className:me()(E4)})}),(0,u.jsxs)("span",{className:me()("text-style_title",R4),title:N.name,children:[(0,u.jsx)(J.Z,{id:"Tasks.taskTemplate",defaultMessage:[{type:0,value:"Шаблон задач"}]}),(0,u.jsx)("span",{children:": "}),N.name]})]}),(0,u.jsx)(iZ.Z,{}),(0,u.jsxs)("div",{className:"text-style_subheading p+",style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,u.jsx)(Ae.Z,{style:{display:"flex",marginRight:2},disabled:!S||!E,onClick:()=>{d({userTaskGroupId:S}),g(!0)},children:(0,u.jsx)(et.ZP,{glyph:et.dt,className:D4})}),(0,u.jsx)(J.Z,{id:"Tasks.subtasks",defaultMessage:[{type:0,value:"Подзадачи"}]})]}),(0,u.jsx)(iZ.Z,{})]}),(0,u.jsx)("div",{className:"flex-item_flexible scrollbar",style:{overflowY:"auto",position:"relative"},children:(0,u.jsx)(sZ.Z,{children:(t[S].subtaskTemplates||[]).map((e=>(0,u.jsx)(nZ.Z,{className:C4,button:!0,style:{paddingLeft:44},onClick:()=>{E&&(d(e),g(!0))},children:(0,u.jsx)("div",{title:e.name,children:e.name})},e.id)))})})]})]}),(0,u.jsx)(ve.ZP,{className:k4,open:p,openSecondary:!0,onClose:()=>h(!p),onRequestChange:()=>h(!p),docked:!1,children:(0,u.jsx)("div",{className:"UR2wAxSpf7IotGb3JJEAhg==",style:{height:"100%"},children:(0,u.jsx)(a4,{style:{height:"100%"},onSubmit:()=>h(!1),onDelete:()=>{h(!1),j(null)},onCancel:()=>h(!p)})})}),(0,u.jsx)(ve.ZP,{className:k4,onClose:()=>v(!f),open:f,openSecondary:!0,onRequestChange:()=>v(!f),docked:!1,children:(0,u.jsx)("div",{className:"p+",style:{height:"100%"},children:(0,u.jsx)(w4,{style:{height:"100%"},onSave:()=>v(!1),onDelete:()=>{v(!1),O(null)},onCancel:()=>v(!f)})})}),(0,u.jsx)(ve.ZP,{className:k4,open:y,openSecondary:!0,onClose:()=>g(!y),onRequestChange:()=>g(!y),docked:!1,children:(0,u.jsx)("div",{className:"p+",style:{height:"100%"},children:(0,u.jsx)(e4,{style:{height:"100%"},onSubmit:e=>{var r=M4(M4({},e),{},{externalId:e.externalId.trim(),name:e.name.trim()}),i=t[S],o=[...i.subtaskTemplates.filter((e=>e.id!==r.id)),r],l=M4(M4({},i),{},{subtaskTemplates:o});s(l,(()=>{n({id:i.id}),a(),C()}))},onDelete:e=>{var r=t[S],i=r.subtaskTemplates.filter((t=>t.id!==e)),o=M4(M4({},r),{},{subtaskTemplates:i});s(o,(()=>{n({id:o.id}),a(),C()}))},onCancel:C})})})]})};Z4.defaultProps={taskTemplates:[]},Z4.propTypes=_()({taskTemplates:c().array,user:P.jZ.isRequired,updateTaskTemplate:c().func.isRequired,fetchTasksGroupsHierarchy:c().func.isRequired,taskGroupsMap:c().object.isRequired,initializeTaskGroupForm:c().func.isRequired,initializeTaskTemplateForm:c().func.isRequired,initializeSubTaskTemplateForm:c().func.isRequired,taskTemplatesMap:c().object.isRequired,fetchTaskTemplate:c().func.isRequired});const q4=Z4,F4=(0,o.compose)((0,s.$j)((e=>({taskGroupsMap:e.settings.taskGroupsMap,taskTemplates:e.settings.taskTemplates,taskTemplatesMap:e.settings.taskTemplatesMap,workActivitiesStatus:dn(e),user:(0,C.ts)(e)})),{fetchTaskTemplates:jZ.fetchTaskTemplates,deleteTaskTemplate:jZ.deleteTaskTemplate,updateTaskTemplate:jZ.updateTaskTemplate,createTaskTemplate:jZ.createTaskTemplate,addTaskTemplate:jZ.addTaskTemplate,fetchWorkActivities:Sa.fetchWorkActivities,fetchTasksGroupsHierarchy:SF.fetchTasksGroupsHierarchy,fetchTaskTemplatesByTaskGroup:jZ.fetchTaskTemplatesByTaskGroup,fetchTaskTemplate:jZ.fetchTaskTemplate,initializeTaskGroupForm:e=>t=>{t((0,Qr.j2)("TaskGroupForm",e))},initializeTaskTemplateForm:e=>t=>{t((0,Qr.j2)("TaskTemplateForm",e))},initializeSubTaskTemplateForm:e=>t=>{t((0,Qr.j2)("SubTaskTemplateForm",e))}}),(0,U.Z)((e=>{var{props:t}=e;t.fetchTaskTemplates(),t.fetchTasksGroupsHierarchy(),t.fetchWorkActivities()})))(q4);var L4=r(9198),H4=r(34733);class _4 extends m.Component{constructor(){super(...arguments),this.state={changedValues:{}}}render(){return(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("div",{className:"section__content",children:(0,u.jsx)("div",{className:"ph++",children:_r.ZP.keys.map((e=>(0,u.jsxs)("div",{className:"flex-container",children:[void 0!==this.state.changedValues[e]&&(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(AS.Z,{onClick:()=>{_r.ZP.set(e,this.state.changedValues[e]),this.setState({changedValues:{}},Ii.T.success)},children:(0,u.jsx)(DS.Z,{className:"material-icons",color:$B.Z[600],children:"save"})})}),(0,u.jsx)("div",{style:{flex:1},children:(0,u.jsx)(aO.Z,{fullWidth:!0,label:e,value:void 0!==this.state.changedValues[e]?this.state.changedValues[e]:_r.ZP.get(e),onChange:t=>{this.setState({changedValues:{[e]:t.target.value}})}})})]},e)))})}),(0,u.jsx)("div",{className:"section__footer p+",children:(0,u.jsx)(dR.Z,{onClick:()=>{_r.ZP.reset(),this.forceUpdate(),Ii.T.success()},backgroundColor:L4.Z[500],label:"reset",labelColor:H4.Z.white})})]})}}const B4=_4;var G4=r(66365),W4=r(92997),U4=(0,u.jsx)(J.Z,{id:"WorkActivityForm.activityName",defaultMessage:[{type:0,value:"Название активности"}]}),V4=(0,u.jsx)(J.Z,{id:"WorkActivityForm.replacementActivity",defaultMessage:[{type:0,value:"Чем заменяем"}]}),z4=(0,u.jsx)(J.Z,{id:"WorkActivityForm.scheduleActivity",defaultMessage:[{type:0,value:"Активность в расписании"}]});function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y4(Object(r),!0).forEach((function(t){K4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K4(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class X4 extends m.Component{constructor(e){super(e),K4(this,"onUpdateSearch",(0,Yi.D)(1e3,!1,(e=>{var t=this.props.workActivities.filter((t=>-1!==t.name.toLowerCase().indexOf(e.toLowerCase()))).sort(this.sortFunc);this.setState({filteredItems:t})}))),K4(this,"onSearchTextChange",(e=>{this.setState({searchText:e.target.value}),this.onUpdateSearch(e.target.value)})),K4(this,"makeItemCheckboxHandler",(e=>t=>{var{onChange:r}=this.props.input;this.setState((r=>{var i=[...r.selectedItems];return t?i.push(e.id):i=i.filter((t=>t!==e.id)),{selectedItems:i}}),(()=>{r(this.state.selectedItems)}))})),K4(this,"itemDisabled",(e=>{var{selectedItems:t,disableSelectedItems:r}=this.props;return!(!r||!t||!t.some((t=>t.id===e)))})),this.list=null;var{value:t}=e.input,r=new Intl.Collator;this.state={selectedItems:t,searchText:"",filteredItems:e.workActivities.sort(((e,t)=>r.compare(e.name,t.name)))}}UNSAFE_componentWillReceiveProps(e){var{input:{value:t}}=e;this.props.input.value!==t&&this.setState({selectedItems:t}),e.workActivities!==this.props.workActivities&&this.setState({filteredItems:e.workActivities.sort(this.sortFunc)})}render(){var{disabled:e=!1,intl:{formatMessage:t}}=this.props,{selectedItems:r}=this.state,i=t({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),s=me()("scroll","UuDwWEAZ1AJXZh7NO8Qrxw==");return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"pq5DTp06ZK+bBuUZy0ZijA==",children:(0,u.jsx)("input",{type:"text",placeholder:i,name:"search",value:this.state.searchText,onChange:this.onSearchTextChange,style:{width:"100%"},disabled:e,autoComplete:"off"})}),(0,u.jsx)("div",{className:s,children:this.state.filteredItems.map((e=>{var t=!(0,j.xb)(r)&&r.some((t=>t===e.id)),i=e.id,s=this.itemDisabled(i),n=(0,u.jsx)("span",{children:e.name});return(0,u.jsx)("div",{className:"mIgPpEJHxj3+GUIMv-3EGA==",children:(0,u.jsx)(Rs.XZ,{checked:s||t,onChange:this.makeItemCheckboxHandler(e),disabled:s,label:n})},i)}))})]})}}X4.defaultProps={disabled:!1,disableSelectedItems:!1,selectedItems:[],workActivities:[]},X4.propTypes=Q4(Q4({},Bt.oX),{},{workActivities:c().array,disabled:c().bool,disableSelectedItems:c().bool,selectedItems:c().array,intl:c().object.isRequired});const J4=X4,$4=(0,o.compose)((0,s.$j)((e=>({workActivities:(0,B._8)(e)}))),v.ZP)(J4),e3="aVb8izTh4qfHdiMJFKph-w==",t3="-uAKTE-luJ9Y58EOHNXqBw==";var r3=e=>{var{workActivities:t,handleSubmit:r,formValues:i,pristine:s,openAutoChangeBunchId:n}=e,a=!(0,j.xb)(n)&&s||(0,j.xb)(null==i?void 0:i.activity)||(0,j.xb)(null==i?void 0:i.autoReplacementActivity)||(0,j.xb)(null==i?void 0:i.autoReplaceable);return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:e3,children:[(0,u.jsx)("div",{className:t3,children:U4}),(0,u.jsx)(_e.Z,{name:"activity",component:ZZ.Z,dataSource:t})]}),(0,u.jsxs)("div",{className:e3,children:[(0,u.jsx)("div",{className:t3,children:(0,u.jsx)(J.Z,{id:"WorkActivityForm.autoReplacementActivity",defaultMessage:[{type:0,value:"Чем заменяем"}]})}),(0,u.jsx)(_e.Z,{name:"autoReplacementActivity",component:ZZ.Z,dataSource:t})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"dPeebWebPi-9lRUCyHIqvQ==",children:(0,u.jsx)(J.Z,{id:"WorkActivityForm.scheduleActivities",defaultMessage:[{type:0,value:"Активности из расписания"}]})}),(0,u.jsx)(_e.Z,{name:"autoReplaceable",component:$4})]}),(0,u.jsx)("div",{className:"fylrAW9MiesW55AzUnzfqQ==",children:(0,u.jsx)(W4.Z,{onClick:r,disabled:a})})]})};r3.defaultProps={workActivities:[],openAutoChangeBunchId:"",pristine:!0,formValues:{autoReplaceable:[],autoReplacementActivity:"",activity:""}},r3.propTypes={workActivities:c().array,openAutoChangeBunchId:c().string,handleSubmit:c().func.isRequired,pristine:c().bool,formValues:c().object};const i3=r3;function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s3(Object(r),!0).forEach((function(t){a3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a3(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o3="AddEditAutoChangeBunchForm",l3=(e,t)=>{var r=e.find((e=>e.id===t));return{activity:r.workActivity.id,autoReplacementActivity:r.replacementActivity.id,autoReplaceId:r.autoReplaceId,autoReplaceable:r.autoReplaceable.map((e=>e.id))}};const c3=(0,o.compose)((0,s.$j)((e=>({openAutoChangeBunchId:ha(e),formValues:(0,qe.Z)(o3)(e)})),{createAutoReplaceableActivities:Gv.createAutoReplaceableActivities,updateAutoReplaceableActivities:Gv.updateAutoReplaceableActivities,initialize:Qr.j2,destroy:Qr.ob,fetchAutoReplaceableActivities:Gv.fetchAutoReplaceableActivities,setAutoChangeBunchId:Gv.setAutoChangeBunchId},((e,t,r)=>n3(n3(n3(n3({},e),t),r),{},{initializeForm:e=>{t.initialize(o3,e)},onSubmit:()=>{var{formValues:i,openAutoChangeBunchId:s}=e,{closeAddForm:n}=r,{activity:a,autoReplacementActivity:o,autoReplaceId:l,autoReplaceable:c}=i,d=()=>{n(),t.fetchAutoReplaceableActivities(),t.setAutoChangeBunchId(""),t.destroy(o3)},u={baseWorkActivityId:a,replacementActivityId:o,autoReplaceableIds:c},p={id:l,baseWorkActivityId:a,replacementActivityId:o,autoReplaceableIds:c};(0,j.xb)(s)?t.createAutoReplaceableActivities(u,d):t.updateAutoReplaceableActivities(p,d)}}))),(0,Fe.Z)({form:o3}),(0,U.Z)((e=>{var{props:t}=e,{openAutoChangeBunchId:r,autoReplaceableActivities:i}=t;(0,j.xb)(r)||t.initializeForm(l3(i,r))})),(0,fZ.Z)(((e,t)=>{var{props:r}=e,{openAutoChangeBunchId:i,autoReplaceableActivities:s}=t;r.openAutoChangeBunchId===i||(0,j.xb)(i)||r.initializeForm(l3(s,i))})))(i3);var d3=e=>{var{onClickAddAutoChangeForm:t}=e;return(0,u.jsx)("div",{className:"U7y8ca2UiHEkX-UOrKgC4g==",children:(0,u.jsxs)(Ae.Z,{onClick:t,children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)(J.Z,{id:"WorkActivityForm.addAutoChangeBunch",defaultMessage:[{type:0,value:"Добавить связку автозамены"}]})]})})};d3.propTypes={onClickAddAutoChangeForm:c().func.isRequired};const u3=d3;var p3=e=>{var{array:t}=e;if((0,j.xb)(t))return null;var r=(e=>{var t=e.map((e=>e.name));return[].concat(...t)})(t);return(0,u.jsxs)("div",{className:"_75gbYN4L9n2Rj8NNv11QjQ==",children:[(0,u.jsx)("div",{className:"text-ellipsis flex-item_flexible",children:r.join(", ")}),!!r.length&&(0,u.jsxs)("span",{className:"IDLPnJr2MtQnS3qnXJM7Cg==",children:[(0,u.jsx)("span",{children:"("}),r.length,(0,u.jsx)("span",{children:")"})]})]})};p3.defaultProps={array:[]},p3.propTypes={array:c().array};const h3=p3,f3="a5LL64JuV3nvBMR3GruRWw==",m3="xiqkU09WbMOrNURAo+DDdQ==";var v3=(e,t)=>{var{deleteActivity:r}=e;return[new DO.Z({label:U4,key:"workActivity",sortable:!0,filterable:!0,width:220,getValue:e=>(0,lx.Tq)(e.workActivity,"name"),renderHeader:()=>(0,u.jsx)("div",{className:"s5cnLmpzHImj2NNRYK7kWA==",children:U4}),renderCell:e=>{var{workActivity:{id:i,name:s},autoReplaceId:n}=e,a=me()("oPClYnOA843xGOnac1noag==",{[f3]:i===t});return(0,u.jsxs)("div",{className:a,title:s,children:[(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>r(n)})}),(0,u.jsx)("span",{className:"i+tfJ7VWrufGkE5fctJlpg==",children:s})]})}}),new DO.Z({key:"replacementActivity",sortable:!0,filterable:!0,width:176,label:V4,getValue:e=>(0,lx.Tq)(e.replacementActivity,"name"),renderHeader:()=>(0,u.jsx)("div",{className:YH.oB,children:V4}),renderCell:e=>(0,u.jsx)("div",{className:me()(m3,{[f3]:e.workActivity.id===t}),title:e.replacementActivity.name,children:(0,u.jsx)("span",{className:"ig7qTAXxCsJs+awNaWhn8w==",children:e.replacementActivity.name})})}),new DO.Z({label:z4,key:"autoReplaceable",width:297,sortable:!0,filterable:!0,filterComponent:AO.Z,getValue:e=>(0,jo.uG)(e.autoReplaceable).map((e=>e.name)),renderHeader:()=>(0,u.jsx)("div",{className:YH.oB,children:z4}),renderCell:e=>{return(0,u.jsx)("div",{className:me()(m3,{[f3]:e.workActivity.id===t}),title:(r=e.autoReplaceable,i=[],(0,j.xb)(r)||r.forEach((e=>i.push(" "+e.name))),i),children:(0,u.jsx)(h3,{array:e.autoReplaceable})});var r,i}})]},y3=e=>{var{setAutoChangeBunchId:t,autoChangeBunchList:r,onOpenAddAutoChangeForm:i,activeActivityId:s,deleteAutoReplaceableActivity:n}=e,a={deleteActivity:e=>{n(e)}};return(0,u.jsx)("div",{className:"icCmu5vmICyCKzsWj-OjEA==",children:(0,u.jsx)(VP.ZP,{columns:v3(a,s),data:r,onCellClick:(e,r)=>{t(r.id),i()},rowHeight:30,hideBottomLeftGridScrollbar:!0,columnsAutoWidth:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll"})})};y3.defaultProps={autoChangeBunchList:[],activeActivityId:""},y3.propTypes={autoChangeBunchList:c().array,activeActivityId:c().string,onOpenAddAutoChangeForm:c().func.isRequired,setAutoChangeBunchId:c().func.isRequired,deleteAutoReplaceableActivity:c().func.isRequired};const g3=y3;var b3=e=>{var{onOpenAddAutoChangeForm:t,onClickAddAutoChangeForm:r,setAutoChangeBunchId:i,workActivitiesMap:s,autoChangeBunchList:n,activeActivityId:a,deleteAutoReplaceableActivity:o}=e;return(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsx)(u3,{onClickAddAutoChangeForm:r}),(0,u.jsx)(g3,{activeActivityId:a,setAutoChangeBunchId:i,workActivitiesMap:s,autoChangeBunchList:n,onOpenAddAutoChangeForm:t,deleteAutoReplaceableActivity:o})]})};b3.defaultProps={workActivitiesMap:{},autoChangeBunchList:[],activeActivityId:""},b3.propTypes={autoChangeBunchList:c().array,workActivitiesMap:c().object,activeActivityId:c().string,onOpenAddAutoChangeForm:c().func.isRequired,onClickAddAutoChangeForm:c().func.isRequired,setAutoChangeBunchId:c().func.isRequired,deleteAutoReplaceableActivity:c().func.isRequired};const j3=b3;var x3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.maxMovementInterval",defaultMessage:[{type:0,value:"Максимальный интервал перемещения (мин.)"}]}),S3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.prohibitAll",defaultMessage:[{type:0,value:"Запретить всем, кроме"}]}),O3=[{value:"allowAll",label:(0,u.jsx)(J.Z,{id:"WorkActivityForm.allowAll",defaultMessage:[{type:0,value:"Разрешить всем, кроме"}]})},{value:"prohibitAll",label:S3}],P3=e=>{var{input:{onChange:t,value:r}}=e;return(0,u.jsx)(Zb.E,{options:O3,onChange:t,selectedValue:r||"allowAll"})};P3.propTypes={input:c().shape(Bt.oX).isRequired};const w3=P3,C3="cjW1giTHKaHCF-mL1ovVFw==",k3="_1eRqJY6twbq0RiRtX8WsDQ==";var T3={value:"id",text:"name"},N3={id:"WorkActivityForm.searchEmployeesBy",defaultMessage:"Искать сотрудников по"},R3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.structure",defaultMessage:[{type:0,value:"Структуре организации"}]}),E3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.office",defaultMessage:[{type:0,value:"Офису"}]}),D3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.skill",defaultMessage:[{type:0,value:"Навыку"}]}),A3=(0,u.jsx)(J.Z,{id:"WorkActivityForm.scheme",defaultMessage:[{type:0,value:"Схеме работы"}]}),M3={id:"ScheduleControl.SearchByOrgPoints",defaultMessage:"Поиск по структуре организации"},I3={id:"WorkActivityForm.searchByOffice",defaultMessage:"Поиск по офису"},Z3={id:"WorkActivityForm.searchBySkill",defaultMessage:"Поиск по навыку"},q3={id:"WorkActivityForm.searchByScheme",defaultMessage:"Поиск по схеме работы"},F3=[{value:"group",label:R3},{value:"office",label:E3},{value:"skills",label:D3},{value:"schemes",label:A3}];const L3=c().shape({containers:c().arrayOf(c().shape({containerId:c().string,day:c().number})),dayOffRules:c().array,untypicalDays:c().array,containersMap:c().objectOf(c().shape({containerId:c().string,day:c().number})),externalGroupId:MZ.Z,externalId:c().string,externalParentId:c().string,firstDay:c().string,groupId:MZ.Z,groupName:c().string,id:MZ.Z,isGroup:c().bool,maxDay:c().number,shiftInterval:c().number,name:c().string});var H3=e=>{var{input:{onChange:t},dataSet:r,employeeList:i,excludingUsersBySelectedActivity:n}=e,a=(0,s.v9)(B.K2),o=(0,er.Z)(),[l,c]=(0,m.useState)([]),[d,p]=(0,m.useState)("group"),[h,f]=(0,m.useState)(i),[v,y]=(0,m.useState)(n);(0,m.useEffect)((()=>{c([])}),[d]),(0,m.useEffect)((()=>{t(v)}),[v]),(0,m.useEffect)((()=>{var e=ML(l,d,i,r);f(e)}),[l,i]);var g=(0,j.xb)(a)?[]:[a],b=((e,t)=>{switch(e){case"group":return t.formatMessage(M3);case"skills":return t.formatMessage(Z3);case"office":return t.formatMessage(I3);case"schemes":return t.formatMessage(q3);default:return""}})(d,o),x=h.map((e=>({id:e.id,name:e.name})));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"VgoVUfZdN5O7+8oD0N1h9g==",children:"".concat(o.formatMessage(N3),":")}),(0,u.jsx)("div",{className:k3,children:(0,u.jsx)(Zb.E,{options:F3,selectedValue:d||"group",onChange:p,classContainer:"Vw9e+-1wG4cfI+Hm9jrzlA==",radioBtnContainerClassName:k3,removeBtnMargins:!0})}),(0,u.jsx)("div",{hidden:"group"!==d||(0,j.xb)(d),className:C3,children:(0,u.jsx)(pL,{data:g,initValue:l,placeholder:b,onChange:e=>c(e)})}),(0,u.jsx)(Gl.Z,{hidden:"group"===d,dataSource:null==r?void 0:r[d],values:l,onChange:e=>c(e),dataSourceConfig:T3,dropDownHeight:200,classContainer:C3,hintText:b}),(0,u.jsx)("div",{className:"oAkprWcflppt6MyKrZ9UOA==",children:(0,u.jsx)(Hx.Z,{dataSource:x,dataSourceConfig:T3,onChange:e=>y(e),values:v,listHeight:window.innerHeight-336})})]})};H3.defaultProps={excludingUsersBySelectedActivity:[]},H3.propTypes={input:c().shape(Bt.oX).isRequired,dataSet:c().shape({groups:c().arrayOf(P.Aj),offices:c().arrayOf(P.in),schemes:c().arrayOf(L3),skills:c().arrayOf(c().shape({id:P.K5.isRequired,name:c().string,operations:c().array,queues:c().array}))}).isRequired,employeeList:c().arrayOf(c().object).isRequired,excludingUsersBySelectedActivity:c().array};const _3=H3;function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function G3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B3(Object(r),!0).forEach((function(t){W3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W3(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const U3=(0,o.compose)((0,s.$j)((e=>{var t;return{group:Object.values((0,B.GJ)(e)),office:(0,B.TB)(e),skills:(0,MF.Jh)(e),groupId:null===(t=(0,B.K2)(e))||void 0===t?void 0:t.id,schemes:(0,NM.Hn)(e),employeeList:(0,Lu.GJ)(e),isSchemeListShowedByGroup:(0,B.vH)(e,"isSchemeListShowedByGroup")}}),{fetchEmployees:dy.fetchEmployees,fetchOffices:Wv.fetchOffices,fetchSkills:dy.fetchSkills,fetchSchedules:ua.fetchSchedules,fetchAllScheduleSchemeList:YA.fetchAllScheduleSchemeList}),(0,fl.G)((e=>{var{group:t,office:r,skills:i,schemes:s}=e;return G3(G3({},e),{},{dataSet:{group:t,office:r,skills:i,schemes:s}})})),(0,U.Z)((e=>{var{props:t}=e,r=t.isSchemeListShowedByGroup?{groupId:t.groupId}:{};t.fetchOffices(),t.fetchAllScheduleSchemeList(),t.fetchSkills(t),t.fetchSchedules(r),t.fetchEmployees({id:t.groupId})})))(_3);var V3=e=>{var{excludingUsersBySelectedActivity:t}=e;return(0,u.jsxs)("div",{className:"mMf2iKRfmlxrsVRhy2t+9Q==",children:[(0,u.jsx)("div",{className:"-o6H5XVk6RcRKDZC32xIVQ==",children:(0,u.jsx)(_e.Z,{component:_Z.Z,text:x3,name:"maxShift",className:"LzaHbicvnUSrRo7tKz8O8w==",maxValue:720,minValue:5,isRoundValue:!0})}),(0,u.jsx)(iZ.Z,{}),(0,u.jsx)("div",{className:"U6jJSF1duG+cdUB2+6-Deg==",children:(0,u.jsx)(_e.Z,{component:w3,name:"defaultAllowedToUpdate"})}),(0,u.jsx)(iZ.Z,{}),(0,u.jsx)(_e.Z,{name:"excludingUsers",component:U3,excludingUsersBySelectedActivity:t})]})};V3.defaultProps={excludingUsersBySelectedActivity:[]},V3.propTypes={excludingUsersBySelectedActivity:c().array};const z3=V3;function Y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y3(Object(r),!0).forEach((function(t){K3(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K3(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X3=e=>{var{initializeListEditForm:t,excludingUsersBySelectedActivity:r}=e;return(0,u.jsx)(_e.Z,{component:z3,name:"employeeConfiguration",initializeListEditForm:t,excludingUsersBySelectedActivity:r})};X3.defaultProps={excludingUsersBySelectedActivity:[]},X3.propTypes=Q3(Q3({},Bt.ZP),{},{initializeListEditForm:c().func.isRequired,excludingUsersBySelectedActivity:c().array});const J3=X3,$3=(0,o.compose)((0,s.$j)(null,(e=>({initializeListEditForm:t=>{e((0,Qr.j2)("employeeConfiguration",t))}}))),(0,Fe.Z)({form:"WorkActivityForm",destroyOnUnmount:!1}))(J3);var e9=r(64068),t9=e=>{var{input:{value:t,onChange:r},disabled:i}=e;return(0,u.jsx)(Zb.E,{options:e9.IU,onChange:r,selectedValue:t,disable:i})};t9.propTypes=Bt.oX;const r9=t9,i9="cVyl4f7tQPz4DCrsAexXDw==",s9="+DaXu76-UI2WGhwkkRd4fg==",n9="dGsaRMQsIHuspmaJSWzsmQ==",a9="mJEJZC2fj-wcge-c0Rl+3g==",o9="fFJAR7gMkBg5qzg+naSJ2g==",l9="Hjeo8HX7sZu9PJLBJWx4og==",c9="IDcyf9RHDF5U4dJpDd7X9Q==",d9="+fCVL6yjYUDkrlBWX+BzJQ==",u9="WKT5Vc1VVBKMxQwO10itww==";var p9=e=>{var[t,r]=(0,m.useState)([!0,!0,!0]),i=[{value:x.EH.STANDARD,label:e9.qG,text:e9.Xl},{value:x.EH.BY_UNDERSTAFF_ONLY,label:e9._D,text:e9.T$},{value:x.EH.ALWAYS,label:e9.LD,text:e9.Y2}],s=e=>{var t=i.find((t=>t.value===e));return i.indexOf(t)},n=t=>{var{disable:r=!1,input:{onChange:s}}=e;r||s(i[t].value)},{classContainer:a,disable:o,input:{value:l},shouldDisableButton:c}=e,d=(t=>-1===s(t)?e.selectedIndex:s(t))(l),p=i.map(((e,i)=>{var s=d===i,a=o||c(i);return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"i-5A5WQBIxPp-0M3slPlFQ==",children:[(0,u.jsx)(xT.Z,{checked:s,label:e.label,value:e.value,index:i,handler:n,disable:a},e.id||i),(0,u.jsx)(nh.Z,{open:t[i],onClick:()=>{return e=i,s=t.map(((t,r)=>r===e?!t:t)),void r(s);var e,s}})]}),(0,u.jsx)("div",{style:{display:t[i]?"":"none"},className:me()("ivgOWayRU8MqHVLA3qglOg==",{"HDjxPhZwhh2HqHSnG2TvCg==":e.value!==x.EH.STANDARD}),children:e.text})]})})),h=t.some((e=>!0===e));return(0,u.jsxs)("div",{className:me()("radio-group","fhgsEO3B6J8R6oGL5vSRmw==",a),children:[p,(0,u.jsx)("div",{style:{display:h?"":"none"},className:"jWn5Piqi14os+nKsvxLtyA==",children:(0,u.jsx)(J.Z,{id:"WorkActivityForm.footnote",defaultMessage:[{type:0,value:"Если приоритет целевого навыка ниже или равен приоритету основного навыка, то снятие выполняется в стандартном режиме."}]})})]})};p9.defaultProps={classContainer:"",selectedIndex:0,onChange:O.wA,disable:!1,shouldDisableButton:()=>!1},p9.propTypes={input:Bt.bJ.isRequired,selectedIndex:c().number,onChange:c().func,classContainer:c().string,disable:c().bool,shouldDisableButton:c().func};const h9=p9;var f9=e=>{var{formDisabled:t,bodyClassNames:r,onSaveSubstitution:i,formValues:s,invalid:n,pristine:a}=e;return s?(0,u.jsxs)("div",{className:me()(s9,r),children:[(0,u.jsxs)("div",{className:o9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activityLengthInMinute",defaultMessage:[{type:0,value:"Длина активности (мин.)"}]}),(0,u.jsxs)("div",{className:a9,children:[(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,minValue:5,name:"minLength",disabled:t}),(0,u.jsx)("span",{className:i9,children:"—"}),(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,minValue:5,name:"maxLength",disabled:t})]})]}),(0,u.jsxs)("div",{className:c9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activityStartStep",defaultMessage:[{type:0,value:"Шаг начала активности"}]}),(0,u.jsx)("div",{className:d9,children:(0,u.jsx)(_e.Z,{name:"stepLength",component:r9,disabled:t})})]}),(0,u.jsxs)("div",{className:l9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activitySumLength",defaultMessage:[{type:0,value:"Суммарная длина в смене (мин.)"}]}),(0,u.jsxs)("div",{className:u9,children:[(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,minValue:5,name:"sumMinLength",disabled:t}),(0,u.jsx)("span",{className:i9,children:"—"}),(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,minValue:5,name:"sumMaxLength",disabled:t})]})]}),(0,u.jsxs)("div",{className:"iDlVJ0mZ90rMJ2DwuGpJzg==",children:[(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"WorkActivityForm.substitutionSettings",defaultMessage:[{type:0,value:"Настройки замещения"}]})}),(0,u.jsx)(_e.Z,{component:h9,name:"mode"})]}),(0,u.jsx)("div",{children:(0,u.jsx)(W4.Z,{onClick:()=>{i(s)},disabled:n||a})})]}):null};f9.defaultProps={formDisabled:!1,invalid:!1,pristine:!1,bodyClassNames:"",formValues:{}},f9.propTypes={invalid:c().bool,pristine:c().bool,formDisabled:c().bool,bodyClassNames:c().string,onSaveSubstitution:c().func.isRequired,formValues:c().object};const m9=f9;function v9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function y9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v9(Object(r),!0).forEach((function(t){g9(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g9(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b9="listSubstitutionActivityAddForm",j9=(0,gG.q9)(["substitutions","minLength","maxLength","stepLength","sumMinLength","sumMaxLength"]),x9=(0,gG.yf)(["minLength","maxLength","stepLength","sumMinLength","sumMaxLength"]),S9=(0,gG.v7)(j9,x9);const O9=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(b9)(e)})),{initialize:Qr.j2},((e,t,r)=>{var{substitutions:i}=r;return y9(y9(y9(y9({},e),t),r),{},{onSaveSubstitution:e=>{var{onChangeSave:s}=r;s(i.map((t=>t.settingId===e.settingId?e:t))),t.initialize(b9,e)}})})),(0,Fe.Z)({form:b9,validate:S9}))(m9);var P9=e=>(0,u.jsx)(eS.Z,{children:(0,u.jsx)(Ae.Z,{onClick:()=>{var{deleteCb:t,currentId:r,activitySettingsBlockId:i}=e;t(r,i)},className:"trash-btn",children:(0,u.jsx)(et.ZP,{glyph:et.XH})})});P9.defaultProps={activitySettingsBlockId:""},P9.propTypes={deleteCb:c().func.isRequired,currentId:c().string.isRequired,activitySettingsBlockId:c().string};const w9=P9;var C9=e=>{var{activitySettings:t,deleteSubstitution:r}=e,{substitutions:i}=t;return(0,j.xb)(i)?null:(0,u.jsx)("div",{className:"Tj0jqrBHs7CfUvdHsmhYXw==",children:i.map((e=>(0,u.jsxs)("div",{className:"RUgbYzBWw6tPLkrURGQCgQ==",children:[(0,u.jsx)(w9,{deleteCb:r,currentId:e.id,activitySettingsBlockId:t.settingId}),(0,u.jsx)("span",{className:"+-zNNIPUJ+zc8wWgwEGY9g==",children:e.name})]},e.id)))})};C9.defaultProps={substitutions:[]},C9.propTypes={deleteSubstitution:c().func.isRequired,substitutions:c().array,activitySettings:c().object.isRequired};const k9=C9;function T9(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class N9 extends m.Component{constructor(){super(...arguments),T9(this,"getAcItem",(()=>{var{substitutions:e,deleteSubstitution:t,onChange:r}=this.props;return(0,j.xb)(e)?[]:e.map(((i,s)=>({title:(0,u.jsx)(k9,{activitySettings:i,index:s,substitutions:e,deleteSubstitution:t}),id:i.settingId,content:(0,u.jsx)(O9,{bodyClassNames:"tZ2dzm41muYVq5Wo-Oh6yQ==",item:i,substitutions:e,onChangeSave:r})})))})),T9(this,"handleExpandGroup",(e=>{var{substitutions:t,initializeListEditForm:r}=this.props;r(t.find((t=>t.settingId===e)))}))}render(){return(0,u.jsx)("div",{className:me()("scroll","M+8q92Gku-mQL8wGFM2gUg=="),children:(0,u.jsx)(oy,{items:this.getAcItem(),iconBtnClassName:"lkr4Z2f3etgoTJCIVkGINg==",onOpen:this.handleExpandGroup})})}}N9.propTypes={substitutions:c().array.isRequired,deleteSubstitution:c().func.isRequired,onChange:c().func.isRequired,initializeListEditForm:c().func.isRequired};const R9=N9;var E9=r(76614),D9=e=>{var{formDisabled:t,bodyClassNames:r}=e;return(0,u.jsxs)("div",{className:me()(s9,r),children:[(0,u.jsxs)("div",{className:o9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activityLengthInMinute",defaultMessage:[{type:0,value:"Длина активности (мин.)"}]}),(0,u.jsxs)("div",{className:a9,children:[(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,name:"minLength",disabled:t}),(0,u.jsx)("span",{className:i9,children:"—"}),(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,name:"maxLength",disabled:t})]})]}),(0,u.jsxs)("div",{className:c9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activityStartStep",defaultMessage:[{type:0,value:"Шаг начала активности"}]}),(0,u.jsx)("div",{className:d9,children:(0,u.jsx)(_e.Z,{name:"stepLength",component:r9,disabled:t})})]}),(0,u.jsxs)("div",{className:l9,children:[(0,u.jsx)(J.Z,{id:"WorkActivityForm.activitySumLength",defaultMessage:[{type:0,value:"Суммарная длина в смене (мин.)"}]}),(0,u.jsxs)("div",{className:u9,children:[(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,name:"sumMinLength",disabled:t}),(0,u.jsx)("span",{className:i9,children:"—"}),(0,u.jsx)(_e.Z,{component:_Z.Z,classNameInput:n9,isValueWithoutZero:!0,isRoundValue:!0,name:"sumMaxLength",disabled:t})]})]})]})};D9.defaultProps={formDisabled:!1,bodyClassNames:""},D9.propTypes={formDisabled:c().bool,bodyClassNames:c().string};const A9=D9,M9=(0,o.compose)((0,Fe.Z)({form:"substitutionActivityAddForm",destroyOnUnmount:!1,enableReinitialize:!0}))(A9);function I9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Z9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I9(Object(r),!0).forEach((function(t){q9(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q9(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F9={text:"name",value:"id"},L9=e=>{var{handleSubmit:t,workActivities:r,invalid:i,addedSubstitutions:s}=e;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"LUh-LbVFMJmnNCAbMu4cNg==",children:[(0,u.jsx)(_e.Z,{component:qM.Z,name:"substitutions",dataSource:r,dataSourceConfig:F9,disables:s,returnObjValue:!0}),(0,u.jsx)("div",{className:"_1AoGdiL-IloRai3tkE5U+A==",children:(0,u.jsx)(J.Z,{id:"WorkActivityForm.settings",defaultMessage:[{type:0,value:"Настройка параметров"}]})}),(0,u.jsx)("div",{children:(0,u.jsx)(M9,{})})]}),(0,u.jsx)("div",{className:"NM44fRP29jsO7Gbl539DNQ==",children:(0,u.jsx)(E9.Z,{onClick:t,disabled:i})})]})};L9.propTypes=Z9(Z9({},Bt.ZP),{},{addedSubstitutions:c().arrayOf(c().string).isRequired});const H9=L9;var _9="substitutionActivityAddForm",B9=(0,gG.q9)(["substitutions","minLength","maxLength","stepLength","sumMinLength","sumMaxLength"]),G9=(0,gG.yf)(["minLength","maxLength","stepLength","sumMinLength","sumMaxLength"]),W9=(0,gG.iy)(["minLength","maxLength","sumMinLength","sumMaxLength"]),U9=(0,gG.v7)(B9,G9,W9);const V9=(0,o.compose)((0,s.$j)((e=>({workActivities:ya(e),addedSubstitutions:xa(e)}))),(0,Fe.Z)({form:_9,validate:U9,onSubmitSuccess:(e,t)=>{t((0,Qr.mc)(_9)),t((0,Qr.m)(_9,"substitutions",[]))},enableReinitialize:!0}))(H9);function z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Y9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z9(Object(r),!0).forEach((function(t){Q9(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q9(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class K9 extends m.Component{constructor(){super(...arguments),Q9(this,"handleChange",(e=>{var{input:{onChange:t}}=this.props;t(e)})),Q9(this,"deleteSubstitution",((e,t)=>{var{input:{onChange:r,value:i}}=this.props;r(gi()(i).map((r=>r.settingId===t?(r.substitutions=r.substitutions.filter((t=>t.id!==e)),r.substitutions.length?r:{}):r)).filter((e=>e.substitutions)))})),Q9(this,"handleAdd",(e=>{var{input:{value:t,onChange:r}}=this.props;r([...t,Y9(Y9({},e),{},{settingId:(0,X.Vj)()})])}))}render(){var{input:{value:e},initializeListEditForm:t}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(V9,{onSubmit:this.handleAdd}),(0,u.jsx)(R9,{onChange:this.handleChange,deleteSubstitution:this.deleteSubstitution,substitutions:e,initializeListEditForm:t})]})}}K9.propTypes=Y9(Y9({},Bt.oX),{},{initializeListEditForm:c().func.isRequired});const X9=K9;function J9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J9(Object(r),!0).forEach((function(t){e8(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function e8(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t8=e=>{var{initializeListEditForm:t}=e;return(0,u.jsx)(_e.Z,{component:X9,name:"substitutionSettings",initializeListEditForm:t})};t8.propTypes=$9($9({},Bt.ZP),{},{initializeListEditForm:c().func.isRequired});const r8=t8,i8=(0,o.compose)((0,s.$j)(null,(e=>({initializeListEditForm:t=>{e((0,Qr.j2)("listSubstitutionActivityAddForm",t))}}))),(0,Fe.Z)({form:"WorkActivityForm",destroyOnUnmount:!1}))(r8);var s8="substitutions",n8=(e,t)=>e===s8?(0,u.jsx)(i8,{}):(0,u.jsx)($3,{excludingUsersBySelectedActivity:t}),a8=e=>e===s8?e9.xV:e9.wx;const o8=()=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("h1",{children:(0,u.jsx)(J.Z,{id:"Activities.activitiesSettings",defaultMessage:[{type:0,value:"Настройка активностей WFM"}]})})});var l8=e=>{var{substitutionSettings:t}=e;if((0,j.xb)(t))return null;var r=(e=>{var t=e.map((e=>e.substitutions.map((e=>e.name))));return[].concat(...t)})(t),i=r.length>0?r[0]:"";return(0,u.jsxs)("div",{className:"_23YEGSiiUsY8cfE2Z-qLTw==",children:[(0,u.jsx)("div",{className:me()("text-ellipsis flex-item_flexible","nGvGoTPrGpRhV4dg3YPoEQ=="),children:i}),!!r.length&&(0,u.jsx)("span",{className:"DDP-pOg9cCc94TUIjxUATA==",children:r.length})]})};l8.defaultProps={substitutionSettings:[]},l8.propTypes={substitutionSettings:c().arrayOf(P.iO)};const c8=l8;class d8 extends m.Component{constructor(e){var{intl:{formatMessage:t}}=e;super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getTimesheet",(()=>{var{activityTimeSheet:e,timeSheets:t}=this.props;return(0,O.eL)(t)[e]})),this.allDayFormattedMessage=t({id:"WorkActivityForm.isAllDay",defaultMessage:[{type:0,value:"Активность на весь день"}]})}render(){var{isAllDay:e}=this.props,t=e?this.allDayFormattedMessage:"",r=this.getTimesheet(),i=r?r.name:"",s=i+"\n"+t,n=me()("nowrap-content custom-style-cell editable-table-cell cursor-pointer","jswSnJqMROO+bc2Vf0Zuww==");return(0,u.jsx)("div",{title:s,className:n,children:i})}}d8.defaultProps={activityTimeSheet:"",timeSheets:[],isAllDay:!1},d8.propTypes={activityTimeSheet:c().string,intl:P.gm.isRequired,timeSheets:c().array,isAllDay:c().bool};const u8=(0,v.ZP)(d8),p8={rowStyle:"_9pDnFTRu+onXeNHyPVnPQA==",rowContainer:"fg8+j4hRZhPlQHrxAJst7A==",rowText:"VjAJ5fKN3Lrpt42OszDZJQ=="};class h8 extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getStatusesName",(()=>{var{statuses:e,allStatuses:t}=this.props,r=[],i=(0,O.eL)(t);return(0,j.xb)(e)||e.forEach((e=>{r.push(i[e])})),r}))}render(){var e,{rowStyle:t}=p8,r=this.getStatusesName(),i=r.length>0?null===(e=r[0])||void 0===e?void 0:e.name:"",s=r.length>0?r.length:"",n=me()("",{[t]:!!s});return(0,u.jsxs)("div",{className:p8.rowContainer,children:[(0,u.jsx)("div",{className:p8.rowText,children:i}),(0,u.jsx)("div",{className:n,children:s})]})}}h8.propTypes={statuses:c().array.isRequired,allStatuses:c().array.isRequired};const f8=h8;var m8=(e,t)=>{var r=(0,O.eL)(t),i=[];return(0,j.xb)(e.userStatuses)||e.userStatuses.forEach((e=>{var t;return i.push(" "+(null===(t=r[e])||void 0===t?void 0:t.name))})),i},v8=e=>{var{deleteWorkActivity:t,tableDisplaySettings:r,employeeStatusList:i,timeSheets:s}=e,n=[new DO.Z({label:cY,key:"name",sortable:!0,filterable:!0,hasTitle:!1,width:350,renderHeader:()=>(0,u.jsxs)("div",{className:"virtualized-table__first-header-cell flex-container",children:[(0,u.jsx)("div",{style:kY}),cY]}),renderCell:e=>(0,u.jsxs)("div",{className:RY,children:[(0,u.jsx)("span",{style:kY,children:(0,u.jsx)(Mz.Z,{currentId:e.id,deleteCb:t})}),(0,u.jsx)("div",{title:e.name,className:"nowrap-content custom-style-cell editable-table-cell input-container cursor-pointer",style:{textOverflow:"ellipsis",overflow:"hidden"},children:e.name})]})}),new DO.Z({headerClassName:TY,key:"externalId",sortable:!0,width:330,hasTitle:!1,label:hY,renderCell:e=>(0,u.jsx)("div",{className:tY,children:(0,u.jsx)("div",{title:e.externalId,className:NY,style:{textOverflow:"ellipsis",overflow:"hidden"},children:e.externalId})})}),new DO.Z({headerClassName:TY,key:"absence",width:330,hasTitle:!1,sortable:!0,label:e9.kk,renderCell:e=>(0,u.jsx)("div",{className:tY,children:!0===e.absence&&e9.n5})}),new DO.Z({headerClassName:TY,key:"color",width:70,hasTitle:!1,label:mY,renderCell:e=>(0,u.jsx)("div",{style:{backgroundColor:e.color,width:20,height:20},className:"sBuydvw0pFnf3Gl7P4nnlQ=="})}),new DO.Z({headerClassName:TY,label:xY,key:"hourlyWage",width:170,hasTitle:!1,sortable:!0,renderCell:e=>(0,u.jsx)("div",{title:e.hourlyWage,className:tY,children:e.hourlyWage})}),new DO.Z({headerClassName:TY,label:e9.y8,key:"duration",width:200,hasTitle:!1,sortable:!0,renderCell:e=>(0,u.jsx)("div",{title:e.duration,className:tY,children:e.duration})}),new DO.Z({headerClassName:TY,label:OY,key:"acronym",width:200,hasTitle:!1,sortable:!0,getValue:e=>{var{acronym:t}=e;return null===t?"":t},renderCell:e=>(0,u.jsx)("div",{className:tY,children:(0,u.jsx)("div",{title:e.acronym,className:NY,children:e.acronym})})}),new DO.Z({headerClassName:TY,label:wY,key:"substitutionSettings",sortable:!0,hasTitle:!1,width:350,getValue:e=>{var{substitutionSettings:t}=e;return null==t?void 0:t.map((e=>e.substitutions.map((e=>e.name))))},renderCell:e=>{var t=e.substitutionSettings.map((e=>e.substitutions.map((e=>e.name))));return(0,u.jsx)("div",{title:t,className:tY,children:(0,u.jsx)(c8,{substitutionSettings:e.substitutionSettings})})}}),new DO.Z({headerClassName:TY,label:yY,key:"userStatuses",width:350,hasTitle:!1,sortable:!0,getValue:e=>m8(e,i),renderCell:e=>{var t=m8(e,i);return(0,u.jsx)("div",{title:t,className:tY,children:(0,u.jsx)(f8,{statuses:e.userStatuses,allStatuses:i})})}}),new DO.Z({headerClassName:TY,label:bY,key:"timesheetActivity",width:350,hasTitle:!1,sortable:!0,getValue:e=>{var t=(0,O.eL)(s)[e.timesheetActivity];return t?t.name:""},renderCell:e=>(0,u.jsx)("div",{className:tY,children:(0,u.jsx)(u8,{activityTimeSheet:e.timesheetActivity,timeSheets:s,isAllDay:e.isAllDay})})})],a=n.filter((e=>r[e.key]));return(0,j.xb)(a)||(a[a.length-1].autoSize=!0),a},y8=e=>[{label:e.formatMessage(dY),name:"name",disable:!0,hidden:!0},{name:"externalId",label:e.formatMessage(fY),disable:!0,hidden:!0},{name:"color",label:e.formatMessage(vY),disable:!0,hidden:!0},{label:e.formatMessage(SY),name:"hourlyWage"},{label:e.formatMessage(PY),name:"acronym"},{label:e.formatMessage(CY),name:"substitutionSettings"},{label:e.formatMessage(gY),name:"userStatuses"},{label:e.formatMessage(jY),name:"timesheetActivity"},{label:e.formatMessage(e9.nn),name:"duration"},{label:e.formatMessage(e9.oh),name:"absence"}],g8=e=>{var{input:{value:t,onChange:r}}=e;return(0,u.jsx)(vU,{checkedValues:t||[],onChange:r})};g8.propTypes={input:c().shape(Bt.bJ).isRequired};const b8=g8,j8={label:"vSaEwN9BnfrWOvyq8Qcbog==",required:"-LULDBd8Uw9-V3eguo6IEw==",selectedRow:"_8o60wqY1QcAT47lFjneChQ==",title:"CfXE0tfOFC6vZBGSWfIIYA==",disabled:"LUnHRFxzxx-WGkwtDtm6LQ==",formTableRow:"U0X2a1agBk-kpVUmnyHb6A==",touched:"_2P+eWQylQzBMtYXsdt0Yog==",cursorPointer:"oCh-4MPDDo2N064vhkToCQ=="};var x8=ai().bind(j8);class S8 extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleRowClick",(()=>{if(this.props.disabled)return null;var{addOpenedFormName:e,rowKey:t}=this.props;e(t)}))}get meta(){var{formMeta:e,rowKey:t}=this.props;return(0,j.xb)(e)||(0,j.xb)(t)?{}:e[t]||{}}render(){var{label:e,children:t,required:r,title:i,labelClassName:s,childrenClassName:n,hidden:a,rowKey:o,openedForm:l,disabled:c}=this.props,d=!(0,j.xb)(o)&&!(0,j.xb)(l)&&o===l,{touched:p}=this.meta,h=ai()({[j8.cursorPointer]:!!o}),f=x8(s,{required:r,disabled:c,label:!r&&e}),m=x8(j8.formTableRow,h,{title:i,selectedRow:d,disabled:c}),v=x8({touched:p});return a?null:(0,u.jsxs)("tr",{onClick:this.handleRowClick,className:m,children:[(0,u.jsx)("td",{className:f,children:(0,u.jsx)("span",{children:(0,u.jsx)("span",{className:v,children:e})})}),(0,u.jsx)("td",{className:n,children:t})]})}}S8.defaultProps={required:!1,title:!1,disabled:!1,hidden:!1,children:null,childrenClassName:"",labelClassName:"",label:"",openedForm:"",rowKey:"",addOpenedFormName:O.wA,formMeta:{}},S8.propTypes={label:c().node,children:c().any,required:c().bool,title:c().bool,childrenClassName:c().string,labelClassName:c().string,openedForm:c().string,rowKey:c().string,addOpenedFormName:c().func,formMeta:c().object,hidden:c().bool,disabled:c().bool};const O8=S8,P8=(0,o.compose)((0,s.$j)((e=>({openedForm:eZ(e)})),{addOpenedFormName:Wr.addOpenedFormName}))(O8);var w8={width:100,height:20};class C8 extends m.PureComponent{render(){var{onClick:e}=this.props;return(0,u.jsx)(Ae.Z,{onClick:e,children:(0,u.jsx)(et.ZP,{glyph:et.Mo,style:w8})})}}C8.propTypes={onClick:c().func.isRequired};const k8=C8;class T8 extends m.Component{render(){return this.props.hidden?null:(0,u.jsx)("div",{className:"xOmYClvMAfgFTbXoLM6OFw==",children:this.props.children})}}T8.propTypes={children:c().any.isRequired,hidden:c().bool.isRequired};const N8=T8;var R8=r(57830),E8=r(34018);class D8 extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChangeComplete",(e=>{this.props.onChange(e.hex)}))}render(){var{color:e,hidden:t}=this.props,r=(0,E8.De)();return t?null:(0,u.jsx)("div",{className:"_95iLiD8OzUx+nSZEk3Wk2w==",children:(0,u.jsx)(R8.Ie,{color:e,colors:r,onChangeComplete:this.handleChangeComplete})})}}D8.propTypes={color:c().string.isRequired,onChange:c().func.isRequired,hidden:c().bool.isRequired};const A8=D8;class M8 extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChangeComplete",(e=>{var{onChange:t}=this.props;t(e.hex)}))}render(){var{color:e,hidden:t}=this.props;return t?null:(0,u.jsx)(R8.AI,{color:e,onChangeComplete:this.handleChangeComplete,disableAlpha:!0})}}M8.propTypes={color:c().string.isRequired,onChange:c().func.isRequired,hidden:c().bool.isRequired};const I8=M8;var Z8={vertical:"bottom",horizontal:"right"},q8={vertical:"top",horizontal:"left"},F8=e=>{var[t,r]=(0,m.useState)(null),[i,s]=(0,m.useState)(!1),n=Boolean(t),a=()=>{r(null)},{color:o,onChange:l,disabled:c}=e,d={backgroundColor:e.color};return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:me()({"F7XmKDQI-UzcSnlKmiXolQ==":c},"status__table-color"),style:d,onClick:t=>{e.disabled||(r(t.currentTarget),s(!!n&&i))}}),(0,u.jsxs)(Ns.ZP,{open:n,anchorEl:t,anchorOrigin:Z8,className:"wIrMBxhGFj9rgD6gjxY8Aw==",transformOrigin:q8,onBackdropClick:a,onClose:a,children:[(0,u.jsx)(A8,{color:o,onChange:l,hidden:i}),(0,u.jsx)(I8,{color:o,onChange:l,hidden:!i}),(0,u.jsx)(N8,{hidden:i,children:(0,u.jsx)(eS.Z,{children:(0,u.jsx)(k8,{onClick:()=>{s(!0)}})})})]})]})};F8.defaultProps={disabled:!1},F8.propTypes={color:c().string.isRequired,onChange:c().func.isRequired,disabled:c().bool};const L8=F8;function H8(e){var{input:{value:t,onChange:r}}=e;return(0,u.jsx)(L8,{color:t,onChange:r})}H8.propTypes={input:c().object.isRequired};const _8=H8,B8="H5YHx4gJEAMcChal5eu4EA==",G8=()=>(0,u.jsxs)("div",{className:"_9IvnwFaQcC98x0HP-+cNdQ==",children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)("div",{className:"CwKBLL0A3JXH-fu3JYB-Wg==",children:(0,u.jsx)(J.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]})})]});var W8=e=>{var{input:{value:t}}=e;if((0,j.xb)(t))return null;var r=(0,e9.QD)(t);return(0,u.jsx)("div",{className:"An3rLp0NUSI5sFItaABQFw==",children:r.map(((e,t)=>(0,u.jsx)("span",{title:e.name,className:"Lv+yR9sQYDs60sFKtv3GhA==",children:e.name},t)))})};W8.propTypes=Bt.oX;const U8=W8;var V8=e=>{var{input:t,meta:r}=e,{value:i}=t;return(0,j.xb)(i)?(0,u.jsx)(G8,{}):(0,u.jsx)(U8,{input:t,meta:r})};V8.propTypes=Bt.oX;const z8=V8;var Y8=r(59893),Q8=r(91659),K8=e=>e.settings.employeeStatusList,X8=(0,Q.createSelector)(K8,Y8.Y,((e,t)=>e.map((e=>e.externalId===Q8.UR?(e.name=t.formatMessage(Ym.gD),e):e.externalId===Q8.eM?(e.name=t.formatMessage(Ym.Qn),e):e)))),J8=e=>e.settings.isLoadingEmployeeStatuses,$8=e=>e.settings.isRemoveEmployeeStatuses;function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function t6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e6(Object(r),!0).forEach((function(t){r6(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i6={text:"name",value:"id"},s6=e=>{var{input:{onChange:t,value:r}}=e,i=(0,s.v9)(K8),n=""===r?[]:r,a=(0,er.Z)(),o=i.map((e=>"00000000-0000-0000-0000-000000000000"===e.id?t6(t6({},e),{},{name:a.formatMessage(Ym.gD)}):"ffffffff-ffff-ffff-ffff-ffffffffffff"===e.id?t6(t6({},e),{},{name:a.formatMessage(Ym.Qn)}):e));return(0,u.jsx)(Gl.Z,{classContainer:"_2YloKC6yX1XplANGVmpDJQ==",values:n,onChange:t,dropDownHeight:300,dataSource:o,dataSourceConfig:i6})};s6.propTypes={input:c().object.isRequired},s6.propTypes={input:c().object.isRequired};const n6=s6;function a6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o6 extends m.Component{constructor(){super(...arguments),a6(this,"state",{isChecked:Boolean(this.props.value)}),a6(this,"handleClick",(e=>{var{onChange:t}=this.props;t(e)})),a6(this,"handleCheckbox",(()=>{var{onChange:e}=this.props,{isChecked:t}=this.state,r=!t;this.setState({isChecked:r}),r||e(null)}))}render(){var{data:e,value:t,dataConfig:r,fullWidth:i}=this.props,{isChecked:s}=this.state;return(0,u.jsxs)("div",{className:"LXeAtHLx13JcSmqrHB4gDg==",children:[(0,u.jsx)(Mg.Z,{onChange:this.handleCheckbox,className:"b0sVAGKWIyjLzfiAKDq6ZA==",checked:s}),(0,u.jsx)(Il.Z,{dataSource:e,value:t,onChange:this.handleClick,dataSourceConfig:r,fullWidth:i,align:!1,classContainer:"l3AtQtCKW89VZAY9DGyYhA==",disabled:!s})]})}}o6.defaultProps={dataConfig:{text:"name",value:"id"},fullWidth:!0},o6.propTypes={data:c().array.isRequired,onChange:c().func.isRequired,dataConfig:c().object,fullWidth:c().bool,value:c().string.isRequired};const l6=o6;class c6 extends m.Component{render(){var{timeSheets:e,input:{value:t,onChange:r}}=this.props,i=e.sort((0,jo.hc)("name"));return(0,u.jsx)(l6,{value:t,data:i,onChange:r})}}c6.propTypes={input:c().object.isRequired,timeSheets:c().array.isRequired};const d6=c6;function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u6(Object(r),!0).forEach((function(t){h6(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f6=e=>{var t,{formValue:r,invalid:i,pristine:s,timeSheets:n,isSeatAccountingEnabled:a,handleSubmit:o,close:l,allowEmployeesToUpdateSchedule:c,intl:{locale:d}}=e,p=!!r.id,h=me()("EKh3s+TGkKOhCGsdjav19g==","scroll"),f=p?e9.ng:e9.DR,m=null===(t=r.levels)||void 0===t?void 0:t.includes("EMPLOYEE");return(0,u.jsxs)("div",{className:"_3Uov6HNoS2qUcj+ru2FdtA==",children:[(0,u.jsx)("div",{className:h,children:(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(P8,{label:e9.uB,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name"})}),(0,u.jsx)(P8,{label:e9.pm,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"externalId"})}),(0,u.jsx)(P8,{label:e9.XR,children:(0,u.jsx)(_e.Z,{component:_8,type:"text",name:"color"})}),(0,u.jsx)(P8,{label:e9.TO,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"acronym",maxLength:14})}),(0,u.jsx)(P8,{label:e9.qf,children:(0,u.jsx)(_e.Z,{component:_Z.Z,name:"hourlyWage",classNameInput:B8})}),(0,u.jsx)(P8,{label:e9.y8,children:(0,u.jsx)(_e.Z,{component:_Z.Z,name:"duration",classNameInput:B8,minValue:5,isRoundValue:!0})}),(0,u.jsx)(P8,{label:e9.Kf,children:(0,u.jsx)(_e.Z,{component:n6,name:"userStatuses"})}),(0,u.jsx)(P8,{label:e9.xt,hidden:"ru"!==d,children:(0,u.jsx)(_e.Z,{component:d6,name:"timesheetActivity",timeSheets:n})}),(0,u.jsx)(P8,{label:d2,rowKey:"substitutions",children:(0,u.jsx)(_e.Z,{component:z8,name:"substitutionSettings"})}),(0,u.jsx)(P8,{children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:"notErasable",label:e9.eS})}),(0,u.jsx)(P8,{label:e9.F1,required:!0,children:(0,u.jsx)(_e.Z,{component:b8,name:"levels"})}),c&&(0,u.jsx)(P8,{label:e9.A4,children:(0,u.jsx)(_e.Z,{component:e=>{var{input:t}=e,r=!!m&&t.value;return(0,u.jsx)(wr.XZ,{label:e9.yV,disabled:!m,input:p6(p6({},t),{},{value:r})})},name:"employeeCanUpdate"})}),a&&(0,u.jsx)(P8,{label:e9.$8,children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:"takeSeat",label:e9.BZ})}),(0,u.jsx)(P8,{label:e9.kk,children:(0,u.jsx)(_e.Z,{component:wr.XZ,name:"absence",label:e9.n5})})]})}),(0,u.jsx)("div",{className:"positions-form__footer",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{o(),l()},caption:f,disabled:i||s})})]})};f6.propTypes=p6(p6({},Bt.ZP),{},{formValue:c().object.isRequired,allowEmployeesToUpdateSchedule:c().bool.isRequired,close:c().func.isRequired,timeSheets:c().array.isRequired,intl:P.gm.isRequired});const m6=f6,v6=(0,tE.ZP)((()=>({menu:{display:"flex"}})));var y6=["duration"];function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g6(Object(r),!0).forEach((function(t){j6(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x6=(0,gG.v7)((0,gG.q9)(["name","externalId","levels"]),e9.jO);const S6=(0,o.compose)((0,s.$j)((e=>({isSeatAccountingEnabled:(0,B.vH)(e,"isSeatAccountingEnabled"),allowEmployeesToUpdateSchedule:(0,B.vH)(e,"allowEmployeesToUpdateSchedule")})),{createWorkActivity:Gv.createWorkActivity,editWorkActivity:Gv.editWorkActivity,fetchAllWorkActivities:Gv.fetchAllWorkActivities,fetchWorkActivities:Sa.fetchWorkActivities},((e,t,r)=>b6(b6(b6({},r),e),{},{onSubmit:e=>{var r,i=b6(b6({},e),{},{name:e.name.trim(),externalId:e.externalId.trim(),acronym:null===(r=e.acronym)||void 0===r?void 0:r.trim(),absence:e.absence,defaultAllowedToUpdate:"allowAll"===e.defaultAllowedToUpdate}),{duration:s}=i,n=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(i,y6),a=Number.isNaN(s)||(0,j.xb)(s)?n:i;if(a.id)t.editWorkActivity(a,(()=>{t.fetchAllWorkActivities(),t.fetchWorkActivities()}));else{var o=b6(b6({},a),{},{draftColor:a.color});t.createWorkActivity(o,(()=>{t.fetchAllWorkActivities(),t.fetchWorkActivities()}))}}}))),(0,Fe.Z)({form:"WorkActivityForm",validate:x6}),v6,v.ZP)(m6);var O6=(0,u.jsx)(et.ZP,{glyph:et.dt}),P6=me()("container","ICqAM8nU1sjUz1pL7efS4A==");class w6 extends m.Component{render(){var{onSuccess:e,onImportRequest:t,openDisplaySettings:r,addButtonLabel:i,autoChangeButtonLabel:s,onAddClick:n,onOpenAutoChange:a,intl:o}=this.props;return(0,u.jsxs)("div",{className:P6,children:[(0,u.jsx)("div",{className:"uZyLKQNqbmwnA03WOmokRQ==",children:(0,u.jsx)(Ae.Z,{onClick:r,hint:o.formatMessage({id:"Common.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]}),children:(0,u.jsx)(et.ZP,{glyph:et.Zr})})}),(0,u.jsx)(Ge.Z,{type:"transparent",caption:i,onClick:n,icon:O6}),(0,u.jsx)(FX,{hideIcon:!0,onSuccess:e,onImportRequest:t}),(0,u.jsx)(Ge.Z,{type:"transparent",caption:s,onClick:a})]})}}w6.propTypes={openDisplaySettings:c().func.isRequired,onAddClick:c().func.isRequired,addButtonLabel:c().node.isRequired,autoChangeButtonLabel:c().node.isRequired,onSuccess:c().func.isRequired,onOpenAutoChange:c().func.isRequired,onImportRequest:c().func.isRequired,intl:P.gm.isRequired};const C6=(0,v.ZP)(w6);function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function T6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k6(Object(r),!0).forEach((function(t){N6(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R6 extends m.Component{constructor(){super(...arguments),N6(this,"state",{displaySettingsOpened:!1,createOpen:!1,autoChangeOpened:!1,addAutoChangeFormOpened:!1,excludingUsersBySelectedActivity:[]}),N6(this,"getTableDisplaySettings",(()=>{var{tableDisplaySettings:e}=this.props,t={};return Object.keys(e).forEach((r=>{e[r]&&(t[r]=e[r])})),t})),N6(this,"editFormOpen",(()=>{this.setState({createOpen:!0})})),N6(this,"closeDisplaySettingsForm",(()=>{this.setState({displaySettingsOpened:!1})})),N6(this,"closeAutoChange",(()=>{this.setState({autoChangeOpened:!1,addAutoChangeFormOpened:!1}),this.props.setAutoChangeBunchId("")})),N6(this,"closeAddForm",(()=>{this.setState({createOpen:!1}),this.props.addOpenedFormName("")})),N6(this,"handleAdd",(()=>{var{initializeWorkActivityForm:e}=this.props;this.setState({createOpen:!0}),e({color:"#dadde6",workTime:!0})})),N6(this,"handleCellClick",((e,t)=>{var{initializeWorkActivityForm:r}=this.props;this.setState({excludingUsersBySelectedActivity:t.excludingUsers}),r(T6(T6({},t),{},{defaultAllowedToUpdate:t.defaultAllowedToUpdate?"allowAll":"prohibitAll"})),this.editFormOpen()})),N6(this,"openDisplaySettings",(()=>{this.setState((e=>({displaySettingsOpened:!e.displaySettingsOpened})))})),N6(this,"handleOpenDisplaySettings",(()=>{var{tableDisplaySettings:e,initializeDisplaySettingsForm:t}=this.props;t(T6(T6({},e),{name:!0,externalId:!0,color:!0})),this.openDisplaySettings()})),N6(this,"handleOpenAutoChange",(()=>{this.setState({autoChangeOpened:!0})})),N6(this,"handleOpenAddAutoChangeForm",(()=>{this.setState({addAutoChangeFormOpened:!0})})),N6(this,"handleClickAddAutoChangeForm",(()=>{this.setState({addAutoChangeFormOpened:!0}),this.props.setAutoChangeBunchId(""),this.props.clearAddAutoChangeBunchForm()})),N6(this,"closeAddAutoChangeForm",(()=>{this.setState({addAutoChangeFormOpened:!1})}))}render(){var e,{filteredWorkActivitiesList:t,filter:r,onSetFilter:i,fetchWorkActivities:s,importWorkActivities:n,deleteWorkActivity:a,createWorkActivityTableDisplaySettings:o,formValue:l,timeSheets:c,employeeStatusList:d,openedForm:p,openAutoChangeBunchId:h,setAutoChangeBunchId:f,workActivities:m,workActivitiesMap:v,autoReplaceableActivities:y,deleteAutoReplaceableActivity:g,workActivitiesStatus:b,allowEmployeesToUpdateSchedule:j,intl:x}=this.props,{createOpen:S,addAutoChangeFormOpened:O,autoChangeOpened:P,excludingUsersBySelectedActivity:w}=this.state,C={deleteWorkActivity:a,tableDisplaySettings:this.getTableDisplaySettings(),employeeStatusList:d,timeSheets:c},k=!!l.id,T=S&&!!p||l.employeeCanUpdate&&(null===(e=l.levels)||void 0===e?void 0:e.includes("EMPLOYEE"))&&j,N=k?nY:sY,R=h?pY:uY,E=(0,u.jsx)(c3,{autoReplaceableActivities:y,setAutoChangeBunchId:f,workActivities:m,closeAddForm:this.closeAddAutoChangeForm});return(0,u.jsxs)("div",{className:"aFqSXMdfDJz5W-dvLDTNSA==",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(o8,{})}),(0,u.jsx)(C6,{openDisplaySettings:this.handleOpenDisplaySettings,onAddClick:this.handleAdd,autoChangeButtonLabel:lY,addButtonLabel:oY,onSuccess:s,onImportRequest:n,onOpenAutoChange:this.handleOpenAutoChange}),(0,u.jsx)("div",{className:"xyPBYiGMuFtiZewYoATjOg==",children:(0,u.jsx)(G4.Z,{isLoading:b===Oa.Z.loading,children:(0,u.jsx)(VP.ZP,{rowHeight:32,data:t,filters:r,setFilters:i,columns:v8(C),headerStyle:iY,columnsAutoWidth:!0,onCellClick:this.handleCellClick,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",checkboxLabelClassName:"dYXRbQnf3ionpOgjKQXWdQ=="})})}),(0,u.jsx)(Ze.ZP,{handleBackArrow:this.closeAutoChange,onRequestChange:this.closeAutoChange,open:P,title:aY,width:693,asideOpen:O,asideWidth:330,asideContent:E,asideTitle:R,children:(0,u.jsx)(j3,{activeActivityId:h,onOpenAddAutoChangeForm:this.handleOpenAddAutoChangeForm,onClickAddAutoChangeForm:this.handleClickAddAutoChangeForm,setAutoChangeBunchId:f,workActivitiesMap:v,autoChangeBunchList:y,deleteAutoReplaceableActivity:g})}),(0,u.jsx)(Ze.ZP,{handleBackArrow:this.closeAddForm,onRequestChange:this.closeAddForm,open:this.state.createOpen,title:N,asideContent:n8(p,w),asideOpen:T,asideTitle:a8(p),width:700,children:(0,u.jsx)(S6,{formValue:l,timeSheets:c,close:this.closeAddForm})}),(0,u.jsx)(Ze.ZP,{open:this.state.displaySettingsOpened,handleBackArrow:this.closeDisplaySettingsForm,title:rY,subtitle:pG,width:400,children:(0,u.jsx)(yG,{close:this.closeDisplaySettingsForm,fields:y8(x),fetchWorkActivities:s,setTableDisplaySettings:o})})]})}}R6.defaultProps={openedForm:"",addOpenedFormName:"",openAutoChangeBunchId:"",workActivities:[],autoReplaceableActivities:[],workActivitiesMap:{}},R6.propTypes=_()({openedForm:c().string,addOpenedFormName:c().string,openAutoChangeBunchId:c().string,formValue:c().object.isRequired,workActivitiesMap:c().object,tableDisplaySettings:c().object.isRequired,allowEmployeesToUpdateSchedule:c().bool.isRequired,deleteWorkActivity:c().func.isRequired,clearAddAutoChangeBunchForm:c().func.isRequired,setAutoChangeBunchId:c().func.isRequired,initializeWorkActivityForm:c().func.isRequired,createWorkActivityTableDisplaySettings:c().func.isRequired,initializeDisplaySettingsForm:c().func.isRequired,filteredWorkActivitiesList:c().array.isRequired,filter:c().object.isRequired,onSetFilter:c().func.isRequired,fetchWorkActivities:c().func.isRequired,importWorkActivities:c().func.isRequired,employeeStatusList:c().array.isRequired,workActivities:c().array,autoReplaceableActivities:c().array,timeSheets:c().array.isRequired,deleteAutoReplaceableActivity:c().func.isRequired,workActivitiesStatus:c().string.isRequired,intl:P.gm.isRequired});const E6=(0,v.ZP)(R6);var D6=r(21447);function A6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function M6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A6(Object(r),!0).forEach((function(t){I6(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z6="WorkActivityForm";const q6=(0,o.compose)((0,s.$j)((e=>({employeeStatusList:K8(e),openAutoChangeBunchId:ha(e),autoReplaceableActivities:fa(e),timeSheets:e.settings.timeSheets,tableDisplaySettings:e.settings.workActivitiesTableDisplaySettings,formValue:(0,qe.Z)(Z6)(e)||{},filteredWorkActivitiesList:(0,B.UO)(e),workActivities:ma(e),workActivitiesStatus:ga(e),workActivitiesMap:ba(e),filter:(0,B.EU)(e),openedForm:eZ(e),allowEmployeesToUpdateSchedule:(0,B.vH)(e,"allowEmployeesToUpdateSchedule")})),(e=>({addOpenedFormName:t=>e((0,Wr.openedForm)(t)),setAutoChangeBunchId:t=>e((0,Gv.setAutoChangeBunchId)(t)),fetchWorkActivities:()=>e((0,Gv.fetchAllWorkActivities)()),fetchAutoReplaceableActivities:()=>e((0,Gv.fetchAutoReplaceableActivities)()),importWorkActivities:t=>e((0,Gv.importWorkActivities)(t)),fetchTableDisplaySettings:()=>e((0,Gv.fetchTableDisplaySettings)()),fetchEmployeeStatuses:()=>e((0,D6.fetchEmployeeStatuses)()),fetchTimeSheets:()=>e((0,Gv.fetchTimeSheets)()),deleteWorkActivity:t=>e((0,Gv.deleteWorkActivity)(t)),createWorkActivityTableDisplaySettings:t=>e((0,Gv.createWorkActivityTableDisplaySettings)(t)),initializeWorkActivityForm:t=>{e((0,Qr.j2)(Z6,t))},initializeDisplaySettingsForm:t=>{e((0,Qr.j2)("DisplaySettingsSimpleForm",t))},clearAddAutoChangeBunchForm:()=>{e((0,Qr.j2)("AddEditAutoChangeBunchForm",{}))},setListFilter:t=>e((0,Gv.setWorkActivitiesListFilter)(t)),deleteAutoReplaceableActivity:t=>e((0,Gv.deleteAutoReplaceableActivity)(t)),reset:()=>e((0,Gv.resetAllWorkActivity)())})),((e,t,r)=>M6(M6(M6(M6({},e),r),t),{},{onSetFilter:t.setListFilter}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchWorkActivities(),t.fetchAutoReplaceableActivities(),t.fetchEmployeeStatuses(),t.fetchTimeSheets(),t.fetchTableDisplaySettings()})),(0,Ao.Z)((e=>{var{props:t}=e;t.reset()})),(0,Ci.c)(["setListFilter","fetchTimeSheets","fetchEmployeeStatuses","fetchTableDisplaySettings","fetchAutoReplaceableActivities"]))(E6);function F6(e,t){var r=e[t];return r&&r.value}var L6=r(82162),H6=r(72606);const _6="NxJ4QKM7cSCz0MBMEIs0cQ==",B6="BnEbAYZMCXHqBTJoKQg6wQ==";var G6=e=>{var{title:t,id:r,onDelete:i,formIcon:s,titleClassName:n,onClick:a,formName:o,active:l,parentId:c,skillId:d}=e,p=(0,er.Z)();return(0,u.jsx)(eS.Z,{children:(0,u.jsxs)("div",{className:"_8D8zBpc+rvb8lHq97nBTDA==",children:[(0,u.jsx)(et.ZP,{glyph:s,classCustom:"WBEwBcbFfNnGLotsHZe9ww=="}),(0,u.jsx)(Ae.Z,{onClick:()=>{i(r,c,d)},className:"_5juO2HpjfnDLXYs7tiS8Ww==",hint:p.formatMessage({id:"Common.delete",defaultMessage:[{type:0,value:"Удалить"}]}),children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(Ae.Z,{onClick:()=>{a({id:r,openFormName:o,openFormTitle:t,parentId:c,skillId:d})},active:l,children:(0,u.jsx)("div",{className:n,title:t,children:t})})]})})};G6.defaultProps={titleClassName:"",active:!1,parentId:null,skillId:null},G6.propTypes={title:c().string.isRequired,id:c().string.isRequired,onDelete:c().func.isRequired,onClick:c().func.isRequired,formIcon:c().string.isRequired,formName:c().string.isRequired,titleClassName:c().string,active:c().bool,parentId:P.K5,skillId:P.K5};const W6=G6;var U6=e=>{var{onCreateQueue:t}=e;return(0,u.jsx)("div",{className:"_6NAZEnSWGIM4S3-WapdMsQ==",children:(0,u.jsxs)(Ae.Z,{onClick:t,children:[(0,u.jsx)(et.ZP,{glyph:et.dt,classCustom:B6}),(0,u.jsx)(J.Z,{id:"Skills.addNewQueue",defaultMessage:[{type:0,value:"Добавить очередь"}]})]})})};U6.propTypes={onCreateQueue:c().func.isRequired};const V6=U6;var z6=e=>{var{onCreateLine:t}=e;return(0,u.jsx)("div",{className:"mPqcroNcMWPHDBAZmsppwA==",children:(0,u.jsxs)(Ae.Z,{onClick:t,children:[(0,u.jsx)(et.ZP,{glyph:et.dt,classCustom:B6}),(0,u.jsx)(J.Z,{id:"Skills.addNewLine",defaultMessage:[{type:0,value:"Добавить линию"}]})]})})};z6.propTypes={onCreateLine:c().func.isRequired};const Y6=z6;var Q6=e=>{var t,{queue:r,skillId:i,onDeleteLine:s,onCreateLine:n,onOpenForm:a,openFormId:o}=e;return r?(0,u.jsxs)("div",{className:"l+knf0OOxC0pypSuVdlwPQ==",children:[r.linesLoading&&(0,u.jsx)(Z.Z,{}),!r.linesLoading&&(null===(t=r.lines)||void 0===t?void 0:t.map((e=>(0,u.jsx)("div",{className:"AmnyEJhrCivQY1SVQBPsWA==",children:(0,u.jsx)(W6,{title:e.name,id:e.id,onDelete:s,formIcon:et.x1,onClick:a,formName:x.FORM_NAMES.LINE,titleClassName:"PcK-TNzIdqGe2uprvrw0sQ==",active:e.id===o,parentId:r.id,skillId:i})},e.id)))),(0,u.jsx)(Y6,{onCreateLine:()=>n({parentId:r.id,skillId:i})})]}):null};Q6.defaultProps={queue:{},skillId:null},Q6.propTypes={queue:c().object,onDeleteLine:c().func.isRequired,onCreateLine:c().func.isRequired,onOpenForm:c().func.isRequired,openFormId:P.K5.isRequired,skillId:P.K5};const K6=Q6;var X6=e=>{var{skill:t,onDeleteQueue:r,onDeleteLine:i,onCreateLine:s,onCreateQueue:n,onOpenForm:a,openFormId:o,onOpen:l}=e;return t?(0,u.jsxs)("div",{className:"m30JhXRmx8burbN2Iu-3wg==",children:[t.queuesLoading&&(0,u.jsx)(Z.Z,{}),t.queues&&!t.queuesLoading&&(0,u.jsx)(oy,{items:t.queues.map((e=>({title:(0,u.jsx)(W6,{title:e.name,id:e.id,onDelete:r,onClick:a,formIcon:et.EJ,formName:x.FORM_NAMES.QUEUE,titleClassName:"E7yymRu3JTUNWCJ86d+NBw==",active:e.id===o,parentId:t.id}),id:e.id,content:(0,u.jsx)(K6,{queue:e,skillId:t.id,onDeleteLine:i,onCreateLine:s,onOpenForm:a,openFormId:o}),active:!1}))),iconBtnClassName:_6,onOpen:l}),(0,u.jsx)(V6,{onCreateQueue:()=>n({parentId:t.id})})]}):null};X6.defaultProps={skill:{},openFormId:null},X6.propTypes={skill:c().object,onDeleteQueue:c().func.isRequired,onDeleteLine:c().func.isRequired,onCreateLine:c().func.isRequired,onCreateQueue:c().func.isRequired,onOpenForm:c().func.isRequired,openFormId:P.K5,onOpen:c().func.isRequired};const J6=X6;function $6(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var e7={height:30,paddingLeft:40,paddingRight:20,display:"flex",alignItems:"center"};class t7 extends m.Component{constructor(){super(...arguments),$6(this,"state",{searchTerm:""}),$6(this,"handleTextChange",(e=>{this.setState({searchTerm:e.target.value})})),$6(this,"getAccordions",(()=>{var{skills:e,onDeleteSkill:t,onDeleteQueue:r,onDeleteLine:i,onCreateLine:s,onCreateQueue:n,onOpenForm:a,openFormId:o,fetchLineByQueue:l}=this.props,c=e.sort((0,X.hM)());return(0,jo.cT)(c,this.state.searchTerm).map((e=>({title:(0,u.jsx)(W6,{title:e.name,id:e.id,active:e.id===o,onDelete:t,onClick:a,formIcon:et.UH,formName:x.FORM_NAMES.SKILL,titleClassName:"sUB0Ub46f3ZkT14yMTij0w=="}),id:e.id,content:(0,u.jsx)(J6,{skill:e,onDeleteQueue:r,onDeleteLine:i,onCreateLine:s,onCreateQueue:n,onOpenForm:a,openFormId:o,onOpen:t=>l(t,e.id)}),active:!1})))}))}render(){return(0,u.jsxs)("div",{className:"_0JfaQ7F4boxR3K4J0bYsMQ==",children:[(0,u.jsx)("div",{style:e7,children:(0,u.jsx)("input",{type:"text",placeholder:this.props.intl.formatMessage(_F.UC),name:"auto-complete-search",value:this.state.searchTerm,onChange:this.handleTextChange,style:{width:"100%"},autoComplete:"off"})}),this.props.skills&&(0,u.jsx)(oy,{items:this.getAccordions(),iconBtnClassName:_6,onOpen:this.props.fetchQueueBySkill,hasZebra:!0})]})}}t7.defaultProps={skills:[]},t7.propTypes={skills:c().array,onDeleteSkill:c().func.isRequired,intl:P.gm.isRequired,onDeleteQueue:c().func.isRequired,onDeleteLine:c().func.isRequired,onCreateLine:c().func.isRequired,onCreateQueue:c().func.isRequired,onOpenForm:c().func.isRequired,openFormId:P.K5.isRequired,fetchQueueBySkill:c().func.isRequired,fetchLineByQueue:c().func.isRequired};const r7=t7;function i7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i7(Object(r),!0).forEach((function(t){n7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n7(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a7=(0,o.compose)(v.ZP,(0,s.$j)((e=>({skills:(0,H6.Vy)(e),openFormId:(0,H6.AY)(e).id,currentGroupId:(0,Y.Wx)(e)})),(e=>({deleteSkill:(t,r)=>e((0,L6.deleteSkill)(t,r)),deleteQueue:t=>e((0,L6.deleteQueue)(t)),deleteLine:t=>e((0,L6.deleteLine)(t)),setSkillOptions:t=>e((0,L6.setSkillOptions)(t)),fetchQueueBySkill:t=>e((0,L6.fetchQueueBySkill)(t)),fetchLineByQueue:(t,r)=>e((0,L6.fetchLineByQueue)(t,r))})),((e,t,r)=>s7(s7(s7(s7({},e),t),r),{},{onDeleteSkill:e=>{t.deleteSkill(e)},onDeleteQueue:(e,r)=>{t.deleteQueue({id:e,skillId:r})},onDeleteLine:(e,r,i)=>{t.deleteLine({id:e,queueId:r,skillId:i})},onCreateLine:e=>{var{parentId:r,skillId:i}=e;t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.LINE,parentId:r,skillId:i})},onCreateQueue:e=>{var{parentId:r}=e;t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.QUEUE,parentId:r})},onOpenForm:e=>{t.setSkillOptions(e)}}))))(r7);var o7=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"NB2xHfiem4Y99K-e85LCsQ==",children:t})};o7.propTypes={children:c().node.isRequired};const l7=o7;var c7=(0,u.jsx)(J.Z,{id:"Skills.externalId",defaultMessage:[{type:0,value:"Внешний ID"}]}),d7=(0,u.jsx)(J.Z,{id:"Skills.fixedAht",defaultMessage:[{type:0,value:"Фиксированное AHT"}]}),u7=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.OrgPoints",defaultMessage:[{type:0,value:"Точки оргструктуры"}]}),p7=(0,u.jsx)(J.Z,{id:"Skills.addNewSkill",defaultMessage:[{type:0,value:"Добавить навык"}]}),h7=(0,u.jsx)(J.Z,{id:"DisplaySettings.zone",defaultMessage:[{type:0,value:"Часовой пояс"}]}),f7=(0,u.jsx)(J.Z,{id:"Skills.workTime",defaultMessage:[{type:0,value:"Время работы"}]}),m7=(0,u.jsx)(J.Z,{id:"ScheduleSchemaForm.dayOff",defaultMessage:[{type:0,value:"Выходной"}]}),v7=(0,u.jsx)(J.Z,{id:"NotificationCenterSettings.activitiesButton",defaultMessage:[{type:0,value:"Активности"}]}),y7=(0,u.jsx)(J.Z,{id:"Skills.customizeSkills",defaultMessage:[{type:0,value:"Настроить навыки"}]}),g7=(0,u.jsx)(J.Z,{id:"Skills.changeSL",defaultMessage:[{type:0,value:"Изменить SL (Уровень сервиса)"}]}),b7=(0,u.jsx)(J.Z,{id:"Skills.skillSettings",defaultMessage:[{type:0,value:"Настройка навыков"}]}),j7=(0,u.jsx)(J.Z,{id:"Skills.customizeSkills",defaultMessage:[{type:0,value:"Настроить навыки"}]}),x7=(0,u.jsx)(J.Z,{id:"Skills.changeSL",defaultMessage:[{type:0,value:"Изменить SL (Уровень сервиса)"}]}),S7=()=>[...Array(7)].map(((e,t)=>(e=>({dayIndex:e,employeeSpanSettings:[]}))(t))),O7=()=>[...Array(7)].map(((e,t)=>(e=>({dayIndex:e,startTime:"00:00",endTime:"00:00",workDay:!0}))(t)));const P7="C95mazSPuRYv8aGJnH+-3Q==";var w7=e=>{var{onClick:t,skillOptions:r}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(Ae.Z,{onClick:t,className:"_5Ha2C-xY0fafB5AE5Stj6w==",active:!r.id&&r.openFormName===x.FORM_NAMES.SKILL,children:[(0,u.jsx)(et.ZP,{glyph:et.dt,className:"oa+q+oL+XbmKBTgFHM3BRw=="}),p7]})})};w7.propTypes={onClick:c().func.isRequired,skillOptions:c().object.isRequired};const C7=w7;var k7=e=>{var{value:t,onChange:r,className:i,disabled:s}=e;return(0,u.jsx)("input",{autoFocus:!0,className:i,type:"text",value:t,disabled:s,onChange:e=>{var t=e.target.value.replace(/,/gi,".");if(/^\d{0,5}([.|,]\d{0,5})?$/.test(t))return r(t)}})};k7.defaultProps={className:"",disabled:!1},k7.propTypes={disabled:c().bool,value:c().number.isRequired,onChange:c().func.isRequired,className:c().string};const T7=k7;var N7=["input"];function R7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function E7(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D7=e=>{var{input:{value:t,onChange:r}}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,N7);return(0,u.jsx)(T7,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R7(Object(r),!0).forEach((function(t){E7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onChange:r,value:t},i))};D7.propTypes=Bt.oX;const A7=D7,M7="ITDcBXMz7IzHESpGc-f28g==",I7="z7majO-pqfjqO4EB3IPPvQ==";var Z7=r(18173),q7="serviceCallTime",F7=e=>{var t,{formValues:r,queuesErlang:i,handleSubmit:s}=e,n=(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]}),a=(0,Z7.oC)(i).sort((0,X.hM)()),o=(0,_V.t)("safari"),l=null==r||null===(t=r.rateCorrection)||void 0===t?void 0:t.toString(),c="."===(null==l?void 0:l.slice(-1))||","===(null==l?void 0:l.slice(-1));return(0,u.jsxs)("div",{className:me()("rgc-JT6NBs+ocEjYH0Z8lw==",{"HRX9YnW+N+Nj-aPZIGc0Dg==":o}),children:[(0,u.jsx)("div",{className:"Fa7+kH8Th1UekhuI4oWEhg==",children:(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(ZM.Z,{label:Z7.Ty,labelClassName:I7,required:!0,children:(0,u.jsx)(_e.Z,{component:XK,name:"ids",dataSource:a})}),(0,u.jsx)(ZM.Z,{label:Z7.S1,labelClassName:I7,children:(0,u.jsx)("div",{className:M7,children:(0,u.jsx)(_e.Z,{component:A7,name:"rateCorrection",disabled:(0,j.xb)(null==r?void 0:r.ids)})})}),(0,u.jsx)(ZM.Z,{labelClassName:I7,label:Z7.qb,children:(0,u.jsx)("div",{className:M7,children:(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,name:"servicePercent",disabled:(0,j.xb)(null==r?void 0:r.ids),maxValue:100})})}),(0,u.jsx)(ZM.Z,{label:Z7.VK,labelClassName:I7,children:(0,u.jsx)("div",{className:M7,children:(0,u.jsx)(_e.Z,{component:_Z.Z,isValueWithoutZero:!0,name:q7,disabled:(0,j.xb)(null==r?void 0:r.ids)})})})]})}),(0,u.jsx)("footer",{className:"SnD43AEJ3qwjvtoCo6oT2g==",children:(0,u.jsx)(W4.Z,{disabled:!!((0,j.xb)(null==r?void 0:r.rateCorrection)&&(0,j.xb)(null==r?void 0:r.servicePercent)&&(0,j.xb)(null==r?void 0:r.serviceCallTime))||"0"===(null==r?void 0:r.rateCorrection)||c,onClick:s,caption:n})})]})};F7.propTypes=Bt.ZP;const L7=F7;function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H7(Object(r),!0).forEach((function(t){B7(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B7(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G7=(0,o.compose)((0,s.$j)((e=>({queuesErlang:(0,B.lS)(e),formValues:(0,qe.Z)(x.FORM_NAMES.CHANGES_SL_FORM)(e),groupId:(0,Y.Wx)(e)})),(e=>({fetchQueuesErlang:t=>e((0,L6.fetchQueuesErlang)(t)),updateQueuesErlang:(t,r)=>e((0,L6.updateQueuesErlang)(t,r)),initialize:t=>e((0,Qr.j2)(x.FORM_NAMES.CHANGES_SL_FORM,t))})),((e,t,r)=>_7(_7(_7(_7({},e),t),r),{},{onSubmit:e=>t.updateQueuesErlang(e,(()=>r.onClose()))}))),(0,Fe.Z)({form:x.FORM_NAMES.CHANGES_SL_FORM}),(0,U.Z)((e=>{var{props:t}=e;t.initialize({ids:[]}),t.fetchQueuesErlang({id:t.groupId})})))(L7);var W7=r(55140);const U7={item:"rebbsHmLlmaN1pFwMe1wZw==",startEndPeriodContainer:"eCtCn8kbLdJMz4J6ren1tw==",startEndPeriodBlock:"_0PRRmKYehAfIikC80DyFHw==",workDayBlock:"i3xv0Gd23f67LupiVx1b4A==",inputTime:"zWpkPfWoCXQziLFwh8eeNA==",isChange:"PWT1mOLbdHkPRwOkV7u0Bg=="};var V7="groups",z7="skillTimespan",Y7="skillEmployeeSpans",Q7="workActivities",K7="skillZone",X7=(e,t)=>(null==e?void 0:e.split(":").sort().join(":"))===t.split(":").sort().join(":"),J7=(0,u.jsx)(J.Z,{id:"Skills.skillAdding",defaultMessage:[{type:0,value:"Добавление навыка"}]}),$7=(0,u.jsx)(J.Z,{id:"Skills.deflectionLevelForMovingActivities",defaultMessage:[{type:0,value:"Уровень отклонения для перемещения активностей:"}]}),eee=(0,u.jsx)(J.Z,{id:"Settings.downsideToFTE",defaultMessage:[{type:0,value:"Недостаток FTE (%)"}]}),tee=e=>{var{value:{start:t,end:r},onChange:i,disabled:s,step:n,initialData:a,dashClassName:o}=e,l=e=>i(e);return(0,u.jsxs)("div",{className:U7.startEndPeriodContainer,children:[(0,u.jsx)("div",{className:me()(U7.startEndPeriodBlock,{[U7.isChange]:!(0,j.xb)(a)&&!X7(a.startTime,t)}),children:(0,u.jsx)(mb.Z,{value:t,onChange:e=>l({start:e,end:r}),disabled:s,step:n,className:U7.inputTime})}),(0,u.jsx)("span",{className:o,children:" — "}),(0,u.jsx)("div",{className:me()(U7.startEndPeriodBlock,{[U7.isChange]:!(0,j.xb)(a)&&!X7(a.endTime,r)}),children:(0,u.jsx)(mb.Z,{value:r,onChange:e=>l({start:t,end:e}),disabled:s,step:n,className:U7.inputTime})})]})};tee.defaultProps={disabled:!1,step:1,initialData:{},dashClassName:""},tee.propTypes={value:c().object.isRequired,onChange:c().func.isRequired,disabled:c().bool,dashClassName:c().string,step:c().number,initialData:c().object};const ree=tee;function iee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function see(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iee(Object(r),!0).forEach((function(t){nee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aee="00:00";class oee extends m.Component{constructor(){super(...arguments),nee(this,"handleCheck",(e=>{var{value:t,onChange:r}=this.props;r(see(see({},t),{},{workDay:!e}))})),nee(this,"handleTimeChange",(e=>{var{value:t,onChange:r}=this.props,{start:i,end:s}=e;r(see(see({},t),{},{startTime:i,endTime:s}))}))}render(){var{weekDay:e,value:{workDay:t=!1,startTime:r=aee,endTime:i=aee},step:s,initialData:n}=this.props,a={start:r,end:i};return(0,u.jsxs)("tr",{className:U7.item,children:[(0,u.jsx)("td",{title:e,children:(0,u.jsx)("span",{children:e})}),(0,u.jsx)("td",{children:(0,u.jsx)(ree,{value:a,onChange:this.handleTimeChange,disabled:!t,step:s,initialData:n})}),(0,u.jsx)("td",{className:me()(U7.workDayBlock,{[U7.isChange]:!(0,j.xb)(n)&&n.workDay!==t}),children:(0,u.jsx)(Rs.ZP,{className:U7.checkbox,checked:!t,label:m7,onChange:this.handleCheck})})]})}}oee.defaultProps={step:1,initialData:{}},oee.propTypes={value:c().object.isRequired,weekDay:c().string.isRequired,onChange:c().func.isRequired,step:c().number,initialData:c().object};const lee=oee;var cee="00:00",dee=e=>{var{input:{onChange:t,value:r},weekArray:i,initialSkillData:s}=e,n=e=>{var i=e.dayIndex||0,s=gi()(r);s[i]=e,t(s)};return(0,u.jsx)("table",{className:"TTjpG5L00IUtoyoNOPCIDg==",children:(0,u.jsx)("tbody",{children:i.map(((e,t)=>{var i=r[t]||{},a=i.startTime||cee,o=i.endTime||cee,l=s[t]||{};return(0,u.jsx)(lee,{weekDay:e,value:i,period:{start:a,end:o},onChange:n,step:5,initialData:l},e.id||t)}))})})};dee.defaultProps={weekArray:[],initialSkillData:[]},dee.propTypes={input:c().shape(Bt.bJ).isRequired,weekArray:c().array,initialSkillData:c().array};const uee=dee;function pee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pee(Object(r),!0).forEach((function(t){fee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const mee=(0,o.compose)(v.ZP,(0,s.$j)(null,null,((e,t,r)=>{var{intl:{formatMessage:i}}=r,s=(0,W7.G)(i);return hee(hee(hee(hee({},e),t),r),{},{weekArray:s})})))(uee),vee="p7Iewmn5qYit5WDSU6+JKA==",yee="Tg6QndLxKv9APb7kKqqdYg==",gee="TGAkYBvCU1JYD1fcOTXxWQ==",bee="nFWZxVqKmgs8C5G166OEAg==";function jee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jee(Object(r),!0).forEach((function(t){See(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function See(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oee=e=>{var{index:t,value:r,onChange:i,disabled:s,onDelete:n,initialData:a}=e;return(0,u.jsxs)("div",{className:"ZbYpK-acRctFFxsgcDQPag==",children:[(0,u.jsx)("div",{className:me()(vee,{[yee]:!(0,j.xb)(a)&&!X7(a.startTime,r.startTime)}),children:(0,u.jsx)(mb.Z,{value:r.startTime,onChange:e=>{i(xee(xee({},r),{},{startTime:e}),t)},disabled:s,className:bee,step:5})}),(0,u.jsx)("span",{className:"ml mr",children:"—"}),(0,u.jsx)("div",{className:me()(vee,{[yee]:!(0,j.xb)(a)&&!X7(a.endTime,r.endTime)}),children:(0,u.jsx)(mb.Z,{value:r.endTime,onChange:e=>{i(xee(xee({},r),{},{endTime:e}),t)},disabled:s,className:bee,step:5})}),(0,u.jsx)("span",{className:"CAuEr8KEr9OX5FQ6ViLOIA==",children:(0,u.jsx)(J.Z,{id:"Settings.Employees",defaultMessage:[{type:0,value:"Сотрудники:"}]})}),(0,u.jsx)(J.Z,{id:"Common.from",defaultMessage:[{type:0,value:"от"}]}),(0,u.jsx)("div",{className:me()(vee,{[yee]:!(0,j.xb)(a)&&a.min!==r.min}),children:(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,value:r.min,onChange:e=>{i(xee(xee({},r),{},{min:e}),t)},disabled:s})}),(0,u.jsx)(J.Z,{id:"Common.to",defaultMessage:[{type:0,value:"до"}]}),(0,u.jsx)("div",{className:me()(vee,{[yee]:!(0,j.xb)(a)&&a.max!==r.max}),children:(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,value:r.max,onChange:e=>{i(xee(xee({},r),{},{max:e}),t)},disabled:s})}),!s&&(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>{n(t)}})]})};Oee.defaultProps={disabled:!1,initialData:{}},Oee.propTypes={value:c().shape({startTime:(0,zi.Z)("HH:mm"),endTime:(0,zi.Z)("HH:mm"),min:c().number,max:c().number}).isRequired,onChange:c().func.isRequired,disabled:c().bool,onDelete:c().func.isRequired,index:c().number.isRequired,initialData:c().object};const Pee=Oee;var wee=(0,u.jsx)(Pee,{index:0,dayIndex:0,value:{},onChange:O.wA,onDelete:O.wA,disabled:!0}),Cee=e=>{var{value:t,onChange:r,initialData:i}=e,s=(e,i)=>{var s=[...t];s[i]=e,r(s)},n=e=>{r(t.filter(((t,r)=>r!==e)))};return(0,j.xb)(t)?wee:(0,u.jsx)("div",{className:"UTQDQkbQIFv3qZjsI2+TtQ==",children:t.map(((e,t)=>(0,u.jsx)(Pee,{index:t,onChange:s,value:e,onDelete:n,initialData:i[t]||{}},e.id||t)))})};Cee.defaultProps={value:[],initialData:[]},Cee.propTypes={value:c().array,onChange:c().func.isRequired,initialData:c().array};const kee=Cee;function Tee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Nee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tee(Object(r),!0).forEach((function(t){Ree(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ree(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eee={startTime:"00:00",endTime:"00:00",min:null,max:null},Dee=e=>{var{name:t,value:r,onChange:i,initialData:s}=e;return(0,u.jsxs)("div",{className:"Fb58gbzROuoMsxQIsnbT8g==",children:[(0,u.jsx)("div",{className:gee,children:t}),(0,u.jsx)(kee,{dayIndex:r.dayIndex,value:r.employeeSpanSettings,onChange:e=>{i(Nee(Nee({},r),{},{employeeSpanSettings:e}))},initialData:s.employeeSpanSettings}),(0,u.jsx)("div",{className:gee,children:(0,u.jsx)(Ml.Z,{glyph:et.dt,onClick:()=>{i(Nee(Nee({},r),{},{employeeSpanSettings:[...r.employeeSpanSettings,Eee]}))}})})]})};Dee.defaultProps={value:{},initialData:{}},Dee.propTypes={value:c().shape({dayIndex:c().number,employeeSpanSettings:c().array}),name:c().string.isRequired,onChange:c().func.isRequired,initialData:c().object};const Aee=Dee;function Mee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Iee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mee(Object(r),!0).forEach((function(t){Zee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qee extends m.Component{constructor(){super(...arguments),Zee(this,"state",{expanded:!1}),Zee(this,"toggleExpanded",(()=>{this.setState((e=>({expanded:!e.expanded})))})),Zee(this,"handleItemChange",(e=>{var{input:{value:t,onChange:r}}=this.props,{dayIndex:i=0}=e,s=[...t];s[i]=e,r(s)}))}render(){var{input:{value:e},intl:{formatMessage:t},initialSkillData:r}=this.props,{expanded:i}=this.state;return(0,u.jsx)("div",{className:"_4shxWkG3PKI8bbjkmlY4Gw==",children:(0,u.jsxs)($v,{expanded:i,onChange:this.toggleExpanded,children:[(0,u.jsx)(ry,{children:(0,u.jsxs)("div",{className:"ouruASXQMBIVGeFiRJjZ-w==",children:[(0,u.jsx)(io.Z,{open:i,className:"mr"}),(0,u.jsx)(Ae.Z,{active:i,children:(0,u.jsx)(J.Z,{id:"Settings.NecessaryNumberOfEmployees",defaultMessage:[{type:0,value:"Необходимое количество сотрудников"}]})})]})}),(0,u.jsx)(sy,{expanded:i,children:(0,u.jsx)("div",{children:(0,W7.G)(t).map(((t,i)=>{var s=r[i]||{};return(0,u.jsx)(Aee,{name:t,value:e[i]||{},onChange:this.handleItemChange,initialData:s},t)}))})})]})})}}qee.defaultProps={initialSkillData:[]},qee.propTypes=Iee(Iee({},Bt.oX),{},{initialSkillData:c().array});const Fee=(0,v.ZP)(qee);J.Z,J.Z,J.Z;var Lee=(0,u.jsx)(J.Z,{id:"Queues.name",defaultMessage:[{type:0,value:"Название"}]});J.Z,J.Z,J.Z,J.Z;class Hee extends m.PureComponent{render(){var{title:e,children:t}=this.props;return(0,u.jsxs)("div",{className:"panel-item",children:[(0,u.jsx)("div",{className:"first panel-item-style",children:e}),(0,u.jsx)("div",{className:"second panel-item-style",children:t})]})}}Hee.defaultProps={title:null},Hee.propTypes={title:c().string,children:c().node.isRequired};const _ee=Hee;var Bee=e=>{var{input:{value:t,onChange:r},label:i,isFormDevise:n}=e,a=(0,s.I0)(),o=(0,s.v9)(B.K2);(0,m.useEffect)((()=>{(0,j.xb)(o)&&a((0,_i.fetchHierarchyTree)())}),[o,a]);var l=(0,j.xb)(o)?[]:[o],c=(0,j.xb)(t)?[]:t;return(0,u.jsx)(_ee,{title:i,children:(0,u.jsx)(pL,{isFormDevise:n,data:l,initValue:c,onChange:r})})};Bee.defaultProps={isFormDevise:!1,label:null},Bee.propTypes={isFormDevise:c().bool,label:c().node,input:c().object.isRequired};const Gee=Bee,Wee="JIBZUyVwRSxNUrtrJVRzhA==";function Uee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Vee(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zee=(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]}),Yee=e=>{var{skills:t,invalid:r,pristine:i,handleSubmit:s,workActivities:n}=e,a=(0,_V.t)("safari");return(0,u.jsxs)("div",{className:me()("uog6DPzPBqoiSfeN4cM8eA==",{"wpp55l4oOPKuTBt0LG+2sw==":a}),children:[(0,u.jsx)("div",{className:"++LJTzCzAGZ6ffN3FT10MA==",children:(0,u.jsxs)("div",{className:"_0bzOIJ2oomyfa7vZm+jwSQ==",children:[(0,u.jsx)(IM.Z,{className:"xk1F7lP0oDM+Zd9IrO0g-A==",children:(0,u.jsx)(ZM.Z,{label:Lee,labelClassName:"_87ZrDq8FoISTRdv7RTVgIg==",required:!0,children:(0,u.jsx)("div",{className:"BESr8NDqlPXjo-b7NwNpgw==",children:(0,u.jsx)(_e.Z,{component:qM.Z,dataSource:t,name:"ids"})})})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"L4NWKHNyGEIn5onG3A0aWg==",children:[(0,u.jsx)("div",{className:Wee,children:u7}),(0,u.jsx)(_e.Z,{component:Gee,name:V7})]}),(0,u.jsxs)("div",{className:"ThwHtshpVoy2-wjim-EpiQ==",children:[(0,u.jsx)("div",{className:Wee,style:{paddingTop:"6px"},children:v7}),(0,u.jsx)(_e.Z,{component:qM.Z,name:Q7,dataSource:n})]}),(0,u.jsxs)("div",{className:"tJjoUVNYUNKr89-QhIeHgg==",children:[(0,u.jsx)("div",{className:"hulFYo5EIuVxCbYCvZ-uTg==",children:h7}),(0,u.jsx)(_e.Z,{component:TV.Z,name:K7})]}),(0,u.jsxs)("div",{className:"_9HdoA9MCixafNM5Mbvjojw==",children:[(0,u.jsx)("div",{className:"nINK5kARM+GWZFPu4c4apQ==",children:f7}),(0,u.jsx)(_e.Z,{component:mee,name:z7})]}),(0,u.jsx)(_e.Z,{component:Fee,name:Y7})]})]})}),(0,u.jsx)("footer",{className:"xJO2PAhTSXVR1fIqsEPgkA==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:s,caption:zee,disabled:r||i})})]})};Yee.defaultProps={skills:[]},Yee.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uee(Object(r),!0).forEach((function(t){Vee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({skills:c().array,workActivities:c().array.isRequired},Bt.ZP);const Qee=Yee;var Kee=(e,t)=>(0,j.xb)(e)?null:e.map((e=>{var{externalGroupId:r,groupName:i}=t[e];return{id:e,externalGroupId:r,groupName:i}})),Xee=(e,t)=>(0,j.xb)(e)?null:e.map((e=>{var{name:r}=t[e];return{id:e,name:r}}));function Jee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jee(Object(r),!0).forEach((function(t){ete(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ete(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tte=(0,gG.q9)(["name"]);const rte=(0,o.compose)((0,s.$j)((e=>({currentUser:(0,C.ts)(e),workActivities:ma(e),groupMap:(0,B.GJ)(e),workActivityMap:ba(e)})),(e=>({updateSkills:(t,r)=>e((0,L6.updateSkills)(t,r))})),((e,t,r)=>{var{workActivities:i,groupMap:s,workActivityMap:n}=e,{updateSkills:a}=t,{closeForm:o,skillOptions:l,skills:c,hasErlang:d}=r;return{initialValues:{ids:[],groups:null,skillEmployeeSpans:S7(),skillTimespan:O7(),workActivities:null,skillZone:null},onSubmit:e=>{var t,r,{groups:i,workActivities:l,skillEmployeeSpans:c}=e;a($ee($ee({},e),{},{groups:Kee(i,s),workActivities:Xee(l,n),skillEmployeeSpans:(t=c,r=t.filter((e=>!(0,j.xb)(e.employeeSpanSettings))),(0,j.xb)(r)?null:r)}),(()=>{o()}))},skillOptions:l,skills:c,hasErlang:d,workActivities:i}})),(0,Fe.Z)({form:"CustomizeSkills",validate:tte}))(Qee);var ite=()=>(0,u.jsxs)("div",{className:"OqNQzWVXcmS0bb98yxwUrQ==",children:[(0,u.jsx)(J.Z,{id:"SkillSettings.skill",defaultMessage:[{type:0,value:"Навык привязывается к точкам оргструктуры."}]}),(0,u.jsx)("br",{}),(0,u.jsx)(J.Z,{id:"SkillSettings.queue",defaultMessage:[{type:0,value:"Он определяет, на какие очереди можно распределить сотрудника — какие очереди сотрудник сможет обрабатывать."}]}),(0,u.jsx)("p",{className:P7,children:(0,u.jsx)(J.Z,{id:"SkillSettings.binding",defaultMessage:[{type:0,value:"К одному навыку могут быть привязаны несколько очередей или операций."}]})}),(0,u.jsx)(J.Z,{id:"SkillSettings.aggregation",defaultMessage:[{type:0,value:"Очередь агрегирует линии и рассчитывает суммарную потребность в сотрудниках."}]}),(0,u.jsx)("p",{className:P7,children:(0,u.jsx)(J.Z,{id:"SkillSettings.lineBinding",defaultMessage:[{type:0,value:"К одной очереди может быть привязано несколько линий."}]})}),(0,u.jsx)("p",{children:(0,u.jsx)(J.Z,{id:"SkillSettings.line",defaultMessage:[{type:0,value:"Линия — минимальная единица источника статистики по тому или иному процессу."}]})}),(0,u.jsx)("p",{className:P7,children:(0,u.jsx)(J.Z,{id:"SkillSettings.customerAppeals",defaultMessage:[{type:0,value:"Например, линия, куда приходят обращения клиентов."}]})})]});ite.defaultProps={skillOptions:{}},ite.propTypes={skillOptions:c().shape({id:c().string,openFormName:c().string})};const ste=ite,nte="hM5-io3T0mrD96z-Wz2q2w==";var ate=e=>{var{title:t,defaultTitle:r}=e;return(0,u.jsx)("span",{children:(0,j.xb)(t)?r:t})};ate.defaultProps={title:""},ate.propTypes={title:c().node,defaultTitle:c().node.isRequired};const ote=ate;var lte=e=>(0,H6.AY)(e).openFormTitle||"";const cte=(0,s.$j)((e=>({title:lte(e)})))(ote);var dte=(0,u.jsx)(J.Z,{id:"Skills.lineAdding",defaultMessage:[{type:0,value:"Добавление линии"}]}),ute=e=>{var{skillOptions:t,handleSubmit:r,invalid:i,formValues:{fixedAht:s},destroy:n,pristine:a}=e;return(0,m.useEffect)((()=>()=>{n(x.FORM_NAMES.LINE)}),[]),t.openFormName!==x.FORM_NAMES.LINE?null:(0,u.jsxs)("div",{className:"bBHaOZ7ofm5jHs-sUH6OLA==",children:[(0,u.jsxs)("div",{className:"nkwVzNn7tyBvk9BbWSZG9Q==",children:[(0,u.jsxs)("div",{className:"wQiz2xN+fYt24rlMMNgHUA==",children:[(0,u.jsx)(et.ZP,{glyph:et.x1,className:"TcHBvJaCleg8rZNIa7ObOw=="}),(0,u.jsx)(cte,{defaultTitle:dte})]}),(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(ZM.Z,{label:Lee,required:!0,children:(0,u.jsx)("div",{className:nte,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name"})})}),(0,u.jsx)(ZM.Z,{label:c7,required:!0,children:(0,u.jsx)("div",{className:nte,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"externalId"})})})]}),(0,u.jsx)("div",{className:"jI9ySIJqikp2AdVgplEKDQ==",children:(0,u.jsxs)("div",{className:"_5aJXJfJli56BSe5spGXpgw==",children:[(0,u.jsx)(_e.Z,{component:fP.Z,name:"fixedAht",label:d7,className:"AN0HOeAHyKnzu3owNFXm5w==",classNameLabel:"_5f87JXmZp2F4V2RqFyU5pw=="}),(0,u.jsx)("div",{className:"OoP5l71Fgl12LhK03c0Oag==",children:(0,u.jsx)(_e.Z,{component:_Z.Z,disabled:!s,name:"aht",isValueWithoutZero:!0})})]})})]}),(0,u.jsx)("div",{className:"cq90EW63Q1A9IS27NwiFwA==",children:(0,u.jsx)(W4.Z,{onClick:r,disabled:i||a})})]})};ute.defaultProps={skillOptions:{},invalid:!1,formValues:{},destroy:null},ute.propTypes={invalid:c().bool,handleSubmit:c().func.isRequired,pristine:c().bool.isRequired,skillOptions:c().shape({id:c().string,openFormName:c().string}),formValues:c().shape({fixedAht:c().bool}),destroy:c().func};const pte=ute;function hte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fte(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hte(Object(r),!0).forEach((function(t){mte(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hte(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mte(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vte=(0,o.compose)(v.ZP,(0,s.$j)((e=>({skillOptions:(0,H6.AY)(e),formValues:(0,qe.Z)(x.FORM_NAMES.LINE)(e)})),{editLine:L6.editLine,createLine:L6.createLine,fetchLine:L6.fetchLine,setSkillOptions:L6.setSkillOptions,destroy:Qr.ob},((e,t,r)=>fte(fte(fte(fte({},e),t),r),{},{onSubmit:r=>{var i=fte(fte({},r),{},{externalId:r.externalId.trim(),name:r.name.trim()});i.fixedAht||delete i.aht,i.id?t.editLine(fte(fte({},i),{},{queueId:e.skillOptions.parentId,skillId:e.skillOptions.skillId}),(()=>{t.fetchLine(i.id)})):t.createLine(fte(fte({},i),{},{queueId:e.skillOptions.parentId,skillId:e.skillOptions.skillId}),(()=>{t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.DEFAULT})}))}}))),(0,U.Z)((e=>{var{props:t}=e;t.skillOptions.id&&t.fetchLine(t.skillOptions.id)})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;r.skillOptions.id!==t.skillOptions.id&&r.fetchLine(t.skillOptions.id)})),(0,Fe.Z)({form:x.FORM_NAMES.LINE,validate:(0,gG.q9)(["name","externalId"])}))(pte),yte="_7zUg1wcHeogiWFPxCtHRvw==",gte="Ow72pwjDlQVuvxFNbZ2EAA==",bte="y3XbhKl+EnIiuDYPUVUt8Q==";function jte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xte(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jte(Object(r),!0).forEach((function(t){Ste(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jte(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ste(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ote=e=>{var{workActivities:t,handleSubmit:r,invalid:i,loading:s,skillDataByQueue:n,pristine:a,formValues:o,allowEmployeesToUpdateSchedule:l}=e;return(0,u.jsx)(G4.Z,{isLoading:s,children:(0,u.jsxs)("div",{className:"gZfU+4-DVnSFQRsD2nJqeA==",children:[(0,u.jsxs)("div",{className:"S4HoFYOMuyOgtlaC12sgVA==",children:[(0,u.jsxs)("div",{className:"_2gFt+V9tvKY6k0vUz2mZyw==",children:[(0,u.jsx)(et.ZP,{glyph:et.UH,className:"S444vQfCvFajFMFV6gTrbQ=="}),(0,u.jsx)(cte,{defaultTitle:J7})]}),(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(ZM.Z,{label:Lee,labelClassName:yte,required:!0,children:(0,u.jsx)("div",{className:bte,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name"})})}),(0,u.jsx)(ZM.Z,{label:c7,labelClassName:yte,required:!0,children:(0,u.jsx)("div",{className:bte,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"externalId"})})})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"gRiv3CX5Glvzv79x6ZC0cQ==",children:[(0,u.jsx)("div",{className:gte,children:u7}),(0,u.jsx)(_e.Z,{component:Gee,name:V7})]}),(0,u.jsxs)("div",{className:"etqr+wVege1mn2980njUAQ==",children:[(0,u.jsx)("div",{className:gte,style:{paddingTop:"6px"},children:v7}),(0,u.jsx)(_e.Z,{component:qM.Z,hasTitle:!0,selectedItems:null==o?void 0:o.workActivities,name:Q7,dataSource:t,returnObjValue:!0,checkboxLabelClassName:"svhpEpAmcDiuE9DOSn9fjw=="})]}),(0,u.jsxs)("div",{className:"pePdNnbLAY0CpMBCO9ackQ==",children:[(0,u.jsx)("div",{className:"_5VUZwtQdIO8jUJdZwWUK5Q==",children:h7}),(0,u.jsx)(_e.Z,{component:TV.Z,name:K7})]}),(0,u.jsxs)("div",{className:"_3N96FymuaDRyM0g40KSiyw==",children:[(0,u.jsx)("div",{className:"oy8-ivXfd2+wnfquDDGxng==",children:f7}),(0,u.jsx)(_e.Z,{component:mee,name:z7,initialSkillData:n.skillTimespan})]}),l&&(0,u.jsxs)("div",{className:"LNaEZa5UUS5u3bIOdnxFrQ==",children:[(0,u.jsx)("div",{children:$7}),(0,u.jsxs)("div",{className:"O0T69MG5MDVk2H3hz96KmQ==",children:[(0,u.jsx)("div",{className:"kb0OLmbxrhFP6I+1tjA-LA==",children:eee}),(0,u.jsx)(_e.Z,{component:_Z.Z,name:"maxFlaw",maxValue:100})]})]}),(0,u.jsx)(_e.Z,{component:Fee,name:Y7,initialSkillData:n.skillEmployeeSpans})]})]}),(0,u.jsx)("div",{className:"f5rVtABozOOB5lr5yv5yPQ==",children:(0,u.jsx)(W4.Z,{onClick:r,disabled:i||a})})]})})};Ote.defaultProps={skillOptions:{},workActivities:{}},Ote.propTypes=xte(xte({},Bt.ZP),{},{workActivities:c().array,skillOptions:c().shape({id:c().string,openFormName:c().string}),loading:c().bool.isRequired,pristine:c().bool.isRequired,allowEmployeesToUpdateSchedule:c().bool.isRequired});const Pte=Ote;function wte(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Cte(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wte(Object(r),!0).forEach((function(t){kte(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wte(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kte(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tte=(0,gG.v7)((0,gG.q9)(["name","externalId","groups","workActivities"]),(e=>{var t,r={};return(null===(t=e.skillEmployeeSpans)||void 0===t?void 0:t.some((e=>{var t;return null===(t=e.employeeSpanSettings)||void 0===t?void 0:t.some((e=>!(!(0,j.xb)(e.min)||!(0,j.xb)(e.max))||!(0,j.xb)(e.max)&&!(0,j.xb)(e.min)&&e.min>e.max))})))&&(r.skillEmployeeSpans="Введены не валидные данные или данные не введены вовсе"),r}));const Nte=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(x.FORM_NAMES.SKILL)(e),skillOptions:(0,H6.AY)(e),workActivities:ma(e),groupsMap:(0,B.GJ)(e),currentGroupId:(0,Y.Wx)(e),loading:(0,H6.Qw)(e),skillDataByQueue:(0,H6.OX)(e),allowEmployeesToUpdateSchedule:(0,B.vH)(e,"allowEmployeesToUpdateSchedule")})),{fetchAllWorkActivities:Gv.fetchAllWorkActivities,editSkill:L6.editSkill,createSkill:L6.createSkill,fetchSkill:L6.fetchSkill,setSkillOptions:L6.setSkillOptions,fetchSkillsListByGroup:L6.fetchSkillsListByGroup},((e,t,r)=>Cte(Cte(Cte(Cte({},e),t),r),{},{onSubmit:r=>{var i=[];r.groups.forEach((t=>!(0,j.xb)(e.groupsMap[t])&&i.push(e.groupsMap[t])));var s=Cte(Cte({},r),{},{externalId:r.externalId.trim(),name:r.name.trim(),groups:i}),n=Cte(Cte({},s),{},{workActivities:r.workActivities.map((e=>({id:e.id})))});s.id?t.editSkill(s):t.createSkill(n,(()=>{t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.DEFAULT}),t.fetchSkillsListByGroup(e.currentGroupId)}))}}))),(0,Fe.Z)({form:x.FORM_NAMES.SKILL,validate:Tte}),(0,U.Z)((e=>{var{props:t}=e;t.skillOptions.id&&t.fetchSkill(t.skillOptions.id),t.fetchAllWorkActivities()})))(Pte);var Rte="rateCorrection",Ete="patience",Dte="computeType",Ate="occupancy",Mte="occupancyRate",Ite="description",Zte=e=>{var{input:{onChange:t,value:r},disable:i}=e;return(0,u.jsx)(Zb.E,{options:e9.s8,onChange:t,selectedValue:r,disable:i,removeBtnMargins:!0})};Zte.defaultProps={disable:!1,input:{}},Zte.propTypes={input:c().object,disable:c().bool};const qte=Zte;var Fte=e=>{var{title:t,intl:r}=e,[i,s]=(0,m.useState)(!1),[n,a]=(0,m.useState)({}),o=(0,m.useRef)(null),l=(0,m.useRef)(null);return"ru"!==r.locale?null:(0,u.jsxs)("div",{ref:l,children:[(0,u.jsx)("div",{style:{visibility:i?"":"hidden"},className:"RUXIofl0UUHyl4iWgXZ12Q==",onClick:()=>{s(!1)}}),(0,u.jsx)("div",{className:"RmYT02DP9UaoBHGZxJ0G4A==",style:{left:n&&n.clientX-38,top:n&&n.clientY+20},ref:o,hidden:!i,children:(0,u.jsx)("span",{className:me()("scroll","oLeFUY9bw7eKgDGzP2DV4Q=="),children:t})}),(0,u.jsx)(Ae.Z,{ref:o,onClick:e=>{a({clientX:e.clientX,clientY:e.clientY}),s(!i)},children:(0,u.jsx)(et.ZP,{style:{width:15,height:15},classCustom:me()("j5ltRzmwLT6-cAex-WHIgw==",{"FVwSAZWkKoOxEi0CFcCVvg==":i}),glyph:et.Zc,className:"svg-icon"})})]})};Fte.propTypes={title:c().string,intl:c().object.isRequired},Fte.defaultProps={title:""};const Lte=(0,v.ZP)(Fte);var Hte=r(61371),_te=(0,u.jsx)(J.Z,{id:"QueueForm.erlangS",defaultMessage:[{type:0,value:"По Эрлангу С"}]}),Bte=(0,u.jsx)(J.Z,{id:"QueueForm.direct",defaultMessage:[{type:0,value:"Прямой"}]}),Gte=(0,u.jsx)(J.Z,{id:"QueueForm.backlog",defaultMessage:[{type:0,value:"Бэклог"}]}),Wte=e=>[{value:Hte.v.DIRECT,label:Bte,hintText:e.formatMessage(BS)},{value:Hte.v.ERLANG,label:_te,hintText:e.formatMessage(_S)},{value:Hte.v.BACKLOG,label:Gte,hintText:e.formatMessage(HS)}];function Ute(e){var{input:{value:t,onChange:r},intl:i,showHintText:s}=e;return(0,u.jsx)(Zb.E,{options:Wte(i),showHintText:s,selectedValue:t,onChange:r,removeBtnMargins:!0})}Ute.propTypes={input:c().object.isRequired,intl:c().object.isRequired,showHintText:c().bool},Ute.defaultProps={showHintText:!1};const Vte=(0,v.ZP)(Ute),zte="ndagvXLUt0mr15hCLXAcEA==",Yte="lLaVqhskOMQrdGyn4ak8Kw==",Qte="_2y107TgsnzlBMlNLZ9j9OA==";var Kte=(0,u.jsx)(J.Z,{id:"Queues.addQueue",defaultMessage:[{type:0,value:"Добавить очередь"}]}),Xte=(J.Z,(0,u.jsx)(J.Z,{id:"QueueForm.fill",defaultMessage:[{type:0,value:"Наполняемость"}]})),Jte=(0,u.jsx)(J.Z,{id:"QueueForm.timeStep",defaultMessage:[{type:0,value:"Шаг времени"}]}),$te=(0,u.jsx)(J.Z,{id:"QueueForm.name",defaultMessage:[{type:0,value:"Название очереди"}]}),ere=(0,u.jsx)(J.Z,{id:"QueueForm.service",defaultMessage:[{type:0,value:"Сервис (%)"}]}),tre=(0,u.jsx)(J.Z,{id:"ChangeSlForm.ResponseTime",defaultMessage:[{type:0,value:"Время ответа (сек)"}]}),rre=(0,u.jsx)(J.Z,{id:"QueueForm.responseTime",defaultMessage:[{type:0,value:"Время ответа"}]}),ire=(0,u.jsx)(J.Z,{id:"QueueForm.toleranceThresholdTimeLabel",defaultMessage:[{type:0,value:"Порог терпимости (сек)"}]}),sre=(0,u.jsx)(J.Z,{id:"QueueForm.idExternalSystem"}),nre=(0,u.jsx)(J.Z,{id:"QueueForm.description",defaultMessage:[{type:0,value:"Описание"}]}),are=(J.Z,J.Z,(0,u.jsx)(J.Z,{id:"QueueForm.simultaneousActions",defaultMessage:[{type:0,value:"Одновременные действия (среднее)"}]})),ore=(0,u.jsx)(J.Z,{id:"QueueForm.computeType",defaultMessage:[{type:0,value:"Тип расчета:"}]}),lre=(J.Z,{id:"QueueForm.things",defaultMessage:"штук"}),cre={id:"QueueForm.calls",defaultMessage:"звонков"},dre={id:"QueueForm.requests",defaultMessage:"обращений"},ure=e=>{var{name:t,externalId:r,computeType:i,servicePercent:s,serviceCallTime:n,patience:a}=e;if((0,j.xb)(t)||(0,j.xb)(r)||(0,j.xb)(i))return!1;switch(e.computeType){case Hte.v.DIRECT:return!(0,j.xb)(e.rateCorrection);case Hte.v.ERLANG:return!((0,j.xb)(e.rateCorrection)||(0,j.xb)(s)||(0,j.xb)(n)||(0,j.xb)(a));case Hte.v.BACKLOG:return!(0,j.xb)(n);default:return!0}};const pre="MS6Cs6vAyuC6SPcU3sy0xg==";function hre(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fre(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hre(Object(r),!0).forEach((function(t){mre(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hre(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mre(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vre=e=>{var{input:{onChange:t,value:r},disabled:i,inputClassName:s}=e,[n,a]=(0,m.useState)((0,ft.Nu)(r));(0,m.useEffect)((()=>{(0,j.xb)(r)&&a({days:0,hours:0,minutes:0,seconds:0})}),[r]);var o=()=>{var{days:e,hours:r,minutes:i}=n,s=(e=>{if(0===e)return 0;var t=15*Math.round(e/15);return t<15?15:t})(i);a(fre(fre({},n),{},{minutes:s>=60?45:s}));var o=86400*e+3600*r+60*s;t(0===o?"":o)},{days:l,hours:c,minutes:d}=n;return(0,u.jsxs)("div",{className:me()("WXK4i0q7YAOMylTqZdexmA==",s),children:[(0,u.jsx)(ql.Z,{onBlur:o,className:"cVmzO6lrpnZmaBf6bX19HQ==",value:QS(l),onChange:e=>{a(fre(fre({},n),{},{days:Number(e)}))},disabled:i}),qS,(0,u.jsx)(ql.Z,{onBlur:o,className:pre,value:QS(c),onChange:e=>{a(fre(fre({},n),{},{hours:Number(e)>23?23:Number(e)}))},disabled:i}),FS,(0,u.jsx)(ql.Z,{onBlur:o,value:QS(d),className:pre,step:"15",min:"15",onChange:e=>{a(fre(fre({},n),{},{minutes:Number(e)}))},disabled:i}),LS]})};vre.defaultProps={disabled:!1},vre.propTypes=fre(fre({},Bt.oX),{},{disabled:c().bool});const yre=(0,v.ZP)(vre);var gre=e=>{var{label:t,children:r,required:i,disabled:s,title:n,customClassName:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{title:n,className:me()("QyGWImY33VgT27O38JBhrA==",a,{"MZgLCjLGfViRq3yTDAE3-A==":i,"Jmp8oj8Jyql-mRphqjg8Qw==":s}),children:t}),r]})};gre.defaultProps={label:null,customClassName:"",title:"",required:!1,disabled:!1},gre.propTypes={label:c().node,customClassName:c().string,title:c().string,required:c().bool,disabled:c().bool,children:c().node.isRequired};const bre=gre;var jre=e=>{var t,{handleSubmit:r,formValues:i,destroy:n,currentGroupId:a,pristine:o,intl:l}=e,[c,d]=(0,m.useState)({}),p=(0,s.I0)();(0,m.useEffect)((()=>()=>{n(x.FORM_NAMES.QUEUE)}),[a]),(0,m.useEffect)((()=>{Object.keys(c).length<2&&!(0,j.xb)(i)||(0,j.xb)(i)||(p((0,Qr.m)(x.FORM_NAMES.QUEUE,Rte,null)),p((0,Qr.m)(x.FORM_NAMES.QUEUE,"servicePercent",null)),p((0,Qr.m)(x.FORM_NAMES.QUEUE,q7,null)),p((0,Qr.m)(x.FORM_NAMES.QUEUE,Ete,null)),p((0,Qr.m)(x.FORM_NAMES.QUEUE,Ite,"")),p((0,Qr.m)(x.FORM_NAMES.QUEUE,Mte,0)),p((0,Qr.m)(x.FORM_NAMES.QUEUE,Ate,!1)))}),[i.computeType]),(0,m.useEffect)((()=>{d(i)}),[i]);var h=i.computeType,f=h===Hte.v.DIRECT,v=h===Hte.v.ERLANG,y=h===Hte.v.BACKLOG,g=null==i||null===(t=i.rateCorrection)||void 0===t?void 0:t.toString(),b="."===(null==g?void 0:g.slice(-1))||","===(null==g?void 0:g.slice(-1)),S="0"===(null==i?void 0:i.rateCorrection)||b;return(0,u.jsxs)("div",{className:"fZIeJcI5Ilah05bCo72wSg==",children:[(0,u.jsxs)("div",{className:"aCCpxFg-X0621Ci+Ht9WbQ==",children:[(0,u.jsxs)("div",{className:"B6s70vci0EThW9exZ+izww==",children:[(0,u.jsxs)("div",{className:"_28XBzLiSWuCnLggxHbcosw==",children:[(0,u.jsx)(et.ZP,{glyph:et.EJ,className:"QXRl83xJxpFQafFVlU+h3g=="}),(0,u.jsx)(cte,{defaultTitle:Kte})]}),(0,u.jsx)("div",{className:zte,children:(0,u.jsx)(bre,{label:$te,customClassName:Qte,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,type:"text",name:"name",classNameInput:"ELjGhkqAz4QEZrn0feBMbg=="})})}),(0,u.jsx)("div",{className:zte,children:(0,u.jsx)(bre,{label:sre,customClassName:Qte,required:!0,children:(0,u.jsx)(_e.Z,{component:_K,classNameInput:Yte,type:"text",name:"externalId"})})}),(0,u.jsx)("div",{children:(0,u.jsx)(bre,{label:ore,required:!0,customClassName:"-HDa9lymLHgwaYly858G6Q==",children:(0,u.jsx)("div",{className:"_4hsfoCiHoxzgeTIAVZCZyw==",children:(0,u.jsx)(_e.Z,{component:Vte,name:Dte,showHintText:!0})})})})]}),(0,u.jsx)("div",{className:zte,hidden:y,children:(0,u.jsxs)(bre,{label:are,required:!y,disabled:y,children:[(0,u.jsx)(Lte,{title:l.formatMessage(GS)}),(0,u.jsx)(_e.Z,{component:A7,name:Rte,disabled:y,className:"yR8CxRZVtG7L0dRFmGy6Cw=="})]})}),(0,u.jsx)("div",{className:zte,hidden:f||y,children:(0,u.jsxs)(bre,{label:ere,required:v,disabled:!v,children:[(0,u.jsx)(Lte,{title:l.formatMessage(zS)}),(0,u.jsx)(_e.Z,{classNameInput:Yte,component:_Z.Z,isValueWithoutZero:!0,maxValue:100,name:"servicePercent",disabled:!v})]})}),(0,u.jsx)("div",{className:zte,hidden:f,children:(0,u.jsxs)(bre,{label:y?rre:tre,required:!f,children:[(0,u.jsx)(Lte,{title:l.formatMessage(US)}),(0,u.jsx)(_e.Z,{component:y?yre:_Z.Z,isValueWithoutZero:!0,name:"serviceCallTime",disabled:f,isErlang:v,inputClassName:Yte,classNameInput:Yte})]})}),(0,u.jsx)("div",{className:zte,hidden:!v,children:(0,u.jsxs)(bre,{label:ire,required:!f,children:[(0,u.jsx)(Lte,{title:l.formatMessage(YS)}),(0,u.jsx)(_e.Z,{component:_Z.Z,maxValue:900,name:Ete,classNameInput:Yte,isErlang:v})]})}),(0,u.jsx)("div",{className:zte,children:(0,u.jsxs)(bre,{label:nre,children:[(0,u.jsx)(Lte,{title:l.formatMessage(WS)}),(0,u.jsx)(_e.Z,{classNameInput:Yte,component:_K,type:"text",name:Ite})]})}),(0,u.jsxs)("div",{className:zte,hidden:!f,children:[(0,u.jsx)(_e.Z,{component:wr.XZ,name:Ate,disabled:!f,label:Xte,className:"MxO62I+wzvrMh3-RQbno1Q=="}),(0,u.jsx)(Lte,{title:l.formatMessage(VS)})]}),(0,u.jsx)("div",{style:{marginLeft:37},hidden:!f,children:(0,u.jsx)(bre,{label:Jte,disabled:!i[Ate],children:(0,u.jsx)("div",{className:"_75z-sMbtwn-bFyMjh2SMMA==",children:(0,u.jsx)(_e.Z,{component:qte,name:Mte,disable:!i[Ate]})})})})]}),(0,u.jsx)("div",{className:"ipkmEWVzxsYhsKwe8QgPTg==",children:(0,u.jsx)(W4.Z,{onClick:r,disabled:!ure(i)||o||S})})]})};jre.defaultProps={skillOptions:{},formValues:{},currentGroupId:"",destroy:null},jre.propTypes={handleSubmit:c().func.isRequired,formValues:c().object,skillOptions:c().shape({id:c().string,openFormName:c().string}),destroy:c().func,currentGroupId:c().string,pristine:c().bool.isRequired,intl:P.gm.isRequired};const xre=(0,v.ZP)(jre);var Sre="DIRECT";function Ore(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Pre(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ore(Object(r),!0).forEach((function(t){wre(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ore(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wre(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cre={[Dte]:Sre},kre=e=>{var{name:t,id:r,skillId:i,externalId:s,rateCorrection:n,description:a,occupancy:o,occupancyRate:l,servicePercent:c,serviceCallTime:d,patience:u}=e,p={name:t,externalId:s,id:r,skillId:i,computeType:e.computeType};return e.computeType===Sre?Pre(Pre({},p),{},{rateCorrection:n,description:a,occupancy:o,occupancyRate:l}):"ERLANG"===e.computeType?Pre(Pre({},p),{},{rateCorrection:n,servicePercent:c,serviceCallTime:d,patience:u,description:a}):"BACKLOG"===e.computeType?Pre(Pre({},p),{},{serviceCallTime:d,description:a}):void 0};const Tre=(0,o.compose)((0,s.$j)(((e,t)=>({skillOptions:(0,H6.AY)(e),formValues:(0,qe.Z)(x.FORM_NAMES.QUEUE)(e),currentGroupId:(0,Y.Wx)(e),intl:t.intl})),{editQueue:L6.editQueue,createQueue:OR.createQueue,fetchQueue:L6.fetchQueue,setSkillOptions:L6.setSkillOptions,fetchSkillsByGroup:L6.fetchSkillsByGroup,initialize:Qr.j2,destroy:Qr.ob},((e,t,r)=>Pre(Pre(Pre(Pre({},e),t),r),{},{onSubmit:r=>{var i,s,n=((e,t)=>{switch(e){case Hte.v.ERLANG:return t.formatMessage(cre);case Hte.v.BACKLOG:return t.formatMessage(dre);default:return t.formatMessage(lre)}})(r.computeType,e.intl),a=Pre(Pre({},r),{},{servicePercent:Number(r.servicePercent),rateCorrection:Number(r.rateCorrection),patience:Number(r.patience),serviceCallTime:Number(r.serviceCallTime),externalId:null===(i=r.externalId)||void 0===i?void 0:i.trim(),name:null===(s=r.name)||void 0===s?void 0:s.trim(),description:(0,j.xb)(r.description)?n:r.description.trim()});a.id?t.editQueue(kre(Pre(Pre({},a),{},{skillId:e.skillOptions.parentId}))):t.createQueue(kre(Pre(Pre({},a),{},{skillId:e.skillOptions.parentId})),(()=>{t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.DEFAULT}),t.fetchSkillsByGroup(e.currentGroupId)}))}}))),qE((e=>{var{props:t}=e;(0,j.xb)(t.formValues)&&(0,j.xb)(t.skillOptions.id)&&t.initialize(x.FORM_NAMES.QUEUE,Cre)})),(0,U.Z)((e=>{var{props:t}=e;t.skillOptions.id&&t.fetchQueue(t.skillOptions.id)})),(0,Fe.Z)({form:x.FORM_NAMES.QUEUE,initialValues:Cre}))(xre);var Nre=e=>{var{skillOptions:t,skills:r,hasErlang:i,intl:s,setSkillOptions:n,initialize:a,user:{zonePeriod:o}}=e,[l,c]=(0,m.useState)(!1),[d,p]=(0,m.useState)(!1),h=()=>c(!1),f=()=>p(!1);return(0,u.jsxs)("div",{className:"WB-eYFCeNVZXjdtTdJNbSg==",children:[(0,u.jsx)("h1",{className:"Qie1Ut5HdSuqcyt+2azsPA==",children:b7}),(0,u.jsxs)(l7,{children:[(0,u.jsx)(C7,{onClick:()=>{var{SKILL:e}=x.FORM_NAMES;n({id:"",openFormName:e}),setTimeout((()=>{a(e,{externalId:"",groups:[],name:"",operations:[],queues:[],skillEmployeeSpans:S7(),skillTimespan:O7(),workActivities:[],skillZone:o.zone})}),0)},skillOptions:t}),(0,u.jsx)(Ae.Z,{onClick:()=>c(!0),children:j7}),i&&(0,u.jsx)(Ae.Z,{onClick:()=>p(!0),children:x7})]}),(0,u.jsx)(Ze.dy,{open:l,title:y7,width:520,handleBackArrow:h,children:(0,u.jsx)(rte,{skills:r,closeForm:h})}),(0,u.jsx)(Ze.dy,{open:d,title:g7,handleBackArrow:f,width:500,children:(0,u.jsx)(G7,{onClose:f})}),(0,u.jsxs)("div",{className:"ZI1ffUf6rixbM9Zhnhe2ow==",children:[(0,u.jsx)("div",{className:"_0gkCwiJfjD29-8Un7z1Ahg==",children:(0,u.jsx)(Be.$B,{children:(0,u.jsx)(a7,{})})}),(0,u.jsx)("div",{className:"_3Tumxn1k8xwdqQMMJ6oUzQ==",children:(0,u.jsxs)(UY,{trigger:t.openFormName,children:[(0,u.jsx)(zY,{value:x.FORM_NAMES.SKILL,children:(0,u.jsx)(Nte,{})}),(0,u.jsx)(zY,{value:x.FORM_NAMES.QUEUE,children:(0,u.jsx)(Tre,{intl:s})}),(0,u.jsx)(zY,{value:x.FORM_NAMES.LINE,children:(0,u.jsx)(vte,{})}),(0,u.jsx)(GY,{children:(0,u.jsx)(ste,{skillOptions:t})})]},t.id)})]})]})};Nre.defaultProps={skillOptions:{},skills:[]},Nre.propTypes={skills:c().array,setSkillOptions:c().func.isRequired,skillOptions:c().shape({id:c().string,openFormName:c().string}),initialize:c().func.isRequired,user:c().object.isRequired,hasErlang:c().bool.isRequired,intl:Sc.Z.isRequired};const Rre=Nre,Ere=(0,o.compose)((0,s.$j)((e=>({skills:(0,H6.Vy)(e),currentGroupId:(0,Y.Wx)(e),skillOptions:(0,H6.AY)(e),user:(0,C.ts)(e),hasErlang:(0,H6.cy)(e)})),{fetchSkillsListByGroup:L6.fetchSkillsListByGroup,fetchAllWorkActivities:Gv.fetchAllWorkActivities,setSkillOptions:L6.setSkillOptions,initialize:Qr.j2,setSkillData:L6.skillFetch,checkHasErlang:L6.checkHasErlang}),v.ZP,(0,U.Z)((e=>{var{props:t}=e;t.currentGroupId&&(t.fetchSkillsListByGroup(t.currentGroupId),t.fetchAllWorkActivities(),t.checkHasErlang(t.currentGroupId))})),(0,Ao.Z)((e=>{var{props:t}=e;t.setSkillOptions({id:"",openFormName:x.FORM_NAMES.DEFAULT})})),qE(((e,t)=>{var{props:r}=e;r.currentGroupId!==t.currentGroupId&&(r.fetchSkillsListByGroup(r.currentGroupId),r.checkHasErlang(r.currentGroupId))})))(Rre),Dre="pk3SHnT4lU7mXv6-otQ6hQ==",Are="xQcEP26DkAD9FJfFsB8RjQ==",Mre="B7ZE5956vTA1oNrrw1alMQ==",Ire="+NCYRPcjvDl7c42gvJRlNQ==";var Zre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.openingDate",defaultMessage:[{type:0,value:"Дата открытия"}]}),qre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.dateOfCompletion",defaultMessage:[{type:0,value:"Дата завершения"}]}),Fre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.periodFrom",defaultMessage:[{type:0,value:"Период с"}]}),Lre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.periodTo",defaultMessage:[{type:0,value:"Период по"}]}),Hre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.creator",defaultMessage:[{type:0,value:"Кто и когда внёс изменения"}]}),_re=(0,u.jsx)(J.Z,{id:"EmployeePreferences.quote",defaultMessage:[{type:0,value:"Кол-во предпочтений"}]}),Bre=(0,u.jsx)(J.Z,{id:"EmployeePreferences.globalRules",defaultMessage:[{type:0,value:"Глобальные правила"}]}),Gre=(0,u.jsx)(J.Z,{id:"Common.editData",defaultMessage:[{type:0,value:"Редактировать данные"}]}),Wre=(0,u.jsx)(J.Z,{id:"Common.add",defaultMessage:[{type:0,value:"Добавить"}]}),Ure=(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]}),Vre=(0,u.jsx)(J.Z,{id:"Calendar.displayGraphPeriod",defaultMessage:[{type:0,value:"Период"}]}),zre=e=>ns()(e,ft.vc).format(ft._T),Yre=e=>ns()(e,ft._E).format(ft._T),Qre=e=>{var{deletePreference:t}=e;return[new DO.Z({label:Zre,headerClassName:"LxDdGzd-95Pdvv5WMTKOjg==",key:"openFrom",hasTitle:!1,sortable:!0,filterable:!0,width:185,getValue:e=>zre(e.openFrom),renderCell:e=>(0,u.jsxs)("div",{className:"rC5ch1kbjSBS8iNmmabb5w==",children:[(0,u.jsx)(Mz.Z,{currentId:e.id,deleteCb:t}),(0,u.jsx)("span",{className:"j8HktJEh5vs262urXv+2ig==",children:zre(e.openFrom)})]})}),new DO.Z({key:"openTo",sortable:!0,hasTitle:!1,filterable:!0,width:185,getValue:e=>zre(e.openTo),label:qre,renderCell:e=>(0,u.jsx)("div",{className:Dre,children:zre(e.openTo)})}),new DO.Z({key:"periodFrom",width:125,hasTitle:!1,label:Fre,filterable:!0,sortable:!0,getValue:e=>zre(e.periodFrom),renderCell:e=>(0,u.jsx)("div",{className:Dre,children:zre(e.periodFrom)})}),new DO.Z({key:"periodTo",width:135,hasTitle:!1,label:Lre,filterable:!0,sortable:!0,getValue:e=>zre(e.periodTo),renderCell:e=>(0,u.jsx)("div",{className:Dre,children:zre(e.periodTo)})}),new DO.Z({label:_re,key:"quote",hasTitle:!1,width:210,sortable:!0,filterable:!0,renderCell:e=>(0,u.jsx)("div",{className:Dre,children:e.quote})}),new DO.Z({label:Hre,key:"creator",width:400,sortable:!0,filterable:!0,hasTitle:!1,autoSize:!0,getValue:e=>{var t=Yre(e.lastEditDate);return"".concat(e.creator.fullName," ").concat(t)},renderCell:e=>{var t=Yre(e.lastEditDate);return(0,u.jsx)("div",{className:Dre,children:"".concat(e.creator.fullName," ").concat(t)})}})]},Kre=e=>e.settings.allEmployeePeriodPreferences,Xre=r(84058),Jre=r(19806);class $re extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDateChange",(e=>{this.props.onChange(e)}))}render(){var{datePickerContainerStyles:e}=this.props;return(0,u.jsx)("div",{className:"flex-container",style:e||{margin:"0 10px"},children:(0,u.jsx)(mt.Z,{date:this.props.date,minDate:this.props.minDate,onChange:this.handleDateChange,dateFormat:ft.vc})})}}$re.propTypes={onChange:c().func.isRequired,date:c().object.isRequired,minDate:c().string,datePickerContainerStyles:c().object},$re.defaultProps={minDate:"",datePickerContainerStyles:null};const eie=$re;function tie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class rie extends m.PureComponent{constructor(){super(...arguments),tie(this,"handleStartChange",(e=>{this.props.onChange({from:e,to:this.props.period.to})})),tie(this,"handleEndChange",(e=>{this.props.onChange({from:this.props.period.from,to:e})}))}render(){var{firstPickerStyles:e,secondPickerStyles:t}=this.props,r=me()({"flex-container":this.props.isHorizontal});return(0,u.jsx)("div",{className:Jre.n,children:(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("div",{children:this.props.withLabel&&Vre}),(0,u.jsx)(eie,{date:this.props.period.from,onChange:this.handleStartChange,datePickerContainerStyles:e}),"—",(0,u.jsx)(eie,{date:this.props.period.to,minDate:this.props.period.from,onChange:this.handleEndChange,datePickerContainerStyles:t})]})})}}rie.defaultProps={withLabel:!0,firstPickerStyles:null,secondPickerStyles:null},rie.propTypes={period:c().shape({from:c().string.isRequired,to:c().string.isRequired}).isRequired,isHorizontal:c().bool.isRequired,withLabel:c().bool,onChange:c().func.isRequired,firstPickerStyles:c().object,secondPickerStyles:c().object};const iie=rie;var sie=e=>{var t=(0,s.I0)(),[r,i]=(0,m.useState)((0,ft.Fu)(ft.vc)),[n,a]=(0,m.useState)(""),[o,l]=(0,m.useState)("");return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"_41MZFDY9yzJVfC-0pkw3xQ==",children:[(0,u.jsx)("div",{className:Are,children:(0,u.jsx)(iie,{onChange:i,period:r,isHorizontal:!0})}),(0,u.jsxs)("div",{className:Are,children:[(0,u.jsx)(J.Z,{id:"EmployeePreferences.daysBeforeStart",defaultMessage:[{type:0,value:"За сколько дней до начала периода открывать"}]}),(0,u.jsx)(ql.Z,{onChange:a,value:n,isValueWithoutZero:!0,classNameInput:Ire})]}),(0,u.jsxs)("div",{className:Are,children:[(0,u.jsx)(J.Z,{id:"EmployeePreferences.daysBeforeEnd",defaultMessage:[{type:0,value:"За сколько дней до окончания периода закрывать"}]}),(0,u.jsx)(ql.Z,{onChange:l,isValueWithoutZero:!0,value:o,classNameInput:Ire})]})]}),(0,u.jsx)("div",{className:"y3rWRsAf7tsYZ8+12KeeJw==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{var{from:i,to:s}=r;t((0,Xre.createGlobalRules)({from:i,to:s,daysBeforeStart:n,daysBeforeEnd:o},(()=>{t((0,Xre.fetchAllPreferences)()),e.closeForm()})))},caption:Ure,disabled:!n||!o})})]})};sie.propTypes={closeForm:c().func.isRequired};const nie=sie;var aie=r(69548);function oie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oie(Object(r),!0).forEach((function(t){cie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var die=e=>{var{input:{value:t},label:r,name:i,classContainer:s="",maxNumberOfPreferences:n,inputStyles:a}=e;return(0,u.jsxs)("div",{className:s,children:[r&&(0,u.jsx)("div",{children:r}),(0,u.jsx)("input",{type:"text",name:i,placeholder:String(n),value:t||"",onChange:t=>{var{input:{onChange:r}}=e,i=parseInt(t.target.value,10);(0,j.xb)(t.target.value)&&r(""),Number.isNaN(i)||r(Math.abs(i))},onBlur:()=>{var{input:{value:t,onChange:r},maxNumberOfPreferences:i}=e;t>i&&r(i)},className:a})]})};die.defaultProps={label:null,classContainer:"",name:"",inputStyles:{}},die.propTypes=lie(lie({},Bt.oX),{},{label:c().node,classContainer:c().string,name:c().string,inputStyles:c().object});const uie=die;function pie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fie=e=>{var{formValues:t,invalid:r,pristine:i,maxNumberOfPreferences:s}=e,n=!!t.id,a=me()("OIF+RSK4smRE8iKL45tcDQ==","scroll"),o=n?Ure:Wre,l=s<0?0:s;return(0,u.jsxs)("div",{className:"eCIIlkfq63j8ASpJbtTgzw==",children:[(0,u.jsx)("div",{className:a,children:(0,u.jsxs)(IM.Z,{children:[(0,u.jsx)(kF.Z,{label:Zre,children:(0,u.jsx)(_e.Z,{component:aie.Z,dateFormat:ft.vc,name:"openFrom"})}),(0,u.jsx)(kF.Z,{label:qre,children:(0,u.jsx)(_e.Z,{component:aie.Z,dateFormat:ft.vc,name:"openTo",minDate:null==t?void 0:t.openFrom})}),(0,u.jsx)(kF.Z,{label:Fre,children:(0,u.jsx)(_e.Z,{component:aie.Z,dateFormat:ft.vc,name:"periodFrom"})}),(0,u.jsx)(kF.Z,{label:Lre,children:(0,u.jsx)(_e.Z,{component:aie.Z,dateFormat:ft.vc,name:"periodTo",minDate:null==t?void 0:t.periodFrom})}),(0,u.jsx)(kF.Z,{label:_re,children:(0,u.jsx)(_e.Z,{component:uie,name:"quote",maxNumberOfPreferences:l,inputStyles:"G3yy1-YDQgbEsQATzw-7rw=="})})]})}),(0,u.jsx)("div",{className:"positions-form__footer",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{var{handleSubmit:t}=e;t()},caption:o,disabled:r||i})})]})};fie.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pie(Object(r),!0).forEach((function(t){hie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Bt.Ar);const mie=fie;function vie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vie(Object(r),!0).forEach((function(t){gie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bie="PreferenceForm",jie={openFrom:(0,ft.zO)(ft.vc),openTo:(0,ft.zO)(ft.vc),periodFrom:(0,ft.zO)(ft.vc),periodTo:(0,ft.zO)(ft.vc)},xie=e=>{var{periodFrom:t,periodTo:r}=e,i=ns()(t,ft.vc);return ns()(r,ft.vc).add(1,"d").diff(i,"days")};const Sie=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(bie)(e)||{}})),{createPeriodPreference:Xre.createPeriodPreference,updatePeriodPreference:Xre.updatePeriodPreference,fetchAllPreferences:Xre.fetchAllPreferences},((e,t,r)=>yie(yie(yie({},e),r),{},{initialValues:r.currentPreference.id?r.currentPreference:jie,maxNumberOfPreferences:xie(e.formValues),onSubmit:e=>{var{openFrom:i,openTo:s,periodFrom:n,periodTo:a,quote:o,id:l}=e;e.id?t.updatePeriodPreference({openFrom:i,openTo:s,periodFrom:n,periodTo:a,quote:o,id:l},(()=>{r.close(),t.fetchAllPreferences()})):t.createPeriodPreference({openFrom:i,openTo:s,periodFrom:n,periodTo:a,quote:o},(()=>{r.close(),t.fetchAllPreferences()}))}}))),(0,Fe.Z)({form:bie,validate:(e,t)=>{var{openFrom:r,openTo:i,periodFrom:s,periodTo:n,quote:a}=e,o={};return a>t.maxNumberOfPreferences&&(o.quote="Quote is more than max number of preferences."),((0,j.xb)(a)||0===a)&&(o.quote="Quote is empty."),(0,ft.rm)(r,i,ft.vc)&&(o.openFrom="Opening date later than closing date."),(0,ft.rm)(s,n,ft.vc)&&(o.periodFrom="The start date of the period is later than the end date."),(0,ft.rm)(r,s,ft.vc)&&(o.openFrom="Opening date later than start of period."),(0,ft.rm)(i,n,ft.vc)&&(o.openTo="Closing date later than end of period."),o}}))(mie),Oie=()=>{var[e,t]=(0,m.useState)(!1),[r,i]=(0,m.useState)(!1),[n,a]=(0,m.useState)({}),o=(0,s.v9)(Kre),l=(0,s.I0)();(0,m.useEffect)((()=>{l((0,Xre.fetchAllPreferences)())}),[l]);var c={deletePreference:e=>{l((0,Xre.deletePeriodPreference)({id:e},(()=>{l((0,Xre.fetchAllPreferences)())})))}};return(0,u.jsxs)("div",{className:"PRpAioG-sGWYOZIqTYszJg==",children:[(0,u.jsx)("div",{className:"eMPYTr3KGHBDDEGCsmCNBg==",children:(0,u.jsx)(J.Z,{id:"EmployeePreferences.employeePreferencesHeader",defaultMessage:[{type:0,value:"Настройка открытия периодов для проставления предпочтений сотрудников"}]})}),(0,u.jsxs)("div",{className:"a5fvhUYKAHK3kTm35HfE6A==",children:[(0,u.jsxs)(Ae.Z,{className:"CxyCQAL+xW5g7XDUPTOKbw==",onClick:()=>t(!0),children:[(0,u.jsx)(et.ZP,{glyph:et.zG,classCustom:Mre}),Bre]}),(0,u.jsxs)(Ae.Z,{className:"uaY1lEM8NS3LRpLBjcVIZA==",onClick:()=>{a({}),i(!0)},children:[(0,u.jsx)(et.ZP,{glyph:et.dt,classCustom:Mre}),Wre]})]}),(0,u.jsx)("div",{className:"i1HBEgwzsQVHPGZu6YTOwQ==",children:(0,u.jsx)(ZS.Z,{columns:Qre(c),data:o,onCellClick:(e,t)=>{a(t),i(!0)},rowHeight:30,columnsAutoWidth:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll"})}),(0,u.jsx)(yk.Z,{open:e,handleBackArrow:()=>t(!1),title:Bre,width:420,children:(0,u.jsx)(nie,{closeForm:()=>t(!1)})}),(0,u.jsx)(yk.Z,{open:r,handleBackArrow:()=>i(!1),title:n.id?Gre:Wre,width:420,children:(0,u.jsx)(Sie,{currentPreference:n,preferences:o,close:()=>i(!1)})})]})};var Pie=e=>{var{children:t,className:r}=e;return(0,u.jsx)("div",{className:r,children:(0,u.jsx)("h1",{children:t})})};Pie.propTypes={children:c().object.isRequired,className:c().string.isRequired};const wie=Pie;var Cie=e=>{var{url:t,label:r,index:i}=e,s=(0,y.TH)().pathname===t,n=me()({"QyHL-DsitAPX+wPSRi5frg==":i%2!=0,"DHgwwuuGd69W4YVMteLfMw==":i%2==0,"w16NNolEM+O3XSQIN7lv9A==":s});return(0,u.jsx)("div",{className:n,children:(0,u.jsx)("div",{className:"g4McXQuFVERD1tcHsowhvw==",children:(0,u.jsx)(a.rU,{to:t,children:r})})})};Cie.propTypes={url:c().string.isRequired,label:c().string.isRequired,index:c().number.isRequired};const kie=Cie;var Tie=e=>{var{content:t}=e;return(0,u.jsx)("aside",{className:"IjjVEqLYuyRZLK2oJ85JJA==",children:t.map(((e,t)=>(0,u.jsx)(kie,{url:e.url,label:e.label,index:t},e.id||t)))})};Tie.propTypes={content:c().array.isRequired};const Nie=Tie;var Rie=e=>{var{formatMessage:t}=e;return[{url:"/settings/external-systems/main",label:t({id:"ExternalSystems.labelExternalSystems",defaultMessage:[{type:0,value:"Внешние системы"}]})},{url:"/settings/external-systems/external-status",label:t({id:"ExternalSystems.telephonyStatus",defaultMessage:[{type:0,value:"Состояния внешних систем"}]})},{url:"/settings/external-systems/employee-statuses",label:t({id:"ExternalSystems.employeeStatuses",defaultMessage:[{type:0,value:"Статусы сотрудника"}]})},{url:"/settings/external-systems/configuration-statuses",label:t({id:"ExternalSystems.configurationStatuses",defaultMessage:[{type:0,value:"Сквозная настройка статусов"}]})}]},Eie=r(57495),Die="#d9d9d9",Aie=(0,u.jsx)(J.Z,{id:"Common.id",defaultMessage:[{type:0,value:"ID"}]}),Mie={id:"ExternalSystems.searchStatus",defaultMessage:"Поиск по названию статуса"};const Iie="X9ALOvbhwipd1VMwzi9gLg==",Zie="_8s3lM1muOoDHpXDYtLvHJw==",qie="_3zhFzpOcE9MWFQBJmhu45A==",Fie="oG91CgoLbfZP8cKxpbY7VA==";function Lie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Hie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lie(Object(r),!0).forEach((function(t){_ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bie="ffffffff-ffff-ffff-ffff-ffffffffffff",Gie="00000000-0000-0000-0000-000000000000";const Wie=()=>{var e,t=(0,s.I0)(),r=(0,s.v9)(K8),i=(0,s.v9)(J8),n=(0,s.v9)($8),[a,o]=(0,m.useState)(Die),[l,c]=(0,m.useState)(""),[d,p]=(0,m.useState)(""),[h,f]=(0,m.useState)(r),[v,y]=(0,m.useState)(r),g=(0,er.Z)(),b=(0,m.useRef)(null),x=JSON.stringify(v)===JSON.stringify(r);(0,m.useEffect)((()=>(t((0,D6.fetchEmployeeStatuses)()),()=>{t((0,D6.resetEmployeeStatuses)())})),[t]),(0,m.useEffect)((()=>{f(r),y(r),b.current.focus()}),[r]);var S=(e,t,r)=>{if(!e.startsWith(" ")){var i=v[t],s=[...v],n=h[t],a=[...h];a[t]=Hie(Hie({},n),{},{[r]:e}),s[t]=Hie(Hie({},i),{},{[r]:e}),f(a),y(s)}},P=(0,Yi.D)(1e3,!1,(e=>{f(h.map((t=>t.name.toLowerCase().includes(e.toLowerCase())?Hie(Hie({},t),{},{hidden:!1}):Hie(Hie({},t),{},{hidden:!0}))),f(h))})),w=me()("scroll","_5zil1NKngW73GmOYDZChaQ==");return(0,u.jsxs)("div",{className:"Z3rJQRwnR-BjHSaQ7oRhKA==",children:[(0,u.jsx)("div",{className:"SJ75YZTwzep-Vmue2u4RrQ==",children:(0,u.jsx)("div",{className:"_6jTDc5bZPUaZPOUY7pd4Pg==",children:(0,u.jsx)("input",{style:{width:"425px"},type:"text",name:"search",onChange:e=>{P(e.target.value)},placeholder:g.formatMessage(Mie),ref:b})})}),(0,u.jsxs)("table",{className:"untQTvCK8d1r1oeM9ca-2Q==",children:[(0,u.jsxs)("thead",{className:"Zgnmni+dJEza4EODSvwQfg==",children:[(0,u.jsxs)("tr",{className:"+2aWo39t6eW+Lqcs3GTxHQ==",children:[(0,u.jsx)("td",{children:Aie}),(0,u.jsx)("td",{children:Lee}),(0,u.jsx)("td",{children:mY})]}),(0,u.jsxs)("tr",{className:"QejbXjcnK0F1nCt+CCh5Lw==",hidden:!(0,j.xb)(null===(e=b.current)||void 0===e?void 0:e.value),children:[(0,u.jsx)("td",{className:Zie,children:(0,u.jsx)("input",{type:"text",name:"externalId",title:l,value:l,onChange:e=>{var{value:t}=e.target;!t.startsWith(" ")&&c(t)},className:"eFlrEXlRsk+JIOZJiGM1OQ=="})}),(0,u.jsx)("td",{className:qie,children:(0,u.jsx)("input",{type:"text",name:"name",title:d,value:d,onChange:e=>{var{value:t}=e.target;!t.startsWith(" ")&&p(t)},className:Iie})}),(0,u.jsxs)("td",{className:Fie,children:[(0,u.jsx)(L8,{color:a,onChange:o}),(0,u.jsx)(Eie.Z,{onClick:()=>{var e=[...h,{name:d,externalId:l,color:a}];f(e),y(e),c(""),p(""),o(Die)},withLabel:!1,className:"zLIfm-egVFrWJdeK6bo2aA==",disabled:!l||!d})]})]})]}),(0,u.jsx)("tbody",{className:"Jeim8lUOepon7AoE0yjw1g==",children:(0,u.jsxs)("div",{className:w,children:[i&&(0,j.xb)(r)&&(0,u.jsx)(Z.Z,{}),h.map(((e,r)=>{var i=e.id===Bie||e.id===Gie,s=((e,t)=>{if(t)switch(e.externalId){case"-1":return g.formatMessage(Ym.gD);case"-2":return g.formatMessage(Ym.Qn);default:return e.name}return e.name})(e,i);return(0,u.jsxs)("tr",{className:"J4mCOhtOM5c6iPTlpDCdfQ==",style:{display:e.hidden?"none":""},children:[(0,u.jsxs)("td",{className:Zie,children:[(0,u.jsx)(Mz.Z,{deleteCb:()=>{return r=e.id,void t((0,D6.removeEmployeeStatus)(r,(()=>{t((0,D6.fetchEmployeeStatuses)())})));var r},className:"-I0XutZrH+1B8xHaQB5nCg==",disabled:i||n||(0,j.xb)(e.id)}),(0,u.jsx)("input",{type:"text",name:"externalId",onChange:e=>{S(e.target.value,r,"externalId")},title:e.externalId,value:e.externalId,className:"MfvcnsnyHglKwCxd0azyVw==",disabled:i||n})]}),(0,u.jsx)("td",{className:qie,children:(0,u.jsx)("input",{type:"text",name:"name",onChange:e=>S(e.target.value,r,"name"),title:s,value:s,className:Iie,disabled:i||n})}),(0,u.jsx)("td",{className:Fie,children:(0,u.jsx)(L8,{disabled:i||n,color:e.color,onChange:e=>S(e,r,"color")})})]},e.id)}))]})})]}),(0,u.jsx)("footer",{className:"FPJbsV821RBkKArYVx-lIg==",children:(0,u.jsx)(W4.Z,{onClick:()=>{var e=h.reduce(((e,t)=>(t.id!==Bie&&t.id!==Gie&&e.push((0,O.CE)(t,["hidden"])),e)),[]).map((e=>Hie(Hie({},e),{},{externalId:e.externalId.trim(),name:e.name.trim()})));t((0,D6.employeeStatusesSaveAll)(e,(()=>{t((0,D6.fetchEmployeeStatuses)())})))},disabled:x})})]})};var Uie=(e,t)=>{var r=[];try{e.forEach(((i,s)=>{(e[s].name!==t[s].name&&e[s].id===t[s].id||e[s].externalSystem.id!==t[s].externalSystem.id)&&r.push((0,O.CE)(t[s],["hidden"]))}))}catch(e){return[]}return r},Vie=r(56705);function zie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Yie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zie(Object(r),!0).forEach((function(t){Qie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Kie=()=>{var e=(0,s.I0)(),t=(0,er.Z)(),r=(0,s.v9)(Q8.QA),i=(0,s.v9)((e=>(0,Q8.E1)(e,t))),n=(0,s.v9)(Q8.nk),[a,o]=(0,m.useState)(r),[l,c]=(0,m.useState)([]),d=(0,m.useRef)(null);(0,m.useEffect)((()=>(e((0,Vie.fetchStatuses)()),e((0,Vie.fetchExternalSystems)()),()=>{e((0,Vie.resetExternalSystemsStatuses)())})),[e]),(0,m.useEffect)((()=>{o(r),d.current.focus()}),[r]);var p=(0,Yi.D)(500,!1,(e=>{o(a.map((t=>t.name&&t.name.toLowerCase().includes(e.toLowerCase())?Yie(Yie({},t),{},{hidden:!1}):Yie(Yie({},t),{},{hidden:!0}))))})),h=me()("scroll","Fh7+oxSyVVXx9JgvyVdefg==");return(0,u.jsxs)("div",{className:"ZHfHwKW5ttV15y7KNj8q7w==",children:[(0,u.jsx)("div",{className:"v-CuFQNAVwcAaCIpJbbVRA==",children:(0,u.jsx)("div",{className:"jJ45zg7VDAUbriKuSRenLw==",children:(0,u.jsx)("input",{type:"text",name:"search",autoComplete:"off",placeholder:t.formatMessage({id:"ExternalSystems.placeholderSearchByName",defaultMessage:[{type:0,value:"Поиск по названию"}]}),onChange:e=>p(e.target.value),ref:d})})}),(0,u.jsxs)("table",{className:"o-F5busrnAafOS6IA7X0cg==",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"XdqYzQBUU+l+qmRP6R-u-g==",children:[(0,u.jsx)("td",{children:Ym.pm}),(0,u.jsx)("td",{children:Ym.xp}),(0,u.jsx)("td",{children:Ym.kb})]})}),(0,u.jsx)("tbody",{className:"yTkEds1Xbdg0Jw6-+D8OPg==",children:(0,u.jsxs)("div",{className:h,children:[n&&(0,j.xb)(r)&&(0,u.jsx)(Z.Z,{}),a.map(((e,s)=>{var n=(e=>{if(e.reserved)switch(e.externalId){case Q8.UR:return t.formatMessage(Ym.gD);case Q8.eM:return t.formatMessage(Ym.Qn);default:return e.name}return e.name})(e);return(0,u.jsxs)("tr",{className:"Dyz6BHbaf44yFdU0cpd9jA==",style:{display:e.hidden?"none":""},children:[(0,u.jsx)("td",{className:"-8nRW9a4s1AJyqVmKpRHKA==","aria-disabled":e.reserved,children:(0,u.jsx)("span",{className:"a0nAJCbXe-auknv6ZpPdOQ==",title:e.externalId,children:e.externalId})}),(0,u.jsx)("td",{className:"-yhlzfJ9BxdPtPhgOJLTTw==",children:(0,u.jsx)("input",{className:"QgYhlcNcw1nWRQlsxVXooQ==",type:"text",name:"name",title:n,value:n,onChange:e=>((e,t)=>{if(!e.startsWith(" ")){var i=a[t],s=[...a],n=(0,j.xb)(e)?null:e;s[t]=Yie(Yie({},i),{},{name:n}),o(s),c(Uie(r,s))}})(e.target.value,s),disabled:e.reserved})}),(0,u.jsx)("td",{className:"OA6RIQnFQpBoyWrhVwcYaw==",children:(0,u.jsx)(Il.Z,{hasInputTitle:!0,dataSource:i,onChange:e=>((e,t)=>{var s=a[t],n=[...a],l=i.find((t=>t.id===e));n[t]=Yie(Yie({},s),{},{externalSystem:l}),o(n),c(Uie(r,n))})(e,s),value:e.externalSystem.id,disabled:(0,j.xb)(e.name)||e.reserved})})]},e.id||s)}))]})})]}),(0,u.jsx)("footer",{className:"w+hXeYIPlmwOS5TiLYT6Pw==",children:(0,u.jsxs)(Ae.Z,{className:"+knU+htLoRTdNCwBOjRkMQ==",onClick:()=>{var t=l.map((e=>Yie(Yie({},e),{},{name:e.name.trim()})));e((0,Vie.saveAllExternalSystemsStatuses)(t,(()=>{e((0,Vie.fetchStatuses)())}))),c([])},disabled:(0,j.xb)(l),children:[(0,u.jsx)(et.ZP,{glyph:et.N}),(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})]})})]})};var Xie={id:"ExternalSystems.searchSystems",defaultMessage:"Поиск по названию внешних систем"},Jie={id:"Monitoring.externalSystem",defaultMessage:"Внешняя система"},$ie=(0,u.jsx)(J.Z,{id:"Common.id",defaultMessage:[{type:0,value:"ID"}]});function ese(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tse(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ese(Object(r),!0).forEach((function(t){rse(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ese(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rse(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ise="00000000-0000-0000-0000-000000000000";const sse=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Q8.Bu),[r,i]=(0,m.useState)(""),[n,a]=(0,m.useState)(""),[o,l]=(0,m.useState)(t),[c,d]=(0,m.useState)(t),[p,h]=(0,m.useState)(t),f=(0,er.Z)(),v=(0,m.useRef)(null),y=JSON.stringify(c)===JSON.stringify(t);(0,m.useEffect)((()=>{e((0,Vie.fetchExternalSystems)())}),[e]),(0,m.useEffect)((()=>{l(t),d(t),v.current.focus()}),[t]);var g=o.length>=10,b=(e,t,r)=>{if(!e.startsWith(" ")){var i=p[t],s=[...p],n=o[t],a=[...o];s[t]=tse(tse({},i),{},{[r]:e}),a[t]=tse(tse({},n),{},{[r]:e}),h(s),l(a),d(s)}},j=(0,Yi.D)(1e3,!1,(e=>{l(p.map((t=>t.name.toLowerCase().includes(e.toLowerCase())?t:tse(tse({},t),{},{hidden:!0}))),d(p))})),x=me()("scroll","BisJw-tac0VcsB3x4bxoeA==");return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("div",{className:"sDHZGNJ1ZURxdNnj59twNQ==",children:(0,u.jsx)("input",{type:"text",name:"auto-complete-search",onChange:e=>{j(e.target.value)},style:{width:"460px"},placeholder:f.formatMessage(Xie),ref:v})}),(0,u.jsxs)("table",{className:"NTl3fCG-2pa5C6DdXaNnNg==",children:[(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{width:138,children:(0,u.jsx)("span",{style:{paddingLeft:"15px"},children:$ie})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{style:{paddingLeft:"5px"},children:Lee})})]}),(0,u.jsxs)("tr",{className:"geRSbNxAY8wkM9WrXS9i4A==",children:[(0,u.jsx)("td",{style:{paddingLeft:"10px"},children:(0,u.jsx)("input",{type:"text",name:"externalId",title:r,value:r,onChange:e=>{var{value:t}=e.target;!t.startsWith(" ")&&i(t)},style:{width:"200px"},autoComplete:"off"})}),(0,u.jsxs)("td",{children:[(0,u.jsx)("input",{type:"text",name:"name",title:n,value:n,onChange:e=>{var{value:t}=e.target;!t.startsWith(" ")&&a(e.target.value)},style:{width:"250px"},autoComplete:"off"}),(0,u.jsx)(Ae.Z,{onClick:()=>{var e=[...o,{name:n,externalId:r}];h(e),l(e),d(e),i(""),a("")},className:"Ssbw0fm2bNitcTY-J8hmow==",disabled:!r||!n||g,children:(0,u.jsx)(et.ZP,{glyph:et.dt})})]})]})]}),(0,u.jsx)("tbody",{className:"TA7YsDQPQrnRAHPJv8mKkg==",children:o.map(((e,t)=>{var r=e.id===ise,i=r?f.formatMessage(Jie):e.name;return(0,u.jsxs)("tr",{style:{display:e.hidden?"none":""},children:[(0,u.jsx)("td",{style:{paddingLeft:"10px"},children:(0,u.jsx)("input",{type:"text",name:"externalId",onChange:e=>{b(e.target.value,t,"externalId")},title:e.externalId,value:e.externalId,style:{width:"200px"},disabled:r})}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"text",name:"name",onChange:e=>b(e.target.value,t,"name"),title:i,value:i,style:{width:"250px"},disabled:r})})]},e.id)}))})]})]}),(0,u.jsx)("footer",{className:"_7IZhzExKO-DIjQn+cCKOjw==",children:(0,u.jsx)(W4.Z,{onClick:()=>{var t=o.filter((e=>e.id!==ise)).map((e=>tse(tse({},e),{},{externalId:e.externalId.trim(),name:e.name.trim()})));e((0,Vie.employeeSystemsSaveAll)(t,(()=>{e((0,Vie.fetchExternalSystems)())})))},disabled:y})})]})},nse=()=>{var e=(0,y.k6)(),t=()=>{e.goBack()},r=(0,m.useCallback)((e=>{27===e.keyCode&&t()}),[]);return(0,m.useEffect)((()=>(document.addEventListener("keydown",r,!1),()=>{document.removeEventListener("keydown",r,!1)})),[]),(0,u.jsxs)("div",{className:"E3rk4mYfHoi+fV3FZGh6vQ==",children:[(0,u.jsx)("div",{className:"cUIyugQ8pNz6+rqxUUWVNw==",children:(0,u.jsx)(Ol.Z,{onBack:t})}),(0,u.jsx)(J.Z,{id:"Settings.EndToEndConfigurationOfEmployeeStatuses",defaultMessage:[{type:0,value:"Сквозная настройка статусов сотрудников"}]})]})};var ase=e=>{var{children:t,action:r,btnClassName:i}=e,s=(0,m.useRef)(null),n=(0,m.useCallback)((()=>{s.current.click()}),[s]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ae.Z,{className:i,onClick:n,children:t}),(0,u.jsx)("input",{type:"file",ref:s,id:"fact-import-file",style:{display:"none"},onChange:e=>{var t=e.target.files[0];if(t){var i=new FormData;i.append("file",t),r(i,(()=>{s&&(s.current.value="")}))}}})]})};ase.defaultProps={btnClassName:""},ase.propTypes={children:c().node.isRequired,action:c().func.isRequired,btnClassName:c().string};const ose=ase,lse=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Q8.DR),r=(0,s.v9)(Q8.BV),i=(0,s.v9)(Q8.Go),n=(0,s.v9)(Q8.a),a=t||r||(0,j.xb)(i);return(0,u.jsx)("div",{className:"_6t5lozCADgLCP4ajVnq6lg==",children:(0,u.jsxs)("div",{className:"GagcPqb4tlFWZiCyAdF77w==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{e((0,Vie.saveStatusMapping)(i,(()=>{e((0,Vie.checkStatusMappingAllRows)({checked:!1,filteredData:n}))})))},disabled:a,children:(0,u.jsx)(J.Z,{id:"Common.save",defaultMessage:[{type:0,value:"Сохранить"}]})}),(0,u.jsx)(ose,{action:(t,r)=>{e((0,Vie.importStatusesMapping)(t,(()=>e((0,Vie.fetchStatusesWithFilter)({page:1,size:100,sort:x.ZP.EMPTY_WORK_ACTIVITY_ID,payload:{selectStatusFilter:{},selectedUserStatus:[],onlyUnknowns:!1}}))))),r&&r()},children:(0,u.jsx)(J.Z,{id:"Common.import",defaultMessage:[{type:0,value:"Импорт"}]})}),(0,u.jsx)(Ae.Z,{onClick:()=>{e((0,Vie.getStatusesMappingExcel)())},children:(0,u.jsx)(J.Z,{id:"Common.export",defaultMessage:[{type:0,value:"Экспорт"}]})})]})})};var cse=r(57615),dse=r(68639);function use(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pse(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?use(Object(r),!0).forEach((function(t){hse(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):use(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hse(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fse=e=>{var{infiniteLoaderProps:t,children:r}=e,i=()=>{},s=e=>{var{rowStartIndex:t,rowStopIndex:r}=e;i({startIndex:t,stopIndex:r})};return(0,u.jsx)(bs.b2,pse(pse({},t),{},{children:e=>(e=>{var{onRowsRendered:t}=e;return i=t,r({onSectionRendered:s})})(e)}))};fse.propTypes={children:c().node.isRequired,infiniteLoaderProps:c().shape({loadMoreRows:c().func.isRequired,isRowLoaded:c().func.isRequired,rowCount:c().number.isRequired,minimumBatchSize:c().number.isRequired,threshold:c().number.isRequired}).isRequired};const mse=fse;var vse=r(64483);function yse(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gse(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yse(Object(r),!0).forEach((function(t){bse(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yse(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bse(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jse=e=>{var{loadMoreRows:t,hideHorizontalScroll:r,hideVerticalScroll:i,rowCount:s}=e,n=(0,m.useRef)(null),a=(0,m.useRef)(null),{scrollTop:o,scrollLeft:l,height:c,width:d}=e;(0,m.useEffect)((()=>{a.current.scrollTop=o}),[o]),(0,m.useEffect)((()=>{a.current.scrollLeft=l}),[l]);var p=e=>{var t,{target:r}=e;null==n||null===(t=n.current)||void 0===t||t.handleScrollEvent({scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})},h={loadMoreRows:t,isRowLoaded:t=>{var{index:r}=t,{data:i}=e;return!!i[r]},rowCount:s,minimumBatchSize:100,threshold:1},f=me()({[vse.Z.scrollHiddenX]:r,"scroll-y":!i,"scroll-x":!r,"scroll-invisible-y":i,"scroll-invisible-x":r});return(0,u.jsx)(mse,{infiniteLoaderProps:h,children:t=>(0,u.jsx)("div",{ref:a,style:{height:c,width:d},className:f,onScroll:p,children:(0,u.jsx)(bs.rj,gse(gse(gse({style:{overflowX:!1,overflowY:!1}},e),t),{},{ref:n}))})})};jse.propTypes={width:c().number.isRequired,height:c().number.isRequired,scrollLeft:c().number,scrollTop:c().number.isRequired,rowCount:c().number.isRequired,hideVerticalScroll:c().bool,hideHorizontalScroll:c().bool,loadMoreRows:c().func.isRequired,data:c().arrayOf(c().object).isRequired},jse.defaultProps={hideVerticalScroll:!1,hideHorizontalScroll:!1,scrollLeft:0};const xse=jse;var Sse=r(77482),Ose=e=>{var{data:t,columns:r,setFilters:i,filters:s,setSorters:n,sorters:a,loadMoreRows:o,totalNumber:l}=e,[c,d]=(0,dse.a1)(r),p=(0,dse.ES)(c),h=e=>r=>{var{style:i,key:s,columnIndex:n,rowIndex:a}=r,o=t[a],l=a%2==0?cse.Z.everCell:cse.Z.oddCell;return(0,u.jsx)("div",{style:i,className:l,children:e[n].renderCell(o)},s)},f=(e,r)=>{var{style:o,key:l,columnIndex:c}=r,{index:d,direction:p}=(0,dse.oO)(a,e.key);return(0,u.jsx)(Sse.Z,{style:o,column:e,filters:s,sortDirection:p,columnIndex:c,clearAllFilters:O.wA,data:t,onSortChange:()=>(e=>{var t=[...a],r=t.find((t=>t.column.key===e.key));r?1===r.direction?r.direction=-1:t=t.filter((t=>t.column.key!==e.key)):t.push({direction:1,column:e}),n(t)})(e),sortIndex:d,onChangeFilters:i},l)},m=e=>{var{style:t,key:r,columnIndex:i}=e,s=d[i];return f(s,{style:t,key:r,columnIndex:i})},v=e=>{var{style:t,key:r,columnIndex:i}=e,s=c[i];return f(s,{style:t,key:r,columnIndex:i})},y=()=>new Promise((e=>{e()}));return(0,u.jsx)(bs.Ew,{children:e=>{var{scrollLeft:i,scrollTop:s,onScroll:n}=e;return(0,u.jsx)(bs.qj,{children:e=>{var{width:a,height:f}=e,g=(0,dse.i1)(f-40),b=(0,dse.i1)(a-p),j=(0,dse.i1)(r.length-c.length);return(0,u.jsxs)("div",{style:{width:a,height:f,overflow:"hidden"},children:[(0,u.jsxs)("div",{className:cse.Z.header,children:[(0,u.jsx)(bs.rj,{rowCount:1,width:b,height:40,columnCount:j,rowHeight:40,cellRenderer:m,columnWidth:(0,dse.IQ)(d,b),scrollLeft:i,className:cse.Z.leftTopTable}),(0,u.jsx)(bs.rj,{rowCount:1,width:p,height:40,columnCount:c.length,rowHeight:40,cellRenderer:v,columnWidth:(0,dse.IQ)(c),className:cse.Z.rightTopTable})]}),(0,u.jsxs)("div",{className:cse.Z.body,children:[(0,u.jsx)(xse,{data:t,loadMoreRows:y,rowCount:l,width:b,height:g,columnCount:d.length,rowHeight:30,cellRenderer:h(d),columnWidth:(0,dse.IQ)(d,b),scrollLeft:i,scrollTop:s,onScroll:n,className:cse.Z.leftBottomTable,hideVerticalScroll:!0}),(0,u.jsx)("div",{className:cse.Z.rightBottomTableWrap,children:(0,u.jsx)(xse,{data:t,loadMoreRows:o,rowCount:l,width:p,height:g,columnCount:c.length,rowHeight:30,cellRenderer:h(c),columnWidth:(0,dse.IQ)(c),scrollTop:s,onScroll:n,hideHorizontalScroll:!0})})]})]})}})}})};Ose.propTypes={data:c().arrayOf(c().object).isRequired,columns:c().arrayOf(c().instanceOf(DO.Z)).isRequired,filters:c().object.isRequired,sorters:c().arrayOf(c().object),setFilters:c().func.isRequired,setSorters:c().func.isRequired,totalNumber:c().number.isRequired,loadMoreRows:c().func.isRequired,style:c().object,key:c().number,columnIndex:c().number,rowIndex:c().number},Ose.defaultProps={sorters:[],style:{},key:null,columnIndex:null,rowIndex:null};const Pse=Ose,wse="StexJ+jkgH9dgCJLbQD6vA==",Cse="q6Cpu86I50oOf+Jm9apk3A==",kse="_8PmAmgIN8cRvVzdClNVHCw==";var Tse=e=>{var{color:t,disabled:r}=e,i={backgroundColor:r?Qi.OT:t};return(0,u.jsx)("div",{className:"pidUTfkEkTMUngyCVUuAsA==",style:i})};Tse.defaultProps={disabled:!1},Tse.propTypes={color:c().string.isRequired,disabled:c().bool};const Nse=(0,m.memo)(Tse);var Rse=e=>{var{row:t,userStatuses:r,onChangeUserStatus:i}=e;return(0,u.jsx)("div",{className:wse,children:(0,u.jsx)(Il.Z,{value:null==t?void 0:t.userStatus,dataSource:r,onChange:e=>i(null==t?void 0:t.id,e),disabled:!(null!=t&&t.checked)})})};Rse.propTypes={row:c().object.isRequired,userStatuses:c().object.isRequired,onChangeUserStatus:c().func.isRequired};const Ese=(0,m.memo)(Rse);var Dse=me()(wse,kse),Ase=e=>{var{row:t,onCheckRow:r}=e;return(0,u.jsx)("div",{className:Dse,children:(0,u.jsx)(Rs.XZ,{checked:null==t?void 0:t.checked,onChange:e=>r(null==t?void 0:t.id,e)})})};Ase.propTypes={row:c().object.isRequired,onCheckRow:c().func.isRequired};const Mse=(0,m.memo)(Ase);var Ise=e=>{var{intl:t,externalSystems:r,userStatuses:i,externalStatusMap:s,onChangeUserStatus:n,onCheckRow:a,onCheckAll:o,selectAllState:l}=e,c=(0,X.xn)(i),d=me()(Cse,kse);return[new VP.sg({key:"checked",renderHeader:()=>{var{checked:e,indeterminate:t}=l;return(0,u.jsx)("div",{className:d,children:(0,u.jsx)(Rs.XZ,{checked:e,indeterminate:t,onChange:o})})},renderCell:e=>(0,u.jsx)(Mse,{row:e,onCheckRow:a}),width:42}),...r.map((e=>new VP.sg({label:e.name,key:e.id,sortable:!0,filterable:!0,width:350,headerClassName:Cse,cellClassName:wse,getValue:t=>{var r,i=null==t?void 0:t.externalStatuses[e.id];return(null===(r=s[i])||void 0===r?void 0:r.name)||""},renderCell:t=>{var r,i=null==t?void 0:t.externalStatuses[e.id],n=(null===(r=s[i])||void 0===r?void 0:r.name)||"";return(0,u.jsx)("span",{title:n,className:"+F17fQBgrTsVn53ssvpspg==",children:n})}}))),new VP.sg({label:t.formatMessage({id:"Monitoring.employeeStatus",defaultMessage:[{type:0,value:"Статус сотрудника"}]}),key:"userStatus",sortable:!0,filterable:!0,width:350,headerClassName:Cse,fixed:!0,renderCell:e=>(0,u.jsx)(Ese,{onChangeUserStatus:n,row:e,userStatuses:i}),getValue:e=>{var t;return null===(t=c[null==e?void 0:e.userStatus])||void 0===t?void 0:t.name}}),new VP.sg({label:t.formatMessage({id:"DisplaySettings.color",defaultMessage:[{type:0,value:"Цвет"}]}),key:"employeeStatusColor",width:90,autoSize:!0,headerClassName:Cse,fixed:!0,renderCell:e=>{var t,r=null===(t=c[null==e?void 0:e.userStatus])||void 0===t?void 0:t.color;return(0,u.jsx)("div",{className:wse,children:(0,u.jsx)(Nse,{color:r})})}})]};const Zse=()=>{var e=(0,er.Z)(),t=(0,s.v9)(Q8.BV),r=(0,s.I0)(),i=(0,s.v9)(Q8.a),n=(0,s.v9)(Q8.NZ),a=(0,s.v9)(Q8.gZ),o=(0,s.v9)(Q8.AA),l=(0,s.v9)(Q8.hV),[c,d]=(0,m.useState)(1),p=(0,s.v9)((t=>X8(t,e))),h=(0,s.v9)((t=>(0,Q8.E1)(t,e))),f=(0,s.v9)((t=>(0,Q8.E_)(t,e)));return(0,m.useEffect)((()=>(r((0,D6.fetchEmployeeStatuses)()),r((0,Vie.fetchExternalSystems)()),r((0,Vie.fetchStatuses)()),r((0,Vie.fetchStatusesWithFilter)({page:c,size:100,sort:x.ZP.EMPTY_WORK_ACTIVITY_ID,payload:{selectStatusFilter:{},selectedUserStatus:[],onlyUnknowns:!1}})),d(c+1),()=>{r((0,Vie.resetStatusesMapping)())})),[r]),(0,u.jsx)(Pse,{data:i,totalNumber:n,columns:Ise({intl:e,userStatuses:p,externalSystems:h,externalStatusMap:f,onCheckAll:e=>{r((0,Vie.checkStatusMappingAllRows)({checked:e,filteredData:i}))},onCheckRow:(e,t)=>{r((0,Vie.checkStatusMappingRow)({id:e,checked:t}))},onChangeUserStatus:(e,t)=>{r((0,Vie.changeStatusMappingUserStatus)({id:e,userStatus:t}))},selectAllState:a}),loadMoreRows:()=>{var e;if(!t)return r((0,Vie.fetchStatusesWithFilter)({page:c,size:100,sort:x.ZP.EMPTY_WORK_ACTIVITY_ID,payload:{selectStatusFilter:{},selectedUserStatus:[],onlyUnknowns:!1}},(()=>{d(c+1),e()}))),new Promise((t=>{e=t}))},filters:o,classNameBottomRightGrid:"scroll",cellClassName:"enable-transition virtualized-table__cell",setFilters:e=>{r((0,Vie.setStatusMappingFilter)(e))},setSorters:e=>{r((0,Vie.setStatusMappingSorters)(e))},sorters:l})},qse=()=>(0,u.jsxs)("div",{className:"_7sOoWckB2YRbW5o1ld5QdA==",children:[(0,u.jsx)(nse,{}),(0,u.jsx)("div",{className:"aHVRpFAg3YTT65udAiUt8Q==",children:(0,u.jsx)(Zse,{})}),(0,u.jsx)(lse,{})]});var Fse="/settings/external-systems";const Lse=()=>{var e=(0,er.Z)(),{push:t}=(0,y.k6)();return(0,m.useEffect)((()=>{t("".concat(Fse,"/external-status"))}),[t]),(0,u.jsxs)("div",{className:"AhsN1kvk6puQeKPvvYBi9w==",children:[(0,u.jsx)(wie,{className:"aofwEbcS46ElYRW1RHbHnw==",children:(0,u.jsx)(J.Z,{id:"ExternalSystems.title",defaultMessage:[{type:0,value:"Настройка внешних систем"}]})}),(0,u.jsxs)("div",{className:"Ze55M2zUzi7Ln18QWWVEKg==",children:[(0,u.jsx)("div",{className:"V2zEkdXA1s4+iAEAJP4TFA==",children:(0,u.jsx)(Nie,{content:Rie(e)})}),(0,u.jsx)("div",{className:"_3asrkFeI2xqLu+RZyq6vpQ==",children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"".concat(Fse,"/main"),exact:!0,children:(0,u.jsx)(sse,{})}),(0,u.jsx)(y.AW,{path:"".concat(Fse,"/external-status"),children:(0,u.jsx)(Kie,{})}),(0,u.jsx)(y.AW,{path:"".concat(Fse,"/employee-statuses"),children:(0,u.jsx)(Wie,{})}),(0,u.jsx)(y.AW,{path:"".concat(Fse,"/configuration-statuses"),children:(0,u.jsx)(qse,{})})]})})]})]})},Hse={container:"BTSdwzgiWIcgy4CKPN-jCA==",pageHeader:"sXNbZD44YYvg4lYzpCuDMQ==",wrapper:"VKstpgHMIdGzSFAWC2BNKA==",checkboxList:"tw1k4oLBgw6pagtmAum60g==",separator:"_1cK036PtXQIQZHsa964B+A==",checkbox:"ZJfPrGLcjU22Nzobvnc0Ow==",hiddenText:"-h7Yrrsg5bYINqiEhyI6Dw==",addBundleContainer:"qV39rptGmNoPYHd+Pcnm9Q==",addBundleRow:"XgxYUf2XWp5aBQyP63-03w==",vTable:"yAxVsHNuQ5zqErm01+J8JA==",columnsHeader:"SUrKrq2ddzjMwBWjEjWTZw==",firstColumnHeader:"unSKu5XlnIDZ-44y7tzczg==",containerActivityName:"b9x+SKb5ltOSL-x3iDmMnQ==",textActivityName:"DG7m+qQxNE7kn75VxPIQ+w==",footer:"fdh7q6w5JJJfsVPENC4I9w==",removeButton:"feogENqfA65cMDvO6dXtqg=="};var _se=e=>{var{children:t,className:r}=e;return(0,u.jsx)("div",{className:r,children:(0,u.jsx)("h1",{children:t})})};_se.propTypes={children:c().object.isRequired,className:c().string.isRequired};const Bse=_se;var Gse=(0,u.jsx)(J.Z,{id:"ScheduleSaving.title",defaultMessage:[{type:0,value:"Настройка сохранения расписания"}]}),Wse=(0,u.jsx)(J.Z,{id:"ScheduleSaving.enable",defaultMessage:[{type:0,value:"Включить сохранение расписания"}]}),Use=(0,u.jsx)(J.Z,{id:"ScheduleSaving.durationActivitiesInReport",defaultMessage:[{type:0,value:"Учитывать длительность активностей в отчёте"}]}),Vse=(0,u.jsx)(J.Z,{id:"ScheduleSaving.labelAllGroup",defaultMessage:[{type:0,value:"Расписание строится на всю группу на следующий календарный месяц."}]}),zse=r(98034),Yse=e=>e.settings.scheduleSaving.specifyingBundle,Qse=e=>e.settings.scheduleSaving.specifyingBundleListFilter;const Kse="ijD4iHTpSLsPP32srPILhQ==";var Xse=e=>{var{value:t,indexBundle:r}=e,i=(0,s.I0)();return(0,u.jsx)("div",{className:"_3h9dBRrCJDPI39DR7x7hlQ==",children:(0,u.jsx)("input",{className:Kse,value:t,type:"text",name:"pseudoName",onChange:e=>{i((0,zse.editingPseudoName)({value:e.target.value,indexBundle:r}))}})})};Xse.defaultProps={value:"",indexBundle:null},Xse.propTypes={value:c().string,indexBundle:c().number};const Jse=Xse;var $se=(0,u.jsx)(J.Z,{id:"ScheduleBlocker.activity",defaultMessage:[{type:0,value:"Активность"}]}),ene=(0,u.jsx)(J.Z,{id:"WorkActivity.name",defaultMessage:[{type:0,value:"Название активности"}]}),{firstColumnHeader:tne,columnsHeader:rne}=Hse,ine=e=>{var{workActivitiesMap:t,deleteSavingActivitySetting:r}=e;return[new DO.Z({label:$se,key:"activityId",width:350,filterable:!0,sortable:!0,headerClassName:tne,getValue:e=>{return r=e.activityId,i=t,(0,j.xb)(r)?null:null===(s=i[r])||void 0===s?void 0:s.name;var r,i,s},renderCell:(e,i)=>{var s,{activityId:n}=e;return(0,u.jsxs)("div",{className:Hse.containerActivityName,children:[(0,u.jsx)("span",{className:Hse.removeButton,children:(0,u.jsx)(Mz.Z,{currentId:i,deleteCb:r})}),(0,u.jsx)("span",{className:Hse.textActivityName,children:null===(s=t[n])||void 0===s?void 0:s.name})]})}}),new DO.Z({label:ene,key:"pseudoName",width:350,filterable:!0,sortable:!0,autoSize:!0,headerClassName:rne,renderCell:(e,t)=>{var{pseudoName:r}=e;return(0,u.jsx)(Jse,{value:r,indexBundle:t})}})]},sne=e=>{var t,r,i,{watchingActivities:n,workActivities:a,handleChangeActivity:o,value:l}=e,c=(0,s.v9)(pn),d=(0,er.Z)(),p=null==n?void 0:n.map((e=>e.activityId));return(0,u.jsx)(Il.Z,{dataSource:a,onChange:e=>o(e),value:l,disableSelectedItems:!0,classContainer:"x6mxltBfp1qFaYdTWHdXFw==",selectedItems:(t=p,r=c,i=[],t.forEach((e=>{r[e]&&i.push(r[e])})),i),hintText:d.formatMessage({id:"WorkActivity.choiceActivity",defaultMessage:[{type:0,value:"Выбор активности"}]})})};sne.defaultProps={watchingActivities:[],value:null},sne.propTypes={watchingActivities:c().array,workActivities:c().array.isRequired,handleChangeActivity:c().func.isRequired,value:c().string};const nne=sne;var ane=e=>{var{value:t,handleChangePseudoName:r,handleSave:i,newBundle:{activityId:s,pseudoName:n}}=e,a=(0,er.Z)();return(0,u.jsxs)("div",{className:"_20NJwUSvQriGnGdOsaZ9Lw==",children:[(0,u.jsx)("input",{type:"text",name:"pseudoName",className:Kse,value:t,onChange:e=>{" "!==e.target.value[0]&&r(e.target.value)},placeholder:a.formatMessage({id:"WorkActivity.bundleName",defaultMessage:[{type:0,value:"Укажите название активности"}]})}),(0,u.jsx)(Ae.Z,{onClick:i,disabled:(0,j.xb)(s)||(0,j.xb)(n),children:(0,u.jsx)(et.ZP,{glyph:et.dt})})]})};ane.defaultProps={value:null,handleSave:null,newBundle:{}},ane.propTypes={value:c().string,handleChangePseudoName:c().func.isRequired,handleSave:c().func,newBundle:c().object};const one=ane;function lne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lne(Object(r),!0).forEach((function(t){dne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const une=()=>{var e=(0,s.I0)();(0,m.useEffect)((()=>(e((0,zse.fetchSpecifyingBundle)()),e((0,Sa.fetchWorkActivities)()),()=>e((0,zse.resetSpecifyingBundle)()))),[e]);var{IS_SCHEDULE_VERSIONING_ENABLE:t,IS_WATCHING_ACTIVITY_ENABLE:r}=(0,s.v9)(B.Tv),i=(0,s.v9)(Yse),n=(0,s.v9)(cn),a=(0,s.v9)(pn),o=(0,s.v9)(Qse),[l,c]=(0,m.useState)({activityId:"",pseudoName:""}),d=(0,Dh.z3)(t),p=(0,Dh.z3)(r),h=(t,r)=>{e((0,V.updateGlobalSettings)({key:t,value:r},(()=>e((0,V.fetchGlobalSettings)()))))};return(0,u.jsxs)("div",{className:Hse.container,children:[(0,u.jsx)(Bse,{className:Hse.pageHeader,children:Gse}),(0,u.jsxs)("div",{className:Hse.wrapper,children:[(0,u.jsxs)("div",{className:Hse.checkboxList,children:[(0,u.jsx)(Rs.XZ,{checked:d,onChange:e=>{h("IS_SCHEDULE_VERSIONING_ENABLE",e.toString())},label:Wse,className:Hse.checkbox}),(0,u.jsx)("div",{className:Hse.separator}),d&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Rs.XZ,{checked:p,onChange:e=>{h("IS_WATCHING_ACTIVITY_ENABLE",e.toString())},label:Use,className:Hse.checkbox}),(0,u.jsx)("div",{className:Hse.separator}),(0,u.jsx)("div",{className:Hse.hiddenText,children:Vse}),(0,u.jsx)("div",{className:Hse.separator})]})]}),p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:Hse.addBundleContainer,children:(0,u.jsxs)("div",{className:Hse.addBundleRow,children:[(0,u.jsx)(nne,{watchingActivities:i.watchingActivities,handleChangeActivity:e=>c({activityId:e,pseudoName:null==l?void 0:l.pseudoName}),workActivities:n,value:l.activityId}),(0,u.jsx)(one,{handleChangePseudoName:e=>c({activityId:null==l?void 0:l.activityId,pseudoName:e}),value:l.pseudoName,handleSave:()=>{e((0,zse.addNewBundle)(l)),c({activityId:"",pseudoName:""})},newBundle:l})]})}),(0,u.jsx)("div",{className:Hse.vTable,children:(0,u.jsx)(ZS.Z,{columns:ine({workActivitiesMap:a,deleteSavingActivitySetting:t=>e((0,zse.deleteActivitySetting)(t))}),data:null==i?void 0:i.watchingActivities,filters:o,setFilter:t=>e((0,zse.setSpecifyingBundleListFilter)(t)),columnsAutoWidth:!0,classNameBottomRightGrid:"scroll",cellClassName:"enable-transition virtualized-table__cell",headerStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1}})})]})]}),(0,u.jsx)("footer",{className:Hse.footer,children:(0,u.jsx)(W4.Z,{onClick:()=>{var t=i.watchingActivities.map((e=>cne(cne({},e),{},{pseudoName:e.pseudoName.trim()}))),r=cne(cne({},i),{},{watchingActivities:t});return e((0,zse.updateSpecifyingBundle)((0,O.CE)(r,"update"),(()=>e((0,zse.fetchSpecifyingBundle)()))))},disabled:!i.update})})]})},pne="_1l+gjBRJghXIAF3Np19tUg==";function hne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hne(Object(r),!0).forEach((function(t){mne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vne=e=>{var{input:{value:t,onChange:r},label:i,noHours:s,isWeek:n,disableNorm:a,inputLabel:o,isValueWithoutZero:l}=e;return(0,m.useEffect)((()=>{t.enable&&0===t.norm&&r(fne(fne({},t),{},{norm:""}))}),[t.enable]),(0,u.jsx)("div",{className:"++uKBur7xzycdic0Ur9JzA==",title:t.description,children:(0,u.jsxs)("div",{className:"PFqB34mTfL8FxzuPa8-E0g==",children:[(0,u.jsx)(Rs.XZ,{onChange:e=>{r(fne(fne({},t),{},{enable:e,norm:t.norm||""}))},label:i,checked:t.enable,className:"N3pkTYHyg04lgWjuJfzMww=="}),!a&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:o}),(0,u.jsx)(ql.Z,{onChange:e=>{r(fne(fne({},t),{},{enable:t.enable,norm:e}))},classNameInput:"NtJFGNsUGy8A84nxZ3xuNw==",disabled:!t.enable,value:t.norm,isValueWithoutZero:l}),!s&&(0,u.jsx)("span",{className:"oeOgnyCOSlYlbPAVRjZFxw==",children:CC}),n&&(0,u.jsx)("span",{children:kC})]})]})})};vne.defaultProps={noHours:!1,isWeek:!1,disableNorm:!1,isValueWithoutZero:!1},vne.propTypes={input:c().object.isRequired,label:c().object.isRequired,inputLabel:c().object.isRequired,noHours:c().bool,isWeek:c().bool,disableNorm:c().bool,isValueWithoutZero:c().bool};const yne=vne;var gne=(0,u.jsx)(J.Z,{id:"Common.Year",defaultMessage:[{type:0,value:"Год"}]}),bne=(0,u.jsx)(J.Z,{id:"Common.quarter",defaultMessage:[{type:0,value:"Квартал"}]}),jne=(0,u.jsx)(J.Z,{id:"Common.Month",defaultMessage:[{type:0,value:"Месяц"}]}),xne=(0,u.jsx)(J.Z,{id:"Common.clear",defaultMessage:[{type:0,value:"Очистить"}]}),Sne=e=>{var{overWorkDisabled:t,yearValueNotEmpty:r,quartersValueIsNotEmpty:i,monthsValuesIsNotEmpty:n,clearPeriodFields:a}=e,o=(0,s.I0)(),l=(0,s.v9)(WC),c=t||i||n,d=t||r||n,p=t||r||i,h=e=>o((0,vT.setSelectedPeriod)(e));return(0,u.jsxs)("div",{className:"N5NNpBvhQ40x4JS5kZq6zQ==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>h("year"),active:"year"===l,disabled:c,children:gne}),(0,u.jsx)(Ae.Z,{onClick:()=>h("quarter"),active:"quarter"===l,disabled:d,children:bne}),(0,u.jsx)(Ae.Z,{onClick:()=>h("month"),active:"month"===l,disabled:p,children:jne}),(0,u.jsxs)(Ae.Z,{disabled:!c&&!d&&!p||t,onClick:a,children:[(0,u.jsx)(et.ZP,{glyph:et.XH}),(0,u.jsx)("span",{className:"hJkDnXEIcZyKUvqGBtyqXg==",children:xne})]})]})};Sne.defaultProps={overWorkDisabled:!0,quartersValueIsNotEmpty:!1,monthsValuesIsNotEmpty:!1,yearValueNotEmpty:!0},Sne.propTypes={overWorkDisabled:c().bool,quartersValueIsNotEmpty:c().bool,monthsValuesIsNotEmpty:c().bool,yearValueNotEmpty:c().bool,clearPeriodFields:c().func.isRequired};const One=Sne,Pne="WPCJRCaOe3hkkreLBtU3ug==";var wne=e=>{var{labelUnRework:t,staticLabel:r,value:i,disabled:s,onChange:n}=e;return(0,u.jsxs)(u.Fragment,{children:[t," ",(0,u.jsx)("span",{children:r}),(0,u.jsx)(ql.Z,{onChange:e=>{(0,j.xb)(e)?n(null):n(e)},className:"GsiMclIp5VL1mFXasBIDIg==",disabled:s,value:i})]})};wne.defaultProps={disabled:!1,value:null},wne.propTypes={labelUnRework:c().object.isRequired,staticLabel:c().object.isRequired,value:c().number,disabled:c().bool,onChange:c().func.isRequired};const Cne=wne;function kne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Tne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kne(Object(r),!0).forEach((function(t){Nne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rne=e=>{var{input:{value:t,onChange:r},disabled:i}=e,s=(e,i)=>r(Tne(Tne({},t),{},{[i]:e}));return(0,u.jsxs)("div",{className:"flVqr067v8Viq8CRidPUtg==",children:[(0,u.jsx)("div",{className:Pne,children:(0,u.jsx)(Cne,{value:t.unWorkHours,onChange:e=>s(e,"unWorkHours"),labelUnRework:TC,staticLabel:RC,disabled:i})}),(0,u.jsx)("div",{className:Pne,children:(0,u.jsx)(Cne,{value:t.reWorkHours,onChange:e=>s(e,"reWorkHours"),labelUnRework:NC,staticLabel:RC,disabled:i})})]})};Rne.defaultProps={disabled:!1},Rne.propTypes={input:c().object.isRequired,disabled:c().bool};const Ene=Rne,Dne="Iw-ernJL0X-fX4bVR4XpBw==";function Ane(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Mne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ane(Object(r),!0).forEach((function(t){Ine(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ane(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ine(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zne=e=>{var{label:t,data:r,onChangeHours:i,disabled:s}=e,n=(e,t)=>i(Mne(Mne({},r),{},{[t]:e}));return(0,u.jsxs)("div",{className:"o4Zl9GmKcyGG3wAVrPdvLg==",children:[(0,u.jsx)("span",{className:"JJQwMP2470tLPyv5zxMlgQ==",children:t}),(0,u.jsx)("div",{className:Dne,children:(0,u.jsx)(Cne,{value:r.unWorkHours,onChange:e=>n(e,"unWorkHours"),labelUnRework:TC,staticLabel:RC,disabled:s})}),(0,u.jsx)("div",{className:Dne,children:(0,u.jsx)(Cne,{disabled:s,value:r.reWorkHours,onChange:e=>n(e,"reWorkHours"),labelUnRework:NC,staticLabel:RC})})]})};Zne.propTypes={label:c().object.isRequired,data:c().object.isRequired,onChangeHours:c().func.isRequired,disabled:c().bool.isRequired};const qne=Zne;var Fne=e=>{var{input:{value:t,onChange:r},list:i,disabled:s}=e,n=e=>{var i=null==t?void 0:t.map((t=>t.id===e.id?e:t));r(i)};return(0,u.jsx)(u.Fragment,{children:null==t?void 0:t.map(((e,t)=>(0,u.jsx)(qne,{disabled:s,label:i[t],onChangeHours:n,data:e},e.id)))})};Fne.propTypes={input:c().object.isRequired,list:c().array.isRequired,disabled:c().bool.isRequired};const Lne=Fne;var Hne=e=>{var{workActivities:t,formValues:r,invalid:i,handleSubmit:n,yearLaborCode:a,overWorkDisabled:o,yearValueNotEmpty:l,quartersValueIsNotEmpty:c,monthsValuesIsNotEmpty:d,clearPeriodFields:p,selectedActivities:h}=e,f=(0,s.I0)(),[v,y]=(0,m.useState)(r),[g,b]=(0,m.useState)(!0);(0,m.useEffect)((()=>{(0,j.xb)(v)&&y(r),F5().isEqual(v,r)?b(!0):b(!1)}),[r,v]);var x=(0,s.v9)(WC),S=(0,s.v9)(UC);(0,m.useEffect)((()=>(f((0,vT.fetchLaborCodeSettings)({year:a})),f((0,vT.setSelectedPeriod)(S)),f((0,Gv.fetchAllWorkActivities)()),()=>{f((0,vT.setResetPeriod)())})),[a,S]);var O=me()(pne,{"IZ1VV3EhZzxP+iIkDPLLYQ==":"quarter"===x||"month"===x});return(0,u.jsxs)("div",{className:"lsyQlOSZNH5MQmWkyYSyIA==",children:[(0,u.jsx)("h1",{className:"HC1YgfCEiHeNyglEdaSkcg==",children:HC}),(0,u.jsxs)("div",{className:"+Cc-7osQSAh727kC24i-+g==",children:[(0,u.jsxs)("div",{className:"RxoSPT5DFkB+0B5QxQwOXQ==",children:[(0,u.jsx)(_e.Z,{component:yne,name:"LENGTH_SHIFT",label:bC,inputLabel:PC,isValueWithoutZero:!0}),(0,u.jsxs)("div",{className:"DEUi424SF8n7XqQX3xITtA==",children:[(0,u.jsx)("div",{className:"GePodyggXSOM6cETC+-foA==",children:_C}),(0,u.jsx)("div",{className:"PfrcerYVV9650ylacwAviw==",children:(0,u.jsx)(_e.Z,{component:qM.Z,name:"notWorkingActivities",dataSource:t,selectedItems:null==r?void 0:r.notWorkingActivities,checkboxLabelClassName:"yVfeCS0WePbXGV6aSH6Fcw==",values:h})})]})]}),(0,u.jsx)(_e.Z,{component:yne,name:"ROW_SHIFT",label:jC,inputLabel:PC,noHours:!0}),(0,u.jsx)("div",{className:"rcDse6iPUtBYyi1P8tiPGg==",children:(0,u.jsx)(_e.Z,{component:yne,name:"INTER_SHIFT",label:xC,inputLabel:wC,isValueWithoutZero:!0})}),(0,u.jsx)("div",{className:"_4bTk4VQqbOiTsFSzECL8ow==",children:(0,u.jsx)(_e.Z,{component:yne,name:"REST_WEEK",label:SC,inputLabel:wC,isWeek:!0})}),(0,u.jsxs)("div",{className:"_6frd8A62gz8b--C3tFZQFA==",children:[(0,u.jsx)(_e.Z,{component:yne,name:"OVER_WORK",label:OC,disableNorm:!0}),(0,u.jsx)(One,{overWorkDisabled:o,yearValueNotEmpty:l,quartersValueIsNotEmpty:c,monthsValuesIsNotEmpty:d,clearPeriodFields:p})]}),(0,u.jsxs)("div",{className:pne,children:[(0,u.jsx)("div",{className:"_8YmUxpPrDrxoKp99y1yHYQ=="}),(0,u.jsxs)("div",{className:O,children:[(0,u.jsx)(yj.Z,{classContainer:"cgVX-kZk21WLPxWdk1IveQ==",dataSource:(0,MO.V4)(1970),dataSourceConfig:{value:"year",text:"year"},inputType:"number",value:a,onChange:e=>f((0,vT.setYear)(e)),disabled:o}),(0,u.jsxs)(UY,{trigger:x,children:[(0,u.jsx)(zY,{value:"year",children:(0,u.jsx)(_e.Z,{component:Ene,name:MC,disabled:o})}),(0,u.jsx)(zY,{value:"quarter",children:(0,u.jsx)(_e.Z,{component:Lne,name:IC,list:qC,disabled:o})}),(0,u.jsx)(zY,{value:"month",children:(0,u.jsx)(_e.Z,{component:Lne,name:ZC,list:FC,disabled:o})})]})]})]}),(0,u.jsx)("div",{className:"h+CaxbyFHoC5b1C60-6sww==",children:(0,u.jsx)(_e.Z,{component:wr.XZ,label:EC,name:"checkRequests"})})]}),(0,u.jsx)("div",{className:"_2n-herhsVg-SWbt2DRj+Ww==",children:(0,u.jsx)(Ge.Z,{caption:DC,type:"stripped",icon:AC,onClick:()=>{n(),b(!0),y(r)},disabled:i||g})})]})};Hne.defaultProps={formValues:{},workActivities:[],selectedActivities:[],overWorkDisabled:!0,quartersValueIsNotEmpty:!1,monthsValuesIsNotEmpty:!1,yearValueNotEmpty:!0},Hne.propTypes={formValues:c().object,workActivities:c().array,invalid:c().bool.isRequired,overWorkDisabled:c().bool,handleSubmit:c().func.isRequired,yearLaborCode:c().string.isRequired,quartersValueIsNotEmpty:c().bool,monthsValuesIsNotEmpty:c().bool,yearValueNotEmpty:c().bool,clearPeriodFields:c().func.isRequired,selectedActivities:c().array};const _ne=Hne;function Bne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Gne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bne(Object(r),!0).forEach((function(t){Wne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Une="LaborCodeSettings",Vne=(0,o.compose)((0,s.$j)((e=>{var t=BC(e),r=LC(t,(0,qe.Z)(Une)(e));return{initialValues:r,selectedPeriod:WC(e),workActivities:(0,B._8)(e),formValues:(0,qe.Z)(Une)(e),yearLaborCode:GC(e),selectedActivities:null==r?void 0:r.notWorkingActivities}}),(e=>({updateLaborCodeSettings:(t,r)=>e((0,vT.updateLaborCodeSettings)(t,r)),fetchLaborCodeSettings:t=>e((0,vT.fetchLaborCodeSettings)(t)),changeField:(t,r)=>e((0,Qr.m)(Une,t,r))})),((e,t,r)=>{var i,s,n,a,o,l,c,d,u,p;return Gne(Gne(Gne(Gne({},e),t),r),{},{onSubmit:r=>{t.updateLaborCodeSettings((e=>{var t=(e,t)=>[[0,1,2],[3,4,5],[6,7,8],[9,10,11]][t-1].map((t=>e[t])),r=e.overWorkQuarters.map((r=>yC(yC({},r),{},{overWorkMonths:t(e.overWorkMonths,r.quarter)})));return{notWorkingActivities:e.notWorkingActivities,laborCodeSettings:[e.INTER_SHIFT,e.REST_WEEK,e.LENGTH_SHIFT,e.ROW_SHIFT,e.OVER_WORK],overWorkSetting:yC(yC({},e.year),{},{overWorkQuarters:r}),checkRequests:e.checkRequests}})(r),(()=>{t.fetchLaborCodeSettings({year:e.yearLaborCode})}))},clearPeriodFields:()=>{var{changeField:r}=t,{selectedPeriod:i,formValues:s}=e;switch(i){case"year":r(MC,Gne(Gne({},s[MC]),{},{unWorkHours:null,reWorkHours:null}));break;case"quarter":r(IC,s[IC].map((e=>Gne(Gne({},e),{},{unWorkHours:null,reWorkHours:null}))));break;default:r(ZC,s[ZC].map((e=>Gne(Gne({},e),{},{unWorkHours:null,reWorkHours:null}))))}},overWorkDisabled:!(null!==(i=e.formValues)&&void 0!==i&&null!==(s=i.OVER_WORK)&&void 0!==s&&s.enable),yearValueNotEmpty:!(0,j.xb)(null===(n=e.formValues)||void 0===n||null===(a=n.year)||void 0===a?void 0:a.reWorkHours)||!(0,j.xb)(null===(o=e.formValues)||void 0===o||null===(l=o.year)||void 0===l?void 0:l.unWorkHours),quartersValueIsNotEmpty:null===(c=e.formValues)||void 0===c||null===(d=c.overWorkQuarters)||void 0===d?void 0:d.some((e=>!(0,j.xb)(e.reWorkHours)||!(0,j.xb)(e.unWorkHours))),monthsValuesIsNotEmpty:null===(u=e.formValues)||void 0===u||null===(p=u.overWorkMonths)||void 0===p?void 0:p.some((e=>!(0,j.xb)(e.reWorkHours)||!(0,j.xb)(e.unWorkHours)))})})),(0,Fe.Z)({form:Une,enableReinitialize:!0}))(_ne);const zne=Vne;var Yne="00000000-0000-0000-0000-000000000000",Qne={id:"Common.copy",defaultMessage:"Копировать"},Kne={id:"Common.delete",defaultMessage:"Удалить"},Xne=(0,u.jsx)(J.Z,{id:"ProductionCalendar.holidaysAreDayOff",defaultMessage:[{type:0,value:"Сделать праздники выходными"}]});const Jne="SNlusTemQrwlp0M-DX7THQ==",$ne=()=>(0,u.jsxs)("div",{className:"U5ITYCFC5xvoUn3nGcy5vA==",children:[(0,u.jsx)("h1",{className:"CYSm4pqkFSmRJx8vz8ARKA==",children:(0,u.jsx)(J.Z,{id:"ProductionCalendar.header",defaultMessage:[{type:0,value:"Производственные календари"}]})}),(0,u.jsx)("div",{className:"fNXSL16zroxj4gtXH88GXg==",children:(0,u.jsxs)(a.OL,{to:"".concat("/settings/production-calendars","/add"),activeClassName:Jne,children:[(0,u.jsx)(et.ZP,{glyph:et.dt,classCustom:"dJIJpZswKuZ0Vxg+utp2Sw=="}),(0,u.jsx)(J.Z,{id:"ProductionCalendar.addProdCalendar",defaultMessage:[{type:0,value:"Добавить производственный календарь"}]})]})})]});var eae=r(96370),tae=r(57394),rae="/settings/production-calendars",iae=e=>{var{onDeleteCalendar:t,onCopyCalendar:r}=e,i=(0,s.v9)(tae.He),n=(0,er.Z)(),{param:o}=(0,y.UO)(),{push:l}=(0,y.k6)();return(0,u.jsx)("div",{children:i.map(((e,i)=>{var s="".concat(rae,"/").concat(e.id);return(0,u.jsxs)("div",{className:"wdSa+HXiFhLqtiuPmy9NIw==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{t(e.id,(()=>{e.id===o&&l("".concat(rae,"/").concat(Yne))}))},hint:n.formatMessage(Kne),disabled:0===i,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(Ae.Z,{onClick:()=>r(e.id),hint:n.formatMessage(Qne),className:"wzgDRv8IIG5cmRyfxUm5zg==",children:(0,u.jsx)(et.ZP,{glyph:eae.Z.id})}),(0,u.jsx)("span",{className:"MFCXhBkiEJ6OhzLLjIWaHQ==",title:e.name,children:(0,u.jsx)(a.OL,{to:s,activeClassName:Jne,isActive:(e,t)=>je(t,s),children:e.name})})]},e.id)}))})};iae.propTypes={onDeleteCalendar:c().func.isRequired,onCopyCalendar:c().func.isRequired};const sae=iae,nae=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"Jj16zjpMHhqiWHYIiDrpRA==",children:[(0,u.jsx)("span",{className:"ijphFYoJEgkaXJMh7AQWGg==",children:(0,u.jsx)(J.Z,{id:"Common.id",defaultMessage:[{type:0,value:"ID"}]})}),(0,u.jsx)("span",{className:"-CZJ4E+qNLgctGof3Ey4Hg==",children:(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название"}]})}),(0,u.jsx)("span",{className:"_55P220eaEe2frK+P3WfEJQ==",children:(0,u.jsx)(J.Z,{id:"ProductionCalendar.workHoursOfWeek",defaultMessage:[{type:0,value:"Рабочих часов (неделя)"}]})})]}),(0,u.jsxs)("div",{className:"yZpAW1AQYGGOgbjLZvWung==",children:[(0,u.jsx)(_e.Z,{name:"externalId",component:_K}),(0,u.jsx)(_e.Z,{classNameInput:"Uy1CEfJNJGz6nZty8kSAug==",name:"name",component:_K}),(0,u.jsx)(_e.Z,{classNameInput:"-juiPFbGSLl6ACXILbSXOw==",name:"normHours",isValueWithoutZero:!0,maxValue:168,component:_Z.Z})]})]}),aae="WSAoSCs8gsZJsv4IKKxpnQ==",oae="kPt2mSopJKVGhE+1vNhUoA==";var lae=e=>{var{input:{value:t,onChange:r},disabled:i}=e,s=""===t?ns()().year():t;return(0,u.jsxs)("div",{className:"k2kQZ9Qp7pLnam7ySSl5RQ==",children:[(0,u.jsx)(Ae.Z,{disabled:i,onClick:()=>{s>1970&&r(s-1)},className:oae,children:(0,u.jsx)(et.ZP,{glyph:et.Y4,className:aae})}),(0,u.jsx)("p",{className:"Nql0dr65qEVpK+xW3DIxug==",children:s}),(0,u.jsx)(Ae.Z,{disabled:i,onClick:()=>{s<2070&&r(s+1)},className:oae,children:(0,u.jsx)(et.ZP,{glyph:et.LZ,className:aae})})]})};lae.propTypes=Bt.oX;const cae=lae,dae=()=>{var e=(0,s.v9)(tae.zS);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"rJ8YVQCaRyDzb3lBUKA1HQ==",children:(0,u.jsx)(J.Z,{id:"ProductionCalendar.holidaySettings",defaultMessage:[{type:0,value:"Настройка праздничных дней"}]})}),(0,u.jsxs)("div",{className:"Lv9JaU3MdtpcPYbIrMW2Cw==",children:[(0,u.jsx)(_e.Z,{name:"year",component:cae,disabled:e===Oa.Z.loading}),(0,u.jsx)(_e.Z,{name:"holidaysIsDayOff",component:wr.XZ,label:Xne})]})]})},uae="We9yKObkAg8xsq+6dPmfRA==",pae="oE28DmE6dbec2UuTwBLvZA==",hae="Rg5hJa8n837B07dysfNtoQ==",fae="llW1yYTYg--w0o5MPNUL2Q==";var mae=e=>{var t,{day:r,onCheckboxChange:i,holidays:s,year:n}=e,a=null===(t=s[n])||void 0===t?void 0:t.includes(r.date),o=me()({"gocmxuuh6uvDvK4A8XSU5w==":a});return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:o,children:r.day}),(0,u.jsx)(Rs.XZ,{onChange:()=>{i(r.date)},checked:a,className:o})]})};mae.defaultProps={holidays:{}},mae.propTypes={day:c().object.isRequired,onCheckboxChange:c().func.isRequired,holidays:c().object,year:c().string.isRequired};const vae=mae;var yae=r(98477),gae=e=>{var{day:t,year:r}=e,i=(0,s.I0)(),n=(0,s.v9)(tae.NV);return(0,u.jsx)(vae,{day:t,onCheckboxChange:e=>{i((0,yae.setCheckedHoliday)(e))},holidays:n,year:r})};gae.propTypes={day:c().object.isRequired,year:c().string.isRequired};const bae=gae;var jae=e=>{var t,{year:r,month:i}=e,s=((e,t)=>{var r=[],i=[];r.push(i);for(var s=0,n=ns()(e+"-"+t,"YYYY-MM").startOf("month"),a=ns()(n).endOf("month");n<a;){var o=n.weekday()+1;o<s&&(i=[],r.push(i));var l={},c=ns()(n).format("DD");l.day=c,l.date="".concat(e,"-").concat(t,"-").concat(c),i[o]=l,s=o,n.add(1,"d")}for(;r.length<=5;)r.push([]);return r})(r,i),n=e=>(0,u.jsx)(bae,{day:e,year:r});return(0,u.jsxs)("table",{className:"XiMOhVuf75Gy3B3d7Q6zQA==",children:[(0,u.jsxs)("thead",{children:[(0,u.jsx)("tr",{className:"Vdh5UIZhLm8LUT0lE9Cyog==",children:(0,u.jsx)("td",{colSpan:"7",children:(t=i,ns()(t,"MM").format("MMMM"))})}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:uae,children:[(0,ft.mH)(0),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:uae,children:[(0,ft.mH)(1),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:uae,children:[(0,ft.mH)(2),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:uae,children:[(0,ft.mH)(3),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:uae,children:[(0,ft.mH)(4),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:hae,children:[(0,ft.mH)(5),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:pae,children:(0,u.jsxs)("div",{className:hae,children:[(0,ft.mH)(6),(0,u.jsx)("span",{children:"."})]})})]})]}),(0,u.jsx)("tbody",{children:s.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:fae,children:e[1]&&n(e[1])}),(0,u.jsx)("td",{className:fae,children:e[2]&&n(e[2])}),(0,u.jsx)("td",{className:fae,children:e[3]&&n(e[3])}),(0,u.jsx)("td",{className:fae,children:e[4]&&n(e[4])}),(0,u.jsx)("td",{className:fae,children:e[5]&&n(e[5])}),(0,u.jsx)("td",{className:fae,children:e[6]&&n(e[6])}),(0,u.jsx)("td",{className:fae,children:e[7]&&n(e[7])})]},e.id||t)))})]})};jae.propTypes={year:c().string.isRequired,month:c().string.isRequired};const xae=jae;var Sae=e=>{var{year:t}=e,r=[...new Array(12)];return(0,u.jsx)(Be.ZP,{className:"VpjzX1wALn1dMjVHAPgd4A==",children:(0,u.jsx)("div",{className:"pi1u1V5GW-zR0RNCZ3TTvw==",children:r.map(((e,r)=>{var i=(0,ft.OS)(r,"MM");return(0,u.jsx)(xae,{year:t,month:i},(0,X.Vj)())}))})})};Sae.propTypes={year:c().string.isRequired};const Oae=(0,m.memo)(Sae);var Pae=e=>{var{input:{onChange:t}}=e,r=(0,s.v9)(tae.NV);return(0,m.useEffect)((()=>t(r)),[r]),null};Pae.propTypes=Bt.oX;const wae=Pae;var Cae=["year"];function kae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Tae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kae(Object(r),!0).forEach((function(t){Nae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rae=e=>{var{formValues:t,fetchProductionCalendarByYear:r,fetchProductionCalendarList:i,createProductionCalendar:s,updateProductionCalendar:n,initializeForm:a,holidays:o,clearHolidays:l,savingStatus:c,pristine:d,invalid:p}=e,{param:h}=(0,y.UO)(),{push:f}=(0,y.k6)(),v="add"===h,g=!v&&!(0,j.xb)(h),b=c===Oa.Z.loading;return(0,m.useEffect)((()=>{g&&(l(),r({id:h,year:"".concat(ns()().year())},(e=>{a(Tae(Tae({},e),{},{year:ns()().year()}))}))),v&&(a({year:ns()().year()}),l())}),[h]),(0,m.useEffect)((()=>{g&&t.year&&r({id:h,year:"".concat(t.year)},(()=>{a(Tae(Tae({},t),{},{year:t.year}))}))}),[t.year]),(0,u.jsxs)("div",{className:"_2HI9wgeeNl2qXICg0v1t1Q==",children:[(0,u.jsx)(nae,{}),(0,u.jsx)(dae,{}),(0,u.jsx)(Oae,{year:t.year?"".concat(t.year):"".concat(ns()().year())}),(0,u.jsx)(_e.Z,{name:"holidays",component:wae}),(0,u.jsx)("div",{className:"zLTTPQTDeo4Txq2Hgl3MfQ==",children:(0,u.jsx)(W4.Z,{disabled:d||p||b,onClick:()=>{var e=Tae(Tae({},t),{},{name:t.name.trim(),externalId:t.externalId.trim()}),{year:r}=e,l=Tae(Tae({},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Cae)),{},{holidays:o});(v?s:n)(l,(e=>{i(),a(l),v&&f("".concat("/settings/production-calendars","/").concat(e.id))}))}})})]})};Rae.defaultProps={formValues:{},holidays:{},invalid:!1,pristine:!0},Rae.propTypes={holidays:c().object,formValues:c().object,invalid:c().bool,pristine:c().bool,savingStatus:c().string.isRequired,createProductionCalendar:c().func.isRequired,updateProductionCalendar:c().func.isRequired,fetchProductionCalendarByYear:c().func.isRequired,clearHolidays:c().func.isRequired,fetchProductionCalendarList:c().func.isRequired,initializeForm:c().func.isRequired};const Eae=Rae;var Dae="productionCalendarForm";const Aae=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(Dae)(e),holidays:(0,tae.NV)(e),savingStatus:(0,tae.Yu)(e)})),(e=>({fetchProductionCalendarByYear:(t,r)=>e((0,yae.fetchProductionCalendarByYear)(t,r)),fetchProductionCalendarList:(t,r)=>e((0,yae.fetchProductionCalendarList)(t,r)),initializeForm:t=>e((0,Qr.j2)(Dae,t)),clearHolidays:()=>e((0,yae.clearHolidays)()),createProductionCalendar:(t,r)=>e((0,yae.createProductionCalendar)(t,r)),updateProductionCalendar:(t,r)=>e((0,yae.updateProductionCalendar)(t,r))}))),(0,Fe.Z)({form:Dae,validate:e=>{var t={};return e.externalId&&e.name&&e.normHours||(t.name="Fill in required fields"),t}}))(Eae);var Mae=e=>{var{onDeleteCalendar:t,onCopyCalendar:r}=e;return(0,u.jsxs)("div",{className:"VIL7ACbB40HcvxJSRNPzPw==",children:[(0,u.jsx)($ne,{}),(0,u.jsxs)("div",{className:"-Z6x8Cboi+3oI3Mx1ZcLGg==",children:[(0,u.jsx)("div",{className:"_2-bbjsxLiOh91UPzRc-2og==",children:(0,u.jsx)(Be.$B,{children:(0,u.jsx)(sae,{onDeleteCalendar:t,onCopyCalendar:r})})}),(0,u.jsx)(Aae,{})]})]})};Mae.propTypes={onDeleteCalendar:c().func.isRequired,onCopyCalendar:c().func.isRequired};const Iae=Mae,Zae=()=>{var e=(0,s.I0)(),t=()=>{e((0,yae.fetchProductionCalendarList)())};return(0,m.useEffect)((()=>{e((0,yae.fetchProductionCalendarList)())}),[]),(0,u.jsx)(Iae,{onDeleteCalendar:(r,i)=>{e((0,yae.deleteProductionCalendar)(r,(()=>{t(),i()})))},onCopyCalendar:r=>{e((0,yae.copyProductionCalendar)(r,t))}})};var qae=e=>{var{path:t}=e,r="".concat(t,"/").concat(Yne);return(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:t,exact:!0,children:(0,u.jsx)(y.l_,{to:r})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/:param"),children:(0,u.jsx)(Zae,{})})]})};qae.propTypes={path:c().string.isRequired};const Fae=qae;var Lae=e=>{var{frontendSettings:t,user:r,isShowLicenseModal:i}=e,s="/settings",n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,X.BC)(t,x.ZP.RIGHTS.TASK),i=(0,X.BC)(t,x.ZP.RIGHTS.SWAP_SCHEDULE,x.ZP.CRUD)||(0,X.BC)(t,x.ZP.RIGHTS.SWAP_SCHEDULE,x.ZP.READ),s=F6(e,"settingsCommentTemplatesAvailable"),n=F6(e,"isScheduleExchangeAvailable"),a=F6(e,"isShowSalarySettings"),o=F6(e,"isShowNotificationCenterSettings"),l=F6(e,"isShowEmployeePreferences"),c=F6(e,"isScheduleSaveSettingsEnable"),d=F6(e,"isLaborCodeCheckingEnabled"),p=[{url:"/settings/offices",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.offices",defaultMessage:[{type:0,value:"Офисы"}]})},{url:"/settings/permission-groups",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.structureOrganization",defaultMessage:[{type:0,value:"Структура организации"}]})},{url:"/settings/positions",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.positions",defaultMessage:[{type:0,value:"Должности"}]})},{url:"/settings/managers",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.managers",defaultMessage:[{type:0,value:"Менеджеры"}]})},{url:"/settings/skills",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.skills",defaultMessage:[{type:0,value:"Навыки"}]})},{url:"/settings/external-systems",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.externalSystems",defaultMessage:[{type:0,value:"Внешние системы"}]})},{url:"/settings/work-activity",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.workActivity",defaultMessage:[{type:0,value:"Активности WFM"}]})},{url:d&&"/settings/labor-code",title:d&&(0,u.jsx)(J.Z,{id:"SettingsMenu.laborCode",defaultMessage:[{type:0,value:"Нарушения ТК"}]})},{url:"/settings/schedule-blocker",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.schedule-blocker",defaultMessage:[{type:0,value:"Блокировка расписания"}]})},{url:"/settings/production-calendars",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.productionCalendars",defaultMessage:[{type:0,value:"Производственные календари"}]})}];return s&&p.push({url:"/settings/comment-templates",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.commentTemplates",defaultMessage:[{type:0,value:"Шаблоны комментариев"}]})}),r&&p.push({url:"/settings/task-templates",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.taskTemplates",defaultMessage:[{type:0,value:"Шаблоны задач"}]})}),l&&p.push({url:"/settings/employee-preferences",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.employee-preferences",defaultMessage:[{type:0,value:"Предпочтения сотрудников"}]})}),n&&i&&p.push({url:"/settings/exchange-work",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.exchange",defaultMessage:[{type:0,value:"Доска обмена сменами"}]})}),a&&p.push({url:"/settings/salary",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.salary",defaultMessage:[{type:0,value:"Расчет заработной платы"}]})}),o&&p.push({url:"/settings/notification-center",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.notification-center",defaultMessage:[{type:0,value:"Центр уведомлений"}]})}),c&&p.push({url:"/settings/saving-schedule",title:(0,u.jsx)(J.Z,{id:"SettingsMenu.saving-schedule",defaultMessage:[{type:0,value:"Сохранение расписания"}]})}),p}(t,r),o=(0,X.BC)(r,x.ZP.RIGHTS.SETTINGS),l=(0,X.BC)(r,x.ZP.RIGHTS.SWAP_SCHEDULE);return o||(0,j.xb)(r)?(0,u.jsxs)("div",{className:"flex-container",style:{flex:1},children:[(0,u.jsx)("div",{className:me()("container","_88zaHLckNvwE5U1gbcPbzg=="),children:(0,u.jsx)("ul",{className:"L+E9x1OO+X5OfNq6h6BopA==",children:n.map((e=>{var{url:t}=e;return(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:e.url,activeClassName:"_8I8QY4r-+3sq2P4vWga3jQ==",className:"wTExC6gIDmUXSc1kDdN9rA==",isActive:(e,r)=>je(r,t),children:e.title})},e.url)}))})}),i&&(0,u.jsx)(Yv.Z,{}),(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"".concat(s,"/offices"),children:(0,u.jsx)(A$,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/permission-groups"),children:(0,u.jsx)(o0,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/managers"),children:(0,u.jsx)(_Y,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/external-systems"),children:(0,u.jsx)(Lse,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/saving-schedule"),children:(0,u.jsx)(une,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/skills"),children:(0,u.jsx)(Ere,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/employee-preferences"),children:(0,u.jsx)(Oie,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/positions"),children:(0,u.jsx)(G0,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/work-activity"),children:(0,u.jsx)(q6,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/labor-code"),children:(0,u.jsx)(zne,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/calendar"),children:(0,u.jsx)(jB,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/task-templates"),children:(0,u.jsx)(F4,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/schedule-blocker"),children:(0,u.jsx)(K2,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/production-calendars"),children:(0,u.jsx)(Fae,{path:"".concat(s,"/production-calendars")})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/comment-templates"),children:(0,u.jsx)(qB,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/user-settings"),children:(0,u.jsx)(B4,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/frontend"),children:(0,u.jsx)(uG,{user:r})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/salary"),children:(0,u.jsx)(X1,{})}),(0,u.jsx)(y.AW,{path:"".concat(s,"/notification-center"),children:(0,u.jsx)(IX,{})}),l&&(0,u.jsx)(y.AW,{path:"".concat(s,"/exchange-work"),children:(0,u.jsx)(w5,{})})]})]}):(0,u.jsx)(Vi,{user:r})};Lae.propTypes={user:P.jZ.isRequired,frontendSettings:c().object.isRequired,isShowLicenseModal:c().bool.isRequired};const Hae=Lae;function _ae(e){return t=>{var r;return function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(r=class extends m.Component{render(){return e(t,this.props)}},"displayName","wrap(".concat(t.name||t.displayName||"",")")),r}}function Bae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Gae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bae(Object(r),!0).forEach((function(t){Wae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Uae=(0,o.compose)(y.EN,(0,s.$j)((e=>({user:(0,C.ts)(e),frontendSettings:(0,B.e0)(e),isShowLicenseModal:(0,Ou.M)(e)})),{setSidebarMenuContent:be.setSidebarMenuContent,toggleSidebarMenuDrawer:be.toggleSidebarMenuDrawer}),_ae(((e,t)=>(0,u.jsx)(Gi,{children:(0,u.jsx)(e,Gae({},t))}))),kO(x.ZP.RIGHTS.SETTINGS))(Hae),Vae="l5E6zzAyLy-hy2UwmvPXlQ==",zae="Erm9TdPFWRwMsMylzmOY0g==";class Yae extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"B-cEFeAv9CUQjD9wXBcjyg==",children:[(0,u.jsx)("div",{className:"IfYv7G-J1VrkqUCAMZY1dA==",children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Remark",defaultMessage:[{type:0,value:"Продолжительность обеда в смене от 5 часов - 1 час"}]})}),(0,u.jsxs)("div",{className:"E9YzgP1BIeoo2rdltAV2mA==",children:[(0,u.jsx)("span",{children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Person",defaultMessage:[{type:0,value:"Ответственное лицо"}]})}),(0,u.jsx)("span",{className:zae,children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Sign",defaultMessage:[{type:0,value:"подпись"}]})}),(0,u.jsx)("span",{className:zae,children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.TranscriptSign",defaultMessage:[{type:0,value:"расшифровка подписи"}]})}),(0,u.jsx)("span",{className:zae,children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Position",defaultMessage:[{type:0,value:"должность"}]})})]})]})}}const Qae=Yae;var Kae=r(47441),Xae=r(49906),Jae=r(73220);function $ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function eoe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$ae(Object(r),!0).forEach((function(t){toe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function toe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var roe=e=>{var{period:t,groupId:r,getScheduleExcel:i,userIds:s,intl:{formatMessage:n}}=e,a=n({id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]});return(0,u.jsx)(AS.Z,{className:"button-icon inline-block_middle mr",onClick:()=>{var e=eoe(eoe({},t),{},{userIds:s,groupId:r});i(e)},title:a,children:(0,u.jsx)(Jae.Z,{})})};roe.propTypes={period:c().object.isRequired,groupId:c().string.isRequired,userIds:c().array.isRequired,getScheduleExcel:c().func.isRequired,intl:c().object.isRequired};const ioe=roe,soe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({period:Wu(e),userIds:Qu(e)})),{getScheduleExcel:Xae.getScheduleExcel}))(ioe);var noe=e=>{var{period:t,groupId:r,getScheduleCsv:i,userIds:s}=e;return(0,u.jsx)(Ge.Z,{type:"stripped",caption:"CSV",onClick:()=>{var e={from:t.from,to:(0,ft.iX)(t.to,ft._E,!0),userIds:s,groupId:r};i(e)}})};noe.propTypes={period:c().object.isRequired,groupId:c().string.isRequired,userIds:c().array.isRequired,getScheduleCsv:c().func.isRequired};const aoe=noe,ooe=(0,o.compose)((0,s.$j)((e=>({period:Wu(e),userIds:Qu(e)})),{getScheduleCsv:Xae.getScheduleCsv}))(aoe);var loe={id:"DisplaySettingsForm.displaySetting",defaultMessage:"Настройка отображения"};class coe extends m.PureComponent{render(){var{intl:e}=this.props;return(0,u.jsx)("div",{children:(0,u.jsx)(Ae.Z,{onClick:this.props.openDisplaySettings,hint:e.formatMessage(loe),children:(0,u.jsx)(et.ZP,{glyph:et.Zr,className:"VpDC1n7sIoKPlf2PfuiotA=="})})})}}coe.propTypes={openDisplaySettings:c().func.isRequired,intl:P.gm.isRequired};const doe=(0,v.ZP)(coe);var uoe=r(64463);function poe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hoe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?poe(Object(r),!0).forEach((function(t){foe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):poe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function foe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var moe=(0,u.jsx)(J.Z,{id:"DisplaySettingsForm.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]});class voe extends m.PureComponent{constructor(){super(...arguments),foe(this,"state",{displaySettingsOpened:!1}),foe(this,"closeDisplaySettingsForm",(()=>{this.setState({displaySettingsOpened:!1})})),foe(this,"openDisplaySettingsForm",(()=>{this.setState({displaySettingsOpened:!0})})),foe(this,"handleOpenDisplaySettingsForm",(()=>{var{initFormSettings:e,cellsSettings:t}=this.props;e(hoe(hoe({},uoe.g),t)),this.openDisplaySettingsForm()})),foe(this,"handleTableDisplaySettings",(e=>{var{setTableDisplayCells:t}=this.props;t(e)}))}render(){var{displaySettingsOpened:e}=this.state,{intl:t}=this.props;return(0,u.jsxs)("div",{children:[(0,u.jsx)(doe,{openDisplaySettings:this.handleOpenDisplaySettingsForm}),(0,u.jsx)(yk.Z,{open:e,handleBackArrow:this.closeDisplaySettingsForm,onRequestChange:this.closeDisplaySettingsForm,title:moe,width:400,subtitle:pG,children:(0,u.jsx)(yG,{setTableDisplaySettings:this.handleTableDisplaySettings,close:this.closeDisplaySettingsForm,fields:(0,uoe.V)(t)})})]})}}voe.propTypes={initFormSettings:c().func.isRequired,setTableDisplayCells:c().func.isRequired,cellsSettings:c().object.isRequired,intl:P.gm.isRequired};const yoe=(0,v.ZP)(voe),goe=(0,o.compose)((0,s.$j)((e=>({cellsSettings:Yu(e)})),(e=>({initFormSettings:t=>{e((0,Qr.j2)(vG,t))},setTableDisplayCells:t=>e((0,Xae.setTableDisplayCellsWorker)(t)),fetchTableDisplayCells:()=>e((0,Xae.fetchTableDisplayCellsWorker)())}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchTableDisplayCells()})))(yoe);var boe=e=>{var{update:t}=e;return(0,u.jsx)(AS.Z,{onClick:t,children:(0,u.jsx)(qH.Z,{})})};boe.propTypes={update:c().func.isRequired};const joe=boe;function xoe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Soe extends m.PureComponent{constructor(e){super(e),xoe(this,"state",{month:ns()(this.props.date.from,ft._E).month(),currentYear:ns()(this.props.date.from,ft._E).year(),from:this.props.date.from,to:this.props.date.to}),xoe(this,"handleClickMonth",(e=>{var{periodWorkSchedule:t,setMonthPeriodWorkSchedule:r}=this.props;this.setState((t=>{var r=ns()(t.from,ft._E).month(e).startOf("month").format(ft._E),i=ns()(t.to,ft._E).month(e).endOf("month").format(ft._E);return{month:e,from:r,to:i}}),(()=>{var{from:i,to:s}=this.state;t({from:i,to:s}),r(e)}))})),xoe(this,"handleClickYears",(e=>{var{periodWorkSchedule:t,setYearPeriodWorkSchedule:r}=this.props;this.setState((t=>{var r=ns()(t.from,ft._E).year(e).startOf("month").format(ft._E),i=ns()(t.to,ft._E).year(e).endOf("month").format(ft._E);return{currentYear:e,from:r,to:i}}),(()=>{var{from:i,to:s}=this.state;t({from:i,to:s}),r(e)}))})),xoe(this,"handleUpdateData",(()=>{var{fetchGraphReportData:e,groupId:t,setWorkScheduleEmployeeReportDate:r,globalSettings:i}=this.props,{from:s,to:n}=this.state,a=i.IS_SCHEDULE_TABLE_BY_USER_ZONE_ENABLED;r({from:s,to:n}),e({groupId:t,from:s,to:(0,ft.nD)(s)},a)}));var{formatMessage:t}=e.intl;this.monthNamesSelect=(0,Kae.KM)(t)}render(){var{groupId:e,frontendSettings:t}=this.props,{month:r,currentYear:i}=this.state,s=(0,Kae.wG)(i),n=me()("not-printable","_8PpXa1P5SrvctyK1b+kVvQ==");return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)(goe,{}),(0,u.jsx)("div",{className:Vae,children:(0,u.jsx)(J.Z,{id:"GraphReport.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]})}),(0,u.jsx)("div",{className:"rj+31iBBvNWghsDBnRg8rg==",children:(0,u.jsx)(yj.Z,{onChange:this.handleClickMonth,dataSource:this.monthNamesSelect,value:r})}),(0,u.jsx)("div",{className:"_62qO5U-+lmTXkWf4hOkUYQ==",children:(0,u.jsx)(yj.Z,{onChange:this.handleClickYears,dataSource:s,value:i})}),(0,u.jsx)("div",{className:Vae,children:(0,u.jsx)(joe,{update:this.handleUpdateData})}),(0,u.jsx)("div",{className:Vae,children:(0,u.jsx)(soe,{groupId:e})}),t.isWorkScheduleCSVAvailable.value&&(0,u.jsx)("div",{className:Vae,children:(0,u.jsx)(ooe,{groupId:e})})]})}}Soe.propTypes=_()({date:c().object.isRequired,fetchGraphReportData:c().func.isRequired,groupId:P.K5.isRequired,periodWorkSchedule:c().func.isRequired,setWorkScheduleEmployeeReportDate:c().func.isRequired,setMonthPeriodWorkSchedule:c().func.isRequired,setYearPeriodWorkSchedule:c().func.isRequired,intl:Sc.Z.isRequired,frontendSettings:c().object.isRequired,globalSettings:c().object.isRequired});const Ooe=(0,v.ZP)(Soe),Poe=(0,o.compose)((0,s.$j)((e=>({frontendSettings:(0,B.e0)(e),date:ap(e),globalSettings:(0,B.Tv)(e)})),{fetchGraphReportData:Xae.fetchGraphReportData,periodWorkSchedule:Xae.periodWorkSchedule,setYearPeriodWorkSchedule:Xae.setYearPeriodWorkSchedule,setMonthPeriodWorkSchedule:Xae.setMonthPeriodWorkSchedule,setWorkScheduleEmployeeReportDate:Xae.setWorkScheduleEmployeeReportDate}))(Ooe);var woe=r(90408),Coe=r(19618);class koe extends m.PureComponent{constructor(e){super(e),this.mapMonth=(0,Kae.qI)(e.intl.formatMessage)}render(){var{group:e,groupMainName:t,month:r,year:i}=this.props,s=this.mapMonth[r];return(0,u.jsxs)("div",{className:Coe.Z.title,children:[(0,u.jsx)("div",{children:t}),(0,u.jsxs)("div",{className:Coe.Z.subtitle,children:[(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.TitleHeader",defaultMessage:[{type:0,value:"График работы сотрудников"}]})}),(0,u.jsx)("div",{children:e.groupName}),(0,u.jsxs)("div",{className:Coe.Z.period,children:[(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.TitleHeaderOn",defaultMessage:[{type:0,value:"на"}]})," ",s," ",i," ",(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.TitleHeaderYear",defaultMessage:[{type:0,value:"года"}]})]})]})]})}}koe.defaultProps={group:{},month:"",year:""},koe.propTypes={groupMainName:c().string.isRequired,group:c().object,intl:c().object.isRequired,month:c().string,year:c().string};const Toe=(0,v.ZP)(koe);function Noe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Roe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Noe(Object(r),!0).forEach((function(t){Eoe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Noe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eoe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Doe=e=>{var{data:t,period:r,group:i,groupMainName:s,month:n,year:a,displaySettings:o,filters:l,setFilter:c,setArUsersIdSortFilter:d}=e,p=(0,woe.EL)({from:r.from,to:r.to,settingCells:o}),h=Roe(Roe({},YH.GP),{},{boxShadow:"rgba(0, 0, 0, 0.23) 5px -4px 8px",borderBottom:"1px solid #d9d9d9"});return(0,u.jsxs)("div",{className:Coe.Z.root,children:[(0,u.jsx)(Toe,{group:i,groupMainName:s,month:n,year:a}),(0,u.jsx)(VP.ZP,{displaySettings:o,classNameBottomLeftGrid:Coe.Z.leftBlock,data:t,columns:p,columnsAutoWidth:!0,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",leftSideBottomStyle:{borderBottom:"1px solid #d9d9d9"},rightSideBottomStyle:h,leftSideStyle:YH.eg,headerStyle:YH.iR,onFiltersChange:(e,t)=>{var r=t.map((e=>e.userId));d(r)},rowHeight:40,filters:l,setFilter:c})]})};Doe.propTypes=_()({data:c().array.isRequired,period:c().object.isRequired,group:c().object.isRequired,groupMainName:c().string.isRequired,month:c().number.isRequired,year:c().number.isRequired,displaySettings:c().object.isRequired,setArUsersIdSortFilter:c().func.isRequired,filters:c().object.isRequired,setFilter:c().func.isRequired});const Aoe=Doe;function Moe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ioe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Moe(Object(r),!0).forEach((function(t){Zoe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Moe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zoe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const qoe=(0,o.compose)((0,s.$j)(((e,t)=>({data:yp(e),period:Wu(e),group:e.settings.permissionGroupsMap[t.groupId],groupMainName:e.settings.permissionGroups.groupName,month:Uu(e),year:zu(e),displaySettings:Yu(e),filters:Ku(e),tableFilters:(0,K.Xd)(e),tableUrlParams:(0,K.bT)(e),globalSettings:(0,B.Tv)(e)})),{fetchGraphReportData:Xae.fetchGraphReportData,fetchScheduleSchemeForReport:Xae.fetchScheduleSchemeForReport,setArUsersIdSortFilter:Xae.setArUsersIdSortFilter,setFilter:Xae.setFilterByReport}),(0,U.Z)((e=>{var{props:t}=e,{fetchGraphReportData:r,fetchScheduleSchemeForReport:i,groupId:s,period:n,globalSettings:a}=t,o=a.IS_SCHEDULE_TABLE_BY_USER_ZONE_ENABLED;s&&(r(Ioe(Ioe({},n),{},{to:(0,ft.nD)(n.from),groupId:s}),o),i({groupId:s}))})),(0,Ci.c)(["groupId","fetchGraphReportData","fetchScheduleSchemeForReport"]))(Aoe);var Foe=me()("container","K5I0XnHjZzlqBXcqO3NJhA=="),Loe=e=>{var{groupId:t}=e;return(0,u.jsxs)("div",{className:Foe,children:[(0,u.jsx)(Poe,{groupId:t}),(0,u.jsx)(qoe,{groupId:t}),(0,u.jsx)(Qae,{})]})};Loe.propTypes={groupId:P.K5.isRequired};const Hoe=Loe;class _oe{constructor(e){Object.assign(this,e)}}function Boe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Goe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_oe.propTypes={name:c().string.isRequired,id:c().string.isRequired,custom:c().bool.isRequired,onClick:c().func,component:c().func};var Woe=(0,o.compose)((0,s.$j)((e=>({groupId:(0,Y.Wx)(e)}))))(Hoe);new _oe({name:(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Title",defaultMessage:[{type:0,value:"Рабочий график сотрудников"}]}),id:"WorkScheduleEmployee",custom:!0,component:e=>(0,u.jsx)(Woe,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Boe(Object(r),!0).forEach((function(t){Goe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Boe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)),hasAccess:e=>!0===e.settings.frontendSettings.isVisibleReportWorkSchedule.value});class Uoe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleBackBtnClick",(()=>{this.props.onBackBtnClick()}))}render(){return(0,u.jsx)("div",{className:"custom-report-title not-printable container shadow-bottom",children:(0,u.jsxs)("h1",{children:[(0,u.jsx)(oi.Z,{onClick:this.handleBackBtnClick,children:(0,u.jsx)(et.ZP,{glyph:et.Y4})}),this.props.text]})})}}Uoe.propTypes={text:c().oneOfType([c().string,c().node]).isRequired,onBackBtnClick:c().func.isRequired};const Voe=Uoe;var zoe=e=>{var{children:t,title:r,onBack:i,className:s}=e,n=(0,y.k6)();return(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)(Voe,{text:r,onBackBtnClick:()=>{"function"==typeof i?i():n.goBack()}}),t]})};zoe.propTypes={children:c().node.isRequired,title:c().node.isRequired,onBack:c().func,className:c().string},zoe.defaultProps={onBack:null,className:"custom-report-container"};const Yoe=zoe;var Qoe=r(94689),Koe=r(55679);var Xoe=e=>{var t,{groupId:r}=e,i=null===(t=(0,s.v9)(B.GJ)[r])||void 0===t?void 0:t.groupName;return(0,u.jsx)("span",{className:"oTq38D2sOec96awI7Zzm2A==",title:i,children:i})};Xoe.propTypes={groupId:c().string.isRequired};const Joe=Xoe,$oe="qR-banXJHy1VdO+6wd01Qw==",ele="T6qgLtRQlvrq7EdhJuTqLQ==",tle="fxkQZG+lDk5NtriMbcY5nw==",rle="PRigagdqjqYXy3OhEmyPhg==",ile="_6+8Ums8qbeoMuV8i0UqRLg==",sle="cc4ojYv6GzIzPZM3FE0Ojg==",nle="kpWUj4i1IOIB7qcRd3REcQ==",ale="eu4S4T1yFYvyxRSAYDrxng==",ole="JqbqYvOAJDo8gFf7TbBomQ==",lle="hnVYhGioJS98PTgducX9Ng==";var cle=e=>{var{groupId:t,day:r}=e,i=(0,s.I0)(),{isDownloading:n}=(0,s.v9)(mp);return(0,u.jsxs)(Ae.Z,{onClick:()=>{i((0,Xae.pepReportByDayDownloadExcel)({groupId:t,day:r}))},disabled:n,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,classCustom:$oe}),(0,u.jsx)(J.Z,{id:"Reports.DownloadDay",defaultMessage:[{type:0,value:"Выгрузить день"}]})]})};cle.propTypes={groupId:c().string.isRequired,day:c().string.isRequired};const dle=cle;var ule=e=>{var{groupId:t,month:r}=e,i=(0,s.I0)(),{isDownloading:n}=(0,s.v9)(mp);return(0,u.jsxs)(Ae.Z,{onClick:()=>{i((0,Xae.pepReportByMonthDownloadExcel)({groupId:t,month:r}))},disabled:n,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,classCustom:$oe}),(0,u.jsx)(J.Z,{id:"Reports.DownloadMonth",defaultMessage:[{type:0,value:"Выгрузить месяц"}]})]})};ule.propTypes={groupId:c().string.isRequired,month:c().string.isRequired};const ple=ule;var hle=e=>e.substring(0,7),fle=e=>{var{basePath:t,day:r}=e,{groupId:i}=(0,y.UO)(),{push:s}=(0,y.k6)();return(0,u.jsxs)("div",{className:"XZXR8revVe0ScnSGr4g25g==",children:[(0,u.jsx)(Koe.Z,{date:r,dateFormat:ft.vc,onChange:e=>{s("".concat(t,"/").concat(Qoe._.planFact,"/").concat(i,"/").concat(e))}}),(0,u.jsx)(Joe,{groupId:i}),(0,u.jsx)(dle,{groupId:i,day:r}),(0,u.jsx)(ple,{groupId:i,month:hle(r)})]})};fle.propTypes={basePath:c().string.isRequired,day:(0,zi.Z)(ft.vc).isRequired};const mle=fle,vle="NJ6B7XESisERIMM6xxsOpw==",yle="t--ypmYGo+b+RbzgKbWsqA==";var gle=e=>{var{children:t}=e,r=me()({"irnULtTsCEoyJ04k1s3REA==":Number(t)<0});return(0,u.jsx)("span",{className:r,children:t})};gle.propTypes={children:c().string.isRequired};const ble=(0,m.memo)(gle);class jle extends VP.sg{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"renderCell",(e=>(0,u.jsx)("div",{className:this.cellClassName,style:this.cellStyle,children:(0,u.jsx)(ble,{children:this.getValue(e)})}))),this.width=150,this.sortable=!0,this.filterable=!0,this.headerClassName=vle}}var xle=e=>e.map((e=>new jle({key:e.id,renderHeader:()=>e.name,getValue:t=>{var r,i;return null===(r=t.reportData)||void 0===r||null===(i=r.watchingActivityTotalDurationsHours)||void 0===i?void 0:i[e.id]}}))),Sle=e=>{var{intl:t,watchingActivities:r}=e,i=t.formatMessage({id:"Reports.PepReport.DeltaSchedule",defaultMessage:[{type:0,value:"Дельта график"}]}),s=t.formatMessage({id:"Reports.PepReport.DeltaScheduleTitle",defaultMessage:[{type:0,value:"Факт минус автоплан"}]});return[new VP.sg({key:"fullName",width:250,sortable:!0,filterable:!0,fixed:!0,headerClassName:"AYQF3djDcuOR9gkYXZcHRA==",cellClassName:"ndlxIXQfPD8Gvm+YYCFuPw==",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.FullName",defaultMessage:[{type:0,value:"ФИО"}]}),getValue:e=>{var t;return null===(t=e.key)||void 0===t?void 0:t.name}}),new VP.sg({key:"login",width:150,sortable:!0,filterable:!0,headerClassName:vle,cellClassName:yle,renderHeader:()=>t.formatMessage({id:"Reports.PepReport.login",defaultMessage:[{type:0,value:"Логин"}]}),getValue:e=>{var t;return null===(t=e.key)||void 0===t?void 0:t.login}}),new VP.sg({key:"position",width:150,sortable:!0,filterable:!0,headerClassName:vle,cellClassName:yle,renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Position",defaultMessage:[{type:0,value:"Должность"}]}),getValue:e=>{var t;return null===(t=e.key)||void 0===t?void 0:t.position}}),new jle({key:"norm",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Norm",defaultMessage:[{type:0,value:"Норма"}]}),getValue:e=>{var t,r;return null===(t=e.key)||void 0===t||null===(r=t.norm)||void 0===r?void 0:r.correctedNormHours}}),new VP.sg({key:"skill",width:150,sortable:!0,filterable:!0,headerClassName:vle,cellClassName:yle,renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Skill",defaultMessage:[{type:0,value:"Навык"}]}),getValue:e=>{var t;return null===(t=e.key)||void 0===t?void 0:t.skill}}),new jle({key:"plan",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Plan",defaultMessage:[{type:0,value:"Автоплан"}]}),getValue:e=>{var t;return null===(t=e.reportData)||void 0===t?void 0:t.planDayWorkTotalDurationHours}}),new jle({key:"fact",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Fact",defaultMessage:[{type:0,value:"Факт(Т-13)"}]}),getValue:e=>{var t;return null===(t=e.reportData)||void 0===t?void 0:t.factDayWorkTotalDurationHours}}),new jle({key:"presence",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.Presence",defaultMessage:[{type:0,value:"Присутствие"}]}),getValue:e=>{var t;return null===(t=e.reportData)||void 0===t?void 0:t.totalBiometricPresenceHours}}),new jle({key:"deltaSchedule",renderHeader:()=>(0,u.jsx)("span",{title:s,children:i}),getValue:e=>{var t;return null===(t=e.reportData)||void 0===t?void 0:t.durationDeltaHours}}),new jle({key:"deltaPresence",renderHeader:()=>t.formatMessage({id:"Reports.PepReport.DeltaPresence",defaultMessage:[{type:0,value:"Дельта присутствие"}]}),getValue:e=>{var t;return null===(t=e.reportData)||void 0===t?void 0:t.violationsHours}}),...xle(r)]};const Ole=()=>{var e=(0,er.Z)(),t=(0,s.I0)(),r=(0,s.v9)(gp),i=(0,s.v9)(pn),n=(0,s.v9)(vp),a=((e,t)=>{var[r]=e;if((0,j.xb)(r))return[];var{watchingActivityTotalDurationsHours:i}=r.reportData;return Object.keys(i).map((e=>(null==t?void 0:t[e])||{}))})(r,i);return(0,u.jsx)("div",{className:"iaLM9X4Xx5ZiIVth-gTvEw==",children:(0,u.jsx)(ZS.Z,{data:r,columns:Sle({intl:e,watchingActivities:a}),columnsAutoWidth:!0,cellClassName:me()("virtualized-table__cell","cowo+6nMZaAgtmDh8OR46Q=="),isAutoWidthCurrentColumn:!0,setFilters:e=>{t((0,Xae.setPepReportDetailByDayFilters)(e))},filters:n})})},Ple=()=>{var{day:e,groupId:t}=(0,y.UO)(),{push:r}=(0,y.k6)(),i=(0,s.I0)(),{isLoading:n}=(0,s.v9)(mp);(0,m.useEffect)((()=>{i((0,Sa.fetchWorkActivities)())}),[i]),(0,m.useEffect)((()=>{i((0,Xae.fetchPepReportDetailByDay)({groupId:t,day:e}))}),[e,i,t]);var a=(0,u.jsx)(J.Z,{id:"Settings.SavedSchedules",defaultMessage:[{type:0,value:"Сохранённые расписания"}]});return(0,u.jsxs)(Yoe,{title:a,onBack:()=>{r("".concat(Qoe.s,"/").concat(Qoe._.planFact))},className:"KZeEJbwZ1ALNnF4EcV5Cnw==",children:[(0,u.jsx)(mle,{basePath:Qoe.s,day:e}),n?(0,u.jsx)(Z.Z,{}):(0,u.jsx)(Ole,{})]})},wle={reportContent:"raky4XJMQsMwZpmAhpjKLg==",t13dayCell:"ymHCP5ELdJQIYhXTiCmPkQ=="};function Cle(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function kle(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cle(Object(r),!0).forEach((function(t){Tle(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cle(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tle(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Nle extends m.Component{constructor(e){var t;super(e),t=this,Tle(this,"getClassFirstUserRow",(e=>me()("t13-report__table-row t13-report__table-row_first-user-row ",{[e]:e}))),Tle(this,"getRowAdditionalClassName",(e=>me()("t13-report__table-row ",{[e]:e}))),Tle(this,"handleChangeTemplate",(e=>{var t=e.target.files[0];if(t){var r=new FormData;r.append("file",t),this.props.importTemplate(r)}})),Tle(this,"formatTimeUnits",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{intl:r}=t.props,{showMinutes:i}=t.state;return function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split("/").map((r=>{var i=Number(r);return Number.isNaN(i)||""===r?r:t?(0,X.uu)(60*i,!0,!1,e):Math.round(i/60)})).join("/")}(r,e,i)})),this.state={showMinutes:!1,reportParameters:{month:e.reportDate},date:e.reportDate.daysInMonth()}}requestReportData(){var e=this.state.reportParameters.month.format("YYYY-MM");this.props.setT13ReportDate(this.state.reportParameters.month),this.props.fetchT13ReportData({month:e,groupId:this.props.groupId}),this.setState((e=>({date:e.reportParameters.month.daysInMonth()})))}downloadExcel(){this.props.t13DownloadExcel({month:this.state.reportParameters.month.format("YYYY-MM"),groupId:this.props.groupId})}render(){for(var e=this.state.date,t=e-15,r=[],i=0;i<15;i++)r.push(i);for(var s=[],n=15;n<e;n++)s.push(n);var a=15-t;if(a>0)for(var o=0;o<a;o++)s.push(void 0);if(a<0)for(var l=0;l>a;l--)r.push(void 0);var c=(0,X.BC)(this.props.user,x.ZP.RIGHTS.SETTINGS,x.ZP.CRUD);return(0,u.jsx)("div",{className:"custom-report t13-report",children:(0,u.jsxs)("div",{className:"custom-report__container",children:[(0,u.jsxs)("div",{className:"report-form custom-report__form ph+ pv++",children:[(0,u.jsx)("label",{className:"inline-block inline-block_middle report-form__label",children:(0,u.jsx)(J.Z,{id:"GraphReport.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]})}),(0,u.jsx)("span",{className:"inline-block inline-block_middle ph+",children:(0,u.jsx)(uZ.A,{onChange:e=>{this.setState((t=>({reportParameters:kle(kle({},t.reportParameters),{},{month:ns()(e,"MM.YYYY").startOf("month")})})))},value:this.state.reportParameters.month})}),(0,u.jsx)("button",{className:"button button--bg-blue inline-block_middle",onClick:()=>this.requestReportData(),type:"button",children:(0,u.jsx)(J.Z,{id:"GraphReport.build",defaultMessage:[{type:0,value:"Сформировать"}]})}),(0,u.jsx)("button",{type:"button",className:"ml+ button button--bg-blue inline-block_middle",onClick:()=>window.print(),children:(0,u.jsx)(J.Z,{id:"T13Report.print",defaultMessage:[{type:0,value:"Печать"}]})}),this.props.hasLoadTemplateButton&&(0,u.jsxs)("label",{className:"ml+ button button--bg-blue inline-block_middle",hidden:!c,children:[(0,u.jsx)(J.Z,{id:"TemplateReport.loadTemplate",defaultMessage:[{type:0,value:"Загрузить шаблон"}]}),(0,u.jsx)("input",{style:{display:"none"},type:"file",onChange:this.handleChangeTemplate})]}),(0,u.jsx)("button",{className:"ml+ button button--bg-blue inline-block_middle",onClick:()=>this.downloadExcel(),type:"button",children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})}),(0,u.jsx)("div",{className:"inline-block inline-block_middle ml+",children:(0,u.jsx)("input",{id:"show-minutes-checkbox",type:"checkbox",checked:this.state.showMinutes,onChange:e=>{this.setState({showMinutes:e.target.checked})}})}),(0,u.jsx)("label",{htmlFor:"show-minutes-checkbox",className:"inline-block inline-block_middle ml",children:(0,u.jsx)(J.Z,{id:"T13Report.showMinutes",defaultMessage:[{type:0,value:"Показывать минуты"}]})})]}),this.props.data&&this.props.data.users&&(0,u.jsxs)("div",{className:"custom-report",children:[(0,u.jsx)("div",{style:{marginRight:8},children:(0,u.jsx)("table",{className:"t13-report__table",children:(0,u.jsxs)("thead",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"t13number",rowSpan:"4",children:(0,u.jsx)("div",{className:"vertical-directed",children:(0,u.jsx)(J.Z,{id:"Reports.serialNumber",defaultMessage:[{type:0,value:"Порядковый номер"}]})})}),(0,u.jsx)("td",{className:"t13fullName",rowSpan:"4",children:(0,u.jsx)(J.Z,{id:"Reports.shortNameAndPosition",defaultMessage:[{type:0,value:"Фамилия, инициалы, должность"}]})}),(0,u.jsx)("td",{className:"t13tabelNumber",rowSpan:"4",children:(0,u.jsx)("div",{className:"vertical-directed",children:(0,u.jsx)(J.Z,{id:"EmployeeForm.personnelNumber",defaultMessage:[{type:0,value:"Табельный номер"}]})})}),(0,u.jsx)("td",{colSpan:Math.max.apply(null,[15,t]),children:(0,u.jsx)("div",{className:"pv",children:(0,u.jsx)(J.Z,{id:"Reports.workVisitMarks",defaultMessage:[{type:0,value:"Отметки о явках и неявках на работу по числам месяца"}]})})}),(0,u.jsx)("td",{colSpan:"2",children:(0,u.jsx)("div",{className:"pv",children:(0,u.jsx)(J.Z,{id:"Reports.workedOutFor",defaultMessage:[{type:0,value:"Отработано за"}]})})})]}),(0,u.jsxs)("tr",{children:[r.map((e=>{var t=0===e||e;return(0,u.jsx)("td",{className:me()("t13dayCells",{[wle.cellHeaderDay]:this.state.showMinutes}),children:(0,u.jsx)("div",{className:"x2-height",children:(0,u.jsx)("div",{className:me()("t13-report__day-number",!t&&"t13-report__day-number_empty"),children:t?e+1:""})})},e)})),(0,u.jsx)("td",{className:"x2-height t13-report__month-half-month-header",children:(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"Reports.halfMonth",defaultMessage:[{type:0,value:"Полмесяца"}]})})}),(0,u.jsx)("td",{className:"x2-height t13-report__month-month-header",children:(0,u.jsx)("div",{children:(0,u.jsx)(J.Z,{id:"Common.Month",defaultMessage:[{type:0,value:"Месяц"}]})})})]}),(0,u.jsxs)("tr",{children:[s.map((e=>{var t=0===e||e;return(0,u.jsx)("td",{rowSpan:"2",className:"t13dayCells",children:(0,u.jsx)("div",{className:me()("t13-report__day-number",!t&&"t13-report__day-number_empty"),children:t?e+1:""})},e)})),(0,u.jsx)("td",{colSpan:"2",children:(0,u.jsx)(J.Z,{id:"Common.days",defaultMessage:[{type:0,value:"Дни"}]})})]}),(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"2",children:(0,u.jsx)(J.Z,{id:"Graph.hours",defaultMessage:[{type:0,value:"Часы"}]})})})]})})}),(0,u.jsx)("div",{className:me()(wle.reportContent,"scrollbar"),style:{marginTop:0},children:(0,u.jsx)("table",{className:"t13-report__table",children:(0,u.jsx)("tbody",{children:this.props.data.users.map(((e,t)=>{var i=[],n=t%2?"t13-report__table-row_even":"t13-report__table-row_odd";return i.push((i=>(0,u.jsxs)("tr",{className:this.getClassFirstUserRow(n),children:[(0,u.jsx)("td",{className:"t13number",rowSpan:"4",children:t+1}),(0,u.jsx)("td",{className:"t13fullName",rowSpan:"4",children:e.name}),(0,u.jsx)("td",{className:"t13tabelNumber",rowSpan:"4",children:e.tabelId||"---"}),r.map((t=>(0,u.jsx)("td",{className:"t13dayCells",children:e.days[t]&&e.days[t].code},t))),(0,u.jsx)("td",{className:"x2-height t13-report__month-half-month-header",children:e.firstMonthHalfStatistics.days||"0"}),(0,u.jsx)("td",{className:"x2-height t13-report__month-month-header",rowSpan:"2",children:e.monthStatistics.days})]},e.id||i))),i.push((()=>(0,u.jsxs)("tr",{className:this.getRowAdditionalClassName(n),children:[r.map((t=>(0,u.jsx)("td",{className:me()("t13dayCells",{[wle.t13dayCell]:this.state.showMinutes}),children:e.days[t]&&this.formatTimeUnits(e.days[t].timeUnits)},t))),(0,u.jsx)("td",{className:"x2-height t13-report__month-half-month-header",children:this.formatTimeUnits(e.firstMonthHalfStatistics.timeUnits)||"0"})]},(0,X.Vj)()))),i.push((()=>(0,u.jsxs)("tr",{className:this.getRowAdditionalClassName(n),children:[s.map((t=>(0,u.jsx)("td",{className:me()("t13dayCells",{[wle.t13dayCell]:this.state.showMinutes}),children:e.days[t]&&e.days[t].code},t))),(0,u.jsx)("td",{className:"x2-height t13-report__month-half-month-header",children:e.secondMonthHalfStatistics.days||"0"}),(0,u.jsx)("td",{rowSpan:"2",className:"x2-height t13-report__month-month-header",children:this.formatTimeUnits(e.monthStatistics.timeUnits)})]},(0,X.Vj)()))),i.push((()=>(0,u.jsxs)("tr",{className:this.getRowAdditionalClassName(n),children:[s.map((t=>(0,u.jsx)("td",{className:me()("t13dayCells",{[wle.t13dayCell]:this.state.showMinutes}),children:e.days[t]&&this.formatTimeUnits(e.days[t].timeUnits)},t))),(0,u.jsx)("td",{className:"x2-height t13-report__month-half-month-header",children:this.formatTimeUnits(e.secondMonthHalfStatistics.timeUnits)||"0"})]},(0,X.Vj)()))),i.map(((e,t)=>e(t)))}))})})})]})]})})}}Nle.propTypes={setT13ReportDate:c().func.isRequired,fetchT13ReportData:c().func.isRequired,t13DownloadExcel:c().func.isRequired,importTemplate:c().func.isRequired,groupId:P.K5.isRequired,data:c().object.isRequired,reportDate:c().object.isRequired,user:ge.Z.isRequired,hasLoadTemplateButton:c().bool.isRequired,intl:c().object.isRequired};var Rle=(0,o.compose)((0,s.$j)((e=>({groupId:(0,Y.Wx)(e),user:(0,C.ts)(e),data:ep(e),reportDate:tp(e),hasLoadTemplateButton:(0,B.vH)(e,"displayLoadTemplateButtonInT13Report")})),{fetchT13ReportData:Xae.fetchT13ReportData,t13DownloadExcel:Xae.t13DownloadExcel,importTemplate:Xae.importTemplate,setT13ReportDate:Xae.setT13ReportDate}))((0,v.ZP)(Nle)),Ele=r(83750),Dle=r(6498),Ale=r(99613),Mle=r(82302),Ile=(0,k.vU)({sortFrom:{id:"FBTable.sortFrom",defaultMessage:[{type:0,value:"Сортировать от"}]},untilA:{id:"FBTable.untilA",defaultMessage:[{type:0,value:"до А"}]},untilZ:{id:"FBTable.untilZ",defaultMessage:[{type:0,value:"до Я"}]},A:{id:"FBTable.A",defaultMessage:[{type:0,value:"А"}]},Z:{id:"FBTable.Z",defaultMessage:[{type:0,value:"Я"}]},find:{id:"FBTable.find",defaultMessage:[{type:0,value:"Поиск"}]}}),Zle=r(13135);const qle="wiHm339WWh4v8dVPBCidfA==";var Fle=e=>{var{column:t,onHeaderCellClick:r,filterable:i,handleSort:s,onSortAsc:n,onSortDsc:a,onChangeFilter:o,data:l,filter:c,stickyHeader:d}=e,p=(0,m.useRef)(null),[h,f]=(0,m.useState)(!1);return(0,u.jsxs)("th",{ref:p,className:me()(d&&qle,t.fixed&&"FV1g5FQa0XH7zrevQykfaA==",t.headerClassName,{"table__cell--sortable":t.sortable}),width:t.width,style:{width:t.width+"px",left:t.leftOffset||"unset"},onClick:e=>{r(t,e),t.sortable&&s(t)},children:[t.renderHeader?t.renderHeader(t):t.label,(0,u.jsx)(Ns.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"left"},anchorEl:p.current,open:h,className:"table-filter scrollbar",canAutoPosition:!0,onClose:()=>f(!1),onClick:rB.cancelEvent,style:{width:t.width&&t.width>250?t.width:250},children:(0,u.jsx)(VH,{data:l,onClose:()=>f(!1),getFullValue:rB.getFullValue,column:t,onSortAsc:n,onSortDsc:a,filter:c,onChangeFilter:o,formatMessage:Zle.default.formatMessage,onRequestClose:O.wA})}),(0,u.jsx)(Ae.Z,{hidden:!t.filterable,onClick:e=>{r(t,e),i||t.filterable?f(!0):t.sortable&&s(t)},active:c,children:(0,u.jsx)(et.ZP,{glyph:et.wn})})]})};Fle.propTypes={column:c().object.isRequired,onHeaderCellClick:c().func.isRequired,filterable:c().bool.isRequired,handleSort:c().func.isRequired,onSortAsc:c().func.isRequired,onSortDsc:c().func.isRequired,onChangeFilter:c().func.isRequired,data:c().array.isRequired,filter:c().object.isRequired,stickyHeader:c().bool.isRequired};const Lle=Fle;function Hle(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hle(Object(r),!0).forEach((function(t){Ble(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hle(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ble(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Gle extends m.Component{constructor(e){super(e),Ble(this,"filter",(e=>{var{filters:t}=this.state;return(0,jo.hX)(e,t,Gle.getFullValue)})),Ble(this,"handleSort",(e=>{var{key:t,order:r}=this.state;if(t!==e.key)this.setState({sortColumn:e,key:e.key,order:"asc"});else{var i="asc"===r?"dsc":"asc";this.setState({sortColumn:e,order:i})}})),Ble(this,"sortAsc",(e=>{this.setState({sortColumn:e,key:e.key,order:"asc"})})),Ble(this,"sortDsc",(e=>{this.setState({sortColumn:e,key:e.key,order:"dsc"})})),Ble(this,"closeFilter",(()=>{this.clearFiltersStash(),this.setState({currentOpenedFilter:-1})})),this.state={key:e.sortBy||null,order:"asc",filterSearch:"",filters:e.filters||[],filtersStash:[],highlightedModel:void 0,sortColumn:e.sortBy?e.columns.find((t=>t.key===e.sortBy)):void 0,selectedIds:[],selectedAll:!0}}setSelectedIdsState(e){this.setState({selectedIds:e&&e.map?e.map((e=>e.id)):[]})}UNSAFE_componentWillMount(){this.setSelectedIdsState(this.props.data)}UNSAFE_componentWillReceiveProps(e){this.setSelectedIdsState(e.data)}sort(e,t){if(this.props.sort)return e.sort(this.props.sort);var{key:r,order:i}=this.state;return r?e.sort(((e,r)=>{var s=Gle.getFullValue(e,t).replace(/^ё/,"е"),n=Gle.getFullValue(r,t).replace(/^ё/,"е");if(""===s||void 0===s)return 1;if(""===n||void 0===n)return-1;var a=s<n?-1:1;return"asc"===i?a:-1*a})):e}cancelEvent(e){e.stopPropagation()}search(e,t){return this.state.filterSearch?e.filter((e=>-1!==Gle.getFullValue(e,t).toString().toLowerCase().indexOf(this.state.filterSearch.toLowerCase()))):e}static getFullValue(e,t){var r;if(t&&t.getFullValue)r=t.getFullValue(e)||"";else try{var i=t?t.key:this.state.key;if(Number.isInteger(i))return e[i];r=i.split(".").reduce(((e,t)=>e[t]),e)}catch(e){}return r}clearColumnFilter(e){var{filters:t}=this.state;delete t[e.key],this.setState({filters:t,filtersStash:[]})}clearFiltersStash(){this.setState({filterStash:[]})}stashFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.Gl.EQUALS,i=[...this.state.filtersStash];i.push({column:e,filterValue:t,expression:r}),this.setState({filtersStash:i})}stashFilters(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.Gl.EQUALS,i=[...this.state.filtersStash];t.map((t=>i.push({column:e,filterValue:t,expression:r}))),this.setState({filtersStash:i})}unStashFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.Gl.EQUALS,i=this.state.filtersStash.filter((i=>!(i.column===e&&i.filterValue===t&&i.expression===r)));this.setState({filtersStash:i})}removeFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.Gl.EQUALS,i=(this.state.filters[e.key]||[]).filter((e=>e[r]!==t));if(i&&i.length)this.setState({filters:_le(_le({},this.state.filters),{},{[e.key]:i})});else{var s=_le({},this.state.filters);delete s[e.key],this.setState({filters:s})}}addFiltersBatch(e){if(0!==e.length){var t={};e.map((e=>{var r=t[e.column.key]||this.state.filters[e.column.key]||[];r.push({[e.expression]:e.filterValue,column:e.column}),t[e.column.key]=r}));var r=_le(_le({},this.state.filters),t);this.setState({filters:r}),this.props.onFiltersChange&&this.props.onFiltersChange(r)}}applyFiltersFromStash(){this.addFiltersBatch(this.state.filtersStash)}hasFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.Gl.EQUALS;return!(!this.state.filters[e.key]||!this.state.filters[e.key].find((e=>e[r]===t)))||!!this.state.filtersStash.find((i=>i.column===e&&i.filterValue===t&&i.expression===r))}static cancelEvent(e){e.stopPropagation()}toggleFilterPopup(e){this.state.currentOpenedFilter===e?this.setState({currentOpenedFilter:-1,filterSearch:""}):this.setState({currentOpenedFilter:e})}renderFilter(e){var{intl:t}=this.pros,r=this.clearColumnFilter.bind(this,e),i=this.search.bind(this),s=this.sort.bind(this)(i(this.props.data,e),e).map((t=>Gle.getFullValue(t,e))).filter(((e,t,r)=>r.indexOf(e)===t));return(0,u.jsxs)(Ns.ZP,{animation:VerticalAnimation,open:!0,className:"table-filter scrollbar",anchorEl:this.refs[e.key+"-header-cell"],canAutoPosition:!0,onClose:this.closeFilter,onClick:rB.cancelEvent,style:{height:440,overflowY:"scroll",width:e.width&&e.width>250?e.width:250},children:[(0,u.jsxs)("div",{className:"table-filter__sort-row",onClick:()=>{this.sortAsc(e)},children:[(0,u.jsx)("span",{className:"icon-ctrl",children:"↓"}),(0,u.jsxs)("span",{className:"table-filter__label",children:[t.formatMessage(Ile.sortFrom),(0,u.jsx)("em",{children:t.formatMessage(Ile.A)}),t.formatMessage(Ile.untilZ)]})]}),(0,u.jsxs)("div",{className:"table-filter__sort-row",onClick:()=>{this.sortDsc(e)},children:[(0,u.jsx)("span",{className:"icon-ctrl",children:"↑"}),(0,u.jsxs)("span",{className:"table-filter__label",children:[t.formatMessage(Ile.sortFrom),(0,u.jsx)("em",{children:t.formatMessage(Ile.Z)}),t.formatMessage(Ile.untilA)]})]}),(0,u.jsxs)("div",{className:"table-filter__remove-row",onClick:r,children:[(0,u.jsx)("span",{className:"icon-ctrl",children:"✕"}),(0,u.jsx)("span",{className:"table-filter__label",children:(0,u.jsx)(J.Z,{id:"FBTable.removeFilter",defaultMessage:[{type:0,value:"Удалить фильтр"}]})})]}),(0,u.jsxs)("div",{className:"table-filter__select-all",onClick:()=>this.stashFilters(e,s),children:[(0,u.jsx)("span",{className:"icon-ctrl",children:"✓"}),(0,u.jsx)("span",{className:"table-filter__label",children:(0,u.jsx)(J.Z,{id:"FBTable.selectAll",defaultMessage:[{type:0,value:"Выделить все"}]})})]}),(0,u.jsx)("div",{className:"table-filter__search",children:(0,u.jsx)("input",{type:"text",className:"os-input os-input_type_text",placeholder:t.formatMessage(Ile.find),onKeyDown:e=>{e.persist();var t=this;setTimeout((()=>{t.setState({filterSearch:e.target.value})}),0)}})}),(0,u.jsx)("div",{className:"table-filter__list scrollbar",children:s.map(((t,r)=>{var i=this.hasFilter(e,t),s=e.key+r;return(0,u.jsxs)("label",{htmlFor:s,className:"table-filter__checkbox",children:[(0,u.jsx)(Rs.XZ,{checked:i,onChange:()=>{i?(this.unStashFilter(e,t),this.removeFilter(e,t)):this.stashFilter(e,t)},id:s,name:"filter-checkbox"}),t]},r)}))}),(0,u.jsxs)("div",{className:"table-filter__buttons",children:[(0,u.jsx)("button",{className:"button button--green",onClick:()=>{this.applyFiltersFromStash(),this.setState({currentOpenedFilter:-1})},children:(0,u.jsx)(J.Z,{id:"FBTable.ok",defaultMessage:[{type:0,value:"OK"}]})}),(0,u.jsx)("button",{className:"button button--red button--noborder",onClick:this.closeFilter,children:(0,u.jsx)(J.Z,{id:"FBTable.cancel",defaultMessage:[{type:0,value:"Отмена"}]})})]})]})}renderHeader(){var{columns:e,onHeaderCellClick:t=(()=>{}),htmlTable:r=!1,stickyHeader:i=!1}=this.props,{key:s,order:n}=this.state;return r?(0,u.jsx)("thead",{ref:"tHead",className:i&&"tnGuDgvt6XLCQRH3yWI-Ug==",children:(0,u.jsx)("tr",{children:e.map(((e,r)=>{var s,n=null===(s=this.state.filters[e.key])||void 0===s?void 0:s.reduce(((e,t)=>(e[jo.Gl.EQUALS]=e[jo.Gl.EQUALS]||{},e[jo.Gl.EQUALS][t[jo.Gl.EQUALS]]=!0,e)),{});return(0,u.jsx)(Lle,{stickyHeader:i,column:e,onHeaderCellClick:t,toggleFilterPopup:this.toggleFilterPopup,index:this.index,filterable:this.props.filterable,handleSort:this.handleSort,currentOpenedFilter:this.state.currentOpenedFilter,closeFilter:this.closeFilter,data:this.props.data,onSortAsc:this.sortAsc,onSortDsc:this.sortDsc,filter:n,onChangeFilter:t=>{var r=Object.keys(t).reduce(((r,i)=>[...r,...Object.keys(t[i]).reduce(((t,r)=>[...t,{[i]:r,column:e}]),[])]),[]);this.setState({filters:_le(_le({},this.state.filters),{},{[e.key]:r.length?r:void 0})},(()=>this.props.onFiltersChange&&this.props.onFiltersChange(this.state.filters)))}},r)}))})}):(0,u.jsx)(Ele.Z,{ref:"tHead",displaySelectAll:!1,enableSelectAll:!1,adjustForCheckbox:!1,children:(0,u.jsxs)(Dle.Z,{children:["[ ...",e.map(((e,r)=>(0,u.jsx)(TableHeaderColumn,{style:_le({width:e.width,padding:0},e.styleHeader),className:me()("table__cell",e.headerClassName,{"table__cell--sortable":e.sortable}),children:(0,u.jsxs)("div",{onClick:i=>{t(e,i),this.props.filterable||e.filterable?this.toggleFilterPopup(r):e.sortable&&this.handleSort(e)},style:{borderRight:"1px solid lightgrey",padding:"8px"},children:[e.renderHeader?e.renderHeader(e):e.label,e.sortable&&this.renderSortArrows(s,n,e),(0,u.jsx)("div",{ref:e.key+"-header-cell",children:this.state.currentOpenedFilter===r&&(0,u.jsx)(Ns.ZP,{animation:VerticalAnimation,open:!0,className:"table-filter scrollbar",anchorEl:this.refs[e.key+"-header-cell"],canAutoPosition:!0,onClose:this.closeFilter,onClick:rB.cancelEvent,style:{overflowY:"scroll",width:e.width&&e.width>250?e.width:250},children:(0,u.jsx)(VH,{data:this.props.data,onRequestClose:()=>this.setState({currentOpenedFilter:-1}),getFullValue:rB.getFullValue,column:e,onSortAsc:this.sortAsc.bind(this),onSortDsc:this.sortDsc.bind(this),filter:this.state.filters[e.key]&&this.state.filters[e.key].reduce(((e,t)=>(e[jo.Gl.EQUALS]=e[jo.Gl.EQUALS]||{},e[jo.Gl.EQUALS][t[jo.Gl.EQUALS]]=!0,e)),{}),onChangeFilter:t=>{var r=Object.keys(t).reduce(((r,i)=>[...r,...Object.keys(t[i]).reduce(((t,r)=>[...t,{[i]:r,column:e}]),[])]),[]);this.setState({filters:_le(_le({},this.state.filters),{},{[e.key]:r.length?r:void 0})},(()=>this.props.onFiltersChange&&this.props.onFiltersChange(this.state.filters)))}})})})]})},r))),",",(0,u.jsx)(TableHeaderColumn,{style:{width:"8px",maxWidth:"8px",padding:0}}),"]"]})})}renderContent(){var{data:e,columns:t,onRowClick:r=(()=>{}),onCellClick:i=(()=>{}),onDoubleClick:s=(()=>{}),rowStyleProvider:n,getItemKey:a,htmlTable:o=!1,stickyHeader:l=!1}=this.props,c=this.sort.bind(this),{filter:d}=this,p=c(d(e),this.state.sortColumn);return this.preparedData=p,o?(0,u.jsx)("tbody",{children:p.map(((e,o)=>(0,u.jsx)("tr",{onClick:r.bind(null,e,o),className:n&&n(e,o),children:t.map(((t,r)=>(0,u.jsx)("td",{className:me()(l&&qle,"table__cell "+t.className,t.fixed&&"+a5W1fsAtyOhfSSzZcuqOA=="),style:_le(_le({},t.styleContent),{},{width:t.width,left:t.leftOffset||"unset"}),colSpan:t.colspan,onContextMenu:()=>{s(e[t.key],o,event)},onClick:r=>{i(e[t.key],o,r,e,t.key)},children:t.render?t.render(e,t.key,t):(0,u.jsx)("span",{title:t.showTitle?rB.getFullValue(p[o],t):void 0,children:Gle.getFullValue(p[o],t)})},r)))},a?a(e):o)))}):(0,u.jsx)(Ale.Z,{displayRowCheckbox:!1,className:"scrollbar",style:{overflowY:"scroll"},children:p.map(((e,o)=>(0,u.jsx)(Dle.Z,{onClick:r.bind(null,e,o),className:n&&n(e,o),children:t.map(((t,r)=>(0,u.jsx)(_H.Z,{style:_le({width:t.width,padding:"8px"},t.styleContent),className:t.cellClassNameGetter?t.cellClassNameGetter(e):t.className,colSpan:t.colspan,onContextMenu:()=>{s(e[t.key],o,event)},onClick:r=>{i(e[t.key],o,r,e,t.key)},children:t.render?t.render(e,t.key):(0,u.jsx)("span",{title:t.showTitle?rB.getFullValue(p[o],t):void 0,children:Gle.getFullValue(p[o],t)})},r)))},a?a(e):o)))})}getSizeOfTable(){var e,t,r=this.refs.componentRoot?this.refs.componentRoot.parentElement:void 0;return r&&(t=r.offsetWidth,e=r.offsetHeight),this.props.width&&(t=this.props.width),this.props.height&&(e=this.props.height),{width:t,height:e}}render(){return this.props.data?this.props.htmlTable?(0,u.jsxs)("table",{className:me()(this.props.stickyHeader&&"rK4nJGPlZ7i6ECmuxL65ug==",this.props.tableClass||this.props.className),ref:"table",style:_le(_le({},this.props.style),{},{width:this.props.width||this.getSizeOfTable().width+"px"}),children:[this.renderHeader(),this.renderContent()]}):(0,u.jsx)("div",{ref:"componentRoot",className:"table table_custom-scrollbar",children:(0,u.jsxs)(Mle.Z,{bodyStyle:{overflowY:"scroll"},height:this.props.height||this.getSizeOfTable().height-60+"px",width:this.props.width||this.getSizeOfTable().width+"px",className:"scrollbar "+(this.props.tableClass||this.props.className),ref:"table","data-key":this.state.sortKey,columns:"",children:[this.renderHeader(),this.renderContent()]})}):(0,u.jsx)("span",{})}}Gle.propTypes={columns:c().array.isRequired,onRowClick:c().func,filterable:c().bool,containerId:c().string};const Wle=(0,v.ZP)(Gle);function Ule(e){var t=ns()(e,ft.vc).day();return 6===t||0===t}function Vle(e){return 0===ns()(e,ft.vc).day()}var zle=(0,u.jsx)(J.Z,{id:"GraphReport.nameEmployee",defaultMessage:[{type:0,value:"ФИО сотрудника"}]}),Yle={id:"GraphReport.positionEmployee",defaultMessage:"Должность"},Qle={id:"GraphReport.nameEmployee",defaultMessage:"ФИО сотрудника"},Kle=(0,u.jsx)(J.Z,{id:"GraphReport.positionEmployee",defaultMessage:[{type:0,value:"Должность"}]}),Xle=(0,u.jsx)(J.Z,{id:"GraphReport.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]}),Jle=(0,u.jsx)(J.Z,{id:"GraphReport.build",defaultMessage:[{type:0,value:"Сформировать"}]}),$le=(0,u.jsx)(J.Z,{id:"GraphReport.print",defaultMessage:[{type:0,value:"Печать"}]}),ece={id:"Reports.uploadToCsv",defaultMessage:"Выгрузить отчет в csv"};const tce="D9YXoXllWIWIX3UyHBRpjA==";var rce=e=>{var{data:t,reportDate:r,fetchGraphReportData:i,setGraphReportDate:s,groupId:n,globalSettings:a}=e,o=(0,er.Z)(),[l,c]=(0,m.useState)(r),d=o.formatMessage(ece),p=(0,ft.a5)(l.from);return(0,u.jsx)("div",{className:"custom-report graph-report",children:(0,u.jsxs)("div",{className:"custom-report__container",children:[(0,u.jsxs)("div",{className:"report-form custom-report__form ph+ pv++",children:[(0,u.jsx)("label",{className:"inline-block inline-block_middle report-form__label",children:Xle}),(0,u.jsx)("span",{className:"inline-block inline-block_middle ph+",children:(0,u.jsx)(uZ.A,{onChange:e=>{var{from:t,to:r}=(0,ft.Xv)(e,!1,ft.ZM,ft._E,!1);c({from:t,to:r})},value:p})}),(0,u.jsx)("button",{className:"button button--bg-blue inline-block_middle",onClick:()=>{var{from:e,to:t}=l,r=a.IS_SCHEDULE_TABLE_BY_USER_ZONE_ENABLED;i({groupId:n,from:e,to:(0,ft.CK)((0,ft.Om)((0,ft.b7)(t)))},r),s({from:e,to:t})},type:"button",children:Jle}),(0,u.jsx)("button",{type:"button",className:"ml+ button button--bg-blue inline-block_middle",onClick:window.print,children:$le}),(0,u.jsx)(AS.Z,{className:"button-icon inline-block_middle mr",onClick:()=>{for(var{from:e,to:r}=l,i=[o.formatMessage(Yle),o.formatMessage(Qle)],s=ns()(e,ft._E),n=ns()(r,ft._E);s.isSameOrBefore(n,"day");)i.push(s.format("DD.MM.YYYY")+"|"+s.locale(o.locale).format("dddd")),s.add(1,"day");var a=(e=>"data:text/csv;charset=utf-8,\ufeff"+e.map((e=>e.map((e=>Number.isNaN(+e)||""===e?e:(""+Math.round(100*+e)/100).replace(".",","))).join(";"))).join("\n"))([i,...t.map((t=>{for(var r=[t.userPosition,t.userName],i=ns()(e,ft._E);i.isSameOrBefore(n,"day");){var s=t[i.format("YYYY-MM-DD")]||{};r.push(s.acronym||s.period||""),i.add(1,"day")}return r}))]),c=document.createElement("a");c.setAttribute("href",encodeURI(a)),c.setAttribute("download","group_graph_report(".concat(e," - ").concat(r,").csv")),document.body.appendChild(c),c.click()},title:d,children:(0,u.jsx)(Jae.Z,{})})]}),t&&(0,u.jsx)("div",{className:me()("wuw3VpMhOnlAlRKiYr4QwA==","custom-report__content ","scroll"),style:{margin:"0 16px"},children:(0,u.jsx)(Wle,{stickyHeader:!0,htmlTable:!0,containerId:"graph-table-container",tableClass:"table--info",columns:(()=>{var e={label:zle,key:"userName",width:164,fixed:!0,leftOffset:"148px",render:(e,t)=>(0,u.jsx)("div",{className:tce,style:{width:"164px"},title:e[t],children:e[t]}),renderHeader:e=>(0,u.jsx)("div",{className:"table__label text-ellipsis overflow-hidden fit-parent",style:{width:"164px"},children:e.label})},t={label:Kle,key:"userPosition",width:144,fixed:!0,leftOffset:"0px",render:(e,t)=>(0,u.jsx)("div",{className:tce,title:e[t],style:{width:"144px"},children:e[t]||""}),renderHeader:e=>(0,u.jsx)("div",{className:"table__label text-ellipsis overflow-hidden fit-parent",style:{width:"144px"},children:e.label})},r=JSON.parse(localStorage.getItem(I.H2)),i=(()=>{var{from:e,to:t}=l,r=(0,ft.Om)(t),i=(0,ft.ab)(e,r,"days");return[...Array(i)].map(((t,r)=>(0,ft.X5)((0,ft.IH)(e,"d",r))))})().map((e=>({label:(0,ft.Vb)(e,ft.vc),dayOfWeek:ns()(e,ft.vc).locale(o.locale).format("dddd"),key:e,width:80,className:"graph__cell ".concat(Ule(e)?"graph__cell_weekend":""," ").concat(Vle(e)?"graph__cell_sunday":""),headerClassName:me()("table__label",{"graph__cell--weekend context-background_info":Ule(e),graph__cell_sunday:Vle(e)}),render:(e,t)=>{var r,i=(e[t]||{}).period,s=(e[t]||{}).color,n=(0,X._T)(s)?"white":"#77828c",a=null===(r=e[t])||void 0===r?void 0:r.acronym;if(i&&i.indexOf("-")>0){var o=i.split("-");i=(0,u.jsxs)("div",{style:{width:"80px"},children:[o[0],(0,u.jsx)("br",{}),o[1]]})}else i=(0,u.jsx)("div",{className:"pv text-ellipsis",style:{width:"80px",height:"30px"},children:i});return(0,u.jsx)("div",{style:{backgroundColor:s,color:n,display:"block",textAlign:"center"},children:a?(0,u.jsx)("div",{style:{width:"80px",height:"30px"},children:a}):i})},renderHeader:e=>(0,u.jsxs)("div",{children:["en"===r.value?(0,ft.K4)(e.label,ft._T):e.label,(0,u.jsx)("hr",{}),e.dayOfWeek]})})));return[t,e,...i]})(),data:t,name:"graph-table-1"})})]})})};rce.propTypes={data:c().array.isRequired,fetchGraphReportData:c().func.isRequired,groupId:c().string.isRequired,reportDate:c().object.isRequired,globalSettings:c().object.isRequired,setGraphReportDate:c().func.isRequired};const ice=rce,sce=(0,o.compose)((0,s.$j)((e=>({data:ip(e),groupId:(0,Y.Wx)(e),reportDate:rp(e),globalSettings:(0,B.Tv)(e)})),{fetchGraphReportData:Xae.fetchGraphReportData,setGraphReportDate:Xae.setGraphReportDate}))(ice);var nce="punctuality.threshold",ace="punctuality.zoom",oce=r(81556),lce=r(15286);function cce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cce(Object(r),!0).forEach((function(t){uce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pce extends m.Component{constructor(){super(...arguments),uce(this,"applyChanges",(e=>{this.props.onChange(e)})),uce(this,"onChange",(e=>{var{min:t,max:r}=this.props,{value:i}=e.target;0===t||t||0===r||r?i>=t&&i<=r&&this.applyChanges((0,j.Re)(i)):this.applyChanges((0,j.Re)(i))}))}render(){return(0,u.jsx)(aO.Z,dce(dce({},this.props),{},{type:"text",onChange:e=>{this.onChange(e)}}))}}pce.defaultProps={min:void 0,max:void 0},pce.propTypes={value:c().number.isRequired,onChange:c().func.isRequired,min:c().number,max:c().number};const hce=pce;class fce extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleRefresh",(()=>{var{date:e,fetchGroupPunctualityData:t,groupId:r,onRefresh:i,setGroupPunctualityDate:s}=this.props;s(this.props.date),t({groupId:r,from:e,to:(0,ft.iX)(e)}),i()}))}render(){var{date:e,onZoomChange:t,activitiesColumnWidth:r,intl:{formatMessage:i},setReportPeriod:s,groupId:n,onThresholdChange:a,threshold:o}=this.props,l=!n;return(0,u.jsxs)("div",{className:"Ppcw31fTsc7PMSMXeb-PfA==",children:[(0,u.jsxs)("label",{className:"inline-block inline-block_middle report-form__label",children:[(0,u.jsx)(J.Z,{id:"GroupPunctualityReport.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]}),":"]}),(0,u.jsx)("span",{className:"inline-block inline-block_middle",style:{paddingLeft:"16px"},children:(0,u.jsx)(mt.Z,{date:e,dateFormat:ft._E,onChange:s})}),(0,u.jsxs)("label",{className:"inline-block inline-block_middle report-form__label pl+",children:[(0,u.jsx)(J.Z,{id:"Actions.zoom",defaultMessage:[{type:0,value:"Масштаб"}]}),(0,u.jsx)("span",{children:":"})]}),(0,u.jsx)("span",{className:"inline-block inline-block_middle ph+",style:{marginTop:10},children:(0,u.jsx)(lce.Z,{value:r,min:900,max:5e3,onChange:t})}),(0,u.jsxs)("label",{className:"inline-block inline-block_middle report-form__label",children:[(0,u.jsx)(J.Z,{id:"Common.threshold",defaultMessage:[{type:0,value:"Порог терпимости"}]}),":"]}),(0,u.jsx)("span",{className:"inline-block inline-block_middle",style:{paddingLeft:"16px",marginRight:"4px"},children:(0,u.jsx)(hce,{className:"m+wODgg3gC3RIy8ZRqsMdA==",value:o,min:0,max:100,onChange:a})}),(0,u.jsx)(AS.Z,{className:"button-icon inline-block_middle mh",onClick:this.handleRefresh,title:i({id:"Actions.build"}),disabled:l,children:(0,u.jsx)(qH.Z,{})}),(0,u.jsx)(AS.Z,{className:"button-icon inline-block_middle mh",onClick:()=>window.print(),title:i({id:"Actions.print"}),children:(0,u.jsx)(oce.Z,{})})]})}}fce.propTypes={groupId:c().string.isRequired,intl:c().object.isRequired,fetchGroupPunctualityData:c().func.isRequired,onThresholdChange:c().func.isRequired,setGroupPunctualityDate:c().func.isRequired,setReportPeriod:c().func.isRequired,date:c().string.isRequired,activitiesColumnWidth:c().number.isRequired,threshold:c().number.isRequired,onZoomChange:c().func.isRequired,onRefresh:c().func.isRequired};const mce=fce,vce=(0,o.compose)(v.ZP,(0,s.$j)((e=>({groupId:(0,Y.Wx)(e)})),{fetchGroupPunctualityData:Xae.fetchGroupPunctualityData,setGroupPunctualityDate:Xae.setGroupPunctualityDate}))(mce),yce="-qBThWzZdM3Slmx3XtHhMA==";var gce=e=>{var t,{userStatus:r,workActivities:i,item:s}=e,n=s.schedule||[],a=ns()(s.start,ft._E).add(1,"day").format(ft._E);return(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(Um,{style:{position:"absolute"}}),(0,u.jsx)(Xm,{min:s.start,max:a,data:(t=n,t.filter((e=>e.workActivityId!==x.ZP.EMPTY_WORK_ACTIVITY_ID))),dataConfig:{id:"id",start:"start",end:"end"},colorMap:i,colorMapConfig:{id:"workActivityId",color:"color",text:"name"},height:31,showText:!0}),(0,u.jsx)("div",{className:yce,children:(0,u.jsx)(Xm,{max:a,data:s.logs,min:s.start,dataConfig:{id:"startUnixTime",start:"start",end:"end"},colorMap:r,colorMapConfig:{color:"color",id:"userStatusExternalId",text:"name"},height:5})}),(0,u.jsx)("div",{className:yce,children:(0,u.jsx)(Xm,{max:a,data:s.violations,min:s.start,dataConfig:{id:"from",start:"from",end:"to"},height:5})})]})};gce.defaultProps={item:{}},gce.propTypes={userStatus:c().object.isRequired,workActivities:c().object.isRequired,item:c().object};const bce=gce;var jce=e=>{var t=(0,B.aH)(e);return(0,X.xn)(t,"externalId")};const xce=(0,o.compose)(v.ZP,(0,s.$j)((e=>({userStatus:jce(e),workActivities:pn(e)}))))(bce),Sce={tableLayout:"RLbriat6L8JnWc1ZXv7RuA==",cell:"PRpQP86WU3qnmEoJYixbVw==",headerCell:"AA7CKIA0ii1hHLJLtlArhg==",leftHeader:"_4xSwZeScO87AKvJDvhkeaA==",firstHeaderCell:"wrQsHILc1h2WmP8rxl5Jpg==",secondHeaderCell:"TLoMSSm0KOtazvux09oUZg==",title:"bcmc1KjG0GtrF8TGDljIfw==",good:"_7Z9H2NHGcYvb9H9PM1GACA==",bad:"CbqZlLCVBS4pASTOphP6Hw==",centeredCellWrapper:"FtDiYl4fybP8pHpUQrKkmg==",centeredCell:"UVh82vQfG-YVnoM6S1Fykw==",firstCenteredCell:"_18vcE3iPslCthJNBq0cgbQ==",sortButton:"bxn25-sD-tGrVnC1rS7Pug==",sortArrow:"fVbi+dVWDMi7xNVbrkqNKw=="};var Oce=ai().bind(Sce),Pce=e=>[new DO.Z({key:"userName",label:(0,u.jsx)(J.Z,{id:"Common.fullName",defaultMessage:[{type:0,value:"ФИО"}]}),width:200,fixed:!0,hasTitle:!1,filterable:!0,sortable:!0,headerClassName:Sce.firstHeaderCell,renderCell:e=>(0,u.jsx)("div",{className:Sce.centeredCellWrapper,children:(0,u.jsx)("div",{title:e.userName,className:Sce.firstCenteredCell,children:e.userName})})}),new DO.Z({key:"punctualityPercent",label:"%",width:70,fixed:!0,sortable:!0,filterable:!0,descSortEnabledByDefault:!0,headerClassName:Sce.secondHeaderCell,titleStyle:Sce.title,getValue:e=>Number(e.punctualityPercent.toFixed(2)),renderCell:t=>(0,u.jsx)("div",{className:Sce.centeredCellWrapper,children:(0,u.jsx)("div",{className:Oce({good:t.punctualityPercent>=e.threshold,bad:t.punctualityPercent<e.threshold,centeredCell:!0}),children:Number(t.punctualityPercent).toFixed(2)})})}),new DO.Z({key:"schedule",width:e.activitiesColumnWidth,styleContent:{padding:0},headerClassName:Sce.headerCell,sortable:!0,hasTitle:!1,sortButtonClassNames:Sce.sortButton,sortButtonArrowClassNames:Sce.sortArrow,getValue:e=>{var t;return ns()(null===(t=e.schedule.filter((e=>!e.empty))[0])||void 0===t?void 0:t.start,ft._E).format("YYYY-MM.DD | HH:mm")},renderHeader:()=>(0,u.jsx)(Um,{showHours:!0,style:{width:e.activitiesColumnWidth}}),renderCell:t=>(0,u.jsx)(xce,{item:t,date:e.date})})],wce="userName",Cce={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",borderRight:"2px solid #d9d9d9",zIndex:1},kce=e=>{var{date:t,fetchUserStatus:r,fetchWorkActivities:i,data:s}=e,[n,a]=(0,m.useState)(Number(_r.ZP.get(nce))||95),[o,l]=(0,m.useState)(Number(_r.ZP.get(ace))||900),[c,d]=(0,m.useState)(t),[p,h]=(0,m.useState)(s),f=(0,m.useRef)(null);return(0,m.useEffect)((()=>{h([...s].sort((0,X.hM)(wce)))}),[s]),(0,m.useEffect)((()=>{r(),i()}),[]),(0,u.jsxs)("div",{className:"custom-report",children:[(0,u.jsx)(vce,{date:c,activitiesColumnWidth:o,setReportPeriod:e=>d(e),onRefresh:()=>{f.current.cleanAllFilters()},onZoomChange:e=>{l((()=>(_r.ZP.set(ace,e),e))),f.current.multiGrid.current.recomputeGridSize({rowIndex:0})},threshold:n,onThresholdChange:e=>{a(e),_r.ZP.set(nce,e)}}),(0,u.jsx)("div",{className:Sce.tableLayout,children:(0,u.jsx)(VP.ZP,{ref:f,rowHeight:48,getItemKey:e=>e.schedule.id,columns:Pce({activitiesColumnWidth:o,threshold:n}),data:p,sortBy:wce,classNameBottomRightGrid:"scroll",enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,cellClassName:Sce.cell,leftSideStyle:Cce,classNameTopLeftGrid:Sce.leftHeader})})]})};kce.propTypes={data:c().array.isRequired,date:c().string.isRequired,fetchUserStatus:c().func.isRequired,fetchWorkActivities:c().func.isRequired};const Tce=kce,Nce=(0,o.compose)((0,s.$j)((e=>({groupId:(0,Y.Wx)(e),data:e.reports.groupPunctualityReportData,date:lp(e)})),{fetchGroupPunctualityData:Xae.fetchGroupPunctualityData,fetchUserStatus:Bv.fetchUserStatus,fetchWorkActivities:Sa.fetchWorkActivities}))(Tce);var Rce=e=>e.customReports.scheduleBuildLog.period,Ece=e=>e.customReports.scheduleBuildLog.status,Dce=e=>e.customReports.scheduleBuildLog.data,Ace=e=>e.customReports.scheduleBuildLog.downloadExcelStatus;var Mce="punctuality.threshold";const Ice="FkPUtKYp7ZIK-FIdM02zLw==",Zce="_4IguoIk-ZTcGNd3ik1TEWw==";function qce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fce extends m.Component{constructor(e){super(e),qce(this,"applyChanges",(e=>{this.setState({value:e}),this.props.onChange(e)})),qce(this,"onChange",(e=>{var{min:t,max:r}=this.props,{value:i}=e.target;0===t||t||0===r||r?i>=t&&i<=r&&this.applyChanges((0,j.Re)(i)):this.applyChanges((0,j.Re)(i))})),this.state={value:e.value}}render(){return(0,u.jsx)(aO.Z,{style:{width:"80px"},className:"_4VSEIDXFg2ZvHW-xpdeFZw==",type:"text",value:this.state.value||this.props.value,onChange:e=>{this.onChange(e)}})}}Fce.defaultProps={min:void 0,max:void 0},Fce.propTypes={value:c().number.isRequired,onChange:c().func.isRequired,min:c().number,max:c().number};const Lce=Fce;var Hce=e=>{var{from:t,to:r,onDateChange:i}=e;return(0,u.jsxs)("div",{className:"control-panel__header2",children:[(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)(J.Z,{id:"Reports.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]})}),(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)(mt.Z,{date:t,onChange:e=>{i({from:e,to:r})},selectsStart:!0})}),(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)("span",{children:"—"})}),(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)(mt.Z,{date:r,onChange:e=>{i({from:t,to:e})},minDate:t,selectsEnd:!0})})]})};Hce.defaultProps={from:"",to:""},Hce.propTypes={from:P.yb,to:P.yb,onDateChange:c().func.isRequired};const _ce=Hce;var Bce=e=>{var{threshold:t,datepickerValue:{from:r,to:i},intl:s}=e,n=r>i?i:r,a=ns()(i,ft._E),o=ns()(n,ft._E),l=JSON.parse(localStorage.getItem(I.H2));return[new DO.Z({width:200,key:"userName",headerClassName:"KhI2flSXfYGAhpaukv81JQ==",sortable:!0,fixed:!0,filterable:!0,renderHeader:()=>s.formatMessage({id:"Graph.nameEmployee",defaultMessage:[{type:0,value:"ФИО сотрудника"}]}),getValue:e=>e.user.name.trim(),renderCell:e=>(0,u.jsx)("div",{className:"e4+7COdgwiI+VWb1ra28Cw==",title:e.user.name,children:e.user.name})}),new DO.Z({key:"user.positionName",width:150,filterable:!0,sortable:!0,fixed:!0,renderHeader:()=>s.formatMessage({id:"Graph.positionEmployee",defaultMessage:[{type:0,value:"Должность"}]}),renderCell:e=>(0,u.jsx)("div",{className:Zce,title:e.user.positionName,children:e.user.positionName})}),new DO.Z({key:"user.groupName",width:150,filterable:!0,fixed:!0,renderHeader:()=>s.formatMessage({id:"Common.permissionGroup",defaultMessage:[{type:0,value:"Группа"}]}),renderCell:e=>(0,u.jsx)("div",{className:Zce,title:e.user.groupName,children:e.user.groupName})}),...(()=>{for(var e=[],r=function(){var r=o.format("YYYY-MM-DD");e.push(new DO.Z({hasTitle:!1,key:r,label:"en"===l.value?o.format("MM/DD"):o.format("DD.MM"),width:80,renderCell:e=>(0,u.jsx)("div",{className:me()(["text-align_center",e[r]<t?"context-color_alert":"context-color_inactive ","qgR+uDOmmFo+PScy3HPy-g=="]),children:(0,u.jsx)("span",{children:"number"==typeof e[r]?e[r].toFixed(2):" "})})})),o=o.add(1,"d")};o.unix()<=a.unix();)r();return e})()]};function Gce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Wce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gce(Object(r),!0).forEach((function(t){Uce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vce=e=>{var{intl:t,date:{from:r,to:i},fetchGroupPeriodPunctualityData:n,resetPeriodGroupPunctualityData:a,groupId:o,setGroupPeriodPunctualityDate:l,data:c,downloadPunctualityReportInOutExcel:d,punctualityDetailReportDownloadExcel:p,isVisibleInOut:h}=e,[f,v]=(0,m.useState)({from:r,to:i}),[y,g]=(0,m.useState)(Number(_r.ZP.get(Mce))||95),[b,x]=(0,m.useState)({}),S=(0,s.v9)(Ece),O=(0,s.v9)(Ace),P=ns()(f.from)>ns()(f.to),w=S===Oa.Z.loading||P,C=O===Oa.Z.loading||P,k=(0,m.useCallback)((e=>{g(e),_r.ZP.set(Mce,e)}),[]),T=()=>({groupId:o,from:(0,ft.X5)(f.from),to:(0,ft.X5)((0,ft.Om)(f.to))});return(0,m.useEffect)((()=>()=>{a()}),[a]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l7,{children:[(0,u.jsx)(_ce,{from:f.from,to:f.to,onDateChange:e=>{v(Wce({},e))}}),(0,u.jsx)("label",{className:"inline-block inline-block_middle pl+",children:(0,u.jsx)(J.Z,{id:"Common.threshold",defaultMessage:[{type:0,value:"Порог терпимости"}]})}),(0,u.jsx)("span",{className:"inline-block inline-block_middle",children:(0,u.jsx)(Lce,{max:100,min:0,value:y,onChange:k})}),(0,u.jsxs)(Ae.Z,{onClick:()=>{l(f),n(Wce({groupId:o},f))},disabled:w,children:[(0,u.jsx)(et.ZP,{glyph:et.Du,classCustom:Ice}),(0,u.jsx)(J.Z,{id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]})]}),(0,u.jsxs)(Ae.Z,{onClick:()=>{!function(e,t){var{data:r,from:i,to:s}=e,{byUser:n=[]}=r,a=function(e){var{byDate:t=[]}=e;return Object.keys(t).sort()}(r),o=function(e,t){var r=[t.formatMessage({id:"Common.employeeFullName",defaultMessage:[{type:0,value:"Ф.И.О. сотрудника"}]}),t.formatMessage({id:"Employee.position",defaultMessage:[{type:0,value:"Должность"}]}),t.formatMessage({id:"Common.permissionGroup",defaultMessage:[{type:0,value:"Группа"}]})],i=JSON.parse(Kp.Z.getItem(I.H2));return[...r,...e.map((e=>" ".concat(ns()(e,ft.vc).format("en"===i.value?ft.fw:ft._T)," ")))]}(a,t),l=null==n?void 0:n.map((e=>function(e){var{rowData:t,keys:r}=e,i=(0,ye.Pp)(t.user),{positionName:s,groupName:n}=t.user;return[i,s,n,...r.map((e=>t[e]))]}({rowData:e,keys:a}))),c="data:text/csv;charset=utf-8,\ufeff";c+=[o,...l].map((e=>e.map((e=>{return t=e,Number.isNaN(Number(t))||""===t?e:"number"==typeof e&&100!==e?e.toFixed(2).toString().replace(".",","):" ";var t})).join(";"))).join("\n");var d=encodeURI(c),u=document.createElement("a");u.setAttribute("href",d),u.setAttribute("download","group_period_punctuality(".concat(i," - ").concat(s,").csv")),document.body.appendChild(u),u.click()}({data:c,from:r,to:i},t)},disabled:C,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,classCustom:Ice}),(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})]}),(0,u.jsx)(Ae.Z,{onClick:()=>{p(T())},disabled:C,children:(0,u.jsx)(J.Z,{id:"Reports.uploadDetailsToExcel",defaultMessage:[{type:0,value:"Выгрузить детализацию"}]})}),h&&(0,u.jsx)(Ae.Z,{onClick:()=>{d(T())},children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.inOut",defaultMessage:[{type:0,value:"In / Out"}]})})]}),(0,u.jsx)("div",{className:"_8vzY-qNZobGe9ux9LVQ-5w==",children:(0,u.jsx)(ZS.Z,{data:c&&c.byUser?c.byUser.filter((e=>!(0,j.xb)(e.user))).sort(((e,t)=>{var r=e.user.name.trim().toLowerCase().replace(/^ё/,"е"),i=t.user.name.trim().toLowerCase().replace(/^ё/,"е");return r<i?-1:r>i?1:0})):[],columns:Bce({datepickerValue:f,threshold:y,intl:t}),filters:b,setFilters:x,cellClassName:"EjmtIy5VhD-kyLhq55Z7kg==",classNameBottomRightGrid:"scroll",headerStyle:{paddingLeft:20}})})]})};Vce.defaultProps={data:{}},Vce.propTypes={intl:P.gm.isRequired,setGroupPeriodPunctualityDate:c().func.isRequired,fetchGroupPeriodPunctualityData:c().func.isRequired,resetPeriodGroupPunctualityData:c().func.isRequired,punctualityDetailReportDownloadExcel:c().func.isRequired,downloadPunctualityReportInOutExcel:c().func.isRequired,groupId:c().string.isRequired,isVisibleInOut:c().bool.isRequired,data:c().object,date:c().object.isRequired};const zce=Vce,Yce=(0,o.compose)(v.ZP,(0,s.$j)((e=>({groupId:(0,Y.Wx)(e),data:e.reports.groupPeriodPunctualityReport.data,groupPeriodPunctualityReportDate:up(e),date:cp(e),isVisibleInOut:e.settings.frontendSettings.isVisibleInOutPunctualityReport.value})),{fetchGroupPeriodPunctualityData:Xae.fetchGroupPeriodPunctualityData,setGroupPeriodPunctualityDate:Xae.setGroupPeriodPunctualityDate,resetPeriodGroupPunctualityData:Xae.resetPeriodGroupPunctualityData,downloadPunctualityReportInOutExcel:Xae.downloadPunctualityReportInOutExcel,punctualityDetailReportDownloadExcel:Xae.punctualityDetailReportDownloadExcel}))(zce);class Qce extends m.PureComponent{render(){var{className:e,date:t,userName:r,userPosition:i,scheduleName:s,activities:n=[],dateFormat:a="YYYY-MM-DD",displayDateFormat:o="DD.MM.YYYY",workActivitiesMap:l={}}=this.props,c="table table--info schedule-card";return e&&(c+=" "+e),(0,u.jsxs)("table",{className:c,children:[(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"schedule-card_fixed-cell",children:[ns()(t,a).format(o),(0,u.jsx)("br",{}),ns()(t,a).format("dddd")]}),(0,u.jsxs)("td",{children:[(0,u.jsx)("div",{className:"schedule-card_ellipsis-cell",children:(0,u.jsx)("div",{className:"text-ellipsis",style:{width:"100%"},children:(0,u.jsx)("b",{children:r})})}),(0,u.jsx)("div",{className:"schedule-card_ellipsis-cell",children:(0,u.jsx)("div",{className:"text-ellipsis",style:{width:"100%"},children:i})}),(0,u.jsx)("div",{className:"schedule-card_ellipsis-cell",children:(0,u.jsx)("div",{className:"text-ellipsis",style:{width:"100%"},children:s})})]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"schedule-card_fixed-cell",children:"Время задачи"}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"schedule-card_ellipsis-cell",children:"Отделы"})})]}),n.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{className:"schedule-card_fixed-cell",children:[e.startTime," -",e.endTime]}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"schedule-card_ellipsis-cell",children:(0,u.jsx)("div",{className:"text-ellipsis",style:{width:"100%"},children:l[e.id]?l[e.id].name:""})})})]},e.id||t)))]})}}Qce.defaultProps={className:"",date:"",userName:"",userPosition:"",scheduleName:"",activities:[],dateFormat:"",displayDateFormat:"",workActivitiesMap:{}},Qce.propTypes={className:c().string,date:c().string,userName:c().string,userPosition:c().string,scheduleName:c().string,activities:c().array,dateFormat:c().string,displayDateFormat:c().string,workActivitiesMap:c().object};var Kce,Xce,Jce,$ce="ScheduleCardsReport.positions";class ede extends m.Component{constructor(e){super(e),this.state={selectedPositions:_r.ZP.get($ce)||e.scheduleCardsReportListedPositions,reportParameters:{day:ns()().format(ede.DATE_FORMAT)}}}componentDidMount(){this.props.fetchWorkActivities(),this.props.fetchPositions()}requestReportData(){this.props.fetchADay({groupId:this.props.groupId,day:this.state.reportParameters.day})}render(){var{data:e,workActivities:t,intl:r,positions:i}=this.props,s=(0,u.jsx)(J.Z,{id:"ScheduleCardsReport.positions",defaultMessage:[{type:0,value:"Должности"}]});return(0,u.jsxs)("div",{className:"custom-report schedule-cards-report",children:[(0,u.jsxs)("div",{className:"report-form custom-report__form ph+ pv++",style:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)("label",{className:"inline-block inline-block_middle report-form__label",children:[(0,u.jsx)(J.Z,{id:"Reports.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]}),":"]}),(0,u.jsx)("span",{className:"inline-block inline-block_middle",children:(0,u.jsx)(mt.Z,{date:this.state.reportParameters.day,onChange:e=>{this.setState({reportParameters:{day:e}})},dateFormat:ft.vc})}),(0,u.jsx)(AS.Z,{onClick:()=>this.requestReportData(),title:r.formatMessage({id:"Actions.build"}),children:(0,u.jsx)(qH.Z,{})}),(0,u.jsx)(AS.Z,{onClick:()=>window.print(),title:r.formatMessage({id:"Actions.print"}),children:(0,u.jsx)(oce.Z,{})}),(0,u.jsx)("div",{className:"inline-block inline-block_middle mh",children:(0,u.jsx)(xZ.Z,{floatingLabelText:s,value:this.state.selectedPositions,onChange:(e,t,r)=>{this.setState({selectedPositions:r}),_r.ZP.set($ce,r)},autoWidth:!0,multiple:!0,children:i.map((e=>e.name)).map((e=>(0,u.jsx)(cZ.Z,{value:e,checked:this.state.selectedPositions.includes(e),insetChildren:!0,primaryText:e},e)))})})]}),(0,u.jsx)("div",{className:"custom-report__content scrollbar",children:e&&e.filter((e=>e.date&&e.activities&&this.state.selectedPositions.includes(e.userPosition))).sort(((e,t)=>e.activities.length<t.activities.length?-1:1)).map(((e,r)=>[(0,u.jsx)(Qce,{className:"table--condensed",date:e.date,activities:e.activities,userPosition:e.userPosition,scheduleName:"Смена: ".concat(e.period),userName:e.userName,workActivitiesMap:t},e.id||r),(r+1)%3==0?(0,u.jsx)("div",{className:"page-break"}):null]))})]})}}Kce=ede,Jce="YYYY-MM-DD",(Xce=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(Xce="DATE_FORMAT"))in Kce?Object.defineProperty(Kce,Xce,{value:Jce,enumerable:!0,configurable:!0,writable:!0}):Kce[Xce]=Jce,ede.defaultProps={data:[]},ede.propTypes={scheduleCardsReportListedPositions:c().array.isRequired,fetchWorkActivities:c().func.isRequired,fetchPositions:c().func.isRequired,fetchADay:c().func.isRequired,groupId:P.K5.isRequired,data:c().array,workActivities:c().array.isRequired,intl:P.gm.isRequired,positions:c().array.isRequired};var tde=(0,o.compose)(v.ZP,(0,s.$j)((e=>({data:e.graph.daysData,frontendSettings:e.settings.frontendSettings,workActivities:pn,positions:e.settings.positions,scheduleCardsReportListedPositions:e.settings.frontendSettings.scheduleCardsReportListedPositions.value})),{fetchADay:da.fetchADay,fetchWorkActivities:Sa.fetchWorkActivities,fetchPositions:AF.fetchPositions}))(ede);function rde(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ide extends m.Component{constructor(){super(...arguments),rde(this,"heightBlocksAboveTable",213),rde(this,"heightBlocksAboveTableWithHeader",258),rde(this,"state",{date:this.props.match.params.date||this.props.reportDate||(0,ft.zO)(),clientHeight:document.documentElement.clientHeight,clientWidth:document.documentElement.clientWidth})}componentDidMount(){window.addEventListener("resize",(()=>{this.setState({clientHeight:document.documentElement.clientHeight}),this.setState({clientWidth:document.documentElement.clientWidth})}),!1)}getDayColumns(){return[new DO.Z({label:(0,u.jsx)(J.Z,{id:"Graph.positionEmployee",defaultMessage:[{type:0,value:"Должность"}]}),key:"userPosition",width:170,filterable:!0,hasTitle:!1,sortable:!0,fixed:!0,headerClassName:Sce.firstHeaderCell,leftOffset:"0px",renderCell:e=>{var{userPosition:t}=e,r=(t||"").substring(0,30);return(0,u.jsx)("div",{className:Sce.centeredCellWrapper,title:t,children:(0,u.jsx)("p",{className:Sce.firstCenteredCell,children:r})})}}),new DO.Z({label:(0,u.jsx)(J.Z,{id:"Graph.nameEmployee",defaultMessage:[{type:0,value:"ФИО сотрудника"}]}),key:"userName",filterable:!0,hasTitle:!1,fixed:!0,sortable:!0,width:185,headerClassName:Sce.firstHeaderCell,leftOffset:"103px",renderCell:e=>(0,u.jsx)("div",{style:{width:"180px",paddingLeft:20},className:Sce.centeredCellWrapper,title:e.userName,children:e.isGroupItem?e.date.split("-").reverse().join("."):e.userName})}),new DO.Z({label:"",key:"activities",sortable:!0,hasTitle:!1,width:1e3,getValue:e=>{var t;if((null===(t=e.activities)||void 0===t?void 0:t.length)>0){var r=e.activities.find((e=>e.workActivityId!==x.ZP.EMPTY_WORK_ACTIVITY_ID));return(0,j.xb)(r)?x.ZP.END_OF_TIME:r.start}return x.ZP.END_OF_TIME},renderHeader:()=>(0,u.jsx)("div",{className:"pt",style:{width:"1000px",paddingRight:"0px"},children:(0,u.jsx)("div",{className:"disable-selection",style:{position:"relative",height:"30px"},children:(0,u.jsx)(Um,{hoursCount:24,showHours:!0})})}),renderCell:e=>{var t={width:"1000px",overflow:"hidden",height:45};e.isGroupHeader&&(t.pointerEvents="none");var r=ns()(this.state.date,ft._E).startOf("day").unix(),i=e.activities||[];return(0,u.jsxs)("div",{className:"graph-table__interval-wrap",style:t,children:[(0,u.jsx)("div",{style:{position:"relative",zIndex:101},children:(0,u.jsx)($a,{startSecond:r,endSecond:r+86400,step:300,heightInPixels:43,readonly:!0,activities:i,onChange:O.wA})}),(0,u.jsx)("div",{className:"day-data-overlay__container click-through",style:{width:this.TABLE_WIDTH-this.TABLE_RIGHT_PADDING-this.TABLE_LEFT_PADDING},children:(0,u.jsx)("div",{className:"day-data-overlay__wrapper",children:(0,u.jsx)(Um,{hoursCount:24,style:{padding:0,margin:0}})})})]})}})]}requestReportData(){var{groupId:e,setDayGraphReportDate:t,fetchDayGraphReportData:r,fetchDayGraphReportGroupSchedule:i}=this.props,{date:s}=this.state,n={groupId:e,from:ns()(s,ft._E).startOf("day").format(ft._E),to:ns()(s,ft._E).startOf("day").add(1,"day").format(ft._E)};t(s),r(n,(()=>{i(n)}))}render(){var{data:e,filters:t,setDayGraphReportFilter:r}=this.props,{date:i,clientHeight:s,clientWidth:n}=this.state,a=s-this.heightBlocksAboveTableWithHeader,o=s-this.heightBlocksAboveTableWithHeader+15,l=n<1369?a:o;return(0,u.jsx)("div",{className:"custom-report",children:(0,u.jsxs)("div",{className:"custom-report__container",children:[(0,u.jsxs)("div",{className:"report-form custom-report__form ph+ pv++",children:[(0,u.jsx)("label",{className:"inline-block inline-block_middle report-form__label",children:(0,u.jsx)(J.Z,{id:"GraphReport.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]})}),(0,u.jsx)("span",{className:"mh+",children:(0,u.jsx)(mt.Z,{date:i,onChange:e=>this.setState({date:e}),dateFormat:ft.vc})}),(0,u.jsx)("button",{className:"button button--bg-blue inline-block_middle",onClick:()=>this.requestReportData(),type:"button",children:(0,u.jsx)(J.Z,{id:"GraphReport.build",defaultMessage:[{type:0,value:"Сформировать"}]})}),(0,u.jsx)("button",{type:"button",className:"ml+ button button--bg-blue inline-block_middle",onClick:()=>window.print(),children:(0,u.jsx)(J.Z,{id:"GraphReport.print",defaultMessage:[{type:0,value:"Печать"}]})})]}),e&&(0,u.jsx)("div",{className:me()("scroll","custom-report__content")&&Sce.tableLayout,children:(0,u.jsx)(VP.ZP,{data:e,cellClassName:Sce.cell,classNameTopLeftGrid:Sce.leftHeader,rowHeight:45,columns:this.getDayColumns(),columnsAutoWidth:!0,onCellClick:this.handleCellClick,hideSortDirectionNumber:!0,height:s-this.heightBlocksAboveTable,setFilter:r,filters:t,leftSideBottomStyle:{height:l}})})]})})}}ide.defaultProps={data:[],date:"",reportDate:"",match:{}},ide.propTypes={data:c().array,date:c().string,reportDate:c().string,match:c().object,groupId:c().string.isRequired,setDayGraphReportDate:c().func.isRequired,fetchDayGraphReportData:c().func.isRequired,fetchDayGraphReportGroupSchedule:c().func.isRequired,setDayGraphReportFilter:c().func.isRequired,filters:c().object.isRequired};const sde=ide;function nde(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ade(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ode=(0,o.compose)(v.ZP,y.EN,(0,s.$j)((e=>({data:Object.values(sp(e)).sort((0,X.hM)("userName")),groupId:(0,Y.Wx)(e),reportDate:np(e),filters:Xu(e)})),{setDayGraphReportDate:Xae.setDayGraphReportDate,setDayGraphReportFilter:Xae.setDayGraphReportFilter,fetchDayGraphReportData:Xae.fetchDayGraphReportData,fetchDayGraphReportGroupSchedule:Xae.fetchDayGraphReportGroupSchedule}))(sde);new _oe({name:(0,u.jsx)(J.Z,{id:"Reports.workScheduleDay",defaultMessage:[{type:0,value:"График рабочего времени (сутки)"}]}),id:"DayGraphReport",hasAccess:e=>!0===e.settings.frontendSettings.dayGraphReportAvailable.value,custom:!0,component:e=>(0,u.jsx)(ode,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nde(Object(r),!0).forEach((function(t){ade(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nde(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))});var lde=e=>ns()(e,ft._E).format(ft.vc);function cde(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dde extends m.PureComponent{constructor(){super(...arguments),cde(this,"componentStyle",{alignItems:"baseline",marginBottom:"10px",marginRight:"20px"}),cde(this,"handleDateChange",(e=>{this.props.onChange(e)}))}render(){return(0,u.jsxs)("div",{className:"flex-container",style:this.componentStyle,children:[(0,u.jsx)("div",{className:"flex-item_flexible mr",children:this.props.label}),(0,u.jsx)(mt.Z,{date:this.props.date,onChange:this.handleDateChange,dateFormat:ft.vc})]})}}dde.defaultProps={date:""},dde.propTypes={label:c().any.isRequired,onChange:c().func.isRequired,date:c().string};const ude=dde;function pde(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hde=(0,u.jsx)(J.Z,{id:"Common.start",defaultMessage:[{type:0,value:"Начало"}]}),fde=(0,u.jsx)(J.Z,{id:"Common.end",defaultMessage:[{type:0,value:"Окончание"}]}),mde=(0,u.jsx)(J.Z,{id:"Calendar.displayPeriod",defaultMessage:[{type:0,value:"Период отображения"}]});class vde extends m.PureComponent{constructor(){super(...arguments),pde(this,"handleStartChange",(e=>{this.props.onChange({from:e,to:this.props.period.to})})),pde(this,"handleEndChange",(e=>{this.props.onChange({from:this.props.period.from,to:e})}))}render(){var e=me()({"flex-container":this.props.isHorizontal});return(0,u.jsxs)("div",{className:Jre.n,children:[(0,u.jsxs)("h2",{className:"".concat(Jre.n,"__h2"),children:[(0,u.jsx)(et.ZP,{glyph:Ty.Z.id}),this.props.label]}),(0,u.jsxs)("div",{className:e,children:[(0,u.jsx)(ude,{label:hde,date:this.props.period.from,onChange:this.handleStartChange}),(0,u.jsx)(ude,{label:fde,date:this.props.period.to,onChange:this.handleEndChange})]})]})}}vde.propTypes={label:c().any,period:c().shape({from:c().string.isRequired,to:c().string.isRequired}).isRequired,isHorizontal:c().bool,onChange:c().func.isRequired},vde.defaultProps={label:mde,isHorizontal:!1};const yde=vde;class gde extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>this.props.onChange(e)))}render(){var{employees:e,value:t,dataSourceConfig:r}=this.props,i=e.sort((0,X.hM)("name"));return(0,u.jsxs)("div",{className:"period-picker",children:[(0,u.jsxs)("h2",{className:"period-picker__h2",children:[(0,u.jsx)(et.ZP,{glyph:et.tB}),this.props.label]}),(0,u.jsx)("div",{className:"subtext",style:{paddingTop:"3px"},children:(0,u.jsx)(J.Z,{id:"UserPicker.wagesCountedOnlyByEmployees.",defaultMessage:[{type:0,value:"Заработная плата считается только у сотрудников"}]})}),(0,u.jsx)(Gl.Z,{dataSource:i,values:t,onChange:this.handleChange,dataSourceConfig:r,dropDownHeight:200,notClearSearchField:!0,returnObjValue:!0,classContainer:"QQnbk1np9eSTnqH7Bey1Zg=="})]})}}gde.propTypes={label:c().oneOfType([c().string,c().node]).isRequired,value:c().array,employees:c().array.isRequired,onChange:c().func.isRequired,dataSourceConfig:c().object},gde.defaultProps={value:[],dataSourceConfig:{text:"name",value:"id"}};const bde=gde;function jde(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xde(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jde(Object(r),!0).forEach((function(t){Sde(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jde(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sde(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ode extends m.PureComponent{constructor(){super(...arguments),Sde(this,"periodPickerLabel",(0,u.jsx)(J.Z,{id:"Calendar.displayPeriod"})),Sde(this,"userPickerLabel",(0,u.jsx)(J.Z,{id:"ScheduleChanges.users"})),Sde(this,"handlePeriodChange",(e=>{this.props.onChange(xde(xde({},this.props.value),e))})),Sde(this,"handleUsersListChange",(e=>{var t=e.map((e=>e.id));this.props.onChange(xde(xde({},this.props.value),{},{userIds:t}))})),Sde(this,"handleApply",(()=>{this.props.onApply()}))}render(){var e=(0,u.jsx)(J.Z,{id:"Common.show",defaultMessage:[{type:0,value:"Показать"}]});return(0,u.jsx)("div",{className:"container with-divider",children:(0,u.jsx)("div",{className:"pb+",children:(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)("div",{className:"flex-item_fixed",style:{marginRight:"80px"},children:(0,u.jsx)(yde,{onChange:this.handlePeriodChange,period:this.props.value,label:this.periodPickerLabel})}),(0,u.jsx)("div",{className:"flex-item_flexible",children:(0,u.jsx)("div",{children:(0,u.jsx)(bde,{employees:this.props.employees,onChange:this.handleUsersListChange,label:this.userPickerLabel,value:this.props.value.userIds})})}),(0,u.jsx)("div",{className:"flex-container flex-container_align-items-flex-end",children:(0,u.jsx)(Ge.Z,{caption:e,onClick:this.handleApply,disabled:this.props.isLoading})})]})})})}}Ode.defaultProps={isLoading:!1},Ode.propTypes={value:c().shape({from:c().string.isRequired,to:c().string.isRequired,userIds:c().array.isRequired}).isRequired,onChange:c().func.isRequired,employees:c().array.isRequired,onApply:c().func.isRequired,isLoading:c().bool};const Pde=Ode;class wde extends m.PureComponent{render(){var{positionName:e,workActivityName:t,period:r,hours:i,hourlyWage:s,salary:n}=this.props.data;if(!i)return null;var{salaryCounted:a}=this.props;return(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[e," ",(0,u.jsx)("span",{children:"|"}),t]}),(0,u.jsx)("td",{children:r}),(0,u.jsx)("td",{className:"number-value",children:i}),a&&(0,u.jsx)("td",{className:"number-value",children:s}),a&&(0,u.jsx)("td",{className:"number-value",children:n})]})}}wde.propTypes={data:c().shape({positionName:c().string,workActivityName:c().string,period:c().string,hours:c().number,hourlyWage:c().number,salary:c().number}).isRequired,salaryCounted:c().bool.isRequired};const Cde=wde;class kde extends m.PureComponent{render(){var{fullName:e,hoursTotal:t,salaryTotal:r,rulesResults:i,salaryCounted:s}=this.props;return t?(0,u.jsxs)("div",{className:"report-item",children:[(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("h2",{children:e})}),(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsxs)("th",{children:[(0,u.jsx)(J.Z,{id:"Common.position",defaultMessage:[{type:0,value:"Должность"}]}),(0,u.jsx)("span",{children:" | "}),(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.Activity",defaultMessage:[{type:0,value:"Активность"}]})]}),(0,u.jsx)("th",{children:(0,u.jsx)(J.Z,{id:"Manager.Schedule.Request.Period",defaultMessage:[{type:0,value:"Период"}]})}),(0,u.jsx)("th",{className:"number-value",children:(0,u.jsx)(J.Z,{id:"Reports.accountingTime",defaultMessage:[{type:0,value:"Время (ч.)"}]})}),s&&(0,u.jsx)("th",{className:"number-value",children:(0,u.jsx)(J.Z,{id:"Reports.hour",defaultMessage:[{type:0,value:"₽/час"}]})}),s&&(0,u.jsx)("th",{className:"number-value",children:(0,u.jsx)(J.Z,{id:"Reports.sum",defaultMessage:[{type:0,value:"Сумма (₽)"}]})})]})}),(0,u.jsx)("tbody",{children:i.map((e=>(0,u.jsx)(Cde,{data:e,salaryCounted:s},e.accountingRuleId)))}),(0,u.jsx)("tfoot",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:(0,u.jsx)(J.Z,{id:"Common.total",defaultMessage:[{type:0,value:"Итог"}]})}),(0,u.jsx)("td",{className:"number-value",children:t}),s&&(0,u.jsx)("td",{}),s&&(0,u.jsx)("td",{className:"number-value",children:r})]})})]})]}):null}}kde.defaultProps={salaryCounted:!1,fullName:""},kde.propTypes={fullName:c().string,hoursTotal:c().number.isRequired,salaryTotal:c().number.isRequired,rulesResults:c().array.isRequired,salaryCounted:c().bool};const Tde=kde;class Nde extends m.PureComponent{render(){return this.props.loading?(0,u.jsx)(Z.Z,{}):(0,u.jsx)("div",{className:"report-body",children:this.props.usersAccounting.sort((0,X.hM)("fullName")).map(((e,t)=>(0,u.jsx)(Tde,{userId:e.userId,fullName:e.fullName,rulesResults:e.rulesResults,hoursTotal:e.hoursTotal,salaryTotal:e.salaryTotal,salaryCounted:this.props.salaryCounted},t)))})}}Nde.defaultProps={loading:!1,salaryCounted:!1},Nde.propTypes={usersAccounting:c().arrayOf(c().shape({userId:c().string.isRequired,fullName:c().string.isRequired,rulesResults:c().array.isRequired,hoursTotal:c().number,salaryTotal:c().number})).isRequired,salaryCounted:c().bool,loading:c().bool};const Rde=Nde;var Ede=(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]}),Dde=(0,u.jsx)(et.ZP,{glyph:et.UW});class Ade extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleExporToExcelResponse",(()=>{this.props.onExportToExcelResponse()}))}render(){return(0,u.jsx)("div",{className:"bottom-panel shadow-box",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(Ge.Z,{type:"transparent",caption:Ede,onClick:this.handleExporToExcelResponse,icon:Dde})})})}}Ade.propTypes={onExportToExcelResponse:c().func.isRequired};const Mde=Ade;function Ide(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Zde(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ide(Object(r),!0).forEach((function(t){qde(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ide(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qde(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fde extends m.PureComponent{constructor(){super(...arguments),qde(this,"state",{filterData:{userIds:[],from:lde(this.props.date.from),to:lde(this.props.date.to)}}),qde(this,"withGroupId",(e=>Zde(Zde({},e),{},{permissionGroupId:this.props.permissionGroupId}))),qde(this,"handleFilterChange",(e=>{this.setState({filterData:e})})),qde(this,"handleFilterApply",(()=>{var{setAccountingReportDate:e,fetchAccountingReportData:t}=this.props,{filterData:{userIds:r,from:i,to:s}}=this.state;e({from:i,to:s}),t(this.withGroupId({userIds:r,from:lde(i),to:lde(s)}))})),qde(this,"handleExportToExcelResponse",(()=>{this.props.accountingReportDownloadExcel(this.withGroupId(this.state.filterData))}))}componentDidMount(){this.props.fetchEmployees({id:this.props.permissionGroupId})}UNSAFE_componentWillReceiveProps(e){e.permissionGroupId!==this.props.permissionGroupId&&this.props.fetchEmployees({id:e.permissionGroupId})}render(){var{loading:e,accountingReportData:{usersAccounting:t=[],salaryCounted:r}}=this.props;return(0,u.jsxs)("div",{className:"accounting-report",children:[(0,u.jsx)(Pde,{onChange:this.handleFilterChange,onApply:this.handleFilterApply,employees:this.props.employees,value:this.state.filterData,isLoading:e}),(0,u.jsx)(Rde,{usersAccounting:t,loading:e,salaryCounted:r}),(0,u.jsx)(Mde,{onExportToExcelResponse:this.handleExportToExcelResponse})]})}}Fde.defaultProps={loading:!1},Fde.propTypes={fetchAccountingReportData:c().func.isRequired,permissionGroupId:c().string.isRequired,accountingReportData:c().object.isRequired,employees:c().array.isRequired,fetchEmployees:c().func.isRequired,accountingReportDownloadExcel:c().func.isRequired,setAccountingReportDate:c().func.isRequired,date:c().object.isRequired,loading:c().bool};const Lde=Fde;function Hde(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bde=(0,o.compose)(v.ZP,(0,s.$j)((e=>({permissionGroupId:(0,Y.Wx)(e),accountingReportData:dp(e),employees:bp(e),isLoading:pp(e),date:op(e)})),{fetchAccountingReportData:Xae.fetchAccountingReportData,fetchEmployees:dy.fetchEmployees,accountingReportDownloadExcel:Xae.accountingReportDownloadExcel,setAccountingReportDate:Xae.setAccountingReportDate}))(Lde);new _oe({name:"Расчет заработной платы",id:"AccountingReport",hasAccess:e=>(e=>"true"===e.settings.globalSettings[Fu.dv])(e),custom:!0,component:e=>(0,u.jsx)(Bde,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hde(Object(r),!0).forEach((function(t){_de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hde(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))});var Gde=e=>{var{onChange:t,value:r,disabled:i}=e,s=(0,er.Z)(),n=(0,Kae.KM)(s.formatMessage);return(0,u.jsx)(yj.Z,{onChange:t,dataSource:n,value:r,disabled:i,classContainer:"m6l3t8ZvCKwvci9Ye5HnCA=="})};Gde.defaultProps={disabled:!1},Gde.propTypes={onChange:c().func.isRequired,value:c().number.isRequired,disabled:c().bool};const Wde=Gde;var Ude=e=>{var{onChange:t,value:r,disabled:i}=e,s=(0,Kae.wG)(r);return(0,u.jsx)(yj.Z,{onChange:t,dataSource:s,value:r,disabled:i,classContainer:"cP8MVZpZDSi-MzS0H-LGpQ=="})};Ude.defaultProps={disabled:!1},Ude.propTypes={onChange:c().func.isRequired,value:c().number.isRequired,disabled:c().bool};const Vde=Ude,zde=()=>{var e=(0,s.v9)(Ju),t=(0,s.I0)(),r=(0,s.v9)(Y.Wx),i=(0,s.v9)(hp),n=(0,s.v9)(fp),a=ns()(e,ft.ch).month(),o=ns()(e,ft.ch).year();return(0,u.jsxs)("div",{className:"yO8Mz5OxuDEvUevPdvNRsg==",children:[(0,u.jsx)("div",{className:"utdGhoN3VRYK5U86MzGpAQ==",children:(0,u.jsx)(Wde,{onChange:r=>{var i=ns()(e,ft.ch).month(r).format(ft.ch);t((0,Xae.setFactPlanReportDatePeriod)(i))},value:a,disabled:i})}),(0,u.jsx)("div",{className:"HRIb34LYLEJzE+nE-SXblw==",children:(0,u.jsx)(Vde,{onChange:r=>{var i=ns()(e,ft.ch).year(r).format(ft.ch);t((0,Xae.setFactPlanReportDatePeriod)(i))},value:o,disabled:i})}),(0,u.jsx)(Ae.Z,{onClick:()=>window.print(),className:"_3f7eZEhzL7ITXGUH6maDOg==",children:(0,u.jsx)(J.Z,{id:"T13Report.print",defaultMessage:[{type:0,value:"Печать"}]})}),(0,u.jsx)("div",{children:(0,u.jsxs)(Ae.Z,{onClick:()=>{t((0,Xae.pepReportDownloadExcel)({groupId:r,month:e}))},disabled:n,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,classCustom:$oe}),(0,u.jsx)(J.Z,{id:"Common.uploadReport",defaultMessage:[{type:0,value:"Выгрузить отчет"}]})]})}),(0,u.jsx)("div",{className:"WbUF-niWZVx8G+nSno071g==",children:(0,u.jsx)(J.Z,{id:"Reports.unitOfMeasurement",defaultMessage:[{type:0,value:"Единицы измерения — человеко-часы"}]})})]})};var Yde=e=>(0,j.xb)(e)?[]:(0,j.xb)(e.childrenReportList)?[e]:(0,j.xb)(e.childrenReportList)||e.childrenReportList[0].key.groupId?[e,...e.childrenReportList]:[e],Qde=e=>e.map((e=>e.key)),Kde=e=>e.map((e=>e.reportData)),Xde=(0,u.jsx)(J.Z,{id:"Reports.branch",defaultMessage:[{type:0,value:"Филиал"}]}),Jde=(0,u.jsx)(J.Z,{id:"Reports.needHours",defaultMessage:[{type:0,value:"Потребность"}]}),$de=(0,u.jsx)(J.Z,{id:"Reports.factHours",defaultMessage:[{type:0,value:"Факт часы"}]}),eue=(0,u.jsx)(J.Z,{id:"Reports.deltaNeed",defaultMessage:[{type:0,value:"Дельта потр."}]}),tue=(0,u.jsx)(J.Z,{id:"Reports.autoPlan",defaultMessage:[{type:0,value:"Авт. План"}]}),rue=(0,u.jsx)(J.Z,{id:"Reports.scheduleTotal",defaultMessage:[{type:0,value:"График итог"}]}),iue=(0,u.jsx)(J.Z,{id:"ManagerForm.biometry",defaultMessage:[{type:0,value:"Биометрия"}]}),sue=(0,u.jsx)(J.Z,{id:"Reports.deltaHours",defaultMessage:[{type:0,value:"Дельта часы"}]}),nue=(0,u.jsx)(J.Z,{id:"NotificationRules.violation",defaultMessage:[{type:0,value:"Нарушение"}]}),aue={id:"Reports.needHoursTitle",defaultMessage:"Потребность в часах по прогнозу по всем навыкам"},oue={id:"Reports.factHoursTitle",defaultMessage:"Факт в часах по всем навыкам"},lue={id:"Reports.deltaNeedTitle",defaultMessage:"Потребность минус Факт (в часах)"},cue={id:"Reports.autoPlanTitle",defaultMessage:"Количество часов по автопланированию (Все часы)"},due={id:"Reports.scheduleTotalTitle",defaultMessage:"Количество часов после редакции управляющего (он же Т13)"},uue={id:"Reports.biometryTitle",defaultMessage:"Присутствие между отметками пришел и ушел. Сумма в часах"},pue={id:"Reports.deltaHoursTitle",defaultMessage:"Автопланирование минус фактический итоговый график"},hue={id:"Reports.violationTitle",defaultMessage:"Присутствие (Биометрия) минус факт (График итог)"},fue={id:"Reports.activityTitle",defaultMessage:"Сумма часов в данной активности"};const mue="z3NeLhsL0im8NjwW6mOWJQ==",vue="+53JiHnukRjro-tvCVll3Q==";function yue(e){switch(e.status){case"DECLINED":return(0,u.jsx)("span",{className:"application-status-description_rejected",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationsList.reject",defaultMessage:[{type:0,value:"Отклонено"}]})});case"NOT_APPROVED":return(0,u.jsx)("span",{className:"application-status-description_pending",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationsList.underConsideration",defaultMessage:[{type:0,value:"На рассмотрении"}]})});case"APPROVED":return(0,u.jsx)("span",{className:"application-status-description_approved",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationsList.approved",defaultMessage:[{type:0,value:"Одобрено"}]})});default:return null}}var gue=(0,u.jsx)(J.Z,{id:"OperatorApplicationsList.date",defaultMessage:[{type:0,value:"Дата"}]}),bue=(J.Z,J.Z,J.Z,J.Z,"virtualized-table__header-cell"),jue=(me()("virtualized-table__first-header-cell flex-container",mue),r(86613)),xue=r(49078),Sue=e=>{var{onRequestClose:t,filter:r,onChangeFilter:i,column:s,data:n,sortDirection:a}=e,o=(0,er.Z)(),{key:l,formattedFilterValue:c}=s,d=0===Object.keys(r).length,p=o.formatMessage({id:"Common.find",defaultMessage:[{type:0,value:"Поиск"}]}),h={text:s.text,value:s.key},f=(0,jo.y)(r),[v,y]=(0,m.useState)((0,jo.zW)(f)),[g,b]=(0,m.useState)(n),[x,S]=(0,m.useState)(""),O=g.filter((e=>!(0,j.xb)(e[l]))).sort(((e,t)=>(String(e[l]).toLowerCase()>String(t[l]).toLowerCase()?1:-1)*a)),P=Object.keys(v);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"table-filter__header",children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:t,classContainer:"table-filter__close-button"})}),(0,u.jsx)("div",{className:"table-filter__tool-bar",children:(0,u.jsx)(jue.Z,{disabled:d,onClear:()=>{y({}),i({},s),t()}})}),(0,u.jsx)("div",{children:(0,u.jsx)(hn.Z,{value:x,onChange:e=>{S(e),b((e=>n.filter((e=>null!==e[s.text])).filter((t=>!(0,j.xb)(t[s.text])&&t[s.text].toLowerCase().includes(e.toLowerCase()))))(e))},className:xue.Z.searchField,placeholder:p})}),(0,u.jsx)(Hx.Z,{dataSource:O,dataSourceConfig:h,values:P,onChange:e=>{var t=(0,jo.zW)(e);y(t)},formattedFilterValue:c}),(0,u.jsx)("div",{className:xue.Z.saveFilterBtn,children:(0,u.jsx)(Ge.Z,{onClick:()=>{var e={[jo.Gl.EQUALS]:v};i(e,s),t()},type:"transparent",caption:H_})})]})};Sue.defaultProps={filter:[],sortDirection:0},Sue.propTypes=_()({column:c().object.isRequired,data:c().array.isRequired,onRequestClose:c().func.isRequired,onChangeFilter:c().func.isRequired,filter:c().array,sortDirection:c().number});const Oue=Sue;function Pue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pue(Object(r),!0).forEach((function(t){Cue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kue=e=>{var{style:t,column:r,data:i,filters:s,sortDirection:n,columnIndex:a,onSortChange:o,sortIndex:l,onChangeFilter:c,onChangeFilters:d}=e,p=(0,m.useRef)(null),[h,f]=(0,m.useState)(!1),v=s[r.key],y=1===n?(0,u.jsx)(et.ZP,{glyph:et.Lx}):(0,u.jsx)(et.ZP,{glyph:et.Mx}),g=()=>{f(!1)};return(0,u.jsxs)("div",{ref:p,style:wue(wue({},t),{},{width:r.calculatedWidth}),children:[(0,u.jsx)("div",{className:"flex-container flex-container_align-items-center "+(r.headerClassName||""),style:wue({height:t.height,overflow:"hidden"},r.headerCellStyle),children:(0,u.jsxs)("div",{className:"virtualized-table__filter-bar",children:[r.filterable&&(0,u.jsx)("div",{className:"flex-item_fixed",children:(0,u.jsx)(Ae.Z,{onClick:()=>{f(!0)},active:v,children:(0,u.jsx)(et.ZP,{glyph:et.wn})})}),r.sortable&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Ae.Z,{onClick:()=>o(a),active:0!==n,children:0===n?(0,u.jsx)(et.ZP,{glyph:et.fz}):y}),(0,u.jsx)("span",{className:"virtualized-table__sort-index-badge",children:0!==l?l:""})]})]})}),(0,u.jsx)(Ns.ZP,{open:h,anchorEl:p.current,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,u.jsx)("div",{className:"table-filter",children:(0,u.jsx)(Oue,{data:i,onRequestClose:g,sortDirection:n,column:r,onChangeFilter:e=>{var t=(0,dse.M7)(e,r,s);c(e,r),d(t)},filter:v})})})]})};kue.propTypes={style:c().object,column:c().object,filters:c().object.isRequired,sortDirection:c().oneOf([-1,0,1]),columnIndex:c().number,data:c().arrayOf(c().object).isRequired,onSortChange:c().func,sortIndex:c().number,onChangeFilter:c().func,onChangeFilters:c().func},kue.defaultProps={onChangeFilter:O.wA,onChangeFilters:O.wA,style:{},sortIndex:null,onSortChange:null,columnIndex:null,sortDirection:null,column:{}};const Tue=(0,m.memo)(kue);function Nue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Rue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nue(Object(r),!0).forEach((function(t){Eue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Eue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Due={position:"sticky",top:-.52,background:"white",zIndex:11},Aue={position:"sticky",left:0,top:-.52,background:"white",zIndex:12,boxShadow:"5px 5px 10px rgba(0, 0, 0, 0.10)"},Mue=e=>{var t,{pepSettingsMap:r}=e,i=(0,s.v9)($u),{IS_WATCHING_ACTIVITY_ENABLE:n}=(0,s.v9)(B.Tv),o="true"===n&&!(0,j.xb)(null==i||null===(t=i.reportData)||void 0===t?void 0:t.watchingActivityTotalDurations),l=(0,s.v9)(hp),c=(0,er.Z)(),[d,p]=(0,m.useState)(Yde(i)),[h,f]=(0,m.useState)([]),[v,y]=(0,m.useState)([]),[g,b]=(0,m.useState)({}),x=(0,Kae.KM)(c.formatMessage);if((0,m.useEffect)((()=>{(0,j.xb)(i)||p(Yde(i))}),[i]),(0,j.xb)(i)||l)return(0,u.jsx)(Z.Z,{});var S,P=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=Object.keys(t).reduce(((e,i)=>[...e,...Object.keys(t[i]).reduce(((e,t)=>[...e,{[i]:t,column:r}]),[])]),[]),n=Rue(Rue({},g),{},{[r.key]:s.length?s:void 0}),a=(0,jo.K2)(Qde(Yde(i)),n),o=null!==(e=n[r.key])&&void 0!==e&&e.length?((e,t)=>{var r=(0,O.eL)(e,"groupId");return t.filter((e=>r[e.key.groupId]))})(a,Yde(i)):Yde(i);p(o),b(n)},w=e=>{var t=v.find((t=>t.column.key===e.key)),r=t?t.direction:0,s=v.indexOf(t)+1;return(0,u.jsx)(Tue,{data:Kde(Yde(i)),column:e,filters:g,sortIndex:s,columnIndex:e.columnIndex,sortDirection:r,onSortChange:()=>(e=>{var t=[...v],r=t.find((t=>t.column.key===e.key));r?1===r.direction?r.direction=-1:t=t.filter((t=>t.column.key!==e.key)):t.push({direction:1,column:e}),y(t);var i=(e=>{var t=new Intl.Collator,[r]=d.splice(0,1);return d.sort(((r,i)=>{for(var s,n=0,a=e[n];void 0===s&&a;){var o=a.column.key==="watchingActivityTotalDurationsHours"+a.column.columnIndex,l=o?r.reportData.watchingActivityTotalDurationsHours[a.column.objectSortValue]:r.reportData[a.column.key],c=o?i.reportData.watchingActivityTotalDurationsHours[a.column.objectSortValue]:i.reportData[a.column.key];l!==c?s="number"==typeof l&&"number"==typeof c?(1===a.direction?l>c:l<c)?1:-1:t.compare(l,c)*a.direction:(n++,a=e[n])}return void 0===s?0:s})),[r,...d]})(t);p(i)})(e),onChangeFilter:P})},C=e=>{var t=(0,W7.G)(c.formatMessage)[ns()(e,ft.vc).weekday()],r=ns()(e,ft.vc).format(ft.pz);return"".concat(t," ").concat(r)};return(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"oEcB+fcTdKFZCRbYziHLWg==",children:[(0,u.jsx)("th",{style:Aue,className:"rvfoowuHrCYtYouROlp4Zg==",children:(0,u.jsxs)("div",{className:ele,children:[Xde,(S={key:"groupId",text:"name",filterable:!0,getValue:O.wA,columnIndex:1},(0,u.jsx)(Tue,{data:Qde(Yde(i)),column:S,filters:g,onChangeFilter:P}))]})}),(0,u.jsx)("th",{style:Due,className:"idPDgJEzwl1gS-Yob4cQUg==",children:gue}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(aue),className:tle,children:(0,u.jsxs)("div",{className:ele,children:[Jde,w({key:"totalFteForecast",text:"key",sortable:!0,getValue:O.wA,columnIndex:2})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(oue),className:rle,children:(0,u.jsxs)("div",{className:ele,children:[$de,w({key:"totalFteActual",text:"key",sortable:!0,getValue:O.wA,columnIndex:3})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(lue),className:ile,children:(0,u.jsxs)("div",{className:ele,children:[eue,w({key:"complement",text:"key",sortable:!0,getValue:O.wA,columnIndex:4})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(cue),className:sle,children:(0,u.jsxs)("div",{className:ele,children:[tue,w({key:"planDayWorkTotalDurationHours",text:"key",sortable:!0,getValue:O.wA,columnIndex:5})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(due),className:nle,children:(0,u.jsxs)("div",{className:ele,children:[rue,w({key:"factDayWorkTotalDurationHours",text:"key",sortable:!0,getValue:O.wA,columnIndex:6})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(pue),className:ole,children:(0,u.jsxs)("div",{className:ele,children:[sue,w({key:"durationDeltaHours",text:"key",sortable:!0,getValue:O.wA,columnIndex:8})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(uue),className:ale,children:(0,u.jsxs)("div",{className:ele,children:[iue,w({key:"totalBiometricPresenceHours",text:"key",sortable:!0,getValue:O.wA,columnIndex:7})]})}),(0,u.jsx)("th",{style:Due,title:c.formatMessage(hue),className:lle,children:(0,u.jsxs)("div",{className:ele,children:[nue,w({key:"violationsHours",text:"key",sortable:!0,getValue:O.wA,columnIndex:9})]})}),o&&Object.keys(i.reportData.watchingActivityTotalDurationsHours).map(((e,t)=>{var i=10+t;return(0,j.xb)(r)?null:(0,u.jsx)("th",{style:Due,title:c.formatMessage(fue),children:(0,u.jsxs)("div",{className:ele,children:[r[e].pseudoName,w({key:"watchingActivityTotalDurationsHours"+i,text:"key",sortable:!0,getValue:O.wA,objectSortValue:e,columnIndex:i})]})},e||t)}))]},"row-data-header")}),(0,u.jsx)("tbody",{children:d.map(((e,t)=>((e,t)=>{var r,s=(r=e.key.groupId,h.includes(r)),n=0===t&&i.key.groupId===e.key.groupId,l=!(0,j.xb)(e.childrenReportList)&&!e.childrenReportList[0].key.groupId,c=Rue({transition:"all .5s",fill:s?"#09acf7":"",color:s?"#09acf7":""},s?{}:{transform:"rotate(-90deg)"}),d={backgroundColor:n?"#ebf8fe":""},p=me()("RTskJbxI2jVCwWW0Wxcz5Q==",{"wpdus8nbsC9+klagF1mLcQ==":s}),m=me()("_49ixkSfR1Fi2ynJjN6dJHQ==",{"VdtrHN0LgDmPVO8nOB0kGA==":s,"WjpsjUAI+EAWDUAEe6ut9w==":n}),v=ns()(e.key.month,ft.ch).month(),y=x[v].name,{violationsHours:g,durationDeltaHours:b,complement:S}=e.reportData,O=[(0,u.jsxs)("tr",{style:d,className:p,children:[(0,u.jsxs)("td",{title:e.key.name,className:m,children:[(0,u.jsx)(Ae.Z,{onClick:()=>(e=>{var t=h,r=t.includes(e)?t.filter((t=>t!==e)):[...t,e];f(r)})(e.key.groupId),disabled:n&&!l,hidden:n&&!l,children:(0,u.jsx)(et.ZP,{classCustom:"wYemaFm4nOeE8Pow6UttXw==",glyph:et.Zx,style:c})}),e.key.name]}),(0,u.jsx)("td",{className:"eWpdjEsL4r2FiPe-DUTulQ==",children:y}),(0,u.jsx)("td",{className:tle,children:e.reportData.totalFteForecast}),(0,u.jsx)("td",{className:rle,children:e.reportData.totalFteActual}),(0,u.jsx)("td",{className:ile,style:{color:S<0?"#dc2911":""},children:S}),(0,u.jsx)("td",{className:sle,children:e.reportData.planDayWorkTotalDurationHours}),(0,u.jsx)("td",{className:nle,children:e.reportData.factDayWorkTotalDurationHours}),(0,u.jsx)("td",{className:ole,style:{color:b<0?"#dc2911":""},children:b}),(0,u.jsx)("td",{className:ale,children:e.reportData.totalBiometricPresenceHours}),(0,u.jsx)("td",{className:lle,style:{color:g<0?"#dc2911":""},children:g}),o&&Object.values(e.reportData.watchingActivityTotalDurationsHours).map(((e,t)=>(0,u.jsx)("td",{children:e},t)))]},"row-data-"+e.key.groupId)];return h.includes(e.key.groupId)&&e.childrenReportList.forEach(((t,r,i)=>{var s=r+1===i.length,n=t.reportData.violationsHours,l=t.reportData.durationDeltaHours,c=t.reportData.complement,d=me()("lUQr+n1rseCdbBaUq3AuKA==",{"Hjd1UiseoZoLMS02IAfh2Q==":s});O.push((0,u.jsxs)("tr",{className:d,children:[(0,u.jsx)("td",{className:"UjguoLETGPLpgQ3EpbThMA=="}),(0,u.jsx)("td",{className:"T64d4fevwRVTJ1xyPbWarw==",children:(0,u.jsx)(a.rU,{className:"SuLTFO1edgX1yGhf1MIVaA==",to:"".concat(Qoe.s,"/").concat(Qoe._.planFact,"/").concat(e.key.groupId,"/").concat(t.key.day),children:C(t.key.day)})}),(0,u.jsx)("td",{className:tle,children:t.reportData.totalFteForecast}),(0,u.jsx)("td",{className:rle,children:t.reportData.totalFteActual}),(0,u.jsx)("td",{className:ile,style:{color:c<0?"#dc2911":""},children:c}),(0,u.jsx)("td",{className:sle,children:t.reportData.planDayWorkTotalDurationHours}),(0,u.jsx)("td",{className:nle,children:t.reportData.factDayWorkTotalDurationHours}),(0,u.jsx)("td",{className:ole,style:{color:l<0?"#dc2911":""},children:l}),(0,u.jsx)("td",{className:ale,children:t.reportData.totalBiometricPresenceHours}),(0,u.jsx)("td",{className:lle,style:{color:n<0?"#dc2911":""},children:n}),o&&Object.values(t.reportData.watchingActivityTotalDurationsHours).map(((e,t)=>(0,u.jsx)("td",{children:e},t)))]},"row-expanded-"+r))})),O})(e,t)))})]})};Mue.propTypes={pepSettingsMap:c().object},Mue.defaultProps={pepSettingsMap:{}};const Iue=Mue,Zue=()=>{var{push:e}=(0,y.k6)(),t=(0,s.I0)(),r=(0,s.v9)(Y.Wx),i=(0,s.v9)(Ju);(0,m.useEffect)((()=>{t((0,zse.fetchSpecifyingBundle)())}),[t]),(0,m.useEffect)((()=>{t((0,Xae.fetchFactPlanReportData)({groupId:r,month:i}))}),[t,r,i]);var n=(0,s.v9)(Yse),a=(0,j.xb)(n.watchingActivities)?{}:(0,O.eL)(n.watchingActivities,"activityId"),o=(0,u.jsx)(J.Z,{id:"Reports.planFactReport",defaultMessage:[{type:0,value:"План/Факт PEP"}]});return(0,u.jsxs)(Yoe,{title:o,onBack:()=>{e("".concat(Qoe.s))},className:me()("_3UAcJL6HmImKdjs-5wG6TA==","tkjsd7aor+ZbhLHysckz6g=="),children:[(0,u.jsx)(zde,{}),(0,u.jsx)("div",{className:me()("ea-kP8aZ3t1jDtqo6VLiFA==","scroll"),children:(0,u.jsx)(Iue,{pepSettingsMap:a})})]})};var que=r(19233);function Fue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Lue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fue(Object(r),!0).forEach((function(t){Hue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _ue=JSON.parse(localStorage.getItem(I.H2)),Bue=e=>e.customReports.overworkReport.period,Gue=e=>e.customReports.overworkReport.status,Wue=e=>e.customReports.overworkReport.downloadExcelStatus,Uue=(0,Q.createSelector)((e=>e.customReports.overworkReport.data||[]),(e=>e.map((e=>{if("en"===(null==_ue?void 0:_ue.value)){var t=e.periodFormatted.split("-").map((e=>ns()(e,ft.ZM).format("MM/YYYY"))),r="".concat(t[0]," - ").concat(t[1]);return Lue(Lue({},e),{},{periodFormatted:r})}return e})))),Vue=e=>{var{value:t,onChange:r}=e,i=ns()(t).month(),s=ns()(t).year();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Wde,{value:i,onChange:e=>{r(ns()({month:e,year:s}).format("YYYY-MM"))}}),(0,u.jsx)(Vde,{value:s,onChange:e=>{r(ns()({month:i,year:e}).format("YYYY-MM"))}})]})};Vue.propTypes={value:(0,zi.Z)("YYYY-MM").isRequired,onChange:c().func.isRequired};const zue=Vue;function Yue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Que(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yue(Object(r),!0).forEach((function(t){Kue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xue=e=>{var{value:t,onChange:r}=e;return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)("div",{className:"mr",children:(0,u.jsx)(J.Z,{id:"Reports.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]})}),(0,u.jsx)(zue,{onChange:e=>{r(Que(Que({},t),{},{from:e}))},value:t.from}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(zue,{onChange:e=>{r(Que(Que({},t),{},{to:e}))},value:t.to})]})};Xue.propTypes={value:c().shape({from:c().string,to:c().string}).isRequired,onChange:c().func.isRequired};const Jue=Xue;var $ue=e=>{var{period:t,onChangePeriod:r,onApply:i,reportDataStatus:s,onDownloadExcel:n,reportDownloadStatus:a,onDownloadMinutes:o}=e,[l,c]=(0,m.useState)(!1),[d,p]=(0,m.useState)(null),h=ns()(t.from)>ns()(t.to),f=s===Oa.Z.loading||h,v=a===Oa.Z.loading;return(0,u.jsxs)(l7,{children:[(0,u.jsx)(Jue,{value:t,onChange:r}),(0,u.jsx)("div",{}),(0,u.jsx)(Ae.Z,{onClick:i,type:"stripped",disabled:f,children:(0,u.jsx)(J.Z,{id:"Reports.Build",defaultMessage:[{type:0,value:"Сформировать"}]})}),(0,u.jsxs)(Ae.Z,{onClick:e=>{c(!0),p(e.target)},className:"-ftWVusRrwrTCdp7Cf9qsQ==",disabled:v,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,className:"xHX8m-f5eMq8E0raSHaobw=="}),(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})]}),(0,u.jsx)(Ns.ZP,{className:"_8UOM-+-HkiLm9+4o+NFwjw==",open:l,anchorEl:d,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:()=>c(!1),children:(0,u.jsxs)(pd.Z,{className:"pH4e1MysGskeEuYeBwKzfA==",children:[(0,u.jsx)("div",{className:"_8YeII-rmfxwuw6MJNuNYYg==",children:(0,u.jsx)(Ae.Z,{onClick:n,type:"stripped",disabled:v,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInHours",defaultMessage:[{type:0,value:"Выгрузить в часах"}]})})}),(0,u.jsx)("div",{className:"cKLoAXvY8TlskCqalXJXLQ==",children:(0,u.jsx)(Ae.Z,{onClick:o,type:"stripped",disabled:v,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInMinutes",defaultMessage:[{type:0,value:"Выгрузить в минутах"}]})})})]})})]})};$ue.propTypes={period:c().shape({from:(0,zi.Z)("YYYY-MM"),to:(0,zi.Z)("YYYY-MM")}).isRequired,onChangePeriod:c().func.isRequired,onApply:c().func.isRequired,reportDataStatus:c().string.isRequired,onDownloadExcel:c().func.isRequired,onDownloadMinutes:c().func.isRequired,reportDownloadStatus:c().string.isRequired};const epe=$ue,tpe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Bue),r=(0,s.v9)(Y.Wx),i=(0,s.v9)(Gue),n=(0,s.v9)(Wue);return(0,u.jsx)(epe,{period:t,onChangePeriod:t=>{e((0,que.setOverworkReportPeriod)(t))},onApply:()=>{var{from:i,to:s}=t;e((0,que.fetchOverworkReport)({from:i,to:s,groupId:r}))},reportDataStatus:i,onDownloadExcel:()=>{var{from:i,to:s}=t;e((0,que.downloadOverworkReportExcel)({from:i,to:s,groupId:r}))},onDownloadMinutes:()=>{var{from:i,to:s}=t;e((0,que.downloadOverworkMinutes)({from:i,to:s,groupId:r}))},reportDownloadStatus:n})},rpe="_2tbKAAbIP7yENzl34+Vwew==",ipe="l61pDPGJug+dzrGpaQ4vIA==",spe="X7Kxy1xSEOwp32-d7X62mA==";var npe=(0,u.jsx)(J.Z,{id:"Reports.Overwork.FullName",defaultMessage:[{type:0,value:"Фамилия Имя Отчество"}]}),ape=(0,u.jsx)(J.Z,{id:"Reports.Overwork.Login",defaultMessage:[{type:0,value:"Логин WFM"}]}),ope=(0,u.jsx)(J.Z,{id:"Reports.Overwork.Period",defaultMessage:[{type:0,value:"Период"}]}),lpe=(0,u.jsx)(J.Z,{id:"Reports.Overwork.Standard",defaultMessage:[{type:0,value:"Норма"}]}),cpe=(0,u.jsx)(J.Z,{id:"Reports.Overwork.Actual",defaultMessage:[{type:0,value:"Факт"}]}),dpe=(0,u.jsx)(J.Z,{id:"Reports.Overwork.Delta",defaultMessage:[{type:0,value:"Дельта"}]}),upe="virtualized-table__header-cell";const ppe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Gue),r=(0,s.v9)((e=>Uue(e)));return(0,m.useEffect)((()=>()=>{e((0,que.resetOverworkReport)())}),[e]),t===Oa.Z.loading?(0,u.jsx)(Z.Z,{}):t===Oa.Z.succeeded?(0,u.jsx)("div",{className:"_2rO0aDLAnnG9G2930K6lvQ==",children:(0,u.jsx)(VP.ZP,{data:r,columns:[new VP.sg({key:"userName",headerClassName:"virtualized-table__first-header-cell flex-container",cellClassName:me()("virtualized-table__first-cell nowrap-content positions__first-column-cell",spe),label:npe,width:350,filterable:!0}),new VP.sg({key:"login",cellClassName:me()(rpe,spe),headerClassName:upe,label:ape,width:150,filterable:!0}),new VP.sg({label:YH.sT,key:"hiringDate",width:170,sortable:!0,filterable:!0,hasTitle:!1,cellContentClassName:YH.NI,headerClassName:"_2o2OenOOTT+UeWvGWzJPsQ==",sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft._T),getValue:e=>e.hiringDateFormatted,renderCell:e=>(0,u.jsx)("div",{className:ipe,children:e.hiringDateFormatted})}),new VP.sg({key:"periodFormatted",cellClassName:rpe,headerClassName:upe,label:ope,hasTitle:!1,width:170}),new VP.sg({key:"normFormatted",cellClassName:rpe,headerClassName:upe,label:lpe,hasTitle:!1,width:150,filterable:!0}),new VP.sg({key:"factFormatted",cellClassName:rpe,headerClassName:upe,label:cpe,hasTitle:!1,width:150,sortable:!0,getValue:e=>{var t=e.factMinutesFormatted.split(" ")[0];return Number(t)},renderCell:e=>(0,u.jsx)("div",{className:ipe,children:e.factFormatted})}),new VP.sg({key:"deltaFormatted",cellClassName:rpe,headerClassName:upe,label:dpe,width:150,hasTitle:!1,autoSize:!0,sortable:!0,getValue:e=>{var t=e.deltaMinutesFormatted.split(" ")[0];return Number(t)},renderCell:e=>(0,u.jsx)("div",{className:ipe,children:e.deltaFormatted})})],cellClassName:"enable-transition virtualized-table__cell",columnsAutoWidth:!0})}):null},hpe=()=>(0,u.jsxs)("div",{className:"_4KfT1i2cQggVllQTaCm1Ow==",children:[(0,u.jsx)(tpe,{}),(0,u.jsx)(ppe,{})]});var fpe=r(46547);const mpe=()=>{var e=(0,s.v9)(B.e0),t=(0,s.v9)(B.Tv),r=(0,s.v9)(C.ts),i=uR,n=(0,X.BC)(r,x.ZP.RIGHTS.REPORTS,x.ZP.CRUD),o=me()("scrollbar",{section__content:n,[i]:!n}),l=(0,fpe.Pi)(e,t).filter((e=>e.available));return(0,u.jsx)("div",{className:o,children:(0,u.jsx)("table",{className:mR,children:(0,u.jsx)("tbody",{children:l.map((e=>(0,u.jsx)("tr",{className:vR,children:(0,u.jsx)("td",{className:yR,style:{borderRight:"none"},children:(0,u.jsx)("span",{className:fR,children:(0,u.jsx)(a.OL,{to:e.url,children:e.title})})},e.url)},e.url)))})})})};var vpe=e=>{var{children:t,title:r,withFragment:i,onBackClick:s}=e,{goBack:n}=(0,y.k6)(),a=()=>{s&&s(),n()};return i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Voe,{text:r,onBackBtnClick:a}),t]}):(0,u.jsxs)("div",{children:[(0,u.jsx)(Voe,{text:r,onBackBtnClick:a}),(0,u.jsx)("div",{children:t})]})};vpe.defaultProps={withFragment:!1,onBackClick:O.wA},vpe.propTypes={children:c().oneOfType([c().string,c().node]).isRequired,title:c().oneOfType([c().string,c().node]).isRequired,onBackClick:c().func,withFragment:c().bool};const ype=vpe;var gpe=e=>{var{date:t,onChange:r}=e;return(0,u.jsxs)("div",{className:"rUPg4Y1C0u+E8tm76261WA==",children:[(0,u.jsx)(J.Z,{id:"Reports.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]}),(0,u.jsxs)("div",{className:"Aze43TQBZ4XwpAxyFrdC8Q==",children:[(0,u.jsx)(mt.Z,{date:t.from,onChange:e=>r({from:ns()(e,ft._E).format(ft.vc),to:t.to})}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(mt.Z,{date:t.to,onChange:e=>r({from:t.from,to:ns()(e,ft._E).format(ft.vc)})})]})]})};gpe.propTypes={date:c().object.isRequired,onChange:c().func.isRequired};const bpe=gpe;var jpe=e=>{var{period:t,onChangePeriod:r,onApply:i,reportDataStatus:s,onDownloadExcel:n,reportDownloadStatus:a}=e,o=ns()(t.from)>ns()(t.to),l=s===Oa.Z.loading||o,c=a===Oa.Z.loading||o;return(0,u.jsxs)(l7,{children:[(0,u.jsx)(bpe,{date:t,onChange:r}),(0,u.jsx)(Ae.Z,{onClick:i,type:"stripped",disabled:l,children:(0,u.jsx)(J.Z,{id:"Reports.Build",defaultMessage:[{type:0,value:"Сформировать"}]})}),(0,u.jsx)(Ae.Z,{onClick:n,type:"stripped",disabled:c,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})})]})};jpe.propTypes={period:c().shape({from:(0,zi.Z)("YYYY-MM-DD"),to:(0,zi.Z)("YYYY-MM-DD")}).isRequired,onChangePeriod:c().func.isRequired,onApply:c().func.isRequired,reportDataStatus:c().string.isRequired,onDownloadExcel:c().func.isRequired,reportDownloadStatus:c().string.isRequired};const xpe=jpe;var Spe=r(31149);const Ope=()=>{var e=(0,s.I0)(),t=(0,s.v9)(C.ts),r=(0,s.v9)(Rce),i=(0,s.v9)(Ece),n=(0,s.v9)(Ace),a=(0,X.BC)(t,x.ZP.RIGHTS.REPORTS,x.ZP.CRUD);return(0,u.jsx)(xpe,{period:r,onChangePeriod:t=>{e((0,Spe.setScheduleBuildLogPeriod)(t))},reportDataStatus:i,onApply:()=>{var{from:t,to:i}=r;if(!a)return Ii.T.error((0,u.jsx)(J.Z,{id:"Schedule.Error.NoRights",defaultMessage:[{type:0,value:"Нет прав"}]}));e((0,Spe.fetchScheduleBuildLog)({from:t,to:i}))},onDownloadExcel:()=>{var{from:t,to:i}=r;e((0,Spe.downloadScheduleBuildLogExcel)({from:t,to:i}))},reportDownloadStatus:n})},Ppe="n9CEMwBtMxIqgjWSeVnN8g==",wpe="zqbasbW2w6VvDfkb-HXhYA==";var Cpe=(0,u.jsx)(J.Z,{id:"ScheduleBuildLog.generationDate",defaultMessage:[{type:0,value:"Дата построения"}]}),kpe=(0,u.jsx)(J.Z,{id:"ScheduleChanges.userTypes.manager",defaultMessage:[{type:0,value:"Менеджер"}]}),Tpe=(0,u.jsx)(J.Z,{id:"Common.permissionGroup",defaultMessage:[{type:0,value:"Группа"}]}),Npe=(0,u.jsx)(J.Z,{id:"ScheduleBuildLog.status",defaultMessage:[{type:0,value:"Отчет о построении"}]}),Rpe=(0,u.jsx)(J.Z,{id:"ScheduleBuildLog.exceptions",defaultMessage:[{type:0,value:"Исключения"}]}),Epe="virtualized-table__header-cell",Dpe=e=>"".concat(e.day," — ").concat(e.userLogin),Ape=e=>{if(e.length>2)return(0,u.jsx)("span",{className:"F7xJVjZmQsWjYj6L1nB4pg==",children:"(".concat(e.length,")")})};const Mpe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Dce),r=(0,s.v9)(Ece);return(0,m.useEffect)((()=>()=>{e((0,Spe.resetScheduleBuildLog)())}),[e]),r===Oa.Z.loading?(0,u.jsx)(Z.Z,{}):r===Oa.Z.succeeded?(0,u.jsx)("div",{className:"wejIMmP1OsDKxy4cFGHS1A==",children:(0,u.jsx)("div",{className:"_8mZzhRQ7TAha-ACgqSMwEg==",children:(0,u.jsx)(VP.ZP,{columns:[new VP.sg({key:"generationDate",headerClassName:"virtualized-table__first-header-cell flex-container",cellClassName:"virtualized-table__first-cell nowrap-content positions__first-column-cell",label:Cpe,hasTitle:!1,width:250,sortable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.UT),filterable:!0,titleStyle:"ZdhQl7fZa7bj4UQm97aB6A==",filterableClassName:"Y77939-22D3YT6ztnJIUwg==",getValue:e=>(e=>e.generationDate)(e),renderCell:e=>(0,u.jsx)("div",{className:wpe,children:(0,u.jsx)("span",{className:"dHT8rT1nPoax-53n5TmV-g==",children:e.generationDate})})}),new VP.sg({key:"authorLogin",cellClassName:Ppe,headerClassName:Epe,label:kpe,width:200,hasTitle:!1,sortable:!0,filterable:!0}),new VP.sg({key:"groupName",cellClassName:Ppe,headerClassName:Epe,label:Tpe,width:150,hasTitle:!1,sortable:!0,filterable:!0,renderCell:e=>(0,u.jsx)("div",{className:wpe,children:(0,u.jsx)("span",{title:e.groupName,className:"zcmweS1nzDBSiOGa5NEfhA==",children:e.groupName})})}),new VP.sg({key:"status",cellClassName:Ppe,headerClassName:Epe,label:Npe,hasTitle:!1,width:400,sortable:!0,filterable:!0,renderCell:e=>(0,u.jsx)("div",{className:wpe,children:(0,u.jsx)("span",{className:"_79xNoHo4PmgFOcPd0M-uDw==",title:e.status,children:e.status})})}),new VP.sg({key:"exclusions",cellClassName:Ppe,headerClassName:Epe,width:700,label:Rpe,hasTitle:!1,sortable:!0,filterable:!0,autoSize:!0,filterComponent:AO.Z,getValue:e=>e.exclusions.map((e=>(0,j.xb)(e)?"":e.userLogin)),renderCell:e=>{return(0,u.jsxs)("div",{className:wpe,title:(t=e.exclusions,t.map((e=>Dpe(e))).join(", ")),children:[Ape(e.exclusions),e.exclusions.map(((e,t)=>t<3?(0,u.jsx)("span",{className:"C-nI0ziSggYjn8MaJePWxA==",children:Dpe(e)}):3===t?(0,u.jsx)("span",{children:" ... "}):null))]});var t}})],data:t,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",columnsAutoWidth:!0})})}):null},Ipe=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ope,{}),(0,u.jsx)(Mpe,{})]}),Zpe="pjju6qWsJ7GfdibQzrM93Q==";var qpe=e=>{var{period:t,reportStatus:r,onChangePeriod:i,onApply:s,onDownloadExcel:n,onResetReport:a,reportDownloadStatus:o}=e;(0,m.useEffect)((()=>()=>a()),[]);var l=ns()(t.from)>ns()(t.to),c=r===Oa.Z.loading||l,d=o===Oa.Z.loading||l;return(0,u.jsxs)(l7,{children:[(0,u.jsxs)("div",{className:"_9YwfEhVE4dBwP0vuXHWRuQ==",children:[(0,u.jsx)(J.Z,{id:"Reports.reportPeriod",defaultMessage:[{type:0,value:"Отчетный период"}]}),(0,u.jsxs)("div",{className:"T2P81eTnCE+4QkmAErLTOQ==",children:[(0,u.jsx)(mt.Z,{date:(0,ft.a5)(t.from,ft.vc),dateFormat:ft.ZM,onChange:e=>i({from:e,to:t.to}),className:Zpe,showMonthYearPicker:!0}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(mt.Z,{date:(0,ft.a5)(t.to,ft.vc),dateFormat:ft.ZM,onChange:e=>i({from:t.from,to:e}),className:Zpe,showMonthYearPicker:!0})]})]}),(0,u.jsx)(Ae.Z,{onClick:s,disabled:c,children:(0,u.jsx)(J.Z,{id:"Reports.Build",defaultMessage:[{type:0,value:"Сформировать"}]})}),(0,u.jsx)(Ae.Z,{onClick:n,disabled:d,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})})]})};qpe.propTypes={period:c().shape({from:(0,zi.Z)("YYYY-MM-DD"),to:(0,zi.Z)("YYYY-MM-DD")}).isRequired,reportStatus:c().string.isRequired,onChangePeriod:c().func.isRequired,onApply:c().func.isRequired,onDownloadExcel:c().func.isRequired,onResetReport:c().func.isRequired,reportDownloadStatus:c().string.isRequired};const Fpe=qpe;var Lpe=e=>e.customReports.licensesReport.period,Hpe=e=>e.customReports.licensesReport.status,_pe=e=>e.customReports.licensesReport.data,Bpe=e=>e.customReports.licensesReport.downloadExcelStatus,Gpe=r(91896);const Wpe=()=>{var e=(0,s.I0)(),{from:t,to:r}=(0,s.v9)(Lpe),i=(0,s.v9)(Hpe),n=(0,s.v9)(Bpe),a=(0,ft.cP)(r,ft.vc),o=(0,ft.cP)(t,ft.vc),l={from:o,to:a};return(0,u.jsx)(Fpe,{period:{from:o,to:a},reportStatus:i,onChangePeriod:t=>e((0,Gpe.setPeriod)(t)),onApply:()=>e((0,Gpe.fetchLicensesReport)(l)),onDownloadExcel:()=>e((0,Gpe.downloadLicensesReportExcel)(l)),onResetReport:()=>e((0,Gpe.resetLicensesReport)()),reportDownloadStatus:n})};var Upe=r(56847);const Vpe=()=>{var e=(0,s.v9)(_pe),t=(0,s.v9)(Hpe);return t===Oa.Z.loading?(0,u.jsx)(Z.Z,{}):(0,j.xb)(e)?null:t===Oa.Z.succeeded?(0,u.jsx)(Upe.Z,{component:pd.Z,children:(0,u.jsxs)(Mle.Z,{size:"small","aria-label":"a dense table",children:[(0,u.jsx)(Ele.Z,{children:(0,u.jsxs)(Dle.Z,{children:[(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Calendar.period",defaultMessage:[{type:0,value:"Период"}]})}),(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Reports.available",defaultMessage:[{type:0,value:"Доступно"}]})}),(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Reports.used",defaultMessage:[{type:0,value:"Использовано"}]})}),(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Reports.balance",defaultMessage:[{type:0,value:"Остаток"}]})}),(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Reports.calculationType",defaultMessage:[{type:0,value:"Тип расчёта"}]})}),(0,u.jsx)(_H.Z,{align:"center",children:(0,u.jsx)(J.Z,{id:"Reports.term",defaultMessage:[{type:0,value:"Срок"}]})})]})}),(0,u.jsx)(Ale.Z,{children:e.map((e=>{var{period:t,limit:r,used:i,rem:s,type:n,expiredAt:a}=e;return(0,u.jsxs)(Dle.Z,{children:[(0,u.jsx)(_H.Z,{align:"center",children:t}),(0,u.jsx)(_H.Z,{align:"center",children:r}),(0,u.jsx)(_H.Z,{align:"center",children:i}),(0,u.jsx)(_H.Z,{align:"center",children:s}),(0,u.jsx)(_H.Z,{align:"center",children:n}),(0,u.jsx)(_H.Z,{align:"center",children:a})]},(0,X.Vj)())}))})]})}):void 0},zpe=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Wpe,{}),(0,u.jsx)(Vpe,{})]});var Ype=e=>{var{path:t}=e,r=(0,s.I0)(),i=(0,s.v9)(K.K3);return(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{exact:!0,path:t,children:(0,u.jsx)(mpe,{})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/t13"),children:(0,u.jsx)(ype,{title:fpe.fn,children:(0,u.jsx)(Rle,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/graph"),children:(0,u.jsx)(ype,{title:fpe.dK,children:(0,u.jsx)(sce,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/punctuality"),children:(0,u.jsx)(ype,{title:fpe.x9,children:(0,u.jsx)(Nce,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/period-punctuality"),children:(0,u.jsx)(ype,{title:fpe.ro,withFragment:!0,children:(0,u.jsx)(Yce,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/schedule-cards"),children:(0,u.jsx)(ype,{title:fpe.dm,children:(0,u.jsx)(tde,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/day-graph"),children:(0,u.jsx)(ype,{title:fpe.JS,children:(0,u.jsx)(ode,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/accounting"),children:(0,u.jsx)(ype,{title:fpe._P,children:(0,u.jsx)(Bde,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/plan-fact"),exact:!0,children:(0,u.jsx)(Zue,{})}),(0,u.jsx)(y.AW,{path:"".concat(Qoe.s,"/").concat(Qoe._.planFact,"/:groupId/:day"),children:(0,u.jsx)(Ple,{})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/work-schedule"),children:(0,u.jsx)(ype,{onBackClick:()=>{i&&r((0,da.setPrevLocation)("reports/main/work-schedule"))},title:fpe.MX,children:(0,u.jsx)(Woe,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/overwork"),children:(0,u.jsx)(ype,{title:fpe.Al,children:(0,u.jsx)(hpe,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/schedule-log"),children:(0,u.jsx)(ype,{title:fpe.o7,children:(0,u.jsx)(Ipe,{})})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/licenses"),children:(0,u.jsx)(ype,{title:fpe.Q9,children:(0,u.jsx)(zpe,{})})})]})};Ype.propTypes={path:c().string.isRequired};const Qpe=Ype;class Kpe extends m.Component{render(){var{children:e,hidden:t}=this.props;return t?null:(0,u.jsx)("div",{className:"Dv6iqjGHwG83sUVtpYvD1w==",children:e})}}Kpe.defaultProps={hidden:!1},Kpe.propTypes={children:c().node.isRequired,hidden:c().bool};const Xpe=Kpe;var Jpe=(0,u.jsx)(J.Z,{id:"Reports.addReport",defaultMessage:[{type:0,value:"Добавить отчет"}]}),$pe=e=>{var{onClick:t,disabled:r}=e;return(0,u.jsx)(Ge.Z,{type:"stripped",onClick:t,disabled:r,caption:Jpe})};$pe.defaultProps={disabled:!1},$pe.propTypes={onClick:c().func.isRequired,disabled:c().bool};const ehe=$pe;function the(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rhe=(0,u.jsx)(J.Z,{id:"ReportGroupEdit.title",defaultMessage:[{type:0,value:"Сменить группу отчета"}]});class ihe extends m.Component{constructor(e){super(e),the(this,"saveReport",(()=>{var{report:e,queue:t}=this.state,{close:r,editReport:i,onSave:s}=this.props;e.groupId=t,i(e,(()=>{"function"==typeof s&&(s(),r())}))})),the(this,"getNavigationClose",(()=>(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})}))),this.state={queue:e.queue,report:e.report}}UNSAFE_componentWillReceiveProps(e){e.report&&this.setState({report:e.report})}render(){return(0,u.jsxs)("div",{children:[(0,u.jsx)($S.Z,{position:"static",children:(0,u.jsxs)("div",{className:hR,children:[(0,u.jsx)(Mp.Z,{style:{fontSize:"18px",marginLeft:"20px"},children:rhe}),(0,u.jsx)(Ae.Z,{onClick:()=>this.props.close(),className:pR,children:(0,u.jsx)(AS.Z,{children:(0,u.jsx)(eO.Z,{})})})]})}),(0,u.jsx)("div",{className:"p++",children:(0,u.jsx)(PR,{value:this.state.queue,type:"radio",name:"company-structure",style:{height:"300px",width:"400px"},onChange:e=>{this.state.queue!==e&&this.setState({queue:e})}})}),(0,u.jsx)("div",{className:"pb+",style:{textAlign:"left",marginLeft:"20px"},children:(0,u.jsx)(dR.Z,{variant:"contained",color:"primary",onClick:()=>{this.saveReport()},children:(0,u.jsx)(J.Z,{id:"ReportGroupEdit.save",defaultMessage:[{type:0,value:"Сохранить"}]})})})]})}}ihe.propTypes={close:c().func.isRequired,queue:c().string.isRequired,report:c().object.isRequired,editReport:c().func.isRequired,onSave:c().func.isRequired};const she=(0,o.compose)((0,s.$j)(null,{editReport:Xae.editReport}))(ihe);var nhe=r(95477);const ahe="CBEur4ICJNeR-t1bfLjXmQ==",ohe="t0q8dLjVFvMdJAUVa4Lr8A==",lhe="CRbk2nepjH2kK9DPE2e9eQ==";var che=e=>{var{fields:t,changeField:r}=e;return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:me()("vV2EycgOxhaW8j58WPwi7g==","schema-float-settings__item-row-border"),children:[(0,u.jsx)("span",{className:me()("column-label",lhe),children:(0,u.jsx)(J.Z,{id:"CreateReportForm.title",defaultMessage:[{type:0,value:"Название"}]})}),(0,u.jsx)("span",{className:me()("column-label",lhe),children:(0,u.jsx)(J.Z,{id:"CreateReportForm.type",defaultMessage:[{type:0,value:"Тип"}]})}),(0,u.jsx)("span",{className:me()("column-label",lhe),children:(0,u.jsx)(J.Z,{id:"CreateReportForm.defaultValue",defaultMessage:[{type:0,value:"Значение по умолчанию"}]})}),(0,u.jsx)("span",{className:"column-label",children:(0,u.jsx)(J.Z,{id:"CreateReportForm.description",defaultMessage:[{type:0,value:"Описание"}]})})]}),t.map(((e,i)=>(0,u.jsxs)("div",{className:"schema-float-settings__item-row",children:[(0,u.jsx)(_e.Z,{name:"".concat(e,".name"),component:"input",type:"text",className:ohe}),(0,u.jsxs)(_e.Z,{name:"".concat(e,".reportParamTypeId"),type:"text",className:ohe,onChange:t=>{r("".concat(e,".reportParamTypeId"),t.target.value)},component:"select",children:[(0,u.jsx)("option",{value:"15b3d1f6-c74c-f004-207e-5e18fc0b59c0",children:"String"}),(0,u.jsx)("option",{value:"15b3d1f6-c74c-f004-207e-5e18fc0b59bd",children:"Integer"}),(0,u.jsx)("option",{value:"15b3d1f6-c74c-f004-207e-5e18fc0b59be",children:"Float"}),(0,u.jsx)("option",{value:"15b3d1f6-c74c-f004-207e-5e18fc0b59bf",children:"Boolean"}),(0,u.jsx)("option",{value:"15b3d1f6-c74c-f004-207e-5e18fc0b59c1",children:"Date"})]}),(0,u.jsx)(_e.Z,{name:"".concat(e,".defaultValue"),component:"input",type:"text",className:ohe}),(0,u.jsx)(_e.Z,{name:"".concat(e,".description"),component:"input",type:"text"}),(0,u.jsx)("span",{onClick:()=>t.remove(i),className:"schema-float-settings__button-delete",children:"×"})]},e.id||i))),(0,u.jsxs)("span",{onClick:()=>{t.push(),r("params[".concat(t.length,"]"),{reportParamTypeId:"15b3d1f6-c74c-f004-207e-5e18fc0b59c0",description:""})},className:"schema-float-settings__button-add",children:[(0,u.jsx)("i",{}),(0,u.jsx)(J.Z,{id:"CreateReportForm.addString",defaultMessage:[{type:0,value:"Добавить строку"}]})]})]})})};che.propTypes={fields:c().array.isRequired,changeField:c().func.isRequired};const dhe=che;var uhe=e=>{var{disabled:t}=e;return(0,u.jsx)("button",{className:me()("_7eM56nKPEpeJErLOrILp4A==","schema-float-settings__button-save icon-save_w",{"schema-float-settings__button-save icon-save_w__disabled":t}),disabled:t})};uhe.defaultProps={disabled:!1},uhe.propTypes={disabled:c().bool};const phe=uhe;function hhe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fhe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hhe(Object(r),!0).forEach((function(t){mhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hhe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mhe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vhe=e=>{var{handleSubmit:t,run:r,data:i,formValues:s,scheduleLoadnigAction:n,changeField:a,closeForm:o,invalid:l}=e,c=me()("PKvfVRg0BGuaD3j9OIifaw==","scroll");return(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:()=>o(),className:me()("EOoKoMD2iiifzpr4oIErUQ==","button-icon button-icon--close-icon-left popup__close-del")}),(0,u.jsxs)("form",{onSubmit:t,children:[(0,u.jsxs)("div",{className:me()("NTtvNXljGpXrmyUtns304g==","scrollbar"),children:[(0,u.jsxs)("div",{className:"_1uPbT5BDjoZNbrlfuFW1VA==",children:[(0,u.jsx)("span",{children:(0,u.jsx)(J.Z,{id:"CreateReportForm.name",defaultMessage:[{type:0,value:"Наименование:"}]})}),(0,u.jsx)(_e.Z,{component:"input",name:"name",type:"text",label:"name",className:"SrjVCn9rVgFEWv1vn9w1Zw=="}),(0,u.jsx)(phe,{disabled:l})]}),(0,u.jsx)(_e.Z,{component:"textarea",name:"query",label:"query",className:"YgwccJVvqSDSfWc7WvxslA=="})]}),(0,u.jsx)("div",{className:me()("kSPHVqXNLxaaf4kl-aCoBA==","scrollbar"),children:(0,u.jsx)(_A.Z,{name:"params",component:dhe,changeField:a})})]}),(0,u.jsx)("button",{className:"lQnncMGAxGW6GOv9Hk3c6w==",onClick:r,hidden:!s.id,children:(0,u.jsx)(J.Z,{id:"CreateReportForm.run",defaultMessage:[{type:0,value:"Выполнить"}]})}),n&&n.scheduleLoading&&(0,u.jsxs)("div",{className:"forecast__computing-loading",children:[(0,u.jsx)("div",{className:"progressbar-container_circular",children:(0,u.jsx)(nhe.Z,{size:86})}),(0,u.jsx)("p",{className:"forecast__computing-preloader-text",children:"Таблица формируется..."})]}),i&&s&&s.id===i.id&&(0,u.jsx)("div",{className:c,children:(0,u.jsxs)("table",{className:"Ewqo2jduWQf0UVfnuAoV4A==",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:i.columns&&i.columns.map(((e,t)=>(0,u.jsx)("td",{className:ahe,children:e},e.id||t)))})}),(0,u.jsx)("tbody",{children:i.data&&i.data.map(((e,t)=>(0,u.jsx)("tr",{children:Object.keys(e).map(((t,r)=>(0,u.jsx)("td",{className:ahe,children:e[t]},t.id||r)))},e.id||t)))})]})})]})};vhe.defaultProps={formValues:{}},vhe.propTypes=fhe(fhe({},Bt.ZP),{},{run:c().func.isRequired,data:c().object.isRequired,formValues:c().object,scheduleLoadnigAction:c().object.isRequired,changeField:c().func.isRequired,closeForm:c().func.isRequired});const yhe=vhe;var ghe=["id"];function bhe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jhe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bhe(Object(r),!0).forEach((function(t){xhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bhe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xhe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var She="CreateReportForm";const Ohe=(0,o.compose)(y.EN,(0,s.$j)((e=>({formValues:(0,qe.Z)(She)(e)||{},data:e.reports.data,reportListMap:(0,X.xn)(Vu(e)),scheduleLoadnigAction:e.reports.scheduleLoadnigAction,groupId:(0,Y.Wx)(e)})),{createReport:Xae.createReport,editReport:Xae.editReport,executeReport:Xae.executeReport,showPopup:Xae.showPopup,fetchReports:Xae.fetchReports,hideCreateForm:Xae.hideCreateForm,change:Qr.m,initialize:Qr.j2},((e,t,r)=>jhe(jhe(jhe(jhe({},e),r),t),{},{changeField:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.change(She,e,r)},run:()=>{var r,i,s;t.executeReport({reportId:null===(r=e.formValues)||void 0===r?void 0:r.id,params:null===(i=e.formValues)||void 0===i||null===(s=i.params)||void 0===s?void 0:s.reduce(((e,t)=>(e[t.name]=t.defaultValue,e)),{})})},onSubmit:r=>{var i,{id:s}=r,n=jhe(jhe({},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(r,ghe)),{},{groupId:e.groupId,name:r.name.trim(),params:null===(i=r.params)||void 0===i?void 0:i.map((e=>({name:e.name.trim(),reportParamTypeId:e.reportParamTypeId,description:e.description.trim(),defaultValue:e.defaultValue.trim()})))});s?t.editReport(jhe(jhe({},e.reportListMap[r.id]),n)):t.createReport(n,(r=>{t.initialize(She,r),t.fetchReports({id:e.groupId})}))}}))),(0,Fe.Z)({form:She,validate:(Phe=["name","params","query"],whe=["name","reportTypeId","defaultValue"],e=>{var t,r={};return Phe.forEach((t=>{(0,j.xb)(e[t])&&(r[t]="required")})),null===(t=e.params)||void 0===t||t.forEach((e=>{null!=e&&e.name&&null!=e&&e.reportParamTypeId&&null!=e&&e.defaultValue||whe.forEach((e=>r[e]="".concat(e," of params is required")))})),r})}))(yhe);var Phe,whe,Che={id:"Common.moveToAnotherGroup",defaultMessage:"Перенести в другую группу"},khe={id:"Common.edit",defaultMessage:"Редактировать"},The={id:"IntervalInputContainer.remove",defaultMessage:"Удалить"};function Nhe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rhe={height:27,color:"#ce1405"};class Ehe extends m.PureComponent{constructor(){super(...arguments),Nhe(this,"handleChangeGroupRequest",(()=>{var{onChangeGroupRequest:e,report:t}=this.props;e(t)})),Nhe(this,"handleEditRequest",(()=>{var{onEditRequest:e,report:t}=this.props;e(t)})),Nhe(this,"handleDeleteRequest",(()=>{var{onDeleteRequest:e,report:t}=this.props;e(t)}))}render(){var{intl:e,report:t}=this.props;return this.props.hidden?null:(0,u.jsxs)("div",{className:me()("os-flex","os-flex_justify-content_end"),children:[(0,u.jsx)("button",{className:"material-icons button-icon os-flex__item_align_center",style:Rhe,onClick:this.handleChangeGroupRequest,title:e.formatMessage(Che),children:"list"}),(0,u.jsx)(a.OL,{to:"/reports/custom/".concat(t.name),children:(0,u.jsx)("button",{className:"button-icon button-icon--close-icon-edit popup__close-edit",style:Rhe,onClick:this.handleEditRequest,title:e.formatMessage(khe)})}),(0,u.jsx)(VC.I,{onSubmit:this.handleDeleteRequest,popup:!0,children:(0,u.jsx)("button",{className:"button-icon button-icon--close-icon-del popup__close-del",style:Rhe,title:e.formatMessage(The)})})]})}}Ehe.defaultProps={hidden:!1},Ehe.propTypes={hidden:c().bool,report:c().object.isRequired,onChangeGroupRequest:c().func.isRequired,onEditRequest:c().func.isRequired,onDeleteRequest:c().func.isRequired,intl:P.gm.isRequired};const Dhe=Ehe,Ahe=(0,o.compose)(v.ZP)(Dhe);var Mhe=e=>{var{user:t,reports:r,onInitExportForm:i,onChangeGroupRequest:s,onEditRequest:n,onDeleteRequest:o,fetchReports:l,groupId:c}=e;(0,m.useEffect)((()=>{l({id:c})}),[l,c]);var d=uR,p=(0,X.BC)(t,x.ZP.RIGHTS.REPORTS,x.ZP.CRUD),h=me()("scrollbar","RUfF4UmH27TpKEU2aTw-ng==",{section__content:p,[d]:!p});return(0,u.jsx)("div",{className:h,children:(0,u.jsx)("table",{className:mR,children:(0,u.jsx)("tbody",{children:r.map((e=>(0,u.jsxs)("tr",{className:vR,children:[(0,u.jsx)("td",{className:yR,style:{borderRight:"none"},children:(0,u.jsx)("span",{onClick:()=>{(e=>{i(e)})(e)},className:fR,children:(0,u.jsx)(a.OL,{to:"/reports/custom/".concat(e.name),children:e.name})})},e.id),(0,u.jsx)("td",{style:{borderLeft:"none"},children:(0,u.jsx)(Ahe,{report:e,onChangeGroupRequest:s,onEditRequest:n,onDeleteRequest:o,hidden:e.custom||!p})})]},e.id)))})})})};Mhe.propTypes={user:P.jZ.isRequired,reports:c().array.isRequired,onInitExportForm:c().func.isRequired,onChangeGroupRequest:c().func.isRequired,onEditRequest:c().func.isRequired,onDeleteRequest:c().func.isRequired,fetchReports:c().func.isRequired,groupId:P.K5.isRequired};const Ihe=Mhe,Zhe="EKdyS5jB1zwgfnlaJK5ksg==",qhe="HFCciYKhkysRuCpLkZOVag==",Fhe="J3h1gh6rcsX8aF9UEWdjiA==";var Lhe=e=>"login"===e?200:"password"===e?10:"first name"===e||"last name"===e||"middle name"===e?220:"pay_rate"===e?105:"email"===e?240:"message_type"===e?10:200,Hhe=e=>(e.columns||[]).map(((e,t)=>new DO.Z({headerClassName:"_5JOAyK0NUts3F3L0sk1iGA==",key:t,cellClassName:"Zzob3zqpuMAjOIs8Nr+noA==",width:Lhe(e),renderHeader:()=>e,showTitle:!0}))),_he=e=>{var{name:t,type:r,className:i,label:s,onHandleSubmit:n,input:{onChange:a}}=e;return(0,u.jsx)("input",{name:t,type:r,className:i,value:s,onKeyDown:e=>{"Enter"===e.key&&n()},onChange:e=>a(e.target.value)})};_he.propTypes={name:c().string.isRequired,type:c().string.isRequired,label:c().string.isRequired,className:c().string.isRequired,onHandleSubmit:c().func.isRequired,input:c().object.isRequired};const Bhe=_he;var Ghe=e=>{var{columns:t,data:r,cellClassName:i,height:s,tableClassNames:n}=e;return(0,u.jsx)("div",{className:"EY4aQl8uu1aXNLntd1P3sg==",children:(0,u.jsxs)("table",{style:{height:s},className:n,children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{style:{height:40},children:t.map((e=>(0,u.jsx)("th",{className:e.cellClassName,style:{width:e.width},children:e.renderHeader()},e.key)))})}),(0,u.jsx)("tbody",{children:r.map((e=>(0,u.jsx)("tr",{style:{height:40},children:e.map((e=>(0,u.jsx)("td",{className:me()(e.cellClassName,i),children:e},(0,X.Vj)())))})))})]})})};Ghe.defaultProps={cellClassName:"",tableClassNames:"",height:400},Ghe.propTypes={data:c().array.isRequired,columns:c().array.isRequired,height:c().number,cellClassName:c().string,tableClassNames:c().string};const Whe=Ghe;function Uhe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vhe={"15b3d1f6-c74c-f004-207e-5e18fc0b59bd":"number","15b3d1f6-c74c-f004-207e-5e18fc0b59be":"text","15b3d1f6-c74c-f004-207e-5e18fc0b59bf":"checkbox","15b3d1f6-c74c-f004-207e-5e18fc0b59c0":"text","15b3d1f6-c74c-f004-207e-5e18fc0b59c1":"date"};class zhe extends m.Component{constructor(){super(...arguments),Uhe(this,"componentRoot",(0,m.createRef)()),Uhe(this,"tableWrapperRef",(0,m.createRef)()),Uhe(this,"getHeightOfTable",(()=>{var{current:e}=this.tableWrapperRef;if(e){var t=e.getBoundingClientRect();return window.innerHeight-t.top-20}}))}render(){var{intl:e,handleSubmit:t,initialValues:r={},data:i,isMainTable:s,scheduleLoadnigAction:n,clearExecuteFormReport:a,closeForm:o}=this.props,l=i;return i&&r.id!==i.id&&(l=null),(0,u.jsxs)("div",{className:"p+",ref:this.componentRoot,children:[(0,u.jsx)("button",{onClick:()=>{a(),o()},className:me()("iDsuJWndfLlEfu4hT7u97Q==","button-icon button-icon--close-icon-left popup__close-del")}),(0,u.jsx)("div",{className:"YGtiaEMQ13LSfhbxwpwT6g==",children:(0,u.jsxs)("span",{className:"_4Wj3DfvqWn5LkJBgLksIoA==",children:[(0,u.jsx)("span",{children:"«"}),r&&r.name,(0,u.jsx)("span",{children:"»"})]})}),(0,u.jsx)("div",{className:"Fkf2XmJYgEuxyPDWf1ZwgQ==",children:(0,u.jsxs)("div",{className:"printable m+lTN5Ay2FXOHFUGbof+Kw==",children:[(0,u.jsxs)("div",{className:"_0njE1eVyC9TzCvXgY79t2w==",children:[(0,u.jsx)("button",{type:"button",className:Zhe,onClick:t(this.props.onSubmit.bind(this,"execute")),children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.run",defaultMessage:[{type:0,value:"Выполнить"}]})}),(0,u.jsx)("button",{type:"button",onClick:t(this.props.onSubmit.bind(this,"export")),className:Zhe,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.unloadInExcel",defaultMessage:[{type:0,value:"Выгрузить в Excel"}]})}),(0,u.jsx)("button",{type:"button",onClick:()=>window.print(),className:Zhe,children:(0,u.jsx)(J.Z,{id:"ExecuteReportForm.print",defaultMessage:[{type:0,value:"Печать"}]})})]}),r&&r.params&&r.params.map(((e,r)=>(0,u.jsx)("div",{className:qhe,children:(0,u.jsxs)("div",{className:"DdTSnqI+h1bCLHhk5-x1-Q==",children:[(0,u.jsxs)("span",{title:e.description,className:"cVxQ4X2VDm8pCuTBcr4C6w==",children:[e.description,(0,u.jsx)("span",{children:":"})," "]}),(0,u.jsx)(_e.Z,{component:Bhe,name:"params[".concat(r,"].defaultValue"),type:Vhe[e.reportParamTypeId],label:e.defaultValue,className:me()("t73szwbqHeoXaul6uycXOQ==","os-form__input","os-input os-input_type_text"),onHandleSubmit:t(this.props.onSubmit.bind(this,"execute"))})]})},e.id||r)))]})}),n&&n.scheduleLoading&&(0,u.jsxs)("div",{className:"forecast__computing-loading",children:[(0,u.jsx)("div",{className:"progressbar-container_circular",children:(0,u.jsx)(nhe.Z,{size:86})}),(0,u.jsx)("p",{className:"forecast__computing-preloader-text",children:"Таблица формируется..."})]}),l&&l.data&&s&&(0,u.jsx)("div",{className:me()("mt++","xGO19A4hWf3GyvUXB-1u3A=="),ref:this.tableWrapperRef,children:(0,u.jsx)(Whe,{cellClassName:me()("ox3mwGXsk5ySe88cHDoJyw==","virtualized-table__cell"),tableClassNames:qhe,columns:Hhe(l),data:l.data,height:this.getHeightOfTable()})}),(!l||l&&!l.data)&&s&&(0,u.jsx)("div",{className:"fN6IEBo7dmyqJuUzEyvrRw==",children:(0,u.jsx)("table",{className:"myGk0GiBAq1Cg6RWAjLnrQ==",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe}),(0,u.jsx)("td",{className:Fhe})]})]})})})]})}}zhe.defaultProps={isMainTable:!1,initialValues:{},scheduleLoadnigAction:{},data:{}},zhe.propTypes={isMainTable:c().bool,initialValues:c().object,scheduleLoadnigAction:c().object,data:c().object,clearExecuteFormReport:c().func.isRequired,closeForm:c().func.isRequired,handleSubmit:c().func.isRequired,onSubmit:c().func.isRequired};const Yhe=(0,v.ZP)(zhe);var Qhe=["id"];function Khe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Xhe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Khe(Object(r),!0).forEach((function(t){Jhe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Khe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jhe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $he=(0,o.compose)((0,s.$j)((e=>({initialValues:e.form.ExecuteReportForm&&e.form.ExecuteReportForm.values,data:e.reports.data,scheduleLoadnigAction:e.reports.scheduleLoadnigAction,reportsState:e.reports.back})),{executeReport:Xae.executeReport,exportReport:Xae.exportReport,editReport:Xae.editReport,showPopup:Xae.showPopup,hideExecuteForm:Xae.hideExecuteForm,clearExecuteFormReport:Xae.clearExecuteFormReport},((e,t,r)=>Xhe(Xhe(Xhe(Xhe({},e),t),r),{},{onSubmit:(e,r)=>{var{id:i}=r,s=Xhe(Xhe({},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(r,Qhe)),{},{params:r.params.map((e=>Xhe(Xhe({},e),{},{reportParamTypeId:"15b3d1f6-c74c-f004-207e-5e18fc0b59bd"})))});"execute"===e?t.executeReport({reportId:i,params:r.params.reduce(((e,t)=>(e[t.name]=t.defaultValue,e)),{})}):"accept"===e?t.editReport(s):t.exportReport({reportId:i,params:r.params.reduce(((e,t)=>(e[t.name]=t.defaultValue,e)),{})})}}))),(0,Fe.Z)({form:"ExecuteReportForm"}))(Yhe);function efe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tfe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?efe(Object(r),!0).forEach((function(t){rfe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):efe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rfe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ife=()=>{var e=(0,s.v9)(C.ts),t=(0,s.v9)(Y.Wx),r=(0,s.v9)(Vu),i=(0,s.I0)(),{reportName:n}=(0,y.UO)(),[a,o]=(0,m.useState)(!1),[l,c]=(0,m.useState)(!1),[d,p]=(0,m.useState)(!1),[h,f]=(0,m.useState)({});(0,m.useEffect)((()=>{i((0,Xae.fetchReports)({id:t}))}),[i,t]),(0,m.useEffect)((()=>{n||(p(!1),c(!1))}),[n]);var v=(0,X.BC)(e,x.ZP.RIGHTS.REPORTS,x.ZP.CRUD),g=()=>{o(!1),f({})};return(0,u.jsxs)("div",{children:[l&&(0,u.jsx)(Ohe,{id:t,closeForm:()=>c(!1)}),d&&(0,u.jsx)($he,{isMainTable:!0,closeForm:()=>p(!1)}),!l&&!d&&(0,u.jsx)(Ihe,{reports:r,user:e,onInitExportForm:e=>{i((0,Qr.j2)("ExecuteReportForm",e)),p(!0)},onChangeGroupRequest:e=>{o(!0),f(e)},onEditRequest:e=>{i((0,Qr.j2)("CreateReportForm",tfe(tfe({},e),{},{edit:!0}))),c(!0)},onDeleteRequest:e=>{i((0,Xae.deleteReport)(e.id))},fetchReports:Xae.fetchReports,groupId:t}),(0,u.jsx)(Xpe,{hidden:d||l,children:(0,u.jsx)("div",{className:"_1CLArf3piIXPZb3KCgN-CA==",children:(0,u.jsx)(ehe,{onClick:()=>{c(!0)},disabled:!v})})}),(0,u.jsx)(IS.G,{show:a,onClose:g,children:(0,u.jsx)(she,{close:g,queue:h.groupId,report:h,onSave:()=>{i((0,Xae.fetchReports)({id:t}))}})})]})};var sfe=(0,u.jsx)(J.Z,{id:"WorkScheduleEmployee.Title",defaultMessage:[{type:0,value:"Рабочий график сотрудников"}]}),nfe=e=>{var{path:t,user:r}=e;return(0,X.BC)(r,x.ZP.RIGHTS.REPORTS)||(0,j.xb)(r)?(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{exact:!0,path:t,children:(0,u.jsx)(y.l_,{to:"".concat(t,"/main")})}),(0,u.jsxs)(y.AW,{path:t,children:[(0,u.jsx)(y.AW,{path:"".concat(t,"/main"),children:(0,u.jsx)(Qpe,{path:"".concat(t,"/main")})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/custom/:reportName?"),children:(0,u.jsx)(ife,{})})]}),(0,u.jsx)(y.AW,{path:"".concat(t,"/").concat(Qoe._.workScheduleEmployee),children:(0,u.jsx)(Yoe,{title:sfe,children:(0,u.jsx)(Woe,{})})}),(0,u.jsx)(y.AW,{component:Wi})]}):(0,u.jsx)(Vi,{user:r})};nfe.propTypes={path:c().string.isRequired,user:P.jZ.isRequired};const afe=nfe;var ofe=e=>{var{normStat:t,intl:r,hidden:i}=e;if(i)return null;var s=(null==t?void 0:t.actualHours)||0,n=(null==t?void 0:t.correctedNormHours)||0;return(0,u.jsx)("div",{className:"HkQ6ipLB1f5ZQwllV7Nutw==",children:(0,j.xb)(t)?r.formatMessage({id:"OperatorMonth.warningText",defaultMessage:[{type:0,value:"Количество часов отобразится после публикации расписания"}]}):"".concat(r.formatMessage({id:"OperatorMonth.FactPlanHoursFromMonth",defaultMessage:[{type:0,value:"Фактические / плановые часы за текущий месяц"}]}),": ").concat(s," / ").concat(n)})};ofe.propTypes={normStat:c().string,hidden:c().bool,intl:c().object.isRequired},ofe.defaultProps={normStat:"",hidden:!1};const lfe=(0,v.ZP)(ofe);var cfe=e=>{var{monthPath:t,hide:r,className:i}=e,s=me()(i,"calendar-view-select");return(0,u.jsx)("div",{className:s,children:(0,u.jsxs)("ul",{children:["month"!==r&&(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:t,className:"calendar-view-select__link",activeClassName:"calendar-view-select__link_active",isActive:(e,r)=>je(r,t),children:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.month",defaultMessage:[{type:0,value:"Месяц"}]})})}),"week"!==r&&(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:re,className:"calendar-view-select__link",activeClassName:"calendar-view-select__link_active",isActive:(e,t)=>je(t,re),children:(0,u.jsx)(J.Z,{id:"CalendarViewSelect.week",defaultMessage:[{type:0,value:"Неделя"}]})})})]})})};cfe.defaultProps={hide:"",monthPath:te,className:""},cfe.propTypes={hide:c().string,monthPath:c().string,className:c().string};const dfe=cfe;var ufe=[null,(0,u.jsx)(J.Z,{id:"MonthSelect.january"}),(0,u.jsx)(J.Z,{id:"MonthSelect.february"}),(0,u.jsx)(J.Z,{id:"MonthSelect.march"}),(0,u.jsx)(J.Z,{id:"MonthSelect.april"}),(0,u.jsx)(J.Z,{id:"MonthSelect.may"}),(0,u.jsx)(J.Z,{id:"MonthSelect.june"}),(0,u.jsx)(J.Z,{id:"MonthSelect.july"}),(0,u.jsx)(J.Z,{id:"MonthSelect.august"}),(0,u.jsx)(J.Z,{id:"MonthSelect.september"}),(0,u.jsx)(J.Z,{id:"MonthSelect.october"}),(0,u.jsx)(J.Z,{id:"MonthSelect.november"}),(0,u.jsx)(J.Z,{id:"MonthSelect.december"})],pfe=(e,t)=>{var r=ufe[Number(t)];return(0,u.jsxs)("span",{children:[r,", ".concat(e)]})},hfe=(e,t,r)=>r+ns()({year:e,month:t-1}).add(1,"month").format("YYYY/MM"),ffe=(e,t,r)=>r+ns()({year:e,month:t-1}).add(-1,"month").format("YYYY/MM");var mfe=(new Date).getFullYear(),vfe=(new Date).getMonth()+1,yfe=e=>{var{linkPrefix:t,className:r}=e,i=me()(r,"month-select"),n=(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked"))),{year:o=mfe,month:l=vfe}=(0,y.UO)();return(0,u.jsx)("div",{className:i,children:(0,u.jsxs)("ul",{className:"lrLh+0sjgKq8OC+00KncTg==",children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:ffe(o,l,t),hidden:n,children:(0,u.jsx)(et.ZP,{glyph:et.Y4})})}),(0,u.jsx)("li",{children:pfe(o,l)}),(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:hfe(o,l,t),hidden:n,children:(0,u.jsx)(et.ZP,{glyph:et.LZ})})})]})})};yfe.defaultProps={linkPrefix:"/operator/work-shifts/month/",className:""},yfe.propTypes={linkPrefix:c().string,className:c().string};const gfe=yfe;var bfe=e=>{var{icon:t,action:r,text:i,hidden:s}=e;return s?null:(0,u.jsx)(oi.Z,{onClick:r,children:(0,u.jsxs)("div",{className:"operator__toolbar-item",children:[(0,u.jsx)("div",{children:t}),(0,u.jsx)("div",{children:i})]})})};bfe.defaultProps={hidden:!1},bfe.propTypes={icon:c().any.isRequired,text:c().any.isRequired,action:c().func.isRequired,hidden:c().bool};const jfe=bfe;function xfe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sfe=(0,u.jsx)(J.Z,{id:"Operator.editCalendar",defaultMessage:[{type:0,value:"Изменение в календаре"}]}),Ofe=r5.BC.SWAP_SCHEDULE_SERVICE_STATUS;class Pfe extends m.PureComponent{constructor(e){super(e),xfe(this,"scheduleSwapIcon",(0,u.jsx)(et.ZP,{glyph:et.RI})),xfe(this,"scheduleSwapText",(0,u.jsx)(J.Z,{id:"ScheduleChangeSwap.Title",defaultMessage:[{type:0,value:"Обмен сменами"}]})),xfe(this,"editShiftIcon",(0,u.jsx)(et.ZP,{glyph:et.v2})),xfe(this,"editShiftText",(0,u.jsx)(J.Z,{id:"Operator.EditShift",defaultMessage:[{type:0,value:"Изменение графика"}]})),xfe(this,"handleScheduleSwapAction",(()=>{this.props.onScheduleSwapFormRequest()})),xfe(this,"handleEditShiftAction",(()=>{this.props.onShiftChangeFormRequest()})),this.state={isScheduleExchangeAvailable:e.frontendSettings.isScheduleExchangeAvailable.value,swapScheduleServiceStatus:e.globalSettings[Ofe]}}UNSAFE_componentWillReceiveProps(e){var{frontendSettings:t,globalSettings:r}=this.props;t.isScheduleExchangeAvailable===e.frontendSettings.isScheduleExchangeAvailable&&r[Ofe]===e.globalSettings[Ofe]||this.setState({isScheduleExchangeAvailable:e.frontendSettings.isScheduleExchangeAvailable.value,swapScheduleServiceStatus:e.globalSettings[Ofe]})}render(){var{frontendSettings:e}=this.props,t=e.isOzonEmployeeWorkspaceBlocked.value;return(0,u.jsxs)("div",{className:"operator__toolbar container with-divider",children:[(0,u.jsx)(jfe,{icon:this.scheduleSwapIcon,text:this.scheduleSwapText,action:this.handleScheduleSwapAction,hidden:"false"===this.state.swapScheduleServiceStatus||!this.state.isScheduleExchangeAvailable}),(0,u.jsx)(jfe,{icon:this.editShiftIcon,text:t?Sfe:this.editShiftText,action:this.handleEditShiftAction})]})}}Pfe.propTypes={onShiftChangeFormRequest:c().func.isRequired,onScheduleSwapFormRequest:c().func.isRequired,frontendSettings:c().object.isRequired,globalSettings:c().object.isRequired};const wfe=Pfe,Cfe=(0,o.compose)((0,s.$j)((e=>({frontendSettings:e.settings.frontendSettings,globalSettings:(0,B.Tv)(e)}))))(wfe);var kfe=r(42274);class Tfe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"selectRef",(0,m.createRef)())}componentDidMount(){this.handleDefaultValue(this.props)}UNSAFE_componentWillReceiveProps(e){this.handleDefaultValue(e)}handleDefaultValue(e){if(!this.props.value){var t=e.activities&&e.activities[0]?e.activities[0].id:"";this.props.onChange(t)}}render(){return(0,u.jsx)("select",{ref:this.selectRef,className:me()("activity-select-dropdown",this.props.className,{"field-input_invalid":!!this.props.error}),onChange:e=>{if(this.props.multiple){for(var t=[],r=0;r<e.target.length;++r){var i=e.target[r];i.selected&&t.push(i.value)}this.props.onChange(e,t)}else this.props.onChange(e)},value:this.props.value,name:this.props.name||"activity",title:this.props.error,multiple:this.props.multiple,autoFocus:this.props.autoFocus,children:this.props.activities.map((e=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)))})}}Tfe.propTypes={onChange:c().func.isRequired,error:c().string.isRequired,name:c().string.isRequired,className:c().string.isRequired,multiple:c().bool.isRequired,autoFocus:c().bool.isRequired,value:c().string.isRequired,activities:c().arrayOf(kfe.Z).isRequired};var Nfe=!1;const Rfe=(0,o.compose)((0,s.$j)((e=>({activities:un(e)})),{fetchWorkActivities:Sa.fetchWorkActivities}),(0,U.Z)((e=>{var{props:t}=e;t.activities&&t.activities.length||Nfe||(t.fetchWorkActivities(),Nfe=!0)})))(Tfe);function Efe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Dfe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Efe(Object(r),!0).forEach((function(t){Afe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Efe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Afe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mfe=e=>{var{meta:t,customErrorText:r}=e,{error:i}=t;return(0,u.jsx)(aO.Z,Dfe(Dfe({},e.input),{},{error:!!i,helperText:r||i,multiline:!0}))};Mfe.propTypes=Bt.oX;const Ife=Mfe;var Zfe=r(70120),qfe=e=>{var{input:{value:t,onChange:r},step:i}=e;return(0,u.jsx)(mb.Z,{onChange:r,value:t,step:i})};qfe.propTypes=Bt.oX;const Ffe=qfe,Lfe="MNAw6fBL65qeyDxQFQJdcA==";function Hfe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hfe(Object(r),!0).forEach((function(t){Bfe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hfe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bfe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Gfe extends m.Component{constructor(){super(...arguments),Bfe(this,"state",{periodType:Gfe.periodTypes[0].id}),Bfe(this,"submitLabel",(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.sendApplication",defaultMessage:[{type:0,value:"Отправить заявку"}]})),Bfe(this,"handleSubmitBtnClick",(()=>{this.props.handleSubmit(),this.props.onSuccess&&this.props.onSuccess()}))}render(){var{handleSubmit:e,invalid:t,intl:{formatMessage:r},formValues:i}=this.props,s=r({id:"ShiftChange.commentRequired",defaultMessage:[{type:0,value:"Поле Комментарий обязательно для заполнения"}]}),n=(null==i?void 0:i.dayStart)<=(null==i?void 0:i.dayEnd);return(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("form",{onSubmit:e,className:"operator-application-form os-form pt++",children:[(0,u.jsxs)("div",{className:"os-form__field",children:[(0,u.jsx)("label",{className:"os-form__label",htmlFor:"workActivityId",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.theme",defaultMessage:[{type:0,value:"Тема"}]})}),(0,u.jsx)(_e.Z,{name:"workActivityId",component:e=>{var{input:t}=e;return(0,u.jsx)(Rfe,{className:"os-select os-form__input",name:t.name,value:t.value,onChange:t.onChange})}})]}),(0,u.jsxs)("div",{className:"os-form__field",children:[(0,u.jsx)("label",{className:"os-form__label",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.chooseATime",defaultMessage:[{type:0,value:"Выберите время"}]})}),(0,u.jsx)("span",{children:(0,u.jsx)(_e.Z,{name:"periodType",component:e=>{var{input:t}=e;return(0,u.jsx)(VR,{values:Gfe.periodTypes,value:this.state.periodType,onChange:e=>{t.onChange(e),this.setState({periodType:e})}})}})})]}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"os-form__field",children:["day"===this.state.periodType&&(0,u.jsxs)("div",{className:"date-range",children:[(0,u.jsx)(_e.Z,{name:"dayStart",component:Zfe.Z}),(0,u.jsx)(_e.Z,{name:"dayEnd",component:Zfe.Z,minDate:null==i?void 0:i.dayStart})]}),"time"===this.state.periodType&&(0,u.jsx)(_e.Z,{name:"dayStart",component:e=>{var{input:t}=e;return(0,u.jsx)(Koe.Z,_fe(_fe({},t),{},{date:ns()(t.value,"YYYY-MM-DD").format("YYYY-MM-DD"),dateFormat:ft.vc}))}})]}),"time"===this.state.periodType&&(0,u.jsxs)("div",{className:"os-form__field flex-container",children:[(0,u.jsxs)("div",{className:"dRVsevcHSi8743Phnypmng==",children:[(0,u.jsx)("div",{className:Lfe,children:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.from",defaultMessage:[{type:0,value:"с"}]})}),(0,u.jsx)(_e.Z,{name:"timeStart",component:Ffe,step:5})]}),(0,u.jsxs)("div",{className:"T6YaYBdyg-QNTZU5ZzjXyg==",children:[(0,u.jsx)("div",{className:Lfe,children:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.to",defaultMessage:[{type:0,value:"по"}]})}),(0,u.jsx)(_e.Z,{name:"timeEnd",component:Ffe,step:5})]})]})]}),(0,u.jsxs)("div",{className:"os-form__field",children:[(0,u.jsx)("label",{className:"os-form__label",children:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.comment",defaultMessage:[{type:0,value:"Комментарий"}]})}),(0,u.jsx)(_e.Z,{name:"requestComment",component:Ife,customErrorText:s})]}),(0,u.jsx)("div",{className:"mt+++",children:(0,u.jsx)(Ge.Z,{onClick:this.handleSubmitBtnClick,caption:this.submitLabel,disabled:t||"day"===(null==i?void 0:i.periodType)&&!n})})]})})}}Bfe(Gfe,"periodTypes",[{id:"day",name:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.allDay",defaultMessage:[{type:0,value:"Весь день"}]})},{id:"time",name:(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.timeInterval",defaultMessage:[{type:0,value:"Интервал времени"}]})}]),Gfe.defaultProps={formValues:{}},Gfe.propTypes={handleSubmit:c().func.isRequired,invalid:c().bool.isRequired,onSuccess:c().func.isRequired,intl:P.gm.isRequired,formValues:c().object};const Wfe=Gfe;function Ufe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Vfe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ufe(Object(r),!0).forEach((function(t){zfe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ufe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zfe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yfe={timeStart:"08:00",timeEnd:"20:00",dayStart:ns()().format("YYYY-MM-DD"),dayEnd:ns()().format("YYYY-MM-DD"),periodType:Wfe.periodTypes[0].id},Qfe="OperatorApplicationForm",Kfe=(0,u.jsx)(J.Z,{id:"Notifications.maximumTimeExceeded",defaultMessage:[{type:0,value:"Превышен максимальный интервал времени"}]});const Xfe=(0,o.compose)(v.ZP,(0,s.$j)((e=>Vfe({formValues:(0,qe.Z)(Qfe)(e)},e.operator)),{createApplication:Hr.createApplication,initialize:Qr.j2},((e,t,r)=>Vfe(Vfe(Vfe(Vfe({},e),t),r),{},{onSubmit:e=>{var{periodType:r,dayStart:i,dayEnd:s,timeStart:n,timeEnd:a,requestComment:o,workActivityId:l}=e,c=ns()(i,ft._E).format(ft._E),d=ns()(s,ft._E).format(ft._E),[u,p]=(0,ft.ae)(c,d);if("time"!==r)if("00:00"!==n||"00:00"!==a||i!==s){if("day"===r){var h={from:u,to:(0,ft.iX)(p),requestComment:o,workActivityId:l};t.createApplication(h)}}else(0,SO.x)(null,Kfe);else{var f=ns()(i,ft.vc).add(ns().duration(n)).format(ft._E),m=ns()(i,ft.vc).add(ns().duration(a)),v={from:f,to:(ns()(a,ft.wJ).unix()<=ns()(n,ft.wJ).unix()?m.add(1,"day"):m).format(ft._E),requestComment:o,workActivityId:l};t.createApplication(v)}}}))),(0,U.Z)((e=>{var{props:t}=e;t.initialize(Qfe,Yfe)})),(0,Fe.Z)({form:Qfe,validate:(e,t)=>(0,xO.ZP)({data:e,fields:{requestComment:"required"},formNameSpace:Qfe,intl:t.intl}).errors}))(Wfe);var Jfe=(0,u.jsx)(J.Z,{id:"Calendar.period",defaultMessage:[{type:0,value:"Период"}]}),$fe=(0,u.jsx)(J.Z,{id:"Calendar.expiration",defaultMessage:[{type:0,value:"Срок действия"}]}),eme=(0,u.jsx)(J.Z,{id:"Common.comment"}),tme=(0,u.jsx)(J.Z,{id:"OperatirSwapSchedule.sendRequest",defaultMessage:[{type:0,value:"Отправить заявку"}]});class rme extends m.PureComponent{render(){var{label:e,children:t,vertical:r}=this.props,i=me()("swap-schedule-request-form__labeled-item",{vertical:r});return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:"label",children:e}),(0,u.jsx)("div",{className:"content",children:t})]})}}rme.defaultProps={vertical:!1},rme.propTypes={label:c().node.isRequired,children:c().any.isRequired,vertical:c().bool};const ime=rme;function sme(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nme extends m.PureComponent{constructor(e){var t;super(e),t=this,sme(this,"validate",(e=>e.to&&e.from&&e.from<=e.to)),sme(this,"handleChangePeriod",(e=>{var{setPeriodRequestDetail:t}=this.props,r=this.validate(e);t(e),r&&this.fetchActivities(e)})),sme(this,"handleExpirationChange",(e=>{this.setState({expiration:e})})),sme(this,"handleCommentChange",(e=>{this.setState({comment:e.target.value.trimStart()})})),sme(this,"handleSubmit",(()=>{var{period:e,onSubmit:t,userId:r}=this.props,{expiration:i,comment:s}=this.state;t({userId:r,start:e.from,end:e.to,comment:s,expiration:i,status:"PROCESSING"})})),sme(this,"isInvalid",(()=>{var{expiration:e,comment:t}=this.state,{period:r}=this.props;return r.from>r.to||!t||e>=r.from})),sme(this,"fetchActivities",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{period:r,fetchOperatorData:i,groupId:s}=t.props,n=e.from||r.from,a=e.to||r.to,o=(0,ft.uW)(a),l=(0,ft.uW)(n),c=o?(0,ft.iX)(a):a,d=l?(0,ft.b7)(n):n,[u,p]=(0,ft.ae)(d,c);i({requestActivities:!0,from:u,to:p,groupId:s})})),this.state={expiration:(0,ft.iX)((0,ft.zO)()),comment:""}}componentDidMount(){this.fetchActivities()}render(){var{period:e}=this.props;return(0,u.jsxs)("div",{className:"swap-schedule-request-form",children:[(0,u.jsxs)("div",{className:"container with-divider",children:[this.props.header,(0,u.jsx)(ime,{label:Jfe,children:(0,u.jsx)("div",{className:"flex-container",children:(0,u.jsx)(Zy,{period:e,onChange:this.handleChangePeriod})})}),(0,u.jsx)(ime,{label:$fe,children:(0,u.jsx)(RF.Z,{date:this.state.expiration,onChange:this.handleExpirationChange,showTime:!0})}),(0,u.jsx)(ime,{label:eme,vertical:!0,children:(0,u.jsx)("textarea",{maxLength:255,className:"OrqCsrDGoqgjNbtpRN8z9g==",onChange:this.handleCommentChange,value:this.state.comment})}),(0,u.jsx)("div",{className:"pt pb++",children:(0,u.jsx)(Ge.Z,{caption:tme,onClick:this.handleSubmit,type:"stripped",disabled:this.isInvalid()})})]}),(0,u.jsx)("div",{className:"container pt",children:(0,u.jsx)("div",{className:"pt+",children:(0,u.jsx)(TN,{start:e.from,end:e.to,activities:this.props.activities,isRequastDisabled:!0})})})]})}}nme.propTypes={onSubmit:c().func.isRequired,userId:c().string.isRequired,groupId:c().string.isRequired,activities:c().array.isRequired,header:c().node.isRequired,setPeriodRequestDetail:c().func.isRequired,period:c().object.isRequired,fetchOperatorData:c().func.isRequired};const ame=nme;var ome=r(83119),lme=r(14095),cme=r(58056);const dme=(0,o.compose)((0,s.$j)((e=>({userId:(0,C.rc)(e),activities:(0,ome.getMyActivities)(e),period:(0,lme.NX)(e),groupId:(0,TZ.pw)(e)})),{fetchOperatorData:Hr.fetchOperatorData,setPeriodRequestDetail:cme.setPeriodRequestDetail,clearPeriodRequestDetail:cme.clearPeriodRequestDetail}),(0,Ao.Z)((e=>{var{props:t}=e;t.clearPeriodRequestDetail()})))(ame);var ume=(0,u.jsx)("div",{className:"subheader",children:(0,u.jsx)(J.Z,{id:"Operator.chooseSwapPeriod",defaultMessage:[{type:0,value:"Выберите период, выставляемый на обмен и период действия заявки"}]})});class pme extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSubmit",(e=>{var{onSuccessCb:t,createSwapScheduleRequest:r}=this.props;r(e,t)}))}render(){return(0,u.jsx)(dme,{header:ume,onSubmit:this.handleSubmit})}}pme.propTypes={createSwapScheduleRequest:c().func.isRequired,onSuccessCb:c().func.isRequired};const hme=pme,fme=(0,o.compose)((0,s.$j)(null,{createSwapScheduleRequest:Hr.createSwapScheduleRequest,clearPeriodRequestDetail:cme.clearPeriodRequestDetail}))(hme);function mme(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vme=(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.applicationForCalendarChanging",defaultMessage:[{type:0,value:"Заявка на изменение в календаре"}]});class yme extends m.PureComponent{constructor(){super(...arguments),mme(this,"state",{isShiftChangeFormOpen:!1,isSwapScheduleFormOpen:!1}),mme(this,"shiftChangeFormTitle",(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.applicationForScheduleChanging",defaultMessage:[{type:0,value:"Заявка на изменение графика"}]})),mme(this,"swapScheduleFormTitle",(0,u.jsx)(J.Z,{id:"ScheduleChangeSwap.Title",defaultMessage:[{type:0,value:"Обмен сменами"}]})),mme(this,"toggleShiftChangeFormOpen",(()=>{this.setState((e=>({isShiftChangeFormOpen:!e.isShiftChangeFormOpen})))})),mme(this,"toggleSwapScheduleFormOpen",(()=>{var{isSwapScheduleFormOpen:e}=this.state,{onUnmountCb:t}=this.props;e&&t(),this.setState((e=>({isSwapScheduleFormOpen:!e.isSwapScheduleFormOpen})))}))}render(){var{isOzonEmployeeWorkspaceBlocked:e}=this.props;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cfe,{onScheduleSwapFormRequest:this.toggleSwapScheduleFormOpen,onShiftChangeFormRequest:this.toggleShiftChangeFormOpen}),(0,u.jsx)(yk.Z,{open:this.state.isShiftChangeFormOpen,handleBackArrow:this.toggleShiftChangeFormOpen,title:e?vme:this.shiftChangeFormTitle,width:700,disableEnforceFocus:!0,children:(0,u.jsx)(Xfe,{onSuccess:this.toggleShiftChangeFormOpen})}),(0,u.jsx)(yk.Z,{open:this.state.isSwapScheduleFormOpen,handleBackArrow:this.toggleSwapScheduleFormOpen,title:this.swapScheduleFormTitle,width:1e3,children:(0,u.jsx)(fme,{onSuccessCb:this.toggleSwapScheduleFormOpen})})]})}}yme.defaultProps={isOzonEmployeeWorkspaceBlocked:!1},yme.propTypes={onUnmountCb:c().func.isRequired,isOzonEmployeeWorkspaceBlocked:c().bool};const gme=yme,bme={calendar:"s8yffWF7gm-KTYnKex4Y4A==",calendarHeaderRow:"S+zzH9r7eGqYb7zMc-1ByQ==",calendarHeaderWeekend:"CrmrDDFVV2FPtS3K6oEBnw==",calendarHeader:"xE8FTnyaJcRTdKLmt2vAbA==",cell:"j-7pKP6klKLO4XeRNnL6Dg==",weekLabel:"Q49VtphlzL8gq27gMCe+kQ==",dayContainer:"gAjf1PqMEjlJpkIdn8PtTQ==",dayContainer_active:"+UBQJql4o7vv+DJl37z5JA==",cellText:"TCTT34mySp+zdp7jZ2SytQ==",darkText:"oi7CFIDa7i9Ekj1DV3G3iA==",dayLabelWeekend:"qhHSOydsFyYLTLl561vKDw==",hasCommentsIcon:"sH3IaKQnrikr1zSqyD87wQ=="};var jme=[!0,!1,!1,!1,!1,!1,!0],xme=[!1,!1,!1,!1,!1,!0,!0],Sme={id:"OperatorMonth.weeks",defaultMessage:"Недели"},Ome=e=>{var{display:t,date:r}=e;return t?(0,u.jsx)(a.rU,{className:"operator-month-table__additional-schedules-link",to:"/operator/additional-schedules/"+(0,ft.X5)(r)}):null};Ome.defaultProps={display:!0},Ome.propTypes={date:c().string.isRequired,display:c().bool};const Pme=Ome;var wme=e=>{var{day:t,hasAdditionalSchedules:r,activeDay:i,isWeekend:s}=e,n=(0,ft.Ae)(t.date,i),{haveComment:o,date:l,color:c,activityTime:d}=t,p=(0,ft.zO)(ft._2)===l;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:me()({[bme.hasCommentsIcon]:o})}),(0,u.jsx)(a.rU,{to:"/operator/work-shifts/month/"+l,children:(0,u.jsxs)("div",{className:me()(bme.dayContainer,{[bme.dayContainer_active]:n}),style:{backgroundColor:c},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:me()(bme.dayLabel,{[bme.dayLabelWeekend]:s}),style:{color:p&&"#9336B2"},children:(0,ft.Ro)(l)}),(0,u.jsx)(Pme,{date:l,display:r})]}),(0,u.jsx)("div",{children:t.acronym?(0,u.jsx)("div",{children:t.acronym}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:me()(bme.cellText,{[bme.darkText]:!(0,X._T)(c)}),children:d})})})]})})]})};wme.defaultProps={hasAdditionalSchedules:!1},wme.propTypes={day:c().object.isRequired,hasAdditionalSchedules:c().bool,activeDay:c().string.isRequired,isWeekend:c().bool.isRequired};const Cme=wme;function kme(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Tme(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kme(Object(r),!0).forEach((function(t){Nme(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kme(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nme(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rme=e=>{var{weekArray:t,indexedAdditionalSchedules:r,operatorSchedules:i,year:n,month:o,dayDate:l}=e,c=(0,s.v9)(Nb),d=null!=i&&i.schedules?((e,t,r)=>{var i=[],s=[];i.push(s);var n=0,o={};e.map((e=>o[(0,ft.kZ)(e.day,ft._2)]=e));for(var l=(0,ft.kl)(t+"-"+r,ft.ch),c=(0,ft.RN)(l);l<c;){var d=o[l.format(ft._2)]||{date:l.format(ft._2)},p=l.weekday()+1;p<n&&(s=[],i.push(s)),d.dayInMonth=l.date(),d.activityTime=d.period,d.date=l.format(ft._2),s[p]=d,n=p,l.add(1,"d")}return i.forEach((e=>{var t=e.find((e=>e&&!!e.date)).date,r=(0,ft.fd)(t,ft._2),i=(0,ft.F0)(t,ft._2),s=(0,ft.IS)(t,ft._2);e[0]=(0,u.jsx)(a.rU,{to:"/operator/work-shifts/week/".concat(s),children:(0,u.jsx)("div",{className:bme.weekLabel,children:"".concat(r,"...").concat(i)})})})),i})(i.schedules,n,o):[],p=(e,t)=>{var i=(0,ft.Vb)(e.date,ft._2),s=!1;r[(0,ft.X5)(e.date)]&&r[(0,ft.X5)(e.date)].length>0&&(s=!0);var n=c.some((e=>{var{dateFrom:t,dateTo:r}=e,s=(0,ft.Vb)(t),n=(0,ft.Vb)(r);return(0,ft.zx)(i,s,n,ft._T)}));return(0,u.jsx)(Cme,{day:Tme(Tme({},e),{},{haveComment:n}),isWeekend:t,activeDay:l,hasAdditionalSchedules:s})};return(0,u.jsx)(u.Fragment,{children:d.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:bme.cell,children:e[0]}),t.map(((t,r)=>(0,u.jsx)("td",{className:bme.cell,children:e[r+1]&&p(e[r+1],t)},(0,X.Vj)())))]},(0,X.Vj)())))})};Rme.propTypes={operatorSchedules:c().shape({schedules:c().array}).isRequired,indexedAdditionalSchedules:c().object.isRequired,year:c().oneOfType([c().string,c().number]).isRequired,month:c().oneOfType([c().string,c().number]).isRequired,dayDate:c().string.isRequired,weekArray:c().array.isRequired};const Eme=Rme;var Dme=e=>{var{indexedAdditionalSchedules:t,operatorSchedules:r,year:i,month:s,dayDate:n}=e,a=(0,er.Z)(),o=(e=>"en"===e?jme:xme)(a.locale);return(0,u.jsxs)("table",{className:bme.calendar,cellSpacing:"0",cellPadding:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:bme.calendarHeaderRow,children:[(0,u.jsx)("td",{className:"borderless",children:(0,u.jsx)("div",{className:bme.calendarHeader,children:a.formatMessage(Sme)})}),o.map(((e,t)=>{var r=me()({[bme.calendarHeaderWeekend]:e,[bme.calendarHeader]:!e});return(0,u.jsx)("td",{className:"borderless",children:(0,u.jsx)("div",{className:r,children:ns()().startOf("week").add(t,"d").format("dddd")})},(0,X.Vj)())}))]})}),(0,u.jsx)("tbody",{children:(0,u.jsx)(Eme,{weekArray:o,indexedAdditionalSchedules:t,operatorSchedules:r,year:i,month:s,dayDate:n})})]})};Dme.propTypes={operatorSchedules:c().shape({schedules:c().array}).isRequired,indexedAdditionalSchedules:c().object.isRequired,year:c().oneOfType([c().string,c().number]).isRequired,month:c().oneOfType([c().string,c().number]).isRequired,dayDate:c().string.isRequired};const Ame=Dme;var Mme=e=>{var{hasIntervals:t,isIntervalsWereRequested:r,isLoadingIntervals:i}=e,s=(0,u.jsx)(J.Z,{id:"OperatorDay.legendPossibleOptions",defaultMessage:[{type:0,value:"Доступные варианты начала активности"}]}),n=(0,u.jsx)(J.Z,{id:"OperatorDay.legendNoneOptions",defaultMessage:[{type:0,value:"Нет доступных вариантов"}]}),a=t?s:n,o=t?"Z8bQwvuVvuVDl54gK3XKEA==":"vL184Pi+62S7GLKnQX+HxQ==",l=(r||t)&&!i;return(0,u.jsx)("div",{className:"SBHEJDL9mZ6To-u3cK0wrQ==",children:l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:o}),(0,u.jsx)("div",{className:"AL1A1EdLsUF3+-Kn1jzajQ==",children:a})]})})};Mme.defaultProps={isLoadingIntervals:!1,isIntervalsWereRequested:!1},Mme.propTypes={hasIntervals:c().bool.isRequired,isLoadingIntervals:c().bool,isIntervalsWereRequested:c().bool};const Ime=Mme;var Zme=(0,u.jsx)(J.Z,{id:"Operator.EditShift",defaultMessage:[{type:0,value:"Изменение графика"}]}),qme=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),Fme={id:"OperatorPunctuality.graphPunctuality",defaultMessage:"Соблюдение графика"},Lme={id:"OperatorDay.changeWorkSchedule",defaultMessage:"Изменение графика работы на"};var Hme=e=>{var{start:t,end:r,hasIntervals:i}=e,s={left:"".concat(100*t,"%"),right:"".concat(100-100*r,"%")},n=me()("j+88NRWiPoqKzA0gS41ftw==",{"_5rSZXbAsXkOR6rwipP2zHg==":i,"GStTatn+9zP+vhFJt5ZqXA==":!i});return(0,u.jsx)("div",{style:s,className:n})};Hme.defaultProps={hasIntervals:!1},Hme.propTypes={hasIntervals:c().bool,start:c().number.isRequired,end:c().number.isRequired};const _me=Hme;var Bme=e=>e.operator.operatorApplications,Gme=e=>e.operator.operatorDataAlreadyFetched,Wme=e=>e.operator.globalSettingsAlreadyFetched,Ume=e=>e.operator.preferences.fetchedPreferenceStatistic,Vme=e=>e.operator.preferences.preferenceEnableStatuses,zme=e=>e.operator.preferences.checkedPreferenceCells,Yme=e=>e.operator.preferences.preferencesByPeriod,Qme=e=>e.operator.preferences.propose,Kme=e=>e.operator.swaps.requests,Xme=e=>e.operator.preferences.isProposeLoading,Jme=e=>e.operator.isTemplateValid,$me=e=>e.operator.possibleIntervalsToChange,eve=e=>e.operator.isLoadingIntervals,tve=e=>e.operator.requestedIntervalsId,rve=e=>e.operator.intervalsWereRequested,ive=e=>e.operator.temporaryDayActivities,sve=ns()().year(),nve=ns()().month(),ave=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sve,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nve+1;return(0,Q.createSelector)(zme,(r=>r.map((r=>ns()("".concat(e,"-").concat(t,"-").concat(r),ft.vc).format(ft.vc)))))},ove=e=>{var{min:t,max:r,intervals:i}=e,n=(0,s.v9)(rve),a=(0,s.v9)(eve),o=(0,j.xb)(i)&&n&&!a,l=(0,ft.ZG)(t,ft._E),c=(0,ft.ZG)(r,ft._E);return(0,u.jsxs)("div",{className:"UO2HS9oe8xnYs1+trFWylA==",children:[o&&(0,u.jsx)(_me,{start:(0,X.Fv)(l,l,c),end:(0,X.Fv)(c,l,c)}),i.map((e=>{var t=(0,ft.ZG)(e.from),r=(0,ft.ZG)(e.to);return(0,u.jsx)(_me,{start:(0,X.Fv)(t,l,c),end:(0,X.Fv)(r,l,c),hasIntervals:!0})})),(0,u.jsx)(zm,{showGrid:!0})]})};ove.propTypes={min:zn.ZP.isRequired,max:zn.ZP.isRequired,intervals:P.$$.isRequired};const lve=ove,cve="z6jzwR5YlCtzYDma7M8Vwg==",dve={stylesMonthSelect:"riOMszLi8FE+uAkYh9kH5g==",stylesDaySelect:"_6azneKvX1bkmR7GUHhU1iA==",userName:"_3oWciljj8BIv3kXp2izdNQ==",tableLabel:"pa8UdoiJ46SxnjEUvyBUmw==",tableContainer:"_5cJ4SFdGakFNOo9fSuCDOw==",filterIcon:"mw-36y4i8xdAuZI8zzMZgA==",acronymClassName:"HlVU9qp67AMPcEuiC0DEiA=="};var uve="YYYY-MM-DD";function pve(e){return ns()(e,uve).startOf("day").isSame(ns()().startOf("day"))}function hve(e){var t=ns()(e,uve).day();return 6===t||0===t}function fve(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,t=[],r=0;r<e;r++)t.push((0,u.jsx)("div",{style:{height:"100%",borderLeft:"1px solid lightgray",display:"inline-block",position:"relative",width:"".concat(100/e,"%")}},r));return(0,u.jsx)("div",{className:"vertical-grid",style:{padding:0},children:(0,u.jsx)("div",{style:{height:30},children:t})})}function mve(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=[],i={width:"".concat(e/t,"px")},s=0;s<t;s++){var n=(o=void 0,((o=(a=s)>=24?a-24:a)>9?o:"0"+o)+":00");r.push((0,u.jsx)("div",{style:i,children:(0,u.jsx)("span",{children:n})},s))}var a,o;return(0,u.jsx)("div",{style:{height:"100%"},children:(0,u.jsx)("div",{style:{height:"100%"},children:r})})}var vve=e=>ns()(e,uve).startOf("day").unix()===ns()().startOf("day").unix(),yve=(0,u.jsxs)("span",{className:dve.filterIconWrap,children:[(0,u.jsx)(J.Z,{id:"Graph.nameEmployee",defaultMessage:[{type:0,value:"ФИО сотрудника"}]}),(0,u.jsx)(et.ZP,{classCustom:dve.filterIcon,glyph:et.wn})]});const gve={activity:"_74w6Hgr0SKDLDr5WKMcZPQ==",container:"RI0SGhVmOEUH-iRuyNto+g==",root:"ctdNp4kbZHo-YhUDwvOxag==",inner:"AuGI17DeEP8StMH3h+1w7Q==",label:"TwC5py5KftifAym2vKjVRg=="};function bve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bve(Object(r),!0).forEach((function(t){xve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sve=ai().bind(gve),Ove=e=>{var{workActivitiesMap:t,workActivityId:r,start:i,end:n,isSelected:a,isActivityChangingLoading:o,ownerId:l,id:c,onMouseDown:d,minSecond:p,maxSecond:h,isMovable:f,isIntervalsRequested:m,possibleIntervals:v,setPristine:y}=e,g=(0,s.I0)(),b=!(0,j.xb)(v);if((0,j.xb)(t))return null;var x=(0,ft.VM)(i),S=(0,ft.VM)(n),O="".concat(100*(0,X.Fv)(x,p,h),"%"),P="".concat(100-100*(0,X.Fv)(S,p,h),"%"),w=t[r],C=((e,t,r)=>t&&e&&r?"grab":!t&&e?"pointer":"default")(f,m,b),k=m?"1px solid #2D3E50":"none",T="".concat(w?w.name:""," (").concat((0,ft.jL)(i)," - ").concat((0,ft.jL)(n),")"),N=w?w.color:"black",R=(0,X._T)(N)?"white":"#77828c",E=((e,t,r)=>e?t&&!r?"none":"auto":"none")(f,m,b),D=Sve({inner:!0,selected:a,disabled:o}),A={left:O,right:P,cursor:C,pointerEvents:E,border:k},M={backgroundColor:N};return(0,u.jsx)("div",{style:A,className:gve.root,children:(0,u.jsx)("div",{style:M,role:"button",tabIndex:0,className:D,onMouseDown:e=>{o||m&&(d(e,c,l),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())},title:T,onClick:()=>{m?(0,Hr.setIntervalsWereRequested)(!1):(g((0,Hr.fetchPossibleIntervals)({scheduleActivityId:c})),g((0,Hr.setRequestedIntervalsId)(c)),g((0,Hr.setIntervalsWereRequested)(!0)),y(!0))},children:(0,u.jsx)($n,{style:{margin:"3px"},text:T,display:!0,color:R})})})};Ove.defaultProps={isSelected:!1,id:"",isIntervalsRequested:!1,possibleIntervals:[]},Ove.propTypes=_()({id:P.K5,start:P.yb.isRequired,end:P.yb.isRequired,workActivityId:P.K5.isRequired,workActivitiesMap:c().object.isRequired,minSecond:c().number.isRequired,maxSecond:c().number.isRequired,onMouseDown:c().func.isRequired,setPristine:c().func.isRequired,ownerId:P.K5.isRequired,isSelected:c().bool,isActivityChangingLoading:c().bool.isRequired,isMovable:c().bool.isRequired,isIntervalsRequested:c().bool,possibleIntervals:P.$$});const Pve=Ove;var wve=e=>{var{activities:t,ownerId:r,minSecond:i,maxSecond:n,templateActivity:a,onActivityMouseDown:o,setPristine:l}=e,c=(0,s.v9)(pn),d=(0,s.v9)(K.WG),p=(0,s.v9)(tve),h=(0,s.v9)($me);return(0,u.jsxs)(u.Fragment,{children:[t.map(((e,s)=>{var{id:a,start:f,end:m,workActivityId:v}=e,y=p===a,g=((e,r)=>0!==r&&r!==t.length-1&&t[r-1].workActivityId===t[r+1].workActivityId)(0,s),b=g&&!(0,ft.QS)(f)&&e.movable;return(0,u.jsx)(Pve,{id:a,start:f,end:m,workActivityId:v,workActivitiesMap:c,minSecond:i,maxSecond:n,onMouseDown:o,ownerId:r,isActivityChangingLoading:d,isIntervalsRequested:y,isMovable:b,possibleIntervals:h,setPristine:l},a||s)})),!(0,j.xb)(a)&&(()=>{var{start:e,end:t,workActivityId:s,id:l}=a,h=p===l;return(0,u.jsx)(Pve,{id:l,start:e,end:t,workActivityId:s,workActivitiesMap:c,minSecond:i,maxSecond:n,isActivityChangingLoading:d,onMouseDown:o,ownerId:r,isIntervalsRequested:h})})()]})};wve.propTypes={activities:c().arrayOf(P.FG).isRequired,ownerId:c().string.isRequired,minSecond:c().number.isRequired,maxSecond:c().number.isRequired,templateActivity:P.FG.isRequired,onActivityMouseDown:c().func.isRequired,setPristine:c().func.isRequired};const Cve=wve;function kve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tve extends m.Component{constructor(e){super(e),kve(this,"handleMouseMove",(0,Yi.D)(0,!1,(e=>{if(this.dragStartCoordinates){var t=(e.touches?e.touches[0].clientX:e.clientX)-this.dragStartCoordinates.x,r=300*Math.ceil(t*this.secondsInPixel/300);this.moveSelectedActivities(r)}}))),kve(this,"setIsTemplateInIntervals",((e,t,r)=>{var i=t.some((t=>{var{from:r,to:i}=t,{start:s}=e;return(0,ft.zx)(s,r,i)&&(0,ft.hF)(s,i)}));this.props.onSetTemplateIsValid(i&&!r)})),kve(this,"onDragStop",(()=>{if(this.dragStartCoordinates){this.dragStartCoordinates=void 0;var{deltaSeconds:e,templateActivity:t,activities:r}=this.state,{getPayload:i,onSetTemporaryActivities:s,temporaryActivities:n,onSetIntervalsWereRequested:a,isIntervalsWereRequested:o,isTemplateValid:l,onSetTemplateIsValid:c,possibleIntervals:d}=this.props;if(!(Math.abs(e)<300)){var u=((e,t,r,i)=>e?t:(0,j.xb)(r)?i:r)(o,this.props.activities,n,r),p=((e,t)=>{var r=e.findIndex((e=>e.id===t.id)),i=ns()(t.start,ft._E),s=ns()(t.end,ft._E),n=ns()(e[r-1].start,ft._E),a=ns()(e[r+1].end,ft._E);return i<=n||s>=a})(u,t),h=((e,t)=>e.some((e=>{var r=ns()(t.start,ft._E),i=ns()(e.from,ft._E),s=ns()(e.to,ft._E);return r.isBetween(i,s,"minutes","[]")})))(d,t),f=(0,ft.hF)(t.start,(0,ft.zO)()),m=(0,j.xb)(t)||p||f||!h,v=(e=>e.map(((t,r)=>{if(r>0&&r<e.length-1){if(t.workActivityId===e[r-1].workActivityId)return{};if(t.workActivityId===e[r+1].workActivityId)return jve(jve({},t),{},{end:e[r+1].end})}return t})).filter((e=>!(0,j.xb)(e))))(m?u:(0,Rn.xg)(u,[t],e));this.setState((()=>({deltaSeconds:0,activities:v})),this.unselectActivities),this.setIsTemplateInIntervals(t,d,m),m&&l&&c(!0),s(v),a(!1);var y=v.find((e=>e.id===t.id)),g=h?t.start:y.start;i({scheduleActivityId:t.id,newStart:g})}}})),kve(this,"onDragStart",(e=>{2!==e.button&&(this.dragStartCoordinates=e.touches?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY})})),kve(this,"onActivityMouseDown",((e,t)=>{if(t){var{isIntervalsWereRequested:r,date:i,stopMouseDownPropagation:s}=this.props;this.setState((e=>{var{activities:s}=e,n=(r?this.props.activities:s).find((e=>e.id===t));return{selectedActivity:n,templateActivity:n,currentDate:i}}),(()=>this.onDragStart(e))),s&&e.nativeEvent.stopImmediatePropagation()}})),kve(this,"saveEditorRef",(e=>this.editorRef=e)),kve(this,"moveSelectedActivities",(e=>{this.setState((t=>{var r=(0,Rn.yX)([t.selectedActivity],e);return{deltaSeconds:e,templateActivity:r[0]}}))})),kve(this,"handleDocumentMouseDown",(()=>{(0,j.xb)(this.state.selectedActivity)||this.unselectActivities()})),kve(this,"unselectActivities",(()=>{this.setState({selectedActivity:{},templateActivity:{}})})),this.editorRef=null,this.state={selectedActivity:{},templateActivity:{},activities:e.activities,deltaSeconds:0,currentDate:e.date}}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown,!1),document.addEventListener("mouseup",this.onDragStop,!1),document.addEventListener("mousemove",this.handleMouseMove,!1)}static getDerivedStateFromProps(e){var{activities:t,open:r}=e;return r?null:{activities:t}}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown,!1),document.removeEventListener("mouseup",this.onDragStop,!1),document.removeEventListener("mousemove",this.handleMouseMove,!1)}render(){var{endSecond:e=86400,startSecond:t=0,possibleIntervals:r,date:i,userId:s,isIntervalsWereRequested:n,requestedIntervalsId:a,setPristine:o}=this.props,{activities:l,templateActivity:c,currentDate:d}=this.state,p=n||d!==i||d===i&&(0,j.xb)(a)?this.props.activities:l,h=(0,ft.b7)(i),f=(0,ft.iX)(i);return this.componentWidthInPixels=this.editorRef?this.editorRef.offsetWidth:0,this.secondsInPixel=(e-t)/this.componentWidthInPixels,(0,u.jsxs)("div",{className:"ApHJtIhZHYp0yCdU2aHosA==",children:[(0,u.jsxs)("div",{className:"hS+Va90TmZOUBXu53-2GCQ==",children:[(0,u.jsx)("span",{className:cve,children:(0,u.jsx)(J.Z,{id:"OperatorDay.graph",defaultMessage:[{type:0,value:"График"}]})}),(0,u.jsx)("span",{className:cve,children:(0,u.jsx)(J.Z,{id:"OperatorDay.availableOptions",defaultMessage:[{type:0,value:"Доступные варианты"}]})})]}),(0,u.jsxs)("div",{className:"UxPq3doclFLBvch4JRaheg==",children:[vve(i)&&(0,u.jsx)(Yo,{orientation:"horizontal",updateInterval:6e4,measureUnit:"%",pulpOffset:-20,heightHorizontal:73,zIndex:1,showPulp:!0}),(0,u.jsx)("div",{ref:this.saveEditorRef,className:me()("KYE8e0qSGe8OH-Mt3-nVxA==","horizontal-schedule-editor schedule-editor disable-selection--deep"),children:(0,u.jsx)(Cve,{activities:(0,Rn.oJ)(p),ownerId:s,minSecond:t,maxSecond:e,templateActivity:c,onActivityMouseDown:this.onActivityMouseDown,setPristine:o})}),(0,u.jsx)(lve,{min:h,max:f,intervals:r}),(0,u.jsx)(Um,{color:"#77828C",showHours:!0})]})]})}}Tve.defaultProps={activities:[],stopMouseDownPropagation:!1,possibleIntervals:[],temporaryActivities:[],isIntervalsWereRequested:!1,requestedIntervalsId:""},Tve.propTypes=_()({startSecond:c().number.isRequired,endSecond:c().number.isRequired,activities:c().arrayOf(P.FG),getPayload:c().func.isRequired,stopMouseDownPropagation:c().bool,onSetTemporaryActivities:c().func.isRequired,onSetIntervalsWereRequested:c().func.isRequired,onSetTemplateIsValid:c().func.isRequired,date:c().string.isRequired,possibleIntervals:P.$$,temporaryActivities:c().arrayOf(P.FG),userId:c().string.isRequired,open:c().bool.isRequired,isIntervalsWereRequested:c().bool,isTemplateValid:c().bool.isRequired,setPristine:c().func.isRequired,requestedIntervalsId:c().string});var Nve=e=>{var{startSecond:t,endSecond:r,activities:i,getPayload:n,stopMouseDownPropagation:a,setPristine:o,date:l,open:c}=e,[d,p]=(0,m.useState)(!1),h=(0,s.I0)(),f=(0,s.v9)(dn),v=(0,s.v9)($me),y=(0,s.v9)(ive),g=(0,s.v9)(tve),b=(0,s.v9)(rve),j=(0,s.v9)(K.D3),x=(0,s.v9)(Y.Wx),S=(0,s.v9)(Jme);return(0,m.useEffect)((()=>(f!==Oa.Z.idle||d||(h((0,Sa.fetchWorkActivities)()),p(!0)),()=>{p(!1)})),[]),(0,u.jsx)(Tve,{date:l,startSecond:t,endSecond:r,activities:i,getPayload:n,groupId:x,userId:j,stopMouseDownPropagation:a,possibleIntervals:v,temporaryActivities:y,onSetTemporaryActivities:e=>{h((0,Hr.setTemporaryActivities)(e)),o(!1)},requestedIntervalsId:g,isIntervalsWereRequested:b,onSetIntervalsWereRequested:e=>h((0,Hr.setIntervalsWereRequested)(e)),onSetTemplateIsValid:e=>h((0,Hr.setTemplateIsValid)(e)),isTemplateValid:S,open:c,setPristine:o})};Nve.defaultProps={activities:[],stopMouseDownPropagation:!1,open:!1},Nve.propTypes=_()({startSecond:c().number.isRequired,endSecond:c().number.isRequired,activities:c().arrayOf(P.FG),getPayload:c().func.isRequired,setPristine:c().func.isRequired,stopMouseDownPropagation:c().bool,date:c().string.isRequired,open:c().bool});const Rve=Nve;var Eve=e=>{var{open:t,onClose:r,date:i,activities:n,workActivitiesMap:a,groupId:o}=e,l=(0,er.Z)(),c=(0,s.I0)(),d=(0,s.v9)(rve),p=(0,s.v9)(eve),h=(0,s.v9)($me),f=(0,s.v9)(Jme),[v,y]=(0,m.useState)({}),[g,b]=(0,m.useState)(!0),x=(0,ft.b7)(i),S=(0,ft.iX)(i),O=(0,ft.VM)(x),P=(0,ft.VM)(S),w=(0,ft.Vb)(i),C=me()({"_6kZAHny3exTpgDpiZBe+pg==":f&&!g});return(0,m.useEffect)((()=>{b(!0)}),[i,t]),(0,u.jsx)(ve.ZP,{className:"-SpOsFgD1usrrnhXhO97Lw==",open:t,anchor:"bottom",disableEnforceFocus:!0,variant:"persistent",children:(0,u.jsxs)("div",{className:"_3O898BxgQHkxYTeW64aOxA==",children:[(0,u.jsxs)("div",{className:"hNlawJfO42XmSqfU+W30lQ==",children:[(0,u.jsx)("div",{className:"ZU-W3c6xoAnCBaPy6-pEgQ==",children:"".concat(l.formatMessage(Lme)," ").concat(w)}),(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:r,classContainer:"nEi0Kofcg5LKf3IaVi0dsw==",classIcon:"x-pcHgZzQf+drP8-G3wxZQ=="})]}),(0,u.jsx)(Rve,{activities:n,startSecond:O,endSecond:P,getPayload:y,workActivitiesMap:a,setPristine:b,date:i,open:t}),(0,u.jsxs)("div",{className:"BUwT0Oi0gkOL4WJiJ5vqAg==",children:[(0,u.jsx)(Ime,{hasIntervals:!(0,j.xb)(h),isIntervalsWereRequested:d,isLoadingIntervals:p}),(0,u.jsx)(Ae.Z,{className:C,disabled:!f||g,onClick:()=>c((0,Hr.saveNewScheduleActivities)(v,(()=>{c((0,Hr.fetchOperatorDataByDay)({from:x,to:S,groupId:o,requestAdditional:!0,requestChangeRequests:!0,requestPunctuality:!0})),c((0,Hr.fetchPossibleIntervals)({scheduleActivityId:v.scheduleActivityId})),b(!0)}))),children:qme})]})]})})};Eve.defaultProps={open:!1},Eve.propTypes={open:c().bool,onClose:c().func.isRequired,date:c().string.isRequired,activities:c().array.isRequired,workActivitiesMap:c().array.isRequired,groupId:c().string.isRequired};const Dve=Eve,Ave="EMDdl9gO7GH1rLqMJQqxlQ==",Mve="AghwSsgw9jZOqU3K92GWaQ==";var Ive={id:"id",start:"start",end:"end"},Zve={id:"workActivityId",color:"color",text:"name"},qve={id:"start",start:"start",end:"end"},Fve={id:"userStatusExternalId",color:"color",text:"name"},Lve={id:"from",start:"from",end:"to"},Hve=e=>{var{date:t,activities:r,workActivitiesMap:i,userLog:s,userStatusesMap:n,violations:a}=e,o=(0,ft.b7)(t),l=(0,ft.iX)(t);return(0,u.jsxs)("div",{className:"JlclHl8lzJS5-sBRJremVg==",children:[(0,u.jsxs)("div",{className:"_76mUBiz4VpSAsv7LRAzUhw==",children:[(0,u.jsx)("span",{className:Mve,children:(0,u.jsx)(J.Z,{id:"Menu.schedule",defaultMessage:[{type:0,value:"Расписание"}]})}),(0,u.jsx)("span",{className:Mve,children:(0,u.jsx)(J.Z,{id:"OperatorDay.fact",defaultMessage:[{type:0,value:"Факт"}]})}),(0,u.jsx)("span",{className:Mve,children:(0,u.jsx)(J.Z,{id:"Operator.violations",defaultMessage:[{type:0,value:"Нарушения"}]})})]}),(0,u.jsxs)("div",{className:"uniVoJKIKqZB7ThpwonJZQ==",children:[vve(t)&&(0,u.jsx)(Yo,{orientation:"horizontal",updateInterval:6e4,measureUnit:"%",pulpOffset:-20,heightHorizontal:81,zIndex:1,showPulp:!0}),(0,u.jsx)(Xm,{data:(0,Rn.oJ)(r),dataConfig:Ive,min:o,max:l,colorMap:i,colorMapConfig:Zve,height:20,showText:!0}),(0,u.jsx)("div",{className:Ave}),(0,u.jsx)(Xm,{data:s,dataConfig:qve,min:o,max:l,colorMap:n,colorMapConfig:Fve,height:20}),(0,u.jsx)("div",{className:Ave}),(0,u.jsx)(Xm,{data:a,dataConfig:Lve,min:o,max:l,height:20}),(0,u.jsx)(Um,{showHours:!0})]})]})};Hve.propTypes={date:c().string.isRequired,activities:c().array,userLog:c().array,violations:c().array.isRequired,workActivitiesMap:c().object.isRequired,userStatusesMap:c().object.isRequired},Hve.defaultProps={activities:[],userLog:[]};const _ve=Hve;var Bve=e=>{var{workActivitiesMap:t,userStatusesMap:r,operatorSchedulesByDay:i,fetchDataByDay:n,date:a,groupId:o}=e,l=(0,er.Z)(),c=(0,s.I0)(),d=(0,s.v9)((e=>(0,B.vH)(e,"allowEmployeesToUpdateSchedule"))),[p,h]=(0,m.useState)(!1);(0,m.useEffect)((()=>{a&&n(a,o),(0,ft.zR)((0,ft.CK)(a))&&h(!1),c((0,Hr.setRequestedIntervalsId)("")),c((0,Hr.setIntervalsWereRequested)(!1)),c((0,Hr.setTemporaryActivities)([])),c((0,Hr.setPossibleIntervals)([]))}),[a]);var f=i.punctuality?i.punctuality:{},{schedule:v=[],logs:y=[],violations:g=[],punctualityPercent:b=0}=f,j=(0,ft.CK)(a),x=(0,ft.zR)(j)||!v.some((e=>e.movable));return(0,u.jsx)("div",{className:"scroll",children:(0,u.jsxs)("div",{className:me()("QJO04VydmPLKV7OFb6eKhQ=="),children:[(0,u.jsxs)("div",{className:"_0DhelvoNJNa9Lmh7+9tw-Q==",children:[(0,u.jsx)("h1",{className:"-Z0FweLIrPl6n1lx9GJIdA==",children:(0,ft.LT)(a)}),"".concat(l.formatMessage(Fme)," ").concat(b.toFixed(),"%")]}),(0,u.jsx)(_ve,{date:(0,ft.CK)(a),activities:v,workActivitiesMap:t,userStatusesMap:r,userLog:y,violations:g}),(0,u.jsxs)("div",{className:"_4AYMRlJeLxCC-M5R2e0kEw==",children:[(0,u.jsx)("div",{className:"DWEAPc6Fclip3zjUEVm47w==",children:(0,Rn.oJ)(v).map((e=>{var r,i,{workActivityId:s,start:n,end:a}=e,o=null==t||null===(r=t[s])||void 0===r?void 0:r.color,l=null==t||null===(i=t[s])||void 0===i?void 0:i.name,c=(0,ft.zR)(a),d=(0,ft.i7)(n),p=(0,ft.i7)(a),h="".concat(d,"-").concat(p," ").concat(l),f=(0,ft.vj)({start:n,end:a});return(0,u.jsxs)("div",{className:me()("sop4RFOQnqSZ8iVuphw7zQ==",{"bkcHTn8uxafvhA2JjnrkiA==":f,"l85aYSyh6G1+Xb7KAjoCSw==":c}),children:[(0,u.jsx)("span",{className:"activity-presentation__color-sample mr+",style:{backgroundColor:o}}),(0,u.jsx)("span",{className:"activity-presentation__name",children:h})]})}))}),d&&(0,u.jsx)(Ae.Z,{className:"_6iR6yzyQVgEHFRyOYd9zXA==",disabled:x,onClick:()=>h(!p),children:Zme})]}),(0,u.jsx)(Dve,{open:p,onClose:()=>{c((0,Hr.setPossibleIntervals)([])),c((0,Hr.setRequestedIntervalsId)("")),c((0,Hr.setTemporaryActivities)([])),c((0,Hr.setIntervalsWereRequested)(!1)),h(!1)},date:j,activities:v,workActivitiesMap:t,groupId:o})]})})};Bve.propTypes={fetchDataByDay:c().func.isRequired,workActivitiesMap:c().object.isRequired,userStatusesMap:c().object.isRequired,operatorSchedulesByDay:c().object.isRequired,date:c().string.isRequired,groupId:c().string.isRequired};const Gve=Bve,Wve="ojZimSAkEzHaY88kBEHaSg==",Uve="rCdra3RRnRdKXjSxMqictw==",Vve="wmlPRfGODPBP+6k7MPQynw==";var zve=e=>(0,u.jsx)(u.Fragment,{children:e.commentsList.map((e=>(0,u.jsxs)("div",{className:"URj0RrTfuKWzj5cJipdjRA==",children:[(0,u.jsx)("span",{className:Wve,children:ns()(e.dateFrom,ft._E).format(ft._T)}),(0,u.jsx)("span",{className:Wve,children:e.authorDisplayName}),(0,u.jsx)("span",{className:"ZSbaDEXQJa4XNsWheeP4Kw==",children:e.comment}),(0,u.jsx)("span",{})]},e.id)))});zve.defaultProps={commentsList:[]},zve.propTypes={commentsList:c().array};const Yve=zve;var Qve=e=>{if((0,j.xb)(e))return{};var t={};return e.forEach((e=>{var r=ns()(e.start,ft._E).local().format(ft.vc);t[r]=[...t[r]||[],e]})),t},Kve=e=>{var{operatorSchedules:t,isOzonEmployeeWorkspaceBlocked:r,fetchOperatorDataByMonth:i,datePeriod:s,workActivitiesMap:n,userStatusesMap:a,operatorSchedulesByDay:o,fetchDataByDay:l,commentsList:c,groupId:d}=e;return(0,m.useEffect)((()=>{i(s,d)}),[s.month]),(0,u.jsxs)("div",{className:"rmC7BJaPl-jvVczrrgAexg==",children:[(0,u.jsx)(gme,{onUnmountCb:()=>{i(s,d)},isOzonEmployeeWorkspaceBlocked:r}),(0,u.jsxs)("div",{className:"TrTuyICyXdqMon72vstm4Q==",children:[(0,u.jsx)(dfe,{hide:r?"week":"",className:"ooWARVazW+ltaZYqtP2xeA=="}),(0,u.jsx)(gfe,{className:"p6uua1NRUZ+hpDM8IGGgJA=="}),(0,u.jsx)(lfe,{hidden:r,normStat:null==t?void 0:t.stat})]}),(0,u.jsxs)("div",{className:"_8v6hdmB6bAA+8Oeh23Rc6g==",children:[(0,u.jsx)(Ame,{year:s.year,month:s.month,dayDate:s.dayDate,operatorSchedules:t,indexedAdditionalSchedules:Qve(t.additionalSchedules)}),(0,u.jsxs)("div",{className:"_6M9LE0OOX+yUWhhI+d8O8A==",children:[(0,u.jsx)("div",{className:"Wa1kIu+3v+uS4d0Xo6jvqg==",children:(0,u.jsx)(J.Z,{id:"OperatorWeek.commentsTitle",defaultMessage:[{type:0,value:"Комментарии"}]})}),(0,u.jsx)("div",{className:me()("HxY6wy0QlYo72r-2-D6K5A==","scroll"),children:(0,u.jsx)(Yve,{commentsList:c})})]})]}),(0,u.jsx)(Gve,{date:s.dayDate,workActivitiesMap:n,userStatusesMap:a,operatorSchedulesByDay:o,fetchDataByDay:l,groupId:d})]})};Kve.defaultProps={operatorSchedules:{},isOzonEmployeeWorkspaceBlocked:!1,commentsList:[]},Kve.propTypes={operatorSchedules:c().object,isOzonEmployeeWorkspaceBlocked:c().bool,fetchOperatorDataByMonth:c().func.isRequired,datePeriod:c().object.isRequired,workActivitiesMap:c().object.isRequired,userStatusesMap:c().object.isRequired,operatorSchedulesByDay:c().object.isRequired,fetchDataByDay:c().func.isRequired,commentsList:c().array,groupId:c().string.isRequired};const Xve=Kve;function Jve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jve(Object(r),!0).forEach((function(t){eye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tye=_ae(((e,t)=>(0,u.jsx)(Hi,{children:(0,u.jsx)(e,$ve({},t))})));function rye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rye(Object(r),!0).forEach((function(t){sye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nye={requestDetailed:!0,requestAdditional:!0,requestActivities:!0},aye=e=>{var{year:t,month:r,day:i}=e.params,s=(0,ft.zO)("DD"),n=(0,ft.RN)(r,"MM"),a=Number(s)>=Number(n.format("DD"))?n.format(ft.vc):(0,ft.zO)(ft.vc),o={year:t||(0,ft.pG)(a,ft.vc,"YYYY"),month:r||(0,ft.pG)(a,ft.vc,"MM"),day:i||(0,ft.pG)(a,ft.vc,"DD")};return o.dayDate="".concat(o.year,"-").concat(o.month,"-").concat(o.day),o};const oye=(0,o.compose)(y.EN,(0,s.$j)((e=>iye(iye({},e.operator),{},{workActivitiesStatus:dn(e),workActivitiesMap:pn(e),userStatusesMap:(0,B.Mc)(e),isOzonEmployeeWorkspaceBlocked:(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked"),operatorDataAlreadyFetched:Gme(e),user:(0,C.ts)(e),commentsList:Tb(e),groupId:(0,TZ.pw)(e)})),((e,t)=>({fetchUserStatus:()=>e((0,Bv.fetchUserStatus)()),setOperatorDataAlreadyFetched:t=>e((0,Hr.setOperatorDataAlreadyFetched)(t)),fetchWorkActivities:()=>e((0,Sa.fetchWorkActivities)()),fetchCommentsList:t=>e((0,xb.fetchCommentsList)(t)),fetchOperatorDataByMonth:(r,i)=>{var{from:s,to:n}=(0,ft.Xv)("".concat(r.year,"-").concat(r.month),!0),[a,o]=(0,ft.ae)(s,n);e((0,Hr.fetchOperatorData)(iye(iye({groupId:i},nye),{},{to:o,from:a}))),e((0,xb.fetchCommentsList)({userIds:[t.user.id],from:a,to:o}))},fetchDataByDay:(t,r)=>{var i=(0,ft.b7)(t,ft.vc),s=(0,ft.iX)(t,ft.vc),[n,a]=(0,ft.ae)(i,s,!0);e((0,Hr.fetchOperatorDataByDay)({from:n,to:a,requestAdditional:!0,requestChangeRequests:!0,requestPunctuality:!0,groupId:r}))}}))),(0,fl.G)((e=>iye({datePeriod:aye(e.match)},e))),(0,U.Z)((e=>{var{props:t}=e;t.operatorDataAlreadyFetched||(t.setOperatorDataAlreadyFetched(!0),(0,j.xb)(t.userStatuses)&&t.fetchUserStatus())})),(0,Ao.Z)((e=>{var{props:t}=e;t.operatorDataAlreadyFetched&&!t.isWorkActivityLoading&&t.setOperatorDataAlreadyFetched(!1)})),tye)(Xve);var lye=(0,ft.J$)(ft.vc),cye=(0,ft.lI)(ft.vc),dye=e=>{var t,r,{currentDate:i,className:s,isOzonEmployeeWorkspaceBlocked:n}=e,o=ns()(i,ft.vc).days(1),l=ns()(i,ft.vc).days(7),c=o.format(ft._T)+" ... "+l.format(ft._T),d="/operator/work-shifts/week/"+o.subtract(1,"w").format(ft.vc),p="/operator/work-shifts/week/"+o.add(2,"w").format(ft.vc),h=me()(s,"month-select");return(0,u.jsx)("div",{className:h,children:(0,u.jsxs)("ul",{className:"zP3ufrJdr-5RpRrQDlH8EQ==",children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:d,className:"ph",hidden:(r=o.subtract(2,"w"),n&&!r.isBetween(lye,cye)),children:(0,u.jsx)(et.ZP,{glyph:et.Y4})})}),(0,u.jsx)("li",{children:c}),(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:p,className:"ph",hidden:(t=o.add(2,"w"),n&&!t.isBetween(lye,cye)),children:(0,u.jsx)(et.ZP,{glyph:et.LZ})})})]})})};dye.defaultProps={className:"",isOzonEmployeeWorkspaceBlocked:!1},dye.propTypes={currentDate:c().string.isRequired,className:c().string,isOzonEmployeeWorkspaceBlocked:c().bool};const uye=dye;var pye=28.3,hye=[(0,u.jsx)(J.Z,{id:"CalendarViewSelect.monday",defaultMessage:[{type:0,value:"Пн."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.tuesday",defaultMessage:[{type:0,value:"Вт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.wednesday",defaultMessage:[{type:0,value:"Ср."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.thursday",defaultMessage:[{type:0,value:"Чт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.friday",defaultMessage:[{type:0,value:"Пт."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.saturday",defaultMessage:[{type:0,value:"Сб."}]}),(0,u.jsx)(J.Z,{id:"CalendarViewSelect.sunday",defaultMessage:[{type:0,value:"Вс."}]})],fye=e=>{var{dayStart:t,activities:r,workActivitiesMap:i}=e,s=(0,ft.VM)(t);return(0,u.jsx)("div",{className:"day-activities-container",children:r.map((e=>{var r=(0,ft.VM)(e.start),n=(0,ft.VM)(e.end),a=n-r>=3600,o=(n-r)/60/60*pye,l=i[e.workActivityId],c=o>10;if(l){var d="".concat((0,ft.jL)(e.start),"-").concat((0,ft.jL)(e.end)," ").concat(l.name),p=a?d:"";return(0,u.jsxs)(u.Fragment,{children:[(0,ft.zk)(t)&&(0,u.jsx)("div",{style:{position:"absolute",top:0,height:r*pye,backgroundColor:"#f6e3fc",width:"100%",zIndex:-1}}),(0,u.jsx)("div",{title:d,className:"operator-week-table__day-activity",style:{backgroundColor:l.color,top:(r-s)/60/60*pye,height:o,position:"absolute",color:l.color&&(0,X._T)(l.color)?"white":Qi.V$},children:c&&(0,u.jsxs)("div",{className:"operator-week-table__activity-text p",children:[(0,u.jsx)("div",{className:"operator-week-table__activity-time",style:{color:l.color&&(0,X._T)(l.color)?"white":Qi.V$},children:p}),(0,u.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:10,background:"linear-gradient(to bottom, rgba(0,0,0, 0.0), ".concat(l.color," 100%)")}})]})},e.id)]})}return null}))})};fye.propTypes={activities:c().array.isRequired,workActivitiesMap:c().object.isRequired,dayStart:c().string.isRequired};const mye=fye;var vye={width:13.8,height:pye},yye=e=>{var t=ns()(),r=ns()(e,ft.vc).days(1).format(ft.vc),i=ns()(e,ft.vc).days(7).format(ft.vc);return ns()(t).isBetween(r,i)},gye=e=>e.params.date||ns()().format(ft.vc),bye=e=>{var{headerDays:t,additionalSchedules:r}=e,i=(0,s.v9)(Nb),n=(0,s.v9)(Kme),{push:o}=(0,y.k6)(),l=(e=>{if(!(0,j.xb)(e)){var t={};return e.forEach((e=>{var r=(0,ft.FF)(e.start);t[r]=[...t[r]||[],e]})),t}return{}})(r);return(0,u.jsx)("tr",{className:"IR5NoG54bg61peL9Q2V8IA==",children:t.map(((e,t)=>{var r=!(0,j.xb)(l)&&l[e.dayStart]&&l[e.dayStart].length>0,s=t>5,c=(0,ft.Vb)(e.dayStart,ft.vc),d=((e,t)=>{if(!(0,j.xb)(t)){var r=e.filter((e=>{var{start:r,end:i}=e;return ns()(t).isSameOrAfter((0,ft.X5)(r))&&ns()(t).isSameOrBefore((0,ft.X5)(i))}));return!(0,j.xb)(r)}})(n,e.dayStart),p=ns()(e.dayStart)<ns()((0,ft.zO)(ft.vc))&&ns()(e.dayStart)!==ns()((0,ft.zO)(ft.vc)),h=i.some((e=>{var{dateFrom:t,dateTo:r}=e,i=(0,ft.Vb)(t),s=(0,ft.Vb)(r);return(0,ft.zx)(c,i,s)})),f="/operator/work-shifts/month/".concat((0,ft.Co)(e.dayStart)),m=me()("fPj2Cx94IkAzONSQND1f4g==","operator-week-table__day-in-month",{"NaY3QgvyPKwyAcZInfVOvA==":s});return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("td",{className:me()({[Uve]:(0,ft.zk)(e.dayStart)}),style:vye,children:(0,u.jsxs)("div",{className:"operator-week-table__day-container",style:{height:75,display:"flex"},children:[(0,u.jsx)("div",{className:me()({"XPldBg7YyqQ8e-d35p5I3w==":h})}),(0,u.jsxs)(a.rU,{to:f,children:[(0,u.jsxs)("div",{className:m,children:[e.dayStart&&(0,ft.Ro)(e.dayStart)," ",hye[t-1]]}),(0,u.jsx)("div",{className:"dy7uR23de82rQdahlJBWUA==",children:e.period})]}),(0,u.jsxs)("div",{className:"MDxdJB+kqowY3UzNFJRn-w==",children:[(0,u.jsx)("div",{children:(0,u.jsx)(Ml.Z,{hidden:!d,disabled:p,classIcon:"As7faYhudB6eX3a2VtEx6Q==",glyph:et.RI,onClick:()=>o("/operator/swaps/requests")})}),(0,u.jsx)("div",{children:(0,u.jsx)(Ml.Z,{hidden:!r,classIcon:"TSsmquwJYdm63B1waJzPiQ==",glyph:et.dt,onClick:()=>(e=>{o("/operator/additional-schedules/"+(0,ft.X5)(e))})(e.dayStart)})})]})]},e.id||t)},e.id||t)})}))})};bye.defaultProps={additionalSchedules:[]},bye.propTypes={headerDays:c().array.isRequired,additionalSchedules:c().array};const jye=bye;function xye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Sye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xye(Object(r),!0).forEach((function(t){Oye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Pye extends m.Component{constructor(){super(...arguments),Oye(this,"headerRef",(0,m.createRef)()),Oye(this,"handleScroll",(e=>{if(e.target===e.currentTarget){for(var t=this.headerRef.current.children[0].children,r=0;r<t.length;r++)t[r].style.top=e.target.scrollTop+"px";var i="table__header_fixed";0===e.target.scrollTop?this.headerRef.current.classList.remove(i):this.headerRef.current.classList.contains(i)||this.headerRef.current.classList.add(i)}})),Oye(this,"updateRequestData",(()=>{this.props.requestWeekData(this.props)}))}componentDidUpdate(e){e.match!==this.props.match&&this.updateRequestData()}transformOperatorSchedulesToDays(e){var t=[],r={},{match:i}=this.props;e&&e.map((e=>r[(0,ft.X5)(e.day)]=Sye(Sye({},e),{},{dayStart:(0,ft.X5)(e.day)})));for(var s=gye(i),n=ns()(s).startOf("week").day(1),a=ns()(s).startOf("week").day(7);n<=a;){var o=n.format(ft.vc);t.push(r[o]||{dayStart:o}),n.add(1,"day")}return[(t[0]?ns()(t[0].dayStart,ft.vc).format("DD.MM"):"")+" - "+(t[6]?ns()(t[6].dayStart,ft.vc).format("DD.MM"):"")+" "+(t[6]?ns()(t[6].dayStart,ft.vc).format("YYYY"):""),...t]}render(){var e,{operatorSchedules:t,commentsList:r,match:i,isOzonEmployeeWorkspaceBlocked:s,workActivitiesMap:n}=this.props,{activities:a,additionalSchedules:o,schedules:l}=t,c=gye(i),d=t&&l?this.transformOperatorSchedulesToDays(l):[];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsx)(gme,{onUnmountCb:this.updateRequestData,isOzonEmployeeWorkspaceBlocked:s})}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"eAMpH2gkGX2xQ+ItbuljJQ==",children:[(0,u.jsx)(dfe,{className:"EQqH97T8xNBSSYRB-wXQIQ=="}),(0,u.jsx)(uye,{currentDate:c,className:"Da2KrJYtLy3KET+eUVSozQ==",isOzonEmployeeWorkspaceBlocked:s})]})}),(0,u.jsxs)("div",{className:me()("operator-section","_2P66ddGBJwDuZZOdH5RIfw=="),children:[(0,u.jsx)("div",{className:me()("operator-section__content",{"SXmgnMN1jrssR02CwAMIhw==":s}),children:(0,u.jsx)("div",{className:"operator-week-container scrollbar",onScroll:this.handleScroll,children:(0,u.jsxs)("table",{className:"operator-week-table",children:[(0,u.jsx)("thead",{className:"VtLGok2JtESLxRFaudtEyQ==",ref:this.headerRef,children:(0,u.jsx)(jye,{additionalSchedules:o,headerDays:d})}),(0,u.jsxs)("tbody",{children:[(0,u.jsx)("tr",{className:me()(Vve,"_7rBYoC0N7qoZXZpRseDeiw==")}),(0,u.jsx)("tr",{className:me()(Vve,"RwgYxQLHsXXeGzOZnjidcA==")}),(0,u.jsxs)("tr",{className:"activities-row",children:[(0,u.jsx)("td",{className:"-hkdyF7ylfv5iNt1NLYfvA=="}),[...Array(7).keys()].map((e=>(0,u.jsx)("td",{style:{height:0},children:d[e+1]&&(0,u.jsx)(mye,{activities:(0,Rn.oJ)(a||[]),dayStart:ns()(d[e+1].dayStart).startOf("day").format(ft._E),workActivitiesMap:n})},e)))]}),yye(c)&&(0,u.jsx)("div",{className:"_36pO7a22cLRVmnuE9peBdA==",children:(0,u.jsx)(Yo,{pixelsPerHour:pye,updateInterval:6e4,showPulp:!0,isOperatorWeek:!0})}),(0,u.jsx)("tr",{className:me()(Vve,"_0fsa4GaV-XOXSE5TTJx0Ww==")}),(e=d,[...Array(24).keys()].map((t=>(0,u.jsxs)("tr",{className:"bAZpX+oOoHAe1JaUu+-JBQ==",children:[(0,u.jsx)("td",{className:"operator-week-table__hour-cell same-width",style:vye,children:(0,u.jsxs)("div",{className:"operator-week-table__hour-container",children:[t<10?"0"+t:t,":00"]})}),[...Array(7).keys()].map(((t,r)=>{var i,s=null===(i=e[r+1])||void 0===i?void 0:i.dayStart;return(0,u.jsx)("td",{className:me()("same-width",{[Uve]:s&&(0,ft.zk)(s)})})}))]},t))))]})]})})}),!s&&(0,u.jsxs)("div",{className:"Pv9e9fHR2E2eJIWIbOjdsQ==",children:[(0,u.jsx)("div",{className:"k7XIQdYQUx6bIdXBsAngIA==",children:(0,u.jsx)(J.Z,{id:"OperatorWeek.commentsTitle",defaultMessage:[{type:0,value:"Комментарии"}]})}),(0,u.jsx)("div",{className:me()("S40TKUZtxtzdF-BZfIhkYw==","scroll"),children:(0,u.jsx)(Yve,{commentsList:r})})]})]})]})}}function wye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Cye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wye(Object(r),!0).forEach((function(t){kye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Pye.defaultProps={isOzonEmployeeWorkspaceBlocked:!1,commentsList:[]},Pye.propTypes={workActivitiesMap:c().object.isRequired,operatorSchedules:c().object.isRequired,match:c().object.isRequired,requestWeekData:c().func.isRequired,isOzonEmployeeWorkspaceBlocked:c().bool,commentsList:c().array},Pye.contextTypes={muiTheme:c().object};const Tye=(0,o.compose)(y.EN,(0,s.$j)((e=>Cye(Cye({},e.operator),{},{workActivities:un(e),workActivitiesMap:pn(e),commentsList:Tb(e),user:(0,C.ts)(e),groupId:(0,TZ.pw)(e),isOzonEmployeeWorkspaceBlocked:(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked")})),(e=>({fetchCommentsList:t=>e((0,xb.fetchCommentsList)(t)),fetchOperatorData:t=>e((0,Hr.fetchOperatorData)(t)),fetchWorkActivities:()=>e((0,Sa.fetchWorkActivities)()),getSwapsRequests:t=>e((0,cme.getSwapsRequests)(t)),setOperatorDataAlreadyFetched:t=>e((0,Hr.setOperatorDataAlreadyFetched)(t)),requestParams:{requestDetailed:!0,requestAdditional:!0,requestActivities:!0}})),((e,t,r)=>Cye(Cye(Cye(Cye({},e),t),r),{},{requestWeekData:t=>{var r=t.match.params&&t.match.params.date?ns()(t.match.params.date,ft._E):ns()(),i=r.days(1).startOf("d").format(ft._E),s=r.days(7).endOf("d").format(ft._E),[n,a]=(0,ft.ae)(i,s);t.fetchOperatorData(Cye(Cye({},t.requestParams),{},{from:n,to:a,groupId:e.groupId})),t.fetchCommentsList({userIds:[t.user.id],from:n,to:a})}}))),(0,U.Z)((e=>{var{props:t}=e;t.requestWeekData(t),t.getSwapsRequests({ownership:"OTHERS"}),(0,j.xb)(t.workActivities)&&t.fetchWorkActivities()})),tye)(Pye);var Nye=["component","basePath"];function Rye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Eye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rye(Object(r),!0).forEach((function(t){Dye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Aye=ns()().startOf("month").format(ft.vc),Mye=ns()().endOf("month").format(ft.vc),Iye=e=>{var{component:t,basePath:r}=e,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,Nye),n=(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked")));return(0,u.jsx)(y.AW,Eye(Eye({},i),{},{render:e=>{var{year:s,month:a}=e.match.params;if(s&&a&&n){var o=a-1;return ns()().month(o).year(s).isBetween(Aye,(0,ft.IH)(Mye,"day",1,ft.vc))?(0,u.jsx)(t,Eye(Eye({},i),e)):(0,u.jsx)(y.l_,{to:"".concat(r,"/month")})}return(0,u.jsx)(t,Eye(Eye({},i),e))}}))};Iye.defaultProps={location:{},match:{}},Iye.propTypes={component:c().node.isRequired,match:c().object,location:c().object,basePath:c().string.isRequired};const Zye=Iye;var qye=["component","basePath","isWeek"];function Fye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Lye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fye(Object(r),!0).forEach((function(t){Hye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _ye=ns()().startOf("month").subtract(1,"d").format(ft.vc),Bye=ns()().endOf("month").add(1,"d").format(ft.vc),Gye=e=>{var{component:t,basePath:r,isWeek:i}=e,n=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,qye),a=(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked")));return(0,u.jsx)(y.AW,Lye(Lye({},n),{},{render:e=>{var{date:s}=e.match.params;if(a&&i){var o="".concat(r);return(0,u.jsx)(y.l_,{to:o})}if(s&&a){if(!ns()(s).isBetween(_ye,Bye)){var l="".concat(r,"/day");return(0,u.jsx)(y.l_,{to:l})}return(0,u.jsx)(t,Lye(Lye({},n),e))}return(0,u.jsx)(t,Lye(Lye({},n),e))}}))};Gye.defaultProps={location:{},match:{},isWeek:!1},Gye.propTypes={component:c().node.isRequired,match:c().object,location:c().object,isWeek:c().bool,basePath:c().string.isRequired};const Wye=Gye;var Uye=e=>{var{basePath:t}=e,r=(0,s.v9)(C.ts);return(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:t,exact:!0,children:(0,u.jsx)(y.l_,{to:"".concat(t,"/month")})}),(0,u.jsx)(Zye,{component:oye,user:r,basePath:t,path:"".concat(t,"/month/:year?/:month?/:day?")}),(0,u.jsx)(Wye,{component:Tye,basePath:t,isWeek:!0,path:"".concat(t,"/week/:date?")}),(0,u.jsx)(y.AW,{component:Wi})]})};Uye.propTypes={basePath:c().string.isRequired};const Vye=Uye;var zye=r(60726),Yye=e=>{var{basePath:t,initialValues:r,fetchMyApplications:i}=e,[s,n]=(0,m.useState)(r.from),[a,o]=(0,m.useState)(r.to),{push:l}=(0,y.k6)(),[c,d]=(0,ft.ae)((0,ft.CK)(s),(0,ft.CK)((0,ft.iX)(a,ft._E)));return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"inline-block inline-block_middle pr+",children:(0,u.jsxs)("div",{className:"mKBJBfIOi2ndnKogblh-LQ==",style:{height:"32px"},children:[(0,u.jsx)(mt.Z,{onChange:n,date:s,dateFormat:ft.vc}),(0,u.jsx)("span",{className:"date-range__dash",children:"—"}),(0,u.jsx)(mt.Z,{onChange:o,date:a,minDate:s,dateFormat:ft.vc})]})}),(0,u.jsx)(AS.Z,{className:"lSupOxeeVAA8fo8fJzW8ww==",onClick:()=>{l("".concat(t,"/").concat(s,"/").concat(a)),i({from:c,to:d})},children:(0,u.jsx)(zye.Z,{})})]})};Yye.propTypes={basePath:c().string.isRequired,fetchMyApplications:c().func.isRequired,initialValues:c().shape({from:(0,zi.Z)(ft.vc).isRequired,to:(0,zi.Z)(ft.vc).isRequired}).isRequired};const Qye=Yye;var Kye=r(69021),Xye=e=>{var{intl:t,cancelRequest:r,fetchMyApplications:i,from:s,to:n}=e,a=t.formatMessage({id:"OperatorApplicationsList.date",defaultMessage:[{type:0,value:"Дата"}]});return[new DO.Z({headerClassName:bue,key:"status",filterable:!0,sortable:!0,width:158,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.status",defaultMessage:[{type:0,value:"Статус"}]}),getValue:e=>function(e,t){switch(e.status){case"DECLINED":return t({id:"OperatorApplicationsList.reject",defaultMessage:[{type:0,value:"Отклонено"}]});case"NOT_APPROVED":return t({id:"OperatorApplicationsList.underConsideration",defaultMessage:[{type:0,value:"На рассмотрении"}]});case"APPROVED":return t({id:"OperatorApplicationsList.approved",defaultMessage:[{type:0,value:"Одобрено"}]});default:return null}}(e,t.formatMessage),renderCell:e=>(0,u.jsxs)("div",{className:vue,children:[(0,u.jsx)(Mz.Z,{rootStyle:{marginRight:10},disabled:e.status!==Kye.r,deleteCb:e=>{r({id:e},(()=>{i({from:s,to:n})}))},currentId:e.id}),yue(e)]})}),new DO.Z({headerClassName:bue,key:"creationTime",sortable:!0,filterable:!0,width:150,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft._T),renderHeader:()=>(0,u.jsx)("div",{title:a,className:mue,children:a}),getValue:e=>(0,ft._X)(e.creationTime),renderCell:e=>(0,u.jsx)("div",{className:"ybFdP1P7I1YtEwySkiMRrA==",children:(0,ft._X)(e.creationTime)})}),new DO.Z({headerClassName:bue,key:"detailsStart",sortable:!0,filterable:!0,width:250,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.detailsStart",defaultMessage:[{type:0,value:"Дата и время начала"}]}),getValue:e=>(0,ft.r8)(e.from),renderCell:e=>(0,u.jsx)("div",{className:vue,children:(0,ft.r8)(e.from)})}),new DO.Z({headerClassName:bue,key:"detailsEnd",sortable:!0,filterable:!0,sortFunc:(e,t)=>(0,ft.Tl)(e,t,ft.Rs),width:250,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.detailsEnd",defaultMessage:[{type:0,value:"Дата и время окончания"}]}),getValue:e=>(0,ft.r8)(e.to),renderCell:e=>(0,u.jsx)("div",{className:vue,children:(0,ft.r8)(e.to)})}),new DO.Z({headerClassName:bue,key:"workActivityName",sortable:!0,filterable:!0,width:150,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.reason",defaultMessage:[{type:0,value:"Причина"}]}),renderCell:e=>(0,u.jsx)("div",{className:"_1bOYoec9zNnGCw2Kud4HNg==",children:e.workActivityName})}),new DO.Z({headerClassName:bue,key:"respondedManager",filterable:!0,width:200,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.whoAgreed",defaultMessage:[{type:0,value:"Кто согласовал"}]}),getValue:e=>e.respondedManager,renderCell:e=>(0,u.jsx)("div",{className:vue,children:e.respondedManager||""})}),new DO.Z({headerClassName:bue,key:"answerComment",filterable:!0,width:200,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.responseOnApplication",defaultMessage:[{type:0,value:"Ответ на заявку"}]}),getValue:e=>""===e.answerComment?null:e.answerComment,renderCell:e=>(0,u.jsx)("div",{title:e.answerComment,className:vue,onClick:()=>GR.Z.modal(e.answerComment),children:e.answerComment})}),new DO.Z({headerClassName:bue,key:"requestComment",width:200,autoSize:!0,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),getValue:e=>e.requestComment,renderCell:e=>(0,u.jsx)("div",{title:e.requestComment,className:vue,onClick:()=>GR.Z.modal(e.requestComment),children:(0,u.jsx)("span",{className:"SovHA11bEoy1zdB0F6Bu5A==",children:e.requestComment})})})]};function Jye(e){var{applications:t,start:r,end:i,fetchMyApplications:s,cancelRequest:n,intl:a}=e,[o,l]=(0,m.useState)({});return(0,m.useEffect)((()=>{var e=(0,ft.CK)(r),t=(0,ft.CK)((0,ft.iX)(i,ft._E)),[n,a]=(0,ft.ae)(e,t);s({from:n,to:a})}),[s]),(0,u.jsxs)(pd.Z,{zDepth:3,className:"CHaGOD9SjDIG83toFBhazg==",children:[(0,u.jsx)("div",{className:"kfnqoyOcDVbPOqp-FS06CA==",children:(0,u.jsx)(Qye,{fetchMyApplications:s,basePath:"/operator/applications",initialValues:{from:r,to:i}})}),(0,u.jsx)("div",{className:"iQ68PtQDtfB6QauE-3U30g==",children:(0,u.jsx)(VP.ZP,{filters:o,onFiltersChange:e=>{l(e)},rowHeight:30,data:t,columns:Xye({intl:a,cancelRequest:n,fetchMyApplications:s,from:(0,ft.CK)(r),to:(0,ft.CK)((0,ft.iX)(i,ft._E))}),columnsAutoWidth:!0,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0,cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll"})})]})}Jye.defaultProps={applications:[]},Jye.propTypes={applications:c().array,intl:P.gm.isRequired,start:c().string.isRequired,end:c().string.isRequired,fetchMyApplications:c().func.isRequired,cancelRequest:c().func.isRequired};const $ye=Jye;function ege(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ege(Object(r),!0).forEach((function(t){rge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ege(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ige=(0,o.compose)(y.EN,v.ZP,(0,s.$j)((e=>({applications:Bme(e),workActivities:un(e)})),{fetchMyApplications:Hr.fetchMyApplications,cancelRequest:Hr.cancelRequest,fetchWorkActivities:Sa.fetchWorkActivities},((e,t,r)=>{var i=(0,ft.Fu)(ft.vc),s=r.match.params.start||i.from,n=r.match.params.end||i.to;return tge(tge(tge(tge({},e),t),r),{},{start:s,end:n,onPeriodChange:(e,t)=>{r.push("/operator/applications/".concat(e,"/").concat(t))}})})),tye)($ye);var sge=(0,u.jsx)(J.Z,{id:"Common.clear",defaultMessage:[{type:0,value:"Очистить"}]}),nge=(0,u.jsx)(J.Z,{id:"OperatorAdditionalSchedules.sendRequest",defaultMessage:[{type:0,value:"Взять смену"}]}),age=e=>{var{additionalSchedules:t=[],workActivitiesMap:r,goBack:i,acceptAdditionSchedules:s,match:n,requestDayAdditionalSchedules:a,fetchOperatorData:o}=e,l=(0,ft.zO)(ft.wJ),c=(0,ft.zO)(ft.vc),d=t.filter((e=>{var t=ns()(e.start,ft._E).format(ft.wJ),r=ns()(e.start,ft._E).format(ft.vc);return n.params.date!==c||n.params.date===r&&t>l})),p=(0,m.useRef)(),[h,f]=(0,m.useState)(n.params.date||(0,ft.zO)(ft.vc)),[v,y]=(0,m.useState)({});(0,m.useEffect)((()=>{n.params.date&&n.params.date!==h&&(a(n,o),f(n.params.date))}),[n.params.date]);var g=(0,ft.b7)(h),b=(0,ft.Om)(g),[S,O]=(0,ft.ae)(g,b),P=(0,m.useRef)(),w=(0,m.useRef)(),C=d.some((e=>e.activities.some((e=>{var t=ns()(e.start,ft._E).utc().format(ft.wJ),r=ns()(e.end,ft._E).utc().format(ft.wJ);return t>r||r>="24:00"||t>="24:00"})))),k=C?ns()(O,ft._E).add(1,"d").format(ft._E):O;return(0,u.jsxs)("div",{className:"operator-section operator-additional-schedules-section operator-section_no-sidebar",children:[(0,u.jsxs)("div",{className:me()("v2M6nl0O7iclD8zQoQYclQ==","operator-section__content container"),children:[(0,u.jsxs)("h1",{children:[(0,u.jsx)(Ae.Z,{onClick:()=>i(),className:"AmVlUDtqUg9LR0R8Phg+qQ==",children:(0,u.jsx)(et.ZP,{glyph:et.Y4})}),(0,u.jsx)(J.Z,{id:"OperatorAdditionalSchedules.title",defaultMessage:[{type:0,value:"Дополнительные смены"}]})]}),(0,u.jsx)("h2",{children:(0,u.jsx)(J.Z,{id:"OperatorAdditionalSchedules.selectSchedule",defaultMessage:[{type:0,value:"Выберите смену"}]})}),(0,u.jsx)("div",{style:{width:"100%",overflow:"hidden",borderBottom:"1px solid #f3f4f4"},children:(0,u.jsxs)("div",{className:"kEORCQKsyOt9FWmyVGahRg==",children:[(0,u.jsx)("div",{onScroll:e=>{w.current.scrollTop=e.target.scrollTop},ref:P,children:(0,u.jsx)("table",{className:"operator-day-table",children:(0,u.jsx)("thead",{style:{borderBottom:"1px solid #f3f4f4"},children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:me()("operator-day-table__header-column-header","z1Tk8F3+kybJLY8JLMhlWw==")}),(0,u.jsx)("div",{style:{position:"relative",height:"20px",marginBottom:"15px",width:C?"200%":"100%"},children:(0,u.jsx)(Um,{customClassName:"k92dgWGKFMhuRUZVt0fm2A==",hoursCount:C?48:24,showHours:!0,style:{marginTop:5}})})]})})})}),(0,u.jsx)("div",{style:{width:C?"calc(200% - 185px)":"100%"},className:me()("W85ROfJnGhXUFPi5u1TbeQ==","scroll"),onScroll:e=>{P.current.scrollTop=e.target.scrollTop},ref:w,children:(0,u.jsx)("table",{className:"operator-day-table",ref:p,children:(0,u.jsx)("tbody",{children:d&&d.map(((e,t)=>{var i=e.activities.filter((e=>e.workActivityId!==x.ZP.EMPTY_WORK_ACTIVITY_ID)),s=e.enabled,n="".concat((0,ft.o0)(e.start)," - ").concat((0,ft.i7)(e.end));return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"operator-day-table__header-column-cell",style:{verticalAlign:"middle",textAlign:"right",padding:"8px"},children:(0,u.jsx)(Zb.t,{checked:e.id===v.id,handler:()=>y(e),label:n,disable:!s,classNameLabel:"ml-10"})}),(0,u.jsx)("td",{colSpan:C?"48":"24",children:(0,u.jsx)("div",{className:"operator-day-table__schedule-activities mv+",children:(0,u.jsx)(Xm,{min:S,max:k,data:i,dataConfig:{id:"id",start:"start",end:"end"},colorMap:r,colorMapConfig:{id:"workActivityId",color:"color",text:"name"},showText:!0})})})]},e.id||t)}))})})})]})})]}),(0,u.jsxs)("div",{style:{paddingLeft:40},children:[(0,u.jsx)(Ge.Z,{type:"stripped",onClick:()=>{s({id:v.id},(()=>i()))},disabled:(0,j.xb)(v),caption:nge}),(0,u.jsx)(Ge.Z,{type:"transparent",onClick:()=>y({}),disabled:(0,j.xb)(v),caption:sge})]})]})};age.defaultProps={additionalSchedules:[],match:{}},age.propTypes={workActivitiesMap:c().object.isRequired,acceptAdditionSchedules:c().func.isRequired,requestDayAdditionalSchedules:c().func.isRequired,additionalSchedules:c().array,match:c().object,goBack:c().func.isRequired,fetchOperatorData:c().func.isRequired};const oge=age;function lge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lge(Object(r),!0).forEach((function(t){dge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const uge=(0,o.compose)(y.EN,(0,s.$j)((e=>({additionalSchedules:e.operator.operatorSchedules.additionalSchedules,workActivitiesMap:pn(e),workActivityStatus:dn(e),groupId:(0,TZ.pw)(e)})),{fetchWorkActivities:Sa.fetchWorkActivities,fetchOperatorData:Hr.fetchOperatorData,acceptAdditionSchedules:Hr.acceptAdditionSchedules},((e,t,r)=>cge(cge(cge(cge({},e),t),r),{},{goBack:r.history.goBack,requestDayAdditionalSchedules:t=>{var r=t.match.params&&t.match.params.date?(0,ft.CK)(t.match.params.date,ft.vc):(0,ft.zO)(),i=(0,ft.b7)(r),s=(0,ft.Om)(i),[n,a]=(0,ft.ae)(i,s);t.fetchOperatorData({requestDetailed:!1,requestAdditional:!0,requestActivities:!1,from:n,to:a,groupId:e.groupId})}}))),(0,U.Z)((e=>{var{props:t}=e;t.requestDayAdditionalSchedules(t),(0,j.xb)(t.workActivitiesMap)&&t.fetchWorkActivities(),t.additionalSchedules||t.requestDayAdditionalSchedules(t)})),tye)(oge);function pge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pge(Object(r),!0).forEach((function(t){fge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=>{var i;return fge(i=class extends m.Component{render(){var{refreshButton:i}=this.props,{menuClass:s=""}=t,n=me()("container",{[s]:!!s});return(0,u.jsxs)("div",{className:"",style:{display:"flex",flex:1,flexDirection:"column"},children:[(0,u.jsx)("div",{className:n,children:(0,u.jsxs)("div",{className:"submenu",children:[i&&(0,u.jsx)("span",{className:"submenu-refresh",children:i}),(0,u.jsx)("ul",{children:e.map((e=>(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:e.link,activeClassName:"active",isActive:(t,r)=>je(r,e.link),children:e.text})})))})]})}),(0,u.jsx)(r,hge({},this.props))]})}},"displayName","SubMenu(".concat(r.name||r.displayName||"",")")),fge(i,"propTypes",{refreshButton:c().any,menuClass:c().string}),fge(i,"defaultProps",{refreshButton:null,menuClass:""}),i}}var vge=["refresh"];function yge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yge(Object(r),!0).forEach((function(t){bge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jge=(0,u.jsx)(J.Z,{id:"ScheduleChangeSwap.Requests",defaultMessage:[{type:0,value:"Запросы"}]}),xge=(0,u.jsx)(J.Z,{id:"ScheduleChangeSwap.Response",defaultMessage:[{type:0,value:"Отклики"}]}),Sge="/operator/swaps/requests",Oge="/operator/swaps/response",Pge=[{id:(0,X.Vj)(),link:Sge,text:jge},{id:(0,X.Vj)(),link:Oge,text:xge}];class wge extends m.PureComponent{render(){var{start:e,end:t,userName:r,numberOfResponses:i,intl:{formatMessage:s}}=this.props,n=s({id:"OperatorSwapSchedule.swapRequest",defaultMessage:[{type:0,value:"Заявка на обмен сменами"}]});if(!(e&&t&&r))return null;var a="".concat((0,ft.fv)(e,t)),o="".concat(n," ").concat(r,"   ").concat(a),l="";return!!i&&(l=(0,u.jsxs)("span",{className:"sw-title-response",children:[i," ",(0,u.jsx)(J.Z,{id:"Operator.offerRequest",defaultMessage:[{type:0,value:"предложения на заявку"}]})," ",(0,u.jsx)("br",{})]})),(0,u.jsxs)("span",{className:"flex-container",children:[(0,u.jsx)("span",{children:o}),l]})}}wge.propTypes={start:c().string.isRequired,end:c().string.isRequired,userName:c().string.isRequired,numberOfResponses:c().number.isRequired,intl:c().object.isRequired};const Cge=(0,v.ZP)(wge);var kge=e=>{var{isActive:t,colorClass:r,title:i}=e,s=me()("text-ellipsis pv custom-cell",{disabled:!t,[r]:!!r});return(0,u.jsx)("div",{style:{width:"100%"},className:s,children:i})};kge.defaultProps={colorClass:"",isActive:!1},kge.propTypes={title:c().oneOfType([c().string]).isRequired,colorClass:c().string,isActive:c().bool};const Tge=kge;class Nge extends m.PureComponent{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getGlyph",(e=>this.mapIconStatuses[e]));var{PROCESSING:t,EXPIRED:r,DECLINED_BY_MANAGER:i,AUTOMATIC_SWAP:s,APPROVED_BY_MANAGER:n,CLOSED:a,DECLINED_BY_REQUESTING_USER:o,WAITING_MANAGER_REGULATION:l,REQUEST_APPROVED_WITH_ANOTHER_RESPONSE:c}=Vge;this.mapIconStatuses={[t]:et.An,[r]:et.TX,[i]:et.TX,[n]:et.aX,[s]:et.fJ,[a]:et.TX,[o]:et.TX,[c]:et.TX,[l]:et.An}}render(){var{status:e}=this.props,t=this.getGlyph(e),r=e===x.cm.DECLINED_BY_REQUESTING_USER?"icon-swap-custom-denied":"icon-swap-custom";return(0,u.jsx)("span",{onClick:this.handleClick,children:(0,u.jsx)(et.ZP,{glyph:t,classCustom:r})})}}Nge.propTypes={status:c().string.isRequired};const Rge=Nge;class Ege extends m.PureComponent{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getGlyph",(e=>this.mapIconStatuses[e]));var{AUTOMATIC_SWAP:t,APPROVED_BY_MANAGER:r}=Vge;this.mapIconStatuses={[r]:et.Ir,[t]:et.Ir}}render(){var{status:e,isColor:t}=this.props,r=this.getGlyph(e);return r&&t?(0,u.jsx)("span",{onClick:this.handleClick,children:(0,u.jsx)(et.ZP,{glyph:r,classCustom:"icon-swap-custom success"})}):null}}Ege.defaultProps={isColor:!1},Ege.propTypes={status:c().string.isRequired,isColor:c().bool};const Dge=Ege;var Age="clickable trash",Mge=e=>{var{active:t,handleClick:r,id:i}=e,n=(0,s.v9)(lme.TG),a=(0,s.v9)(lme.b9);return t?(0,u.jsx)("span",{className:Age,onClick:()=>{r("date"===a?{id:i,filter:n}:{id:i})},children:(0,u.jsx)(et.ZP,{glyph:et.XH})}):(0,u.jsx)("span",{className:Age})};Mge.defaultProps={active:!1},Mge.propTypes={handleClick:c().func.isRequired,id:c().string.isRequired,active:c().bool};const Ige=Mge;class Zge extends m.PureComponent{render(){var{numberOfResponses:e}=this.props;return e?(0,u.jsx)("span",{className:"number-of-response",children:e}):null}}Zge.propTypes={numberOfResponses:c().number.isRequired};const qge=Zge;var Fge=e=>{var{status:t,onTrash:r,numberOfResponses:i,isOwner:s,id:n,isColor:a}=e,o=zge(s,t);return(0,u.jsxs)("span",{children:[(0,u.jsx)(Ige,{id:n,handleClick:r,active:o}),(0,u.jsx)(Dge,{status:t,isColor:a}),(0,u.jsx)(Rge,{status:t}),(0,u.jsx)(qge,{numberOfResponses:i})]})};Fge.propTypes={status:c().string.isRequired,numberOfResponses:c().number.isRequired,isOwner:c().bool.isRequired,onTrash:c().func.isRequired,id:c().string.isRequired,isColor:c().bool.isRequired};const Lge=Fge;var Hge=e=>{var{status:t,id:r,isActive:i,onTrash:s,numberOfResponses:n,isOwner:a,colorClass:o,title:l}=e,c=!!o,d=me()("flex-container text-ellipsis pv custom-cell first-custom-style-cell",{disabled:!i,[o]:!!o});return(0,u.jsx)("div",{className:d,title:l,children:(0,u.jsx)(Lge,{onTrash:s,status:t,id:r,numberOfResponses:n,isOwner:a,isColor:c})})};Hge.defaultProps={status:"",isActive:!1,onTrash:O.wA,colorClass:"",id:"",numberOfResponses:null,isOwner:!1,title:""},Hge.propTypes={status:c().string,isActive:c().bool,colorClass:c().string,id:c().string,onTrash:c().func,numberOfResponses:c().number,isOwner:c().bool,title:c().string};const _ge=Hge;function Bge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Gge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bge(Object(r),!0).forEach((function(t){Wge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Uge={headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell"},Vge={PROCESSING:"PROCESSING",WAITING_MANAGER_REGULATION:"WAITING_MANAGER_REGULATION",DELETED:"DELETED",EXPIRED:"EXPIRED",APPROVED_BY_MANAGER:"APPROVED_BY_MANAGER",AUTOMATIC_SWAP:"AUTOMATIC_SWAP",DECLINED_BY_MANAGER:"DECLINED_BY_MANAGER",REQUEST_APPROVED_WITH_ANOTHER_RESPONSE:"REQUEST_APPROVED_WITH_ANOTHER_RESPONSE",CLOSED:"CLOSED",DECLINED_BY_REQUESTING_USER:"DECLINED_BY_REQUESTING_USER"},zge=(e,t)=>e&&"APPROVED_BY_MANAGER"!==t&&"DECLINED_BY_MANAGER"!==t&&"AUTOMATIC_SWAP"!==t&&"CLOSED"!==t&&"DECLINED_BY_REQUESTING_USER"!==t&&"REQUEST_APPROVED_WITH_ANOTHER_RESPONSE"!==t,{PROCESSING:Yge,WAITING_MANAGER_REGULATION:Qge,DELETED:Kge,EXPIRED:Xge,APPROVED_BY_MANAGER:Jge,AUTOMATIC_SWAP:$ge,DECLINED_BY_MANAGER:ebe,DECLINED_BY_REQUESTING_USER:tbe}=Vge,rbe=[Yge,Qge,Kge,Xge,Jge,$ge,ebe,tbe];function ibe(e,t){switch(e.status){case"PROCESSING":case"WAITING_MANAGER_REGULATION":return t({id:"Operator.SwapLegend.Process",defaultMessage:[{type:0,value:"На рассмотрении / количество ответов"}]});case"APPROVED_BY_MANAGER":case"AUTOMATIC_SWAP":return t({id:"Operator.SwapLegend.Accept",defaultMessage:[{type:0,value:"Принято"}]});case"DECLINED_BY_MANAGER":case"DECLINED_BY_REQUESTING_USER":case"EXPIRED":return t({id:"Operator.SwapLegend.CLOSED",defaultMessage:[{type:0,value:"Отклонено / Истек срок действия заявки"}]});default:return null}}class sbe extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleCellClick",((e,t)=>{var{handleResponseForm:r,setCurrentItemSwap:i}=this.props;if(!YP(e.target,"trash")){var{isActive:s}=t.addInfo;s&&(i(t),r())}}));var t={intl:e.intl};t.onTrash=e.onTrash,t.dayValidityLocation=e.intl.formatMessage({id:"Operator.SwapDayValidity.Loc",defaultMessage:[{type:0,value:"д"}]}),t.formatMessage=e.intl.formatMessage,this.columns=(e=>{var{intl:t,onTrash:r,dayValidityLocation:i}=e;return[new DO.Z({headerClassName:"first-cell-sw first-custom-style-cell",cellClassName:"custom-style-cell",key:"status",sortable:!1,filterable:!0,width:150,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.Status",defaultMessage:[{type:0,value:"Статус"}]}),getValue:e=>ibe(e,t.formatMessage),renderCell:e=>{var{status:i,addInfo:{numberOfResponses:s,isActive:n,isOwner:a},id:o}=e;return(0,u.jsx)(_ge,{status:i,onTrash:r,id:o,numberOfResponses:s,isActive:n,isOwner:a,title:ibe(e,t.formatMessage)})}}),new DO.Z({headerClassName:"virtualized-table__header-cell",key:"expiration",sortable:!0,hasTitle:!1,width:160,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.Validity",defaultMessage:[{type:0,value:"Срок действия"}]}),renderCell:e=>{var{expiredAfter:t,addInfo:r}=e,s=(0,ft._m)(t,i);return(0,u.jsx)(Tge,{title:s,isActive:r.isActive})}}),new DO.Z(Gge(Gge({},Uge),{},{key:"start",width:150,filterable:!1,sortable:!1,hasTitle:!1,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.BeginShift",defaultMessage:[{type:0,value:"Начало смены"}]}),renderCell:e=>(0,u.jsx)(Tge,{title:(0,ft.IY)(e.start),isActive:e.addInfo.isActive})})),new DO.Z(Gge(Gge({},Uge),{},{key:"end",width:155,filterable:!1,hasTitle:!1,sortable:!1,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.EndShift",defaultMessage:[{type:0,value:"Окончание смены"}]}),renderCell:e=>(0,u.jsx)(Tge,{title:(0,ft.IY)(e.end),isActive:e.addInfo.isActive})})),new DO.Z(Gge(Gge({},Uge),{},{key:"userName",width:150,filterable:!0,sortable:!1,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.Author",defaultMessage:[{type:0,value:"Автор заявки"}]}),renderCell:e=>(0,u.jsx)(Tge,{title:e.userName,isActive:e.addInfo.isActive})})),new DO.Z(Gge(Gge({},Uge),{},{key:"respondedManager",filterable:!0,width:200,renderHeader:()=>t.formatMessage({id:"OperatorApplicationsList.whoAgreed",defaultMessage:[{type:0,value:"Кто согласовал"}]}),renderCell:e=>(0,u.jsx)(Tge,{title:e.respondedManager||"",isActive:e.addInfo.isActive})})),new DO.Z(Gge(Gge({},Uge),{},{key:"comment",width:200,filterable:!1,sortable:!1,autoSize:!0,renderHeader:()=>t.formatMessage({id:"Operator.SwapTable.Container",defaultMessage:[{type:0,value:"Комментарий"}]}),renderCell:e=>(0,u.jsx)(Tge,{title:e.comment,isActive:e.addInfo.isActive})}))]})(t)}render(){var{data:e,setFilter:t,filters:r,isLoading:i}=this.props;return i?(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(Z.Z,{})})}):(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(VP.ZP,{ref:e=>this.table=e,data:e,columns:this.columns,rowHeight:32,columnsAutoWidth:!0,isAutoWidthCurrentColumn:!0,headerStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",onCellClick:this.handleCellClick,setFilter:t,filters:r})})})}}sbe.defaultProps={data:[],filters:{},isLoading:!1,onTrash:O.wA},sbe.propTypes={intl:P.gm.isRequired,data:c().array,handleResponseForm:c().func.isRequired,setCurrentItemSwap:c().func.isRequired,setFilter:c().func.isRequired,onTrash:c().func,filters:c().object,isLoading:c().bool};const nbe=(0,v.ZP)(sbe);class abe extends m.Component{render(){var{glyph:e,label:t,active:r}=this.props;return r?(0,u.jsxs)("span",{className:"legend",children:[(0,u.jsx)(et.ZP,{glyph:e})," ",t]}):null}}abe.propTypes={glyph:c().string.isRequired,label:c().any.isRequired,active:c().bool.isRequired};const obe=abe;var lbe=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Process",defaultMessage:[{type:0,value:"На рассмотрении / Количество ответов"}]}),cbe=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Accept",defaultMessage:[{type:0,value:"Принято"}]}),dbe=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Denied",defaultMessage:[{type:0,value:"Отклонено / Истек срок действия заявки"}]}),ube=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Change",defaultMessage:[{type:0,value:"Автоматический обмен"}]}),pbe=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.ManagerChange",defaultMessage:[{type:0,value:"Обмен через менеджера"}]});class hbe extends m.PureComponent{render(){var{isProccess:e,isAccept:t,isDenied:r,isChange:i,isManagerChange:s}=this.props;return(0,u.jsxs)("div",{className:"legends",children:[(0,u.jsx)(obe,{active:e,glyph:et.An,label:lbe}),(0,u.jsx)(obe,{active:t,glyph:et.Ir,label:cbe}),(0,u.jsx)(obe,{active:r,glyph:et.TX,label:dbe}),(0,u.jsx)(obe,{active:i,glyph:et.fJ,label:ube}),(0,u.jsx)(obe,{active:s,glyph:et.aX,label:pbe})]})}}hbe.defaultProps={isProccess:!1,isAccept:!1,isDenied:!1,isChange:!1,isManagerChange:!1},hbe.propTypes={isProccess:c().bool,isAccept:c().bool,isDenied:c().bool,isChange:c().bool,isManagerChange:c().bool};const fbe=hbe;var mbe=r(56296);class vbe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{getListSwap:t}=this.props;t({ownership:e})}))}render(){var{curValue:e}=this.props;return(0,u.jsx)("div",{className:"sf-align",children:(0,u.jsx)(Zb.E,{options:mbe.Y,onChange:this.handleChange,selectedValue:e,selectedIndex:0})})}}vbe.propTypes={curValue:c().string.isRequired,getListSwap:c().func.isRequired};const ybe=vbe;function gbe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bbe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gbe(Object(r),!0).forEach((function(t){jbe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gbe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jbe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xbe=e=>{var{from:t,to:r,ownership:i}=e;return t&&r?{from:(0,ft.X5)(t),to:(0,ft.X5)(r),ownership:i}:{ownership:i}},Sbe="actual",Obe="date";class Pbe extends m.Component{constructor(e){super(e),jbe(this,"handleSwapPerson",(e=>{var{ownership:t=mbe.K.ALL}=e,{updateData:r,setActiveRefreshBtn:i,filterType:s}=this.props,{from:n,to:a}=this.state,o=t===mbe.K.ALL,l=t===mbe.K.MY;i(o?{isActive:!0,filter:{}}:l?{isActive:!0,filter:{ownership:mbe.K.MY}}:{isActive:!1,filter:{}}),this.setState({ownership:t}),r(xbe(s===Sbe?{ownership:t}:{from:n,to:a,ownership:t}))})),jbe(this,"handleSwapList",(e=>{var t=e&&e.from,r=e&&e.to,{ownership:i}=this.state,{updateData:s,setRequestFilterType:n}=this.props;this.setState({from:t,to:r}),(0,j.xb)(e)?(s(xbe({ownership:i})),n(Sbe)):(s(xbe({from:t,to:r,ownership:i})),n(Obe))}));var t=e.filtersHeader;this.state=t?bbe({},t):bbe(bbe({},(0,ft.Fu)()),{},{ownership:mbe.K.ALL})}render(){var{clearData:e,formatMessage:t,setActiveRefreshBtn:r,filterType:i}=this.props,{ownership:s,from:n,to:a}=this.state,o={from:n,to:a},l=i===Obe?1:0;return(0,u.jsxs)("div",{className:"container filter-container",children:[(0,u.jsx)(ybe,{getListSwap:this.handleSwapPerson,formatMessage:t,clearSwapList:e,curValue:s}),(0,u.jsx)(MT,{onChange:this.handleSwapList,users:null,formatMessage:t,clearSwapList:e,defaultValue:o,setRefreshBtn:r,defaultRadio:l})]})}}Pbe.defaultProps={filtersHeader:null},Pbe.propTypes={updateData:c().func.isRequired,clearData:c().func.isRequired,formatMessage:c().func.isRequired,filtersHeader:c().object,setActiveRefreshBtn:c().func.isRequired,filterType:c().string.isRequired,setRequestFilterType:c().func.isRequired};const wbe=Pbe,Cbe=function(){return(0,u.jsx)(Ae.Z,{className:"delete-button",children:(0,u.jsx)(et.ZP,{glyph:et.XH})})};class kbe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleTrash",(()=>{var{onDeleteResponse:e,requestId:t}=this.props;e(t)}))}render(){var{comment:e,status:t}=this.props,r="APPROVED_BY_MANAGER"!==t&&"DECLINED_BY_MANAGER"!==t&&"AUTOMATIC_SWAP"!==t&&"CLOSED"!==t;return(0,u.jsxs)("div",{className:"my-request-view__header",children:[r&&(0,u.jsx)(VC.I,{onSubmit:this.handleTrash,popup:!0,children:(0,u.jsx)(Cbe,{})}),(0,u.jsx)("div",{className:me()("_1OzHUz0HDciXsE4LsTGHUA==","comment"),children:e})]})}}kbe.propTypes={requestId:c().string.isRequired,comment:c().string.isRequired,onDeleteResponse:c().func.isRequired,status:c().string.isRequired};const Tbe=kbe;class Nbe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDelete",(e=>{var{deleteSwapRequest:t,close:r}=this.props;t({id:e}),r()}))}render(){var{id:e,start:t,end:r,comment:i,activities:s,status:n}=this.props;return(0,u.jsx)("div",{className:"my-request-view",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(Tbe,{requestId:e,comment:i,onDeleteResponse:this.handleDelete,status:n}),(0,u.jsx)(TN,{start:t,end:r,activities:s})]})})}}Nbe.propTypes={id:c().string.isRequired,start:c().string.isRequired,end:c().string.isRequired,comment:c().string.isRequired,activities:c().array.isRequired,deleteSwapRequest:c().func.isRequired,close:c().func.isRequired,status:c().string.isRequired};const Rbe=Nbe,Ebe=(0,o.compose)((0,s.$j)((e=>({activities:(0,ome.getMyActivities)(e),groupId:(0,TZ.pw)(e)})),{fetchOperatorData:Hr.fetchOperatorData,deleteSwapRequest:cme.deleteSwapRequest}),(0,U.Z)((e=>{var{props:t}=e;t.fetchOperatorData({requestActivities:!0,from:(0,ft.b7)(t.start),to:(0,ft.iX)(t.end),groupId:t.groupId})})))(Rbe);var Dbe=r(76648);function Abe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Mbe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ibe=(0,u.jsx)(et.ZP,{glyph:et.mN}),Zbe=(0,u.jsx)(J.Z,{id:"Operator.SwapSchedule.ApproveRequest",defaultMessage:[{type:0,value:"Принять предложение"}]});class qbe extends m.PureComponent{render(){return(0,u.jsx)(Ge.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Abe(Object(r),!0).forEach((function(t){Mbe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Abe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"transparent",icon:Ibe,caption:Zbe},this.props))}}const Fbe=qbe;function Lbe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Hbe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _be=(0,u.jsx)(et.ZP,{glyph:et.OC}),Bbe=(0,u.jsx)(J.Z,{id:"Operator.SwapSchedule.DeclineRequest",defaultMessage:[{type:0,value:"Отказаться"}]});class Gbe extends m.PureComponent{render(){return(0,u.jsx)(Ge.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lbe(Object(r),!0).forEach((function(t){Hbe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lbe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"transparent",icon:_be,caption:Bbe},this.props))}}const Wbe=Gbe;function Ube(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Vbe extends m.PureComponent{constructor(){super(...arguments),Ube(this,"handleResolveSuccess",(()=>{var{close:e,getSwapsRequests:t,filter:r}=this.props;t(r),e()})),Ube(this,"handleApprove",(()=>{var{responseId:e,resolveSwapScheduleResponse:t,allowedAction:r,intl:{formatMessage:i}}=this.props,s={formatMessage:i,allowedAction:r};t({responseId:e,status:"APPROVE"},this.handleResolveSuccess,s)})),Ube(this,"handleDecline",(()=>{var{responseId:e,resolveSwapScheduleResponse:t,allowedAction:r,intl:{formatMessage:i},getSwapsRequests:s}=this.props,n={formatMessage:i,allowedAction:r,getSwapsRequests:s};t({responseId:e,status:"DECLINE"},this.handleResolveSuccess,n)}))}render(){return this.props.hidden?null:(0,u.jsxs)("div",{className:"tool-bar",children:[(0,u.jsx)(Fbe,{onClick:this.handleApprove}),(0,u.jsx)(Wbe,{onClick:this.handleDecline})]})}}Vbe.defaultProps={hidden:!1,filter:{}},Vbe.propTypes={responseId:c().string.isRequired,allowedAction:c().string.isRequired,resolveSwapScheduleResponse:c().func.isRequired,close:c().func.isRequired,getSwapsRequests:c().func.isRequired,intl:c().object.isRequired,filter:c().object,hidden:c().bool};const zbe=Vbe,Ybe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({filter:(0,lme.Mu)(e)})),{resolveSwapScheduleResponse:cme.resolveSwapScheduleResponse,getSwapsRequests:cme.getSwapsRequests}))(zbe);var Qbe={[Dbe.xf]:{icon:et.fJ,label:(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Change",defaultMessage:[{type:0,value:"Автоматический обмен"}]})},[Dbe.Fd]:{icon:et.aX,label:(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.ManagerChange",defaultMessage:[{type:0,value:"Обмен через менеджера"}]})}};class Kbe extends m.PureComponent{render(){var{allowedAction:e}=this.props,{icon:t,label:r}=Qbe[e];return(0,u.jsxs)("div",{className:"type-indicator",children:[(0,u.jsx)(et.ZP,{glyph:t,classCustom:"type-indicator__icon"}),r]})}}Kbe.propTypes={allowedAction:c().oneOf(Dbe.$P).isRequired};const Xbe=Kbe;class Jbe extends m.PureComponent{render(){var{activities:e,allowedAction:t,response:{id:r,start:i,end:s,userId:n,userName:a,expiredAfter:o,comment:l,status:c}}=this.props.response,{close:d}=this.props;return(0,u.jsx)("div",{className:"container with-divider",children:(0,u.jsxs)("div",{className:"responses-list-item",children:[(0,u.jsx)(sN,{headerContainerClassName:"gw4z6ipc04AW3hPqM1ivYg==",userId:n,userName:a,expirationAfter:o,comment:l}),(0,u.jsx)(TN,{start:i,end:s,activities:e,isRequastDisabled:!0}),(0,u.jsx)(Xbe,{allowedAction:t}),(0,u.jsx)(Ybe,{responseId:r,close:d,allowedAction:t,hidden:c===Vge.WAITING_MANAGER_REGULATION})]})})}}Jbe.propTypes={close:c().func.isRequired,response:c().shape({activities:c().array.isRequired,allowedAction:c().oneOf(Dbe.$P),response:c().shape({addInfo:c().object.isRequired,comment:c().string.isRequired,end:c().string.isRequired,expiration:c().string.isRequired,expiredAfter:c().string.isRequired,id:c().string.isRequired,requestId:c().string.isRequired,start:c().string.isRequired,userId:c().string.isRequired,userName:c().string.isRequired,status:c().oneOf(rbe)}).isRequired}).isRequired};const $be=Jbe;class eje extends m.PureComponent{render(){var{responses:e,close:t}=this.props;return(0,u.jsx)("div",{className:"responses-list scroll",children:e.map((e=>(0,u.jsx)($be,{response:e,close:t},e.response.id)))})}}eje.defaultProps={responses:[]},eje.propTypes={responses:c().array,close:c().func.isRequired};const tje=eje;class rje extends m.PureComponent{render(){var{requestDetails:e,close:t,getSwapsRequests:r,swap:{id:i,start:s,end:n,comment:a,status:o}}=this.props;return(0,u.jsxs)("div",{className:"swaps__approve-response-form",children:[(0,u.jsx)(Ebe,{id:i,start:s,end:n,comment:a,close:t,status:o}),(0,u.jsx)(tje,{responses:e.responses,close:t,getSwapsRequests:r})]})}}rje.propTypes={swap:c().object.isRequired,requestDetails:c().object.isRequired,close:c().func.isRequired,getSwapsRequests:c().func.isRequired};const ije=rje,sje=(0,o.compose)((0,s.$j)((e=>({requestDetails:(0,lme.aA)(e)})),{clearSwapRequestDetails:cme.clearSwapRequestDetails,getResponsesOfRequest:cme.getResponsesOfRequest}),(0,U.Z)((e=>{var{props:t}=e,r=t.swap.id;t.getResponsesOfRequest(r)})),(0,Ao.Z)((e=>{var{props:t}=e;t.clearSwapRequestDetails()})))(ije);class nje extends m.PureComponent{render(){var{userId:e,comment:t}=this.props;return(0,u.jsxs)("div",{className:"request-view__header",children:[(0,u.jsx)(Zr.q,{userId:e}),(0,u.jsx)("div",{className:me()("PKZVgtZu0aR6ZIgW-LMBCw==","comment"),children:t})]})}}nje.propTypes={userId:c().string.isRequired,comment:c().string.isRequired};const aje=nje;class oje extends m.PureComponent{render(){var{activities:e,swap:{userId:t,start:r,end:i,comment:s}}=this.props;return(0,u.jsx)("div",{className:"request-view",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(aje,{userId:t,comment:s}),(0,u.jsx)(TN,{start:r,end:i,activities:e})]})})}}oje.defaultProps={swap:null},oje.propTypes={swap:c().object,activities:c().array.isRequired};const lje=oje,cje=(0,o.compose)((0,s.$j)((e=>({activities:(0,lme.eV)(e)})),{getSwapRequestDetailsActivities:cme.getSwapRequestDetailsActivities}),(0,U.Z)((e=>{var{props:t}=e,{userId:r,start:i,end:s}=t.swap,n=(0,ft.b7)(i),a=(0,ft.iX)(s);t.getSwapRequestDetailsActivities({userId:r,from:n,to:a})})))(lje),dje=function(){return(0,u.jsx)("h2",{children:(0,u.jsx)(J.Z,{id:"Operator.offerShiftToExchange",defaultMessage:[{type:0,value:"Предложить свою смену на обмен"}]})})};function uje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pje(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uje(Object(r),!0).forEach((function(t){hje(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uje(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hje(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fje=e=>{var{swap:t,createSwapScheduleResponse:r,close:i}=e,s=(0,u.jsx)(dje,{});return(0,u.jsxs)("div",{className:"response-form",children:[(0,u.jsx)(cje,{swap:t,close:i}),(0,u.jsx)(dme,{header:s,onSubmit:e=>{var s=t.id;r(pje(pje({},e),{},{requestId:s}),i)}})]})};fje.propTypes={swap:c().object.isRequired,createSwapScheduleResponse:c().func.isRequired,close:c().func.isRequired};const mje=fje,vje=(0,o.compose)((0,s.$j)((e=>({userId:(0,C.rc)(e),activities:(0,ome.getMyActivities)(e)})),{createSwapScheduleResponse:cme.createSwapScheduleResponse}),v.ZP)(mje);var yje=e=>{var{swap:t,close:r,getSwapsRequests:i}=e,{isOwner:s}=t.addInfo;return s?(0,u.jsx)(sje,{swap:t,close:r,getSwapsRequests:i}):(0,u.jsx)(vje,{swap:t,close:r})};yje.propTypes={swap:c().object.isRequired,close:c().func.isRequired,getSwapsRequests:c().func.isRequired};const gje=yje;var bje=e=>{var{getSwapsRequests:t,setHeaderFilterSwap:r,managerSwapFilter:i,isLoading:n,requests:a,intl:{formatMessage:o},setFilterSwap:l,filters:c,clearSwapsRequests:d,filtersHeader:p,setActiveRefreshBtn:h,requestFilterType:f,setRequestFilterType:v,deleteSwapRequest:y}=e,[g,b]=(0,m.useState)(!1),[x,S]=(0,m.useState)({}),[O,P]=(0,m.useState)(),[w,C]=(0,m.useState)(),k=(0,s.I0)();(0,m.useEffect)((()=>{C(i.filter)}),[i.filter]);var T=()=>b(!g),{start:N,end:R,userName:E,addInfo:D}=x,A=D&&D.numberOfResponses||0,M=(0,u.jsx)(Cge,{start:N,end:R,userName:E,numberOfResponses:A});return(0,u.jsxs)("div",{className:"operator-swap",children:[(0,u.jsxs)("div",{className:"LKiqXLOMhFio2zzA36T1ww==",children:[(0,u.jsx)(wbe,{formatMessage:o,updateData:e=>{var{ownership:i,from:s,to:n}=e,a=!(0,j.xb)(s)&&!(0,j.xb)(n),o="actual"!==w||a?e:{ownership:i};t(o),(e=>{k((0,cme.setDataFilter)(e)),P(e)})(o),r(o)},clearData:d,filtersHeader:p,setActiveRefreshBtn:h,filterType:f,setRequestFilterType:v}),(0,u.jsx)(nbe,{onTrash:e=>{var{id:t}=e;y({id:t,filterData:O})},data:a,handleResponseForm:T,setCurrentItemSwap:e=>S(e),setFilter:l,filters:c,isLoading:n})]}),(0,u.jsx)(fbe,{isProccess:!0,isAccept:!0,isDenied:!0,isChange:!0,isManagerChange:!0}),(0,u.jsx)(yk.Z,{handleBackArrow:T,open:g,width:1e3,docked:!1,title:M,children:(0,u.jsx)(gje,{swap:x,getSwapsRequests:t,close:()=>{t(O),b(!g)}})})]})};bje.defaultProps={filtersHeader:null},bje.propTypes={intl:c().object.isRequired,isLoading:c().bool.isRequired,requests:c().array.isRequired,setFilterSwap:c().func.isRequired,setActiveRefreshBtn:c().func.isRequired,getSwapsRequests:c().func.isRequired,setHeaderFilterSwap:c().func.isRequired,filters:c().object.isRequired,clearSwapsRequests:c().func.isRequired,filtersHeader:c().object,managerSwapFilter:c().object.isRequired,requestFilterType:c().string.isRequired,setRequestFilterType:c().func.isRequired,deleteSwapRequest:c().func.isRequired};const jje=bje,xje=(0,o.compose)((0,s.$j)((e=>({isLoading:(0,lme.Vc)(e),requests:(0,lme.Fx)(e),filters:(0,lme.Lm)(e),filtersHeader:(0,lme.Mu)(e),swapRefresh:(0,lme.xf)(e),managerSwapFilter:cm(e),requestFilterType:(0,lme.e$)(e)})),{getSwapsRequests:cme.getSwapsRequests,deleteSwapRequest:cme.deleteSwapRequest,setFilterSwap:cme.setFilterSwap,clearSwapsRequests:cme.clearSwapsRequests,setHeaderFilterSwap:cme.setHeaderFilterSwap,setActiveRefreshBtn:cme.setActiveRefreshBtn,setRequestFilterType:cme.setRequestFilterType}),(0,U.Z)((e=>{var{props:t}=e,{filtersHeader:r,getSwapsRequests:i}=t;i(r)})),v.ZP)(jje);var Sje=e=>{var{formatMessage:t,filterHeader:r,setRefreshBtn:i,clearData:s,updateData:n,filterType:a,setResponseFilterType:o}=e,l="date"===a?1:0;return(0,u.jsx)("div",{className:"container filter-container",children:(0,u.jsx)(MT,{onChange:e=>{(0,j.xb)(e)?o("actual"):o("date"),n(e)},users:null,formatMessage:t,clearSwapList:()=>s(),defaultValue:r,setRefreshBtn:i,defaultRadio:l})})};Sje.defaultProps={filterHeader:{from:"",to:""}},Sje.propTypes={updateData:c().func.isRequired,clearData:c().func.isRequired,formatMessage:c().func.isRequired,filterHeader:c().object,setRefreshBtn:c().func.isRequired,filterType:c().string.isRequired,setResponseFilterType:c().func.isRequired};const Oje=Sje;function Pje(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wje(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pje(Object(r),!0).forEach((function(t){Cje(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pje(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cje(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.Status",defaultMessage:[{type:0,value:"Статус"}]}),Tje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.Validity",defaultMessage:[{type:0,value:"Срок действия"}]}),Nje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.BeginShift",defaultMessage:[{type:0,value:"Начало смены"}]}),Rje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.EndShift",defaultMessage:[{type:0,value:"Окончание смены"}]}),Eje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.Author",defaultMessage:[{type:0,value:"Автор заявки"}]}),Dje=(0,u.jsx)(J.Z,{id:"Operator.SwapTable.Comment",defaultMessage:[{type:0,value:"Комментарий"}]}),Aje=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Processing",defaultMessage:[{type:0,value:"В обработке"}]}),Mje=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Change",defaultMessage:[{type:0,value:"Автоматический обмен"}]}),Ije=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.ManagerChange",defaultMessage:[{type:0,value:"Обмен через менеджера"}]}),Zje=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.SuccessStatus",defaultMessage:[{type:0,value:"Предложение принято"}]}),qje=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Declined",defaultMessage:[{type:0,value:"Отклонено"}]}),Fje={headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell"},Lje={PROCESSING:"PROCESSING",CLOSED:"CLOSED",APPROVED_BY_MANAGER:"APPROVED_BY_MANAGER",AUTOMATIC_SWAP:"AUTOMATIC_SWAP",DECLINED_BY_REQUESTING_USER:"DECLINED_BY_REQUESTING_USER",WAITING_MANAGER_REGULATION:"WAITING_MANAGER_REGULATION",DECLINED_BY_MANAGER:"DECLINED_BY_MANAGER",REQUEST_APPROVED_WITH_ANOTHER_RESPONSE:"REQUEST_APPROVED_WITH_ANOTHER_RESPONSE"};function Hje(e){return e?e===Lje.CLOSED||e===Lje.DECLINED_BY_REQUESTING_USER?"closed":e===Lje.AUTOMATIC_SWAP||e===Lje.APPROVED_BY_MANAGER?"success":"":""}class _je extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleCellClick",((e,t)=>{var{handleResponseForm:r,setCurrentItemSwap:i}=this.props;if(!YP(e.target,"trash")){var{isActive:s}=t.addInfo;s&&(i(t),r())}}));var t={};t.onTrash=e.onTrash,t.dayValidityLocation=e.formatMessage({id:"Operator.SwapDayValidity.Loc",defaultMessage:[{type:0,value:"д"}]}),t.formatMessage=e.formatMessage,this.columns=(e=>[new DO.Z({headerClassName:"first-cell-sw first-custom-style-cell",cellClassName:"custom-style-cell",key:"status",sortable:!1,filterable:!0,width:130,label:kje,getValue:t=>ibe(t,e.formatMessage),renderCell:t=>{var{status:r,addInfo:{numberOfResponses:i,isActive:s,isOwner:n},id:a}=t;return(0,u.jsx)(_ge,{status:r,onTrash:e.onTrash,id:a,numberOfResponses:i,isActive:s,isOwner:n,colorClass:Hje(r),title:ibe(t,e.formatMessage)})}}),new DO.Z({headerClassName:"virtualized-table__header-cell",key:"expiration",sortable:!0,hasTitle:!1,width:160,label:Tje,renderCell:t=>{var{expiredAfter:r,addInfo:i,status:s}=t,{dayValidityLocation:n}=e,a=(0,ft._m)(r,n);return(0,u.jsx)(Tge,{title:a,isActive:i.isActive,colorClass:Hje(s)})}}),new DO.Z(wje(wje({},Fje),{},{key:"start",width:130,label:Nje,hasTitle:!1,filterable:!1,sortable:!1,renderCell:e=>(0,u.jsx)(Tge,{title:(0,ft.IY)(e.start),isActive:e.addInfo.isActive,colorClass:Hje(e.status)})})),new DO.Z(wje(wje({},Fje),{},{key:"end",width:155,label:Rje,hasTitle:!1,filterable:!1,sortable:!1,renderCell:e=>(0,u.jsx)(Tge,{title:(0,ft.IY)(e.end),isActive:e.addInfo.isActive,colorClass:Hje(e.status)})})),new DO.Z(wje(wje({},Fje),{},{key:"userName",width:200,filterable:!0,sortable:!1,label:Eje,renderCell:e=>(0,u.jsx)(Tge,{title:e.userName,isActive:e.addInfo.isActive,colorClass:Hje(e.status)})})),new DO.Z(wje(wje({},Fje),{},{key:"comment",width:200,filterable:!1,sortable:!1,autoSize:!0,label:Dje,renderCell:e=>(0,u.jsx)(Tge,{title:e.comment,isActive:e.addInfo.isActive,colorClass:Hje(e.status)})}))])(t)}render(){var{data:e,setFilter:t,filters:r,isLoading:i}=this.props;return i?(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(Z.Z,{})})}):(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(VP.ZP,{ref:e=>this.table=e,data:e,columns:this.columns,rowHeight:32,columnsAutoWidth:!0,headerStyle:{boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1},cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",onCellClick:this.handleCellClick,setFilter:t,filters:r})})})}}_je.defaultProps={data:[],onTrash:O.wA,handleResponseForm:O.wA,setCurrentItemSwap:O.wA,setFilter:O.wA,filters:{},formatMessage:O.wA,isLoading:!1},_je.propTypes={data:c().array,onTrash:c().func,handleResponseForm:c().func,setCurrentItemSwap:c().func,setFilter:c().func,filters:c().object,formatMessage:c().func,isLoading:c().bool};const Bje=_je;class Gje extends m.Component{render(){var{data:e,activities:t}=this.props;return(0,u.jsx)(lje,{swap:e,activities:t})}}Gje.propTypes={data:c().object.isRequired,activities:c().array.isRequired};const Wje=Gje;var Uje=e=>{var{onClick:t}=e;return(0,u.jsx)(Ae.Z,{className:"delete-button",onClick:t,children:(0,u.jsx)(et.ZP,{glyph:et.XH})})};Uje.propTypes={onClick:c().func.isRequired};const Vje=Uje;var zje=e=>{var{onDeleteResponse:t,requestId:r,comment:i,isDeleteActive:s}=e;return(0,u.jsxs)("div",{className:"my-request-view__header",children:[s&&(0,u.jsx)(Vje,{onClick:()=>t(r)}),(0,u.jsx)("div",{className:"comment",children:i})]})};zje.defaultProps={isDeleteActive:!0},zje.propTypes={requestId:c().string.isRequired,comment:c().string.isRequired,onDeleteResponse:c().func.isRequired,isDeleteActive:c().bool};const Yje=zje;class Qje extends m.PureComponent{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"isApprovedStatus",(e=>e===Lje.AUTOMATIC_SWAP||e===Lje.APPROVED_BY_MANAGER)),this.swapTypesMap={[Lje.AUTOMATIC_SWAP]:{icon:et.fJ,label:Mje},[Lje.APPROVED_BY_MANAGER]:{icon:et.aX,label:Ije},[Lje.PROCESSING]:{icon:et.An,label:Aje},[Lje.WAITING_MANAGER_REGULATION]:{icon:et.aX,label:Ije},[Lje.DECLINED_BY_MANAGER]:{icon:et.TX,label:qje},[Lje.DECLINED_BY_REQUESTING_USER]:{icon:et.TX,label:qje},[Lje.REQUEST_APPROVED_WITH_ANOTHER_RESPONSE]:{icon:et.TX,label:qje}}}render(){var{status:e}=this.props,{icon:t="",label:r=""}=this.swapTypesMap[e]||{},i=this.isApprovedStatus(e),s=(0,u.jsxs)("div",{className:"icon",children:[(0,u.jsx)(et.ZP,{glyph:et.Ir,classCustom:"type-indicator__icon success"}),Zje]});return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"tlG9Pv0fqP0Hoc6J8qw4gg==",children:[(0,u.jsx)(et.ZP,{glyph:t,classCustom:"type-indicator__icon"}),r]}),i&&s]})}}Qje.propTypes={status:c().string.isRequired};const Kje=Qje;var Xje=e=>{var{data:t,activities:r,onTrashResponse:i}=e,{id:s,start:n,end:a,comment:o,status:l,addInfo:c}=t,d=zge(c.isOwner,l);return(0,u.jsx)("div",{className:"swaps__approve-response-form",children:(0,u.jsxs)("div",{className:"my-response-view",children:[(0,u.jsxs)("div",{className:"container ln",children:[(0,u.jsx)(Yje,{requestId:s,comment:o,onDeleteResponse:e=>i(e),isDeleteActive:d}),(0,u.jsx)(TN,{isRequastDisabled:!0,start:n,end:a,activities:r})]}),(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(Kje,{status:l})})]})})};Xje.propTypes={data:c().object.isRequired,activities:c().array.isRequired,onTrashResponse:c().func.isRequired};const Jje=Xje;var $je=e=>{var{dataDetail:t,onTrashResponse:r}=e;if(0===Object.keys(t).length)return null;var{requestDetails:i={},responseDetails:s={}}=t,n=i.request||{},a=i.activities||[],o=s.response||{},l=s.activities||[];return(0,u.jsxs)("div",{className:"response-form",children:[(0,u.jsx)(Wje,{data:n,activities:a}),(0,u.jsx)(Jje,{data:o,activities:l,onTrashResponse:r})]})};$je.defaultProps={dataDetail:{}},$je.propTypes={dataDetail:c().object,onTrashResponse:c().func.isRequired};const exe=$je,txe=(0,o.compose)((0,s.$j)((e=>({isLoading:(0,lme.hS)(e),dataDetail:(0,lme.pu)(e)})),{getDetailResponseOfRequest:cme.getDetailResponseOfRequest}),(0,U.Z)((e=>{var{props:t}=e,{getDetailResponseOfRequest:r,swap:i}=t,s=i.id;s&&r(s)})))(exe);var rxe=(0,u.jsx)(J.Z,{id:"Operator.SwapLegend.Denied"});class ixe extends m.PureComponent{render(){return(0,u.jsx)("div",{className:"container closed-container",children:(0,u.jsxs)("div",{className:"closed-response icon",children:[(0,u.jsx)(et.ZP,{glyph:et.TX,classCustom:"type-indicator__icon closed"}),rxe]})})}}const sxe=ixe;var nxe=e=>{var{isShow:t,title:r,handleBack:i,swap:s,onTrashSwap:n}=e,{status:a}=s,o=Lje.CLOSED===a;return(0,u.jsxs)(yk.Z,{handleBackArrow:i,open:t,width:1e3,docked:!1,title:r,children:[!o&&(0,u.jsx)(txe,{swap:s,onTrashResponse:e=>{n(e),i()}}),o&&(0,u.jsx)(sxe,{})]})};nxe.propTypes={isShow:c().bool.isRequired,title:c().node.isRequired,handleBack:c().func.isRequired,swap:c().object.isRequired,onTrashSwap:c().func.isRequired};const axe=nxe;var oxe=e=>{var{intl:{formatMessage:t},isLoading:r,data:i,filterHeader:s,filters:n,setFilterResponseSwap:a,setActiveRefreshBtn:o,responseFilterType:l,setResponseFilterType:c,getSwapsResponse:d,setFilterHeaderResponseSwap:p,clearSwapsResponse:h,deleteSwapResponse:f}=e,[v,y]=(0,m.useState)(!1),[g,b]=(0,m.useState)({}),j=e=>f(e),x=()=>y(!v),{start:S,end:O,userName:P,addInfo:w}=g,C=w&&w.numberOfResponses||0,k=(0,u.jsx)(Cge,{start:S,end:O,userName:P,numberOfResponses:C});return(0,u.jsxs)("span",{className:"operator-swap",children:[(0,u.jsxs)("div",{className:"check-request table-block-hack",children:[(0,u.jsx)(Oje,{formatMessage:t,updateData:e=>{d(e),p(e)},clearData:()=>h(),filterHeader:s,setRefreshBtn:o,filterType:l,setResponseFilterType:c}),(0,u.jsx)(Bje,{data:i,onTrash:j,handleResponseForm:x,setCurrentItemSwap:e=>b(e),setFilter:a,filters:n,formatMessage:t,isLoading:r})]}),(0,u.jsx)(fbe,{isProccess:!0,isAccept:!0,isDenied:!0,isChange:!0,isManagerChange:!0}),(0,u.jsx)(axe,{isShow:v,title:k,handleBack:x,swap:g,onTrashSwap:j})]})};oxe.defaultProps={filterHeader:{}},oxe.propTypes={intl:c().object.isRequired,clearSwapsResponse:c().func.isRequired,isLoading:c().bool.isRequired,data:c().array.isRequired,getSwapsResponse:c().func.isRequired,deleteSwapResponse:c().func.isRequired,setFilterHeaderResponseSwap:c().func.isRequired,filterHeader:c().object,setFilterResponseSwap:c().func.isRequired,filters:c().object.isRequired,setActiveRefreshBtn:c().func.isRequired,responseFilterType:c().string.isRequired,setResponseFilterType:c().func.isRequired};const lxe=oxe,cxe=(0,o.compose)((0,s.$j)((e=>({isLoading:(0,lme.Vc)(e),data:(0,lme.sS)(e),filterHeader:(0,lme.TG)(e),filters:(0,lme.Ir)(e),responseFilterType:(0,lme.b9)(e)})),{getSwapsResponse:cme.getSwapsResponse,clearSwapsResponse:cme.clearSwapsResponse,deleteSwapResponse:cme.deleteSwapResponse,setFilterHeaderResponseSwap:cme.setFilterHeaderResponseSwap,setFilterResponseSwap:cme.setFilterResponseSwap,setActiveRefreshBtn:cme.setActiveRefreshBtn,setResponseFilterType:cme.setResponseFilterType}),(0,U.Z)((e=>{var{props:t}=e,{filterHeader:r,getSwapsResponse:i}=t;i(r)})),v.ZP)(lxe);function dxe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function uxe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dxe(Object(r),!0).forEach((function(t){pxe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dxe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pxe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const hxe=(0,o.compose)(y.EN,(0,s.$j)((e=>({swapRefresh:(0,lme.xf)(e),filterHeader:(0,lme.Mu)(e)})),{getSwapsRequests:cme.getSwapsRequests,getSwapsResponse:cme.getSwapsResponse},((e,t,r)=>{var{swapRefresh:i}=e,{location:{pathname:s}}=r,n=null,a=s===Oge;return s===Sge&&(n=t.getSwapsRequests),a&&(n=t.getSwapsResponse),uxe(uxe(uxe(uxe({},e),t),r),{},{refresh:uxe(uxe({},i),{},{cb:n})})})),tye,(e=>{var t="SubMenuRefresh(".concat(e.name||e.displayName||"",")"),r=t=>{var{refresh:r}=t,i=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(t,vge),s=(0,u.jsx)(_P,{onClick:r.cb,isActive:r.isActive,params:r.filter});return(0,u.jsx)(e,gge(gge({},i),{},{refreshButton:s}))};return r.displayName=t,r.defaultProps={refresh:()=>({cb:O.wA,isActive:!1,filter:{}})},r.propTypes={refresh:c().shape({cb:c().func,isActive:c().bool,filter:c().object})},r}),mge(Pge))((()=>(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:ae,exact:!0,children:(0,u.jsx)(y.l_,{to:"".concat(ae,"/requests")})}),(0,u.jsx)(y.AW,{path:Sge,children:(0,u.jsx)(xje,{})}),(0,u.jsx)(y.AW,{path:Oge,children:(0,u.jsx)(cxe,{})})]})));function fxe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function mxe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fxe(Object(r),!0).forEach((function(t){vxe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fxe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vxe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yxe="MONTH",gxe="PERIOD";class bxe extends m.Component{constructor(e){super(e),this.state={reportParameters:{from:e.from,to:e.to},calendarView:yxe}}reformatPeriod(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return e;var t=e.split(" - ");return 2!==t.length?e:t.map((e=>ns()(e,"YYYY-MM-DD").format("DD.MM.YYYY"))).join(" - ")}requestReportData(){this.props.push("/operator/work-hours-report/".concat(this.state.reportParameters.from,"/").concat(this.state.reportParameters.to))}render(){return(0,u.jsx)("div",{className:"operator-section operator-section_no-sidebar",children:(0,u.jsxs)("div",{className:"operator-section__content",children:[(0,u.jsxs)("div",{className:"operator-section__navigation mb++",children:[(0,u.jsxs)("div",{className:"inline-block inline-block_middle pr+",children:[(0,u.jsx)(AS.Z,{className:"button-icon icon-calendar inline-block_middle mr",onClick:()=>{this.setState((e=>({calendarView:e.calendarView===yxe?gxe:yxe})))},children:(0,u.jsx)(lZ.Z,{})}),this.state.calendarView===yxe&&(0,u.jsx)("div",{className:"inline-block inline-block_middle",children:(0,u.jsx)(uZ.A,{allowEmpty:!1,onChange:e=>{this.setState({reportParameters:{from:ns()(e,uZ.A.DEFAULT_DATE_FORMAT).startOf("month").format("YYYY-MM-DD"),to:ns()(e,uZ.A.DEFAULT_DATE_FORMAT).endOf("month").format("YYYY-MM-DD")}})}})}),this.state.calendarView===gxe&&(0,u.jsxs)("div",{className:"inline-block inline-block_middle",style:{height:"32px"},children:[(0,u.jsx)(mt.Z,{name:"from",textFieldStyle:{height:"32px"},onChange:e=>{var{reportParameters:t}=this.state;this.setState({reportParameters:mxe(mxe({},t),{},{from:e})})},date:this.state.reportParameters.from,dateFormat:ft.vc}),(0,u.jsx)("span",{className:"date-range__dash",children:"—"}),(0,u.jsx)(mt.Z,{name:"to",textFieldStyle:{height:"32px"},onChange:e=>{var{reportParameters:t}=this.state;this.setState({reportParameters:mxe(mxe({},t),{},{to:e})})},date:this.state.reportParameters.to,dateFormat:ft.vc})]})]}),(0,u.jsx)(AS.Z,{className:"button-icon icon-calendar inline-block_middle mr",onClick:()=>this.requestReportData(),children:(0,u.jsx)(zye.Z,{})})]}),(0,u.jsx)("div",{children:this.props.data&&(0,u.jsx)("div",{className:"custom-report__content scrollbar",children:(0,u.jsx)("div",{className:"p+",children:(0,u.jsx)("table",{className:"table table--default table--hoverable-rows",style:{width:"100%"},children:(0,u.jsx)("tbody",{children:this.props.data.map(((e,t)=>(0,u.jsx)("tr",{children:e&&e.map(((r,i)=>(0,u.jsx)("td",{className:"table__cell",children:(0,u.jsx)("div",{className:"p",children:i===e.length-1?this.reformatPeriod(r):t>0&&i>1&&e.length-1>i?Math.round(100*+r)/100:r})},r.id||i)))},e.id||t)))})})})})})]})})}}bxe.defaultProps={from:"",to:""},bxe.propTypes={data:c().array.isRequired,from:c().string,to:c().string,push:c().func.isRequired};const jxe=bxe;function xxe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Sxe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oxe=(0,o.compose)(y.EN,(0,fl.G)((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xxe(Object(r),!0).forEach((function(t){Sxe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xxe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({push:e.history.push},e))));const Pxe=Oxe;function wxe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Cxe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wxe(Object(r),!0).forEach((function(t){kxe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wxe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kxe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Txe=(0,o.compose)(Pxe,(0,s.$j)((e=>({data:e.operator.workHoursReport,user:e.user})),{fetchOperatorWorkHoursReportData:Hr.fetchOperatorWorkHoursReportData},((e,t,r)=>Cxe(Cxe(Cxe(Cxe({},e),t),r),{},{from:r.params.from||ns()().startOf("month").format("YYYY-MM-DD"),to:r.params.to||ns()().endOf("month").format("YYYY-MM-DD"),requestReportData:e=>{e.fetchOperatorWorkHoursReportData({id:e.user.id,from:e.from,to:e.to})}}))),(0,U.Z)((e=>{var{props:t}=e;t.requestReportData(t)})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;t.from===r.from&&t.to===r.to||r.requestReportData(t)})))(jxe);var Nxe=e=>{var{path:t,text:r,hidden:i}=e;return i?null:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{children:(0,u.jsx)(a.rU,{to:t,style:{display:"block",width:"100%"},children:r})})})};Nxe.defaultProps={hidden:!1},Nxe.propTypes={path:c().string.isRequired,text:c().string.isRequired,hidden:c().bool};const Rxe=Nxe;class Exe extends m.PureComponent{render(){var e=this.props.frontendSettings.isShowSalarySettings.value&&"true"===this.props.globalSettings.IS_ACCOUNTING_REPORT_FOR_OPERATOR_ENABLED,t=(0,u.jsx)(J.Z,{id:"SettingsMenu.salary",defaultMessage:[{type:0,value:"Расчет заработной платы"}]});return(0,u.jsx)("div",{className:"DEo1T6Qg8EHlCh8KleIjLA==",children:(0,u.jsx)("table",{children:(0,u.jsx)("tbody",{children:(0,u.jsx)(Rxe,{path:"/operator/reports/accounting",text:t,hidden:!e})})})})}}Exe.propTypes={globalSettings:c().object.isRequired,frontendSettings:c().object.isRequired};const Dxe=Exe,Axe=(0,o.compose)(y.EN,(0,s.$j)((e=>({globalSettings:(0,B.Tv)(e),globalSettingsAlreadyFetched:Wme(e),frontendSettings:(0,B.e0)(e)})),{fetchGlobalSettings:V.fetchGlobalSettings,setOperatorGlobalSettingsAlreadyFetched:Hr.setOperatorGlobalSettingsAlreadyFetched}),(0,U.Z)((e=>{var{props:t}=e;t.globalSettingsAlreadyFetched||(t.fetchGlobalSettings(),t.setOperatorGlobalSettingsAlreadyFetched(!0))})),tye)(Dxe);var Mxe=e=>{var{title:t}=e,{push:r}=(0,y.k6)();return(0,u.jsx)(Voe,{text:t,onBackBtnClick:()=>{r("/operator/reports")}})};Mxe.propTypes={title:c().node.isRequired};const Ixe=Mxe;function Zxe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qxe=ns()().startOf("month").format(ft.vc),Fxe=ns()().endOf("month").format(ft.vc),Lxe=(0,u.jsx)(J.Z,{id:"Common.show",defaultMessage:[{type:0,value:"Показать"}]});class Hxe extends m.PureComponent{constructor(){super(...arguments),Zxe(this,"state",{from:qxe,to:Fxe}),Zxe(this,"handlePeriodChange",(e=>{this.setState(e)})),Zxe(this,"handleShowBtnClick",(()=>{this.props.onApply(this.state)}))}render(){return(0,u.jsx)("div",{className:"container with-divider",children:(0,u.jsxs)("div",{className:"pb+",children:[(0,u.jsxs)("h2",{children:[(0,u.jsx)(J.Z,{id:"Reports.filterTitle",defaultMessage:[{type:0,value:"Настройте отображение"}]}),(0,u.jsx)("span",{className:"subtext",children:" отфильтруйте по отчетному периоду"})]}),(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(yde,{period:this.state,onChange:this.handlePeriodChange,isHorizontal:!0}),(0,u.jsx)("div",{className:"flex-container flex-container_align-items-flex-end ml+++",children:(0,u.jsx)(Ge.Z,{caption:Lxe,onClick:this.handleShowBtnClick,disabled:this.props.isLoading})})]})]})})}}Hxe.defaultProps={isLoading:!1},Hxe.propTypes={onApply:c().func.isRequired,isLoading:c().bool};const _xe=Hxe;class Bxe extends m.PureComponent{render(){if(this.props.isLoading)return(0,u.jsx)(Z.Z,{});var{usersAccounting:e=[],salaryCounted:t}=this.props.reportData;return(0,u.jsx)("div",{className:"report-body",children:e.map((e=>{var{userId:r,rulesResults:i,hoursTotal:s,salaryTotal:n}=e;return(0,u.jsx)(Tde,{userId:r,rulesResults:i,hoursTotal:s,salaryTotal:n,salaryCounted:t})}))})}}Bxe.propTypes={reportData:c().object.isRequired,isLoading:c().bool.isRequired};const Gxe=Bxe,Wxe=(0,s.$j)((e=>({reportData:e.operator.reports.accountingReport.data,isLoading:e.operator.reports.accountingReport.isLoading})))(Gxe);class Uxe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleFilterApply",(e=>{this.props.fetchAccountingReportData(e)}))}render(){var e=(0,u.jsx)(J.Z,{id:"SettingsMenu.salary",defaultMessage:[{type:0,value:"Расчет заработной платы"}]});return(0,u.jsxs)("div",{className:"accounting-report",children:[(0,u.jsx)(Ixe,{title:e}),(0,u.jsx)(_xe,{onApply:this.handleFilterApply,isLoading:this.props.isLoading}),(0,u.jsx)(Wxe,{})]})}}Uxe.propTypes={fetchAccountingReportData:c().func.isRequired,isLoading:c().bool.isRequired};const Vxe=Uxe,zxe=(0,o.compose)((0,s.$j)((e=>({reportData:e.operator.reports.accountingReport.data,isLoading:e.operator.reports.accountingReport.isLoading})),{fetchAccountingReportData:Hr.fetchAccountingReportData}),tye)(Vxe);var Yxe=r(87618);const Qxe={container:"cAy9GB6Cu1o3WL2YByyeFg==",header:"CTcXaKIcddwJdIDLjgvpgQ==",sidebar:"DP3rv36Dg79ayjVht5KPZA==",takenNumber:"tPH4utOs72piKgj6-Oi2Yw==",takenNumberMoreThenZero:"_7MygBaD-kadMlcSqP-b6oQ==",total:"a2Ou+vIbJ0rll3b3H9Pf2w==",body:"FrUkfABTgkHU-LgG7rXE9w==",calendar:"ePt9bdYuGDLk9bmwTMj4dw=="};var Kxe=e=>{var{year:t,month:r,isPastDate:i,checkedPreferenceCells:n,onDeletePreferenceByUserAndDays:a}=e,{quote:o,total:l,taken:c,takenPercent:d}=(0,s.v9)(Ume),p=(0,s.v9)(C.rc),h=me()(Qxe.takenNumber,{[Qxe.takenNumberMoreThenZero]:c>0});return(0,u.jsxs)("div",{className:Qxe.infoContainer,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(J.Z,{id:"Operator.preferences",defaultMessage:[{type:0,value:"Предпочтения"}]})," (".concat(l,"/").concat(o,")")]}),(0,u.jsxs)("div",{className:Qxe.total,children:[(0,u.jsx)(J.Z,{id:"Operator.counted",defaultMessage:[{type:0,value:"Учтено"}]}),(0,u.jsx)("div",{className:h,children:"".concat(c)}),"(".concat(d,"%)")]}),(0,u.jsx)(Ae.Z,{onClick:()=>{var e=[];n.forEach((i=>{var s=ns()("".concat(t,"-").concat(r,"-").concat(i),ft.vc).format(ft.vc);e.push(s)})),a({days:e,userId:p})},disabled:l<1||i||(0,j.xb)(n),children:(0,u.jsx)(J.Z,{id:"Preferences.unselectAllPreferences",defaultMessage:[{type:0,value:"Снять все предпочтения"}]})})]})};Kxe.defaultProps={isPastDate:!1,checkedPreferenceCells:[]},Kxe.propTypes={year:c().string.isRequired,month:c().string.isRequired,isPastDate:c().bool,checkedPreferenceCells:c().array,onDeletePreferenceByUserAndDays:c().func.isRequired};const Xxe=Kxe,Jxe="Xz2B4aF0zFXuLdye+2gvPQ==",$xe="_7T0PD1Q57pFDnin-uAHFRw==",eSe="Ox1R0v6Z1NM8QYmmQnMvuA==";var tSe=e=>{if(e.hidden)return null;var{startFrom:t,startTo:r,endFrom:i,endTo:s,workHoursFrom:n,workHoursTo:a,weekend:o,labelHours:l,labelWeekend:c}=e,d=me()({"UfpcfnMqf7iiYTMiutUfnA==":!o}),p=me()({[eSe]:r}),h=me()({[eSe]:s}),f=me()({"laKWjC2oMKeVCDxEUdLVyA==":n&&a}),m=me()({"_06+hbdjnTbq9RG09w2lOaw==":!n&&!a});return(0,u.jsxs)("div",{className:"eNufx0vQctwRdhz4-JBW9Q==",children:[(0,u.jsx)("div",{className:d,children:o&&c}),!o&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:t}),(0,u.jsx)("div",{className:p,children:r||null})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:i}),(0,u.jsx)("div",{className:h,children:s||null})]}),(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)("div",{children:n}),(0,u.jsx)("div",{className:f,children:a||null}),(0,u.jsx)("div",{className:"kGOKBBRHzsO0u6j+7QPS0g==",children:l})]})]})]})};tSe.defaultProps={startFrom:"",startTo:"",endFrom:"",endTo:"",labelHours:"",labelWeekend:"",workHoursFrom:0,workHoursTo:0,hidden:!1,weekend:!1},tSe.propTypes={hidden:c().bool,weekend:c().bool,startFrom:c().string,startTo:c().string,endFrom:c().string,endTo:c().string,labelHours:c().string,labelWeekend:c().string,workHoursFrom:c().number,workHoursTo:c().number};const rSe=tSe;var iSe=e=>{var{day:t,isToday:r,disabled:i,checked:s,onCheck:n,dayOfMonth:a,preference:o,onDeletePreference:l,intl:{formatMessage:c}}=e,{id:d,taken:p,weekend:h,startFrom:f,startTo:m,endFrom:v,endTo:y,workHoursFrom:g,workHoursTo:b}=o,x=c({id:"Preferences.hours",defaultMessage:[{type:0,value:"часов"}]}),S=c({id:"Common.weekend",defaultMessage:[{type:0,value:"Выходной"}]}),O=(0,j.xb)(o),P=!i&&O,w=me()({"z35nDZXpbl+ondiLayAeCA==":!P,"lb4TCF0GD8oIyi0YMUoP7w==":p,"cYzbVXDUGPN9bi691nV0GQ==":!1===p,"zQjSNffasOZ1REAYffPBlQ==":r,"jplqhnU68Tz4jdSdgjV4wA==":P,"e9+scDi2RLzRfoUB4BnwhA==":s&&P,"xRo5a-zfb9kDbqCShO87MA==":i});return(0,u.jsxs)("div",{className:w,children:[(0,u.jsxs)("div",{className:"gDqJ88KdDcHtxNjfDfF2dQ==",children:[(0,u.jsx)("div",{children:t.dayInShortDateFormat}),(0,u.jsx)(Rs.XZ,{onChange:()=>{n(a)},className:"Vf2hxkDRtJW01y7JQ3Jc8w==",checked:s,disabled:i,hidden:p}),(0,u.jsx)(et.ZP,{glyph:et.yR,hidden:!p,classCustom:"X79XaqWKyDErrUrIpHsIVw=="})]}),(0,u.jsxs)("div",{className:"_1UBTGpT1MFHRmsEswfmnvw==",children:[(0,u.jsx)(rSe,{hidden:O,startFrom:f,startTo:m,endFrom:v,endTo:y,labelHours:x,labelWeekend:S,weekend:h,workHoursFrom:g,workHoursTo:b}),(0,u.jsx)("div",{className:"vFk0AriKg3Tg4Gr4h5j++g==",children:(0,u.jsx)(Mz.Z,{deleteCb:l,currentId:d,hidden:O,disabled:i})})]})]})};iSe.defaultProps={isToday:!1,disabled:!1,checked:!1,dayOfMonth:0,preference:{},id:""},iSe.propTypes={day:c().object.isRequired,id:c().string,preference:c().object,onCheck:c().func.isRequired,onDeletePreference:c().func.isRequired,dayOfMonth:c().number,isToday:c().bool,disabled:c().bool,checked:c().bool,intl:P.gm.isRequired};const sSe=(0,v.ZP)(iSe);var nSe=e=>{var{checkedPreferenceCells:t,year:r,month:i,preferenceEnableStatuses:s,setCheckedPreferenceCells:n,preferencesByPeriod:a,onDeletePreference:o}=e,l=e=>{o({id:e})},c=e=>{var r=[...t];if(r.includes(e)){var i=r.filter((t=>t!==e));n(i)}else r.push(e),n(r)},d=e=>(0,u.jsx)(sSe,{day:e,dayOfMonth:e.dayOfMonth,preference:e.preference,isToday:(0,ft.zk)(e.dayInShortDateFormat,ft.pz),checked:t.includes(e.dayOfMonth),onCheck:c,onDeletePreference:l,disabled:e.disabled}),p=(()=>{var e=[],t=[];e.push(t);for(var n=0,o=ns()(r+"-"+i,"YYYY-MM").startOf("month"),l=ns()(o).endOf("month");o<l;){var c=o.weekday()+1;c<n&&(t=[],e.push(t));var d={},u=ns()(o).format("D");d.dayInShortDateFormat=ns()(o).format(ft.pz),d.disabled=!s[u-1],d.dayOfMonth=Number(u),d.preference=a.find((e=>{var t=ns()(e.day);return o.isSame(t)})),t[c]=d,n=c,o.add(1,"d")}return e})();return(0,u.jsxs)("table",{className:"Bgn-cgbMvWF3KBEU86k75g==",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:Jxe,children:[ns()().startOf("week").add(0,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:Jxe,children:[ns()().startOf("week").add(1,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:Jxe,children:[ns()().startOf("week").add(2,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:Jxe,children:[ns()().startOf("week").add(3,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:Jxe,children:[ns()().startOf("week").add(4,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:$xe,children:[ns()().startOf("week").add(5,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})}),(0,u.jsx)("td",{className:"borderless",children:(0,u.jsxs)("div",{className:$xe,children:[ns()().startOf("week").add(6,"d").format("dd"),(0,u.jsx)("span",{children:"."})]})})]})}),(0,u.jsx)("tbody",{children:p.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"same-width",children:e[1]&&d(e[1])}),(0,u.jsx)("td",{className:"same-width",children:e[2]&&d(e[2])}),(0,u.jsx)("td",{className:"same-width",children:e[3]&&d(e[3])}),(0,u.jsx)("td",{className:"same-width",children:e[4]&&d(e[4])}),(0,u.jsx)("td",{className:"same-width",children:e[5]&&d(e[5])}),(0,u.jsx)("td",{className:"same-width",children:e[6]&&d(e[6])}),(0,u.jsx)("td",{className:"same-width",children:e[7]&&d(e[7])})]},e.id||t)))})]})};nSe.defaultProps={preferenceEnableStatuses:[],checkedPreferenceCells:[],preferencesByPeriod:[]},nSe.propTypes={onDeletePreference:c().func.isRequired,setCheckedPreferenceCells:c().func.isRequired,year:c().oneOfType([c().string,c().number]).isRequired,month:c().oneOfType([c().string,c().number]).isRequired,preferenceEnableStatuses:c().array,checkedPreferenceCells:c().array,preferencesByPeriod:c().array};const aSe=nSe,oSe="_9+0eKHlgoJr2TYxJ0Hd2tw==";var lSe=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"wI6Lms+OnirROtR5eqJtGA==",children:t})};lSe.propTypes={children:c().node.isRequired};const cSe=lSe;var dSe="workDay",uSe="dayOff",pSe=(0,u.jsx)(J.Z,{id:"OperatorPreferences.WorkingDay",defaultMessage:[{type:0,value:"Рабочий день"}]}),hSe=(0,u.jsx)(J.Z,{id:"ScheduleSchema.weekEnd",defaultMessage:[{type:0,value:"Выходной день"}]}),fSe=[{value:dSe,label:pSe},{value:uSe,label:hSe}],mSe=e=>{var{input:t}=e,{value:r,onChange:i}=t,s=r?uSe:dSe;return(0,u.jsx)(Zb.E,{selectedValue:s,options:fSe,onChange:e=>{i(e===uSe)}})};mSe.propTypes=Bt.oX;const vSe=mSe;var ySe=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"v8ZT6FTzMwTUxVZ7zGjQ8g==",children:t})};ySe.propTypes={children:c().any.isRequired};const gSe=ySe;function bSe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jSe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bSe(Object(r),!0).forEach((function(t){xSe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bSe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xSe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SSe=e=>{var{input:t,className:r,availableValues:i,offerMax:s,disabled:n}=e,[a,o]=(0,m.useState)(null),l=()=>{o(null)},c=s?i[i.length-1]:i[0],{value:d,onChange:p}=t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{value:d,onChange:O.wA,type:"text",onClick:e=>{n||o(e.currentTarget)},placeholder:c,className:r,disabled:n}),(0,u.jsxs)(rZ.Z,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:l,children:[i.map((e=>(0,u.jsx)(cZ.Z,{onClick:()=>{p(e),l()},children:e},e))),(0,u.jsxs)(cZ.Z,{onClick:()=>{p(""),l()},children:[(0,u.jsx)(et.ZP,{glyph:et.XH,classCustom:"mr"}),(0,u.jsx)(J.Z,{id:"Actions.delete",defaultMessage:[{type:0,value:"Удалить"}]})]})]})]})};SSe.defaultProps={offerMax:!1},SSe.propTypes=jSe(jSe({},Bt.oX),{},{availableValues:c().arrayOf(c().string).isRequired,offerMax:c().bool,disabled:c().bool.isRequired});const OSe=SSe;var PSe=e=>{var{label:t,availableStarts:r,availableEnds:i,activeFlagFieldName:s,startFieldName:n,endFieldName:a,inputClassName:o,formValues:l,disabled:c}=e,d=l[s],p=c||!d;return(0,u.jsxs)(cSe,{children:[(0,u.jsx)(_e.Z,{component:wr.XZ,name:s,label:t,disabled:c}),(0,u.jsxs)(gSe,{children:[(0,u.jsx)(_e.Z,{name:n,className:o,component:OSe,availableValues:r,disabled:p}),(0,u.jsx)(vb.i,{disabled:p}),(0,u.jsx)(_e.Z,{name:a,className:o,component:OSe,availableValues:i,offerMax:!0,disabled:p})]})]})};PSe.propTypes={disabled:c().bool.isRequired,formValues:c().object.isRequired,label:c().node.isRequired,availableStarts:c().arrayOf(c().string).isRequired,availableEnds:c().arrayOf(c().string).isRequired,activeFlagFieldName:c().string.isRequired,startFieldName:c().string.isRequired,endFieldName:c().string.isRequired,inputClassName:c().string.isRequired};const wSe=PSe;var CSe=["endFrom","endTo","scheduleEndEnabled","scheduleStartEnabled","startFrom","startTo","workHoursEnabled","workHoursFrom","workHoursTo"];function kSe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function TSe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kSe(Object(r),!0).forEach((function(t){NSe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kSe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NSe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RSe="startFrom",ESe="startTo",DSe="endFrom",ASe="endTo",MSe="workHoursFrom",ISe="workHoursTo",ZSe="weekend",qSe="scheduleStartEnabled",FSe="scheduleEndEnabled",LSe="workHoursEnabled",HSe=e=>{var{id:t,namePeriod:r,login:i}=e;return{id:t,login:i,fullName:(0,ye.Pp)(r)}},_Se=e=>{var{preferences:t,day:r,formData:i,user:s}=e,n=t.find((e=>e.day===r));if(n){var{endFrom:a,endTo:o,scheduleEndEnabled:l,scheduleStartEnabled:c,startFrom:d,startTo:u,workHoursEnabled:p,workHoursFrom:h,workHoursTo:f}=n;return TSe(TSe({},function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(n,CSe)),i)}return(e=>{var{formData:t,day:r,user:i}=e;return TSe({day:r,user:HSe(i)},t)})({formData:i,day:r,user:s})},BSe=e=>{var t=e;return e.scheduleEndEnabled||(delete t.scheduleEndEnabled,delete t.endFrom,delete t.endTo),e.scheduleStartEnabled||(delete t.scheduleStartEnabled,delete t.startFrom,delete t.startTo),e.workHoursEnabled||(delete t.workHoursEnabled,delete t.workHoursFrom,delete t.workHoursTo),t};function GSe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WSe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GSe(Object(r),!0).forEach((function(t){USe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GSe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function USe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VSe=(0,u.jsx)(J.Z,{id:"PreferencesForm.ScheduleStartEnabled",defaultMessage:[{type:0,value:"Начало смены"}]}),zSe=(0,u.jsx)(J.Z,{id:"PreferencesForm.ScheduleEndEnabled",defaultMessage:[{type:0,value:"Окончание смены"}]}),YSe=(0,u.jsx)(J.Z,{id:"PreferencesForm.WorkHoursEnabled",defaultMessage:[{type:0,value:"Продолжительность смены (часов)"}]}),QSe=(0,u.jsx)(J.Z,{id:"OperatorPreferences.CreatePreferences",defaultMessage:[{type:0,value:"Сформировать предпочтения"}]}),KSe=e=>{var{handleSubmit:t,formValues:r,propose:i,onRequestPropose:n,invalid:a,checkedCells:o,statistics:{quote:l,total:c}}=e,{startValues:d,endValues:p,workHourStartValues:h,workHourEndValues:f}=i,v=r[ZSe],y=(0,s.v9)(Xme);(0,m.useEffect)((()=>{y||n()}),[r,o]);var g=a||l-c<o.length||!r.weekend&&!r.scheduleStartEnabled&&!r.scheduleEndEnabled&&!r.workHoursEnabled;return(0,u.jsxs)("div",{className:"BILsL0q6uCKn0vVyc9H76w==",children:[(0,u.jsx)(cSe,{children:(0,u.jsx)(_e.Z,{name:ZSe,component:vSe})}),(0,u.jsx)(wSe,{availableEnds:d,availableStarts:d,inputClassName:oSe,startFieldName:RSe,activeFlagFieldName:qSe,endFieldName:ESe,label:VSe,formValues:r,disabled:v}),(0,u.jsx)(wSe,{availableEnds:p,availableStarts:p,inputClassName:oSe,startFieldName:DSe,activeFlagFieldName:FSe,endFieldName:ASe,label:zSe,formValues:r,disabled:v}),(0,u.jsx)(wSe,{availableEnds:f,availableStarts:h,inputClassName:"RjOT7hnf2ywwx-SjvkowTA==",startFieldName:MSe,activeFlagFieldName:LSe,endFieldName:ISe,label:YSe,formValues:r,disabled:v}),(0,u.jsx)(cSe,{children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:t,caption:QSe,disabled:g})})]})};KSe.propTypes=WSe(WSe({},Bt.ZP),{},{formValues:c().object.isRequired,propose:c().shape({startValues:c().array.isRequired,endValues:c().array.isRequired,workHourStartValues:c().array.isRequired,workHourEndValues:c().array.isRequired}).isRequired,onRequestPropose:c().func.isRequired,checkedCells:c().array.isRequired,statistics:c().array.isRequired});const XSe=KSe;var JSe=ns()().year(),$Se=ns()().month()+1,eOe=e=>{var{year:t=JSe,month:r=$Se,format:i=ft.vc}=e,s=ns()({year:t,month:r-1});return{from:s.startOf("month").format(i),to:s.endOf("month").format(i)}},tOe=(e,t)=>{if((0,j.xb)(e)||(0,j.xb)(t))return!0;var r="HH:mm",i=ns()(e,r),s=ns()(t,r);return!!i.isAfter(s)||s.diff(i)>=0};function rOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rOe(Object(r),!0).forEach((function(t){sOe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nOe="preferencesForm";const aOe=(0,o.compose)(y.EN,(0,s.$j)(((e,t)=>{var{year:r,month:i}=t.match.params;return{formValues:(0,qe.Z)(nOe)(e)||{},propose:Qme(e),dates:ave(r,i)(e),user:(0,C.ts)(e),preferences:Yme(e),preferenceStatistics:Ume(e),checkedPreferenceCells:zme(e)}}),(e=>({fetchPropose:t=>e((0,Yxe.fetchProposeByStub)(t)),savePreferences:(t,r)=>{e((0,Yxe.savePreferences)(t,r))},unselectAllCells:()=>e((0,Yxe.setCheckedPreferenceCells)([]))})),((e,t,r)=>({propose:e.propose,formValues:e.formValues,checkedCells:e.checkedPreferenceCells,statistics:e.preferenceStatistics,onSubmit:i=>{var s=(e=>{var{user:t,preferences:r,selectedDays:i,preferencesFormData:s}=e;return i.map((e=>_Se({preferences:r,day:e,formData:s,user:t})))})({user:e.user,preferences:e.preferences,preferencesFormData:BSe(i),selectedDays:e.dates});t.savePreferences(s,(()=>{var{year:i,month:s}=r.match.params,{from:n,to:a}=eOe({year:i,month:s});t.unselectAllCells(),r.fetchPreferences({from:n,to:a,userId:e.user.id})}))},onRequestPropose:()=>{var r=iOe(iOe({},(e=>{var{scheduleStartEnabled:t,scheduleEndEnabled:r,workHoursEnabled:i}=e,s=[qSe,FSe,LSe];return t||s.push(RSe,ESe),r||s.push(DSe,ASe),i||s.push(MSe,ISe),(0,O.CE)(e,s)})(e.formValues)),{},{userId:e.user.id,days:e.dates});t.fetchPropose(r)}}))),(0,Fe.Z)({form:nOe,initialValues:{[ZSe]:!1},validate:e=>{var t="The end of periods mustn't be less than the start",r={};return e[ZSe]||e[RSe]||e[ESe]||e[DSe]||e[ASe]||e[MSe]||e[ISe]||(r[RSe]="No values selected"),tOe(e[RSe],e[ESe])||(r[ESe]=t),tOe(e[DSe],e[ASe])||(r[ASe]=t),tOe(e[MSe],e[ISe])||(r[ISe]=t),r}}))(XSe);var oOe=e=>{var{linkPrefix:t,year:r,month:i,isPastDate:s,preferenceEnableStatuses:n,checkedPreferenceCells:a,setCheckedPreferenceCells:o,preferencesByPeriod:l,onDeletePreference:c,onDeletePreferenceByUserAndDays:d,fetchPreferences:p,userId:h}=e,f=!(0,j.xb)(a);return(0,m.useEffect)((()=>{var{from:e,to:t}=eOe({year:r,month:i});p({from:e,to:t,userId:h}),f&&o([])}),[r,i,h]),(0,u.jsxs)("div",{className:Qxe.container,children:[(0,u.jsx)("div",{className:Qxe.header,children:(0,u.jsx)(gfe,{currentYear:Number(r),currentMonth:Number(i),linkPrefix:t})}),(0,u.jsxs)("div",{className:Qxe.body,children:[(0,u.jsxs)("div",{className:Qxe.sidebar,children:[(0,u.jsx)(Xxe,{year:r,month:i,isPastDate:s,checkedPreferenceCells:a,onDeletePreferenceByUserAndDays:d}),f&&(0,u.jsx)(aOe,{fetchPreferences:p})]}),(0,u.jsx)("div",{className:Qxe.calendar,children:(0,u.jsx)(aSe,{year:Number(r),month:Number(i),onDeletePreference:c,preferenceEnableStatuses:n,preferencesByPeriod:l,checkedPreferenceCells:a,setCheckedPreferenceCells:o})})]})]})};oOe.defaultProps={isPastDate:!1,preferenceEnableStatuses:[],checkedPreferenceCells:[],preferencesByPeriod:[]},oOe.propTypes={onDeletePreference:c().func.isRequired,onDeletePreferenceByUserAndDays:c().func.isRequired,linkPrefix:c().string.isRequired,preferenceEnableStatuses:c().array,checkedPreferenceCells:c().array,preferencesByPeriod:c().array,isPastDate:c().bool,year:c().string.isRequired,month:c().string.isRequired,fetchPreferences:c().func.isRequired,setCheckedPreferenceCells:c().func.isRequired,userId:P.K5.isRequired};const lOe=oOe;function cOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cOe(Object(r),!0).forEach((function(t){uOe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pOe=(0,o.compose)(y.EN,(0,s.$j)((e=>({userId:(0,C.rc)(e),preferencesByPeriod:Yme(e),preferenceEnableStatuses:Vme(e),checkedPreferenceCells:zme(e)})),{fetchPreferenceByPeriod:Yxe.fetchPreferenceByPeriod,fetchPreferenceEnableStatuses:Yxe.fetchPreferenceEnableStatuses,fetchPreferenceStatistic:Yxe.fetchPreferenceStatistic,setCheckedPreferenceCells:Yxe.setCheckedPreferenceCells,deletePreference:Yxe.deletePreference,deletePreferenceByUserAndDays:Yxe.deletePreferenceByUserAndDays},((e,t,r)=>{var{year:i,month:s}=r.match.params,n=ns()("".concat(i,"-").concat(s),"YYYY-MM"),a=ns()(),o=e=>{t.fetchPreferenceStatistic(e),t.fetchPreferenceByPeriod(e),t.fetchPreferenceEnableStatuses(e)},{from:l,to:c}=eOe({year:i,month:s}),d={from:l,to:c,userId:e.userId};return dOe(dOe(dOe(dOe({},e),t),r),{},{from:l,to:c,year:i||ns()().format("YYYY"),month:s||ns()().format("MM"),isPastDate:!!a.diff(n,"months"),onDeletePreference:e=>{t.deletePreference(e,(()=>{o(d)}))},onDeletePreferenceByUserAndDays:e=>{t.deletePreferenceByUserAndDays(e,(()=>{o(d)})),t.setCheckedPreferenceCells([])},fetchPreferences:e=>{o(e)}})})),tye,_ae(((e,t)=>{var{userId:r}=t;return r?(0,u.jsx)(e,dOe({},t)):null})))(lOe);var hOe=r(24862),fOe=ns()().format(ft.vc),mOe=ns()().startOf("month").subtract(1,"d").format(ft.vc),vOe=ns()().endOf("month").add(1,"d").format(ft.vc),yOe=e=>{var{basePath:t,className:r}=e,{date:i=fOe}=(0,y.UO)(),n=(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked"))),o=ns()(i,ft.vc),l=o.clone().subtract(1,"d"),c=o.clone().add(1,"d"),d=t+l.format(ft.vc),p=t+c.format(ft.vc),h=me()(r,"month-select"),f=e=>n&&!e.isBetween(mOe,vOe);return(0,u.jsx)("div",{className:h,children:(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:d,className:"ph",hidden:f(l),children:(0,u.jsx)(et.ZP,{glyph:et.Y4})})}),(0,u.jsx)("li",{children:o.format("DD.MM.YYYY")}),(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:p,className:"ph",hidden:f(c),children:(0,u.jsx)(et.ZP,{glyph:et.LZ})})})]})})};yOe.defaultProps={className:"day-select",basePath:"/operator/graph/day/"},yOe.propTypes=_()({basePath:c().string,className:c().string});const gOe=yOe;class bOe extends m.PureComponent{render(){if(!this.props.display)return null;var e={width:this.props.width,position:"relative",height:"100%"};return(0,u.jsx)("div",{style:e,children:(0,u.jsx)(Yo,{measureUnit:"%",orientation:"horizontal",updateInterval:6e4})})}}bOe.defaultProps={display:!0},bOe.propTypes={display:c().bool,width:c().any.isRequired};const jOe=bOe;function xOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class SOe extends m.Component{constructor(){super(...arguments),xOe(this,"tableContainerRef",(0,m.createRef)()),xOe(this,"state",{filters:{}}),xOe(this,"handleFilterChange",(e=>{this.setState({filters:e})})),xOe(this,"hasFilter",(()=>{if(!(0,j.xb)(this.state.filters.position))return!0}))}getDayColumns(){return{label:"",key:"activities",width:this.dayColumnWidth,sortable:!0,getFullValue:e=>{var t=!(0,j.xb)(e[this.props.date])&&e[this.props.date].activities||[];return t.reduce(((e,r)=>(0,Rn.iv)(r,t)?r.start:e),x.ZP.END_OF_TIME)},renderHeader:()=>(0,u.jsxs)("div",{className:"pt",style:{width:"100%",cursor:"pointer",paddingRight:"0px"},children:[(0,u.jsx)("div",{className:"schedule__timeline",children:(0,u.jsx)("div",{className:"day-data-overlay__container click-through",children:(0,u.jsx)("div",{className:"day-data-overlay__wrapper",style:{paddingRight:"0px"}})})}),(0,u.jsxs)("div",{className:"schedule__timeline disable-selection",style:{position:"relative"},children:[mve(this.dayColumnWidth,this.scheduleLength),fve(this.scheduleLength)]})]}),render:(e,t)=>{var r=ns()(this.props.date,uve).startOf("d").unix(),i=this.showNightSchedules?"50%":"100%";return(0,u.jsxs)("div",{className:"graph-table__interval-wrap",style:{height:"30px",paddingTop:"1px"},children:[!!e[this.props.date]&&!!e[this.props.date][t]&&(0,u.jsx)($a,{heightInPixels:22,activities:e[this.props.date]?e[this.props.date][t]:[],showActivityText:!0,startTimePropertyName:hOe.Bn,endTimePropertyName:hOe.$R,workActivityIdPropertyName:"workActivityId",getTime:e=>e,getLabel:e=>ns().unix(e).format("HH:mm"),getSecond:e=>e,startSecond:r,endSecond:r+86400,style:{paddingTop:3},readonly:!0}),(0,u.jsx)("div",{className:"day-data-overlay__container click-through",children:(0,u.jsxs)("div",{className:"day-data-overlay__wrapper",children:[fve(this.scheduleLength),(0,u.jsx)(jOe,{width:i,display:vve(this.props.date)})]})})]})}}}render(){var e,t,{dayLinkPrefix:r,monthLinkPrefix:i,year:s,month:n,date:a,history:{push:o},monthOrDay:l,groupGraph:c,multiFilter:d,setMultiFilter:p}=this.props,{compare:h}=new Intl.Collator,f=c.sort(((e,t)=>h(e.userName,t.userName))),m="".concat(s,"-").concat(n,"-01"),v=ns()("".concat(s,"-").concat(n,"-01"),ft.vc).endOf("month").format(uve),y=this.tableContainerRef.current?this.tableContainerRef.current.offsetWidth:1e3,g=(e=ns()(m,ft.vc).subtract(1,"d"),t=ns()(v,ft.vc).diff(e,"days"),[...Array(t)].map((()=>e.add(1,"d").format(ft.vc)))).map((e=>({label:e,key:e,isDayColumn:!0,width:80,render:(e,t)=>{var r;return(0,u.jsx)("div",{style:{cursor:"default",backgroundColor:(e[t]||{}).color,display:"block",color:e[t]&&e[t].color&&X._T(e[t].color)?"white":"inherit"},className:me()("graph__cell",{[dve.acronymClassName]:null===(r=e[t])||void 0===r?void 0:r.acronym}),children:(()=>{var r,i;if(null!==(r=e[t])&&void 0!==r&&r.acronym)return(e[t]||{}).acronym;var s=((null===(i=e[t])||void 0===i?void 0:i.period)||"").split("-");return(0,u.jsxs)(u.Fragment,{children:[s[0],s[1]&&"...",(0,u.jsx)("br",{}),s[1]]})})()})},renderHeader:t=>(0,u.jsx)("div",{style:{cursor:"pointer"},onClick:()=>o(r+e),className:me()(dve.tableLabel,{"graph__cell--today":pve(e),"graph__cell--weekend":hve(e)}),children:ns()(t.label).format(ft._T)})})));this.showNightSchedules=c.some((e=>e[a]&&(e[a].endTime<e[a].startTime||e[a].endTime>"24:00"))),this.scheduleLength=this.showNightSchedules?48:24,this.dayColumnWidth=this.showNightSchedules?2*(y-200):y-200;var b=this.getDayColumns(),j=[{label:yve,key:"userName",fixed:!0,width:170,filterable:!0,render:(e,t)=>(0,u.jsxs)("span",{className:dve.userName,title:"".concat(e[t]," (").concat(e.position,")"),children:[e[t],(0,u.jsx)("span",{className:"subtext ml",children:e.position})]}),renderHeader:e=>(0,u.jsxs)("div",{className:"table__label",children:[e.label,this.hasFilter()&&(0,u.jsx)("div",{className:"table__column-filter-indicator context-color_info",children:"*"})]})},{label:(0,u.jsx)(J.Z,{id:"Graph.position",defaultMessage:[{type:0,value:"Должность"}]}),key:"position",fixed:!1,width:.1,filterable:!1}];return j="month"===l?[...j,...g]:[...j,b],(0,u.jsx)("div",{className:"operator-section operator-day-section operator-section_no-sidebar",children:(0,u.jsx)("div",{className:"operator-section__content",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsxs)("div",{className:"operator-section__navigation mb++",children:[(0,u.jsxs)("div",{className:"day-select-container",children:["day"===this.props.monthOrDay&&(0,u.jsx)(gOe,{className:dve.stylesDaySelect,currentDate:a,basePath:r}),"month"===this.props.monthOrDay&&(0,u.jsx)(gfe,{className:dve.stylesMonthSelect,currentYear:+s,currentMonth:+n,linkPrefix:i})]}),(0,u.jsx)("div",{className:"calendar-view-select-container",children:(0,u.jsx)(dfe,{hide:"week",monthPath:i,dayPath:r})})]}),(0,u.jsx)("div",{ref:this.tableContainerRef,className:dve.tableContainer,children:(0,u.jsx)(bs.qj,{children:e=>{var{width:t}=e;return(0,u.jsx)(rB,{data:f,height:window.innerHeight-200,width:t,columns:j,rowHeight:30,isMultiColumnFilter:!0,isColumnFilter:!1,multiFilter:d,setMultiFilter:p,onFiltersChange:this.handleFilterChange})}})})]})})})}}function OOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function POe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OOe(Object(r),!0).forEach((function(t){wOe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}SOe.defaultProps={history:{},groupGraph:[],monthOrDay:"month"},SOe.propTypes=_()({monthOrDay:c().oneOf(["month","day"]),date:c().string.isRequired,dayLinkPrefix:c().string.isRequired,monthLinkPrefix:c().string.isRequired,year:c().string.isRequired,month:c().string.isRequired,history:c().object,setMultiFilter:c().func.isRequired,multiFilter:c().object.isRequired,groupGraph:c().array});const COe=(0,o.compose)(y.EN,(0,s.$j)((e=>({groupGraph:e.operator.groupGraph,user:(0,C.ts)(e),groupId:(0,TZ.pw)(e),multiFilter:e.operator.multiFilter})),{fetchGroupMonthSchedule:Hr.fetchGroupMonthSchedule,fetchGroupDaySchedule:Hr.fetchGroupDaySchedule,setMultiFilter:da.setMultiFilter},((e,t,r)=>POe(POe(POe(POe({},e),t),r),{},{date:r.match.params.date||ns()().format(ft.vc),year:r.match.params.year||ns()().format("YYYY"),month:r.match.params.month||ns()().format("MM"),requestSchedule:e=>{var t=ns()();if("month"===e.monthOrDay){var r=e.match.params.year||t.format("YYYY"),i=e.match.params.month||t.format("MM"),s=ns()("".concat(r,"-").concat(i),"YYYY-MM").startOf("month").format(ft._E),n=ns()("".concat(r,"-").concat(i),"YYYY-MM").endOf("month").format(ft._E),[a,o]=(0,ft.ae)(s,n);e.fetchGroupMonthSchedule({from:a,to:(0,ft.CK)((0,ft.Om)((0,ft.b7)(o))),groupId:e.groupId})}else{var l=e.match.params.date||t.format(ft.vc),{from:c,to:d}=(0,ft.J6)(l);e.fetchGroupDaySchedule({from:c,to:d,groupId:e.groupId})}}}))),(0,U.Z)((e=>{var{props:t}=e;(0,j.xb)(t.groupId)||t.requestSchedule(t)})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;r.groupId!==t.groupId&&r.requestSchedule(t),r.monthOrDay!==t.monthOrDay&&r.requestSchedule(t),t.month===r.month&&t.year===r.year&&t.date===r.date||r.requestSchedule(t)})),tye)(SOe);var kOe=e=>{var{basePath:t}=e;return(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:t,exact:!0,children:(0,u.jsx)(y.l_,{to:"".concat(t,"/month")})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/day/:date?"),children:(0,u.jsx)(COe,{monthOrDay:"day",dayLinkPrefix:"/operator/graph/day/",monthLinkPrefix:"/operator/graph/month/"})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/month/:year?/:month?"),children:(0,u.jsx)(COe,{monthOrDay:"month",dayLinkPrefix:"/operator/graph/day/",monthLinkPrefix:"/operator/graph/month/"})}),(0,u.jsx)(y.AW,{component:Wi})]})};kOe.propTypes={basePath:c().string.isRequired};const TOe=kOe,NOe=()=>(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked")))?(0,u.jsx)(y.l_,{to:ee}):(0,u.jsx)(TOe,{basePath:ne}),ROe=()=>{var e=(0,s.v9)(C.ts),t=(0,s.v9)((e=>(0,B.vH)(e,"isOzonEmployeeWorkspaceBlocked")));return(0,ye.TM)(e)?(0,u.jsx)(y.l_,{to:x.ZP.MANAGER_HOME_PATH}):(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:$,exact:!0,children:(0,u.jsx)(y.l_,{to:ee})}),(0,u.jsx)(MH,{path:ee,title:t?{id:"Menu.calendarMonth",defaultMessage:"Календарь на месяц"}:{id:"Menu.workShifts",defaultMessage:"Рабочие смены"},children:(0,u.jsx)(Vye,{basePath:ee})}),(0,u.jsx)(MH,{path:"/operator/graph",title:{id:"Menu.graph",defaultMessage:"График"},children:(0,u.jsx)(NOe,{})}),(0,u.jsx)(MH,{path:"".concat(se,"/:year?/:month?"),title:{id:"Menu.preferences",defaultMessage:"Предпочтения"},children:(0,u.jsx)(pOe,{linkPrefix:"/operator/preferences/"})}),(0,u.jsx)(MH,{path:"".concat(ie,"/:start?/:end?"),title:{id:"Menu.listAllRequests",defaultMessage:"Заявки"},children:(0,u.jsx)(ige,{})}),(0,u.jsx)(y.AW,{path:"".concat(le,"/:date?"),children:(0,u.jsx)(uge,{})}),(0,u.jsx)(MH,{path:ae,title:{id:"Menu.listAllSwap",defaultMessage:"Обмен сменами"},children:(0,u.jsx)(hxe,{})}),(0,u.jsx)(y.AW,{path:"/operator/work-hours-report/:from?/:to?",children:(0,u.jsx)(Txe,{})}),(0,u.jsx)(y.AW,{path:"/operator/reports/accounting",children:(0,u.jsx)(zxe,{})}),(0,u.jsx)(MH,{path:"/operator/reports",title:{id:"Menu.reports",defaultMessage:"Отчеты"},children:(0,u.jsx)(Axe,{})}),(0,u.jsx)(y.AW,{component:Wi})]})},EOe="CzXx2ZEG6LWGJqtLG56GmA==",DOe="W3-wLHGCSOutcrSidSWflg==";function AOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class MOe extends m.Component{constructor(){super(...arguments),AOe(this,"state",{iconEye:!0}),AOe(this,"handleClickEye",(()=>{this.setState((e=>({iconEye:!e.iconEye})))})),AOe(this,"handleSaveClick",(()=>{var{onSubmit:e,formValue:t}=this.props,{login:r}=t;e({login:r,password:(0,Le.H)(t.password)})}))}render(){var e={width:15,height:15},{invalid:t}=this.props,r=this.state.iconEye?"password":"text",i=this.state.iconEye?(0,u.jsx)(et.ZP,{glyph:et.Wi,style:e}):(0,u.jsx)(et.ZP,{glyph:et.bA,style:e});return(0,u.jsxs)("div",{className:"E4ugB+3xfSgH8-atCSRK6g==",children:[(0,u.jsxs)("div",{className:"BCMlh7O0xhJkhEugOCV0Ag==",children:[(0,u.jsx)("p",{className:"MkPryK9nE7UTguJU67bi5A==",children:(0,u.jsx)(J.Z,{id:"EmployeeAddForm.inputLoginAndPassword",DefaultMessage:"Для создания пользователя введите логин и пароль"})}),(0,u.jsxs)("div",{className:"JPWgD5ZY5D6VP7b7YhH6-g==",children:[(0,u.jsxs)("table",{className:"PKkhn8l-KAKD5PwU4LJcyQ==",children:[(0,u.jsx)(TF.X,{label:wG,labelClassName:EOe,childrenClassName:DOe,children:(0,u.jsx)(_e.Z,{component:NF.Z,type:"text",name:"login"})}),(0,u.jsx)(TF.X,{label:CG,labelClassName:EOe,childrenClassName:DOe,children:(0,u.jsx)(_e.Z,{component:NF.Z,isWithoutSpaceInput:!0,type:r,name:"password"})})]}),(0,u.jsx)(Ae.Z,{className:"_696XPwGJmIJLNWxdHCyfvA==",onClick:this.handleClickEye,children:i})]})]}),(0,u.jsx)("div",{className:"u7GXZ23PkBoqcBXs8g1RJg==",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:kG,onClick:this.handleSaveClick,disabled:t})})]})}}function IOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ZOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IOe(Object(r),!0).forEach((function(t){qOe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}MOe.defaultProps={invalid:!1,formValue:{}},MOe.propTypes={onSubmit:c().func.isRequired,formValue:c().object,invalid:c().bool};var FOe="EmployeeAddForm",LOe={login:"required",password:"required"};const HOe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({groupId:(0,Y.Wx)(e),formValue:(0,qe.Z)(FOe)(e)})),(e=>({createEmployee:(t,r)=>e((0,dy.createEmployee)(t,r)),destroyForm:()=>e((0,Qr.ob)(FOe))})),((e,t,r)=>{var i=e=>{r.closeForm(),t.destroyForm(),r.openEditForm(e.id)};return ZOe(ZOe(ZOe(ZOe({},e),t),r),{},{onSubmit:r=>{var s={login:r.login.trim(),password:r.password.trim(),groupPeriod:{startDate:"1970-01-01 00:00:00 +0000",endDate:"2070-01-01 00:00:00 +0000",groupId:e.groupId}};t.createEmployee(s,i)}})})),(0,Fe.Z)({form:FOe,validate:(e,t)=>(0,xO.ZP)({data:e,formNameSpace:"",fields:LOe,intl:t.intl}).errors}))(MOe),_Oe=()=>(0,u.jsxs)("div",{className:"CYkefzNPp1DV8jAMtr+uSA==",children:[(0,u.jsx)(et.ZP,{glyph:et.KP,className:"OGjkjwEbQeo+vN7dnRmWAQ=="}),(0,u.jsx)(J.Z,{id:"EmployeeForm.Add",defaultMessage:[{type:0,value:"Добавление сотрудника"}]})]}),BOe=(0,o.compose)((0,s.$j)(null,(e=>({updateUser:t=>e((0,dy.updateEmployee)(t))}))))(Qz);function GOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GOe(Object(r),!0).forEach((function(t){UOe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VOe=e=>{var{tableDisplaySettings:t,showFiredEmployeesEnabled:r}=e,i=WOe(WOe({},t),{},{empty:!0});return[new DO.Z({label:YH.pQ,key:"namePeriod",fixed:!0,hasTitle:!1,sortable:!0,filterable:!0,width:270,sortFunc:A_,cellContentClassName:YH.NI,headerClassName:YH.Ze,getValue:e=>(0,j.xb)(e.namePeriod)?null:(0,ye.Pp)(e.namePeriod).trim(),renderCell:e=>{var t=(0,ye.oo)(e.namePeriod),i=(0,ye.Pp)(e.namePeriod),s=(0,ye.oO)(e),n=me()(Iz.default.avatarCell,{[Iz.default.notFiredUser]:!s,[Iz.default.showFiredEmployeesEnabled]:r&&s});return(0,u.jsx)(Wz,{user:e,copyUser:dy.copyEmployee,children:(0,u.jsxs)("div",{className:Iz.default.fullNameContainer,children:[(0,u.jsx)("div",{className:Iz.default.reinstateUser,children:(0,u.jsx)(BOe,{isFired:(0,ye.oO)(e),user:e})}),(0,u.jsx)("div",{className:n,children:(0,u.jsx)(Zr.q,{userId:e.id})}),(0,u.jsx)("div",{className:Iz.default.fullNameCell,children:(0,u.jsx)(qz,{text:t,title:i})})]})})}}),new DO.Z({label:YH.tt,key:"schemePeriods",sortable:!0,filterable:!0,hasTitle:!1,width:190,cellContentClassName:YH.NI,getValue:e=>(0,jo.uG)(e.schemePeriods).map((e=>(0,j.xb)(e)?"":e.name.trim())),filterComponent:AO.Z,headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:(0,jo.uG)(e.schemePeriods)})}),new DO.Z({label:YH.xl,key:"login",width:190,sortable:!0,hasTitle:!1,filterable:!0,cellContentClassName:YH.NI,headerClassName:YH.oB,renderCell:e=>(0,u.jsx)("div",{className:Iz.default.cell,children:(0,u.jsx)(qz,{title:e.login,text:e.login})})}),new DO.Z({label:YH.GU,key:"personnelNumber",sortable:!0,filterable:!0,hasTitle:!1,width:200,cellContentClassName:YH.NI,sortFunc:A_,headerClassName:YH.oB,getValue:e=>{var{personnelNumber:t}=e;return null===t?"":t},renderCell:e=>(0,u.jsx)(qz,{title:e.personnelNumber,text:e.personnelNumber})}),new DO.Z({label:jW.LT,key:"externalUserIds",sortable:!0,filterable:!0,hasTitle:!1,width:260,filterComponent:AO.Z,cellContentClassName:YH.NI,headerClassName:YH.oB,sortFunc:A_,getValue:e=>{var{externalUserIds:t}=e;return t.map((e=>{var{externalUserId:t}=e;return(0,j.xb)(t)?"":t}))},renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:e.externalUserIds,nameKey:"externalUserId"})}),new DO.Z({label:YH.S6,key:"skills",sortable:!0,hasTitle:!1,filterable:!0,width:250,filterComponent:AO.Z,cellContentClassName:YH.NI,getValue:e=>(0,jo.uG)(e.skills).map((e=>e.name)),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:(0,jo.uG)(e.skills)})}),new DO.Z({label:YH.sR,key:"preferenceContainers",sortable:!0,hasTitle:!1,filterable:!0,width:250,filterComponent:AO.Z,cellContentClassName:YH.NI,getValue:e=>(0,jo.uG)(e.preferenceContainers).map((e=>e.name)),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:(0,jo.uG)(e.preferenceContainers)})}),new DO.Z({label:YH.Zh,key:"reserveSkills",sortable:!0,filterable:!0,hasTitle:!1,width:250,filterComponent:AO.Z,cellContentClassName:YH.NI,getValue:e=>(0,jo.uG)(e.reserveSkills).map((e=>e.name)),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:(0,jo.uG)(e.reserveSkills)})}),new DO.Z({label:YH.A,key:"tasks",sortable:!0,filterable:!0,hasTitle:!1,width:250,filterComponent:AO.Z,cellContentClassName:YH.NI,getValue:e=>(0,jo.uG)(e.tasks).map((e=>e.name)),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Bz,{allElementsArray:(0,jo.uG)(e.tasks)})}),new DO.Z({label:YH._J,key:"groupPeriod",sortable:!0,filterable:!0,hasTitle:!1,width:250,cellContentClassName:YH.NI,sortFunc:A_,getValue:e=>(0,lx.Tq)(e.groupPeriod,"name"),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(qz,{title:(0,lx.Tq)(e.groupPeriod,"name"),text:(0,lx.Tq)(e.groupPeriod,"name")})}),new DO.Z({label:YH.WI,key:"zonePeriod",sortable:!0,hasTitle:!1,filterable:!0,width:250,cellContentClassName:YH.NI,sortFunc:A_,getValue:e=>(0,lx.Tq)(e.zonePeriod,"zone"),headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(qz,{title:(0,lx.Tq)(e.zonePeriod,"zone"),text:(0,lx.Tq)(e.zonePeriod,"zone")})}),new DO.Z({label:YH.aj,key:"phoneNumber",sortable:!0,filterable:!0,hasTitle:!1,cellContentClassName:YH.NI,headerClassName:YH.oB,width:200,sortFunc:A_,getValue:e=>{var{phoneNumber:t}=e;return""===t?null:t},renderCell:e=>(0,u.jsx)(qz,{title:e.phoneNumber,text:e.phoneNumber})}),new DO.Z({label:YH.iY,width:250,sortable:!0,filterable:!0,hasTitle:!1,key:"email",cellContentClassName:YH.NI,headerClassName:YH.oB,sortFunc:A_,getValue:e=>{var{email:t}=e;return""===t?null:t},renderCell:e=>(0,u.jsx)(qz,{text:e.email,title:e.email})}),new DO.Z({label:YH.AJ,width:130,sortable:!0,filterable:!0,hasTitle:!1,key:"officePeriod",cellContentClassName:YH.NI,getValue:e=>(0,lx.Tq)(e.officePeriod,"name"),sortFunc:A_,headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(qz,{title:(0,lx.Tq)(e.officePeriod,"name"),text:(0,lx.Tq)(e.officePeriod,"name")})}),new DO.Z({label:QH,width:260,sortable:!0,filterable:!0,hasTitle:!1,key:"address",cellContentClassName:YH.NI,headerClassName:YH.oB,sortFunc:A_,getValue:e=>e.address||null,renderCell:e=>{var t;return(0,u.jsx)("div",{className:Iz.default.address,children:(0,u.jsx)(qz,{text:e.address,title:(null===(t=e.address)||void 0===t?void 0:t.length)>=31&&e.address})})}}),new DO.Z({label:YH.zv,key:"positionPeriod",sortable:!0,filterable:!0,hasTitle:!1,width:150,getValue:e=>(0,lx.Tq)(e.positionPeriod,"name"),cellContentClassName:YH.NI,headerClassName:YH.oB,sortFunc:A_,renderCell:e=>(0,u.jsx)("div",{className:Iz.default.cell,children:(0,u.jsx)(qz,{title:(0,lx.Tq)(e.positionPeriod,"name"),text:(0,lx.Tq)(e.positionPeriod,"name")})})}),new DO.Z({label:YH.NC,key:"dateOfBirth",width:190,sortable:!0,filterable:!0,hasTitle:!1,filterComponent:e=>(0,u.jsx)($O,WOe(WOe({},e),{},{filteredColumnKey:"dateOfBirth"})),cellContentClassName:YH.NI,headerClassName:YH.oB,renderCell:e=>(0,u.jsx)(Lz,{date:e.dateOfBirth})}),new DO.Z({label:YH.sT,key:"hiringDate",width:170,sortable:!0,filterable:!0,hasTitle:!1,filterComponent:e=>(0,u.jsx)($O,WOe(WOe({},e),{},{outputFormatter:YH.aD})),cellContentClassName:YH.NI,headerClassName:YH.oB,getValue:e=>{var{hiringDate:t}=e;return(0,YH.aD)(t)},renderCell:e=>(0,u.jsx)(Lz,{date:e.hiringDate})}),new DO.Z({label:YH.js,key:"firingDate",width:190,sortable:!0,filterable:!0,hasTitle:!1,cellContentClassName:YH.NI,filterComponent:$O,headerClassName:YH.oB,getValue:e=>{var{firingDate:t}=e;return t===x.ZP.END_OF_TIME?null:t},renderCell:e=>(0,u.jsx)(Lz,{date:e.firingDate})}),new DO.Z({label:YH.yT,key:"normHours",width:240,sortable:!0,filterable:!0,hasTitle:!1,cellContentClassName:YH.NI,headerClassName:YH.oB,sortFunc:A_,getValue:e=>{var{calendarPeriod:t}=e;return(0,j.xb)(t)||(0,j.xb)(t.name)?null:eP(t.name)},renderCell:e=>{var t,r;return(0,u.jsx)("div",{title:null===(t=e.calendarPeriod)||void 0===t?void 0:t.name,className:Iz.default.cell,children:null===(r=e.calendarPeriod)||void 0===r?void 0:r.name})}}),new DO.Z({key:"empty",label:"",width:0,autoSize:!0,renderCell:()=>(0,u.jsx)("span",{})})].filter((e=>i[e.key]))};function zOe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class YOe extends m.PureComponent{constructor(){super(...arguments),zOe(this,"fileInput",null),zOe(this,"saveInputEl",(e=>{this.fileInput=e})),zOe(this,"clear",(()=>{this.fileInput&&(this.fileInput.value=null)})),zOe(this,"handleChangeSuccess",(()=>{var{onSuccess:e}=this.props;e&&e(),this.clear()})),zOe(this,"handleChange",(e=>{var{onImportRequest:t,onClose:r}=this.props,i=e.target.files[0];if(i){var s=new FormData;s.append("file",i),t(s,this.handleChangeSuccess,this.clear),r&&r()}}))}render(){if(this.props.hidden)return null;var{importButtonStyle:e}=this.props;return(0,u.jsx)("div",{className:me()("xpVkxBhLoqFnqhWV-SHrew==",e),children:(0,u.jsxs)("label",{className:"deXZoECmhFxd0OA3dZfMzA==",children:[this.props.label,(0,u.jsx)("input",{ref:this.saveInputEl,className:"form-input",style:{display:"none"},type:"file",onChange:this.handleChange})]})})}}YOe.defaultProps={hidden:!1,importButtonStyle:"",onClose:O.wA},YOe.propTypes={onImportRequest:c().func.isRequired,onSuccess:c().func.isRequired,onClose:c().func,label:c().node.isRequired,hidden:c().bool,importButtonStyle:c().string};const QOe=YOe;var KOe=e=>{var{openDisplaySettings:t,intl:{formatMessage:r}}=e;return(0,u.jsx)(Ae.Z,{onClick:t,hint:r(Oz),children:(0,u.jsx)(et.ZP,{glyph:et.Zr})})};KOe.propTypes={openDisplaySettings:c().func.isRequired,intl:P.gm.isRequired};const XOe=(0,v.ZP)(KOe),JOe="zhWFAExVuFYWS6tjS43DaA==",$Oe="WdicS+CTB6ubstwG527xHg==",ePe="KNL11auYPGZWhAgjpAWDiQ==",tPe="jnneYWOALayEubN-VcauWg==";var rPe=(0,u.jsx)(et.ZP,{glyph:et.Qh}),iPe=e=>{var{handleOpenDisplaySettings:t,addButtonLabel:r,handleOpenAddForm:i,openEmployeeMultipleEdit:n,intl:a,fetchEmployees:o,importEmployees:l,importEmployeeSkills:c,importEmployeeVacations:d,importEmployeePreference:p,exportEmployeeVacations:h,groupId:f,user:v}=e,y=(0,s.v9)(Lu.$q),g=(0,s.v9)(ij.tg),b=(0,X.BC)(v,x.ZP.RIGHTS.OPERATORS,x.ZP.CRUD),[j,S]=(0,m.useState)(!1),[O,P]=(0,m.useState)(!1),w=(0,m.useRef)(null),C=(0,m.useRef)(null),k=()=>{S(!j)},T=()=>{P(!O)};return(0,u.jsxs)("div",{className:"yHfDQ1bI2MafCIyQpW6g-A==",children:[(0,u.jsx)("div",{title:a.formatMessage(Oz),className:"_0P-IHt9Bznnt5Vh+3xQrjg==",children:(0,u.jsx)(XOe,{openDisplaySettings:t})}),(0,u.jsx)("div",{title:a.formatMessage(Pz),className:"u5YYGMzdIyfq+Tyr8HJSMA==",children:(0,u.jsx)(Ge.Z,{type:"transparent",caption:r,onClick:i,icon:rPe})}),(0,u.jsx)("div",{hidden:!b,title:a.formatMessage(wz),className:"BAtE6MPgDtqYWQ8JNnhGCQ==",children:(0,u.jsx)(Ae.Z,{onClick:n,disabled:y||g,children:(0,u.jsx)(et.ZP,{glyph:et.zG})})}),(0,u.jsx)("div",{className:"GEb7LcOwQZDDIC6oblSxLA==",hidden:!b,children:(0,u.jsxs)("div",{className:"button button-transparent",onClick:k,ref:w,children:[(0,u.jsx)(et.ZP,{glyph:et.bb,className:tPe})," "," "," ",(0,u.jsx)("span",{className:JOe,children:(0,u.jsx)(J.Z,{id:"Offices.import",defaultMessage:[{type:0,value:"Импортировать"}]})})]})}),(0,u.jsx)("div",{className:"_5RTEeu9dTcGzF7uCJvvkzg==",children:(0,u.jsxs)("div",{className:"button button-transparent",onClick:T,ref:C,children:[(0,u.jsx)(et.ZP,{glyph:et.gq,className:tPe})," "," "," ",(0,u.jsx)("span",{className:JOe,children:(0,u.jsx)(J.Z,{id:"Offices.export",defaultMessage:[{type:0,value:"Экспортировать"}]})})]})}),(0,u.jsx)(Ns.ZP,{open:j,onClose:k,anchorEl:w.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsxs)("div",{className:$Oe,children:[(0,u.jsx)(QOe,{onClose:()=>S(!1),label:Nz,onSuccess:o,onImportRequest:l,hidden:!b,importButtonStyle:ePe}),(0,u.jsx)(QOe,{onClose:()=>S(!1),label:Cz,onSuccess:o,onImportRequest:c,hidden:!b,importButtonStyle:ePe}),(0,u.jsx)(QOe,{onClose:()=>S(!1),label:kz,onSuccess:o,onImportRequest:d,hidden:!b,importButtonStyle:ePe}),(0,u.jsx)(QOe,{onClose:()=>S(!1),label:Tz,onSuccess:o,onImportRequest:p,hidden:!b,importButtonStyle:ePe})]})}),(0,u.jsx)(Ns.ZP,{open:O,onClose:T,anchorEl:C.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,u.jsx)("div",{className:"_2CdUEvtag93BEznaF7ccKg==",children:(0,u.jsx)("div",{className:$Oe,children:(0,u.jsx)("div",{onClick:()=>{h({groupId:f}),P(!1)},className:"zgH3JsHEvl9hEGzJlmIxbw==",children:(0,u.jsx)(J.Z,{id:"Employee.importVacation",defaultMessage:[{type:0,value:"Отпуска"}]})})})})})]})};iPe.defaultProps={addButtonLabel:"",openEmployeeMultipleEdit:null},iPe.propTypes={openEmployeeMultipleEdit:c().func,handleOpenDisplaySettings:c().func.isRequired,handleOpenAddForm:c().func.isRequired,intl:P.gm.isRequired,user:ge.Z.isRequired,addButtonLabel:c().oneOfType([c().node,c().string]),fetchEmployees:c().func.isRequired,importEmployees:c().func.isRequired,importEmployeeSkills:c().func.isRequired,importEmployeeVacations:c().func.isRequired,importEmployeePreference:c().func.isRequired,exportEmployeeVacations:c().func.isRequired,groupId:c().string.isRequired};const sPe=(0,v.ZP)(iPe);var nPe=e=>{var{intl:t,onShowFired:r,showFiredEmployeesEnabled:i,cleanAllFilters:s,numberOfEmployees:n,currentNumberOfEmployees:a,filters:o}=e,l=t.formatMessage({id:"Managers.cleanAllFilters",defaultMessage:[{type:0,value:"Показывать уволенных"}]});return(0,u.jsxs)("div",{className:"v60kMqKAi5Gz7ehhxnxtWA==",children:[(0,u.jsx)("div",{className:"_41ZvXLX1oZHcV-3JCYa++Q==",children:(0,u.jsx)(Mg.Z,{onChange:r,label:b_,checked:i})}),(0,u.jsx)("div",{className:KS,children:(0,u.jsx)(JS,{label:l,cleanAllFilters:s,filterIsSet:!(0,jo.E7)(o),numberOfItems:a,totalNumberOfItems:n})})]})};nPe.propTypes={onShowFired:c().func.isRequired,showFiredEmployeesEnabled:c().bool.isRequired,cleanAllFilters:c().func.isRequired,numberOfEmployees:c().number.isRequired,currentNumberOfEmployees:c().number.isRequired,filters:c().object.isRequired,intl:P.gm.isRequired};const aPe=nPe,oPe="mMP8jQLlcU5RrO+LNlFgHQ==",lPe={employee:"_6grjxDTEFxOEQWLYVoDEzw==",employeeCount:"nXguuL6aKeJYKySyM4QIZA==",employeeListItem:"JRv-95lyqEp-b9hs27CwTw==",employeeCountNumber:"EmgIo6rsQOoruACH4RXhcw==",removeItem:"zuFTTCqC7cBLPalky+dIhw==",employeeList:"OGlH1EcCNwjMHwfnUjJm6g==",textItem:"F42VvQ9hzPynFN2zVbTJlw==",backgroundSuccess:"rpjXgVSNmQI82OzIOsBUNA==",backgroundFailed:"CGYBsfwAob3oGS77Y0f4Mw=="};var cPe=r(3942),dPe=e=>{var{employees:t,onRemove:r,responseData:i}=e,n=(0,s.I0)();return(0,m.useEffect)((()=>{(0,j.xb)(i)||setTimeout((()=>n((0,cPe.resetResponseData)())),2e3)}),[i]),(0,u.jsxs)("div",{className:lPe.employee,children:[(0,u.jsxs)("div",{className:lPe.employeeCount,children:[(0,u.jsx)("div",{className:lPe.employeeCountTitle,children:(0,u.jsx)(J.Z,{id:"Menu.employee",defaultMessage:[{type:0,value:"Сотрудники"}]})}),(0,u.jsx)("div",{className:lPe.employeeCountNumber,children:"(".concat(null==t?void 0:t.length,")")})]}),(0,u.jsx)("ul",{className:lPe.employeeList,children:(0,u.jsx)(Be.$B,{children:null==t?void 0:t.map((e=>{var t,s,{id:n,name:a}=e,o=null===(t=i.succeededUsers)||void 0===t?void 0:t.filter((e=>e===n)),l=null===(s=i.failedUsers)||void 0===s?void 0:s.filter((e=>e===n)),c=me()(lPe.employeeListItem,{[lPe.backgroundSuccess]:!(0,j.xb)(o),[lPe.backgroundFailed]:!(0,j.xb)(l)});return(0,u.jsxs)("li",{className:c,children:[(0,u.jsx)("span",{className:lPe.textItem,children:a}),(0,u.jsx)(Ae.Z,{onClick:()=>r(n),className:lPe.removeItem,disabled:!(0,j.xb)(o)||!(0,j.xb)(l),children:(0,j.xb)(o)?(0,j.xb)(l)?(0,u.jsx)(et.ZP,{glyph:et.Tw}):(0,u.jsx)(et.ZP,{glyph:et.TX}):(0,u.jsx)(et.ZP,{glyph:et.Ir})})]},n)}))})})]})};dPe.propTypes={employees:c().array.isRequired,onRemove:c().func.isRequired,responseData:c().object.isRequired};const uPe=dPe;var pPe=e=>e.settings.preferenceSchedulesInMultiEdit,hPe=e=>e.settings.vacationInMultiEdit;var fPe=e=>e.employee.employeeMultipleEdit.employee,mPe=(0,Q.createSelector)((e=>e.employee.employee),(e=>e.filter((e=>(0,ye.oO)(e))).map((e=>{var{id:t}=e;return t})))),vPe=e=>e.employee.employeeMultipleEdit.skills,yPe=e=>e.employee.employeeMultipleEdit.reserveSkills,gPe=e=>e.employee.employeeMultipleEdit.taskSkills,bPe=e=>e.employee.employeeMultipleEdit.groups,jPe=e=>e.employee.employeeMultipleEdit.userZones,xPe=e=>e.employee.employeeMultipleEdit.positions,SPe=e=>e.employee.employeeMultipleEdit.calendars,OPe=e=>e.employee.employeeMultipleEdit.response,PPe=e=>e.employee.employeeMultipleEdit.firingDate,wPe=e=>e.employee.employeeMultipleEdit.hiringDate,CPe=e=>e.employee.employeeMultipleEdit.offices,kPe=e=>e.employee.employeeMultipleEdit.schemes,TPe=e=>e.employee.employeeMultipleEdit.blocked,NPe=e=>e.employee.employeeMultipleEdit.overWork,RPe=e=>e.employee.employeeMultipleEdit.overWorkComment,EPe=e=>e.employee.employeeMultipleEdit.notificationChannels,DPe=e=>e.employee.employeeMultipleEdit.address,APe=e=>e.employee.employeeMultipleEdit.phoneNumber,MPe=e=>e.employee.employeeMultipleEdit.email,IPe=r(15654),ZPe=e=>{var{urls:t,onOpenAsideContent:r}=e,i=(0,s.v9)(vPe),n=(0,s.v9)(pPe),o=(0,s.v9)(hPe),l=(0,s.v9)(yPe),c=(0,s.v9)(gPe),d=(0,s.v9)(bPe),p=(0,s.v9)(jPe),h=(0,s.v9)(xPe),f=(0,s.v9)(SPe),m=(0,s.v9)(CPe),v=(0,s.v9)(DPe),g=(0,s.v9)(MPe),b=(0,s.v9)(APe),x=(0,s.v9)(kPe),{location:{pathname:S}}=(0,y.k6)();return(0,u.jsx)(Be.$B,{children:(0,u.jsx)("ul",{className:"q8XcbXD0ImZRvjcIBqOnjQ==",children:t.map((e=>{var{url:t,title:s}=e;return(0,u.jsx)("li",{className:"RHBkDUHkgXIDDYntjG1l+g==",children:(0,u.jsx)(Ae.Z,{onClick:()=>r(),className:me()({"XAfIRGqKOTFL3-Ot5sE4GA==":S!==t&&!(0,j.xb)({[IPe.zo]:i,[IPe.MI]:n.scheduleList,[IPe.D6]:o,[IPe.e8]:l,[IPe.$m]:c,[IPe.Ay]:d,[IPe.a3]:p,[IPe.HA]:h,[IPe.wQ]:f,[IPe.d_]:m,[IPe.u4]:g,[IPe.Hg]:v,[IPe.Vi]:b,[IPe.oR]:x}[t])}),children:(0,u.jsx)(a.OL,{to:t,activeClassName:"oHjhxs4ew3XDQRVFHF6ZCg==",children:s})})},t)}))})})};ZPe.propTypes={urls:c().array.isRequired,onOpenAsideContent:c().func.isRequired};const qPe=ZPe;var FPe=e=>{var{employeeList:t,onClose:r,onOpenAsideContent:i,onRemove:s,responseData:n}=e,a=(0,u.jsx)(J.Z,{id:"Employee.editFinish",defaultMessage:[{type:0,value:"Завершить редактирование"}]});return(0,u.jsxs)("div",{className:"WQMpiuQKVV9YcqRPIBPq2g==",children:[(0,u.jsxs)("div",{className:"KHPyz6us9wiTFyhpJUL+kw==",children:[(0,u.jsx)("div",{className:oPe,children:(0,u.jsx)(uPe,{employees:t,onRemove:s,responseData:n})}),(0,u.jsx)("div",{className:oPe,children:(0,u.jsx)(qPe,{urls:IPe.jk,onOpenAsideContent:i})})]}),(0,u.jsx)("footer",{className:"UwrSY7eS+XlQBaBs6Oo3uQ==",children:(0,u.jsx)(Ge.Z,{type:"stripped",onClick:r,caption:a})})]})};FPe.propTypes={employeeList:c().array.isRequired,onClose:c().func.isRequired,onOpenAsideContent:c().func.isRequired,onRemove:c().func.isRequired,responseData:c().object.isRequired};const LPe=FPe;var HPe=e=>{var{employee:t,onClose:r,onOpenAsideContent:i}=e,n=(0,s.I0)(),a=(0,s.v9)(fPe),o=(0,s.v9)(OPe),l=(0,s.v9)(Y.Wx),c=(0,s.v9)(mPe),d=a.filter((e=>!c.includes(e.id)));return(0,m.useEffect)((()=>n((0,cPe.setEmployee)(t))),[t]),(0,u.jsx)(LPe,{employeeList:d,onClose:()=>{r(),n((0,dy.fetchEmployees)({id:l}))},onRemove:e=>n((0,cPe.removeEmployee)(e)),onOpenAsideContent:i,responseData:o})};HPe.propTypes={employee:c().array.isRequired,onClose:c().func.isRequired,onOpenAsideContent:c().func.isRequired};const _Pe=HPe;var BPe=r(11866);const GPe="tQtCZKif-yGuib8JP4itlw==";var WPe=e=>{var{headerLabel:t,dataSource:r,onAdd:i,selectedItems:s,priority:n,config:a,list:o,onChecked:l,onRemove:c,textAttribute:d,isSchemes:p}=e,[h,f]=(0,m.useState)(1),[v,y]=(0,m.useState)(""),[g,b]=(0,m.useState)([]),[x,S]=(0,m.useState)((0,ft.b7)((0,ft.zO)())),[O,P]=(0,m.useState)(ft.k),w=o.find((e=>!1===e.checked)),C=o.find((e=>!0===e.checked));return(0,u.jsxs)("div",{className:"JahsYmj0bXb0ckREFRdBwg==",children:[(0,u.jsx)("div",{className:"O9ejwZwbW4haJuJ4QYB9sA==",children:t}),(0,u.jsxs)("div",{className:"Vv6v-Pkbnnsp1lDLBl6xqg==",children:[n&&(0,u.jsx)("div",{className:GPe,children:(0,u.jsx)(BPe.Z,{onChange:e=>f(e),value:h})}),p?(0,u.jsx)(Gl.Z,{checkboxLabelClassName:"Du769wCJz0RIajkoyWoH4w==",values:g,onChange:e=>b(e),dropDownHeight:300,dataSource:r,dataSourceConfig:a,classContainer:"_2LOmClIPHO8fEDGLqeo-uA=="}):(0,u.jsx)(yj.Z,{dataSource:r,dataSourceConfig:a,onChange:e=>y(e),value:v,selectedItems:s,disableSelectedItems:!0,classContainer:"_75zPMhvnS9WAIjSD5HeIdQ=="}),(0,u.jsxs)("div",{className:"_4FE+8Ytqh9dg2H51OmBG+A==",children:[(0,u.jsx)(mt.Z,{date:x,onChange:e=>S(e)}),(0,u.jsx)("span",{className:"pr pl",children:(0,u.jsx)(vb.i,{})}),(0,u.jsx)(mt.Z,{date:O,onChange:e=>P(e),minDate:x})]})]}),(0,u.jsx)(Ae.Z,{onClick:()=>{i({priority:n&&h,selectedId:v,selectedIds:g,start:x,end:O,checked:!1}),y(""),b([])},className:"UaJLJ0-izsWC2b76ttHDnw==",disabled:(0,j.xb)(v)&&(0,j.xb)(g),children:(0,u.jsxs)("span",{className:"AewsQHEH+sfM3E6Y3W4M0w==",children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)(J.Z,{id:"Employee.addInList",defaultMessage:[{type:0,value:"Добавить в список"}]})]})}),(0,j.xb)(o)?(0,u.jsx)("div",{className:"PKItu-mv-a+hd+jnLWDLHQ==",children:(0,u.jsx)(J.Z,{id:"SkillsArray.empty",defaultMessage:[{type:0,value:"Пусто"}]})}):(0,u.jsxs)("div",{className:"eBtfzlbeWp3VYIL4jo05Dg==",children:[(0,u.jsx)(Rs.XZ,{checked:(0,j.xb)(w),onChange:e=>l(e)}),(0,u.jsx)(Ae.Z,{className:"_2RQ3sogznT61v+bQva8nDQ==",onClick:()=>c(),disabled:(0,j.xb)(C),children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),n&&(0,u.jsx)("div",{className:GPe,children:(0,u.jsx)(J.Z,{id:"TaskTemplatesList.priority",defaultMessage:[{type:0,value:"Приоритет"}]})}),(0,u.jsx)("div",{className:"xqt4LnddsxOrzjre0Vyw7w==",children:d}),(0,u.jsx)("div",{className:"zNwyE6-MgL0oPb72GS3NUQ==",children:(0,u.jsx)(J.Z,{id:"EditingSkills.period",defaultMessage:[{type:0,value:"Период привязки"}]})})]})]})};WPe.defaultProps={priority:!1,isSchemes:!1,selectedItems:[]},WPe.propTypes={priority:c().bool,headerLabel:c().object.isRequired,dataSource:c().array.isRequired,onAdd:c().func.isRequired,selectedItems:c().array,config:c().object.isRequired,list:c().array.isRequired,onRemove:c().func.isRequired,onChecked:c().func.isRequired,textAttribute:c().object.isRequired,isSchemes:c().bool};const UPe=WPe,VPe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Y.Wx);(0,m.useEffect)((()=>e((0,L6.fetchSkillsListByGroup)(t))),[]);var r=(0,s.v9)(H6.Vy),i=(0,X.xn)(r,"id"),n=(0,s.v9)(vPe),a=n.filter((e=>{var{id:t}=e;return Object.keys(i).includes(t)})).map((e=>{var{id:t}=e;return i[t]})),o=(0,IPe.wz)(n,r),l=(0,u.jsx)(J.Z,{id:"employeeForm.AddingSkill",defaultMessage:[{type:0,value:"Добавление навыка"}]}),c=(0,u.jsx)(J.Z,{id:"DisplaySettings.skill",defaultMessage:[{type:0,value:"Навык"}]});return(0,u.jsx)(UPe,{priority:!0,headerLabel:l,dataSource:r,onAdd:t=>{var{priority:r,selectedId:i,start:s,end:n,checked:a}=t;return e((0,cPe.addSkill)({priority:r,id:i,start:s,end:n,checked:a}))},selectedItems:a,config:{text:"name",value:"id"},list:o,onRemove:()=>e((0,cPe.removeCheckedSkills)()),onChecked:t=>e((0,cPe.checkedAllSkills)({checked:t})),textAttribute:c})},zPe={listContainer:"Zn42+G9XJsNTR235OdrLWw==",itemContainer:"yEywoo3vxPCaJx7LBfFh0g==",header:"ifG-fhXjZs4-CZhvYeyDQA==",removeBtn:"M+SZjP8ODX+oqjTIJqfz3Q==",datePickers:"yr2Lf1ACT07YQVz2BJAL-w==",priority:"IjVTz3JSNgyW0ehYigHtaQ==",tdSkills:"v6wHLE9YE2pHN9XY7GU7fQ==",period:"VIbEeqtcYeZtOGcAZpdoeA==",nameBlock:"euGvEduWQWIwTPR3m9dOkg==",name:"_989yeRfXLlRitp5oj72-UQ=="};var YPe=e=>{var{list:t,onDelete:r,onPriority:i,onEditStart:s,onEditEnd:n,onChecked:a,listByGroup:o,isPriority:l}=e;return(0,u.jsx)("ul",{className:zPe.listContainer,children:null==t?void 0:t.map((e=>{var t,c,{id:d,priority:p,start:h,end:f,checked:m}=e;return(0,u.jsxs)("li",{className:zPe.itemContainer,children:[(0,u.jsx)(Rs.XZ,{checked:m,onChange:e=>a(d,e),className:zPe.checkbox}),(0,u.jsx)(Ae.Z,{onClick:()=>r(d),className:zPe.removeBtn,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),l&&(0,u.jsx)("div",{className:zPe.priority,children:(0,u.jsx)(BPe.Z,{onChange:e=>i(d,e),value:p})}),(0,u.jsx)("div",{className:zPe.nameBlock,children:(0,u.jsx)("span",{className:zPe.name,title:null===(t=o[d])||void 0===t?void 0:t.name,children:null===(c=o[d])||void 0===c?void 0:c.name})}),(0,u.jsxs)("div",{className:zPe.datePickers,children:[(0,u.jsx)(mt.Z,{date:h,onChange:e=>s(d,e)}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(mt.Z,{date:f,onChange:e=>n(d,e)})]})]},d)}))})};YPe.defaultProps={onPriority:O.wA,isPriority:!1},YPe.propTypes={list:c().array.isRequired,listByGroup:c().object.isRequired,onChecked:c().func.isRequired,onDelete:c().func.isRequired,onEditStart:c().func.isRequired,onEditEnd:c().func.isRequired,onPriority:c().func,isPriority:c().bool};const QPe=YPe,KPe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(vPe),r=(0,s.v9)(H6.Vy),i=(0,IPe.wz)(t,r);return(0,u.jsx)(QPe,{list:i,listByGroup:(0,X.xn)(r),onChecked:(t,r)=>e((0,cPe.checkedSkill)({id:t,check:r})),onDelete:t=>e((0,cPe.removeSkill)({id:t})),onEditStart:(t,r)=>e((0,cPe.editStartDateSkill)({id:t,startSkill:r})),onEditEnd:(t,r)=>e((0,cPe.editEndDateSkill)({id:t,endSkill:r})),onPriority:(t,r)=>e((0,cPe.editPrioritySkill)({id:t,prioritySkill:r})),isPriority:!0})};var XPe=r(7212),JPe=r(66856);const $Pe="vUjddp+lS0klYVP4VIfGew==",ewe="bUyz4UOQHyfd8qsMBg9heg==";var twe=e=>{var{open:t,onClose:r,onAccept:i,title:s,contentText:n}=e;return(0,u.jsxs)(rn.Z,{open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(sn.Z,{id:"alert-dialog-title",children:s}),(0,u.jsx)(nn.Z,{children:(0,u.jsx)(XPe.Z,{id:"alert-dialog-description",children:n})}),(0,u.jsxs)(JPe.Z,{children:[(0,u.jsxs)(Ae.Z,{className:$Pe,onClick:()=>{r(),i()},children:[(0,u.jsx)(et.ZP,{glyph:et.Ir}),(0,u.jsx)("span",{className:ewe,children:(0,u.jsx)(J.Z,{id:"Common.Yes",defaultMessage:[{type:0,value:"Да"}]})})]}),(0,u.jsxs)(Ae.Z,{className:$Pe,onClick:r,children:[(0,u.jsx)(et.ZP,{glyph:et.TX}),(0,u.jsx)("span",{className:ewe,children:(0,u.jsx)(J.Z,{id:"Common.No",defaultMessage:[{type:0,value:"Нет"}]})})]})]})]})};twe.propTypes={open:c().bool.isRequired,onClose:c().func.isRequired,onAccept:c().func.isRequired,title:c().object.isRequired,contentText:c().object.isRequired};const rwe=twe,iwe="LrYZc57Tvn4l7PrLTvN8QQ==",swe="rzC9QX2Fyx+-tTv+RWi9-A==";var nwe=(0,u.jsx)(J.Z,{id:"EmployeeForm.multipleEdit",defaultMessage:[{type:0,value:"Массовое редактирование сотрудников"}]}),awe=(0,u.jsx)(J.Z,{id:"Confirm.sure",defaultMessage:[{type:0,value:"Вы уверены?"}]}),owe=e=>{var{onAdd:t,onReplace:r,onDelete:i,disabled:n,hideAddMultipleButton:a,hideDeleteMultipleButton:o}=e,[l,c]=(0,m.useState)(!1),[d,p]=(0,m.useState)(!1),[h,f]=(0,m.useState)(!1),v=(0,s.v9)(fPe),y=n||(0,j.xb)(v);return(0,u.jsxs)("div",{className:"hkAzyFp9Bw7LMrYeYlpOLw==",children:[(0,u.jsxs)("div",{className:"dITqbJQ7ZEx74tsucsYOqg==",children:[!a&&(0,u.jsxs)(Ae.Z,{className:iwe,onClick:()=>c(!0),disabled:y,children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)("div",{className:swe,children:(0,u.jsx)(J.Z,{id:"Employee.addAll",defaultMessage:[{type:0,value:"Добавить всем"}]})})]}),(0,u.jsxs)(Ae.Z,{className:iwe,onClick:()=>p(!0),disabled:y,children:[(0,u.jsx)(et.ZP,{glyph:et.Du}),(0,u.jsx)("div",{className:swe,children:(0,u.jsx)(J.Z,{id:"Employee.replaceAll",defaultMessage:[{type:0,value:"Заменить всем"}]})})]}),!o&&(0,u.jsxs)(Ae.Z,{className:iwe,onClick:()=>f(!0),disabled:y,children:[(0,u.jsx)(et.ZP,{glyph:et.XH}),(0,u.jsx)("div",{className:swe,children:(0,u.jsx)(J.Z,{id:"Employee.deleteAll",defaultMessage:[{type:0,value:"Удалить всем"}]})})]})]}),(0,u.jsx)(rwe,{onClose:()=>c(!1),open:l,onAccept:()=>t(),title:nwe,contentText:awe}),(0,u.jsx)(rwe,{onClose:()=>p(!1),open:d,onAccept:()=>r(),title:nwe,contentText:awe}),(0,u.jsx)(rwe,{onClose:()=>f(!1),open:h,onAccept:()=>i(),title:nwe,contentText:awe})]})};owe.defaultProps={disabled:!1,hideAddMultipleButton:!1,hideDeleteMultipleButton:!1,onAdd:O.wA,onDelete:O.wA},owe.propTypes={onAdd:c().func,onReplace:c().func.isRequired,onDelete:c().func,disabled:c().bool,hideAddMultipleButton:c().bool,hideDeleteMultipleButton:c().bool};const lwe=owe;var cwe=e=>{var{onAdd:t,onReplace:r,onDelete:i,disabled:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"cS2UP8uDHmPUbFVy1QudZA==",children:[(0,u.jsx)(VPe,{}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(KPe,{})})]}),(0,u.jsx)(lwe,{onReplace:r,onAdd:t,onDelete:i,disabled:s})]})};cwe.defaultProps={disabled:!1},cwe.propTypes={onAdd:c().func.isRequired,onReplace:c().func.isRequired,onDelete:c().func.isRequired,disabled:c().bool};const dwe=cwe,uwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(vPe),n=(0,s.v9)(H6.Vy),a=(0,IPe.wz)(i,n),o=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsx)(dwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:o,skills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetSkills)())))),onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:o,skills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetSkills)())))),onDelete:()=>e((0,cPe.deleteMultipleEmployee)({ids:o,skills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetSkills)())))),disabled:(0,j.xb)(a)})},pwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Y.Wx);(0,m.useEffect)((()=>e((0,L6.fetchSkillsListByGroup)(t))),[]);var r=(0,s.v9)(H6.Vy),i=(0,X.xn)(r,"id"),n=(0,s.v9)(yPe),a=n.filter((e=>{var{id:t}=e;return Object.keys(i).includes(t)})).map((e=>i[e.id])),o=(0,IPe.wz)(n,r),l=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingReserveSkill",defaultMessage:[{type:0,value:"Добавление резервного навыка"}]}),c=(0,u.jsx)(J.Z,{id:"DisplaySettings.skill",defaultMessage:[{type:0,value:"Навык"}]});return(0,u.jsx)(UPe,{headerLabel:l,dataSource:r,onAdd:t=>{var{selectedId:r,start:i,end:s,checked:n}=t;return e((0,cPe.addReserveSkill)({id:r,start:i,end:s,checked:n}))},selectedItems:a,config:{text:"name",value:"id"},onChecked:t=>e((0,cPe.checkedAllReserveSkills)({checked:t})),onRemove:()=>e((0,cPe.removeCheckedReserveSkills)()),textAttribute:c,list:o})},hwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(yPe),r=(0,s.v9)(H6.Vy),i=(0,IPe.wz)(t,r);return(0,u.jsx)(QPe,{list:i,listByGroup:(0,X.xn)(r),onChecked:(t,r)=>e((0,cPe.checkedReserveSkill)({id:t,check:r})),onDelete:t=>e((0,cPe.removeReserveSkill)({id:t})),onEditStart:(t,r)=>e((0,cPe.editStartDateReserveSkill)({id:t,startSkill:r})),onEditEnd:(t,r)=>e((0,cPe.editEndDateReserveSkill)({id:t,endSkill:r}))})};var fwe=e=>{var{onAdd:t,onReplace:r,onDelete:i,disabled:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"WJTTyKk2lx-6FWCP1JvmEA==",children:[(0,u.jsx)(pwe,{}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(hwe,{})})]}),(0,u.jsx)(lwe,{onReplace:r,onAdd:t,onDelete:i,disabled:s})]})};fwe.defaultProps={disabled:!1},fwe.propTypes={onAdd:c().func.isRequired,onReplace:c().func.isRequired,onDelete:c().func.isRequired,disabled:c().bool};const mwe=fwe,vwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(yPe),n=(0,s.v9)(H6.Vy),a=(0,IPe.wz)(i,n),o=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsx)(mwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:o,reserveSkills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetReserveSkills)())))),onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:o,reserveSkills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetReserveSkills)())))),onDelete:()=>e((0,cPe.deleteMultipleEmployee)({ids:o,reserveSkills:(0,IPe.DA)(a,"skillId")},(()=>e((0,cPe.resetReserveSkills)())))),disabled:(0,j.xb)(a)})},ywe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Y.Wx);(0,m.useEffect)((()=>e((0,jZ.fetchTaskTemplates)({id:t}))),[]);var r=(0,s.v9)(B.pd),i=(0,X.xn)(r,"id"),n=(0,s.v9)(gPe),a=n.filter((e=>{var{id:t}=e;return Object.keys(r).includes(t)})).map((e=>{var{id:t}=e;return i[t]})),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.AddTask",defaultMessage:[{type:0,value:"Добавление задач"}]}),l=(0,u.jsx)(J.Z,{id:"EmployeeForm.task",defaultMessage:[{type:0,value:"Задача"}]});return(0,u.jsx)(UPe,{onRemove:()=>e((0,cPe.removeCheckedTasks)()),onAdd:t=>{var{selectedId:r,start:i,end:s,checked:n}=t;return e((0,cPe.addTask)({id:r,start:i,end:s,checked:n}))},onChecked:t=>e((0,cPe.checkedAllTasks)({checked:t})),list:n,dataSource:r,textAttribute:l,headerLabel:o,config:{text:"name",value:"id"},selectedItems:a})},gwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(gPe),r=(0,s.v9)(B.pd),i=(0,IPe.wz)(t,r);return(0,u.jsx)(QPe,{onDelete:t=>e((0,cPe.removeTask)({id:t})),onChecked:(t,r)=>e((0,cPe.checkedTask)({id:t,check:r})),list:i,onEditEnd:(t,r)=>e((0,cPe.editEndDateTask)({id:t,endTask:r})),listByGroup:(0,X.xn)(r),onEditStart:(t,r)=>e((0,cPe.editStartDateTask)({id:t,startTask:r}))})};var bwe=e=>{var{onAdd:t,onReplace:r,onDelete:i,disabled:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"P6t+vhhO3moOQBzfPcb2xQ==",children:[(0,u.jsx)(ywe,{}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(gwe,{})})]}),(0,u.jsx)(lwe,{onReplace:r,onAdd:t,onDelete:i,disabled:s})]})};bwe.defaultProps={disabled:!1},bwe.propTypes={onAdd:c().func.isRequired,onReplace:c().func.isRequired,onDelete:c().func.isRequired,disabled:c().bool};const jwe=bwe,xwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(gPe),n=(0,s.v9)(B.pd),a=(0,IPe.wz)(i,n),o=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsx)(jwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:o,taskSkills:(0,IPe.DA)(a,"userTaskTemplateId")},(()=>e((0,cPe.resetTask)())))),onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:o,taskSkills:(0,IPe.DA)(a,"userTaskTemplateId")},(()=>e((0,cPe.resetTask)())))),onDelete:()=>e((0,cPe.deleteMultipleEmployee)({ids:o,taskSkills:(0,IPe.DA)(a,"userTaskTemplateId")},(()=>e((0,cPe.resetTask)())))),disabled:(0,j.xb)(a)})};var Swe=r(66631),Owe="SET_HOURS_FOR_MONTH",Pwe=[{value:"SELECT_CALENDAR",label:(0,u.jsx)(J.Z,{id:"EmployeeForm.selectCalendar",defaultMessage:[{type:0,value:"Выбрать календарь"}]})},{value:"SET_HOURS_FOR_MONTH",label:(0,u.jsx)(J.Z,{id:"EmployeeForm.setHoursForMonth",defaultMessage:[{type:0,value:"Задать часы на месяц"}]})}];var wwe=e=>{var{dataSource:t,dataSourceConfig:r,onAdd:i,data:s,dataMap:n,headerLabel:a,tableText:o,onRemove:l,onEditEnd:c,onEditStart:d,isGroups:p,fieldName:h,isNormHours:f}=e,[v,y]=(0,m.useState)(null),[g,b]=(0,m.useState)((0,ft.b7)(ns()((0,ft.zO)(),ft._E).format(ft._E))),[x,S]=(0,m.useState)(ns()("2070-01-01",ft._E).format(ft._E)),[O,P]=(0,m.useState)("SELECT_CALENDAR"),[w,C]=(0,m.useState)(""),k=me()({"ZRtZi4NpbpBkhmCoWESo9Q==":O===Owe});return(0,u.jsxs)("div",{className:"_2kbdj49kOh9j4T8SIbU4HA==",children:[(0,u.jsx)("div",{className:"JQh5uyoUx9bqxEpKrQv1gQ==",children:a}),f&&(0,u.jsx)("div",{className:"Y6ItWgFG90108LpUC9fb+g==",children:(0,u.jsx)(Zb.E,{selectedValue:O,options:Pwe,onChange:e=>P(e)})}),(0,u.jsxs)("div",{className:"IP6dYt0wSI4DxU2lPNPiqw==",children:[(0,u.jsxs)("div",{className:"_9OEOetcB44+oKfOXnJKZkg==",children:[p?(0,u.jsx)(Swe.Z,{nodes:t,value:v,onChange:e=>y(e)}):(0,u.jsx)("div",{className:k,children:(0,u.jsx)(yj.Z,{dataSource:t,value:v,onChange:e=>{y(e),C("")},dataSourceConfig:r})}),O===Owe&&(0,u.jsx)("div",{className:"KkL2zqv4IiEfj+Ih+33CgA==",children:(0,u.jsx)(ql.Z,{value:w,onChange:e=>{C(e),y(null)},maxValue:744,isValueWithoutZero:!0})})]}),(0,u.jsx)(Koe.Z,{date:g,onChange:e=>b(e)}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(Koe.Z,{date:x,minDate:g,onChange:e=>S(e)})]}),(0,u.jsx)("div",{className:"AEKdDQgreAisXj9+EAM0-Q==",children:(0,u.jsx)(E9.Z,{onClick:()=>{i({id:v||w,start:g,end:x}),y(null),C("")},disabled:(0,j.xb)(w)&&(0,j.xb)(v)})}),(0,j.xb)(s)&&(0,u.jsx)("div",{className:"_9KOvxFRgzDewypjdg8i1Tg==",children:(0,u.jsx)(J.Z,{id:"SkillsArray.empty",defaultMessage:[{type:0,value:"Пусто"}]})}),!(0,j.xb)(s)&&(0,u.jsxs)("div",{className:"ssyc6L7ptSIpWvwybY62CQ==",children:[(0,u.jsx)("div",{className:"_6dsmHEhknhcooMO8HKJI2w==",children:o}),(0,u.jsx)(J.Z,{id:"EditingSkills.period",defaultMessage:[{type:0,value:"Период привязки"}]})]}),(0,u.jsx)("ul",{className:"tCaV1PVc7fRaIChGVGqWSw==",children:s.map((e=>{var t,r=Number.isInteger(e.id)?e.id:null===(t=n[e.id])||void 0===t?void 0:t[h];return(0,u.jsxs)("li",{className:"-UlDKAgCy9oIbtTHLcPMmQ==",children:[(0,u.jsx)(Ae.Z,{className:"oMtYfhuHVVkJ5EsdgvfkwQ==",onClick:()=>l(),children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)("div",{className:"_3XPDwSimrBiTqrErOGWpow==",children:(0,u.jsx)("span",{className:"hIRbbxP900poOjQR9fr0Sg==",title:r,children:r})}),(0,u.jsxs)("div",{className:"DFYQVe16v6JI1CCtU5hteg==",children:[(0,u.jsx)(Koe.Z,{date:e.start,onChange:t=>d(e.id,t)}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(Koe.Z,{date:e.end,minDate:e.start,onChange:t=>c(e.id,t)})]})]},e.id)}))})]})};wwe.defaultProps={isGroups:!1,dataSourceConfig:{},headerLabel:null,isNormHours:!1},wwe.propTypes={dataSource:c().array.isRequired,dataSourceConfig:c().object,onAdd:c().func.isRequired,data:c().array.isRequired,dataMap:c().object.isRequired,headerLabel:c().string,tableText:c().object.isRequired,onRemove:c().func.isRequired,onEditStart:c().func.isRequired,onEditEnd:c().func.isRequired,isGroups:c().bool,isNormHours:c().bool,fieldName:c().string.isRequired};const Cwe=wwe,kwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(B.Zi),n=(0,s.v9)(B.GJ),a=(0,s.v9)(bPe),o=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t})),l=(0,u.jsx)(J.Z,{id:"GroupHistory.AddingPeriodAndOrganizationStructurePoint",defaultMessage:[{type:0,value:"Добавление периода и точки привязки"}]}),c=(0,u.jsx)(J.Z,{id:"DisplaySettings.groupName",defaultMessage:[{type:0,value:"Точка оргструктуры"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cwe,{dataSource:i,onAdd:t=>{var{id:r,start:i,end:s}=t;return e((0,cPe.addGroup)({id:r,start:i,end:s}))},data:a,dataMap:n,headerLabel:l,tableText:c,fieldName:"groupName",onRemove:()=>e((0,cPe.removeGroup)()),onEditStart:(t,r)=>e((0,cPe.editStartDateGroup)({id:t,start:r})),onEditEnd:(t,r)=>e((0,cPe.editEndDateGroup)({id:t,end:r})),isGroups:!0}),(0,u.jsx)(lwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:o,groups:(0,IPe.B4)(a,"groupId")},(()=>e((0,cPe.removeGroup)())))),onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:o,groups:(0,IPe.B4)(a,"groupId")},(()=>e((0,cPe.removeGroup)()))))},disabled:(0,j.xb)(a),hideDeleteMultipleButton:!0})]})},Twe=()=>{var e=(0,s.I0)(),t=(0,Qv.DJ)(),r=(0,s.v9)(jPe),i=(0,s.v9)(fPe),n=(0,s.v9)(mPe),a=i.filter((e=>!n.includes(e.id))).map((e=>{var{id:t}=e;return t})),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingZone",defaultMessage:[{type:0,value:"Добавление часового пояса"}]}),l=(0,u.jsx)(J.Z,{id:"EmployeeForm.timeZone",defaultMessage:[{type:0,value:"Часовой пояс"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cwe,{onRemove:()=>e((0,cPe.removeTimeZone)()),onEditStart:(t,r)=>e((0,cPe.editStartDateTimeZone)({id:t,start:r})),onAdd:t=>{var{id:r,start:i,end:s}=t;return e((0,cPe.addTimeZone)({id:r,start:i,end:s}))},tableText:l,dataSource:t,dataSourceConfig:{text:"text",value:"name"},data:r,dataMap:(0,X.xn)(t,"name"),fieldName:"text",headerLabel:o,onEditEnd:(t,r)=>e((0,cPe.editEndDateTimeZone)({id:t,end:r}))}),(0,u.jsx)(lwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:a,userZones:(0,IPe.B4)(r,"zone")},(()=>e((0,cPe.removeTimeZone)())))),onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:a,userZones:(0,IPe.B4)(r,"zone")},(()=>e((0,cPe.removeTimeZone)()))))},disabled:(0,j.xb)(r),hideDeleteMultipleButton:!0})]})},Nwe=()=>{var e=(0,s.I0)();(0,m.useEffect)((()=>e((0,AF.fetchPositions)())),[]);var t=(0,s.v9)(B.k8),r=(0,s.v9)(fPe),i=(0,s.v9)(mPe),n=(0,s.v9)(xPe),a=r.filter((e=>!i.includes(e.id))).map((e=>{var{id:t}=e;return t})),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingPosition",defaultMessage:[{type:0,value:"Добавление должности"}]}),l=(0,u.jsx)(J.Z,{id:"Employee.position",defaultMessage:[{type:0,value:"Должность"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cwe,{dataSource:t,dataSourceConfig:{text:"name",value:"id"},data:n,dataMap:(0,X.xn)(t,"id"),fieldName:"name",headerLabel:o,tableText:l,onAdd:t=>{var{id:r,start:i,end:s}=t;return e((0,cPe.addPosition)({id:r,start:i,end:s}))},onRemove:()=>e((0,cPe.removePosition)()),onEditStart:(t,r)=>e((0,cPe.editStartDatePosition)({id:t,start:r})),onEditEnd:(t,r)=>e((0,cPe.editEndDatePosition)({id:t,end:r}))}),(0,u.jsx)(lwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:a,positions:(0,IPe.B4)(n,"positionId")},(()=>e((0,cPe.removePosition)())))),onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:a,positions:(0,IPe.B4)(n,"positionId")},(()=>e((0,cPe.removePosition)()))))},disabled:(0,j.xb)(n),hideDeleteMultipleButton:!0})]})},Rwe=()=>{var e=(0,s.I0)();(0,m.useEffect)((()=>e((0,yae.fetchProductionCalendarList)())),[]);var t=(0,s.v9)(tae.He),r=(0,s.v9)(fPe),i=(0,s.v9)(mPe),n=(0,s.v9)(SPe),a=r.filter((e=>!i.includes(e.id))).map((e=>{var{id:t}=e;return t})),o=(0,u.jsx)(J.Z,{id:"Employee.normHours",defaultMessage:[{type:0,value:"Норма часов"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cwe,{onRemove:()=>e((0,cPe.removeCalendar)()),onEditStart:(t,r)=>e((0,cPe.editStartDateCalendar)({id:t,start:r})),onAdd:t=>{var{id:r,start:i,end:s}=t;return e((0,cPe.addCalendar)({id:r,start:i,end:s}))},data:n,dataSource:t,dataSourceConfig:{value:"id",text:"name"},onEditEnd:(t,r)=>e((0,cPe.editEndDateCalendar)({id:t,end:r})),dataMap:(0,X.xn)(t,"id"),fieldName:"name",tableText:o,isNormHours:!0}),(0,u.jsx)(lwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:a,calendars:(0,IPe.Nj)(n)},(()=>e((0,cPe.removeCalendar)())))),onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:a,calendars:(0,IPe.Nj)(n)},(()=>e((0,cPe.removeCalendar)()))))},disabled:(0,j.xb)(n),hideDeleteMultipleButton:!0})]})},Ewe="jdSiWci2kva4u7ipW2JVhQ==";var Dwe=e=>{var{isFiring:t,isHiring:r}=e,i=(0,s.I0)(),[n,a]=(0,m.useState)(!1),o=(0,s.v9)(PPe),l=(0,s.v9)(wPe),c=()=>{a(!n)},d=(0,u.jsx)(J.Z,{id:"EmployeeForm.fireOperator",defaultMessage:[{type:0,value:"Уволить сотрудника"}]});return(0,u.jsxs)("div",{className:"DJuNZbcnMUi8LT63sxoSjQ==",children:[t&&(0,u.jsxs)("div",{className:Ewe,children:[(0,u.jsx)(Ae.Z,{hidden:n,onClick:c,children:d}),n&&(0,u.jsxs)("div",{children:[(0,u.jsx)(Koe.Z,{date:o,onChange:e=>{i((0,cPe.editFiringDate)(e))}}),(0,u.jsx)(Ml.Z,{glyph:et.Tw,onClick:c})]})]}),r&&(0,u.jsx)("div",{className:Ewe,children:(0,u.jsx)(Koe.Z,{date:l,onChange:e=>i((0,cPe.editHiringDate)(e))})})]})};Dwe.defaultProps={isFiring:!1,isHiring:!1},Dwe.propTypes={isFiring:c().bool,isHiring:c().bool};const Awe=Dwe,Mwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(PPe),r=(0,s.v9)(mPe),i=(0,s.v9)(fPe).filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Awe,{isFiring:!0}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:i,firingDate:t}))},hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})},Iwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(wPe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Awe,{isHiring:!0}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:n,hiringDate:(0,QG.BO)((0,QG.X1)(i))}))},hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})},Zwe=()=>{var e=(0,s.I0)();(0,m.useEffect)((()=>e((0,Wv.fetchOffices)())),[]);var t=(0,s.v9)(B.TB),r=(0,s.v9)(fPe),i=(0,s.v9)(mPe),n=(0,s.v9)(CPe),a=r.filter((e=>!i.includes(e.id))).map((e=>{var{id:t}=e;return t})),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingOffice",defaultMessage:[{type:0,value:"Добавление офиса"}]}),l=(0,u.jsx)(J.Z,{id:"EmployeeForm.office",defaultMessage:[{type:0,value:"Офис"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cwe,{onRemove:()=>e((0,cPe.removeOffice)()),onEditStart:(t,r)=>e((0,cPe.editStartDateOffice)({id:t,start:r})),onAdd:t=>{var{id:r,start:i,end:s}=t;return e((0,cPe.addOffice)({id:r,start:i,end:s}))},data:n,onEditEnd:(t,r)=>e((0,cPe.editEndDateOffice)({id:t,end:r})),dataSource:t,dataSourceConfig:{text:"name",value:"id"},dataMap:(0,X.xn)(t,"id"),fieldName:"name",tableText:l,headerLabel:o}),(0,u.jsx)(lwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:a,offices:(0,IPe.B4)(n,"officeId")},(()=>e((0,cPe.removeOffice)())))),onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:a,offices:(0,IPe.B4)(n,"officeId")},(()=>e((0,cPe.removeOffice)()))))},disabled:(0,j.xb)(n),hideDeleteMultipleButton:!0})]})},qwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(Y.Wx);(0,m.useEffect)((()=>e((0,YA.fetchScheduleSchema)({id:t}))),[]);var r=(0,s.v9)(NM.Hn),i=(0,s.v9)(kPe),n=(0,IPe.wz)(i,r),a=(0,u.jsx)(J.Z,{id:"EmployeeForm.addingScheme",defaultMessage:[{type:0,value:"Добавление схемы работы"}]}),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.schemeOfWork",defaultMessage:[{type:0,value:"Схема работы"}]});return(0,u.jsx)(UPe,{onRemove:()=>e((0,cPe.removeCheckedSchemes)()),onAdd:t=>{var{selectedIds:r,start:i,end:s,checked:n}=t;return e((0,cPe.addSchemes)({selectedIds:r,start:i,end:s,checked:n}))},onChecked:t=>e((0,cPe.checkAllSchemes)({checked:t})),list:n,dataSource:r,textAttribute:o,headerLabel:a,config:{text:"name",value:"id"},isSchemes:!0})},Fwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(kPe),r=(0,s.v9)(NM.Hn),i=(0,IPe.wz)(t,r);return(0,u.jsx)(QPe,{list:i,listByGroup:(0,X.xn)(r),onChecked:(t,r)=>e((0,cPe.checkScheme)({id:t,check:r})),onDelete:t=>e((0,cPe.removeScheme)({id:t})),onEditStart:(t,r)=>e((0,cPe.editStartDateScheme)({id:t,startScheme:r})),onEditEnd:(t,r)=>e((0,cPe.editEndDateScheme)({id:t,endScheme:r}))})};var Lwe=e=>{var{onAdd:t,onReplace:r,onDelete:i,disabled:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"weXzrezYpSCmE4mw8O8Xtg==",children:[(0,u.jsx)(qwe,{}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(Fwe,{})})]}),(0,u.jsx)(lwe,{onAdd:t,onReplace:r,onDelete:i,disabled:s})]})};Lwe.defaultProps={disabled:!1},Lwe.propTypes={onAdd:c().func.isRequired,onReplace:c().func.isRequired,onDelete:c().func.isRequired,disabled:c().bool};const Hwe=Lwe,_we=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(kPe),n=(0,s.v9)(NM.Hn),a=(0,IPe.wz)(i,n),o=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsx)(Hwe,{onAdd:()=>e((0,cPe.addMultipleEmployee)({ids:o,schemes:(0,IPe.B4)(a,"scheduleSchemeId")},(()=>e((0,cPe.resetSchemes)())))),onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:o,schemes:(0,IPe.B4)(a,"scheduleSchemeId")},(()=>e((0,cPe.resetSchemes)())))),onDelete:()=>e((0,cPe.deleteMultipleEmployee)({ids:o,schemes:(0,IPe.B4)(a,"scheduleSchemeId")},(()=>e((0,cPe.resetSchemes)())))),disabled:(0,j.xb)(a)})};var Bwe=e=>{var{checked:t,onChange:r,label:i,isOverWork:s,onChangeComment:n,comment:a}=e;return(0,u.jsxs)("div",{className:"kYZeZlTmyg0gEDdiVFAMAQ==",children:[(0,u.jsx)("div",{className:"fZ9+8PyB01GxXd3EJXcTAg==",children:(0,u.jsx)(Rs.XZ,{checked:t,label:i,onChange:r})}),s&&(0,u.jsxs)("div",{className:"TnmGa-V6NhUmxuA4Eg0D7A==",children:[(0,u.jsx)(J.Z,{id:"EmployeeForm.comment",defaultMessage:[{type:0,value:"Комментарий:"}]}),(0,u.jsx)("input",{onChange:n,type:"text",value:a,disabled:!t})]})]})};Bwe.defaultProps={comment:"",onChangeComment:O.wA,isOverWork:!1},Bwe.propTypes={checked:c().bool.isRequired,onChange:c().func.isRequired,label:c().string.isRequired,isOverWork:c().bool,comment:c().string,onChangeComment:c().func};const Gwe=Bwe,Wwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(TPe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t})),a=(0,u.jsx)(J.Z,{id:"EmployeeForm.blocked",defaultMessage:[{type:0,value:"Заблокирован"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Gwe,{label:a,onChange:t=>e((0,cPe.editBlocked)(t)),checked:i}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:n,blocked:i},(()=>e((0,cPe.editBlocked)(!1)))))},hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})},Uwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(NPe),n=(0,s.v9)(RPe),a=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t})),o=(0,u.jsx)(J.Z,{id:"EmployeeForm.overWork",defaultMessage:[{type:0,value:"Не допускать переработок"}]});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Gwe,{label:o,onChange:t=>e((0,cPe.editOverWork)(t)),checked:i,isOverWork:!0,onChangeComment:t=>e((0,cPe.editOverWorkComment)(t.target.value)),comment:n}),(0,u.jsx)(lwe,{onReplace:()=>{var t=i?n:"";return e((0,cPe.replaceMultipleEmployee)({ids:a,overWork:i,overWorkComment:t},(()=>{e((0,cPe.editOverWork)(!1)),e((0,cPe.editOverWorkComment)(""))})))},hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})};var Vwe=r(98931);const zwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(EPe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"WHSPqapkPmmeaH3cBlA8Dg==",children:(0,u.jsx)(Vwe.Z,{value:i,onChange:t=>e((0,cPe.editNotificationChannels)(t))})}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:n,notificationChannels:i},(()=>e((0,cPe.editNotificationChannels)("PUSH")))))},hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})};var Ywe=e=>{var{onChange:t,classNames:r,inputClassNames:i,value:s}=e;return(0,u.jsx)("div",{className:me()(r,"qWrxepg44uk8ekQdgtgGeg=="),children:(0,u.jsx)("input",{type:"text",onChange:e=>t(e.target.value),value:s,className:me()(i,"tA2hc7f4WaJObt4viK-1uA==")})})};Ywe.defaultProps={classNames:"",inputClassNames:""},Ywe.propTypes={onChange:c().func.isRequired,classNames:c().string,inputClassNames:c().string,value:c().string.isRequired};const Qwe=Ywe,Kwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(DPe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)("div",{children:[(0,u.jsx)(Qwe,{onChange:t=>{e((0,cPe.setMultiEditAddress)(t))},value:i}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,cPe.replaceMultipleEmployee)({ids:n,address:i},(()=>e((0,cPe.resetMultiEditAddress)()))))},disabled:(0,j.xb)(i),hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})};var Xwe=r(68574);const Jwe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(APe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"fqWYCywJIA-aLAjWZbaV8g==",children:(0,u.jsx)(Xwe.Z,{hintText:"+X(XXX)XXX-XX-XX",onChange:t=>{var{target:r}=t;return e((0,cPe.setMultiEditPhoneNumber)(r.value))},value:i,className:"VZdwFzcLSeESw6snxiTQrA=="})}),(0,u.jsx)(lwe,{onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:n,phoneNumber:i},(()=>e((0,cPe.resetMultiEditPhoneNumber)())))),disabled:(0,j.xb)(i),hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})};var $we=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,j.xb)(e)?t:!(!0===He.Sz.test(e))};const eCe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(MPe),n=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"vQNv6r1--bOkrX84qPwaCg==",children:(0,u.jsx)("input",{value:i,onChange:t=>{var{target:r}=t;return e((0,cPe.setMultiEditEmail)(r.value))},type:"text",placeholder:"example@domain.com"})}),(0,u.jsx)(lwe,{onReplace:()=>e((0,cPe.replaceMultipleEmployee)({ids:n,email:i},(()=>e((0,cPe.resetMultiEditEmail)())))),disabled:$we(i,!0),hideAddMultipleButton:!0,hideDeleteMultipleButton:!0})]})};var tCe=r(45913),rCe=r(92469);var iCe=r(11468);const sCe=()=>{var e=(0,s.I0)(),t=(0,er.Z)(),r=ns()().year(),[i,n]=(0,m.useState)(""),[a,o]=(0,m.useState)(""),[l,c]=(0,m.useState)("".concat(r)),d={total:i,comment:a,year:l,checked:!1,rowId:(0,X.Vj)()};return(0,u.jsxs)("div",{className:"KHZDIrag6pgOppIvn6wZzA==",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{display:"flex",marginBottom:10},children:["".concat(t.formatMessage(iCe.Y),":"),(0,u.jsx)(ql.Z,{classNameInput:"_6ZYwasU0BmOUeLteJddl1w==",value:i,onChange:n}),(0,u.jsx)(rCe.Z,{onChange:e=>{c(e)},autoCompleteClassName:"DmM9+8m3okW4I5LvXblczA==",value:l})]}),(0,u.jsxs)("div",{className:"nau2YQEsQKTl6J25O0MoFQ==",children:[(0,u.jsx)(J.Z,{id:"EmployeeForm.comment",defaultMessage:[{type:0,value:"Комментарий"}]}),(0,u.jsx)("input",{type:"text",className:"EMImLZfUQ+U3pK2xADwM9Q==",value:a,onChange:e=>{o(e.target.value)}})]})]}),(0,u.jsx)("div",{className:"Riwdiiy6pvmFtLY++KhrGQ==",children:(0,u.jsx)(E9.Z,{onClick:()=>{e((0,tCe.receiveVacationDataMultiEdit)(d)),n(""),o("")},disabled:(0,j.xb)(i)})})]})};var nCe=e=>{var{item:t,hidden:r,onDelete:i}=e,n=(0,s.I0)();return r||(0,j.xb)(t)?null:(0,u.jsxs)("div",{className:"RHzl9QZ36y5VOCXsU62QuA==",children:[(0,u.jsx)(Ml.Z,{classContainer:"t9tpkuq6S8av4-sLyBNFpQ==",glyph:et.XH,onClick:i}),(0,u.jsx)("div",{className:"-m+g+vFai4cSpDSxq-hfrA==",children:t.year}),(0,u.jsx)("div",{className:"_3MqNMguzyGiJQGGuAbclIA==",children:(0,u.jsx)(ql.Z,{onChange:e=>{n((0,tCe.editTotal)(e))},value:t.total})})]})};nCe.defaultProps={onDelete:O.wA,hidden:!1},nCe.propTypes={onDelete:c().func,item:c().object.isRequired,hidden:c().bool};const aCe=nCe;var oCe=e=>{var{vacationData:t}=e,r=(0,s.I0)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"bxpbt4QrRuqtFoMzEVYvVA==",children:[(0,u.jsx)("span",{className:"M2HCdPwehFUCkyh3LDVvSA==",children:(0,u.jsx)(J.Z,{id:"Common.Year",defaultMessage:[{type:0,value:"Год"}]})}),(0,u.jsx)("span",{children:(0,u.jsx)(J.Z,{id:"Employee.vacationDays",defaultMessage:[{type:0,value:"Дней отпуска"}]})})]}),(0,u.jsx)("div",{children:(0,u.jsx)(aCe,{item:t,onDelete:()=>{return e=t.rowId,void r((0,tCe.removeVacationDataMultiEdit)(e));var e}})})]})};oCe.defaultProps={vacationData:{vacations:{},checkedAll:!1}},oCe.propTypes={vacationData:c().shape({rowId:c().string})};const lCe=oCe;var cCe=["rowId","checked"];const dCe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(hPe),r=(0,s.v9)(fPe),i=(0,s.v9)(mPe),n=r.filter((e=>!i.includes(e.id))).map((e=>{var{id:t}=e;return t})),{rowId:a,checked:o}=t,l=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(t,cCe);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"ecU7BZuxoNZgwLn-YgDgzw==",children:[(0,u.jsx)(sCe,{}),(0,u.jsx)(lCe,{vacationData:t})]}),(0,u.jsx)(lwe,{onReplace:()=>{e((0,tCe.replaceAll)({vacation:l,ids:n},(()=>{e((0,tCe.removeVacationDataMultiEdit)())})))},onAdd:()=>{e((0,tCe.addAll)({vacation:l,ids:n},(()=>{e((0,tCe.removeVacationDataMultiEdit)())})))},disabled:(0,j.xb)(t),hideDeleteMultipleButton:!0})]})};var uCe=r(16372);var pCe=e=>{var{list:t,allSchedulesMap:r}=e,i=(0,s.I0)();return(0,u.jsx)("div",{children:t.scheduleList.map((e=>{var t,s;return(0,u.jsxs)("li",{className:"YIGDv5quRynV1pxoDWy1GQ==",children:[(0,u.jsx)(Rs.XZ,{checked:e.checked,onChange:()=>i((0,uCe.receiveChecked)({id:e.id}))}),(0,u.jsx)(Ae.Z,{className:"a2z20aVFtceBhRi-DZdPZg==",onClick:()=>{i((0,uCe.removePreference)({id:e.id}))},children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)("div",{className:"bteJwjwXAfNIEvnqSggEXA==",children:(0,u.jsx)("span",{className:"HgIHP5p6MYHfHYTZHxyp5w==",title:null===(t=r[e.id])||void 0===t?void 0:t.name,children:null===(s=r[e.id])||void 0===s?void 0:s.name})})]},e.id)}))})};pCe.defaultProps={list:{},allSchedulesMap:{}},pCe.propTypes={list:c().shape({checkedAll:c().bool,scheduleList:c().arrayOf({checked:c().bool,id:c().string})}),allSchedulesMap:c().objectOf(c().shape({externalGroupId:c().string,groupId:c().string,groupName:c().string,id:c().string,isGroup:c().bool,name:c().string,variants:c().arrayOf(c().shape({activities:c().arrayOf(c().shape({end:c().string,fixed:c().bool,length:c().number,mainActivity:c().string,scheduleVariant:c().string,secondaryActivity:c().string,start:c().string,step:c().number})),containerId:c().string,end:c().string,id:c().string,overNight:c().bool,start:c().string}))}))};const hCe=pCe;var fCe=e=>{var{schedules:t,selectedIds:r,setSelectedIds:i,onAdd:n,disables:a,list:o}=e,l=(0,s.I0)(),c=o.scheduleList.some((e=>e.checked));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"_0bTCD6AMBC6hlrqmKRvceQ==",children:[(0,u.jsx)("div",{className:"_9GJMLwCpr6iWX1LU25yOaw=="}),(0,u.jsxs)("div",{className:"BEgQnEam9+UC-dmo0ZPvOw==",children:[(0,u.jsx)(Gl.Z,{disables:a,checkboxLabelClassName:"k-TFy-buq15Te-CRqkri4g==",values:r,onChange:e=>i(e),dropDownHeight:300,dataSource:t,dataSourceConfig:{text:"name",value:"id"},classContainer:"C6Jy+giGjoLOQd12c+5UMA=="}),(0,u.jsx)(Ae.Z,{onClick:n,className:"_0Xv+u2ZCKcHeAqDFw1aMKQ==",disabled:(0,j.xb)(r),children:(0,u.jsxs)("span",{className:"_1DYIOP0h-qlZnv8LOvIYNw==",children:[(0,u.jsx)(et.ZP,{glyph:et.dt}),(0,u.jsx)(J.Z,{id:"Employee.addInList",defaultMessage:[{type:0,value:"Добавить в список"}]})]})})]})]}),(0,j.xb)(o.scheduleList)&&(0,u.jsx)("div",{className:"vneQ-1rQQv6QUgDGSPXuwg==",children:(0,u.jsx)(J.Z,{id:"SkillsArray.empty",defaultMessage:[{type:0,value:"Пусто"}]})}),!(0,j.xb)(o.scheduleList)&&(0,u.jsxs)("div",{className:"TIrwLgRGdsRJc9Tc9uDH6A==",children:[(0,u.jsx)(Rs.XZ,{checked:o.checkedAll,onChange:e=>{l((0,uCe.checkAllItems)(e))}}),(0,u.jsx)(Ae.Z,{className:"dTm28fP+Yl6WVu8vwPd+5A==",onClick:()=>l((0,uCe.removePreferences)()),disabled:!c,children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(J.Z,{id:"Employee.jobShift",defaultMessage:[{type:0,value:"Смена работы"}]})]})]})};fCe.defaultProps={schedules:[],selectedIds:[],disables:[],setSelectedIds:O.wA,list:{},onAdd:O.wA},fCe.propTypes={schedules:c().arrayOf(c().shape({externalGroupId:c().string,groupId:c().string,groupName:c().string,id:c().string,isGroup:c().bool,name:c().string,variants:c().arrayOf(c().shape({activities:c().arrayOf(c().shape({end:c().string,fixed:c().bool,length:c().number,mainActivity:c().string,scheduleVariant:c().string,secondaryActivity:c().string,start:c().string,step:c().number})),containerId:c().string,end:c().string,id:c().string,overNight:c().bool,start:c().string}))})),selectedIds:c().arrayOf(c().string),disables:c().arrayOf(c().string),list:c().shape({checkedAll:c().bool,scheduleList:c().arrayOf({checked:c().bool,id:c().string})}),setSelectedIds:c().func,onAdd:c().func};const mCe=fCe;var vCe=e=>{var{schedules:t,allSchedulesMap:r,list:i,onDelete:n,onReplace:a,onAdd:o}=e,l=(0,s.I0)();(0,m.useEffect)((()=>{i.scheduleList.some((e=>!e.checked))&&l((0,uCe.setCheckAllCheckbox)(!1))}),[i.scheduleList]);var[c,d]=(0,m.useState)([]),p=i.scheduleList.map((e=>e.id));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"_9KgOEM8Qy7xDAYpT0Q2pIQ==",children:[(0,u.jsx)(mCe,{list:i,disables:p,schedules:t,selectedIds:c,setSelectedIds:d,onAdd:()=>{l((0,uCe.addPreference)({selectedIds:c,checked:!1})),d([])}}),(0,u.jsx)(Be.ZP,{children:(0,u.jsx)(hCe,{list:i,allSchedulesMap:r})}),(0,u.jsx)(lwe,{onAdd:o,onReplace:a,onDelete:n,disabled:(0,j.xb)(i.scheduleList)})]})})};vCe.defaultProps={schedules:[],list:{},allSchedulesMap:{},onDelete:O.wA,onReplace:O.wA,onAdd:O.wA},vCe.propTypes={schedules:c().arrayOf(c().shape({externalGroupId:c().string,groupId:c().string,groupName:c().string,id:c().string,isGroup:c().bool,name:c().string,variants:c().arrayOf(c().shape({activities:c().arrayOf(c().shape({end:c().string,fixed:c().bool,length:c().number,mainActivity:c().string,scheduleVariant:c().string,secondaryActivity:c().string,start:c().string,step:c().number})),containerId:c().string,end:c().string,id:c().string,overNight:c().bool,start:c().string}))})),list:c().shape({checkedAll:c().bool,scheduleList:c().arrayOf({checked:c().bool,id:c().string})}),allSchedulesMap:c().objectOf(c().shape({externalGroupId:c().string,groupId:c().string,groupName:c().string,id:c().string,isGroup:c().bool,name:c().string,variants:c().arrayOf(c().shape({activities:c().arrayOf(c().shape({end:c().string,fixed:c().bool,length:c().number,mainActivity:c().string,scheduleVariant:c().string,secondaryActivity:c().string,start:c().string,step:c().number})),containerId:c().string,end:c().string,id:c().string,overNight:c().bool,start:c().string}))})),onDelete:c().func,onReplace:c().func,onAdd:c().func};const yCe=vCe;function gCe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bCe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gCe(Object(r),!0).forEach((function(t){jCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gCe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jCe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xCe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(fPe),r=(0,s.v9)(mPe),i=(0,s.v9)(ij.Qs),n=(0,s.v9)(Y.Wx),a=(0,s.v9)(ij.bJ),o=(0,s.v9)(ij.yR),l=(0,s.v9)(pPe),c=(0,s.v9)((e=>(0,B.vH)(e,"isSchemeListShowedByGroup"))),d=t.filter((e=>!r.includes(e.id))).map((e=>{var{id:t}=e;return t})),p=c?o:a,h=(0,m.useMemo)((()=>(0,IPe.wz)(l.scheduleList,i)),[l.scheduleList,i]),f=bCe(bCe({},l),{},{scheduleList:h}),v=h.map((e=>e.id));return(0,m.useEffect)((()=>{e(c?(0,ua.fetchSchedules)({groupId:n}):(0,ua.fetchSchedules)())}),[]),(0,u.jsx)(yCe,{schedules:i,list:f,allSchedulesMap:p,onAdd:()=>{e((0,uCe.addMultiplePreference)({ids:d,preferenceContainers:v},(()=>{e((0,uCe.resetPreference)())})))},onReplace:()=>{e((0,uCe.replaceMultiplePreference)({ids:d,preferenceContainers:v},(()=>{e((0,uCe.resetPreference)())})))},onDelete:()=>{e((0,uCe.removeMultiplePreference)({ids:d,preferenceContainers:v},(()=>{e((0,uCe.resetPreference)())})))}})};function SCe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function OCe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SCe(Object(r),!0).forEach((function(t){PCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SCe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PCe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wCe extends m.Component{constructor(e){super(e),PCe(this,"getRowHeight",(e=>{var{index:t}=e;return 0===t?32:50})),PCe(this,"addFormTitle",(0,u.jsx)(_Oe,{})),PCe(this,"handleFiltersChange",((e,t)=>{var{setInitMapIds:r}=this.props;r((0,YH.zC)(t))})),PCe(this,"openDisplaySettings",(()=>{this.setState((e=>({displaySettingsOpened:!e.displaySettingsOpened})))})),PCe(this,"openAddForm",(()=>{this.setState((e=>({addFormOpened:!e.addFormOpened})))})),PCe(this,"handleOpenDisplaySettings",(()=>{var{tableDisplaySettings:e,initializeDisplaySettingsForm:t}=this.props;t(OCe(OCe({},e),{avatar:!0,namePeriod:!0})),this.openDisplaySettings()})),PCe(this,"handleOpenAddForm",(()=>{this.openAddForm()})),PCe(this,"closeAddForm",(()=>{this.setState({addFormOpened:!1})})),PCe(this,"closeDisplaySettingsForm",(()=>{this.setState({displaySettingsOpened:!1})})),PCe(this,"cleanAllFilters",(()=>{var{setFilter:e}=this.props;e({})})),PCe(this,"shouldDisableRow",(e=>(0,ye.oO)(e))),PCe(this,"getScrollInfo",(e=>{var t=e.scrollWidth>e.clientWidth;this.props.setScrollOptions(t)})),PCe(this,"handleOpenEmployeeMultipleEdit",(()=>{this.setState((e=>({openEmployeeMultipleEdit:!e.openEmployeeMultipleEdit}))),this.handleCloseAsideBlockDrawer()})),PCe(this,"handleOpenAsideBlockDrawer",(()=>{this.setState({openAsideBlockDrawer:!0})})),PCe(this,"handleCloseAsideBlockDrawer",(()=>{this.setState({openAsideBlockDrawer:!1}),this.props.history.push("/employee")})),this.state={displaySettingsOpened:!1,addFormOpened:!1,openEmployeeMultipleEdit:!1,openAsideBlockDrawer:!1}}UNSAFE_componentWillReceiveProps(e){var{setInitMapIds:t}=this.props;this.props.employee!==e.employee&&t((0,YH.zC)(e.employee))}componentDidUpdate(e){e.groupId!==this.props.groupId&&this.props.fetchEmployees()}render(){var{employee:e,filters:t,numberOfEmployees:r,openEditForm:i,setFilter:s,onShowFired:n,showFiredEmployeesEnabled:a,createEmployeeTableDisplaySettings:o,tableDisplaySettings:l,openEditFormAfterCreating:c,fetchEmployees:d,importEmployees:p,importEmployeeSkills:h,importEmployeeVacations:f,importEmployeePreference:m,exportEmployeeVacations:v,user:g,hasScroll:b,history:j,intl:x,groupId:S}=this.props,{addFormOpened:O,displaySettingsOpened:P,openEmployeeMultipleEdit:w,openAsideBlockDrawer:C}=this.state,k={tableDisplaySettings:l,showFiredEmployeesEnabled:a,openEditForm:i};return(0,u.jsxs)("div",{className:Iz.default.root,children:[(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("div",{className:Iz.default.headerControlPanelContainer,children:(0,u.jsx)(sPe,{handleOpenDisplaySettings:this.handleOpenDisplaySettings,openEmployeeMultipleEdit:this.handleOpenEmployeeMultipleEdit,onAddClick:i,handleOpenAddForm:this.handleOpenAddForm,fetchEmployees:d,importEmployees:p,importEmployeeSkills:h,importEmployeeVacations:f,importEmployeePreference:m,exportEmployeeVacations:v,groupId:S,user:g})}),(0,u.jsx)("div",{children:(0,u.jsx)(aPe,{intl:x,onShowFired:n,showFiredEmployeesEnabled:a,cleanAllFilters:this.cleanAllFilters,filters:t,numberOfEmployees:r,currentNumberOfEmployees:null==e?void 0:e.length})})]}),(0,u.jsx)("div",{className:Iz.default.tableWrap,children:(0,u.jsx)(VP.ZP,{displaySettings:l,filters:t,data:e,setFilter:s,columns:VOe(k),onScroll:this.getScrollInfo,columnsAutoWidth:!0,classNameBottomRightGrid:"scroll",cellClassName:"enable-transition virtualized-table__cell",leftSideBottomStyle:b?YH.hP:YH.GP,leftSideStyle:YH.eg,headerStyle:YH.iR,rowHeight:this.getRowHeight,enableFixedColumnScroll:!0,onCellClick:i,hideBottomLeftGridScrollbar:!0,onFiltersChange:this.handleFiltersChange,shouldDisableRow:this.shouldDisableRow})}),(0,u.jsx)(yk.Z,{open:O,handleBackArrow:this.closeAddForm,width:605,title:this.addFormTitle,children:(0,u.jsx)(HOe,{closeForm:this.closeAddForm,openEditForm:c})}),(0,u.jsx)(yk.Z,{open:P,width:400,handleBackArrow:this.closeDisplaySettingsForm,title:rY,subtitle:pG,children:(0,u.jsx)(yG,{fields:(0,YH.VN)(x),setTableDisplaySettings:o,close:this.closeDisplaySettingsForm})}),(0,u.jsx)(yk.Z,{open:w,handleBackArrow:this.handleOpenEmployeeMultipleEdit,width:500,title:YH.er,asideContent:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:IPe.zo,children:(0,u.jsx)(uwe,{})}),(0,u.jsx)(y.AW,{path:IPe.e8,children:(0,u.jsx)(vwe,{})}),(0,u.jsx)(y.AW,{path:IPe.$m,children:(0,u.jsx)(xwe,{})}),(0,u.jsx)(y.AW,{path:IPe.Ay,children:(0,u.jsx)(kwe,{})}),(0,u.jsx)(y.AW,{path:IPe.a3,children:(0,u.jsx)(Twe,{})}),(0,u.jsx)(y.AW,{path:IPe.HA,children:(0,u.jsx)(Nwe,{})}),(0,u.jsx)(y.AW,{path:IPe.wQ,children:(0,u.jsx)(Rwe,{})}),(0,u.jsx)(y.AW,{path:IPe.d_,children:(0,u.jsx)(Zwe,{})}),(0,u.jsx)(y.AW,{path:IPe.oR,children:(0,u.jsx)(_we,{})}),(0,u.jsx)(y.AW,{path:IPe._U,children:(0,u.jsx)(Iwe,{})}),(0,u.jsx)(y.AW,{path:IPe.bx,children:(0,u.jsx)(Mwe,{})}),(0,u.jsx)(y.AW,{path:IPe.bG,children:(0,u.jsx)(zwe,{})}),(0,u.jsx)(y.AW,{path:IPe.j6,children:(0,u.jsx)(Wwe,{})}),(0,u.jsx)(y.AW,{path:IPe.AP,children:(0,u.jsx)(Uwe,{})}),(0,u.jsx)(y.AW,{path:IPe.Hg,children:(0,u.jsx)(Kwe,{})}),(0,u.jsx)(y.AW,{path:IPe.Vi,children:(0,u.jsx)(Jwe,{})}),(0,u.jsx)(y.AW,{path:IPe.u4,children:(0,u.jsx)(eCe,{})}),(0,u.jsx)(y.AW,{path:IPe.D6,children:(0,u.jsx)(dCe,{})}),(0,u.jsx)(y.AW,{path:IPe.MI,children:(0,u.jsx)(xCe,{})})]})}),asideOpen:C,asideTitle:(0,YH.T6)(j),children:(0,u.jsx)(_Pe,{employee:e,onClose:this.handleOpenEmployeeMultipleEdit,onOpenAsideContent:this.handleOpenAsideBlockDrawer})})]})}}wCe.defaultProps={hasScroll:!1,showFiredEmployeesEnabled:!1,filters:{},tableDisplaySettings:{},numberOfEmployees:0},wCe.propTypes=_()({setInitMapIds:c().func.isRequired,openEditFormAfterCreating:c().func.isRequired,importEmployeeSkills:c().func.isRequired,employee:c().oneOfType([c().object,c().array]).isRequired,filters:c().object,numberOfEmployees:c().number,initializeDisplaySettingsForm:c().func.isRequired,openEditForm:c().func.isRequired,user:ge.Z.isRequired,setScrollOptions:c().func.isRequired,hasScroll:c().bool,setFilter:c().func.isRequired,onShowFired:c().func.isRequired,showFiredEmployeesEnabled:c().bool,createEmployeeTableDisplaySettings:c().func.isRequired,tableDisplaySettings:c().object,fetchEmployees:c().func.isRequired,importEmployees:c().func.isRequired,importEmployeeVacations:c().func.isRequired,importEmployeePreference:c().func.isRequired,exportEmployeeVacations:c().func.isRequired,history:c().object.isRequired,groupId:c().string.isRequired,intl:P.gm.isRequired});const CCe=(0,v.ZP)(wCe);function kCe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class TCe extends m.Component{constructor(){super(...arguments),kCe(this,"state",{currentEmployee:null}),kCe(this,"openEditForm",((e,t)=>{this.props.isUserContextMenuOpen||this.setState({currentEmployee:t.id})})),kCe(this,"closeForm",(()=>{this.setState({currentEmployee:null})})),kCe(this,"openEditFormAfterCreating",(e=>{this.props.resetForm(),this.setState({currentEmployee:e})})),kCe(this,"handleSuccessImport",(()=>{var{fetchEmployees:e,groupId:t}=this.props;e({id:t})}))}render(){var{employeeList:e,numberOfEmployees:t,showFiredEmployeesEnabled:r,tableDisplaySettings:i,createEmployeeTableDisplaySettings:s,initializeDisplaySettingsForm:n,changeShowFired:a,user:o,setInitMapIds:l,setFilter:c,filters:d,importEmployees:p,importEmployeeSkills:h,importEmployeeVacations:f,importEmployeePreference:m,exportEmployeeVacations:v,setScrollOptions:y,hasScroll:g,history:b,isShowLicenseModal:S,groupId:O,fetchEmployees:P}=this.props;return(0,X.BC)(o,x.ZP.RIGHTS.OPERATORS)||(0,j.xb)(o)?(0,u.jsxs)("div",{className:"FBjXPcZI4o+aOiAci9naig==",children:[S&&(0,u.jsx)(Yv.Z,{}),(0,u.jsx)(CCe,{setFilter:c,hasScroll:g,setScrollOptions:y,onShowFired:a,numberOfEmployees:t,tableDisplaySettings:i,createEmployeeTableDisplaySettings:s,initializeDisplaySettingsForm:n,showFiredEmployeesEnabled:r,employee:e,filters:d,openEditForm:this.openEditForm,openEditFormAfterCreating:this.openEditFormAfterCreating,user:o,setInitMapIds:l,fetchEmployees:this.handleSuccessImport,importEmployees:p,importEmployeeSkills:h,importEmployeeVacations:f,importEmployeePreference:m,exportEmployeeVacations:v,history:b,groupId:O}),(0,u.jsx)(ts.default,{openEditForm:this.openEditForm,employeeId:this.state.currentEmployee,closeForm:this.closeForm,updateEmployeeCb:()=>{P({id:O})}})]}):(0,u.jsx)(Vi,{user:o})}}TCe.defaultProps={hasScroll:!1},TCe.propTypes=_()({fetchEmployees:c().func.isRequired,setFilter:c().func.isRequired,importEmployees:c().func.isRequired,setInitMapIds:c().func.isRequired,resetForm:c().func.isRequired,importEmployeeSkills:c().func.isRequired,importEmployeeVacations:c().func.isRequired,importEmployeePreference:c().func.isRequired,exportEmployeeVacations:c().func.isRequired,hasScroll:c().bool,user:ge.Z.isRequired,filters:c().object.isRequired,employeeList:c().array.isRequired,showFiredEmployeesEnabled:c().bool.isRequired,tableDisplaySettings:c().object.isRequired,createEmployeeTableDisplaySettings:c().func.isRequired,setScrollOptions:c().func.isRequired,initializeDisplaySettingsForm:c().func.isRequired,changeShowFired:c().func.isRequired,numberOfEmployees:c().number.isRequired,groupId:P.K5.isRequired,history:c().object.isRequired,isShowLicenseModal:c().bool.isRequired,isUserContextMenuOpen:c().bool.isRequired});var NCe=e=>e.employee.employee.length;const RCe=(0,o.compose)(y.EN,(0,s.$j)((e=>({employeeList:(0,Lu.Ej)(e),isUserContextMenuOpen:(0,Lu.D1)(e),numberOfEmployees:NCe(e),user:(0,C.ts)(e),filters:(0,Lu.Zj)(e),hasScroll:(0,Lu.Xd)(e),showFiredEmployeesEnabled:(0,Lu.b3)(e),tableDisplaySettings:(0,Lu.sY)(e),groupId:(0,Y.Wx)(e),isShowLicenseModal:(0,Ou.M)(e)})),(e=>({fetchEmployees:t=>e((0,dy.fetchEmployees)(t)),fetchSchedules:()=>e((0,ua.fetchSchedules)()),fetchTableDisplaySettings:()=>e((0,dy.fetchTableDisplaySettings)()),setScrollOptions:t=>e((0,dy.setScrollOptions)(t)),changeShowFired:t=>e((0,dy.changeShowFired)(t)),createEmployeeTableDisplaySettings:t=>e((0,dy.createEmployeeTableDisplaySettings)(t)),initializeDisplaySettingsForm:t=>{e((0,Qr.j2)(vG,t))},fetchOffices:t=>e((0,Wv.fetchOffices)(t)),resetForm:()=>e((0,Qr.ob)("EmployeeForm")),importEmployees:(t,r,i)=>e((0,dy.importEmployees)(t,r,i)),importEmployeeSkills:(t,r,i)=>e((0,dy.importEmployeeSkills)(t,r,i)),importEmployeeVacations:(t,r,i)=>e((0,dy.importEmployeeVacations)(t,r,i)),importEmployeePreference:(t,r,i)=>e((0,dy.importEmployeePreference)(t,r,i)),exportEmployeeVacations:(t,r,i)=>e((0,dy.exportEmployeeVacations)(t,r,i)),setInitMapIds:t=>e((0,dy.setInitMapIds)(t)),setFilter:t=>e((0,dy.setFilter)(t))}))),kO(x.ZP.RIGHTS.OPERATORS),(0,U.Z)((e=>{var{props:t}=e;t.fetchOffices(),t.fetchTableDisplaySettings(),t.fetchEmployees({id:t.groupId}),t.fetchSchedules()})),(0,Ci.c)(["fetchTableDisplaySettings","fetchOffices"]))(TCe);var ECe=r(12336),DCe=r(10890),ACe="#dc2911",MCe=e=>e.forecastsGenerate.selectedQueue,ICe=e=>e.forecastsGenerate.dataStrategic,ZCe=e=>e.forecastsGenerate.dataTactical,qCe=e=>e.forecastsGenerate.dataOperational,FCe=(0,Q.createSelector)(ICe,DCe.U,((e,t)=>{var r,i=e.map(((e,r)=>(0,ECe.tQ)({color:e.color,name:r},e.data.callsForecast,t.formatMessage))),s=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},e.data.callsActual,t.formatMessage)));return{labels:(r=e,(0,j.xb)(r)?[]:r[0].data.callsForecast.map(((e,t)=>t+1))),datasets:[...i,...s]}})),LCe=(0,Q.createSelector)(ICe,DCe.U,((e,t)=>{var r,i=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},(0,X.GH)(e.data.seasonActual),t.formatMessage)));return{labels:(r=e,(0,j.xb)(r)?[]:r[0].data.callsForecast.map(((e,t)=>t+1))),datasets:i}})),HCe=(0,Q.createSelector)((e=>e.forecastsGenerate.dataTrend),(e=>{var t,r=[(0,ECe.tF)({color:"#acacac",trendColor:ACe,name:""},e.callsActual||[])];return{labels:(t=e,(0,j.xb)(t)||(0,j.xb)(t.callsActual)?[]:t.callsActual.map(((e,t)=>t+1))),datasets:r}})),_Ce=e=>{var{data:t,options:r}=e;return(0,j.xb)(t)?null:(0,u.jsx)(Mo.x1,{data:t,options:r,datasetKeyProvider:X.Vj})};_Ce.defaultProps={data:{},options:{maintainAspectRatio:!1,plugins:{datalabels:{display:"auto",align:"top"}}}},_Ce.propTypes={data:c().object,options:c().object};const BCe=_Ce;function GCe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WCe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GCe(Object(r),!0).forEach((function(t){UCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GCe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UCe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const VCe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>LCe(e,{intl:t})));return(0,u.jsx)(BCe,WCe(WCe({},e),{},{data:r,options:{maintainAspectRatio:!1,animation:!1,plugins:{datalabels:{display:!1}}}}))},zCe="_2zA79Z4Upotbv7E+5ZXD6w==";var YCe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodTitle",defaultMessage:[{type:0,value:"Добавление периода"}]}),QCe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodApply",defaultMessage:[{type:0,value:"Применить"}]}),KCe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodFrom",defaultMessage:[{type:0,value:"С"}]}),XCe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodTo",defaultMessage:[{type:0,value:"По"}]}),JCe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodWeek",defaultMessage:[{type:0,value:"неделя"}]}),$Ce=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.PeriodYear",defaultMessage:[{type:0,value:"год"}]}),eke={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11},tke={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:12},rke={boxShadow:"rgba(0, 0, 0, 0.23) 5px 5px 10px",zIndex:11,background:"white"},ike=e=>{var{date:t,str:r,isTo:i=!1}=e,{week:s,year:n}=(0,ft.cl)(t),a=i?s-1:s;return(0,u.jsx)("span",{children:"".concat((0,X.Iq)(a)," ").concat(r," ").concat(n)})},ske=e=>(Number(e)+1).toString();class nke extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleRowHeight",(e=>{var{index:t}=e;return 0===t?30:150}))}render(){var{columns:e,data:t}=this.props;return(0,u.jsx)("div",{className:"hc1im+5mjUqh-VKWOae1ng==",children:(0,u.jsx)(VP.ZP,{data:t,columns:e,rowHeight:this.handleRowHeight,columnsAutoWidth:!0,classNameBottomRightGrid:"scroll",cellClassName:zCe,leftSideBottomStyle:eke,enableHoveredRowShadows:!1,leftSideStyle:tke,headerStyle:rke,enableFixedColumnScroll:!0,hideBottomLeftGridScrollbar:!0})})}}nke.propTypes={columns:c().array.isRequired,data:c().array.isRequired};var ake=r(62220);const oke={container:"mEgQbOSv71SJQjXMP4R7LQ==",first:"Q2W5k+6uEJWHKuWoZPv3Rg==",color:"_3Ulr57XoDCAZzpo08WQjCQ==",close:"qTDTesWSuQWgYAqvBq6+Ew==",icon:"_61OAi0WTYwkmPg1z+duCVw=="};class lke extends m.PureComponent{render(){var{color:e}=this.props,t={backgroundColor:e,width:6,height:6};return(0,u.jsx)("div",{className:"tc color-mg-swap-c",children:(0,u.jsx)("div",{className:"color-mg-swap",style:t})})}}lke.defaultProps={color:"#aaa"},lke.propTypes={color:c().string};const cke=lke;var dke=e=>e.includes("/forecast/analysis-trends/operational"),uke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.week",defaultMessage:[{type:0,value:"неделя"}]}),pke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.firstEndWeek",defaultMessage:[{type:0,value:"я"}]}),hke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.secondEndWeek",defaultMessage:[{type:0,value:"я"}]}),fke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.thirdEndWeek",defaultMessage:[{type:0,value:"я"}]}),mke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.defaultEndWeek",defaultMessage:[{type:0,value:"я"}]}),vke=e=>{switch(e.toString().slice(-1)){case"1":return pke;case"2":return hke;case"3":return fke;default:return mke}},yke=e=>{var{aggregationId:t,deletePeriod:r,from:i,to:s,color:n}=e,a=(0,y.TH)().pathname,o=(0,ft.PC)(i),l=(0,ft.PC)(s),c=(e=>(0,ft.cl)(e).week)(i),d=(e=>(0,ft.cl)(e).year)(i);return(0,u.jsxs)("div",{className:oke.container,children:[(0,u.jsxs)("div",{className:oke.first,children:[(0,u.jsx)("span",{className:oke.color,children:(0,u.jsx)(cke,{color:n})}),o,(0,u.jsx)("span",{children:"..."}),(0,u.jsx)("span",{hidden:dke(a),children:l}),(0,u.jsx)("span",{className:oke.close,children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,classIcon:oke.icon,onClick:()=>r({aggregationId:t})})})]}),(0,u.jsxs)("div",{className:oke.first,children:[c,vke(c)," ",uke]}),(0,u.jsx)("div",{className:oke.second,children:d})]})};yke.defaultProps={from:"",to:""},yke.propTypes={from:c().string,to:c().string,color:c().string.isRequired,aggregationId:c().string.isRequired,deletePeriod:c().func.isRequired};const gke=yke;var bke=r(52614),jke=r(69984);const xke=(0,o.compose)((0,s.$j)((e=>({countPeriods:(0,jke.getStrategicPeriod)(e).length})),{deletePeriod:bke.deletePeriodTactical,setCountColumnsTableStrategic:bke.setCountColumnsTableStrategic}))(gke),Ske=(0,o.compose)((0,s.$j)(null,{deletePeriod:bke.deletePeriodOperational}))(gke),Oke="mVTIIuFUGWV2pyk1p592rg==",Pke="S2Rj5u4d8O-V8HdnR6UASQ==",wke="w9jzDkeEC3M9H-NZHvExrg==",Cke="oGFtYbpHff0kw4b0ymGrhg==",kke=()=>(0,u.jsxs)("div",{className:Pke,children:[(0,u.jsx)("span",{className:wke,children:KCe}),(0,u.jsx)(_e.Z,{name:"firstWeek",component:_Z.Z,className:Oke,maxLength:2}),JCe,(0,u.jsx)(_e.Z,{name:"firstYear",component:_Z.Z,classNameInput:Cke,className:Oke,maxLength:4}),$Ce]}),Tke=()=>(0,u.jsxs)("div",{className:Pke,children:[(0,u.jsx)("span",{className:wke,children:XCe}),(0,u.jsx)(_e.Z,{name:"secondWeek",component:_Z.Z,classNameInput:Oke,maxLength:2}),JCe,(0,u.jsx)(_e.Z,{name:"secondYear",component:_Z.Z,className:Oke,classNameInput:Cke,maxLength:4}),$Ce]});class Nke extends m.PureComponent{render(){var{classContainer:e,handleClick:t,disabled:r,label:i}=this.props;return(0,u.jsx)("div",{className:e,children:(0,u.jsx)(oi.Z,{onClick:t,disabled:r,children:i})})}}Nke.propTypes={classContainer:c().string.isRequired,handleClick:c().func.isRequired,disabled:c().bool.isRequired,label:c().oneOfType([c().string,c().node]).isRequired};const Rke=Nke;var Eke=e=>{var{classContainer:t,label:r}=e;return(0,u.jsx)("div",{className:t,children:r})};Eke.propTypes={classContainer:c().string.isRequired,label:c().oneOfType([c().string,c().node]).isRequired};const Dke=Eke;var Ake=e=>{var{firstWeek:t,firstYear:r,secondWeek:i,secondYear:s}=e;return(0,j.xb)(t)||(0,j.xb)(r)||(0,j.xb)(i)||(0,j.xb)(s)},Mke=e=>{var{firstWeek:t="",firstYear:r="",secondWeek:i="",secondYear:s=""}=e;if(Ake(e))return!1;var n=(0,ft.M9)(r,t),a=(0,ft.M9)(s,i);return n&&a&&n<a},Ike=e=>{var{fromStart:t,fromCompute:r}=e,i=ns()(t,ft._E),s=ns()(r,ft._E).diff(i,"week",!0);return Math.ceil(s)},Zke=e=>{var{firstWeek:t="",firstYear:r="",secondWeek:i="",secondYear:s=""}=e;if(Ake(e))return 0;if(r===s)return Number(i)-Number(t)+1;var n=(0,ft.D6)(r,t),a=(0,ft.D6)(s,i).diff(n,"week",!0);return Math.ceil(a)+1},qke=[(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.weekOne",defaultMessage:[{type:0,value:"неделя"}]}),(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.weekTwo",defaultMessage:[{type:0,value:"недели"}]}),(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.weekTen",defaultMessage:[{type:0,value:"недель"}]})],Fke=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Choose",defaultMessage:[{type:0,value:"Выбрано"}]}),Lke=e=>{var{classContainer:t,countWeek:r}=e;if((0,j.xb)(r))return null;var i=(0,Dh.Ak)(Number(r),qke);return(0,u.jsxs)("div",{className:t,children:[Fke," ",r," ",i]})};Lke.defaultProps={countWeek:null},Lke.propTypes={classContainer:c().string.isRequired,countWeek:c().number};const Hke=Lke;var _ke=e=>{var{handleSubmit:t,valid:r,numberColumns:i}=e,s=()=>t();return(0,u.jsxs)("div",{className:"e87uFHsZ1HaPrnbB0qNwDw==",onKeyPress:e=>{"Enter"===e.key&&r&&s()},children:[(0,u.jsx)(Dke,{classContainer:"O8DqR0DfDjcA7rMe+UNsEQ==",label:YCe}),(0,u.jsx)(kke,{}),(0,u.jsx)(Tke,{}),(0,u.jsx)(Hke,{classContainer:"sYERLAy2dtDh8eIOxWiiiQ==",countWeek:i}),(0,u.jsx)(Rke,{classContainer:"_2JU5mmo+-VzBAWRLZygbCQ==",handleClick:s,disabled:!r,label:QCe})]})};_ke.defaultProps={valid:!0,numberColumns:0},_ke.propTypes={valid:c().bool,handleSubmit:c().func.isRequired,numberColumns:c().number};const Bke=_ke;function Gke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Wke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gke(Object(r),!0).forEach((function(t){Uke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Uke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Vke=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e),periods:(0,jke.getStrategicPeriod)(e),numberColumns:(0,jke.getStrategicNumberColumns)(e)})),(e=>({addPeriodByType:(t,r)=>e((0,bke.addPeriodByType)(t,r)),setCountColumnsTableStrategic:t=>e((0,bke.setCountColumnsTableStrategic)(t))})),((e,t,r)=>{var i={queueId:e.queueId,forecastType:r.forecastType};return Wke(Wke(Wke(Wke({},e),t),r),{},{onSubmit:(e=>{var{cb:i,options:s}=e;return e=>{var n=ske(e.secondWeek),a=(0,ft.M9)(e.firstYear,e.firstWeek),o=(0,ft.M9)(e.secondYear,n),l=Wke(Wke({},s),{},{from:a,to:o}),c=Zke(e);i(l,(e=>()=>{r.onClosePopup(),t.setCountColumnsTableStrategic(e)})(c))}})({cb:t.addPeriodByType,options:i}),initialValues:{numberColumns:e.numberColumns}})})),(0,Fe.Z)({form:"periodForm",validate:e=>{var t={},{firstWeek:r="",firstYear:i="",secondWeek:s="",secondYear:n=""}=e;return Ake(e)?(t.firstWeek="Required",t.firstYear="Required",t.secondWeek="Required",t.secondYear="Required",t):(4!==String(i).length&&(t.firstYear="not year"),4!==String(n).length&&(t.secondYear="not year"),Mke(e)||(t.firstWeek="No correct period",t.firstYear="No correct period",t.secondWeek="No correct period",t.secondYear="No correct period"),e.numberColumns&&!(e=>{var{count:t,period:r}=e,i=Zke(r);return Number(t)===Number(i)})({period:e,count:e.numberColumns})&&(t.firstWeek="No correct period",t.firstYear="No correct period",t.secondWeek="No correct period",t.secondYear="No correct period"),e.numberColumns||Zke(e)>53&&(t.firstWeek="No correct period",t.firstYear="No correct period",t.secondWeek="No correct period",t.secondYear="No correct period"),(Number(r)<1||Number(r)>53)&&(t.firstWeek="No correct week count"),(Number(s)<1||Number(s)>53)&&(t.secondYear="No correct week count"),t)}}))(Bke);function zke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Yke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zke(Object(r),!0).forEach((function(t){Qke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Kke=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e),periods:(0,jke.getStrategicPeriod)(e),numberColumns:(0,jke.getStrategicNumberColumns)(e)})),{computeStrategicForecast:bke.computeStrategicForecast,setCountColumnsTableStrategic:bke.setCountColumnsTableStrategic},((e,t,r)=>{var{fromPeriodForecast:i,onClosePopup:s,aggregationId:n}=r,a={aggregationId:n},o=()=>{s()};return Yke(Yke(Yke(Yke({},e),t),r),{},{onSubmit:(e=>{var{cb:t,options:r}=e;return e=>{var s=(0,ft.M9)(e.firstYear,e.firstWeek),n=(0,ft.M9)(e.secondYear,e.secondWeek),a=Ike({fromStart:i,fromCompute:s}),l=Ike({fromStart:i,fromCompute:n}),c=Yke(Yke({},r),{},{fromWeek:a,toWeek:l});t(c,o)}})({cb:t.computeStrategicForecast,options:a}),initialValues:{numberColumns:e.numberColumns}})})),(0,Fe.Z)({form:"periodComputerForm",validate:e=>{var t={},{firstWeek:r="",firstYear:i="",secondWeek:s="",secondYear:n=""}=e;return Ake(e)?(t.firstWeek="Required",t.firstYear="Required",t.secondWeek="Required",t.secondYear="Required",t):(4!==String(i).length&&(t.firstYear="not year"),4!==String(n).length&&(t.secondYear="not year"),Mke(e)||(t.firstWeek="No correct period",t.firstYear="No correct period",t.secondWeek="No correct period",t.secondYear="No correct period"),(Number(r)<1||Number(r)>53)&&(t.firstWeek="No correct week count"),(Number(s)<1||Number(s)>53)&&(t.secondYear="No correct week count"),t)}}))(Bke),Xke="vUjPK65M0yCP304Ah6oYdQ==",Jke=()=>(0,u.jsxs)("div",{className:"l56M4lyS04s+I9SqX109HQ==",children:[(0,u.jsx)(_e.Z,{name:"week",component:_Z.Z,classNameInput:Xke,maxLength:2}),JCe,(0,u.jsx)(_e.Z,{name:"year",component:_Z.Z,className:Xke,classNameInput:"cVe+6JnYPSgfW-Al1VH8VA==",maxLength:4}),$Ce]});var $ke=e=>{var{handleSubmit:t,valid:r}=e,i=()=>t();return(0,u.jsxs)("div",{className:"_0z89Xlq+jzwAxsonFcpvAQ==",onKeyPress:e=>{"Enter"===e.key&&r&&i()},children:[(0,u.jsx)(Dke,{classContainer:"CKDEuaMNAIheBPUYWlirOQ==",label:YCe}),(0,u.jsx)(Jke,{}),(0,u.jsx)(Rke,{classContainer:"GiSsfmfkWhMxvSmo-B-lWQ==",handleClick:i,disabled:!r,label:QCe})]})};$ke.propTypes={valid:c().bool.isRequired,handleSubmit:c().func.isRequired};const eTe=$ke;var tTe=e=>{var t={},{week:r,year:i}=e,s=(e=>{var{week:t,year:r}=e;return(0,j.xb)(t)||(0,j.xb)(r)})(e);return s?(t.week="Required",t.year="Required",t):(4!==String(i).length&&(t.year="not year"),(Number(r)<1||Number(r)>53)&&(t.secondYear="No correct week count"),t)};function rTe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iTe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rTe(Object(r),!0).forEach((function(t){sTe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rTe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const nTe=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e)})),{addPeriodTactical:bke.addPeriodTactical,setCountColumnsTableStrategic:bke.setCountColumnsTableStrategic},((e,t,r)=>{var i={queueId:e.queueId,forecastType:r.forecastType},s=()=>{r.onClosePopup()};return iTe(iTe(iTe(iTe({},e),t),r),{},{onSubmit:(e=>{var{cb:t,options:r}=e;return e=>{var i=ske(e.week),n=(0,ft.M9)(e.year,e.week),a=(0,ft.M9)(e.year,i),o=iTe(iTe({},r),{},{from:n,to:a});t(o,s)}})({cb:t.addPeriodTactical,options:i})})})),(0,Fe.Z)({form:"weekForm",validate:tTe}))(eTe);function aTe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function oTe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aTe(Object(r),!0).forEach((function(t){lTe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aTe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const cTe=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e)})),{addPeriodOperational:bke.addPeriodOperational},((e,t,r)=>{var i={queueId:e.queueId,forecastType:r.forecastType,aggregationType:ake.TV.FIFTEEN_MINUTES},s=()=>{r.onClosePopup()};return oTe(oTe(oTe(oTe({},e),t),r),{},{onSubmit:(e=>{var{cb:t,options:r}=e;return e=>{var i=(0,ft.M9)(e.year,e.week),n=(0,ft.Om)(i),a=oTe(oTe({},r),{},{from:i,to:n});t(a,s)}})({cb:t.addPeriodOperational,options:i})})})),(0,Fe.Z)({form:"weekForm",validate:tTe}))(eTe);function dTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uTe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.PeriodBtn",defaultMessage:[{type:0,value:"Период"}]});class pTe extends m.PureComponent{constructor(e){super(e),dTe(this,"toggleActive",(()=>{this.setState((e=>({isActive:!e.isActive})))})),dTe(this,"createWrapperRef",(e=>this.wrapperElement=e)),dTe(this,"getForm",(()=>{var{forecastType:e}=this.props,t=(0,ake.pc)(e),r=(0,ake.so)(e),i=(0,ake.KZ)(e);return t?(0,u.jsx)(Vke,{forecastType:e,onClosePopup:this.toggleActive}):r?(0,u.jsx)(nTe,{forecastType:e,onClosePopup:this.toggleActive}):i?(0,u.jsx)(cTe,{forecastType:e,onClosePopup:this.toggleActive}):null})),this.state={isActive:!1}}render(){var{isActive:e}=this.state,{queue:t}=this.props,r=Boolean(t),i=this.getForm();return(0,u.jsxs)("div",{className:"hwYd7OxmSOH6Z5K5nP6buw==",ref:this.createWrapperRef,children:[(0,u.jsx)(Ml.Z,{glyph:et.dt,textAfter:uTe,classIcon:"UskWsVYO6FIHNqNCLqewFw==",onClick:this.toggleActive,disabled:!r,active:e}),(0,u.jsx)(Ns.ZP,{open:e,anchorEl:this.wrapperElement,onClose:this.toggleActive,anchorOrigin:{horizontal:"middle",vertical:"bottom"},children:i})]})}}pTe.propTypes={forecastType:c().string.isRequired,queue:c().string.isRequired};const hTe=pTe,fTe=(0,o.compose)((0,s.$j)((e=>({queue:MCe(e)}))))(hTe);var mTe="Monday",vTe="Tuesday",yTe="Wednesday",gTe="Thursday",bTe="Friday",jTe="Saturday",xTe="Sunday",STe=(0,k.vU)({Monday:{id:"ForecastGenerate.Table.Monday",defaultMessage:[{type:0,value:"понедельник"}]},Tuesday:{id:"ForecastGenerate.Table.Tuesday",defaultMessage:[{type:0,value:"вторник"}]},Wednesday:{id:"ForecastGenerate.Table.Wednesday",defaultMessage:[{type:0,value:"среда"}]},Thursday:{id:"ForecastGenerate.Table.Thursday",defaultMessage:[{type:0,value:"четверг"}]},Friday:{id:"ForecastGenerate.Table.Friday",defaultMessage:[{type:0,value:"пятница"}]},Saturday:{id:"ForecastGenerate.Table.Saturday",defaultMessage:[{type:0,value:"суббота"}]},Sunday:{id:"ForecastGenerate.Table.Sunday",defaultMessage:[{type:0,value:"воскресенье"}]}}),OTe={0:xTe,1:mTe,2:vTe,3:yTe,4:gTe,5:bTe,6:jTe,7:xTe},PTe={[mTe]:1,[mTe]:1,[vTe]:2,[yTe]:3,[gTe]:4,[bTe]:5,[jTe]:6,[xTe]:7};function wTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class CTe extends m.PureComponent{constructor(e){super(e),wTe(this,"getNewDateByDay",(e=>{var{day:t}=this.props,r=PTe[e];return(0,ft.Rl)(t,r)})),wTe(this,"handleChange",(e=>{var t=this.getNewDateByDay(e);this.props.handleChange(t)})),wTe(this,"handleMainChange",(e=>{this.props.handleChange(e)})),wTe(this,"getDay",(e=>{var t=(0,ft.fk)(e);return OTe[t]})),this.arMessages=[{id:mTe,name:this.props.intl.formatMessage(STe.Monday)},{id:vTe,name:this.props.intl.formatMessage(STe.Tuesday)},{id:yTe,name:this.props.intl.formatMessage(STe.Wednesday)},{id:gTe,name:this.props.intl.formatMessage(STe.Thursday)},{id:bTe,name:this.props.intl.formatMessage(STe.Friday)},{id:jTe,name:this.props.intl.formatMessage(STe.Saturday)},{id:xTe,name:this.props.intl.formatMessage(STe.Sunday)}]}render(){var{day:e,isMain:t,value:r,disabled:i,listHeight:s}=this.props;if(t)return(0,u.jsx)("div",{children:(0,u.jsx)(Il.Z,{listHeight:s,onChange:this.handleMainChange,dataSource:this.arMessages,value:r,disabled:i})});var n=this.getDay(e);return(0,u.jsx)("div",{children:(0,u.jsx)(Il.Z,{listHeight:s,onChange:this.handleChange,dataSource:this.arMessages,value:n,disabled:i})})}}CTe.defaultProps={day:"",listHeight:205,disabled:!1},CTe.propTypes={handleChange:c().func.isRequired,intl:c().object.isRequired,day:c().string,listHeight:c().number,isMain:c().bool.isRequired,value:c().string.isRequired,disabled:c().bool};const kTe=(0,v.ZP)(CTe);function TTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class NTe extends m.PureComponent{constructor(){super(...arguments),TTe(this,"getNormalizePeriods",(e=>{var{periods:t}=this.props,r=PTe[e],i=[];return t.forEach((e=>{var t=(0,ft.Rl)(e.day,r),s={from:t,to:(0,ft.Om)(t)};i.push(s)})),i})),TTe(this,"handleChange",(e=>{var{getForecastsOperational:t,aggregationType:r,queueId:i,forecastType:s,setDayMainSelectorOperationalPeriod:n}=this.props,a={queueId:i,aggregationType:r,forecastType:s,periods:this.getNormalizePeriods(e)};n(e),t(a)}))}render(){var{value:e,queueId:t}=this.props,r=!t;return(0,u.jsx)("div",{className:"x55HF+qZ-9bsQE7rj8jJBA==",children:(0,u.jsx)(kTe,{listHeight:215,handleChange:this.handleChange,value:e,isMain:!0,disabled:r})})}}NTe.defaultProps={setDayMainSelectorOperationalPeriod:null},NTe.propTypes={setDayMainSelectorOperationalPeriod:c().func,getForecastsOperational:c().func.isRequired,aggregationType:c().string.isRequired,queueId:c().string.isRequired,forecastType:c().string.isRequired,periods:c().array.isRequired,value:c().string.isRequired};const RTe=NTe,ETe=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e),periods:(0,jke.getOperationalPeriods)(e),value:(0,jke.getSelectDayMainSelectorOperational)(e)})),(e=>({setDayMainSelectorOperationalPeriod:t=>e((0,bke.setDayMainSelectorOperationalPeriod)(t)),getForecastsOperational:t=>e((0,bke.getForecastsOperational)(t))}))))(RTe);class DTe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{aggregationId:t,aggregationType:r,queueId:i,replacePeriodOperationalByType:s,forecastType:n}=this.props;s({from:e,to:(0,ft.Om)(e),aggregationId:t,aggregationType:r,queueId:i,forecastType:n})}))}render(){var{day:e}=this.props,t=(0,ft.LT)(e);return(0,u.jsxs)("div",{className:"bu65Kw0cmGPTe3AID9cAqA==",children:[(0,u.jsx)(kTe,{listHeight:215,day:e,handleChange:this.handleChange}),(0,u.jsx)("div",{className:"Y9IBA5KYtnVclwELnp6MWA==",children:t})]})}}DTe.defaultProps={aggregationId:"",aggregationType:"",queueId:"",replacePeriodOperationalByType:"",forecastType:""},DTe.propTypes={aggregationId:c().string,aggregationType:c().string,queueId:c().string,day:c().string.isRequired,replacePeriodOperationalByType:c().string,forecastType:c().string};const ATe=DTe,MTe=(0,o.compose)((0,s.$j)((e=>({queueId:MCe(e)})),{replacePeriodOperationalByType:bke.replacePeriodOperationalByType}))(ATe),ITe="MePltl8o8pPqk+eEGw5cEg==";var ZTe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.type",defaultMessage:[{type:0,value:"Тип"}]});const qTe=()=>(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:ITe,children:(0,u.jsx)("tbody",{children:(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"fJlBUMSX7e0OnusFi9RgzQ==",children:ZTe})})})})});var FTe=e=>{var{type:t}=e;return(0,u.jsx)("tr",{children:(0,u.jsx)("td",{className:"zwjsQ+mAdNe3Xda5nQBB5w==",children:t})})};FTe.propTypes={type:c().oneOfType([c().string,c().node]).isRequired};const LTe=FTe,HTe=()=>(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:ITe,children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)(LTe,{type:ake.hv}),(0,u.jsx)(LTe,{type:ake.nJ}),(0,u.jsx)(LTe,{type:ake.Nw}),(0,u.jsx)(LTe,{type:ake.nQ})]})})});var _Te=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.titleTotal",defaultMessage:[{type:0,value:"Итого"}]}),BTe=["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","03:15","03:30","03:45","04:00","04:15","04:30","04:45","05:00","05:15","05:30","05:45","06:00","06:15","06:30","06:45","07:00","07:15","07:30","07:45","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"],GTe=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{var r={from:t.day,to:(0,ft.Om)(t.day)};e.push(r)})),e};class WTe extends m.PureComponent{render(){return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"ajVOl2Fh4hdKce5+M1aaJw==",children:(0,u.jsx)("tbody",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:_Te}),BTe.map(((e,t)=>(0,u.jsx)("td",{children:e},e.id||t)))]})})})})}}const UTe=WTe,VTe={root:"Sm1rWOLvl5wdAxEnsS6JWQ==",readOnly:"iJh8B+oyLSsgTlf060TOsw==",popoverInner:"_8BsqZGQKxTl5fyI0laY3TA=="};function zTe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YTe=ai().bind(VTe);class QTe extends m.Component{constructor(){super(...arguments),zTe(this,"state",{open:!1,percent:100,value:this.props.value||""}),zTe(this,"rootRef",(0,m.createRef)()),zTe(this,"handleClose",(()=>{this.setState({open:!1})})),zTe(this,"initialize",(()=>{var{value:e}=this.props;this.setState({value:0===e?"":e,open:!0,percent:100})})),zTe(this,"handleChangePercents",(e=>{var{value:t}=e.target,{value:r}=this.props;t.length>3||this.setState({value:Math.round(t*r/100),percent:t})})),zTe(this,"handleChangeValue",(e=>{var{value:t}=e.target,{value:r,isOnlyPositiveNumbers:i,allowFloatNumbers:s}=this.props;if(!(t.length>6)){if(s){var n=t.replace(/,/gi,"."),a="."===n[n.length-1];return/^\d{0,5}([.|,]\d{0,5})?$/.test(n)?this.setState({value:""===n||a?n:Number(n),percent:Number(n)/r*100}):void 0}if(i){var o=/^[0-9]+$/,l=o.test(t)?Number(t):Number(t.slice(0,-1));o.test(t[0])?this.setState({value:Math.round(l),percent:l/r*100}):this.setState({value:""})}else this.setState({value:Math.round(t),percent:t/r*100})}})),zTe(this,"handleInputKeyDown",(e=>{var{value:t,onChange:r}=this.props,{value:i}=this.state;"Escape"===e.key&&this.handleClose(),"Enter"===e.key&&(t!==i&&r(""===i?0:i),this.handleClose())}))}render(){var{value:e,readOnly:t,validate:r,className:i,isOnlyPositiveNumbers:s,allowFloatNumbers:n}=this.props,a=YTe("root",{readOnly:t}),o="function"==typeof r&&r(this.state.value);return(0,u.jsxs)("div",{ref:this.rootRef,className:a,children:[(0,u.jsx)("div",{className:i,onClick:this.initialize,title:e,children:e&&e.y?e.y:e}),(0,u.jsx)(Ns.ZP,{open:this.state.open,anchorEl:this.state.open?this.rootRef.current:null,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},onClose:this.handleClose,children:(0,u.jsxs)("div",{className:VTe.popoverInner,children:[(0,u.jsx)("input",{style:{width:"67px"},className:ai()({"context-color_error":o}),type:s||n?"text":"number",onKeyDown:this.handleInputKeyDown,step:1,onChange:this.handleChangeValue,value:this.state.value,autoFocus:!0}),"%",(0,u.jsx)("input",{style:{width:"67px"},className:ai()({"context-color_error":o}),type:"number",onKeyDown:this.handleInputKeyDown,step:1,onChange:this.handleChangePercents,value:this.state.percent})]})})]})}}QTe.defaultProps={className:VTe.forecastEllipsis,validate:null,readOnly:!1,allowFloatNumbers:!1,isOnlyPositiveNumbers:!1},QTe.propTypes={className:c().string,onChange:c().func.isRequired,value:c().oneOfType([c().number,c().string]).isRequired,readOnly:c().bool,allowFloatNumbers:c().bool,validate:c().func,isOnlyPositiveNumbers:c().bool};const KTe=QTe,XTe="_19g71YD2eIFF1X5MlncerQ==",JTe="STqBP-l0YmzRGCgrGSdIOA==",$Te="DXlZjYaFSw21YgT3ZW7Rsg==",eNe={root:"zPf03cPhmz99lBwazqGXZw==",readOnly:"UBem96zosjxOy63BhyNvcA==",popoverInner:"nag9X-q4qtHKDILdBivN1w=="};function tNe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rNe=ai().bind(eNe);class iNe extends m.PureComponent{constructor(){super(...arguments),tNe(this,"state",{isActive:!1,percents:this.props.value,valueInvalid:!1}),tNe(this,"createWrapperRef",(e=>this.wrapperEl=e)),tNe(this,"toggleActive",(()=>{var{isActive:e}=this.state;this.setState({isActive:!e})})),tNe(this,"onBlur",(()=>{var{onChange:e,index:t,value:r}=this.props,i=String(r)!==String(this.state.percents);this.toggleActive(),i&&e({value:this.state.percents,index:t})})),tNe(this,"onChangePercents",(e=>{var{target:{value:t}}=e;/^\d{0,5}([.|,]\d{0,5})?$/.test(t)&&this.setState({percents:t,valueInvalid:!1})})),tNe(this,"onInputFocus",(e=>{e.target.select()})),tNe(this,"onKeyDown",(e=>{"Escape"===e.key&&this.toggleActive(),"Enter"===e.key&&this.onBlur()})),tNe(this,"getValueContent",(()=>{var{value:e,disablePercentSign:t,hiddenPercent:r}=this.props;return e||0===Number(e)?(0,u.jsxs)("div",{onClick:this.toggleActive,children:[e,!t&&(0,u.jsx)("span",{hidden:!r,children:"%"})]}):(0,u.jsx)("div",{})}))}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({percents:e.value})}render(){var e=rNe("root");return(0,u.jsxs)("div",{ref:this.createWrapperRef,className:e,children:[this.getValueContent(),(0,u.jsx)(Ns.ZP,{open:this.state.isActive,anchorEl:this.wrapperEl,anchorOrigin:{horizontal:"middle",vertical:"top"},targetOrigin:{horizontal:"middle",vertical:"center"},onClose:this.onBlur,children:(0,u.jsxs)("div",{className:eNe.popoverInner,children:[(0,u.jsx)("input",{style:{width:"70px"},className:this.state.valueInvalid?"context-color_error":"",type:"text",onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,step:1,onChange:this.onChangePercents,value:this.state.percents}),"%"]})})]})}}iNe.defaultProps={disablePercentSign:!1,hiddenPercent:!1},iNe.propTypes={onChange:c().func.isRequired,value:c().oneOfType([c().number,c().string]).isRequired,index:c().number.isRequired,disablePercentSign:c().bool,hiddenPercent:c().bool};const sNe=iNe;var nNe=(e,t)=>{if("number"==typeof e)return e;var r=e.includes(",")?e.replace(/,/,"."):e,i=t?(r/100).toFixed(4):r;return Number(i)},aNe=e=>{var{editHandle:t,aggregationId:r,forecastType:i,isNumber:s,isEdit:n,isPercent:a,editTotalHandle:o,isDisabledZero:l,data:c,callsForecastSum:d,callsActualSum:p,isTotalCalls:h,isTotalFact:f}=e,m=e=>{var{value:s,index:n}=e,o=nNe(s,a);t({forecastType:i,aggregationId:r,columnNumber:n,newValue:o})},v=(e,t)=>{var r=!a&&!n,i=a&&n,o=s&&n,c=l&&0===Number(e);return r||c?e:i?(0,u.jsx)(sNe,{onChange:m,value:e,index:t,disablePercentSign:!0}):o?(0,u.jsx)(KTe,{validate:O.wA,value:e,className:$Te,readOnly:!1,onChange:e=>m({value:e,index:t}),isOnlyPositiveNumbers:!0}):e};return(0,u.jsxs)("tr",{className:XTe,children:[l&&0===Number(d)?(0,u.jsx)("td",{className:JTe,children:d}):h?(0,u.jsx)("td",{className:JTe,children:(0,u.jsx)(KTe,{className:$Te,validate:O.wA,value:d,readOnly:!1,onChange:e=>(e=>{var{value:t}=e,s=nNe(t,a);o({forecastType:i,aggregationId:r,newValue:s})})({value:e}),isOnlyPositiveNumbers:!0})}):f?(0,u.jsx)("td",{className:JTe,children:p}):(0,u.jsx)("td",{}),c.map(((e,t)=>(0,u.jsx)("td",{children:v(e,t)},e.id||t)))]})};aNe.defaultProps={isPercent:!1,isEdit:!1,isTotalCalls:!1,isTotalFact:!1,isDisabledZero:!1,isNumber:!1,data:[],callsForecastSum:0,callsActualSum:0,aggregationId:"",forecastType:"",editHandle:O.wA,editTotalHandle:O.wA},aNe.propTypes={data:c().array,isPercent:c().bool,isEdit:c().bool,aggregationId:c().string,forecastType:c().string,isTotalCalls:c().bool,isTotalFact:c().bool,isDisabledZero:c().bool,isNumber:c().bool,callsForecastSum:c().number,callsActualSum:c().number,editHandle:c().func,editTotalHandle:c().func};const oNe=aNe;var lNe=e=>{var{callsForecast:t,callsActual:r,seasonForecast:i,seasonActual:s,aggregationId:n,editTotalOperationalCallsByType:a,editCallsOperationalByType:o,editSeasonOperationalByType:l,callsForecastSum:c,callsActualSum:d}=e;return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"jE50Ukczl8jmK5eo6B205w==",children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)(oNe,{data:t,title:ake.NY.callsForecast,editHandle:o,editTotalHandle:a,aggregationId:n,forecastType:ake.kV.OPERATIONAL,isEdit:!0,isNumber:!0,isTotalCalls:!0,callsForecastSum:c}),(0,u.jsx)(oNe,{data:r,title:ake.NY.callsActual,callsActualSum:d,isTotalFact:!0}),(0,u.jsx)(oNe,{data:(0,X.GH)(i),title:ake.NY.seasonForecast,editHandle:l,aggregationId:n,forecastType:ake.kV.OPERATIONAL,isPercent:!0,isEdit:!0}),(0,u.jsx)(oNe,{data:(0,X.GH)(s),title:ake.NY.seasonActual,isPercent:!0})]})})})};lNe.defaultProps={callsForecast:[],callsActual:[],seasonForecast:[],seasonActual:[],aggregationId:"",callsForecastSum:0,callsActualSum:0},lNe.propTypes={callsForecast:c().array,callsActual:c().array,seasonForecast:c().array,seasonActual:c().array,editTotalOperationalCallsByType:c().func.isRequired,editCallsOperationalByType:c().func.isRequired,editSeasonOperationalByType:c().func.isRequired,callsForecastSum:c().number,callsActualSum:c().number,aggregationId:c().string};const cNe=lNe,dNe=(0,o.compose)((0,s.$j)(null,{editTotalOperationalCallsByType:bke.editTotalOperationalCallsByType,editCallsOperationalByType:bke.editCallsOperationalByType,editSeasonOperationalByType:bke.editSeasonOperationalByType}))(cNe);var uNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.type",defaultMessage:[{type:0,value:"Тип"}]}),pNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Monday",defaultMessage:[{type:0,value:"Пн."}]}),hNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Tuesday",defaultMessage:[{type:0,value:"Вт."}]}),fNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Wednesday",defaultMessage:[{type:0,value:"Ср."}]}),mNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Thursday",defaultMessage:[{type:0,value:"Чт."}]}),vNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Friday",defaultMessage:[{type:0,value:"Пт."}]}),yNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Saturday",defaultMessage:[{type:0,value:"Сб."}]}),gNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Date.Sunday",defaultMessage:[{type:0,value:"Вс."}]}),bNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.titleTotal",defaultMessage:[{type:0,value:"Итого"}]});class jNe extends m.PureComponent{render(){return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"wbXKkn7HiuWw1zYbjcWdYQ==",children:(0,u.jsx)("tbody",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"+KT1kXYO5KIu-cUrUjN6dA==",children:uNe}),(0,u.jsx)("td",{children:bNe}),(0,u.jsx)("td",{children:pNe}),(0,u.jsx)("td",{children:hNe}),(0,u.jsx)("td",{children:fNe}),(0,u.jsx)("td",{children:mNe}),(0,u.jsx)("td",{children:vNe}),(0,u.jsx)("td",{children:yNe}),(0,u.jsx)("td",{children:gNe})]})})})})}}const xNe=jNe;var SNe=e=>{var{editHandle:t,editTotalHandle:r,aggregationId:i,forecastType:s,isPercent:n,isNumber:a,isEdit:o,callsForecastSum:l,callsActualSum:c,isTotalCalls:d,isTotalFact:p,isDisabledZero:h,isTotalSeasonForecast:f,data:m,title:v}=e,y=e=>{var{value:r,index:a}=e,o=nNe(r,n);t({forecastType:s,aggregationId:i,columnNumber:a,newValue:o})},g=(e,t)=>{var r=a&&o;return n||o?n&&o?(0,u.jsx)("div",{title:e,children:(0,u.jsx)(sNe,{hiddenPercent:!0,onChange:y,value:e,index:t,disablePercentSign:!0,isOnlyPositiveNumbers:!0})}):r?(0,u.jsx)(KTe,{className:$Te,validate:O.wA,value:e,readOnly:!1,onChange:e=>y({value:e,index:t}),isOnlyPositiveNumbers:!0}):e:e};return(0,u.jsxs)("tr",{className:XTe,children:[(0,u.jsx)("td",{className:"hTIjVsDdqqMIlFjDk+Ep7A==",children:v}),h&&!f&&0===Number(l)?(0,u.jsx)("td",{className:JTe,title:l,children:l}):d?(0,u.jsx)("td",{className:JTe,children:(0,u.jsx)(KTe,{className:$Te,validate:O.wA,value:l,readOnly:!1,onChange:e=>(e=>{var{value:t}=e,a=nNe(t,n);r({forecastType:s,aggregationId:i,newValue:a})})({value:e}),isOnlyPositiveNumbers:!0})}):p?(0,u.jsx)("td",{className:JTe,title:c,children:c}):(0,u.jsx)("td",{}),m.map(((e,t)=>(0,u.jsx)("td",{title:g(e,t),children:g(e,t)},e.id||t)))]})};SNe.defaultProps={isPercent:!1,isEdit:!1,isTotalCalls:!1,isTotalFact:!1,isTotalSeasonForecast:!1,isDisabledZero:!1,isNumber:!1,data:[],callsForecastSum:0,callsActualSum:0,aggregationId:"",forecastType:"",title:null,editHandle:O.wA,editTotalHandle:O.wA},SNe.propTypes={data:c().array,isPercent:c().bool,isEdit:c().bool,aggregationId:c().string,forecastType:c().string,title:c().object,isTotalSeasonForecast:c().bool,isTotalCalls:c().bool,isTotalFact:c().bool,isDisabledZero:c().bool,isNumber:c().bool,callsForecastSum:c().number,callsActualSum:c().number,editHandle:c().func,editTotalHandle:c().func};const ONe=SNe;var PNe=e=>{var{callsForecast:t,callsActual:r,seasonForecast:i,seasonActual:s,aggregationId:n,editTotalCallsByType:a,editCallsTacticalByType:o,editSeasonTacticalByType:l,callsForecastSum:c,callsActualSum:d,isDisabledZero:p}=e;return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"n+F4ATPM7DCM4pBvFFnJ9w==",children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)(ONe,{data:t,title:ake.NY.callsForecast,editHandle:o,editTotalHandle:a,aggregationId:n,forecastType:ake.kV.TACTICAL,isEdit:!0,isNumber:!0,isTotalCalls:!0,callsForecastSum:c,isDisabledZero:p}),(0,u.jsx)(ONe,{data:r,title:ake.NY.callsActual,callsActualSum:d,isTotalFact:!0}),(0,u.jsx)(ONe,{data:(0,X.GH)(i),title:ake.NY.seasonForecast,editHandle:l,aggregationId:n,forecastType:ake.kV.TACTICAL,isPercent:!0,isEdit:!0,isTotalSeasonForecast:!0,isDisabledZero:p}),(0,u.jsx)(ONe,{data:(0,X.GH)(s),title:ake.NY.seasonActual,isPercent:!0})]})})})};PNe.defaultProps={callsForecast:[],callsActual:[],seasonForecast:[],seasonActual:[],aggregationId:"",callsForecastSum:0,callsActualSum:0,isDisabledZero:!1},PNe.propTypes={callsForecast:c().array,callsActual:c().array,seasonForecast:c().array,seasonActual:c().array,isDisabledZero:c().bool,callsForecastSum:c().number,callsActualSum:c().number,aggregationId:c().string,editTotalCallsByType:c().func.isRequired,editCallsTacticalByType:c().func.isRequired,editSeasonTacticalByType:c().func.isRequired};const wNe=PNe,CNe=(0,o.compose)((0,s.$j)(null,{editTotalCallsByType:bke.editTotalCallsByType,editCallsTacticalByType:bke.editCallsTacticalByType,editSeasonTacticalByType:bke.editSeasonTacticalByType}))(wNe),kNe={container:"eCOdXaBaV85OEMxeiX7IjQ==",first:"_473tRhPZv6qYG+KskOhKNg==",color:"_2Kkq8TQ8OvdHZgWmy3HPEw==",close:"_2kXcNY6lI3zMiCpoWiJYaA==",icon:"X4vwJxcmxBLY3SSDVGqxuA=="};function TNe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NNe={id:"ForecastGenerate.Date.week",defaultMessage:"неделя"};class RNe extends m.PureComponent{constructor(){super(...arguments),TNe(this,"handleDeleteByPeriod",(()=>{var{aggregationId:e,deletePeriodByType:t,countPeriods:r,setCountColumnsTableStrategic:i}=this.props;t({aggregationId:e}),1===Number(r)&&i(null)})),TNe(this,"getDateFrom",(()=>{var{from:e,intl:t}=this.props;return ike({date:e,str:t.formatMessage(NNe)})})),TNe(this,"getDateTo",(()=>{var{to:e,intl:t}=this.props;return ike({date:e,str:t.formatMessage(NNe),isTo:!0})}))}render(){var{from:e,to:t,color:r}=this.props,i=this.getDateFrom(e),s=this.getDateTo(t);return(0,u.jsxs)("div",{className:kNe.container,children:[(0,u.jsxs)("div",{className:kNe.first,children:[(0,u.jsx)("span",{className:kNe.color,children:(0,u.jsx)(cke,{color:r})}),i,(0,u.jsx)("span",{children:"..."}),(0,u.jsx)("span",{className:kNe.close,children:(0,u.jsx)(Ml.Z,{glyph:et.Tw,classIcon:kNe.icon,onClick:this.handleDeleteByPeriod})})]}),(0,u.jsx)("div",{className:kNe.second,children:s})]})}}RNe.defaultProps={from:"",to:"",countPeriods:null},RNe.propTypes={intl:P.gm.isRequired,from:c().string,to:c().string,color:c().string.isRequired,countPeriods:c().number,aggregationId:c().string.isRequired,deletePeriodByType:c().func.isRequired,setCountColumnsTableStrategic:c().func.isRequired};const ENe=RNe,DNe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({countPeriods:(0,jke.getStrategicPeriod)(e).length})),{deletePeriodByType:bke.deletePeriodByType,setCountColumnsTableStrategic:bke.setCountColumnsTableStrategic}))(ENe);function ANe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class MNe extends m.PureComponent{constructor(){super(...arguments),ANe(this,"state",{isActive:!1}),ANe(this,"toggleActive",(()=>{this.setState((e=>({isActive:!e.isActive})))})),ANe(this,"createWrapperRef",(e=>this.wrapperElement=e))}render(){var{isActive:e}=this.state,{forecastType:t,fromPeriodForecast:r,toPeriodForecast:i,aggregationId:s,isDisabledCell:n}=this.props;return(0,u.jsxs)("div",{ref:this.createWrapperRef,children:[(0,u.jsx)(Ml.Z,{glyph:et.CW,textAfter:ake.NY.callsForecast,classIcon:"Rnya4HXwxQBxof7qmedQVA==",onClick:this.toggleActive,disabled:n}),(0,u.jsx)(Ns.ZP,{open:e,anchorEl:this.wrapperElement,onClose:this.toggleActive,anchorOrigin:{horizontal:"middle",vertical:"bottom"},children:(0,u.jsx)(Kke,{forecastType:t,fromPeriodForecast:r,toPeriodForecast:i,onClosePopup:this.toggleActive,aggregationId:s})})]})}}MNe.propTypes={forecastType:c().string.isRequired,fromPeriodForecast:c().string.isRequired,toPeriodForecast:c().string.isRequired,aggregationId:c().string.isRequired,isDisabledCell:c().bool.isRequired};const INe=MNe;class ZNe extends m.Component{render(){var{fromPeriodForecast:e,toPeriodForecast:t,aggregationId:r,idLastPeriod:i}=this.props,s=i===r;return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"g3WeTCoLxhK54b-6m5raZg==",children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)("div",{className:"d8lwV7RxBtdn3VyvYXVpAw==",children:(0,u.jsx)(INe,{forecastType:ake.kV.STRATEGICAL,fromPeriodForecast:e,toPeriodForecast:t,aggregationId:r,isDisabledCell:s})}),(0,u.jsx)(LTe,{type:ake.nJ}),(0,u.jsx)(LTe,{type:ake.Nw}),(0,u.jsx)(LTe,{type:ake.nQ}),(0,u.jsx)(LTe,{type:ake.ir})]})})})}}ZNe.propTypes={aggregationId:c().string.isRequired,fromPeriodForecast:c().string.isRequired,toPeriodForecast:c().string.isRequired,idLastPeriod:c().string.isRequired};const qNe=ZNe;class FNe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"getScale",(()=>{var{scale:e,hasPeriods:t}=this.props,r=[];if(!t)return(0,u.jsx)("td",{});for(var i=1;i<Number(e+1);i++){var s=(0,X.Iq)(i);r.push((0,u.jsx)("td",{children:s},s))}return r}))}render(){var e=this.getScale();return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"_5NY+uvUiP-3QK11fw6gQzw==",children:(0,u.jsx)("tbody",{children:(0,u.jsx)("tr",{children:e})})})})}}FNe.defaultProps={scale:10,hasPeriods:!1},FNe.propTypes={scale:c().number,hasPeriods:c().bool};const LNe=FNe,HNe=(0,o.compose)((0,s.$j)((e=>({scale:(0,jke.getStrategicNumberColumns)(e),hasPeriods:Boolean((0,jke.getStrategicPeriod)(e).length)}))))(LNe),_Ne="_2hJdy3ir1401s73n5tNFEw==";var BNe=e=>{var{editHandle:t,aggregationId:r,forecastType:i,data:s,isDisabledZero:n}=e;return(0,u.jsx)("tr",{className:_Ne,children:s.map(((e,s)=>(0,u.jsx)("td",{children:(0,u.jsx)("div",{title:e,children:(0,u.jsx)(KTe,{className:"HUtixT8hIJZq33o3C3GoRw==",validate:O.wA,value:e,readOnly:!1,onChange:e=>(e=>{var{value:s,index:n}=e;t({forecastType:i,aggregationId:r,columnNumber:n,newValue:s})})({value:e,index:s}),isDisabledZero:n,isOnlyPositiveNumbers:!0})})},e.id||s)))})};BNe.propTypes={data:c().array.isRequired,editHandle:c().func.isRequired,aggregationId:c().string.isRequired,forecastType:c().string.isRequired,isDisabledZero:c().bool.isRequired};const GNe=BNe;var WNe=e=>{var{isPercent:t,isEdit:r,isDisabledZero:i,editHandle:s,aggregationId:n,forecastType:a,data:o}=e,l=e=>t?"".concat(e):e,c=e=>{var{value:r,index:i}=e,o=nNe(r,t);s({forecastType:a,aggregationId:n,columnNumber:i,newValue:o})},d=(e,s)=>{var n=!t&&!r,a=t&&r,o=i&&0===Number(e);return n||o?l(e):a?(0,u.jsx)(sNe,{onChange:c,value:e,index:s}):l(e)};return(0,u.jsx)("tr",{className:_Ne,children:o.map(((e,t)=>(0,u.jsx)("td",{children:d(e,t)},e.id||t)))})};WNe.defaultProps={isPercent:!1,isEdit:!1,editHandle:null,isDisabledZero:!1,aggregationId:"",forecastType:""},WNe.propTypes={data:c().array.isRequired,isPercent:c().bool,isEdit:c().bool,editHandle:c().func,isDisabledZero:c().bool,aggregationId:c().string,forecastType:c().string};const UNe=WNe;var VNe=e=>{var{callsForecast:t,callsActual:r,seasonForecast:i,seasonActual:s,trendForecast:n,aggregationId:a,editCallsByType:o,editSeasonByType:l,fromPeriodForecast:c,toPeriodForecast:d,idLastPeriod:p,isDisabledZero:h}=e;return(0,u.jsx)("div",{children:(0,u.jsx)("table",{className:"tAPLLfR7Oob38bQZl6fVrw==",children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)(GNe,{data:t,editHandle:o,aggregationId:a,forecastType:ake.kV.STRATEGICAL,fromPeriodForecast:c,toPeriodForecast:d,idLastPeriod:p,isDisabledZero:h}),(0,u.jsx)(UNe,{data:r,title:ake.NY.callsActual}),(0,u.jsx)(UNe,{data:(0,X.GH)(i),title:ake.NY.seasonForecast,isPercent:!0,isEdit:!0,editHandle:l,aggregationId:a,forecastType:ake.kV.STRATEGICAL,isDisabledZero:h}),(0,u.jsx)(UNe,{data:(0,X.GH)(s),title:ake.NY.seasonActual,isPercent:!0}),(0,u.jsx)(UNe,{data:n,title:ake.NY.trendForecast})]})})})};VNe.defaultProps={callsForecast:[],fromPeriodForecast:"",toPeriodForecast:""},VNe.propTypes={callsForecast:c().array,callsActual:c().array.isRequired,seasonForecast:c().array.isRequired,seasonActual:c().array.isRequired,trendForecast:c().array.isRequired,aggregationId:c().string.isRequired,idLastPeriod:c().string.isRequired,isDisabledZero:c().bool.isRequired,editCallsByType:c().func.isRequired,editSeasonByType:c().func.isRequired,fromPeriodForecast:c().string,toPeriodForecast:c().string};const zNe=VNe,YNe=(0,o.compose)((0,s.$j)(null,{editCallsByType:bke.editCallsByType,editSeasonByType:bke.editSeasonByType}))(zNe);var QNe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.Table.type",defaultMessage:[{type:0,value:"Тип"}]}),KNe=e=>{var{data:t,widthDataCalls:r}=e,i=t[t.length-1]&&t[t.length-1].aggregationId,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{widthDataCalls:t=500,forecastType:r,idLastPeriod:i}=e;return[new DO.Z({cellClassName:zCe,width:160,key:"from",hasTitle:!1,fixed:!0,label:1,renderCell:e=>{var{from:t,to:r,color:i,aggregationId:s}=e;return(0,u.jsx)(DNe,{from:t,to:r,color:i,aggregationId:s})},renderHeader:()=>(0,u.jsx)(fTe,{forecastType:r})}),new DO.Z({width:157,fixed:!0,hasTitle:!1,key:"typeColumn",renderHeader:()=>(0,u.jsx)("div",{className:"BTiJcayv27Uqp01EadqtWQ==",children:QNe}),renderCell:e=>{var{aggregationId:t,from:r,to:s}=e;return(0,u.jsx)(qNe,{fromPeriodForecast:r,toPeriodForecast:s,aggregationId:t,idLastPeriod:i})}}),new DO.Z({width:t,autoSize:!0,key:"data",hasTitle:!1,label:2,renderHeader:()=>(0,u.jsx)(HNe,{}),renderCell:e=>{var{aggregationId:t,data:{callsForecast:r,callsActual:s,seasonForecast:n,seasonActual:a,trendForecast:o},from:l,to:c}=e;return(0,u.jsx)(YNe,{callsForecast:r,callsActual:s,seasonForecast:n,seasonActual:a,trendForecast:o,aggregationId:t,fromPeriodForecast:l,toPeriodForecast:c,idLastPeriod:i,isDisabledZero:!0})}})]}({widthDataCalls:r+20,forecastType:ake.kV.STRATEGICAL,idLastPeriod:i});return(0,u.jsx)("div",{className:"k1lwZoQ9FJPnkwd5EgiXyw==",children:(0,u.jsx)(nke,{columns:s,data:t})})};KNe.defaultProps={data:[],widthDataCalls:0},KNe.propTypes={data:c().array,widthDataCalls:c().number};const XNe=KNe,JNe=(0,o.compose)((0,s.$j)((e=>({data:(0,jke.getDataStrategic)(e),widthDataCalls:(0,ake.vo)((0,jke.getStrategicNumberColumns)(e)),periods:(0,jke.getStrategicPeriod)(e),queueId:MCe(e)})),{getForecastsStrategic:bke.getForecastsStrategic,clearForecastCashByType:bke.clearForecastCashByType}),(0,U.Z)((e=>{var{props:t}=e,{periods:r,queueId:i}=t,s=(0,j.xb)(r),n=ake.kV.STRATEGICAL;if(s)t.clearForecastCashByType({forecastType:n});else{var a={periods:r,queueId:i,forecastType:n};t.getForecastsStrategic(a)}})))(XNe),$Ne={outerWrap:"p+GEZs-8YMiuAHyzOV+j0Q==",wrap:"_4l0+HHQJbMqzDKSuR+5+iQ==",main:"BBNWMH5o5bdGIFzIacq4eg==",itemBody:"ynlGPX1YiUxrAoPDx3-Ctw==",rightTop:"Ui50z-NZQFC5WB9tT8-q7w==",rightBottom:"uLfvntAhhNAeFbl8CtEUvA==",item:"tBrsSUNhP3pJf0KSDwDI9Q==",open:"S1EK3D9xt2mj8xWnBpD9QQ==",itemHeader:"P6ZbMh6u7N47uIeMgAATLg=="};var eRe=e=>{var{open:t,onClick:r}=e,i=t?et.$M:et.y3;return(0,u.jsx)(Ml.Z,{glyph:i,onClick:r})};eRe.defaultProps={open:!1},eRe.propTypes={open:c().bool,onClick:c().func.isRequired};const tRe=eRe;var rRe=e=>{var{children:t,onResizeRequest:r,open:i}=e;return(0,u.jsxs)("div",{className:$Ne.itemHeader,children:[(0,u.jsx)(tRe,{open:i,onClick:r}),t]})};rRe.defaultProps={open:!1},rRe.propTypes={children:c().any.isRequired,onResizeRequest:c().func.isRequired,open:c().bool};const iRe=rRe;var sRe=ai().bind($Ne),nRe=e=>{var{open:t,onResizeRequest:r,baseClass:i,header:s,Component:n}=e,a=sRe(i,"item",{open:t});return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(iRe,{open:t,onResizeRequest:r,children:s}),(0,u.jsx)("div",{className:$Ne.itemBody,children:(0,u.jsx)(n,{})})]})};nRe.propTypes={baseClass:c().string.isRequired,open:c().bool.isRequired,onResizeRequest:c().func.isRequired,header:c().any.isRequired,Component:c().func.isRequired};const aRe=nRe;var oRe=()=>null,lRe=e=>{var{mainComponent:t,rightTopComponent:r,rightBottomComponent:i,mainPanelTitle:s,rightTopPanelTitle:n,rightBottomPanelTitle:a}=e,[o,l]=(0,m.useState)(!1),[c,d]=(0,m.useState)(!1),[p,h]=(0,m.useState)(!1),f={mainOpen:o,rightTopOpen:c,rightBottomOpen:p},v=Object.values(f).some((e=>e))?520:440;return(0,u.jsx)("div",{className:$Ne.outerWrap,children:(0,u.jsxs)("div",{className:$Ne.wrap,style:{height:v},children:[(0,u.jsx)(aRe,{baseClass:"main",onResizeRequest:()=>{l(!o),d(!1),h(!1)},open:o,header:s,Component:t}),(0,u.jsx)(aRe,{baseClass:"rightTop",onResizeRequest:()=>{l(!1),d(!c),h(!1)},open:c,header:n,Component:r}),(0,u.jsx)(aRe,{baseClass:"rightBottom",onResizeRequest:()=>{l(!1),d(!1),h(!p)},open:p,header:a,Component:i})]})})};lRe.defaultProps={mainComponent:oRe,rightTopComponent:oRe,rightBottomComponent:oRe},lRe.propTypes={mainComponent:c().func,rightTopComponent:c().func,rightBottomComponent:c().func,mainPanelTitle:c().node.isRequired,rightTopPanelTitle:c().node.isRequired,rightBottomPanelTitle:c().node.isRequired};const cRe=lRe;function dRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function uRe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dRe(Object(r),!0).forEach((function(t){pRe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dRe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pRe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const hRe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>FCe(e,{intl:t})));return(0,u.jsx)(BCe,uRe(uRe({},e),{},{data:r,options:{maintainAspectRatio:!1,plugins:{datalabels:{display:!1}}}}))};class fRe extends m.PureComponent{render(){var{label:e,color:t}=this.props;return(0,u.jsxs)("div",{className:"_1Tp3hqc3y5fzaUIEjHxzkQ==",children:[(0,u.jsx)("div",{className:"wryPJQhWGLRGrSLRU9KVag==",style:{backgroundColor:t}}),e]})}}fRe.defaultProps={color:"#77828c"},fRe.propTypes={label:c().node.isRequired,color:c().string};const mRe=fRe;var vRe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.trend",defaultMessage:[{type:0,value:"Тренд"}]}),yRe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.actual",defaultMessage:[{type:0,value:"Факт"}]});const gRe=()=>(0,u.jsxs)("div",{className:"bJWZBKReMLfU77hUB8abSw==",children:[vRe,(0,u.jsxs)("div",{className:"ud7nATZqufrowiwoQ3CHAg==",children:[(0,u.jsx)(mRe,{label:yRe}),(0,u.jsx)(mRe,{label:vRe,color:ACe})]})]});var bRe={maintainAspectRatio:!1,animation:!1,legend:{display:!1},plugins:{datalabels:{display:!1}}},jRe=(r(26679),e=>{var{width:t,height:r,data:i,options:s}=e;return(0,u.jsx)(Mo.x1,{width:t,height:r,data:i,options:s,datasetKeyProvider:X.Vj})});jRe.defaultProps={data:{datasets:[]}},jRe.propTypes={data:c().object,width:c().number.isRequired,height:c().number.isRequired,options:c().object.isRequired};const xRe=jRe;function SRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ORe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SRe(Object(r),!0).forEach((function(t){PRe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SRe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PRe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const wRe=e=>{var t=(0,s.v9)(HCe);return(0,u.jsx)(xRe,ORe(ORe({},e),{},{data:t,options:bRe}))},CRe=()=>{var e=(0,u.jsx)(J.Z,{id:"ForecastGenerate.ForecastAndFactOfCalls",defaultMessage:[{type:0,value:"Прогноз / факт звонков (шт.)"}]}),t=(0,u.jsxs)("span",{children:[(0,u.jsx)(J.Z,{id:"ForecastGenerate.Seasonality.Actual",defaultMessage:[{type:0,value:"Сезонность. Факт"}]})," (%)"]}),r=(0,u.jsx)(gRe,{});return(0,u.jsxs)("div",{className:"pMWQf65XAGZWRzfQOCpNNA==",children:[(0,u.jsx)(cRe,{mainPanelTitle:e,mainComponent:hRe,rightTopPanelTitle:t,rightTopComponent:VCe,rightBottomPanelTitle:r,rightBottomComponent:wRe}),(0,u.jsx)(JNe,{})]})};var kRe=r(56237),TRe=(0,Q.createSelector)(ZCe,DCe.e,((e,t)=>{var r=e.map(((e,r)=>(0,ECe.tQ)({color:e.color,name:r},e.data.callsForecast,t))),i=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},e.data.callsActual,t)));return{labels:(e=>{if((0,j.xb)(e))return[];var{callsForecast:r}=e[0].data;return(0,ake.$9)(r,t)})(e),datasets:[...r,...i]}})),NRe=(0,Q.createSelector)(ZCe,DCe.e,((e,t)=>{var r=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},(0,X.GH)(e.data.seasonActual),t)));return{labels:(e=>{if((0,j.xb)(e))return[];var{seasonActual:r}=e[0].data;return(0,ake.$9)(r,t)})(e),datasets:[...r]}})),RRe=(0,Q.createSelector)(ZCe,DCe.e,((e,t)=>{var r,i=e.map((e=>e.data.callsForecastSum)),s=e.map((e=>e.data.callsActualSum)),n=e.map((e=>e.color)),a=e.map((e=>(0,E8.Zn)(e.color,.3)));return{labels:(r=e,(0,j.xb)(r)?[]:r.map((e=>{var{from:t,to:r}=e;return"".concat((0,ft.LT)(t)," ... ").concat((0,ft.LT)(r))}))),datasets:[{label:t(kRe.YQ),backgroundColor:n,data:i},{label:t(kRe.CV),backgroundColor:a,data:s}]}})),ERe=e=>{var{width:t,height:r,data:i,options:s}=e;return(0,u.jsx)(Mo.$Q,{width:t,height:r,data:i,datasetKeyProvider:X.Vj,options:s})};ERe.defaultProps={data:{}},ERe.propTypes={data:c().object,width:c().number.isRequired,height:c().number.isRequired,options:c().object.isRequired};const DRe=ERe;function ARe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function MRe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ARe(Object(r),!0).forEach((function(t){IRe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ARe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IRe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ZRe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>RRe(e,{intl:t}))),i=Math.max(...r.datasets[0].data,...r.datasets[1].data),n={maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMax:Math.round(.2*i)+i||void 0}}]},legend:{display:!1},plugins:{datalabels:{display:"auto",color:"black",anchor:"end",align:"end",offset:"-5",font:{weight:"bold"}}}};return(0,u.jsx)(DRe,MRe(MRe({},e),{},{data:r,options:n}))};class qRe extends m.Component{render(){var{data:e}=this.props,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forecastType:t}=e;return[new DO.Z({cellClassName:zCe,width:160,key:"from",hasTitle:!1,fixed:!0,renderCell:e=>{var{from:t,to:r,color:i,aggregationId:s}=e;return(0,u.jsx)(xke,{from:t,to:r,color:i,aggregationId:s})},renderHeader:()=>(0,u.jsx)(fTe,{forecastType:t})}),new DO.Z({width:500,autoSize:!0,key:"data",hasTitle:!1,label:2,renderHeader:()=>(0,u.jsx)(xNe,{}),renderCell:e=>{var{aggregationId:t,data:{callsForecast:r,callsActual:i,seasonForecast:s,seasonActual:n,callsForecastSum:a,callsActualSum:o}}=e;return(0,u.jsx)(CNe,{callsForecast:r,callsActual:i,seasonForecast:s,seasonActual:n,callsForecastSum:a,callsActualSum:o,aggregationId:t,isDisabledZero:!0})}})]}({forecastType:ake.kV.TACTICAL});return(0,u.jsx)("div",{className:"epDMVXHb-YjCrMTypphPxA==",children:(0,u.jsx)(nke,{columns:t,data:e})})}}qRe.defaultProps={data:[]},qRe.propTypes={data:c().array};const FRe=qRe,LRe=(0,o.compose)((0,s.$j)((e=>({data:(0,jke.getDataTactical)(e),periods:(0,jke.getTacticalPeriods)(e),queueId:MCe(e)})),{getForecastsTactical:bke.getForecastsTactical,clearForecastCashByType:bke.clearForecastCashByType}),(0,U.Z)((e=>{var{props:t}=e,{periods:r,queueId:i}=t,s=(0,j.xb)(r),n=ake.kV.TACTICAL;if(s)t.clearForecastCashByType({forecastType:n});else{var a={periods:r,queueId:i,forecastType:n};t.getForecastsTactical(a)}})))(FRe);function HRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HRe(Object(r),!0).forEach((function(t){BRe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HRe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function BRe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const GRe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>TRe(e,{intl:t})));return(0,u.jsx)(BCe,_Re(_Re({},e),{},{data:r,options:{maintainAspectRatio:!1,plugins:{datalabels:{display:!1}}}}))};function WRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function URe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WRe(Object(r),!0).forEach((function(t){VRe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WRe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VRe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zRe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>NRe(e,{intl:t})));return(0,u.jsx)(BCe,URe(URe({},e),{},{data:r,options:{maintainAspectRatio:!1,plugins:{datalabels:{display:!1}}}}))},YRe=()=>{var e=(0,u.jsx)(J.Z,{id:"ForecastGenerate.ForecastAndFactOfCalls",defaultMessage:[{type:0,value:"Прогноз / факт звонков (шт.)"}]}),t=(0,u.jsxs)("span",{children:[(0,u.jsx)(J.Z,{id:"ForecastGenerate.Seasonality.Actual",defaultMessage:[{type:0,value:"Сезонность. Факт"}]})," (%)"]}),r=(0,u.jsx)(J.Z,{id:"ForecastGenerate.SumByWeeks"});return(0,u.jsxs)("div",{className:"IZeD3hxH2gCgw0W1bYnUMA==",children:[(0,u.jsx)(cRe,{mainPanelTitle:e,mainComponent:GRe,rightTopPanelTitle:t,rightTopComponent:zRe,rightBottomPanelTitle:r,rightBottomComponent:ZRe}),(0,u.jsx)(LRe,{})]})};var QRe=(0,Q.createSelector)(qCe,DCe.U,((e,t)=>{var r=e.map(((e,r)=>(0,ECe.tQ)({color:e.color,name:r},e.data.callsForecast,t.formatMessage))),i=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},e.data.callsActual,t.formatMessage)));return{labels:BTe,datasets:[...r,...i]}})),KRe=(0,Q.createSelector)(qCe,DCe.U,((e,t)=>{var r=e.map(((e,r)=>(0,ECe.du)({color:e.color,name:r},(0,X.GH)(e.data.seasonActual),t.formatMessage)));return{labels:BTe,datasets:r}})),XRe=(0,Q.createSelector)(qCe,DCe.U,((e,t)=>{var r=e.map((e=>{var{from:t}=e;return(0,ft.LT)(t)})),i=e.map((e=>e.data.callsForecastSum)),s=e.map((e=>e.data.callsActualSum)),n=e.map((e=>e.color)),a=e.map((e=>(0,E8.Zn)(e.color,.3)));return{labels:r,datasets:[{label:t.formatMessage(kRe.YQ),backgroundColor:n,data:i},{label:t.formatMessage(kRe.CV),backgroundColor:a,data:s}]}}));function JRe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JRe(Object(r),!0).forEach((function(t){eEe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JRe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eEe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tEe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>XRe(e,{intl:t}))),i=Math.max(...r.datasets[0].data,...r.datasets[1].data),n={maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMax:Math.round(.2*i)+i||void 0}}]},legend:{display:!1},plugins:{datalabels:{display:"auto",color:"black",anchor:"end",align:"end",offset:"-5",font:{weight:"bold"}}}};return(0,u.jsx)(DRe,$Re($Re({},e),{},{data:r,options:n}))};var rEe=e=>{var{data:t}=e,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forecastType:t,aggregationType:r}=e;return[new DO.Z({cellClassName:zCe,width:160,key:"from",hasTitle:!1,fixed:!0,renderCell:e=>{var{from:t,to:r,color:i,aggregationId:s}=e;return(0,u.jsx)(Ske,{from:t,to:r,color:i,aggregationId:s})},renderHeader:()=>(0,u.jsx)(fTe,{forecastType:t})}),new DO.Z({width:160,hasTitle:!1,fixed:!0,key:"data",renderHeader:()=>(0,u.jsx)(ETe,{aggregationType:r,forecastType:t}),renderCell:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{from:i,aggregationId:s}=e;return(0,u.jsx)(MTe,{day:i,aggregationId:s,aggregationType:r,forecastType:t})}}),new DO.Z({width:170,key:"typeForecast",fixed:!0,hasTitle:!1,renderHeader:()=>(0,u.jsx)(qTe,{}),renderCell:()=>(0,u.jsx)(HTe,{})}),new DO.Z({width:6967,autoSize:!0,key:"data",hasTitle:!1,renderHeader:()=>(0,u.jsx)(UTe,{}),renderCell:e=>{var{aggregationId:t,data:{callsForecast:r,callsActual:i,seasonForecast:s,seasonActual:n,callsForecastSum:a,callsActualSum:o}}=e;return(0,u.jsx)(dNe,{callsForecast:r,callsActual:i,seasonForecast:s,seasonActual:n,callsForecastSum:a,callsActualSum:o,aggregationId:t})}})]}({forecastType:ake.kV.OPERATIONAL,aggregationType:ake.TV.FIFTEEN_MINUTES});return(0,u.jsx)("div",{className:"nE2AAPiyvQ82uSf+7s1K9g==",children:(0,u.jsx)(nke,{columns:r,data:t})})};rEe.defaultProps={data:[]},rEe.propTypes={data:c().array};const iEe=rEe,sEe=(0,o.compose)((0,s.$j)((e=>({data:(0,jke.getDataOperational)(e),periods:(0,jke.getOperationalPeriods)(e),queueId:MCe(e)})),{getForecastsOperational:bke.getForecastsOperational,clearForecastCashByType:bke.clearForecastCashByType}),(0,U.Z)((e=>{var{props:t}=e,{periods:r,queueId:i}=t,s=(0,j.xb)(r),n=ake.kV.OPERATIONAL;if(s)t.clearForecastCashByType({forecastType:n});else{var a={periods:GTe(r),queueId:i,forecastType:n,aggregationType:ake.TV.FIFTEEN_MINUTES};t.getForecastsOperational(a)}})))(iEe);function nEe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function aEe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nEe(Object(r),!0).forEach((function(t){oEe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nEe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oEe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lEe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>QRe(e,{intl:t})));return(0,u.jsx)(BCe,aEe(aEe({},e),{},{data:r,options:{maintainAspectRatio:!1,plugins:{datalabels:{display:!1}}}}))};function cEe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function dEe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cEe(Object(r),!0).forEach((function(t){uEe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cEe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uEe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pEe=e=>{var t=(0,er.Z)(),r=(0,s.v9)((e=>KRe(e,{intl:t})));return(0,u.jsx)(BCe,dEe(dEe({},e),{},{data:r,options:{maintainAspectRatio:!1,plugins:{datalabels:{display:!1}}}}))};var hEe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.ForecastAndFactOfCalls",defaultMessage:[{type:0,value:"Прогноз / факт звонков (шт.)"}]}),fEe=(0,u.jsxs)("span",{children:[(0,u.jsx)(J.Z,{id:"ForecastGenerate.Seasonality.Actual",defaultMessage:[{type:0,value:"Сезонность. Факт"}]})," (%)"]}),mEe=(0,u.jsx)(J.Z,{id:"ForecastGenerate.SumByDay",defaultMessage:[{type:0,value:"Сумма по дню"}]});const vEe=()=>(0,u.jsxs)("div",{className:"_7IWK44BGesYNyEyRLxvbPA==",children:[(0,u.jsx)(cRe,{mainPanelTitle:hEe,mainComponent:lEe,rightTopPanelTitle:fEe,rightTopComponent:pEe,rightBottomPanelTitle:mEe,rightBottomComponent:tEe}),(0,u.jsx)(sEe,{})]}),yEe={toolbar:"wPT3DCnatuwnV7-U-V0g9g==",select:"_3TFV86Z98R7EzZJo8Gom-A==",queue:"girG-1+MU5W7usm8GXmqig==",menuContainer:"FUBxjB2O0ASqkH-byP6yCw==",title:"_7Bo7l9clphUcx1-6DKvW6w==",titleMenu:"wwSSVZoBkacnV4ladv-ERg==",menu:"-Jv5S2qYfV+3O50KqxEHuA==",link:"_4HizGI2-aY3lQScRlKwqmQ==",saveButton:"UnpPtOKIyH+aEt6I88rpsw=="};var gEe=(0,u.jsx)(J.Z,{id:"Menu.forecast.queue",defaultMessage:[{type:0,value:"Очередь"}]}),bEe=e=>{var{setSelectedQueue:t,getForecastsStrategic:r,getForecastsTactical:i,getForecastsOperational:s,periodsStrategic:n,periodsTactical:a,periodsOperational:o,queues:l,value:c}=e,d=(0,y.TH)(),p=function(e){var t=[];return e.forEach((e=>{var{name:r,id:i}=e,s={name:r,id:i};t.push(s)})),t}(l).sort((0,X.hM)());return(0,u.jsxs)("div",{className:yEe.queue,children:[(0,u.jsx)("span",{className:yEe.title,children:gEe}),(0,u.jsx)(Il.Z,{onChange:e=>{var l=(0,ake.vq)(d.pathname),c=(0,ake.$A)(d.pathname),u=(0,ake.fx)(d.pathname),p=!(0,j.xb)(n),h=!(0,j.xb)(a),f=!(0,j.xb)(o);if(l&&p){var m=ake.kV.STRATEGICAL;r({forecastType:m,queueId:e,periods:n})}else if(c&&h){var v=ake.kV.TACTICAL;i({forecastType:v,queueId:e,periods:a})}else if(u&&f){var y={forecastType:ake.kV.OPERATIONAL,queueId:e,aggregationType:ake.TV.FIFTEEN_MINUTES,periods:o};s(y)}t(e)},dataSource:p,value:c})]})};bEe.defaultProps={queues:[],value:""},bEe.propTypes={queues:c().array,value:c().string,setSelectedQueue:c().func.isRequired,getForecastsStrategic:c().func.isRequired,getForecastsTactical:c().func.isRequired,getForecastsOperational:c().func.isRequired,periodsStrategic:c().array.isRequired,periodsOperational:c().array.isRequired,periodsTactical:c().array.isRequired};const jEe=bEe,xEe=(0,o.compose)((0,s.$j)((e=>({currentGroupId:(0,Y.Wx)(e),queues:(0,TZ.Sh)(e),value:MCe(e),periodsStrategic:(0,jke.getStrategicPeriod)(e),periodsTactical:(0,jke.getTacticalPeriods)(e),periodsOperational:GTe((0,jke.getOperationalPeriods)(e))})),(e=>({getQueues:t=>e((0,NZ.getQueues)(t)),setSelectedQueue:t=>e((0,bke.setSelectedQueue)(t)),getForecastsStrategic:t=>e((0,bke.getForecastsStrategic)(t)),getForecastsTactical:t=>e((0,bke.getForecastsTactical)(t)),getForecastsOperational:t=>e((0,bke.getForecastsOperational)(t))}))),(0,U.Z)((e=>{var{props:t}=e;t.getQueues({id:t.currentGroupId})})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;t.currentGroupId!==r.currentGroupId&&r.getQueues({id:t.currentGroupId})})))(jEe);function SEe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class OEe extends m.Component{constructor(){super(...arguments),SEe(this,"state",{open:!1}),SEe(this,"handleTrigger",(e=>{e.stopPropagation(),this.toggleOpen()})),SEe(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))})),SEe(this,"handleYes",(()=>{this.props.onYes(),this.toggleOpen()})),SEe(this,"handleNo",(()=>{this.props.onNo(),this.toggleOpen()}))}render(){var{children:e}=this.props;return(0,u.jsxs)("div",{onClick:this.handleTrigger,children:[e,(0,u.jsxs)(rn.Z,{open:this.state.open,maxWidth:!1,classes:{container:"JIpkN6+ikzyCFYkITPEobQ==",paper:"GvEY9kuyx3vArbrIISDxkQ=="},children:[(0,u.jsx)(J.Z,{id:"ForecastGenerate.UnsavedConfirmMessage",defaultMessage:[{type:0,value:"Есть несохраненные данные. Сохранить перед переходом?"}]}),(0,u.jsxs)("div",{className:"iMGqYLJkCWVv11jgdNgICg==",children:[(0,u.jsx)(Ge.Z,{caption:(0,u.jsx)(J.Z,{id:"Common.Yes",defaultMessage:[{type:0,value:"Да"}]}),onClick:this.handleYes}),(0,u.jsx)(Ge.Z,{type:"stripped",caption:(0,u.jsx)(J.Z,{id:"Common.No",defaultMessage:[{type:0,value:"Нет"}]}),onClick:this.handleNo}),(0,u.jsx)(Ge.Z,{type:"transparent",caption:(0,u.jsx)(J.Z,{id:"Common.Cancel",defaultMessage:[{type:0,value:"Отмена"}]}),onClick:this.handleTrigger})]})]})]})}}OEe.defaultProps={onYes:O.wA,onNo:O.wA},OEe.propTypes={children:c().node.isRequired,onYes:c().func,onNo:c().func};const PEe=OEe;function wEe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class CEe extends m.Component{constructor(){super(...arguments),wEe(this,"preventDefault",(e=>{e.preventDefault()})),wEe(this,"followTheLink",(()=>{var{history:e,to:t}=this.props;e.push(t)})),wEe(this,"handleConfirmSubmit",(()=>{var{saveForecast:e,location:{pathname:t}}=this.props;e((0,ake.Z9)(t),this.followTheLink)})),wEe(this,"renderLink",(e=>{var{to:t,children:r,isActive:i}=this.props;return(0,u.jsx)(a.OL,{isActive:i,to:t,className:"lk",onClick:e?this.preventDefault:O.wA,children:r})}))}render(){var{isForecastChanged:e}=this.props;return(0,u.jsxs)("div",{children:[e&&(0,u.jsx)(PEe,{onYes:this.handleConfirmSubmit,onNo:this.followTheLink,popup:!0,children:this.renderLink(!0)}),!e&&this.renderLink(!1)]})}}CEe.propTypes={to:c().string.isRequired,children:c().node.isRequired,saveForecast:c().func.isRequired,history:c().object.isRequired,isActive:c().bool.isRequired,location:c().object.isRequired,isForecastChanged:c().bool.isRequired};const kEe=CEe,TEe=(0,o.compose)(y.EN,(0,s.$j)((e=>({isForecastChanged:(0,jke.getChangingStatus)(e)})),{saveForecast:bke.saveForecast}))(kEe);var NEe=(0,u.jsx)(J.Z,{id:"Menu.forecast.menu.strategy",defaultMessage:[{type:0,value:"Стратегический"}]}),REe=(0,u.jsx)(J.Z,{id:"Menu.forecast.menu.tactic",defaultMessage:[{type:0,value:"Тактический"}]}),EEe=(0,u.jsx)(J.Z,{id:"Menu.forecast.menu.operational",defaultMessage:[{type:0,value:"Оперативный"}]}),DEe="strategic",AEe="tactical",MEe="operational",IEe=(e,t)=>"".concat(e,"/").concat(t),ZEe=e=>{var{path:t}=e,r=(e=>[{id:DEe,link:IEe(e,DEe),content:(0,u.jsx)("div",{className:yEe.link,children:NEe})},{id:AEe,link:IEe(e,AEe),content:(0,u.jsx)("div",{className:yEe.link,children:REe})},{id:MEe,link:IEe(e,MEe),content:(0,u.jsx)("div",{className:yEe.link,children:EEe})}])(t);return(0,u.jsx)("div",{className:yEe.menuContainer,children:(0,u.jsx)("div",{className:yEe.menu,children:r.map((e=>(0,u.jsx)(TEe,{to:e.link,activeClassName:"active",className:"lk",isActive:(t,r)=>je(r,e.link),children:e.content},e.id)))})})};ZEe.propTypes={path:c().string.isRequired};const qEe=ZEe;var FEe=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]});class LEe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSave",(()=>{var{saveForecast:e,location:{pathname:t}}=this.props;e((0,ake.Z9)(t))}))}render(){var{isForecastChanged:e}=this.props;return(0,u.jsx)("div",{className:"JDq0FVzyCeIdIMoxn3jPfg==",children:(0,u.jsxs)(oi.Z,{onClick:this.handleSave,disabled:!e,children:[(0,u.jsx)(et.ZP,{glyph:et.N}),e&&(0,u.jsx)("span",{className:"pKY9P-NsDlSLVQTrPPO64g==",children:FEe})]})})}}LEe.propTypes={isForecastChanged:c().bool.isRequired,saveForecast:c().func.isRequired,location:c().object.isRequired};const HEe=LEe,_Ee=(0,o.compose)(y.EN,(0,s.$j)((e=>({isForecastChanged:(0,jke.getChangingStatus)(e)})),{saveForecast:bke.saveForecast}))(HEe);var BEe=ai().bind(yEe)("container","toolbar");class GEe extends m.Component{render(){return(0,u.jsxs)("div",{className:BEe,children:[(0,u.jsx)(qEe,{path:this.props.path}),(0,u.jsx)("span",{className:yEe.saveButton,children:(0,u.jsx)(_Ee,{})}),(0,u.jsx)(xEe,{})]})}}GEe.defaultProps={path:""},GEe.propTypes={path:c().string};const WEe=GEe;var UEe=e=>{var{path:t}=e,r=(0,s.I0)();return(0,m.useEffect)((()=>(r((0,NZ.setForecastChanged)(!1)),r((0,bke.setForecastsChangingStatus)(!1)))),[r]),(0,u.jsxs)("div",{children:[(0,u.jsx)(WEe,{path:t}),(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"".concat(t,"/strategic"),children:(0,u.jsx)(CRe,{})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/tactical"),children:(0,u.jsx)(YRe,{})}),(0,u.jsx)(y.AW,{path:"".concat(t,"/operational"),children:(0,u.jsx)(vEe,{})})]})]})};UEe.propTypes={path:c().string.isRequired};const VEe=UEe;var zEe=r(35382),YEe=r(1216);var QEe=e=>{var{children:t}=e;return(0,u.jsx)("div",{className:"u0jZPqmMM+N57p67Wq-5Xg==",children:t})};QEe.defaultProps={children:null},QEe.propTypes={children:c().element};const KEe=QEe;var XEe=e=>{var{children:t,scrollLeft:r}=e,i={left:r};return(0,u.jsx)("div",{className:"VdA+LMb19pVPYFC1GC1MtA==",style:i,children:(0,u.jsx)("div",{className:"x86p7vnPSY6EdA-KwKLeYg==",children:t})})};XEe.propTypes={scrollLeft:c().number.isRequired,children:c().oneOfType([c().array,c().node]).isRequired};const JEe=XEe;var $Ee=e=>{switch(e){case rs.mo:return 30;case rs.x4:return 100;case rs.Ho:case rs.kr:return 30;case rs.ps:case rs.vc:case YEe.Sp:return 100;default:throw Error("Unknown aggregation type '".concat(e,"'"))}},eDe=(0,u.jsx)(J.Z,{id:"Forecast.needForStaffFte",defaultMessage:[{type:0,value:"Потребность в сотрудниках (FTE)"}]}),tDe={id:"Forecast.abs",defaultMessage:"Абсентеизм"},rDe=e=>null==e?void 0:e.map((e=>null===e?e:parseFloat(null==e?void 0:e.toFixed(1)))),iDe=e=>{var{tableName:t,selectedTableName:r,activate:i}=e,s=t===r,n=s?et.bA:et.Wi;return(0,u.jsx)(Ae.Z,{onClick:()=>{s||i(t)},active:s,children:(0,u.jsx)(et.ZP,{glyph:n})})};iDe.propTypes={tableName:c().string.isRequired,selectedTableName:c().string.isRequired,activate:c().func.isRequired};const sDe=iDe;var nDe=(0,o.compose)((0,s.$j)((e=>({selectedTableName:(0,TZ.xS)(e)})),(e=>({activate:t=>e((0,NZ.setSelectedTableName)(t))}))))(sDe);nDe.propTypes={tableName:c().string.isRequired};const aDe=nDe;var oDe=e=>{var{children:t,classNames:r,hidden:i}=e;return(0,u.jsx)("div",{hidden:i,className:me()("Kikc-bJ4BsicThT8r+5H1g==",r),children:t})};oDe.defaultProps={classNames:"",hidden:!1},oDe.propTypes={children:c().node.isRequired,classNames:c().string,hidden:c().bool};const lDe=oDe,cDe="cOiLRq+VCU2I2VSzScUm9A==";var dDe=e=>{var{children:t,tableContainerClassName:r}=e;return(0,u.jsx)("table",{className:me()("twKnzzymr8Cz-Widuw-Giw==",r),children:(0,u.jsx)("tbody",{children:t})})};dDe.defaultProps={tableContainerClassName:""},dDe.propTypes={children:c().node.isRequired,tableContainerClassName:c().string};const uDe=dDe;var pDe=e=>{var{data:t,cellRenderer:r,cellWidth:i,cellClassName:s,shouldHighlightCell:n,shortString:a,isWideAggregation:o,rowClassNames:l}=e;if((0,j.xb)(t))return null;var c=s||"CLzM2H0-Vigr9m-LnzZEzw==",d={width:i,minWidth:i};return(0,u.jsx)("tr",{className:l,children:t.map(((e,t)=>{var i=me()({"BpnUqGzGUeSP2ByEfJJxkQ==":n(e,t),"xEocQtNUO8q362EZFtJYqA==":o,"_7xZZqmnHmFr3x81ifLT6Cw==":!o&&a});return(0,u.jsx)("td",{title:e,className:c,style:d,children:(0,u.jsx)("div",{className:"E5tWhs02CnvpS7BXSe0wLA==",children:(0,u.jsx)("span",{className:i,children:r(e,t)})})},null==t?void 0:t.toString())}))})};pDe.defaultProps={data:[],cellRenderer:e=>e,cellWidth:30,cellClassName:"",rowClassNames:"",isWideAggregation:!1,shortString:!1,shouldHighlightCell:()=>!1},pDe.propTypes={data:c().arrayOf(c().number),cellRenderer:c().func,cellWidth:c().number,cellClassName:c().string,rowClassNames:c().string,shouldHighlightCell:c().func,isWideAggregation:c().bool,shortString:c().bool};const hDe=pDe;var fDe=e=>{var{workUnitsActual:t,aht:r,queueCapacityActual:i,expiredActual:s,processedActual:n,computeType:a,cellWidth:o,isWideAggregation:l}=e,c=a===Hte.v.BACKLOG;return(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:t,cellWidth:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:r,cellWidth:o}),c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:i,cellWidth:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:s,cellWidth:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:n,cellWidth:o})]})]})};fDe.defaultProps={workUnitsActual:[],aht:[],queueCapacityActual:[],processedActual:[],expiredActual:[],computeType:"",isWideAggregation:!1},fDe.propTypes={processedActual:c().array,expiredActual:c().array,queueCapacityActual:c().array,workUnitsActual:c().array,aht:c().array,cellWidth:c().number.isRequired,computeType:c().string,isWideAggregation:c().bool};const mDe=fDe;var vDe=r(75055),yDe=(0,u.jsx)(et.ZP,{glyph:et.x1}),gDe=e=>{var{headerLabels:t,name:r,data:i,scrollLeft:n,aggregation:a}=e,o=$Ee(a),{ahtActual:l,workUnitsActual:c,expiredActual:d,processedActual:p,queueCapacityActual:h,computeType:f,description:v,isWideAggregation:y}=i,g=(0,s.I0)(),b=f===Hte.v.BACKLOG,j={left:n};return(0,m.useEffect)((()=>(g((0,NZ.setSelectedTableName)(vDe.dP)),()=>{g((0,NZ.setSelectedTableName)(vDe.ss))})),[]),(0,u.jsxs)("div",{className:"Nycu-Jd2tnQ83HaguujABg==",children:[(0,u.jsxs)(lDe,{classNames:"_7esNFCAWLNmjotruJ13DSg==",children:[(0,u.jsxs)("div",{className:"_0o+euGaJko5VXVM2jWsJrA==",style:j,children:[(0,u.jsx)(KEe,{children:yDe}),(0,u.jsx)("span",{className:"mblS2j6TVmbeJ9luUZrKwQ==",title:r,children:r})]}),(0,u.jsx)(uDe,{tableContainerClassName:"TbN4I3+WQCpahAbVRNOwcQ==",children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:y,data:t,cellWidth:o})})]}),(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:n,children:[(0,u.jsxs)("div",{className:cDe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"calls"})}),(0,u.jsx)(J.Z,{id:"Forecast.Calls",defaultMessage:[{type:0,value:"Количество"}],values:{value:v}})]}),(0,u.jsxs)("div",{className:cDe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"aht"})}),(0,u.jsx)(J.Z,{id:"Forecast.CallProcessingTimeAHT",defaultMessage:[{type:0,value:"Среднее время обработки (AHT)"}]})]}),b&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:cDe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"queueCapacityActual"})}),(0,u.jsx)(J.Z,{id:"Forecast.queueCapacityActual",defaultMessage:[{type:0,value:"Размер очереди"}]})]}),(0,u.jsxs)("div",{className:cDe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"expiredActual"})}),(0,u.jsx)(J.Z,{id:"Forecast.expiredActual",defaultMessage:[{type:0,value:"Просрочено"}]})]}),(0,u.jsxs)("div",{className:cDe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"processedActual"})}),(0,u.jsx)(J.Z,{id:"Forecast.processedActual",defaultMessage:[{type:0,value:"Обработано"}]})]})]})]}),(0,u.jsx)(mDe,{isWideAggregation:y,aht:l,workUnitsActual:c,expiredActual:d,processedActual:p,queueCapacityActual:h,cellWidth:o,computeType:f})]})]})};gDe.defaultProps={data:{ahtActual:[],workUnitsActual:[],expiredActual:[],processedActual:[],queueCapacityActual:[],description:"",computeType:"",isWideAggregation:!1}},gDe.propTypes={headerLabels:c().array.isRequired,name:c().string.isRequired,data:c().shape({workUnitsActual:c().arrayOf(c().number),ahtActual:c().arrayOf(c().number),expiredActual:c().arrayOf(c().number),processedActual:c().arrayOf(c().number),queueCapacityActual:c().arrayOf(c().number),computeType:c().string,isWideAggregation:c().bool,description:c().string}),scrollLeft:c().number.isRequired,aggregation:c().string.isRequired};const bDe=gDe;function jDe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xDe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const SDe=function(e){return class extends m.Component{render(){return(0,u.jsx)(bs.qj,{children:t=>{var{width:r,height:i}=t;return(0,u.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jDe(Object(r),!0).forEach((function(t){xDe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jDe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:r,height:i},this.props))}})}}};var ODe=e=>{var{onScroll:t,children:r,width:i,height:s,wrapperClassName:n}=e;return(0,u.jsx)("div",{className:me()(["GfRx3TUshrTZ7pTBTSfgXQ==",n]),onScroll:e=>{t({scrollLeft:e.target.scrollLeft,scrollTop:e.target.scrollTop})},style:{width:i,height:s},children:r})};ODe.defaultProps={onScroll:null,wrapperClassName:""},ODe.propTypes={onScroll:c().func,children:c().any.isRequired,width:c().number.isRequired,height:c().number.isRequired,wrapperClassName:c().string};const PDe=SDe(ODe);var wDe=e=>{var{children:t,wrapperClassName:r}=e;return(0,u.jsx)(bs.Ew,{children:e=>{var{scrollLeft:i,scrollTop:s,onScroll:n}=e;return(0,u.jsx)(PDe,{onScroll:n,wrapperClassName:r,children:t({scrollLeft:i,scrollTop:s})})}})};wDe.defaultProps={wrapperClassName:""},wDe.propTypes={children:c().func.isRequired,wrapperClassName:c().string};const CDe=wDe;function kDe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function TDe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const NDe=function(e){return class extends m.Component{render(){return(0,u.jsx)(CDe,{wrapperClassName:"IRpU0umYQUtshswDGWrGmw==",children:t=>{var{scrollLeft:r,scrollTop:i}=t;return(0,u.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kDe(Object(r),!0).forEach((function(t){TDe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kDe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({scrollLeft:r,scrollTop:i},this.props))}})}}},RDe=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({headerLabels:(0,TZ.yd)(e,t),name:(0,TZ.Iv)(e),data:(0,TZ.lB)(e),aggregation:(0,TZ.B$)(e)}))),NDe)(bDe);r(92597);var EDe=e=>{var{editable:t,onDragStart:r,onDrag:i,onDragEnd:s}=e;return{maintainAspectRatio:!1,legend:{display:!1},intersect:!1,plugins:{datalabels:{display:!1}},dragData:t,dragDataRound:0,onDragStart:r,onDrag:i,onDragEnd:s}},DDe=e=>{var{selectTableName:t,editable:r,onDragStart:i,onDrag:s,onDragEnd:n,title:a,maxTicks:o,intl:l,currentItem:c,typeEntities:d}=e;return{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},intersect:!1,plugins:{datalabels:{display:!1}},tooltips:{callbacks:{label:(0,ECe.id)({selectTableName:t,intl:l,currentItem:c,typeEntities:d})}},scales:{yAxes:[{ticks:{display:!0,max:0===o?void 0:Math.floor(1.5*o),beginAtZero:!0,callback:(e,t)=>0===t?" ":e}}]},dragData:r,dragDataRound:0,title:{display:!!a,text:a,fontFamily:"Roboto",fontSize:14,position:"top",fontColor:Qi.V$,fontStyle:"normal"},onDragStart:i,onDrag:s,onDragEnd:n}},ADe=e=>{var{label:t,borderDash:r,borderColor:i}=e;return t+i+(r?"-dashed":"")},MDe=e=>{var{data:t}=e;return(0,u.jsx)(Mo.x1,{data:t,options:EDe({}),datasetKeyProvider:X.Vj})};MDe.propTypes={data:c().object.isRequired};const IDe=MDe;class ZDe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleDragEnd",((e,t,r,i)=>{var{onChange:s}=this.props;s({x:r,y:i})}))}render(){var{data:e,editable:t,formatMessage:r,selectTableName:i,intl:s,currentItem:n,typeEntities:a}=this.props,o=e.datasets.map((e=>(0,j.xb)(e.data)?0:Math.max(...e.data)));return(0,u.jsx)(Mo.x1,{data:e,options:DDe({typeEntities:a,currentItem:n,intl:s,selectTableName:i,editable:t,onDragEnd:this.handleDragEnd,formatMessage:r,maxTicks:Math.max(...o)}),datasetKeyProvider:ADe})}}ZDe.defaultProps={selectTableName:"",typeEntities:"",currentItem:{}},ZDe.propTypes={currentItem:c().shape({id:c().string,name:c().string,type:c().string}),data:c().object.isRequired,intl:P.gm.isRequired,selectTableName:c().string,typeEntities:c().string,onChange:c().func.isRequired,formatMessage:c().func.isRequired,editable:c().bool.isRequired};const qDe=ZDe;var FDe=e=>{var{data:t}=e;return(0,u.jsx)(Mo.$Q,{data:t,options:{maintainAspectRatio:!1,legend:{display:!1},responsive:!0,intersect:!1,scales:{xAxes:[{stacked:!0,scaleLabel:{display:!0}}],yAxes:[{scaleLabel:{display:!0}}]},plugins:{datalabels:{display:!1}}},datasetKeyProvider:X.Vj})};FDe.propTypes={data:c().object.isRequired};const LDe=FDe;var HDe=r(21687),_De=e=>e.forecasts.listIds.skillIds.map((e=>{var{id:t}=e;return t})),BDe=e=>e.forecasts.listIds.queueIds.map((e=>{var{id:t}=e;return t})),GDe=e=>e.forecasts.listIds.lineIds.map((e=>{var{id:t}=e;return t})),WDe=e=>e.forecasts.skills.map((e=>e.queues)).filter((e=>!(0,j.xb)(e))),UDe=e=>e.forecasts.listIds.isSendData,VDe=e=>e.forecasts.listIds.type,zDe=(0,Q.createSelector)((e=>e.forecasts.listIds.skillIds.map((e=>{var{name:t}=e;return t})).join(", ")),(e=>e.forecasts.listIds.queueIds.map((e=>{var{name:t}=e;return t})).join(", ")),(e=>e.forecasts.listIds.lineIds.map((e=>{var{name:t}=e;return t})).join(", ")),((e,t,r)=>(0,j.xb)(e)?(0,j.xb)(t)?(0,j.xb)(r)?"":r:t:e)),YDe=e=>e.forecasts.listIds.selectedNames,QDe=(0,Q.createSelector)(BDe,GDe,((e,t)=>!(0,j.xb)(e)||!(0,j.xb)(t))),KDe=(0,Q.createSelector)(_De,GDe,((e,t)=>!(0,j.xb)(e)||!(0,j.xb)(t))),XDe=(0,Q.createSelector)(BDe,_De,((e,t)=>!(0,j.xb)(e)||!(0,j.xb)(t))),JDe=(0,Q.createSelector)(_De,BDe,GDe,TZ.qM,((e,t,r,i)=>e.length<=1&&t.length<=1&&r.length<=1||!0===i)),$De=(0,Q.createSelector)(_De,BDe,GDe,((e,t,r)=>(0,j.xb)(e)?(0,j.xb)(t)?(0,j.xb)(r)?{type:"none",ids:[]}:{type:YEe.ez,ids:r}:{type:YEe.Bn,ids:t}:{type:YEe.Sp,ids:e})),eAe=e=>{var{selectedTableName:t,frontendSettings:r,onChange:i,aggregation:n,intl:a,currentType:o,dataForecasts:{computeType:l},backlogChartDataSets:c,isSendData:d,dates:p,chartDataSets:h}=e,f=(0,s.v9)(TZ.xS),m=(0,s.v9)(TZ.Cm),v=(0,s.v9)(VDe),y="skill"!==o&&(!0===r["forecasts.allowChartEditing"].value||t!==vDe.ot)&&!d,g={labels:(0,HDe.VT)(p,n,a),datasets:h};return t===vDe.ot&&l===Hte.v.BACKLOG?(0,u.jsx)(LDe,{data:{labels:(0,HDe.VT)(c.labels,n,a),datasets:c.datasets}}):t===vDe.xv&&l===Hte.v.BACKLOG?(0,u.jsx)(LDe,{data:{labels:(0,HDe.VT)(c.labels,n,a),datasets:c.datasetsCalculatedFiguresChart}}):t===vDe.ot?(0,u.jsx)(IDe,{data:g}):(0,u.jsx)(qDe,{typeEntities:v,currentItem:m,intl:a,selectTableName:f,data:g,onChange:i,editable:y,formatMessage:a.formatMessage},y)};eAe.defaultProps={currentType:"",dataForecasts:{},backlogChartDataSets:{},isSendData:!1},eAe.propTypes={selectedTableName:c().string.isRequired,frontendSettings:c().object.isRequired,dates:c().array.isRequired,chartDataSets:c().array.isRequired,intl:Sc.Z.isRequired,onChange:c().func.isRequired,aggregation:c().string.isRequired,currentType:c().string,dataForecasts:c().object,backlogChartDataSets:c().object,isSendData:c().bool};const tAe=eAe,rAe=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({selectedTableName:(0,TZ.xS)(e),frontendSettings:(0,B.e0)(e),dates:(0,TZ.i3)(e),chartDataSets:(0,TZ.hC)(e,t),backlogChartDataSets:(0,TZ.v2)(e,t),aggregation:(0,TZ.B$)(e),dataForecasts:(0,TZ.lB)(e),isSendData:UDe(e)}))))(tAe);var iAe=e=>{var{color:t}=e;return(0,u.jsx)("div",{style:{backgroundColor:t},className:"UX555jipYwOKCVImnA3K-A=="})};iAe.propTypes={color:c().string.isRequired};const sAe=iAe,nAe="nHRlrUsM1zm6YM7BVucP5g==",aAe="bk0yRcNFNprUsXdo3kR-LQ==";var oAe=e=>!(0,j.xb)(e)&&e.reduce(((e,t)=>e+t),0),lAe=e=>{var{expiredForecast:t,inTurnForecast:r,workUnitsForecast:i,processedForecast:s,intl:n}=e,a=n.formatMessage({id:"Table.overdue",defaultMessage:[{type:0,value:"Просроченные"}]}),o=n.formatMessage({id:"Table.pending",defaultMessage:[{type:0,value:"В ожидании"}]}),l=n.formatMessage({id:"Table.new",defaultMessage:[{type:0,value:"Новые"}]}),c=n.formatMessage({id:"Table.processedForecast",defaultMessage:[{type:0,value:"Обработано"}]}),d=oAe(t),p=oAe(r),h=oAe(i),f=oAe(s);return(0,u.jsxs)("div",{className:nAe,children:[(0,u.jsx)(sAe,{color:zEe.mU}),(0,u.jsx)("span",{className:aAe,children:"".concat(a," (").concat(d,")")}),(0,u.jsx)(sAe,{color:zEe.tR}),(0,u.jsx)("span",{className:aAe,children:"".concat(o," (").concat(p,")")}),(0,u.jsx)(sAe,{color:zEe.mv}),(0,u.jsx)("span",{className:aAe,children:"".concat(l," (").concat(h,")")}),(0,u.jsx)(sAe,{color:zEe.ur}),(0,u.jsx)("span",{className:aAe,children:"".concat(c," (").concat(f,")")})]})},cAe=c().arrayOf(c().number);lAe.propTypes={expiredForecast:cAe.isRequired,inTurnForecast:cAe.isRequired,workUnitsForecast:cAe.isRequired,processedForecast:cAe.isRequired,intl:P.gm.isRequired};const dAe=lAe,uAe={container:"_0iJVCA2AFMt0ERS1YITYBg==",checkbox:"MuMv1eigYYNc0wpUX62X8Q==",text:"WJeQLx8aCGLHSo1-z85T0w=="};var pAe=e=>{var{disabledSum:t,disabledDownload:r,checked:i,onChange:s,onDownload:n,intl:a}=e;return(0,u.jsxs)("div",{className:uAe.container,children:[(0,u.jsx)(Mg.Z,{onChange:s,label:"Σ",className:uAe.checkbox,disabled:t,checked:i,hint:a.formatMessage({id:"Forecasts.aggregatedOutput",defaultMessage:[{type:0,value:"Вывести общие значения показателей"}]})}),(0,u.jsxs)(Ae.Z,{disabled:r,onClick:n,className:uAe.uploadBtn,children:[(0,u.jsx)(et.ZP,{glyph:et.gq}),(0,u.jsx)("span",{className:uAe.text,children:(0,u.jsx)(J.Z,{id:"Forecast.unloadData",defaultMessage:[{type:0,value:"Выгрузить данные"}]})})]})]})};pAe.propTypes={disabledSum:c().bool.isRequired,disabledDownload:c().bool.isRequired,checked:c().bool.isRequired,onChange:c().func.isRequired,onDownload:c().func.isRequired,intl:P.gm.isRequired};const hAe=pAe;var fAe=r(91833);const mAe=()=>{var e=(0,s.I0)(),t=(0,er.Z)(),r=(0,s.v9)(JDe),i=(0,s.v9)(UDe),{type:n,ids:a}=(0,s.v9)($De),{from:o,to:l}=(0,s.v9)(TZ.KF),c=(0,s.v9)(TZ.IE),d=(0,s.v9)(zDe),p=(0,s.v9)(TZ.Cm),h=(0,s.v9)(TZ.DM);return(0,m.useEffect)((()=>()=>{e((0,NZ.setIsSuccessfulAggregation)(!1))}),[]),(0,u.jsx)(hAe,{disabledSum:r,disabledDownload:!h,checked:i,onChange:t=>{if(!t)return e((0,fAe.sendSelectedEntities)(!1)),e((0,NZ.clearFteData)()),void e((0,fAe.clearSelectedNames)());e((0,fAe.setSelectedNames)(d)),e((0,NZ.fetchForecasts)({type:n,from:o,to:l,aggregation:c,id:a},!0,(()=>e((0,NZ.clearCurrentItem)()))))},onDownload:()=>(0,j.xb)(p)?e((0,NZ.downloadForecastExcel)({type:n,from:o,to:l,aggregation:c,id:a})):e((0,NZ.downloadForecastExcel)({type:p.type,id:p.id,from:o,to:l,aggregation:c})),intl:t})};var vAe=e=>{var{isBacklogSkillFte:t}=e,r=(0,er.Z)().formatMessage({id:"Table.forecastCorrection",defaultMessage:[{type:0,value:"Корректировка прогноза"}]});return(0,u.jsx)("div",{className:nAe,children:t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sAe,{color:zEe.a}),(0,u.jsx)("span",{className:aAe,children:r})]})})};vAe.defaultProps={isBacklogSkillFte:!1},vAe.propTypes={isBacklogSkillFte:c().bool};const yAe=vAe;var gAe=e=>{var{tableName:t,intl:r,isBacklogSkill:i,isOpenedSkill:s,data:{expiredForecast:n,inTurnForecast:a,workUnitsForecast:o,computeType:l,processedForecast:c}}=e,d=i&&t===vDe.ss;return(0,u.jsxs)("div",{className:"_3dnguwQ9cE1dcjSROTANMw==",children:[(0,u.jsx)("div",{className:"rXMQf7fHP9+4aF6BJIn8eg==",children:(0,HDe.c)(t,r)}),t===vDe.ot&&l===Hte.v.BACKLOG&&(0,u.jsx)(dAe,{expiredForecast:n,inTurnForecast:a,workUnitsForecast:o,processedForecast:c,intl:r}),s&&(0,u.jsx)(yAe,{isBacklogSkillFte:d}),(0,u.jsx)(mAe,{})]})};gAe.defaultProps={data:{}},gAe.propTypes={tableName:c().string.isRequired,intl:Sc.Z.isRequired,data:c().object,isBacklogSkill:c().bool.isRequired,isOpenedSkill:c().bool.isRequired};const bAe=gAe,jAe=()=>{var e=(0,er.Z)(),t=(0,s.v9)(TZ.xS),r=(0,s.v9)(TZ.lB),i=(0,s.v9)(TZ.ro),n=(0,s.v9)(TZ.E9);return(0,u.jsx)(bAe,{tableName:t,data:r,isBacklogSkill:i,intl:e,isOpenedSkill:n})};var xAe=e=>{var{width:t,height:r,children:i}=e;return(0,u.jsxs)("div",{style:{width:t,height:r,children:i},children:[(0,u.jsx)(jAe,{}),(0,u.jsx)("div",{style:{width:t,height:r-30},children:i},r)]})};xAe.propTypes={width:c().number.isRequired,height:c().number.isRequired,children:c().node.isRequired};const SAe=SDe(xAe);var OAe=r(82605),PAe=r(82982),wAe=(0,u.jsx)(J.Z,{id:"OperationForm.daysOfWeek",defaultMessage:[{type:0,value:"Дни недели"}]}),CAe=[{value:!1,label:(0,u.jsx)(J.Z,{id:"OperationForm.calendarDays",defaultMessage:[{type:0,value:"Календарные дни"}]})},{value:!0,label:wAe}];function kAe(e){var{input:{value:t,onChange:r}}=e;return(0,u.jsx)(Zb.E,{options:CAe,selectedValue:t,onChange:r})}kAe.propTypes={input:c().object.isRequired};const TAe=kAe,NAe={periodOperation:"Af2PJKNXsuJob7k+uuDtcw==",repeat:"WuBNb1c1KWgnW8vvMHKkVQ==",startDatePicker:"LT8AaM8s62kv2ieM+NkBkg==",endDatePicker:"NqDxIyq1FqAKyFXAEHV3Lg==",repeatBlock:"_4zuavskHY+GIy+XkwSmWgg==",repeatInput:"ZBYAh4WFhq7PLdq7a46ktg==",name:"Aqf88cWrbi9x1KUeAHevMQ==",periodicContent:"AcapyfCWJezRpEQT0xkZ6Q==",rulesTitle:"pCFgp9cTFJGkhKrWEiEikg==",control:"H4t1MCA22TlP3VA+JO9FqA==",empty:"ve4Onv6JiuSfgr7Qtd7IaQ==",daysContainer:"sQHmu9YWn72gEeLvqjAjmA==",dropDownBtn:"UHwfJ8mI5hJB3MtX789LkQ==",leadTimeRow:"YNyw519SuyqAuJ5cTx3gxQ==",labelAmount:"wmJd4tVPl0p5ygWGfcar6Q==",amountContainer:"YTZWo6nSOagSXlF-ud8YzA==",amountFixedButton:"YgldbI1ohfnXBzoba-j6mw==",amountTiedButton:"s61yG34UFIR9oYgT1d2Chg=="};var RAe=e=>{var{input:{onChange:t,value:r,name:i},formValues:{byWeek:s}}=e;return(0,u.jsxs)("div",{className:NAe.repeat,children:[s?_F.uA:_F.qI,(0,u.jsx)(ql.Z,{isValueWithoutZero:!0,name:i,onChange:e=>{t(e)},value:r,className:NAe.repeatBlock,classNameInput:NAe.repeatInput}),s?_F.ZZ:_F.s1]})};RAe.defaultProps={formValues:{},input:{value:null}},RAe.propTypes={input:c().object,formValues:c().object};const EAe=RAe;var DAe=e=>{var{input:{onChange:t,value:r},hidden:i}=e;return i?null:(0,u.jsx)("input",{type:"number",name:"count",onChange:e=>{var r=parseInt(e.target.value,10);t(Math.abs(r))},value:r})};DAe.propTypes={input:c().object.isRequired,hidden:c().bool.isRequired};const AAe=DAe;var MAe=(0,u.jsx)(J.Z,{id:"Common.name",defaultMessage:[{type:0,value:"Название:"}]}),IAe=(0,u.jsx)(J.Z,{id:"SingleOperation.dateCompletion",defaultMessage:[{type:0,value:"Дата выполнения"}]}),ZAe=(0,u.jsx)(J.Z,{id:"SingleOperation.leadTime",defaultMessage:[{type:0,value:"Время выполнения"}]}),qAe=(0,u.jsx)(J.Z,{id:"SingleOperation.amount",defaultMessage:[{type:0,value:"Количество штук"}]}),FAe=(0,u.jsx)(J.Z,{id:"SingleOperation.operationStandard",defaultMessage:[{type:0,value:"Норматив 1 операции"}]}),LAe=(0,u.jsx)(J.Z,{id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),HAe=(0,u.jsx)(J.Z,{id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),_Ae=(0,u.jsx)(J.Z,{id:"Common.ShortSec",defaultMessage:[{type:0,value:"сек."}]}),BAe=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]];const GAe="qddR+o3Yl8FIXL4J0ZZn6A==";function WAe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function UAe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class VAe extends m.Component{constructor(e){super(e),UAe(this,"handleHourChange",(e=>{var t=60*Number(e)*60,{input:{onChange:r}}=this.props;this.setState({stateHours:t},(()=>{var{stateMinutes:e,stateSeconds:i}=this.state;r(t+e+i)}))})),UAe(this,"handleMinChange",(e=>{var t=60*Number(e),{input:{onChange:r}}=this.props;this.setState({stateMinutes:t},(()=>{var{stateHours:e,stateSeconds:i}=this.state;r(e+t+i)}))})),UAe(this,"handleSecChange",(e=>{var t=Number(e),{input:{onChange:r}}=this.props;this.setState({stateSeconds:t},(()=>{var{stateHours:e,stateMinutes:i}=this.state;r(e+i+t)}))})),UAe(this,"timeOperation",(e=>{var{intl:t}=this.props,r=Math.floor(e/60);e%=60;var i=Math.floor(r/60);r%=60;var s=0!==i?i+" "+BAe(i,(e=>[e.formatMessage({id:"NormativeOperation.hour",defaultMessage:[{type:0,value:"час"}]}),e.formatMessage({id:"NormativeOperation.manyHours",defaultMessage:[{type:0,value:"часа"}]}),e.formatMessage({id:"NormativeOperation.hours",defaultMessage:[{type:0,value:"часов"}]})])(t))+" ":"",n=0!==r?r+" "+BAe(r,(e=>[e.formatMessage({id:"NormativeOperation.minute",defaultMessage:[{type:0,value:"минута"}]}),e.formatMessage({id:"NormativeOperation.manyMinutes",defaultMessage:[{type:0,value:"минуты"}]}),e.formatMessage({id:"NormativeOperation.minutes",defaultMessage:[{type:0,value:"минут"}]})])(t))+" ":"",a=0!==e?e+" "+BAe(e,(e=>[e.formatMessage({id:"NormativeOperation.second",defaultMessage:[{type:0,value:"секунда"}]}),e.formatMessage({id:"NormativeOperation.manySeconds",defaultMessage:[{type:0,value:"секунды"}]}),e.formatMessage({id:"NormativeOperation.seconds",defaultMessage:[{type:0,value:"секунд"}]})])(t)):"";return s+n+a}));var t=(e=>{var t=e,r=Math.floor(t/60);return{hours:3600*Math.floor(r/60),minutes:60*(r%=60),seconds:t%=60}})(e.input.value);this.state={stateHours:t.hours,stateMinutes:t.minutes,stateSeconds:t.seconds}}UNSAFE_componentWillReceiveProps(e){if(e.input.value!==this.props.input.value){var t=e.input.value,r=Math.floor(t/60),i=Math.floor(r/60);t%=60,r%=60,this.setState({stateHours:3600*i,stateMinutes:60*r,stateSeconds:t})}}render(){var e=this.props.input.value,t=Math.floor(e/60),r=Math.floor(t/60);return e%=60,t%=60,(0,u.jsxs)("div",{className:"_1NMMoVzaa7GTl-ujhjRkGg==",children:[(0,u.jsx)(ql.Z,{value:QS(r),onChange:this.handleHourChange,isValueWithoutZero:!0,classNameInput:GAe}),LAe,(0,u.jsx)(ql.Z,{value:QS(t),onChange:this.handleMinChange,isValueWithoutZero:!0,classNameInput:GAe}),HAe,(0,u.jsx)(ql.Z,{value:QS(e),maxLength:2,onChange:this.handleSecChange,isValueWithoutZero:!0,classNameInput:GAe}),_Ae,(0,u.jsx)("div",{className:"LT9hQZnv5ZM2g0BE0Yt6Ag==",children:this.timeOperation(this.props.input.value)})]})}}VAe.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WAe(Object(r),!0).forEach((function(t){UAe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WAe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Bt.oX);const zAe=(0,v.ZP)(VAe);var YAe=e=>{var{isActive:t,formValues:{fixed:r},formValues:i,operationType:s,operationId:n}=e;return!t||!(0,j.xb)(n)&&(0,j.xb)(i.norm)?null:(0,u.jsx)("div",{className:"_56nbl6uDa6cHoe46ML461Q==",children:(0,u.jsx)("div",{className:"unGPqJhNnH9qsXdwdbAo9Q==",children:(0,u.jsxs)(TF.Z,{children:["single"===s&&(0,u.jsx)(kF.Z,{label:MAe,children:(0,u.jsx)(_e.Z,{component:"input",type:"text",name:"name"})}),"single"===s&&(0,u.jsx)(kF.Z,{label:IAe,children:(0,u.jsx)(_e.Z,{component:Zfe.Z,name:"date"})}),(0,u.jsx)(kF.Z,{label:ZAe,children:(0,u.jsxs)("div",{className:"CPsjqD+dZvg3RhHa0EoBqg==",children:[(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.from",defaultMessage:[{type:0,value:"c"}]})," ",(0,u.jsx)(_e.Z,{component:Ffe,name:"startTime"})," ",(0,u.jsx)(J.Z,{id:"Common.to",defaultMessage:[{type:0,value:"до"}]})," ",(0,u.jsx)(_e.Z,{component:Ffe,name:"endTime"})]})}),(0,u.jsx)(kF.Z,{label:qAe,labelClassName:"_6tyNjxlimGMMS2nwdd2a6Q==",children:(0,u.jsx)("div",{className:"hh-x0OLHqpDNp41LZdpCIA==",children:(0,u.jsx)(_e.Z,{component:AAe,name:"count",hidden:!r})})}),(0,u.jsx)(kF.Z,{label:FAe,children:(0,u.jsx)(_e.Z,{component:zAe,name:"norm"})})]})})})};YAe.defaultProps={isActive:!1,fixed:!0,operationId:""},YAe.propTypes={isActive:c().bool,formValues:c().object.isRequired,operationType:c().string.isRequired,operationId:c().string,fixed:c().bool};const QAe=YAe;function KAe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function XAe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KAe(Object(r),!0).forEach((function(t){JAe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KAe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JAe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $Ae="SingleOperation",eMe=(0,o.compose)((0,s.$j)(((e,t)=>({singleInitialValues:(0,TZ.rw)(e),operationType:(0,TZ.tA)(e),operationDTO:(0,TZ.rw)(e),formValues:(0,qe.Z)(t.form)(e)||{},formValuesMultiEdit:(0,qe.Z)("MultiEditForm")(e)||{},periodOperationFormValues:(0,qe.Z)("PeriodOperationCommonForm")(e)||{}})),(e=>({initializeForm:(t,r)=>e((0,Qr.j2)(t,r))})),((e,t,r)=>XAe(XAe(XAe({},e),t),r))),(0,Fe.Z)({enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e;if(t.isPeriodForm&&(0,j.xb)(t.rule)&&t.initializeForm(t.form,XAe(XAe({},t.periodOperationFormValues),{},{index:t.dayIndex})),t.isPeriodForm&&!(0,j.xb)(t.rule)&&t.initializeForm(t.form,XAe(XAe({},t.rule),{},{index:t.dayIndex})),t.operationDTO){var{operationId:r}=t,i=t.operationDTO&&!(0,j.xb)(t.operationDTO.rules)&&t.operationDTO.rules[0],s=XAe(XAe({fixed:!0,count:1,date:(0,ft.zO)(),startTime:"08:00",endTime:"12:00",norm:0},t.operationDTO),{},{id:r},i);t.initializeForm($Ae,s)}})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;if(r.isPeriodForm&&r.periodOperationFormValues!==t.periodOperationFormValues){var i=XAe(XAe(XAe({date:(0,ft.zO)()},t.formValues),t.periodOperationFormValues),{},{index:t.dayIndex});r.initializeForm(t.form,i)}if(t.isPeriodForm&&r.rule!==t.rule&&!(0,j.xb)(t.rule)){var s=XAe(XAe({},t.rule),{},{index:t.dayIndex});r.initializeForm(t.form,s)}if(r.operationDTO!==t.operationDTO){var n,{operationId:a}=t;if(null!==(n=t.operationDTO)&&void 0!==n&&n.rules){var o=t.operationDTO&&!(0,j.xb)(t.operationDTO.rules)&&t.operationDTO.rules[0],l=XAe(XAe({fixed:!0,date:(0,ft.zO)(),startTime:"08:00",endTime:"12:00",norm:0},t.operationDTO),{},{id:a},o);r.initializeForm($Ae,l)}}})))(QAe);eMe.defaultProps={form:$Ae},eMe.propTypes={form:c().string};const tMe=eMe;var rMe=e=>{var{intl:{formatMessage:t},arrayDaysIndex:r,onCheck:i,expandedArray:s,checkedArray:n,byWeek:a,onExpand:o}=e,l=a?(0,_F.G7)(t):(0,_F.jc)(),c=n.includes(r),d=s.includes(r);return(0,u.jsxs)("div",{className:NAe.rulesTitle,children:[(0,u.jsxs)("div",{className:NAe.control,children:[(0,u.jsx)(Rs.XZ,{onChange:()=>{i(r)},checked:c,className:NAe.checkbox}),(0,u.jsx)(io.Z,{className:NAe.dropDownBtn,open:d,active:d,onClick:()=>{o(r)},disabled:!c}),(0,u.jsx)("div",{children:l[r]})]}),(0,u.jsx)("div",{className:NAe.empty})]})};rMe.defaultProps={expandedArray:[],checkedArray:[],arrayDaysIndex:0,byWeek:!1},rMe.propTypes={expandedArray:c().array,checkedArray:c().array,arrayDaysIndex:c().number,byWeek:c().bool,onCheck:c().func.isRequired,onExpand:c().func.isRequired,intl:P.gm.isRequired};const iMe=rMe,sMe=(0,v.ZP)(iMe);var nMe=e=>{var{children:t,expandedArray:r,arrayDaysIndex:i}=e,s=r.includes(i);return(0,u.jsx)("div",{style:{display:s?"block":"none"},children:t})};nMe.defaultProps={expandedArray:[],arrayDaysIndex:0},nMe.propTypes={arrayDaysIndex:c().number,expandedArray:c().array,children:c().node.isRequired};const aMe=nMe;var oMe=e=>{var{onCheck:t,onExpand:r,expanded:i,checked:s,byWeek:n,arrayDaysIndex:a,rule:o,operationId:l}=e,c=s.includes(a);return(0,u.jsxs)("div",{children:[(0,u.jsx)(sMe,{onExpand:r,onCheck:t,expandedArray:i,checkedArray:s,byWeek:n,arrayDaysIndex:a}),c&&(0,u.jsx)(aMe,{expandedArray:i,arrayDaysIndex:a,children:(0,u.jsx)(tMe,{isActive:c,form:"PeriodOperationForm".concat(a),dayIndex:a,rule:o,isPeriodForm:!0,operationId:l})})]})};oMe.defaultProps={expanded:[],checked:[],rule:{},byWeek:!1,arrayDaysIndex:0,operationId:""},oMe.propTypes={arrayDaysIndex:c().number,byWeek:c().bool,onCheck:c().func.isRequired,rule:c().object,onExpand:c().func.isRequired,expanded:c().array,checked:c().array,operationId:c().string};const lMe=oMe;var cMe=e=>{var{checked:t,operationRulesFormValues:{byWeek:r,rules:i},expanded:s,onCheck:n,onExpand:a,operationId:o}=e,l=[...new Array(31)];return(0,u.jsx)("div",{className:NAe.daysContainer,children:l.map(((e,l)=>{var c=!(0,j.xb)(i)&&i.find((e=>e.index===l))||{};return(0,u.jsx)(lMe,{operationId:o,arrayDaysIndex:l,byWeek:r,rule:c,onCheck:n,onExpand:a,expanded:s,checked:t},e||l)}))})};cMe.defaultProps={operationRulesFormValues:{},expanded:[],checked:[],operationId:""},cMe.propTypes={operationRulesFormValues:c().object,checked:c().array,operationId:c().string,onCheck:c().func.isRequired,onExpand:c().func.isRequired,expanded:c().array};const dMe=cMe,uMe=(0,o.compose)((0,Fe.Z)({form:"CalendarRulesForm"}))(dMe);var pMe=e=>{var{checked:t,operationRulesFormValues:{byWeek:r,rules:i},expanded:s,onCheck:n,onExpand:a}=e;return(0,u.jsx)("div",{className:NAe.daysContainer,children:[...new Array(7)].map(((e,o)=>{var l=!(0,j.xb)(i)&&i.find((e=>e.index===o))||{};return(0,u.jsx)(lMe,{arrayDaysIndex:o,byWeek:r,rule:l,onCheck:n,onExpand:a,expanded:s,checked:t},e||o)}))})};pMe.defaultProps={operationRulesFormValues:{},expanded:[],checked:[]},pMe.propTypes={operationRulesFormValues:c().object,checked:c().array,onCheck:c().func.isRequired,onExpand:c().func.isRequired,expanded:c().array};const hMe=pMe,fMe=(0,o.compose)((0,Fe.Z)({form:"WeekRulesForm"}))(hMe);function mMe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class vMe extends m.Component{constructor(){super(...arguments),mMe(this,"state",{expandedWeek:[],expandedCalendar:[]}),mMe(this,"toggleCheckedWeekDay",(e=>{var{setCheckedWeekDays:t,checkedWeekDays:r}=this.props;r.includes(e)?t(r.filter((t=>t!==e))):t([...r,e])})),mMe(this,"toggleCheckedCalendarDay",(e=>{var{setCheckedCalendarDays:t,checkedCalendarDays:r}=this.props;r.includes(e)?t(r.filter((t=>t!==e))):t([...r,e])})),mMe(this,"toggleExpandedWeek",(e=>{var{expandedWeek:t}=this.state;this.setState((r=>r.expandedWeek.includes(e)?{expandedWeek:r.expandedWeek.filter((t=>t!==e))}:{expandedWeek:[...t,e]}))})),mMe(this,"toggleExpandedCalendar",(e=>{var{expandedCalendar:t}=this.state;this.setState((r=>r.expandedCalendar.includes(e)?{expandedCalendar:r.expandedCalendar.filter((t=>t!==e))}:{expandedCalendar:[...t,e]}))}))}render(){var{formValues:{byWeek:e},checkedWeekDays:t,checkedCalendarDays:r}=this.props;return(0,u.jsx)("div",{children:e?(0,u.jsx)(fMe,{onCheck:this.toggleCheckedWeekDay,onExpand:this.toggleExpandedWeek,expanded:this.state.expandedWeek,checked:t,operationRulesFormValues:this.props.formValues}):(0,u.jsx)(uMe,{onCheck:this.toggleCheckedCalendarDay,onExpand:this.toggleExpandedCalendar,expanded:this.state.expandedCalendar,checked:r,operationRulesFormValues:this.props.formValues,operationId:this.props.operationId})})}}vMe.defaultProps={formValues:{},operationId:"",checkedWeekDays:[],checkedCalendarDays:[]},vMe.propTypes={formValues:c().object,operationId:c().string,setCheckedWeekDays:c().func.isRequired,setCheckedCalendarDays:c().func.isRequired,checkedWeekDays:c().array,checkedCalendarDays:c().array};const yMe=vMe,gMe="bAP2DDVYETLAnx33Pm+f0Q==",bMe="MilmHBdytUBbPr9CYs5O9A==";var jMe=e=>{var{queueId:t,value:r,queueName:i,onChange:s,onDelete:n,intl:{formatMessage:a}}=e,o=s.bind(null,t),l=a({id:"QueueItem.currentDay",defaultMessage:[{type:0,value:"Текущий день"}]}),c=a({id:"QueueItem.daysOperation",defaultMessage:[{type:0,value:"дней от даты операции"}]});return(0,u.jsxs)("div",{className:"R7I0Iy-dxjdUi7X7WW8kBg==",children:[(0,u.jsx)(Ml.Z,{glyph:et.XH,onClick:()=>{n(t)}}),(0,u.jsx)("span",{className:gMe,children:i}),(0,u.jsxs)("div",{className:"_8-wTPBMWMkLrR60EEKZC3g==",children:[(0,u.jsx)(Zb.t,{checked:0===r,label:l,handler:()=>o(0),className:"s-Ul8RzesW2xSmLpAFtDRw=="}),(0,u.jsx)(Zb.t,{checked:r>0,label:" +",handler:()=>o(1),className:bMe}),(0,u.jsx)("input",{name:"plus",type:"number",value:r>0?Math.abs(r):"",onChange:e=>{o(Number(e.target.value))}}),(0,u.jsx)("span",{className:gMe,children:c}),(0,u.jsx)(Zb.t,{checked:r<0,label:" -",handler:()=>o(-1),className:bMe}),(0,u.jsx)("input",{name:"minus",type:"number",value:r<0?Math.abs(r):"",onChange:e=>{o(Number(-e.target.value))}}),(0,u.jsx)("span",{className:gMe,children:c})]})]})};jMe.propTypes={queueId:P.K5.isRequired,queueName:c().string.isRequired,onChange:c().func.isRequired,onDelete:c().func.isRequired,value:c().number.isRequired,intl:c().shape({formatMessage:c().string}).isRequired};const xMe=(0,v.ZP)(jMe);function SMe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function OMe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SMe(Object(r),!0).forEach((function(t){PMe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SMe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PMe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wMe={text:"name",value:"id"},CMe=e=>(0,j.xb)(e)?[]:e.map((e=>e.queueId)),kMe=(e,t)=>(0,j.xb)(e)?0:(e.find((e=>e.queueId===t))||{}).dayRate||0,TMe=e=>{var{input:{value:t,onChange:r},intl:{formatMessage:i},queues:s,hidden:n}=e;if(n)return null;var a=e=>{r(t.filter((t=>t.queueId!==e)))},o=(e,i)=>{var s=t.map((t=>t.queueId===e?OMe(OMe({},t),{},{dayRate:i}):t));r(s)},l=i({id:"Queues.search",defaultMessage:[{type:0,value:"Поиск по очередям"}]});return(0,u.jsxs)("div",{children:[(0,u.jsx)(Gl.Z,{values:CMe(t),onChange:e=>{var i=e.map((e=>({queueId:e,queueName:s.find((t=>t.id===e)).name,dayRate:kMe(t,e)})));r(i)},dropDownHeight:300,hintText:l,dataSource:s,dataSourceConfig:wMe,dropDownWidth:200}),!(0,j.xb)(t)&&t.map((e=>(0,u.jsx)(xMe,{queueId:e.queueId,queueName:e.queueName,onDelete:a,value:e.dayRate,onChange:o},e.queueId)))]})};TMe.propTypes=OMe({},Bt.oX);const NMe=TMe;var RMe="SingleOperation";const EMe=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({queues:(0,TZ.jM)(e),formValues:(0,qe.Z)(RMe)(e),intl:(0,DCe.U)(e,t)}))),(0,Fe.Z)({form:RMe}))(NMe);var DMe=e=>{var{isActive:t,formValues:r,checkedWeekDays:i,checkedCalendarDays:s,setCheckedWeekDays:n,setCheckedCalendarDays:a,operationId:o}=e;return!t||!(0,j.xb)(o)&&(0,j.xb)(r.norm)?null:(0,u.jsxs)("div",{className:NAe.periodOperation,children:[(0,u.jsx)("table",{children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:Lee}),(0,u.jsx)("td",{className:NAe.name,children:(0,u.jsx)(_e.Z,{component:"input",type:"text",name:"name"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:_F.A0}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{component:TAe,name:"byWeek"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:_F.sk}),(0,u.jsxs)("td",{className:NAe.periodicContent,children:[(0,u.jsx)(_e.Z,{component:EAe,formValues:r,name:"repeat"}),(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.from",defaultMessage:[{type:0,value:"c"}]}),(0,u.jsx)("div",{className:NAe.startDatePicker,children:(0,u.jsx)(_e.Z,{component:aie.Z,name:"start"})}),(0,u.jsx)(J.Z,{id:"ScheduleComputing.to",defaultMessage:[{type:0,value:"по"}]}),(0,u.jsx)("div",{className:NAe.endDatePicker,children:(0,u.jsx)(_e.Z,{component:aie.Z,name:"end",minDate:null==r?void 0:r.start})})]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:ZAe}),(0,u.jsx)("td",{className:NAe.leadTimeRow,children:(0,u.jsxs)("div",{className:NAe.leadTimeRow,children:[(0,u.jsx)(J.Z,{id:"OperatorApplicationForm.from",defaultMessage:[{type:0,value:"c"}]})," ",(0,u.jsx)(_e.Z,{component:Ffe,name:"startTime"})," ",(0,u.jsx)(J.Z,{id:"Common.to",defaultMessage:[{type:0,value:"до"}]})," ",(0,u.jsx)(_e.Z,{component:Ffe,name:"endTime"})]})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:NAe.labelAmount,children:qAe}),(0,u.jsxs)("td",{className:NAe.amountContainer,children:[(0,u.jsx)("div",{className:NAe.amountFixedButton,children:(0,u.jsx)(_e.Z,{component:AAe,name:"count",hidden:!(null!=r&&r.fixed)})}),(0,u.jsx)(_e.Z,{component:EMe,name:"queues",hidden:null==r?void 0:r.fixed})]})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:FAe}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{component:zAe,name:"norm"})})]}),(0,u.jsx)("tr",{})]})}),(0,u.jsx)(yMe,{operationId:o,formValues:r,checkedWeekDays:i,checkedCalendarDays:s,setCheckedWeekDays:n,setCheckedCalendarDays:a})]})};DMe.defaultProps={isActive:!1,operationId:"",formValues:{},checkedWeekDays:[],checkedCalendarDays:[]},DMe.propTypes={isActive:c().bool,operationId:c().string,checkedWeekDays:c().array,checkedCalendarDays:c().array,setCheckedWeekDays:c().func.isRequired,setCheckedCalendarDays:c().func.isRequired,formValues:c().object};const AMe=DMe;function MMe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function IMe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MMe(Object(r),!0).forEach((function(t){ZMe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MMe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZMe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qMe="PeriodOperationCommonForm";const FMe=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(qMe)(e),checkedWeekDays:(0,TZ.fi)(e),checkedCalendarDays:(0,TZ.ig)(e),operationDTO:(0,TZ.rw)(e)})),(e=>({setCheckedWeekDays:t=>e((0,OAe.setCheckedWeekDays)(t)),setCheckedCalendarDays:t=>e((0,OAe.setCheckedCalendarDays)(t)),fetchOperation:t=>e((0,OAe.fetchOperation)(t)),initializeForm:(t,r)=>{e((0,Qr.j2)(t,r))}})),((e,t,r)=>IMe(IMe(IMe({},e),t),r))),(0,Fe.Z)({form:qMe,enableReinitialize:!0}),(0,U.Z)((e=>{var{props:t}=e;if(t.operationDTO){var r,i=IMe(IMe({byWeek:!0,startTime:"08:00",endTime:"12:00",fixed:!0,count:1,norm:0},t.operationDTO),{},{repeat:0===t.operationDTO.repeat||(0,j.xb)(null===(r=t.operationDTO)||void 0===r?void 0:r.repeat)?1:t.operationDTO.repeat,start:(0,j.xb)(t.operationDTO.start)?(0,ft.b7)((0,ft.zO)()):t.operationDTO.start,end:(0,j.xb)(t.operationDTO.end)?(0,ft.iX)((0,ft.zO)()):ns()(t.operationDTO.end).subtract(1,"d")});t.initializeForm(qMe,i)}})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;if(r.operationDTO!==t.operationDTO){if(t.operationDTO){var i,s,n=IMe(IMe({byWeek:!0,startTime:"08:00",endTime:"12:00",fixed:!0,count:1,norm:0},t.operationDTO),{},{repeat:0===(null===(i=t.operationDTO)||void 0===i?void 0:i.repeat)||(0,j.xb)(null===(s=t.operationDTO)||void 0===s?void 0:s.repeat)?1:t.operationDTO.repeat,start:(0,j.xb)(t.operationDTO.start)?(0,ft.b7)((0,ft.zO)()):t.operationDTO.start,end:(0,j.xb)(t.operationDTO.end)?(0,ft.iX)((0,ft.zO)()):ns()(t.operationDTO.end).subtract(1,"d")});r.initializeForm(qMe,n)}if(t.operationDTO&&t.operationDTO.rules){var a=t.operationDTO.rules.map((e=>e.index));t.operationDTO.byWeek?r.setCheckedWeekDays(a):r.setCheckedCalendarDays(a)}}})))(AMe),LMe="eGwXC7LaZLo3evFRwM8w+A==",HMe="duhhETWt28TgIBUeHZeVzA==";var _Me=e=>{var{operationType:t,setOperationType:r,handleSubmit:i,skillId:s,operationId:n,singleFormValues:a,periodFormValues:o,singleIsPristine:l,periodIsPristine:c,checkedWeekDays:d,checkedCalendarDays:p}=e,[h,f]=(0,m.useState)(!0);return(0,m.useEffect)((()=>{if("single"===t){var e=!(null==a||!a.fixed||!Number.isNaN(null==a?void 0:a.count)),r=!(null!=a&&a.fixed||!(0,j.xb)(null==a?void 0:a.queues));f(!(null!=a&&a.name)||(null==a?void 0:a.norm)<=0||e||r)}else{var i=!(null==o||!o.fixed||!Number.isNaN(null==o?void 0:o.count)),s=!(null!=o&&o.fixed||!(0,j.xb)(null==o?void 0:o.queues));if(null==o||!o.name||(null==o?void 0:o.norm)<=0)return void f(!0);if(i||s)return void f(!0);if(o.byWeek&&(0,j.xb)(d))return void f(!0);!o.byWeek&&(0,j.xb)(p)?f(!0):f(!1)}}),[a,o,p,d]),(0,u.jsxs)("div",{className:"kQq2niKkGZJgvhGY5GdRXg==",children:[(0,u.jsxs)("ul",{className:"sN7tyMBWWR3z4CgACH-FRw==",children:[(0,u.jsx)("li",{className:LMe,children:(0,u.jsx)("div",{className:me()({[HMe]:t===PAe.Z}),onClick:()=>{r(PAe.Z)},children:_F.CD})}),(0,u.jsx)("li",{className:LMe,children:(0,u.jsx)("div",{className:me()({[HMe]:t===PAe.k}),onClick:()=>{r(PAe.k)},children:_F.Ue})})]}),(0,u.jsx)("div",{className:"-2GJqubQ5UUwGOn4-mvhmQ==",children:(0,u.jsxs)(UY,{trigger:t,children:[(0,u.jsx)(zY,{value:PAe.Z,children:(0,u.jsx)(tMe,{isActive:t===PAe.Z,skillId:s,operationId:n})}),(0,u.jsx)(zY,{value:PAe.k,children:(0,u.jsx)(FMe,{isActive:t===PAe.k,skillId:s,operationId:n})})]})}),(0,u.jsx)("div",{className:"_9Y1+bLOX-vJCv9R3AOIgAA==",children:(0,u.jsx)(W4.Z,{onClick:i,disabled:h||l&&c})})]})};_Me.defaultProps={singleFormValues:{},periodFormValues:{},singleIsPristine:!0,periodIsPristine:!0,checkedWeekDays:[],checkedCalendarDays:[]},_Me.propTypes={checkedWeekDays:c().array,checkedCalendarDays:c().array,skillId:c().string.isRequired,operationId:c().string.isRequired,operationType:c().oneOf([PAe.Z,PAe.k]).isRequired,setOperationType:c().func.isRequired,handleSubmit:c().func.isRequired,singleFormValues:c().object,singleIsPristine:c().bool,periodIsPristine:c().bool,periodFormValues:c().object};const BMe=_Me;function GMe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function WMe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GMe(Object(r),!0).forEach((function(t){UMe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GMe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UMe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VMe="OperationForm",zMe="PeriodOperationCommonForm",YMe="SingleOperation",QMe=(0,o.compose)((0,s.$j)((e=>({periodFormValues:(0,qe.Z)(zMe)(e),singleIsPristine:(0,W0.Z)(YMe)(e),periodIsPristine:(0,W0.Z)(zMe)(e),singleFormValues:(0,qe.Z)(YMe)(e),operationFormValuesByWeek:(0,TZ.TQ)(e),operationFormValuesByCalendar:(0,TZ.Ip)(e),operationDTO:(0,TZ.rw)(e),checkedWeekDays:(0,TZ.fi)(e),checkedCalendarDays:(0,TZ.ig)(e),operationType:(0,TZ.tA)(e),currentGroupId:(0,Y.Wx)(e)})),(e=>({createOperation:(t,r)=>e((0,OAe.createOperation)(t,r)),setOperationType:t=>e((0,OAe.setOperationType)(t)),setCheckedWeekDays:t=>e((0,OAe.setCheckedWeekDays)(t)),setCheckedCalendarDays:t=>e((0,OAe.setCheckedCalendarDays)(t)),updateOperation:(t,r)=>e((0,OAe.updateOperation)(t,r)),fetchQueueBySkill:t=>e((0,L6.fetchQueueBySkill)(t)),fetchOperation:(t,r)=>e((0,OAe.fetchOperation)(t,r)),destroyForm:()=>e((0,Qr.ob)(VMe)),fetchSetQueuesBySkills:t=>e((0,OAe.fetchSetQueuesBySkills)(t)),removeOperationDTO:()=>e((0,OAe.removeOperationDTO)())})),((e,t,r)=>{var i=()=>{t.fetchQueueBySkill(r.skillId),r.closeForm(),r.fetchForecastsCb(),t.destroyForm(),t.setOperationType("single"),t.setCheckedWeekDays([]),t.setCheckedCalendarDays([]),t.removeOperationDTO()};return WMe(WMe(WMe(WMe({},e),t),r),{},{onSubmit:()=>{var s="periodic"===e.operationType?((e,t)=>{var{periodFormValues:r}=e,{skillId:i}=t,s=WMe(WMe({},r),{},{skillId:i});return s.single=!1,s.rules=(e=>{var{operationFormValuesByWeek:t=[],operationFormValuesByCalendar:r=[],checkedWeekDays:i,checkedCalendarDays:s,periodFormValues:n}=e;if(n.byWeek){var a=null==t?void 0:t.map(((e,t)=>(e.index=i[t],e)));return null==a?void 0:a.map((e=>WMe(WMe({},e),{},{end:(0,ft.IH)(e.end,"day",1)})))}var o=null==r?void 0:r.map(((e,t)=>(e.index=s[t],e)));return null==o?void 0:o.map((e=>WMe(WMe({},e),{},{end:(0,ft.IH)(e.end,"day",1)})))})(e),s.start=(0,ft.Mm)(s.start,ft._E),s.end=(0,ft.IH)((0,ft.Mm)(s.end,ft._E),"day",1),s})(e,r):((e,t)=>{var r=e.singleFormValues,i=r.date||(0,ft.zO)(),s={skillId:t.skillId,name:r.name,id:r.operationId?r.operationId:void 0,single:!0,date:(0,ft.b7)(i)};return s.rules=[{fixed:r.fixed,count:r.fixed?r.count:void 0,norm:r.norm,startTime:r.startTime,endTime:r.endTime,queues:r.fixed?[]:r.queues}],s})(e,r);r.operationId?t.updateOperation(s,i):t.createOperation(s,i)}})})),(0,Fe.Z)({form:VMe}),(0,U.Z)((e=>{var{props:t}=e;t.fetchSetQueuesBySkills(t.skillId),t.operationId?t.fetchOperation(t.operationId):t.setOperationType("single")})),(0,fZ.Z)(((e,t)=>{var{props:r}=e;if(t.operationDTO!==r.operationDTO&&t.operationDTO&&!1===t.operationDTO.single&&(r.setOperationType("periodic"),!(0,j.xb)(t.operationDTO.rules))){var i=t.operationDTO.rules.map((e=>e.index));t.operationDTO.byWeek?r.setCheckedWeekDays(i):r.setCheckedCalendarDays(i)}})),(0,Ao.Z)((e=>{var{props:t}=e;t.setOperationType("")})))(BMe);const KMe=QMe,XMe="zDv7iU3fhsd++rZORtQ3Iw==";var JMe=e=>{var{title:t,id:r,formIcon:i,titleClassName:s,onItemSelect:n,formName:a,containerWidth:o,iconClassName:l,selected:c,onCheck:d,checked:p,disabled:h}=e,f=100;"queue"===a?f=90:"line"===a&&(f=145);var m=me()("MQQP1PoHaAj9q6p0dQdhVA==",{"Dz+pXTcgjsbUk+pkphm6OA==":c});return(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)(Rs.XZ,{checked:p,onChange:e=>d({id:r,name:t},e),disabled:h}),(0,u.jsx)(et.ZP,{glyph:i,classCustom:l}),(0,u.jsx)(Ae.Z,{onClick:()=>n({id:r,type:a,name:t}),children:(0,u.jsx)("div",{className:s,style:{maxWidth:o-f},title:t,children:t})})]})};JMe.defaultProps={titleClassName:"",iconClassName:"",containerWidth:500,selected:!1,checked:!1},JMe.propTypes={title:c().string.isRequired,id:c().string.isRequired,onItemSelect:c().func.isRequired,formIcon:c().string.isRequired,formName:c().string.isRequired,selected:c().bool,titleClassName:c().string,iconClassName:c().string,containerWidth:c().number,onCheck:c().func.isRequired,checked:c().bool,disabled:c().bool.isRequired};const $Me=JMe,eIe=(0,o.compose)((0,s.$j)(((e,t)=>({selected:(0,TZ.g6)(e)===t.id}))))($Me);var tIe=e=>{var{skill:{operations:t,id:r},onChangeOperation:i,onDeleteOperation:s}=e;return(0,j.xb)(t)?null:(0,u.jsx)("div",{children:t.map((e=>{var{operationId:t,operationName:n}=e;return(0,u.jsx)(eS.Z,{children:(0,u.jsxs)("div",{className:"aUCs6uJmxzeE23Un-CjTvQ==",children:[(0,u.jsx)(Ae.Z,{className:"_27BbeDFb7DN3JGs10UYrnA==",onClick:()=>s(t),children:(0,u.jsx)(et.ZP,{glyph:et.XH})}),(0,u.jsx)(Ae.Z,{onClick:()=>i(t,r),children:(0,u.jsxs)("div",{className:"GHUczc+BMH2CwlK0qLdwIA==",children:[(0,u.jsx)(et.ZP,{glyph:et.OX}),(0,u.jsx)("div",{className:"qWYSy9+EeZIv4mn01f9zJg==",children:n})]})})]})},t)}))})};tIe.propTypes={skill:c().object.isRequired,onChangeOperation:c().func.isRequired,onDeleteOperation:c().func.isRequired};const rIe=tIe;var iIe=e=>{var{onCreateOperation:t,skill:r}=e;return(0,u.jsx)("div",{className:"_2uvq6VeDvM6gH9MxIGxmtg==",children:(0,u.jsxs)(Ae.Z,{onClick:()=>{var{id:e}=r;t(e)},children:[(0,u.jsx)(et.ZP,{glyph:et.dt,classCustom:"BMoaP8EPEcsJDlb3cQNskg=="}),(0,u.jsx)(J.Z,{id:"Forecast.addNewOperation",defaultMessage:[{type:0,value:"Добавить операцию"}]})]})})};iIe.propTypes={onCreateOperation:c().func.isRequired,skill:c().object.isRequired};const sIe=iIe;var nIe=e=>{var{lines:t,onItemSelect:r,onCheckLine:i,containerWidth:n}=e,a=(0,s.v9)(GDe),o=(0,s.v9)(XDe);return(0,u.jsx)(u.Fragment,{children:t.map((e=>{return(0,u.jsx)("div",{className:"_5g-TbhmROCpnlvmeOlkHWA==",children:(0,u.jsx)(eIe,{titleClassName:"_6eVRaTh03+8MP7yXFrWYNQ==",onCheck:i,onItemSelect:r,id:e.id,formIcon:et.x1,title:e.name,formName:"line",selected:!0,checked:(t=e.id,a.some((e=>e===t))),disabled:o,containerWidth:n})},e.id);var t}))})};nIe.propTypes={lines:c().array.isRequired,onItemSelect:c().func.isRequired,onCheckLine:c().func.isRequired,containerWidth:c().number.isRequired};const aIe=nIe;var oIe=e=>{var{queue:t,onOpenForm:r,onCheckLine:i,containerWidth:s}=e;return t?(0,u.jsx)("div",{className:"B5QnbURqyfX7-tsgIE4yRA==",children:(0,u.jsx)(G4.Z,{isLoading:t.linesLoading,children:(0,u.jsx)(aIe,{lines:t.lines||[],onItemSelect:r,onCheckLine:i,containerWidth:s})})}):null};oIe.defaultProps={queue:{}},oIe.propTypes={queue:c().object,onOpenForm:c().func.isRequired,onCheckLine:c().func.isRequired,containerWidth:c().number.isRequired};const lIe=oIe;var cIe=e=>{var{skill:t,onSelectItem:r,onCreateOperation:i,containerWidth:n,onChangeOperation:a,onDeleteOperation:o,onOpen:l,onCheckQueue:c,onCheckLine:d}=e,p=(0,s.v9)(BDe),h=(0,s.v9)(KDe),f=(0,s.v9)(WDe),m=[];return f.forEach((e=>m.push(...e))),t?(0,u.jsxs)("div",{className:"ShdQM3EmkXAor8wlcWCMnw==",children:[t.queuesLoading&&(0,u.jsx)(Z.Z,{}),t.queues&&!t.queuesLoading&&(0,u.jsx)(cy,{items:t.queues.map((e=>{var i,s,a=m.filter((t=>t.id===e.id));return{title:(0,u.jsx)(eS.Z,{children:(0,u.jsx)(eIe,{title:e.name,id:e.id,onItemSelect:e=>{r(e,t.id)},formIcon:et.EJ,formName:"queue",iconClassName:"KqMlSLltLNpCCxZfcomeug==",titleClassName:"_3BRgcqL8b95GBRGzHmx4Mw==",containerWidth:n-40,onCheck:c,checked:(s=e.id,p.some((e=>e===s))),disabled:h})}),id:e.id,content:(0,u.jsx)(lIe,{queue:e,onOpenForm:r,onCheckLine:d,containerWidth:n}),hasChildren:!(0,j.xb)(null===(i=a[0])||void 0===i?void 0:i.lines)}})),iconBtnClassName:XMe,onOpen:l}),(0,u.jsx)(rIe,{skill:t,onChangeOperation:a,onDeleteOperation:o}),(0,u.jsx)(sIe,{skill:t,onCreateOperation:i})]}):null};cIe.defaultProps={skill:{},containerWidth:500},cIe.propTypes={skill:c().object,containerWidth:c().number,onChangeOperation:c().func.isRequired,onCreateOperation:c().func.isRequired,onSelectItem:c().func.isRequired,onDeleteOperation:c().func.isRequired,onOpen:c().func.isRequired,onCheckQueue:c().func.isRequired,onCheckLine:c().func.isRequired};const dIe=cIe;var uIe=e=>{var t,{skills:r,onCreateOperation:i,containerWidth:n,onChangeOperation:a,onRemoveOperation:o,onSelectItem:l,fetchLineByQueue:c,fetchQueueBySkill:d,intl:p,onCheckSkill:h,onCheckQueue:f,onCheckLine:v}=e,y=(0,s.v9)(_De),g=(0,s.v9)(QDe),[b,j]=(0,m.useState)("");return(0,u.jsxs)("div",{className:"K-EdWe1+GGcrWfrDT2EzTw==",children:[(0,u.jsx)(l7,{children:(0,u.jsx)("input",{type:"text",placeholder:p.formatMessage(_F.UC),name:"auto-complete-search",value:b,onChange:e=>{var{target:t}=e;return j(t.value)},style:{width:"100%"},autoComplete:"off"})}),(0,u.jsx)(Be.ZP,{renderTrackHorizontal:()=>(0,u.jsx)("div",{style:{display:"none"}}),children:(0,u.jsx)(cy,{items:(t=(0,jo.cT)(r,b),t.map((e=>{var t;return{title:(0,u.jsx)(eS.Z,{children:(0,u.jsx)(eIe,{onCheck:h,checked:(t=e.id,y.some((e=>e===t))),disabled:g,title:e.name,id:e.id,onItemSelect:l,formIcon:et.UH,formName:"skill",iconClassName:"_5vxAIsA40IM9YNLqIpwqCA==",titleClassName:"Tr+h7XhsZCYXlE6YaSA18A==",containerWidth:n})}),id:e.id,content:(0,u.jsx)(dIe,{skill:e,onCreateOperation:i,onChangeOperation:a,onDeleteOperation:t=>{o(t,e.id)},onSelectItem:l,containerWidth:n,onOpen:t=>{c(t,e.id)},onCheckQueue:f,onCheckLine:v})}}))),iconBtnClassName:XMe,onOpen:d,hasZebra:!0})})]})};uIe.defaultProps={skills:[],containerWidth:500,onRemoveOperation:null},uIe.propTypes={skills:c().array,intl:P.gm.isRequired,containerWidth:c().number,onCreateOperation:c().func.isRequired,onChangeOperation:c().func.isRequired,onRemoveOperation:c().func,onSelectItem:c().func.isRequired,fetchQueueBySkill:c().func.isRequired,fetchLineByQueue:c().func.isRequired,onCheckSkill:c().func.isRequired,onCheckQueue:c().func.isRequired,onCheckLine:c().func.isRequired};const pIe=uIe;var hIe=e=>{var{onChangeOperation:t,onRemoveOperation:r,onCreateOperation:i,containerWidth:n}=e,a=(0,s.I0)(),o=(0,er.Z)(),l=(0,s.v9)(H6.Vy),c=(0,s.v9)(Y.Wx),d=(0,s.v9)(_De),p=(0,s.v9)(BDe),h=(0,s.v9)(GDe);(0,m.useEffect)((()=>{a((0,NZ.clearFteData)()),a((0,NZ.clearCurrentItem)()),a((0,fAe.setType)("none")),c&&(a((0,L6.fetchSkillsListByGroup)(c)),a((0,NZ.fetchSkills)(c)))}),[]);var f=(0,s.v9)(UDe);return(0,m.useEffect)((()=>{f&&(a((0,fAe.sendSelectedEntities)(!1)),a((0,NZ.clearFteData)()),a((0,fAe.clearSelectedNames)()))}),[d.length,p.length,h.length]),(0,u.jsx)(pIe,{skills:l,intl:o,onSelectItem:e=>{a((0,NZ.setCurrentItem)(e)),a((0,fAe.setType)("none")),a((0,fAe.clearSkillIds)()),a((0,fAe.clearQueueIds)()),a((0,fAe.clearLineIds)())},fetchQueueBySkill:e=>a((0,L6.fetchQueueBySkill)(e)),fetchLineByQueue:(e,t)=>a((0,L6.fetchLineByQueue)(e,t)),onChangeOperation:t,onCreateOperation:i,onRemoveOperation:r,containerWidth:n,onCheckSkill:(e,t)=>{a((0,fAe.addRemoveSkill)({skill:e,isCheck:t})),a((0,fAe.clearQueueIds)()),a((0,fAe.clearLineIds)())},onCheckQueue:(e,t)=>{a((0,fAe.addRemoveQueue)({queue:e,isCheck:t})),a((0,fAe.clearLineIds)()),a((0,fAe.clearSkillIds)())},onCheckLine:(e,t)=>{a((0,fAe.addRemoveLine)({line:e,isCheck:t})),a((0,fAe.clearSkillIds)()),a((0,fAe.clearQueueIds)())}})};hIe.defaultProps={containerWidth:500,onRemoveOperation:null},hIe.propTypes={containerWidth:c().number,onCreateOperation:c().func.isRequired,onChangeOperation:c().func.isRequired,onRemoveOperation:c().func};const fIe=hIe;class mIe extends m.Component{render(){var{from:e,to:t,handleFrom:r,handleTo:i,format:s}=this.props;return(0,u.jsxs)("div",{className:"_03yxkjE4gwVBn3Y-7uSHgw==",children:[(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)(mt.Z,{date:e,onChange:r,dateFormat:s})}),(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)("span",{children:"—"})}),(0,u.jsx)("span",{className:"pr",children:(0,u.jsx)(mt.Z,{minDate:e,date:t,onChange:i,dateFormat:s})})]})}}mIe.defaultProps={format:ft._E},mIe.propTypes={from:c().string.isRequired,to:c().string.isRequired,handleFrom:c().func.isRequired,handleTo:c().func.isRequired,format:c().string};const vIe=mIe,yIe="HTBU23Bg7klMLKCSNUiFjw==";var gIe=(0,u.jsx)(J.Z,{id:"Forecast.fifteenMinutes",defaultMessage:[{type:0,value:"15 минут"}]}),bIe=(0,u.jsx)(J.Z,{id:"Forecast.thirtyMinutes",defaultMessage:[{type:0,value:"30 минут"}]}),jIe=(0,u.jsx)(J.Z,{id:"Forecast.hour",defaultMessage:[{type:0,value:"Час"}]}),xIe=(0,u.jsx)(J.Z,{id:"Forecast.day",defaultMessage:[{type:0,value:"День"}]}),SIe=(0,u.jsx)(J.Z,{id:"Forecast.week",defaultMessage:[{type:0,value:"Неделя"}]}),OIe=(0,u.jsx)(J.Z,{id:"Forecast.month",defaultMessage:[{type:0,value:"Месяц"}]}),PIe=[{value:x.ZP.FIFTEEN_MINUTES,label:gIe},{value:x.ZP.THIRTY_MINUTES,label:bIe},{value:x.ZP.HOUR,label:jIe},{value:x.ZP.DAY,label:xIe},{value:x.ZP.WEEK,label:SIe},{value:x.ZP.MONTH,label:OIe}],wIe=e=>{var t=e.intl.formatMessage({id:"Common.displaySetting",defaultMessage:[{type:0,value:"Настройка отображения"}]}),[r,i]=(0,m.useState)(null),s=Boolean(r),n=()=>{i(null)},{value:a}=e;return(0,u.jsxs)("div",{children:[(0,u.jsx)(oi.Z,{active:s,onClick:e=>{i(e.currentTarget)},hint:t,children:(0,u.jsx)(et.ZP,{glyph:et.hr})}),(0,u.jsx)(Ns.ZP,{anchorEl:r,open:s,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,u.jsxs)("div",{className:"xA9gg8NTihXbfEX8gh0IAA==",children:[(0,u.jsx)("h2",{children:(0,u.jsx)(J.Z,{id:"Forecast.titleOfDataDisplayed",defaultMessage:[{type:0,value:"Тип отображения"}]})}),(0,u.jsx)(Zb.E,{options:PIe,onChange:t=>{var{onChange:r}=e;r(t),n()},selectedValue:a,selectedIndex:0,classContainer:"CyhrdhpJnDHHQ+wBofEjtw==",removeBtnMargins:!0})]})})]})};wIe.defaultProps={value:""},wIe.propTypes=_()({value:c().string,onChange:c().func.isRequired,intl:P.gm.isRequired});const CIe=(0,v.ZP)(wIe);var kIe=e=>{var{onClick:t,hint:r,disabled:i}=e;return(0,u.jsx)(Ae.Z,{className:"+LP7Iv762ZPjtFK7QI44rA==",onClick:t,hint:r,disabled:i,children:(0,u.jsx)(et.ZP,{glyph:et.Du})})};kIe.propTypes={onClick:c().func.isRequired,hint:c().string.isRequired,disabled:c().bool.isRequired};const TIe=kIe;var NIe=(0,u.jsx)(J.Z,{id:"Common.saveChanges",defaultMessage:[{type:0,value:"Сохранить изменения"}]}),RIe=e=>{var{isForecastChanged:t,saveForecast:r,hint:i}=e;return(0,u.jsx)("div",{className:"_1d01Vmi-pVPTaXkPHv972g==",children:(0,u.jsx)(oi.Z,{onClick:r,disabled:!t,hint:i,children:(0,u.jsxs)("div",{className:"QQlXQT+HN5CyM-SUll2tnQ==",children:[(0,u.jsx)(et.ZP,{glyph:et.N}),t&&(0,u.jsx)("div",{className:"IuJFozrLSxJxLwaBkuvdow==",children:NIe})]})})})};RIe.propTypes={isForecastChanged:c().bool.isRequired,saveForecast:c().func.isRequired,hint:c().string.isRequired};const EIe=RIe;var DIe=e=>{var{user:t,intl:r,isForecastChanged:i,setSelectedPeriod:n,fetchForecasts:a,currentItem:o,setForecastData:l,selectedPeriod:{from:c,to:d},selectedAggregation:p,saveForecast:h,setSelectedAggregation:f,currentEntity:m,checkedSum:v,refreshBtnDisabled:y,setForecastChanged:g}=e,b=!(0,s.v9)(TZ.DM)||y,S=()=>{l({dateFrom:c,dateTo:d}),a({type:(0,j.xb)(o)?m.type:o.type,id:(0,j.xb)(o)?m.ids:o.id,from:c,to:d,aggregation:p},v),g(!1)},O=(0,X.BC)(t,x.ZP.RIGHTS.FORECASTING,x.ZP.CRUD);return(0,u.jsxs)("div",{className:"YZ01zqEnX47Nwt7uMw9srw==",children:[(0,u.jsxs)("div",{className:yIe,children:[(0,u.jsx)(CIe,{value:p,onChange:e=>{f(e)}}),(0,u.jsx)(TIe,{onClick:S,disabled:b,hint:r.formatMessage({id:"Common.refresh"})}),O&&(0,u.jsx)(EIe,{saveForecast:()=>{h({successCb:S})},hint:r.formatMessage({id:"Common.save"}),isForecastChanged:i})]}),(0,u.jsxs)("div",{className:yIe,children:[(0,u.jsx)("div",{className:"j1GYqm-QuueCxym0QhDt0Q==",children:_F.Db}),(0,u.jsx)(vIe,{handleFrom:e=>{n({from:e})},handleTo:e=>{n({to:e})},from:c,to:d})]})]})};DIe.propTypes=_()({user:c().object.isRequired,checkedSum:c().bool,data:c().shape({aggregation:c().string}).isRequired,fetchForecasts:c().func.isRequired,saveForecast:c().func.isRequired,intl:c().object.isRequired,setForecastData:c().func.isRequired,isForecastChanged:c().bool.isRequired,currentItem:c().object.isRequired,selectedPeriod:c().shape({from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired}).isRequired,setSelectedPeriod:c().func.isRequired,setSelectedAggregation:c().func.isRequired,setForecastChanged:c().func.isRequired,currentEntity:c().object.isRequired,refreshBtnDisabled:c().bool,selectedAggregation:c().oneOf([rs.mo,rs.x4,rs.Ho,rs.kr,rs.ps,rs.vc]).isRequired}),DIe.defaultProps={refreshBtnDisabled:!1,checkedSum:!1};const AIe=DIe,MIe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({user:(0,C.ts)(e),isForecastChanged:(0,TZ.UE)(e),data:(0,TZ.lB)(e),currentItem:(0,TZ.Cm)(e),selectedPeriod:(0,TZ.KF)(e),selectedAggregation:(0,TZ.IE)(e),currentEntity:$De(e),checkedSum:UDe(e)})),{setForecastData:NZ.setForecastData,fetchForecasts:NZ.fetchForecasts,saveForecast:NZ.saveForecast,setSelectedPeriod:NZ.setSelectedPeriod,setSelectedAggregation:NZ.setSelectedAggregation,setForecastChanged:NZ.setForecastChanged}))(AIe);var IIe=e=>{var{tableName:t,expanded:r,children:i,onExpand:s,scrollLeft:n}=e,a=()=>{s(t)};return(0,u.jsx)("div",{className:"_5SBL5EqOuDOD33CCcLLRqg==",children:(0,u.jsxs)("div",{className:"XEZui7tmZYQX1qhf+5mpnw==",style:{left:n},children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:t})}),(0,u.jsx)(KEe,{children:(0,u.jsx)(io.Z,{open:r,active:r,onClick:a})}),(0,u.jsx)(Ae.Z,{onClick:a,active:r,children:i})]})})};IIe.propTypes={children:c().node.isRequired,tableName:c().string.isRequired,expanded:c().bool.isRequired,onExpand:c().func.isRequired,scrollLeft:c().number.isRequired};const ZIe=IIe;class qIe extends m.Component{constructor(e){var t;super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"toggleExpanded",(()=>{var{setSelectedExpandedTables:e,tableName:t}=this.props;this.setState((e=>({expanded:!e.expanded})),(()=>{(0,j.xb)(e)||e({[t]:this.state.expanded})}))})),this.state={expanded:!(null===(t=e.expandedTables)||void 0===t||!t[e.tableName])||e.expanded}}render(){var{title:e,tableName:t,children:r,scrollLeft:i,hidden:s}=this.props,{expanded:n}=this.state;return s?null:(0,u.jsxs)("div",{className:"TUusRIq0coXv5GjSzh5s8Q==",children:[(0,u.jsx)(ZIe,{onExpand:this.toggleExpanded,tableName:t,expanded:n,scrollLeft:i,children:e}),(0,u.jsxs)($v,{className:"DC+8mT4Rbc7-BSlGiiMIZA==",expanded:n,onChange:this.toggleExpanded,children:[(0,u.jsx)("div",{style:{display:"none"},children:(0,u.jsx)(ry,{})}),r]})]})}}qIe.defaultProps={expanded:!1,hidden:!1,setSelectedExpandedTables:O.wA,expandedTables:{}},qIe.propTypes={title:c().node.isRequired,hidden:c().bool,expanded:c().bool,children:c().node.isRequired,tableName:c().string.isRequired,scrollLeft:c().number.isRequired,expandedTables:c().object,setSelectedExpandedTables:c().func};const FIe=qIe,LIe="_4NHCTAHbPn3ZFKTOBW06Uw==",HIe="aUsjpNicUMFY-qosAUfRiw==";var _Ie=e=>{var{gray:t}=e,r=me()(LIe,{"NvhdOFKX5UUbdmYj46NSuA==":t});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:r,children:(0,u.jsx)(J.Z,{id:"Table.fact",defaultMessage:[{type:0,value:"Факт"}]})}),(0,u.jsx)("div",{className:r,children:(0,u.jsx)(J.Z,{id:"Table.absoluteDeviation",defaultMessage:[{type:0,value:"Абсолютное отклонение"}]})}),(0,u.jsx)("div",{className:r,children:(0,u.jsx)(J.Z,{id:"Table.relativeDeviation",defaultMessage:[{type:0,value:"Относительное отклонение"}]})})]})};_Ie.defaultProps={gray:!1},_Ie.propTypes={gray:c().bool};const BIe=_Ie,GIe=()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:LIe,children:(0,u.jsx)(J.Z,{id:"Table.forecastCorrected",defaultMessage:[{type:0,value:"Прогноз (корр.)"}]})}),(0,u.jsx)("div",{className:LIe,children:(0,u.jsx)(J.Z,{id:"Table.absoluteDeviationCorrected",defaultMessage:[{type:0,value:"Абсолютное отклонение (корр.)"}]})}),(0,u.jsx)("div",{className:LIe,children:(0,u.jsx)(J.Z,{id:"Table.relativeDeviationCorrected",defaultMessage:[{type:0,value:"Относительное отклонение (корр.)"}]})})]}),WIe="qfjum9wDH2q0RHIR02N67w==",UIe="XrmdGPWn5LytWqNsM459mw==",VIe="mnGVLxObCwCcwM7yJnmKAA==",zIe="BoJH-vYXu-YqNXAzBs28Hg==",YIe="cLsWGZP7JEv0+IBZV54oBg==",QIe="tZSU+RSOxw5MqPnrAg4jIg==",KIe="gR2O7ZM9FsCFfzpDeI5eaw==";var XIe=(e,t)=>(t?"+":"")+e,JIe=e=>{var{value:t,isWideAggregation:r}=e,i=t<0,s=t>0,n=null===t?"":t;return(0,u.jsx)("span",{title:XIe(n,s),children:(0,u.jsx)("div",{className:me()({"XJqKZokuVLGjg7hOfFKIPg==":i,"cecj5UpqdW+jL7YvCCkDWg==":s,[YIe]:r,[zIe]:!r}),children:XIe(n,s)})})};JIe.defaultProps={value:"",isWideAggregation:!1},JIe.propTypes={value:c().number,isWideAggregation:c().bool};const $Ie=JIe;var eZe=e=>{var{fteActual:t,cellWidth:r,fteErrorAbsolute:i,fteErrorRelative:s,gray:n,isWideAggregation:a}=e,o=me()({"sCAidzYbs9d-lja-u8+Ngg==":n});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:a,data:t,cellWidth:r,cellClassName:o}),(0,u.jsx)(hDe,{data:i,cellWidth:r,cellRenderer:e=>(0,u.jsx)($Ie,{isWideAggregation:a,value:e}),cellClassName:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:a,data:s,cellWidth:r,cellClassName:o})]})};eZe.defaultProps={fteActual:[],gray:!1},eZe.propTypes={fteActual:c().array,fteErrorAbsolute:c().array.isRequired,fteErrorRelative:c().array.isRequired,cellWidth:c().number.isRequired,gray:c().bool,isWideAggregation:c().bool.isRequired};const tZe=eZe;var rZe=e=>{var{cellWidth:t,fteCorrected:r,fteCorrectedErrorAbsolute:i,isWideAggregation:s}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,data:r,cellWidth:t}),(0,u.jsx)(hDe,{data:i,cellWidth:t,cellRenderer:e=>(0,u.jsx)($Ie,{isWideAggregation:s,value:e})})]})};rZe.propTypes={fteCorrected:c().array.isRequired,fteCorrectedErrorAbsolute:c().array.isRequired,cellWidth:c().number.isRequired,isWideAggregation:c().bool.isRequired};const iZe=rZe;var sZe=(0,u.jsx)(et.ZP,{glyph:et.UH}),nZe=e=>{var{headerLabels:t,name:r,data:i,scrollLeft:n,aggregation:a,isWideAggregation:o,isBacklogSkill:l,editForecast:c,intl:d,updateFte:p}=e,{fteForecast:h,fteActual:f,fteErrorAbsolute:v,fteErrorRelative:y,fteCorrected:g,fteCorrectedErrorAbsolute:b,fteCorrectedErrorRelative:j}=i,x=(0,s.I0)();(0,m.useEffect)((()=>(x((0,NZ.setSelectedTableName)(vDe.ss)),()=>{x((0,NZ.setSelectedTableName)(vDe.ss))})),[]);var S=(0,HDe.Lc)(d),O=$Ee(a),P=rDe(i.absActual),w=rDe(i.absForecast),C=rDe(i.absErrorAbsolute);return(0,u.jsxs)("div",{className:"Mve3-zlFWipv9tFYtlZAFA==",children:[(0,u.jsxs)(lDe,{classNames:"KduyYkSs4PgjWWjEIOLaXQ==",children:[(0,u.jsxs)("div",{className:"inAQ-MaWQGu5LWzOtF9+Yg==",style:{left:n},children:[(0,u.jsx)(KEe,{children:sZe}),(0,u.jsx)("span",{className:"_2ToxBo1ouUkKws51eYheJw==",title:r,children:r})]}),(0,u.jsx)(uDe,{tableContainerClassName:"IkOrZ24dFKvcb35D4jQG7Q==",children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:t,cellWidth:O})})]}),(0,u.jsx)(FIe,{expanded:!0,tableName:vDe.ss,title:eDe,scrollLeft:n,children:(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:n,children:[(0,u.jsx)("div",{className:"aZbBPmLo-yO-qwbY3N36hw==",children:(0,u.jsx)(J.Z,{id:"Table.forecast",defaultMessage:[{type:0,value:"Прогноз"}]})}),(0,u.jsx)(BIe,{gray:l}),l&&(0,u.jsx)(GIe,{})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:h,cellWidth:O,cellClassName:"x9ZF0AxZeoMTGJYS5obxVQ=="}),(0,u.jsx)(tZe,{isWideAggregation:o,cellWidth:O,gray:l,fteErrorAbsolute:v,fteActual:f,fteErrorRelative:y}),l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(iZe,{isWideAggregation:o,cellWidth:O,fteCorrected:g,fteCorrectedErrorAbsolute:b,fteCorrectedErrorRelative:j}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:j,cellWidth:O})]})]})]})}),(0,u.jsx)(FIe,{expanded:!0,tableName:vDe.W2,title:"".concat(d.formatMessage(tDe)," (%)"),scrollLeft:n,children:(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:n,children:[(0,u.jsx)("div",{className:HIe,children:(0,u.jsx)(J.Z,{id:"Table.forecast",defaultMessage:[{type:0,value:"Прогноз"}]})}),(0,u.jsx)("div",{className:HIe,children:(0,u.jsx)(J.Z,{id:"Table.fact",defaultMessage:[{type:0,value:"Факт"}]})}),(0,u.jsx)("div",{className:HIe,children:(0,u.jsx)(J.Z,{id:"ScheduleBalancing.correction",defaultMessage:[{type:0,value:"Корректировка"}]})})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:w,cellWidth:O,cellRenderer:(e,t)=>(0,u.jsx)(KTe,{allowFloatNumbers:!0,onChange:e=>{var r;(r=vDe.ko,e=>{var{number:t,value:i}=e;c({tableName:r,number:t,value:i,notificationMessages:S})})({number:t,value:Number(e)}),p({tableName:"fteForecast",number:t})},value:e,className:"FeqqT-knzdKh32qHrcIAZg=="})}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:P,cellWidth:O}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:C,cellWidth:O})]})]})})]})};nZe.defaultProps={data:{fteActual:[],fteForecast:[],fteErrorAbsolute:[],fteErrorRelative:[],fteCorrected:[],fteCorrectedErrorAbsolute:[],fteCorrectedErrorRelative:[],absActual:[],absForecast:[],absErrorAbsolute:[],isWideAggregation:!1}},nZe.propTypes={aggregation:c().string.isRequired,headerLabels:c().array.isRequired,name:c().string.isRequired,data:c().object,scrollLeft:c().number.isRequired,isBacklogSkill:c().bool.isRequired,isWideAggregation:c().bool.isRequired,editForecast:c().func.isRequired,intl:Sc.Z.isRequired,updateFte:c().func.isRequired};const aZe=nZe,oZe=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({data:(0,TZ.lB)(e),headerLabels:(0,TZ.yd)(e,t),name:(0,TZ.Iv)(e),aggregation:(0,TZ.B$)(e),isBacklogSkill:(0,TZ.ro)(e)})),{editForecast:NZ.editForecast,updateFte:NZ.updateFte}),NDe)(aZe);var lZe=e=>{var{display:t}=e;return t?(0,u.jsx)("div",{className:me()("forecast__computing-loading","KIE4na5N3lxr5zGlp4vkhg=="),children:(0,u.jsxs)("div",{children:[(0,u.jsx)(nhe.Z,{color:Qi.mW}),(0,u.jsx)("div",{className:"_4ZWsNQ5ZN6+gyEcomFHAqQ==",children:(0,u.jsx)(J.Z,{id:"Forecast.updating",defaultMessage:[{type:0,value:"Обновление данных..."}]})})]})}):null};lZe.propTypes={display:c().bool.isRequired};const cZe=lZe;var dZe=c().shape({shortString:c().bool,isWideAggregation:c().bool,cellWidth:c().number,key:c().string,name:c().oneOfType([c().node,c().string]),bulletColor:c().string}),uZe=e=>{var{scrollLeft:t,data:r,rows:i}=e,{factEndIndex:s}=r,n=(e,t)=>t<=s;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(lDe,{children:[(0,u.jsx)(JEe,{scrollLeft:t,children:i.map((e=>e.bulletColor?(0,u.jsxs)("div",{className:"fbe1skoBjPOmDaIG8i4Ycg==",children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:e.bulletColor})}),e.name]},e.key):(0,u.jsx)("div",{className:"r6HUBgpxGf8ex3vE5XfHnw==",children:e.name},e.key)))}),(0,u.jsx)(uDe,{children:i.map((e=>{var t=me()({"_9KzHB5hPtB7tlyr0hkvDsg==":(0,j.xb)(e.bulletColor)});return(0,u.jsx)(hDe,{shortString:e.shortString,isWideAggregation:e.isWideAggregation,cellWidth:e.cellWidth,data:r[e.key],cellClassName:t,shouldHighlightCell:n},e.key)}))})]})})};uZe.defaultProps={data:{}},uZe.propTypes={scrollLeft:c().number.isRequired,data:c().object,rows:c().arrayOf(dZe).isRequired};const pZe=uZe;var hZe=e=>{var{scrollLeft:t,data:r,cellWidth:i,isWideAggregation:s}=e;return(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:t,children:[(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.iX})}),(0,u.jsx)(J.Z,{id:"Table.ServiceLevel",defaultMessage:[{type:0,value:"Уровень сервиса"}]})]}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.ur})}),(0,u.jsx)(J.Z,{id:"Table.FunctioningCapacity",defaultMessage:[{type:0,value:"Загруженность"}]})]}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.a})}),(0,u.jsx)(J.Z,{id:"Table.ServiceLevelAverage",defaultMessage:[{type:0,value:"Уровень сервиса (ср. взв)"}]})]})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.serviceLevel}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.occupancy}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.serviceLevelWeighted})]})]})};hZe.propTypes={scrollLeft:c().number.isRequired,data:c().object.isRequired,cellWidth:c().number.isRequired,isWideAggregation:c().bool.isRequired};const fZe=hZe;var mZe=e=>{var{scrollLeft:t,data:r,cellWidth:i,isWideAggregation:s}=e,{factEndIndex:n}=r,a=(e,t)=>t<=n;return(0,u.jsx)("div",{children:(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:t,children:[(0,u.jsx)("div",{className:UIe,children:(0,u.jsx)(J.Z,{id:"Table.fteCorrection",defaultMessage:[{type:0,value:"Корректировки FTE"}]})}),(0,u.jsx)("div",{className:UIe,children:(0,u.jsx)(J.Z,{id:"Table.queueSize",defaultMessage:[{type:0,value:"Размер очереди"}]})}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.mU})}),(0,u.jsx)(J.Z,{id:"Table.overdue",defaultMessage:[{type:0,value:"Просроченные"}]})]}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.tR})}),(0,u.jsx)(J.Z,{id:"Table.pending",defaultMessage:[{type:0,value:"В ожидании"}]})]}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.mv})}),(0,u.jsx)(J.Z,{id:"Table.new",defaultMessage:[{type:0,value:"Новые"}]})]}),(0,u.jsxs)("div",{className:WIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.ur})}),(0,u.jsx)(J.Z,{id:"Table.processedForecast",defaultMessage:[{type:0,value:"Обработано"}]})]})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.fteCorrection,cellClassName:VIe,shouldHighlightCell:a}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.queueCapacityForecast,cellClassName:VIe,shouldHighlightCell:a}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.expiredForecast,shouldHighlightCell:a}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.inTurnForecast,shouldHighlightCell:a}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.newTicketForecast,shouldHighlightCell:a}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:s,cellWidth:i,data:r.processedForecast,shouldHighlightCell:a})]})]})})};mZe.defaultProps={data:{expiredForecast:[],inTurnForecast:[],workUnitsForecast:[],queueCapacityForecast:[],isWideAggregation:!1}},mZe.propTypes={scrollLeft:c().number.isRequired,data:c().object,cellWidth:c().number.isRequired,isWideAggregation:c().bool.isRequired};const vZe=mZe,yZe=(0,o.compose)((0,s.$j)((e=>({expandedTables:(0,TZ.cT)(e)})),(e=>({setSelectedExpandedTables:t=>e((0,NZ.setSelectedExpandedTables)(t))}))))(FIe);var gZe=e=>{var{scrollLeft:t,forecast:r,fact:i,absoluteDeviation:s,relativeDeviation:n,onForecastChange:a,cellWidth:o,isWideAggregation:l,editableClassName:c}=e,d=n.map((e=>e?Number(e.toFixed(2)):e));return(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:t,children:[(0,u.jsx)("div",{className:WIe,children:(0,u.jsx)(J.Z,{id:"Table.forecast",defaultMessage:[{type:0,value:"Прогноз"}]})}),(0,u.jsx)("div",{className:WIe,children:(0,u.jsx)(J.Z,{id:"Table.fact",defaultMessage:[{type:0,value:"Факт"}]})}),(0,u.jsx)("div",{className:WIe,children:(0,u.jsx)(J.Z,{id:"Table.absoluteDeviation",defaultMessage:[{type:0,value:"Абсолютное отклонение"}]})}),(0,u.jsx)("div",{className:WIe,children:(0,u.jsx)(J.Z,{id:"Table.relativeDeviation",defaultMessage:[{type:0,value:"Относительное отклонение"}]})})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{cellRenderer:(e,t)=>(0,u.jsx)(KTe,{value:e,onChange:e=>{a({number:t,value:e})},className:c,isOnlyPositiveNumbers:!0}),data:r,cellWidth:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:i,cellWidth:o}),(0,u.jsx)(hDe,{cellRenderer:e=>((e,t)=>(0,u.jsx)($Ie,{value:e,isWideAggregation:t}))(e,l),data:s,cellWidth:o}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:l,data:d,cellWidth:o})]})]})};gZe.defaultProps={forecast:[],fact:[],absoluteDeviation:[],relativeDeviation:[],cellWidth:30,isWideAggregation:!1,editableClassName:""},gZe.propTypes={forecast:c().array,fact:c().array,absoluteDeviation:c().array,relativeDeviation:c().array,scrollLeft:c().number.isRequired,onForecastChange:c().func.isRequired,cellWidth:c().number,isWideAggregation:c().bool,editableClassName:c().string};const bZe=gZe,jZe=class{constructor(e){this.label=e.label||"",this.name=e.name||"",this.key=e.key||"",this.bulletColor=e.bulletColor||"",this.shortString=!!e.shortString,this.isWideAggregation=!!e.isWideAggregation,this.cellWidth=e.cellWidth||30}};var xZe=(e,t,r)=>[new jZe({key:"queueCapacityEndOfInterval",shortString:!0,isWideAggregation:e,cellWidth:t,name:r.formatMessage({id:"Forecast.queueCapacityActual",defaultMessage:[{type:0,value:"Размер очереди"}]})}),new jZe({key:"expiredEndOfInterval",shortString:!0,isWideAggregation:e,cellWidth:t,name:r.formatMessage({id:"Table.overdue",defaultMessage:[{type:0,value:"Просроченные"}]}),bulletColor:zEe.mU}),new jZe({key:"inTurnEndOfInterval",shortString:!0,isWideAggregation:e,cellWidth:t,name:r.formatMessage({id:"Table.pending",defaultMessage:[{type:0,value:"В ожидании"}]}),bulletColor:zEe.tR})],SZe=(0,u.jsx)(et.ZP,{glyph:et.EJ}),OZe=e=>{var t,{data:r,headerLabels:i,name:s,scrollLeft:n,editForecast:a,intl:o,aggregation:l,isWideAggregation:c,isEstimatedIndicatorsEndAvailable:d}=e,p=(0,HDe.Lc)(o),h=$Ee(l),{computeType:f,description:m,serviceCallTime:v,fteForecast:y,workUnitsErrorAbsolute:g,workUnitsErrorRelative:b,workUnitsForecast:j,workUnitsActual:x,ahtErrorAbsolute:S,ahtErrorRelative:O,ahtForecast:P,ahtActual:w}=r,C=null===(t=r.abandonRate)||void 0===t?void 0:t.map((e=>null===e?e:parseFloat(null==e?void 0:e.toFixed(1)))),k=(0,HDe.c)(vDe.dP,o,m),T=f===Hte.v.ERLANG,N=e=>t=>{var{number:r,value:i}=t;a({tableName:e,number:r,value:i,notificationMessages:p})},R=c?YIe:zIe;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(lDe,{classNames:"pAnLUCnhkmfjAXMPeIK1jQ==",children:[(0,u.jsxs)("div",{className:"uLdmnEsnlOR3CeAIL6UZog==",style:{left:n},children:[(0,u.jsx)(KEe,{children:SZe}),(0,u.jsx)("span",{className:"_1jsc7uZwGYmfR3SWCctPBw==",title:s,children:s})]}),(0,u.jsx)(uDe,{tableContainerClassName:"paU6YLs-szo0bMJGXEZi4Q==",children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:c,data:i,cellWidth:h,rowClassNames:"X6jBHoLAx0GsiZnNqkxi0A=="})})]}),(0,u.jsxs)(lDe,{children:[(0,u.jsx)(JEe,{scrollLeft:n,children:(0,u.jsxs)("div",{style:{borderTop:"none"},className:QIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"fte"})}),(0,u.jsx)(J.Z,{id:"Forecast.needForStaffFte",defaultMessage:[{type:0,value:"Прогноз потребность в сотрудниках (FTE)"}]})]})}),(0,u.jsx)(uDe,{children:(0,u.jsx)(hDe,{data:y,cellWidth:h,cellRenderer:(e,t)=>(0,u.jsx)(KTe,{value:e,onChange:e=>{N(vDe.ss)({number:t,value:e})},className:R,isOnlyPositiveNumbers:!0})})})]}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(lDe,{hidden:!T,children:[(0,u.jsx)(JEe,{scrollLeft:n,children:(0,u.jsxs)("div",{className:QIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"lost"})}),(0,u.jsx)(J.Z,{id:"Forecast.lost",defaultMessage:[{type:0,value:"Процент потерянных"}]})]})}),(0,u.jsx)(uDe,{tableContainerClassName:KIe,children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:c,cellWidth:h,data:C})})]}),(0,u.jsxs)(lDe,{hidden:!T,children:[(0,u.jsx)(JEe,{scrollLeft:n,children:(0,u.jsxs)("div",{style:{borderBottom:"1px dotted ".concat(Qi.AH)},className:QIe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"expectation"})}),(0,u.jsx)(J.Z,{id:"Table.AverageWaitTime",defaultMessage:[{type:0,value:"Среднее время ожидания"}]})]})}),(0,u.jsx)(uDe,{tableContainerClassName:KIe,children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:c,cellWidth:h,data:r.acw})})]})]}),(0,u.jsxs)(UY,{trigger:f,children:[(0,u.jsx)(zY,{value:Hte.v.ERLANG,children:(0,u.jsx)(yZe,{tableName:vDe.ot,title:(0,HDe.c)(vDe.ot,o,m),scrollLeft:n,children:(0,u.jsx)(fZe,{isWideAggregation:c,scrollLeft:n,data:r,cellWidth:h})})}),(0,u.jsxs)(zY,{value:Hte.v.BACKLOG,children:[(0,u.jsx)(yZe,{tableName:vDe.ot,title:(0,HDe.c)(vDe.ot,o,m,v),scrollLeft:n,children:(0,u.jsx)(vZe,{isWideAggregation:c,scrollLeft:n,data:r,cellWidth:h})}),(0,u.jsx)(yZe,{tableName:vDe.xv,title:(0,HDe.c)(vDe.xv,o,m),scrollLeft:n,hidden:!d,children:(0,u.jsx)(pZe,{scrollLeft:n,data:r,rows:xZe(c,h,o)})})]})]}),(0,u.jsx)(yZe,{tableName:vDe.dP,title:k,scrollLeft:n,children:(0,u.jsx)(bZe,{editableClassName:R,isWideAggregation:c,scrollLeft:n,absoluteDeviation:g,relativeDeviation:b,forecast:j,fact:x,onForecastChange:N(vDe.dP),cellWidth:h})}),(0,u.jsx)(yZe,{tableName:vDe.nO,title:(0,HDe.c)(vDe.nO,o),scrollLeft:n,children:(0,u.jsx)(bZe,{editableClassName:R,isWideAggregation:c,scrollLeft:n,absoluteDeviation:S,relativeDeviation:O,forecast:P,fact:w,onForecastChange:N(vDe.nO),cellWidth:h})})]})};OZe.defaultProps={data:{fteForecast:[],workUnitsErrorAbsolute:[],workUnitsErrorRelative:[],workUnitsForecast:[],workUnitsActual:[],ahtErrorAbsolute:[],ahtErrorRelative:[],ahtForecast:[],ahtActual:[],serviceCallTime:0,isWideAggregation:!1},isEstimatedIndicatorsEndAvailable:!0},OZe.propTypes={data:c().object,headerLabels:c().array.isRequired,name:c().string.isRequired,scrollLeft:c().number.isRequired,editForecast:c().func.isRequired,intl:Sc.Z.isRequired,aggregation:c().string.isRequired,isWideAggregation:c().bool.isRequired,isEstimatedIndicatorsEndAvailable:c().bool};const PZe=OZe,wZe=(0,o.compose)(v.ZP,(0,s.$j)(((e,t)=>({data:(0,TZ.lB)(e),headerLabels:(0,TZ.yd)(e,t),name:(0,TZ.Iv)(e),aggregation:(0,TZ.B$)(e),isEstimatedIndicatorsEndAvailable:(0,B.vH)(e,"isEstimatedIndicatorsEndAvailable")})),{editForecast:NZ.editForecast}),NDe)(PZe),CZe="_4q5yfouc02FpxDW+92FpSQ==",kZe="n96AQmgENPP7DFywsLUeWQ==",TZe="EX01v2e2nMgLQH7X2OkIyQ==",NZe="_53V19GfdTeveTE2Y72uHtQ==";var RZe=(0,u.jsx)(J.Z,{id:"Forecast.needForStaffFte",defaultMessage:[{type:0,value:"Потребность в сотрудниках (FTE)"}]});const EZe="+JSq66s2JLKd7Dl1uiKnPw==",DZe="zzMnpyL8tbFIztg7iq1zVw==";var AZe=e=>{var{forecast:t,actual:r,errorAbsolute:i,errorRelative:s,scrollLeft:n,cellWidth:a,isWideAggregation:o,occupancy:l,serviceLevelWeighted:c,serviceLevel:d}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(lDe,{children:(0,u.jsxs)(JEe,{scrollLeft:n,children:[!(0,j.xb)(t)&&(0,u.jsx)("div",{className:DZe,children:(0,u.jsx)(J.Z,{id:"Table.forecast",defaultMessage:[{type:0,value:"Прогноз"}]})}),!(0,j.xb)(r)&&(0,u.jsx)("div",{className:DZe,children:(0,u.jsx)(J.Z,{id:"Table.fact",defaultMessage:[{type:0,value:"Факт"}]})}),!(0,j.xb)(i)&&(0,u.jsx)("div",{className:DZe,children:(0,u.jsx)(J.Z,{id:"Table.absoluteDeviation",defaultMessage:[{type:0,value:"Абсолютное отклонение"}]})}),!(0,j.xb)(s)&&(0,u.jsx)("div",{className:DZe,children:(0,u.jsx)(J.Z,{id:"Table.relativeDeviation",defaultMessage:[{type:0,value:"Относительное отклонение"}]})}),!(0,j.xb)(d)&&(0,u.jsxs)("div",{className:DZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.iX})}),(0,u.jsx)(J.Z,{id:"Table.ServiceLevel",defaultMessage:[{type:0,value:"Уровень сервиса"}]})]}),!(0,j.xb)(l)&&(0,u.jsxs)("div",{className:DZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.ur})}),(0,u.jsx)(J.Z,{id:"Table.FunctioningCapacity",defaultMessage:[{type:0,value:"Загруженность"}]})]}),!(0,j.xb)(c)&&(0,u.jsxs)("div",{className:DZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(sAe,{color:zEe.tR})}),(0,u.jsx)(J.Z,{id:"Table.ServiceLevelAverage",defaultMessage:[{type:0,value:"Уровень сервиса (ср. взв)"}]})]})]})}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:t,cellWidth:a,cellClassName:EZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:r,cellWidth:a,cellClassName:EZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:i,cellWidth:a,cellClassName:EZe,cellRenderer:e=>(0,u.jsx)($Ie,{isWideAggregation:o,value:e})}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:s,cellWidth:a,cellClassName:EZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:d,cellWidth:a,cellClassName:EZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:l,cellWidth:a,cellClassName:EZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:o,data:c,cellWidth:a,cellClassName:EZe})]})]})};AZe.defaultProps={forecast:[],actual:[],errorAbsolute:[],errorRelative:[],serviceLevel:[],serviceLevelWeighted:[],occupancy:[]},AZe.propTypes={forecast:c().array,actual:c().array,errorAbsolute:c().array,errorRelative:c().array,scrollLeft:c().number.isRequired,isWideAggregation:c().bool.isRequired,cellWidth:c().number.isRequired,serviceLevelWeighted:c().array,occupancy:c().array,serviceLevel:c().array};const MZe=AZe;var IZe=e=>{var{data:{ahtForecast:t,ahtActual:r,ahtErrorAbsolute:i,ahtErrorRelative:s},intl:n,scrollLeft:a,isWideAggregation:o,cellWidth:l}=e;return(0,u.jsx)("div",{children:(0,u.jsx)(FIe,{expanded:!0,title:(0,HDe.c)(vDe.nO,n),tableName:vDe.nO,scrollLeft:a,hidden:(0,j.xb)(r)&&(0,j.xb)(t)&&(0,j.xb)(i)&&(0,j.xb)(s),children:(0,u.jsx)(MZe,{isWideAggregation:o,cellWidth:l,scrollLeft:a,forecast:t,actual:r,errorAbsolute:i,errorRelative:s})})})};IZe.defaultProps={scrollLeft:0,data:{ahtForecast:[],ahtActual:[],ahtErrorAbsolute:[],ahtErrorRelative:[]},isWideAggregation:!1},IZe.propTypes={data:c().object,intl:P.gm.isRequired,scrollLeft:c().number,cellWidth:c().number.isRequired,isWideAggregation:c().bool};const ZZe=IZe;var qZe=e=>{var{scrollLeft:t,ahtActual:r,cellWidth:i,hidden:s}=e;return s?null:(0,u.jsxs)(lDe,{children:[(0,u.jsx)(JEe,{scrollLeft:t,children:(0,u.jsxs)("div",{className:TZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"aht"})}),(0,u.jsx)(J.Z,{id:"Forecast.CallProcessingTimeAHT",defaultMessage:[{type:0,value:"Среднее время обработки (AHT)"}]})]})}),(0,u.jsx)(uDe,{children:(0,u.jsx)(hDe,{data:r,cellWidth:i})})]})};qZe.defaultProps={scrollLeft:0,ahtActual:[],hidden:!1},qZe.propTypes={scrollLeft:c().number,cellWidth:c().number.isRequired,ahtActual:c().array,hidden:c().bool};const FZe=qZe;var LZe=e=>{var{data:{workUnitsForecast:t,workUnitsActual:r,workUnitsErrorAbsolute:i,workUnitsErrorRelative:s,description:n},scrollLeft:a,cellWidth:o,intl:l,isWideAggregation:c}=e;return(0,u.jsx)("div",{children:(0,u.jsx)(FIe,{expanded:!0,title:(0,HDe.c)(vDe.dP,l,n),tableName:vDe.dP,scrollLeft:a,hidden:(0,j.xb)(r)&&(0,j.xb)(t)&&(0,j.xb)(i)&&(0,j.xb)(s),children:(0,u.jsx)(MZe,{cellWidth:o,isWideAggregation:c,scrollLeft:a,forecast:t,actual:r,errorAbsolute:i,errorRelative:s})})})};LZe.defaultProps={scrollLeft:0,data:{workUnitsForecast:[],workUnitsActual:[],workUnitsErrorAbsolute:[],workUnitsErrorRelative:[]},isWideAggregation:!1},LZe.propTypes={data:c().object,intl:P.gm.isRequired,scrollLeft:c().number,cellWidth:c().number.isRequired,isWideAggregation:c().bool};const HZe=LZe;var _Ze=e=>{var{scrollLeft:t,cellWidth:r,intl:i,description:s,workUnitsActual:n,hidden:a}=e;return a?null:(0,u.jsx)("div",{children:(0,u.jsxs)(lDe,{children:[(0,u.jsx)(JEe,{scrollLeft:t,children:(0,u.jsxs)("div",{className:TZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"calls"})}),(0,u.jsx)(J.Z,{id:"Forecast.Calls",defaultMessage:[{type:0,value:"Количество"}],values:{value:s}})]})}),(0,u.jsx)(uDe,{children:(0,u.jsx)(hDe,{data:n,cellWidth:r,intl:i})})]})})};_Ze.defaultProps={scrollLeft:0,workUnitsActual:[],description:"",hidden:!1},_Ze.propTypes={intl:P.gm.isRequired,scrollLeft:c().number,hidden:c().bool,description:c().string,cellWidth:c().number.isRequired,workUnitsActual:c().array};const BZe=_Ze;var GZe=e=>{var{data:{computeType:t,fteActual:r,fteForecast:i,fteErrorAbsolute:n,fteErrorRelative:a,absForecast:o,absActual:l,description:c,workUnitsActual:d,ahtActual:p,serviceLevelWeighted:h,serviceLevel:f,occupancy:v,acw:y,abandonRate:g},headerLabels:b,names:x,scrollLeft:S,isWideAggregation:O,data:P}=e,w=(0,s.v9)(VDe),C=(0,er.Z)(),k=(0,s.I0)(),T=$Ee(YEe.Sp),N={left:S},R=(0,s.v9)(GDe),E=(0,s.v9)(UDe),D=rDe(g),A=rDe(l),M=rDe(o),I=rDe(P.absErrorAbsolute);return(0,m.useEffect)((()=>{2===R.length&&E&&k((0,NZ.setSelectedTableName)(vDe.dP))}),[R.length,E]),(0,m.useEffect)((()=>()=>{k((0,NZ.setSelectedTableName)(vDe.ss))}),[]),(0,u.jsxs)("div",{className:"SUiW70jr11Cpmwc8U-5XpQ==",children:[(0,u.jsxs)(lDe,{classNames:"GbzZCUHi5Pg1J17PFK78Zw==",children:[(0,u.jsx)("div",{hidden:(0,j.xb)(x),className:"JZJ0znchnQXljiNWszryLg==",style:N,children:(0,u.jsx)("span",{title:x,children:x})}),(0,u.jsx)(uDe,{tableContainerClassName:"_2bcDgt-9SR6JHL0OY+UWWA==",children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,data:b,cellWidth:T})})]}),(0,u.jsx)(FIe,{expanded:!0,title:RZe,tableName:vDe.ss,scrollLeft:S,hidden:(0,j.xb)(r)&&(0,j.xb)(n)&&(0,j.xb)(a),children:(0,u.jsx)(MZe,{isWideAggregation:O,cellWidth:T,scrollLeft:S,actual:r,forecast:i,errorRelative:a,errorAbsolute:n})}),!(0,j.xb)(i)&&(0,u.jsxs)(lDe,{hidden:!(0,j.xb)(r)&&!(0,j.xb)(n)&&!(0,j.xb)(a),children:[(0,u.jsx)(JEe,{scrollLeft:S,children:(0,u.jsxs)("div",{className:kZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"fte"})}),(0,u.jsx)(J.Z,{id:"Forecast.needForStaffFte",defaultMessage:[{type:0,value:"Прогноз потребность в сотрудниках (FTE)"}]})]})}),(0,u.jsx)(uDe,{tableContainerClassName:NZe,children:(0,u.jsx)(hDe,{data:i,cellWidth:T,cellClassName:CZe})})]}),t===Hte.v.ERLANG&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(lDe,{hidden:(0,j.xb)(i),children:[(0,u.jsx)(JEe,{scrollLeft:S,children:(0,u.jsxs)("div",{className:kZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"lost"})}),(0,u.jsx)(J.Z,{id:"Forecast.lost",defaultMessage:[{type:0,value:"Процент потерянных"}]})]})}),(0,u.jsx)(uDe,{tableContainerClassName:NZe,children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,cellWidth:T,data:D,cellClassName:CZe})})]}),(0,u.jsxs)(lDe,{hidden:(0,j.xb)(i),children:[(0,u.jsx)(JEe,{scrollLeft:S,children:(0,u.jsxs)("div",{className:kZe,children:[(0,u.jsx)(KEe,{children:(0,u.jsx)(aDe,{tableName:"expectation"})}),(0,u.jsx)(J.Z,{id:"Table.AverageWaitTime",defaultMessage:[{type:0,value:"Среднее время ожидания"}]})]})}),(0,u.jsx)(uDe,{tableContainerClassName:NZe,children:(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,cellWidth:T,data:y,cellClassName:CZe})})]}),(0,u.jsx)(FIe,{expanded:!0,title:(0,HDe.c)(vDe.ot,C,c),tableName:vDe.ot,scrollLeft:S,hidden:(0,j.xb)(i),children:(0,u.jsx)(MZe,{isWideAggregation:O,cellWidth:T,scrollLeft:S,serviceLevel:f,serviceLevelWeighted:h,occupancy:v})})]}),"multiLine"===w?(0,u.jsx)(BZe,{hidden:!E,scrollLeft:S,cellWidth:T,intl:C,description:c,workUnitsActual:d}):(0,u.jsx)(HZe,{data:P,intl:C,scrollLeft:S,cellWidth:T,description:c,isWideAggregation:O}),"multiLine"===w?(0,u.jsx)(FZe,{hidden:!E,scrollLeft:S,ahtActual:p,cellWidth:T}):(0,u.jsx)(ZZe,{intl:C,scrollLeft:S,isWideAggregation:O,cellWidth:T,data:P}),(0,u.jsx)(FIe,{expanded:!0,tableName:vDe.W2,title:"".concat(C.formatMessage(tDe)," (%)"),scrollLeft:S,hidden:(0,j.xb)(l)&&(0,j.xb)(o),children:(0,u.jsxs)(lDe,{children:[(0,u.jsxs)(JEe,{scrollLeft:S,children:[(0,u.jsx)("div",{className:kZe,children:(0,u.jsx)(J.Z,{id:"Table.forecast",defaultMessage:[{type:0,value:"Прогноз"}]})}),(0,u.jsx)("div",{className:kZe,children:(0,u.jsx)(J.Z,{id:"Table.fact",defaultMessage:[{type:0,value:"Факт"}]})}),(0,u.jsx)("div",{className:kZe,children:(0,u.jsx)(J.Z,{id:"ScheduleBalancing.correction",defaultMessage:[{type:0,value:"Корректировка"}]})})]}),(0,u.jsxs)(uDe,{children:[(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,data:M,cellWidth:T,cellClassName:CZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,data:A,cellWidth:T,cellClassName:CZe}),(0,u.jsx)(hDe,{shortString:!0,isWideAggregation:O,data:I,cellWidth:T,cellClassName:CZe})]})]})})]})};GZe.defaultProps={scrollLeft:0,data:{fteActual:[],fteForecast:[],fteErrorAbsolute:[],fteErrorRelative:[],fteCorrected:[],fteCorrectedErrorAbsolute:[],fteCorrectedErrorRelative:[],absActual:[],absForecast:[],workUnitsForecast:[],workUnitsActual:[],workUnitsErrorAbsolute:[],workUnitsErrorRelative:[],serviceLevelWeighted:[],serviceLevel:[],occupancy:[],abandonRate:[],acw:[],ahtForecast:[],ahtActual:[],ahtErrorAbsolute:[],ahtErrorRelative:[]},isWideAggregation:!1},GZe.propTypes={data:c().object,headerLabels:c().array.isRequired,names:c().string.isRequired,scrollLeft:c().number,isWideAggregation:c().bool};const WZe=GZe;var UZe=e=>{var t=(0,s.v9)(TZ.lB),r=(0,s.v9)(YDe),i=(0,s.v9)((t=>(0,TZ.yd)(t,e))),n=(0,s.v9)(TZ.B$);return(0,u.jsx)(WZe,{data:t,headerLabels:i,names:r,aggregation:n,isWideAggregation:e.isWideAggregation,scrollLeft:e.scrollLeft})};UZe.defaultProps={isWideAggregation:!1,scrollLeft:0},UZe.propTypes={isWideAggregation:c().bool,scrollLeft:c().number};const VZe=(0,o.compose)(v.ZP,NDe)(UZe);function zZe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class YZe extends m.Component{constructor(){super(...arguments),zZe(this,"state",{openOperationId:"",openAddOperation:!1,nextWidth:0,nextHeight:0}),zZe(this,"handleFetchForecasts",(()=>{var{fetchForecasts:e,currentItem:t,selectedPeriod:{from:r,to:i},selectedAggregation:s}=this.props;(0,j.xb)(t)||e({type:t.type,id:t.id,from:r,to:i,aggregation:s},!1)})),zZe(this,"handleResize",(()=>{var{onResize:e}=this.props,t=document.body.clientWidth/100*50,r=document.body.clientHeight-305;this.state.nextHeight>r&&e({topHeight:r}),this.state.nextWidth>t&&e({leftWidth:t})})),zZe(this,"handleLeftWidthChange",(e=>{var{sizes:{leftWidth:t},onResize:r}=this.props,i=t+e,s=document.body.clientWidth/100*50;this.setState({nextWidth:i}),i<zEe.S8?r({leftWidth:zEe.S8}):r(i>s?{leftWidth:s}:{leftWidth:i})})),zZe(this,"handleTopHeightChange",(e=>{var{sizes:{topHeight:t},onResize:r}=this.props,i=document.body.clientHeight-305,s=t+e;this.setState({nextHeight:s}),s<_F.Xi?r({topHeight:_F.Xi}):r(s>i?{topHeight:i}:{topHeight:s})})),zZe(this,"handleChartChange",(e=>{var{x:t,y:r}=e,{editForecast:i,selectedTableName:s,intl:n}=this.props;i({tableName:s,number:t,value:r,notificationMessages:(0,HDe.Lc)(n)})})),zZe(this,"handleChangeOperation",((e,t)=>{this.setState({openOperationId:e,operationSkillId:t,openAddOperation:!0})})),zZe(this,"handleCreateOperation",(e=>{this.setState({operationSkillId:e,openAddOperation:!0})})),zZe(this,"handleCloseOperation",(()=>{var{removeOperationDTO:e,setCheckedWeekDays:t,setCheckedCalendarDays:r,currentItem:i,receiveCurrentItem:s}=this.props;this.setState({openOperationId:"",openAddOperation:!1}),e(),t([]),r([]),s(i)})),zZe(this,"handleRemoveOperation",((e,t)=>{var{fetchQueueBySkill:r,removeOperation:i}=this.props;i(e,(()=>{r(t),this.handleFetchForecasts()}))}))}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var{fetchForecasts:t,currentItem:r,selectedPeriod:{from:i,to:s},selectedAggregation:n}=this.props;r===e.currentItem||(0,j.xb)(r)||t({type:r.type,id:r.id,from:i,to:s,aggregation:n},!1)}render(){var{sizes:{topHeight:e,leftWidth:t},currentItem:r,loading:i,selectedAggregation:s,isShowLicenseModal:n,typeEntities:a,selectedSkillsId:o,selectQueuesId:l,selectLinesId:c}=this.props,{openAddOperation:d,operationSkillId:p,openOperationId:h}=this.state,f={height:e},m={width:t},v={height:e-60},y=me()("JgOyMm4lnfh35q+RzZDCTw==","scrollbar"),g=""===h?_F.NO:_F.kZ,b=!("DAY"!==s&&"WEEK"!==s&&"MONTH"!==s&&a!==YEe.Sp);return(0,u.jsxs)("div",{className:"mY4NMWRvKnB89F6p+Tr16g==",children:[n&&(0,u.jsx)(Yv.Z,{}),(0,u.jsx)(cZe,{display:i}),(0,u.jsxs)("div",{className:"xMYzp48JsrsCGGSj54pLEQ==",style:f,children:[(0,u.jsxs)("div",{className:"U6L1o9KXvl5OD9wN3vQaAA==",style:m,children:[(0,u.jsx)(MIe,{refreshBtnDisabled:o.length<2&&l.length<2&&c.length<2&&(0,j.xb)(r)}),(0,u.jsx)("div",{className:y,style:v,children:(0,u.jsx)(fIe,{containerWidth:t,onChangeOperation:this.handleChangeOperation,onCreateOperation:this.handleCreateOperation,onRemoveOperation:this.handleRemoveOperation})})]}),(0,u.jsx)(Ze.dy,{open:d,handleBackArrow:this.handleCloseOperation,title:g,width:715,children:(0,u.jsx)(KMe,{groupId:r.id,skillId:p,operationId:h,fetchForecastsCb:this.handleFetchForecasts,closeForm:this.handleCloseOperation})}),(0,u.jsx)("div",{className:"lDI9o3oOQrZOMXyaDWtZpg==",children:(0,u.jsx)(SAe,{children:(0,u.jsx)(rAe,{onChange:this.handleChartChange,currentType:r.type})})})]}),(0,u.jsx)("div",{className:"eqTzoxrJzRNsUAD3+v20iw==",children:(0,u.jsxs)(UY,{trigger:a,children:[(0,u.jsx)(zY,{value:YEe.UR,children:(0,u.jsx)(oZe,{isWideAggregation:b})}),(0,u.jsx)(zY,{value:YEe.c8,children:(0,u.jsx)(wZe,{isWideAggregation:b})}),(0,u.jsx)(zY,{value:YEe.jv,children:(0,u.jsx)(RDe,{isWideAggregation:b})}),(0,u.jsx)(zY,{value:YEe.Sp,children:(0,u.jsx)(VZe,{isWideAggregation:b})}),(0,u.jsx)(zY,{value:YEe.Bn,children:(0,u.jsx)(VZe,{isWideAggregation:b})}),(0,u.jsx)(zY,{value:YEe.ez,children:(0,u.jsx)(VZe,{isWideAggregation:b})})]})}),(0,u.jsx)(es,{onDrag:this.handleLeftWidthChange,style:{left:t,height:"".concat(e,"px")}}),(0,u.jsx)(es,{onDrag:this.handleTopHeightChange,orientation:"vertical",style:{top:e}})]})}}YZe.propTypes=_()({sizes:c().shape({leftWidth:c().number.isRequired,topHeight:c().number.isRequired}).isRequired,onResize:c().func.isRequired,currentItem:c().shape({type:c().string,id:P.K5}).isRequired,from:(0,zi.Z)(ft._E).isRequired,to:(0,zi.Z)(ft._E).isRequired,fetchForecasts:c().func.isRequired,loading:c().bool.isRequired,selectedTableName:c().string.isRequired,editForecast:c().func.isRequired,intl:Sc.Z.isRequired,removeOperationDTO:c().func.isRequired,receiveCurrentItem:c().func.isRequired,setCheckedWeekDays:c().func.isRequired,setCheckedCalendarDays:c().func.isRequired,removeOperation:c().func.isRequired,fetchQueueBySkill:c().func.isRequired,selectedPeriod:ic.isRequired,selectedAggregation:c().string.isRequired,isShowLicenseModal:c().bool.isRequired,typeEntities:c().string.isRequired,selectedSkillsId:c().arrayOf(c().string).isRequired,selectLinesId:c().arrayOf(c().string).isRequired,selectQueuesId:c().arrayOf(c().string).isRequired});const QZe=YZe;var KZe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({sizes:(0,TZ.Xr)(e),currentItem:(0,TZ.Cm)(e),from:(0,TZ.OW)(e),to:(0,TZ.o1)(e),loading:(0,TZ.qM)(e),selectedTableName:(0,TZ.xS)(e),selectedPeriod:(0,TZ.KF)(e),selectedAggregation:(0,TZ.IE)(e),typeEntities:VDe(e),isShowLicenseModal:(0,Ou.M)(e),groupId:(0,Y.Wx)(e),selectedSkillsId:_De(e),selectQueuesId:BDe(e),selectLinesId:GDe(e)})),(e=>({onResize:t=>e((0,NZ.resizeLayout)(t)),fetchForecasts:(t,r)=>e((0,NZ.fetchForecasts)(t,r)),editForecast:t=>e((0,NZ.editForecast)(t)),receiveCurrentItem:t=>e((0,NZ.setCurrentItem)(t)),removeOperationDTO:()=>e((0,OAe.removeOperationDTO)()),setCheckedWeekDays:t=>e((0,OAe.setCheckedWeekDays)(t)),setCheckedCalendarDays:t=>e((0,OAe.setCheckedCalendarDays)(t)),fetchQueueBySkill:t=>e((0,L6.fetchQueueBySkill)(t)),removeOperation:(t,r)=>e((0,OAe.deleteOperation)(t,r)),fetchSkillsListByGroup:t=>e((0,L6.fetchSkillsListByGroup)(t)),clearCurrentItem:()=>e((0,NZ.clearCurrentItem)()),clearFteData:()=>e((0,NZ.clearFteData)()),setType:t=>e((0,fAe.setType)(t))}))),(0,Ci.c)(["history","location","params","route","routeParams","routes","children"]),qE(((e,t)=>{var{props:r}=e;r.groupId!==t.groupId&&(r.fetchSkillsListByGroup(r.groupId),r.clearFteData(),r.clearCurrentItem(),r.setType("none"))})))(QZe);const XZe=KZe;var JZe=[{value:"day",label:(0,u.jsx)(J.Z,{id:"Forecast.day",defaultMessage:[{type:0,value:"День"}]})},{value:"interval",label:(0,u.jsx)(J.Z,{id:"Forecast.interval",defaultMessage:[{type:0,value:"Интервал"}]})}];var $Ze=e=>{var{input:{value:t,onChange:r}}=e;return(0,u.jsx)(Zb.E,{onChange:e=>r(e),options:JZe,selectedValue:t,classContainer:"_3rL3BjrkXoNtNKAGd363xg=="})};$Ze.propTypes={input:c().object.isRequired};const eqe=$Ze,tqe="_7F6Y-2Gsrug+swzByWt41w==",rqe="iU53oSV9HV8Z7EUEpmEo4g==";var iqe=e=>{var{input:{value:t,onChange:r},mode:i,constructionPeriod:s}=e,[n,a]=(0,m.useState)({from:ns()().subtract(2,"day").format(ft.vc),to:ns()().subtract(1,"day").format(ft.vc)}),o="interval"===i&&(n.from>n.to||n.to>s.from)||"day"===i&&n.from>s.from;return(0,u.jsxs)(Be.ZP,{className:"_1DY9eqdggDFg3Vq0e9s6FQ==",children:[(0,u.jsxs)("div",{className:tqe,children:[(0,u.jsx)("div",{className:rqe,children:(0,u.jsx)(J.Z,{id:"ForecastComputing.historicForecast",defaultMessage:[{type:0,value:"Исторический горизонт"}]})}),(0,u.jsx)(mt.Z,{date:n.from,onChange:e=>a({from:e,to:n.to}),maxDate:ns()(s.from,ft.vc).subtract(1,"day").format(ft.vc),dateFormat:ft.vc}),"interval"===i&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(vb.i,{}),(0,u.jsx)(mt.Z,{date:n.to,minDate:n.from,onChange:e=>a({from:n.from,to:e}),dateFormat:ft.vc})]}),(0,u.jsx)(Ae.Z,{onClick:()=>{r([...t,{from:n.from,to:"interval"===i?ns()(n.to).format(ft.vc):ns()(n.from).add(1,"day").format(ft.vc)}])},className:"TPO2ECMrHHY5oPSJWPBNuw==",disabled:o,children:(0,u.jsx)(et.ZP,{glyph:et.dt})})]}),t&&t.map(((e,s)=>(0,u.jsxs)("div",{className:tqe,children:[(0,u.jsx)("div",{className:rqe}),(0,u.jsx)("span",{style:{paddingLeft:"10px"},children:ns()(e.from,ft.vc).format(ft._T)}),"interval"===i&&(0,u.jsxs)("div",{className:"YND+Jl9xRvCjfU7qwAqVaQ==",children:[(0,u.jsx)(vb.i,{}),(0,u.jsx)("span",{style:{paddingLeft:"10px"},children:ns()(e.to,ft.vc).format(ft._T)})]}),(0,u.jsx)(Ae.Z,{className:"hfqPCgjmV8t7jaoN+kxK9Q==",onClick:()=>(e=>{var i=t.filter(((t,r)=>r!==e));return r(i)})(s),children:(0,u.jsx)(et.ZP,{glyph:et.XH})})]},e.id||s)))]})};iqe.defaultProps={input:{value:[]},constructionPeriod:{from:"",to:""}},iqe.propTypes={input:c().object,constructionPeriod:c().object,mode:c().string.isRequired};const sqe=iqe;var nqe=e=>{var{onChange:t,tree:r,skillIdsArray:i,groupId:n,mainGroupId:a}=e,o=(0,s.I0)(),l=n===a?[n]:[n,a],c=(0,m.useMemo)((()=>r),[r]),[d,p]=(0,m.useState)(l),[h,f]=(0,m.useState)([]),[v,y]=(0,m.useState)(""),[g,b]=(0,m.useState)(r);return(0,m.useEffect)((()=>{o((0,NZ.setSelectedIds)(h))}),[h]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"NqvjSQgFwgcyHSmeAjBgig==",children:[(0,u.jsx)(Swe.Z,{nodes:c,onChange:e=>{if(y(e),i.includes(e))f(new Array(e)),p(l);else{var t=(0,HF.oj)(e,r[0]).filter((e=>i.includes(e)));f(t),p((0,HF.CT)(e,r[0])),b(new Array((0,HF.JL)(r[0],e)))}},value:v}),(0,u.jsx)(Ae.Z,{disabled:(0,j.xb)(v),onClick:()=>{y(""),b(r),p(l)},children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]}),(0,u.jsx)(aL,{isHiddenIconDellFilter:!0,expanded:d,onExpand:e=>p(e),nodes:g,onCheck:e=>{var r=e.filter((e=>i.includes(e)));f(r),t(r)},checked:h})]})};nqe.defaultProps={tree:[],skillIdsArray:[],onChange:O.wA},nqe.propTypes={onChange:c().func,tree:c().array,skillIdsArray:c().array,groupId:c().string.isRequired,mainGroupId:c().string.isRequired};const aqe=nqe;var oqe=e=>{var t,{onChange:r}=e,i=(0,s.I0)(),n=(0,s.v9)(Y.Wx);(0,m.useEffect)((()=>{i((0,NZ.fetchSkillHierarchy)())}),[]);var a=(0,s.v9)(TZ.gb),o=(0,s.v9)(TZ.cd),l=(0,s.v9)(TZ.xC),c=null===(t=a[0])||void 0===t?void 0:t.value;return o?(0,u.jsx)(Z.Z,{}):(0,j.xb)(a)?null:(0,u.jsx)(aqe,{tree:a,onChange:r,skillIdsArray:l,groupId:n,mainGroupId:c})};oqe.defaultProps={onChange:O.wA},oqe.propTypes={onChange:c().func};const lqe=oqe,cqe="kY2kaPZSpgQ2Qy+HrWobiA==",dqe="DDdVKI1uD1ZVkRXw-ptbcA==",uqe="sEdprF0dNclQ3adUYdXFwQ==";var pqe=e=>{var{children:t,action:r,onClose:i}=e,s=(0,m.useRef)(null),n=(0,m.useCallback)((()=>{s.current.click()}),[s]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ae.Z,{onClick:n,children:t}),(0,u.jsx)("input",{type:"file",name:"file",ref:s,id:"fact-import-file",style:{display:"none"},onChange:e=>{var t=e.target.files[0];if(t){var n=new FormData;n.append("file",t),r(n,(()=>{s&&(s.current.value=""),i()}))}}})]})};pqe.propTypes={children:c().node.isRequired,action:c().func.isRequired,onClose:c().func.isRequired};const hqe=pqe;var fqe=e=>{var{onImportForecasts:t,onImportHistory:r,onImportHistoryBacklog:i,onImportAbsHours:s,onImportAbsDays:n}=e,[a,o]=(0,m.useState)(!1),[l,c]=(0,m.useState)(!1),[d,p]=(0,m.useState)(!1),[h,f]=(0,m.useState)(),v=(0,m.useRef)(null),y=(0,m.useRef)(null),g=(0,m.useRef)(null);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(Ae.Z,{onClick:e=>{c(!0),f(e.target)},className:cqe,children:[(0,u.jsx)(et.ZP,{glyph:et.bb,className:uqe}),(0,u.jsx)(J.Z,{id:"ForecastComputing.downloadForecast",defaultMessage:[{type:0,value:"Загрузить прогноз"}]})]}),(0,u.jsx)(Ns.ZP,{open:l,anchorEl:h,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onClose:()=>c(!1),children:(0,u.jsxs)(pd.Z,{zDepth:3,style:{textAlign:"center",padding:"16px"},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(Ae.Z,{onClick:()=>v.current.click(),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.15min",defaultMessage:[{type:0,value:"15 минут"}]})}),(0,u.jsx)("input",{type:"file",name:"minutes",ref:v,style:{display:"none"},onChange:e=>{t(e,"15min"),c(!1),o(!1)}})]}),(0,u.jsx)("div",{className:"context-color_warning mt",children:(0,u.jsx)(J.Z,{id:"ForecastComputing.15minForecastMustBeLoaded",defaultMessage:[{type:0,value:"Для действий ниже, прогноз по 15 минут должен быть предварительно загружен."}]})}),(0,u.jsx)(iZ.Z,{}),(0,u.jsxs)("div",{className:"mt",children:[(0,u.jsx)(Ae.Z,{onClick:()=>y.current.click(),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.hour",defaultMessage:[{type:0,value:"По часам"}]})}),(0,u.jsx)("input",{type:"file",name:"hour",ref:y,style:{display:"none"},onChange:e=>{t(e,"hour"),c(!1),o(!1)}})]}),(0,u.jsxs)("div",{className:"mt",children:[(0,u.jsx)(Ae.Z,{fullWidth:!0,onClick:()=>g.current.click(),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.day",defaultMessage:[{type:0,value:"По суткам"}]})}),(0,u.jsx)("input",{type:"file",name:"day",ref:g,style:{display:"none"},onChange:e=>{t(e,"day"),c(!1),o(!1)}})]})]})}),(0,u.jsxs)(Ae.Z,{onClick:e=>{o(!0),f(e.target)},className:cqe,children:[(0,u.jsx)(et.ZP,{glyph:et.bb,className:uqe}),(0,u.jsx)(J.Z,{id:"Forecast.downloadFact",defaultMessage:[{type:0,value:"Загрузить факт"}]})]}),(0,u.jsx)(Ns.ZP,{open:a,anchorEl:h,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onClose:()=>o(!1),children:(0,u.jsxs)(pd.Z,{zDepth:3,style:{textAlign:"center",padding:"16px"},children:[(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(hqe,{action:r,onClose:()=>o(!1),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.uploadFact",defaultMessage:[{type:0,value:"Загрузить факт (звонки)"}]})})}),(0,u.jsx)("div",{className:"mt",children:(0,u.jsx)(hqe,{action:i,onClose:()=>o(!1),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.uploadFactBacklog",defaultMessage:[{type:0,value:"Загрузить факт (бэклог)"}]})})})]})}),(0,u.jsxs)(Ae.Z,{onClick:e=>{p(!0),f(e.target)},className:cqe,children:[(0,u.jsx)(et.ZP,{glyph:et.bb,className:uqe}),(0,u.jsx)(J.Z,{id:"ForecastComputing.downloadAbs",defaultMessage:[{type:0,value:"Загрузить абсентеизм"}]})]}),(0,u.jsx)(Ns.ZP,{open:d,anchorEl:h,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onClose:()=>p(!1),children:(0,u.jsxs)(pd.Z,{zDepth:3,style:{textAlign:"center",padding:"8px 10px"},children:[(0,u.jsx)("div",{className:dqe,children:(0,u.jsx)(hqe,{action:s,onClose:()=>p(!1),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.hour",defaultMessage:[{type:0,value:"По часам"}]})})}),(0,u.jsx)("div",{className:dqe,children:(0,u.jsx)(hqe,{action:n,onClose:()=>p(!1),children:(0,u.jsx)(J.Z,{id:"ForecastComputing.day",defaultMessage:[{type:0,value:"По суткам"}]})})})]})})]})};fqe.propTypes={onImportForecasts:c().func.isRequired,onImportHistory:c().func.isRequired,onImportHistoryBacklog:c().func.isRequired,onImportAbsHours:c().func.isRequired,onImportAbsDays:c().func.isRequired};const mqe=fqe,vqe=()=>{var e=(0,s.I0)();return(0,u.jsx)(mqe,{onImportForecasts:(t,r)=>{var i=t.target.files[0];if(i){var s=new FormData;s.append("file",i),e((0,NZ.importForecast)(s,r))}},onImportHistory:(t,r)=>{e((0,NZ.importHistory)(t,(()=>{r&&r()})))},onImportHistoryBacklog:(t,r)=>{e((0,NZ.importHistoryBacklog)(t,(()=>{r&&r()})))},onImportAbsHours:(t,r)=>e((0,NZ.importAbs)(t,"hours",(()=>{r&&r()}))),onImportAbsDays:(t,r)=>e((0,NZ.importAbs)(t,"days",(()=>{r&&r()})))})};var yqe=e=>{var{children:t,onSendBtnClick:r,isSaveBtnDisabled:i,isForecastBuildPage:n}=e,a=(0,s.I0)(),o=me()("qx4WtPajz4uZoFNmIrM5AA==",{"Q9bNT7wmrMtssbS9pSuHeg==":n,"tJcRbLRa5guiHAc4NCsahQ==":!n},"scroll"),l=(0,u.jsx)(J.Z,{id:"Actions.build",defaultMessage:[{type:0,value:"Построить"}]});return(0,m.useEffect)((()=>()=>{a((0,NZ.clearSelectedIds)())}),[]),(0,u.jsxs)("div",{className:"wilOUibqW0YBqIcPi3WPqg==",children:[(0,u.jsxs)("div",{className:"dQpPFn-nPELorfact9delw==",children:[(0,u.jsx)("div",{className:o,children:(0,u.jsx)(lqe,{onChange:e=>a((0,NZ.setSelectedIds)(e))})}),(0,u.jsx)("div",{className:"_2aObVl-k5tyNmsv6b+RoyA==",children:t}),(0,u.jsx)("div",{className:"J8bppQERfgf-j1ui94c90A==",children:(0,u.jsx)(vqe,{isAbs:!0})})]}),(0,u.jsx)("footer",{hidden:n,className:"VyRyTFvhji1tX--zIILfow==",children:(0,u.jsx)(Ge.Z,{onClick:r,type:"stripped",disabled:i,caption:l})})]})};yqe.propTypes={children:c().node.isRequired,onSendBtnClick:c().func.isRequired,isSaveBtnDisabled:c().bool,isForecastBuildPage:c().bool},yqe.defaultProps={isSaveBtnDisabled:!1,isForecastBuildPage:!1};const gqe=yqe;var bqe=e=>{var{formValues:t,handleSubmit:r,selectedIds:i,invalid:s}=e,n="interval"===(null==t?void 0:t.mode)&&(null==t?void 0:t.from)>(null==t?void 0:t.to)||(0,j.xb)(null==t?void 0:t.historyPeriodsSelector)||(0,j.xb)(i)||s;return(0,u.jsxs)(gqe,{isSaveBtnDisabled:n,onSendBtnClick:r,children:[(0,u.jsx)(_e.Z,{component:eqe,name:"mode"}),(0,u.jsxs)("div",{className:"n-7o0W80dNwQNtqNxiKFRw==",children:[(0,u.jsx)("div",{className:"oAa4LHakYx2pcnwOrh0f5g==",children:(0,u.jsx)(J.Z,{id:"Forecast.constructionPeriod",defaultMessage:[{type:0,value:"Период построения"}]})}),(0,u.jsx)(_e.Z,{component:Zfe.Z,name:"from",dateFormat:ft.vc}),"interval"===(null==t?void 0:t.mode)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(vb.i,{}),(0,u.jsx)(_e.Z,{component:Zfe.Z,minDate:null==t?void 0:t.from,name:"to",dateFormat:ft.vc})]})]}),(0,u.jsx)(_e.Z,{component:sqe,constructionPeriod:{from:null==t?void 0:t.from,to:null==t?void 0:t.to},name:"historyPeriodsSelector",mode:null==t?void 0:t.mode})]})};bqe.propTypes={formValues:c().object.isRequired,handleSubmit:c().func.isRequired,selectedIds:c().array.isRequired,invalid:c().bool.isRequired};const jqe=bqe;function xqe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Sqe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xqe(Object(r),!0).forEach((function(t){Oqe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xqe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oqe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pqe="ForecastUntypicalPeriods",wqe=(0,gG.q9)(["historyPeriodsSelector","from","to"]);const Cqe=(0,o.compose)((0,s.$j)((e=>({formValues:(0,qe.Z)(Pqe)(e),selectedIds:(0,TZ.bN)(e)})),(e=>({generateUntypicalForecast:(t,r)=>e((0,NZ.generateUntypicalForecast)(t,r))})),((e,t,r)=>Sqe(Sqe(Sqe(Sqe({},e),t),r),{},{onSubmit:r=>{var{from:i,to:s,mode:n,historyPeriodsSelector:a}=r,o=e.selectedIds.map((e=>({type:"skill",id:e}))),l=a.map((e=>({from:e.from,to:(0,ft.Om)(e.to,ft.vc)}))),c=a.map((e=>({from:e.from,to:(0,ft.Om)(e.from,ft.vc)})));t.generateUntypicalForecast({from:i,to:"day"===n?(0,ft.Om)(i,ft.vc):(0,ft.Om)(s,ft.vc),objects:o,historyPeriods:"day"===n?c:l})}}))),(0,Fe.Z)({form:Pqe,destroyOnUnmount:!1,initialValues:{mode:"day",from:(0,ft.zO)(ft.vc),to:(0,ft.Om)((0,ft.zO)(ft.vc),ft.vc),historyPeriodsSelector:[]},validate:wqe}))(jqe),kqe="FLUPHtCNxxZCR2J8cVPvKQ==",Tqe="DJTeFyDAqsQ5q+zCjvM6-w==",Nqe="cavx0ipkNykIZ7Sw14OgyQ==";var Rqe=(0,u.jsx)(J.Z,{id:"Common.value",defaultMessage:[{type:0,value:"Значение"}]}),Eqe=(0,u.jsx)(J.Z,{id:"Common.profile",defaultMessage:[{type:0,value:"Профиль"}]}),Dqe=(J.Z,(0,u.jsx)(J.Z,{id:"Menu.forecast.build",defaultMessage:[{type:0,value:"Построить прогноз"}]})),Aqe=(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]}),Mqe=(0,u.jsx)(J.Z,{id:"Forecast.abs",defaultMessage:[{type:0,value:"Абсентеизм"}]}),Iqe=(0,u.jsx)(J.Z,{id:"Forecast.absApplyText",defaultMessage:[{type:0,value:"Абсентеизм будет применён к периоду построения; прогноз по обращениям перестроен не будет."}]}),Zqe=(0,u.jsx)(J.Z,{id:"Forecast.periodText",defaultMessage:[{type:0,value:"Период построения — даты, на которые строим прогноз."}]}),qqe=(0,u.jsx)(J.Z,{id:"Forecast.checkboxText",defaultMessage:[{type:0,value:"Учёт незапланированных отсутствий для корректировки потребности в сотрудниках."}]}),Fqe=(0,u.jsx)(J.Z,{id:"Forecast.absComment",defaultMessage:[{type:0,value:"Если поле не заполнено, данные абсентеизма обновлены не будут."}]}),Lqe=(0,u.jsx)(J.Z,{id:"Forecast.backToForecastText",defaultMessage:[{type:0,value:"Вернуться к прогнозам"}]}),Hqe=(0,u.jsx)(J.Z,{id:"ForecastComputing.historicForecastTitle",defaultMessage:[{type:0,value:"Непрерывный период исторических данных."}]}),_qe={id:"EmployeeForm.profilesSearch",defaultMessage:"Поиск по профилям"},Bqe=e=>{var{handleSubmit:t,isSelectedIds:r,formValues:i,intl:n,isForecastLoading:a,destroyForm:o}=e,l=(0,s.I0)(),{push:c}=(0,y.k6)(),d=(0,s.v9)(TZ.GD),{id:p}=(0,y.UO)(),h=!(0,j.xb)(p),f=((e,t)=>{var r=(0,j.xb)(e)||(0,j.xb)(e.from)||(0,j.xb)(e.to);return t?r:r||(0,j.xb)(e.historyFrom)||(0,j.xb)(e.historyTo)})(i,h);(0,m.useEffect)((()=>{l((0,NZ.fetchAbsProfileList)())}),[]),(0,m.useEffect)((()=>()=>{o()}),[]);var v=!(null!=i&&i.absEnabled);return(0,u.jsx)(gqe,{onSendBtnClick:t,isSaveBtnDisabled:!r||a,isForecastBuildPage:!0,children:(0,u.jsxs)("div",{className:"MTUnJIVCbGdrf0glXum96w==",children:[(0,u.jsx)("div",{className:"wHuGzPXrApHnOqpMuU2Xjw==",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{hidden:h,className:"aHfdiBwWDZvrfJdEy7juyw==",children:[(0,u.jsxs)("div",{className:kqe,children:[(0,u.jsx)("div",{className:Tqe,children:(0,u.jsx)(J.Z,{id:"ForecastComputing.historicForecast",defaultMessage:[{type:0,value:"Исторический горизонт"}]})}),(0,u.jsx)(_e.Z,{component:Zfe.Z,isEmptyInitDate:!0,showMask:!1,name:"historyFrom",dateFormat:ft._E}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(_e.Z,{minDate:null==i?void 0:i.historyFrom,isEmptyInitDate:!0,showMask:!1,component:Zfe.Z,name:"historyTo",dateFormat:ft._E})]}),(0,u.jsx)("div",{className:Nqe,children:Hqe})]}),(0,u.jsx)("div",{className:"YYtKJSV0LUNfpdFOdU+e0Q==",hidden:!h,children:Iqe}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"wDzPVmezZAW3r-VKe0s6Yw==",children:[(0,u.jsxs)("div",{className:kqe,children:[(0,u.jsx)("div",{className:Tqe,children:(0,u.jsx)(J.Z,{id:"Forecast.constructionPeriod",defaultMessage:[{type:0,value:"Период построения"}]})}),(0,u.jsx)(_e.Z,{component:Zfe.Z,showMask:!1,isEmptyInitDate:!0,name:"from",dateFormat:ft._E}),(0,u.jsx)(vb.i,{}),(0,u.jsx)(_e.Z,{minDate:null==i?void 0:i.from,showMask:!1,component:Zfe.Z,isEmptyInitDate:!0,name:"to",dateFormat:ft._E})]}),(0,u.jsx)("div",{className:Nqe,children:Zqe})]})}),(0,u.jsxs)("div",{className:"Plwb6Hq62pEHG-Dw2dO9kQ==",children:[(0,u.jsx)(_e.Z,{disabled:h,component:wr.XZ,name:"absEnabled",label:Mqe,classNameLabel:"_48W6odu7V4UajAHOF2BUSw==",className:"_1xKgovu2ujzE4yckjGM6AA=="}),(0,u.jsx)("div",{className:Nqe,children:qqe}),(0,u.jsx)("div",{className:Nqe,children:Fqe}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,u.jsx)(_e.Z,{name:"radioGroup",component:e=>{var{input:t}=e;return(0,u.jsx)(Zb.E,{disable:v,options:[{value:"absRadio",label:Rqe},{value:"profileRadio",label:Eqe}],selectedValue:t.value||"absRadio",onChange:t.onChange,radioBtnContainerClassName:"-nDmKXhKX8Pw0GaZ0vQjWg==",classContainer:"BL90AmnhEd+Ewi2cUh08sg==",removeBtnMargins:!0})}}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20,width:"100%"},children:[(0,u.jsx)(_e.Z,{component:A7,name:"abs",disabled:v||"absRadio"!==i.radioGroup,className:"_4mvRt3F43AcVedybIHJ4HQ=="}),(0,u.jsx)(_e.Z,{component:ZZ.Z,disabled:v||"profileRadio"!==i.radioGroup,name:"absenceProfileId",dataSource:d,dataSourceConfig:{value:"id",text:"description"},hintText:n.formatMessage(_qe),className:"XVn9Kc++-m3afBfdLbaL0g=="})]})]})]})]})}),(0,u.jsxs)("div",{className:"flex-container flex-container_align-items-center",children:[(0,u.jsx)(Ge.Z,{className:me()("raion-button raion-button-default","_0ZVin8H6N4mAW0jlrqjTCA=="),onClick:t,disabled:!r||a||f,caption:h?Aqe:Dqe}),(0,u.jsx)("div",{hidden:!h,className:"_41xKIRCy1+8W3ivdhqs0yA==",onClick:()=>{c("/forecast/build")},children:Lqe})]})]})})};Bqe.propTypes={handleSubmit:c().func.isRequired,destroyForm:c().func.isRequired,isSelectedIds:c().bool.isRequired,formValues:c().object.isRequired,isForecastLoading:c().bool.isRequired,intl:P.gm.isRequired};const Gqe=Bqe;function Wqe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Uqe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wqe(Object(r),!0).forEach((function(t){Vqe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wqe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vqe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zqe="ForecastBuild";const Yqe=(0,o.compose)(y.EN,(0,s.$j)((e=>({formValues:(0,qe.Z)(zqe)(e),isSelectedIds:(0,TZ.eg)(e),selectedIds:(0,TZ.bN)(e),isForecastLoading:(0,TZ.qM)(e)})),(e=>({generateForecast:(t,r)=>e((0,NZ.generateForecast)(t,r)),applyAbs:(t,r)=>e((0,NZ.applyAbs)(t,r)),destroyForm:()=>e((0,Qr.ob)(zqe))})),((e,t,r)=>Uqe(Uqe(Uqe(Uqe({},e),t),r),{},{initialValues:{from:"",to:"",historyFrom:"",historyTo:"",abs:null,absEnabled:!(0,j.xb)(r.match.params.id),absenceProfileId:!(0,j.xb)(r.match.params.id)&&r.match.params.id,radioGroup:(0,j.xb)(r.match.params.id)?"absRadio":"profileRadio"},onSubmit:i=>{var{from:s,to:n,historyFrom:a,historyTo:o,abs:l,absenceProfileId:c,absEnabled:d,radioGroup:u}=i,{id:p}=r.match.params,h=!(0,j.xb)(p),f=e.selectedIds.map((e=>({type:"skill",id:e}))),m=()=>d?"absRadio"!==u?null:l?Number(l):null:null,v=()=>d?"profileRadio"!==u?null:c:null;h?t.applyAbs({absenceProfileId:v(),from:(0,ft.X5)((0,ft.b7)(s)),to:(0,ft.X5)((0,ft.Om)((0,ft.b7)(n))),abs:m(),objects:f}):t.generateForecast({from:(0,ft.b7)(s),to:(0,ft.Om)((0,ft.b7)(n)),historyFrom:(0,ft.b7)(a),historyTo:(0,ft.Om)((0,ft.b7)(o)),objects:f,absenceProfileId:v(),abs:m()})}}))),(0,Fe.Z)({form:zqe,destroyOnUnmount:!1,enableReinitialize:!0}),v.ZP)(Gqe);var Qqe=e=>{var{height:t,color:r,margin:i}=e;return(0,u.jsx)("div",{style:{height:t,backgroundColor:r,margin:i}})};Qqe.defaultProps={color:"#D9D9D9",margin:"0"},Qqe.propTypes={height:c().number.isRequired,margin:c().string,color:c().string};const Kqe=Qqe;var Xqe=e=>{var[t,r]=(0,m.useState)(!1);return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:e.headerClassNames,children:[(0,u.jsx)(nh.Z,{open:t,onClick:()=>r(!t),className:e.className}),(0,u.jsx)("div",{className:e.titleClassName,children:e.title})]}),t&&e.children]})};Xqe.defaultProps={className:"",titleClassName:"",headerClassNames:""},Xqe.propTypes={children:c().node.isRequired,title:c().node.isRequired,className:c().string,titleClassName:c().string,headerClassNames:c().string};const Jqe=Xqe,$qe="_2x25g2cdwhIlAT2hbf11+g==",eFe="Y0ijtK135ds4-HB0Bfkg4g==",tFe="cTQsRyx3phdv+c3xusMEoA==",rFe="_9DELJgxIjzYljUi+Hqb3iQ==",iFe="We4f3WzRpH1tslmZCcKiwg==",sFe="_3vX18Mt2iQAo3bjgOpHF0w==";var nFe=(0,u.jsx)(J.Z,{id:"Absenteeism.skill",defaultMessage:[{type:0,value:"Навык факта абсентеизма"}]}),aFe={id:"ExportAbsenteeism.table",defaultMessage:"Экспорт профиля абсентеизма"},oFe={id:"EditingAbsenteeism.table",defaultMessage:"Редактирование профиля абсентеизма"},lFe={id:"DeleteAbsenteeism.table",defaultMessage:"Удаление профиля абсентеизма"},cFe={id:"Absenteeism.factAbsSkillTitleMessage",defaultMessage:"Построенный по факту этого навыка прогноз можно будет применить на тот же навык или выбрать другой при расчете FTE"},dFe={id:"Absenteeism.activitiesTitleMessage",defaultMessage:"Активности, которые нужно учесть как абсентеизм в фактическом горизонте навыка"},uFe={id:"Absenteeism.historicForecastTitleMessage",defaultMessage:"Непрерывный период фактических данных отсутствий сотрудников, на основе которого будет построен прогноз абсентеизма"},pFe={id:"Absenteeism.dimensionTitleMessage",defaultMessage:'Учет профиля построения. День - усреднит все дни между собой, неделя - будет учитывать порядок дней неделю. При историческом горизонте менее трех месяцев лучше использовать "день".'},hFe=(0,u.jsx)(J.Z,{id:"Absenteeism.forecastProfileDescription",defaultMessage:[{type:0,value:"Описание профиля прогноза"}]}),fFe=(0,u.jsx)(J.Z,{id:"Actions.actions",defaultMessage:[{type:0,value:"Действия"}]}),mFe=e=>{var{onExport:t,onApply:r,onEdit:i,onDelete:s,hasCRUDRights:n,intl:a,locale:o}=e;return[new VP.sg({key:"generationDate",width:172,label:Cpe,sortable:!0,hasTitle:!1,headerClassName:sFe,renderCell:e=>(0,u.jsx)("div",{className:rFe,children:ns()(e.generationDate,ft._E).format("en"===o.value?ft.fw:ft._T)})}),new VP.sg({key:"skillName",width:236,filterable:!0,headerClassName:sFe,cellClassName:rFe,label:nFe,hasTitle:!1,renderCell:e=>(0,u.jsx)("div",{className:rFe,children:(0,u.jsx)("span",{className:iFe,children:e.skillName})})}),new VP.sg({key:"description",width:475,filterable:!0,autoSize:!0,headerClassName:sFe,cellClassName:rFe,label:hFe,hasTitle:!1,renderCell:e=>(0,u.jsx)("div",{className:rFe,title:e.description,children:(0,u.jsx)("span",{className:iFe,children:e.description})})}),new VP.sg({key:"actions",width:171,headerClassName:sFe,cellClassName:rFe,label:fFe,hasTitle:!1,renderCell:e=>(0,u.jsx)("div",{className:rFe,children:(0,u.jsxs)("div",{className:"l-pUVA-0CCwDxC6q9f5VOQ==",children:[(0,u.jsxs)("div",{className:"gyZhW7RbDngGMZu8PawKDA==",children:[(0,u.jsx)(Ae.Z,{disabled:!n,onClick:()=>r(e.id),children:H_}),(0,u.jsx)(Ae.Z,{hint:a.formatMessage(aFe),onClick:()=>t(e.id),children:(0,u.jsx)(et.ZP,{glyph:et.gq})}),(0,u.jsx)(Ae.Z,{hint:a.formatMessage(oFe),disabled:!n,onClick:()=>i(e.id),children:(0,u.jsx)(et.ZP,{glyph:et.vd})})]}),(0,u.jsx)("div",{children:(0,u.jsx)(VC.I,{onSubmit:()=>s(e.id),disabled:!n,popup:!0,children:(0,u.jsx)(Ae.Z,{disabled:!n,hint:a.formatMessage(lFe),children:(0,u.jsx)(et.ZP,{glyph:et.XH})})})})]})})})]};function vFe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yFe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vFe(Object(r),!0).forEach((function(t){gFe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vFe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gFe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bFe={text:"name",value:"id"},jFe=(0,u.jsx)(J.Z,{id:"CalendarViewSelect.week",defaultMessage:[{type:0,value:"Неделя"}]}),xFe=e=>{var{intl:t}=e,r=(0,s.I0)(),i=(0,s.v9)(TZ.If),n=(0,s.v9)(H6.Vy),a=(0,s.v9)(va),o=(e,t)=>{r((0,NZ.setAbsenteeismForecastSettings)(yFe(yFe({},i),{},{[t]:e})))};return(0,u.jsxs)("div",{className:"pRl82EYU5frzjWs-Kq1rAw==",children:[(0,u.jsxs)("div",{className:"K-jbJ7fwhZ3a3fXtGB8MFA==",children:[(0,u.jsxs)("div",{className:tFe,children:[(0,u.jsx)("span",{style:{marginRight:10},children:nFe}),(0,u.jsx)(Lte,{title:t.formatMessage(cFe)})]}),(0,u.jsxs)("div",{className:tFe,children:[(0,u.jsx)("span",{style:{marginRight:10},children:(0,u.jsx)(J.Z,{id:"Absenteeism.activities",defaultMessage:[{type:0,value:"Активности абсентеизма"}]})}),(0,u.jsx)(Lte,{title:t.formatMessage(dFe)})]}),(0,u.jsxs)("div",{className:tFe,children:[(0,u.jsx)("span",{style:{marginRight:10},children:(0,u.jsx)(J.Z,{id:"ForecastComputing.historicForecast",defaultMessage:[{type:0,value:"Исторический горизонт"}]})}),(0,u.jsx)(Lte,{title:t.formatMessage(uFe)})]}),(0,u.jsxs)("div",{className:tFe,children:[(0,u.jsx)("span",{style:{marginRight:10},children:(0,u.jsx)(J.Z,{id:"ForecastComputing.dimension",defaultMessage:[{type:0,value:"Размерность"}]})}),(0,u.jsx)(Lte,{title:t.formatMessage(pFe)})]})]}),(0,u.jsxs)("div",{className:"ejNupn4F+vyQyKZOqZ2opg==",children:[(0,u.jsx)("div",{children:(0,u.jsx)(Il.Z,{value:i.absFactSkill,dataSource:n,onChange:e=>o(e,"absFactSkill"),dataSourceConfig:bFe,classContainer:"gEGz7acOFTI8vdal7UJm-w=="})}),(0,u.jsx)("div",{children:(0,u.jsx)(Gl.Z,{values:i.absActivities,dataSource:a,onChange:e=>o(e,"absActivities"),dataSourceConfig:bFe,classContainer:"K8txSVy2T0VGxtAm8NKPoQ=="})}),(0,u.jsx)("div",{children:(0,u.jsx)(iie,{isHorizontal:!0,withLabel:!1,period:i.historicalPeriod,onChange:e=>o(e,"historicalPeriod"),firstPickerStyles:{marginLeft:0,marginRight:10}})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"RHb6tohCwWQ6D1dMqX76NA==",children:(0,u.jsx)(UR,{checked:i.dimension===x.ZP.DAY,label:AI,onChange:e=>o(e,"dimension"),value:x.ZP.DAY})}),(0,u.jsx)("span",{children:(0,u.jsx)(UR,{checked:i.dimension===x.ZP.WEEK,label:jFe,onChange:e=>o(e,"dimension"),value:x.ZP.WEEK})})]})]})]})};xFe.propTypes={intl:P.gm.isRequired};const SFe=(0,v.ZP)(xFe);var OFe=e=>{var{weekDayIndex:t,className:r}=e,i=(0,s.I0)(),n=(0,s.v9)(TZ.GG),{periods:a}=n[t];return(0,u.jsx)("div",{className:r,children:(0,u.jsx)(Eie.Z,{onClick:()=>{i((0,NZ.addAbsPeriod)(t))},disabled:a.length>=6||a.some((e=>(0,j.xb)(e.from)||(0,j.xb)(e.to))),withLabel:!1})})};OFe.propTypes={className:c().string.isRequired,weekDayIndex:c().number.isRequired};const PFe=OFe,wFe="NV57xnOaZxqBiAAD-a8NXg==",CFe="ofbdVTa6kNO4yiouUA1mqQ==";var kFe=e=>{var{weekDayIndex:t}=e,r=(0,s.I0)(),i=(0,s.v9)(TZ.JP),n=(e,i)=>{var{start:s,end:n}=i;r((0,NZ.changeAbsPeriod)({weekDayIndex:t,periodIndex:e,newPeriod:{from:s,to:n}}))};return(0,u.jsx)("div",{className:wFe,children:i[t].periods.map(((e,i)=>{var s=(0,j.xb)(e.from)&&(0,j.xb)(e.to),a=0===i;return(0,u.jsxs)("div",{className:wFe,children:[(0,u.jsx)(ree,{dashClassName:CFe,onChange:e=>n(i,e),value:{start:e.from,end:e.to},step:15}),(0,u.jsx)(Mz.Z,{withoutConfirm:!0,className:"-OwFAYWReS5aEanNrO-dXw==",disabled:s&&a,deleteCb:()=>((e,i)=>{i?n(e,{start:"",end:""}):r((0,NZ.deleteAbsPeriod)({weekDayIndex:t,periodIndex:e}))})(i,a)})]},i)}))})};kFe.propTypes={weekDayIndex:c().number.isRequired};const TFe=kFe,NFe=()=>(0,u.jsx)("div",{className:"_3Q5Taaff4kN1pWPE-TJ9lQ==",children:(0,u.jsx)("div",{className:"ztT8-jaJcmvZCGixDGN8Hg==",children:hye.map(((e,t)=>(0,u.jsxs)("div",{className:"s7IVEQcF5CokHjCADlSeKQ==",children:[(0,u.jsx)("div",{className:me()("zCYPtg90MdJRJfPNLe-3RA==",{"y7XtFyukO1Sxna3Tr5mBsA==":t>4}),children:e}),(0,u.jsx)(PFe,{weekDayIndex:t,className:"-65oA8bEiPsAbOwl7E9jnw=="}),(0,u.jsx)(TFe,{weekDayIndex:t})]},t)))})}),RFe="HauTehdWAj4D7GlgIKahkg==";var EFe=e=>{var{dateIndex:t,className:r,hidden:i}=e,n=(0,s.I0)();return i?null:(0,u.jsx)("div",{className:r,children:(0,u.jsx)(Eie.Z,{onClick:()=>{n((0,NZ.addOnetimeAbs)({dateIndex:t}))},withLabel:!1})})};EFe.defaultProps={hidden:!1,className:""},EFe.propTypes={className:c().string,dateIndex:c().number.isRequired,hidden:c().bool};const DFe=EFe,AFe=()=>{var e=(0,s.I0)(),t=(0,s.v9)(TZ.mi),r=(0,s.v9)(TZ.o9),i=(0,s.v9)(TZ.If),{from:n,to:a}=null==i?void 0:i.historicalPeriod;return(0,u.jsx)("div",{className:"NExZw2qbdrBzcmH-iBwtcg==",children:t.map(((t,i,s)=>{var{day:o,timeStart:l,timeEnd:c}=t;return(0,u.jsxs)("div",{className:"He01Xj3Sx-sBwRuIrW+OWA==",children:[(0,u.jsx)("div",{className:"_6v8lOx1M3PbPIffW1MXUvQ==",children:YX}),(0,u.jsx)(Koe.Z,{minDate:(0,ft.CK)(n),maxDate:(0,ft.CK)(a),onChange:t=>{return s=t,n=i,void e((0,NZ.changeOnetimeAbs)({exceptionIndex:n,newDateAndTime:{day:s,timeStart:r[n].timeStart,timeEnd:r[n].timeEnd}}));var s,n},showMask:!1,date:o,isEmptyInitDate:!0,dateFormat:ft.vc}),(0,u.jsx)("div",{className:"niMz-uYl36ogyqvDUt+Sgw==",children:iO.VW}),(0,u.jsx)(ree,{dashClassName:CFe,onChange:t=>{return s=i,n=t,void e((0,NZ.changeOnetimeAbs)({exceptionIndex:s,newDateAndTime:{day:r[s].day,timeStart:n.start,timeEnd:n.end}}));var s,n},value:{start:l,end:c},step:15,disabled:(0,j.xb)(o)}),(0,u.jsx)(DFe,{dateIndex:i+1,className:RFe,hidden:s.length>1&&i!==s.length-1}),(0,u.jsx)(Mz.Z,{withoutConfirm:!0,className:RFe,hidden:s.length<=1||i===s.length-1,disabled:s.length<=1,deleteCb:()=>{return t=i,void e((0,NZ.deleteOnetimeAbs)({exceptionIndex:t}));var t}})]})}))})};var MFe={id:"Absenteeism.buildForecastHint",defaultMessage:"Строим прогноз абсентеизма с горизонтом"},IFe={id:"Absenteeism.choseActivities",defaultMessage:"Выбранные активности"},ZFe={id:"Absenteeism.exceptionsForBuildingAbsHint",defaultMessage:"Периодические исключения для построения прогноза"},qFe={id:"Absenteeism.onetimeExceptionsForBuildingAbsHint",defaultMessage:"Разовые исключения для построения прогноза"},FFe={id:"Absenteeism.intervalSizeHint",defaultMessage:"С размерностью интервала"},LFe={id:"Common.day",defaultMessage:"День"},HFe={id:"Forecast.week",defaultMessage:"Неделя"},_Fe={id:"Common.withPeriods",defaultMessage:"с периодами"},BFe={id:"Common.withPeriod",defaultMessage:"с периодом"},GFe={0:{id:"Common.mondays",defaultMessage:"понедельники"},1:{id:"Common.tuesdays",defaultMessage:"вторники"},2:{id:"Common.wednesdays",defaultMessage:"среды"},3:{id:"Common.thursdays",defaultMessage:"четверги"},4:{id:"Common.fridays",defaultMessage:"пятницы"},5:{id:"Common.saturdays",defaultMessage:"субботы"},6:{id:"Common.sundays",defaultMessage:"воскресенья"}},WFe=JSON.parse(Kp.Z.getItem(I.H2));const UFe="RNRRdwZi5FE+5B6h2Vq+tg==";var VFe=e=>{var t,{setOpenHint:r,openHint:i}=e,n=(0,er.Z)(),a=(0,s.v9)(TZ.If),o=(0,s.v9)(TZ.GG),l=(0,s.v9)(TZ.mi),c=(0,s.v9)(ja),d=a.dimension===x.ZP.DAY?LFe:HFe,{absActivities:p}=a,h=JSON.parse(Kp.Z.getItem(I.H2)),f=ns()(a.historicalPeriod.from,ft._E).format("en"===h.value?ft.fw:ft._T),m=ns()(a.historicalPeriod.to,ft._E).format("en"===h.value?ft.fw:ft._T),v=((e,t)=>{for(var r=[],i=0;i<=6;i++){var{periods:s}=t[i];(null==s?void 0:s[0].from.length)>4&&(null==s?void 0:s[0].to.length)>4&&r.push("".concat(e.formatMessage(GFe[i])," ").concat(s.length>1?e.formatMessage(_Fe):e.formatMessage(BFe)," ").concat(s.filter((e=>!(0,j.xb)(e.from)&&!(0,j.xb)(e.to))).map((e=>"".concat(e.from," – ").concat(e.to))).join(", ")))}return r.join("; ")})(n,o),y=((e,t)=>{var r={},i=e.formatMessage(BFe),s=e.formatMessage(_Fe);return t.forEach((e=>{e.day&&(r[e.day]?r[e.day]=[...r[e.day],e]:r[e.day]=[e])})),"".concat(Object.keys(r).map((e=>" ".concat(ns()(e,ft._E).format("en"===(null==WFe?void 0:WFe.value)?ft.fw:ft._T),"\n    ").concat(((e,t,r,i)=>e[t].some((e=>e.timeStart.length>4&&e.timeEnd.length>4))?e[t].length>1?r:i:"")(r,e,s,i),"\n    ").concat(((e,t)=>e[t].map((e=>e.timeStart.length>4&&e.timeEnd.length>4?"".concat(e.timeStart,"–").concat(e.timeEnd):"")).join(", "))(r,e)))))})(n,l);return i?(0,u.jsxs)("div",{className:"_70etCsHkllthXnHHTJ0J6w==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{r(!1)},children:(0,u.jsx)(et.ZP,{classCustom:"s1EhalcWTjlLCSZKa5kezQ==",glyph:et.Tw})}),(0,u.jsxs)("div",{className:"-sagnJJgYFf19tStLVp8dQ==",children:[(0,u.jsx)("div",{className:"XL2CX9tvYKiBwLK3iEno8w==",children:(0,u.jsx)(J.Z,{id:"Absenteeism.result",defaultMessage:[{type:0,value:"Что получилось"}]})}),(0,u.jsx)("div",{className:UFe,children:"".concat(n.formatMessage(MFe),"\n         ").concat(f,"\n         –\n         ").concat(m,".")}),(0,u.jsx)("div",{className:UFe,children:"".concat(n.formatMessage(FFe),'\n         "').concat(n.formatMessage(d),'".\n         ')}),(0,u.jsx)("div",{className:UFe,children:"".concat((0,j.xb)(p)?"":"".concat(n.formatMessage(IFe),": ")).concat((t=p,t.map((e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.name})).join(", "))).concat((0,j.xb)(p)?"":".")}),(0,u.jsx)("div",{className:UFe,children:"".concat(v.length>0?"".concat(n.formatMessage(ZFe),": "):"").concat(v)}),(0,u.jsx)("div",{className:UFe,children:"".concat(y.length>0?"".concat(n.formatMessage(qFe),":"):"").concat(y)})]})]}):null};VFe.propTypes={setOpenHint:c().func.isRequired,openHint:c().bool.isRequired};const zFe=VFe;var YFe=r(78171);function QFe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function KFe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QFe(Object(r),!0).forEach((function(t){XFe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QFe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function XFe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const JFe=()=>{var e=(0,s.I0)(),t=(0,y.k6)(),r=(0,s.v9)(TZ.If),i=(0,s.v9)(TZ.Gz),n=(0,s.v9)(TZ.V$),a=(0,s.v9)(C.ts),[o,l]=(0,m.useState)(r),[c,d]=(0,m.useState)(KFe(KFe({},i),n)),[p,h]=(0,m.useState)(!0);(0,m.useEffect)((()=>{var e=KFe(KFe({},i),n);(0,j.xb)(c)&&d(e),(0,j.xb)(o)&&l(r),F5().isEqual(c,e)&&F5().isEqual(o,r)||(0,j.xb)(e)&&F5().isEqual(YFe.defaultAbsSettings,r)?h(!0):h(!1)}),[i,n,r]);var f=()=>{e((0,NZ.resetAbsenteeismForecastSettings)()),e((0,NZ.resetAbsPeriod)()),e((0,NZ.resetOnetimeAbs)()),d({}),l(YFe.defaultAbsSettings),h(!0),t.push("/forecast/absenteeism-calc/")};return(0,m.useEffect)((()=>()=>{e((0,NZ.resetAbsenteeismForecastSettings)()),e((0,NZ.resetAbsPeriod)()),e((0,NZ.resetOnetimeAbs)())}),[]),(0,u.jsxs)("div",{className:"Tvuxmo-3GgQlB-jw5zaKkw==",children:[(0,u.jsx)(Ae.Z,{onClick:()=>{var t=i.map((e=>KFe(KFe({},e),{},{timeEnd:(0,ft.jL)(e.timeEnd,"HH:mm:ss.mm"),timeStart:(0,ft.jL)(e.timeStart,"HH:mm:ss.mm")}))),s=n.map((e=>KFe(KFe({},e),{},{timeEnd:(0,ft.jL)(e.timeEnd,"HH:mm:ss.mm"),timeStart:(0,ft.jL)(e.timeStart,"HH:mm:ss.mm")})));r.id?e((0,NZ.updateAbsenceForecast)({id:r.id,skillId:r.absFactSkill,absenceActivities:r.absActivities,from:r.historicalPeriod.from,to:(0,ft.Om)(r.historicalPeriod.to,ft.vc),generationStep:r.dimension,singleExclusions:t,periodExclusions:s},(()=>{e((0,NZ.fetchAllShortAbsenceForecast)()),f()}))):e((0,NZ.buildAbsenceForecast)({skillId:r.absFactSkill,absenceActivities:r.absActivities,from:r.historicalPeriod.from,to:(0,ft.Om)(r.historicalPeriod.to,ft.vc),generationStep:r.dimension,singleExclusions:t,periodExclusions:s},(()=>{e((0,NZ.fetchAllShortAbsenceForecast)()),f()})))},className:"v3t8MHCYVJ7cGEogMiaGcA==",disabled:(()=>{if(!(0,X.BC)(a,x.ZP.RIGHTS.FORECASTING,x.ZP.CRUD))return!0;if((0,j.xb)(r.absFactSkill)||(0,j.xb)(r.absActivities))return!0;var e=!!(0,j.xb)(n)||!!n.some((e=>(0,ft.hF)(e.timeStart,e.timeEnd,ft.wJ)));return!((0,j.xb)(i)||i.some((e=>(0,ft.hF)(e.timeStart,e.timeEnd,ft.wJ))))||!e})(),children:(0,u.jsx)(J.Z,{id:"Menu.forecast.build",defaultMessage:[{type:0,value:"Построить прогноз"}]})}),(0,u.jsx)(Ae.Z,{onClick:f,disabled:p,children:(0,u.jsx)(J.Z,{id:"LaborCode.cancel",defaultMessage:[{type:0,value:"Отменить"}]})})]})},$Fe=()=>{var[e,t]=(0,m.useState)({}),r=(0,s.v9)(TZ.Y3),i=(0,s.v9)(C.ts),n=(0,y.k6)(),a=(0,s.I0)(),o=(0,er.Z)(),{id:l}=(0,y.UO)(),c=JSON.parse(Kp.Z.getItem(I.H2)),d={onExport:e=>{a((0,NZ.downloadAbsenceForecastExcel)({id:e}))},onApply:e=>{n.push("/forecast/build/".concat(e))},onEdit:e=>{n.push("./".concat(e))},onDelete:e=>{a((0,NZ.deleteAbsenceForecast)({id:e},(()=>{a((0,NZ.fetchAllShortAbsenceForecast)())}))),l===e&&(a((0,NZ.resetAbsenteeismForecastSettings)()),a((0,NZ.resetAbsPeriod)()),a((0,NZ.resetOnetimeAbs)()),n.push("/forecast/absenteeism-calc/"))},hasCRUDRights:(0,X.BC)(i,x.ZP.RIGHTS.FORECASTING,x.ZP.CRUD),intl:o,locale:c};return(0,u.jsx)("div",{className:"FSed6O2ECDx76ia863NYVQ==",children:(0,u.jsx)("div",{className:"_0HJOuSjAvAQKZoAZ2030ew==",children:(0,u.jsx)(VP.ZP,{filters:e,setFilter:t,columns:mFe(d),data:r,cellClassName:"virtualized-table__cell",classNameBottomRightGrid:"scroll",rowHeight:36,columnsAutoWidth:!0})})})};var eLe=(0,u.jsx)(J.Z,{id:"Absenteeism.settings",defaultMessage:[{type:0,value:"Настройки прогноза абсентеизма"}]}),tLe=(0,u.jsx)(J.Z,{id:"Absenteeism.periodicExceptions",defaultMessage:[{type:0,value:"Периодические исключения"}]}),rLe=(0,u.jsx)(J.Z,{id:"Absenteeism.onetimeExceptions",defaultMessage:[{type:0,value:"Разовые исключения"}]});const iLe=()=>{var e=(0,s.I0)(),t=(0,y.UO)(),[r,i]=(0,m.useState)(!0);return(0,m.useEffect)((()=>{e((0,Gv.fetchAbsenceWorkActivities)()),e((0,NZ.fetchAllShortAbsenceForecast)())}),[]),(0,m.useEffect)((()=>{t.id&&e((0,NZ.fetchAbsenceForecast)({id:t.id}))}),[t.id]),(0,u.jsxs)("div",{className:"MlKq4y8ZL53H87ApvKRdgQ==",children:[(0,u.jsxs)("div",{className:"cq25M4qN6E11u1Y6dax7XQ==",children:[(0,u.jsx)(Jqe,{title:eLe,className:$qe,headerClassNames:eFe,children:(0,u.jsx)(SFe,{})}),(0,u.jsx)(Kqe,{height:1,margin:"0 20px"}),(0,u.jsx)("div",{className:"zE20VwEnYY57GgiK8ME49w==",children:(0,u.jsx)(J.Z,{id:"Absenteeism.buildingExceptions",defaultMessage:[{type:0,value:"Задать исключения для построения"}]})}),(0,u.jsx)(Jqe,{title:tLe,className:$qe,headerClassNames:eFe,children:(0,u.jsx)(NFe,{})}),(0,u.jsx)(Jqe,{title:rLe,className:$qe,headerClassNames:eFe,children:(0,u.jsx)(AFe,{})}),(0,u.jsx)(zFe,{openHint:r,setOpenHint:i}),(0,u.jsx)(JFe,{})]}),(0,u.jsx)(Kqe,{height:1}),(0,u.jsx)($Fe,{})]})};var sLe=e=>{var{path:t,user:r}=e,i=(0,s.I0)(),n=(0,s.v9)(Y.Wx),a="".concat(t,"/analysis-trends"),o=(0,X.BC)(r,x.ZP.RIGHTS.FORECASTING);return(0,m.useEffect)((()=>{(0,j.xb)(n)||i((0,L6.fetchSkillsListByGroup)(n))}),[n]),o||(0,j.xb)(r)?(0,u.jsx)(Gi,{children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(MH,{exact:!0,path:t,title:{id:"Menu.forecast",defaultMessage:"Прогнозы"},children:(0,u.jsx)(XZe,{})}),(0,u.jsx)(MH,{path:"".concat(t,"/build/:id?"),title:{id:"Menu.forecast.build",defaultMessage:"Построить прогноз"},children:(0,u.jsx)(Yqe,{})}),(0,u.jsx)(MH,{path:"".concat(t,"/set-untypical"),title:{id:"Menu.forecast.setUntypical",defaultMessage:"Задать исключения"},children:(0,u.jsx)(Cqe,{})}),(0,u.jsx)(MH,{path:a,title:{id:"Menu.forecast.analysisTrends",defaultMessage:"Анализ трендов"},children:(0,u.jsx)(VEe,{path:a})}),(0,u.jsx)(MH,{path:"".concat(t,"/absenteeism-calc/:id?"),title:{id:"Menu.forecast.absenteeismCalc",defaultMessage:"Расчёт абсентеизма"},children:(0,u.jsx)(iLe,{path:a})})]})}):(0,u.jsx)(Vi,{user:r})};sLe.propTypes={path:c().string.isRequired,user:P.jZ.isRequired};const nLe=sLe;var aLe=r(20455);function oLe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function lLe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oLe(Object(r),!0).forEach((function(t){cLe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oLe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dLe=(0,u.jsx)(J.Z,{id:"ScheduleControl.CloseSelected",defaultMessage:[{type:0,value:"Закрыть выбранные"}]}),uLe=(0,u.jsx)(J.Z,{id:"ScheduleControl.OpenSelected",defaultMessage:[{type:0,value:"Открыть выбранные"}]});class pLe extends m.PureComponent{constructor(){super(...arguments),cLe(this,"handleClose",(()=>{var{editGroupsTracking:e,cells:t,period:r}=this.props,i=(0,Pa.H$)(t),s=aLe.M.BLOCK;(0,j.xb)(i)||e(lLe({listId:i,state:s},r))})),cLe(this,"handleOpen",(()=>{var{editGroupsTracking:e,cells:t,period:r}=this.props,i=(0,Pa.H$)(t),s=aLe.M.UNBLOCK;(0,j.xb)(i)||e(lLe({listId:i,state:s},r))}))}render(){var{cells:e,isCRUD:t}=this.props,r=(0,Pa.H$)(e),i=(0,j.xb)(r),s=!t||i;return(0,u.jsxs)("div",{className:"VkpxD8QLrOgFqW3OPygLWw==",children:[(0,u.jsx)(Ae.Z,{onClick:this.handleClose,disabled:s,children:dLe}),(0,u.jsx)(Ae.Z,{onClick:this.handleOpen,disabled:s,children:uLe})]})}}pLe.defaultProps={isCRUD:!1},pLe.propTypes={editGroupsTracking:c().func.isRequired,cells:c().object.isRequired,period:c().object.isRequired,isCRUD:c().bool};const hLe=pLe;var fLe=r(52707);const mLe=(0,o.compose)((0,s.$j)((e=>({cells:Da(e),period:Ea(e),user:(0,C.ts)(e)})),{editGroupsTracking:fLe.editGroupsTracking},Pa.uJ))(hLe);function vLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yLe extends m.Component{constructor(){super(...arguments),vLe(this,"handleFrom",(e=>{var t=(0,ft.b7)(e,ft.vc),{period:{to:r},setScheduleControlPeriod:i,getGroupsTracking:s}=this.props,n={from:t,to:r};i(n),s(n)})),vLe(this,"handleTo",(e=>{var t=(0,ft.iX)(e,ft.vc,!1),{period:{from:r},setScheduleControlPeriod:i,getGroupsTracking:s}=this.props,n={from:r,to:t};i(n),s(n)}))}render(){var{period:{from:e,to:t}}=this.props;return(0,u.jsx)(vIe,{from:e,to:t,handleFrom:this.handleFrom,handleTo:this.handleTo})}}yLe.propTypes={period:ic.isRequired,setScheduleControlPeriod:c().func.isRequired,getGroupsTracking:c().func.isRequired};const gLe=yLe,bLe=(0,o.compose)((0,s.$j)((e=>({period:Ea(e)})),{setScheduleControlPeriod:fLe.setScheduleControlPeriod,getGroupsTracking:fLe.getGroupsTracking}))(gLe),jLe="ztoyMAGNTtscaxKNgDgTNw==",xLe="ZK7mn+GQBVm6HPLq2OvZ1w==";var SLe=r(75425);function OLe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function PLe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OLe(Object(r),!0).forEach((function(t){wLe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OLe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class CLe extends m.Component{constructor(){super(...arguments),wLe(this,"getActiveAllBtn",(()=>{var{filter:{approve:e,decline:t,open:r,close:i}}=this.props;return!(e||t||r||i)})),wLe(this,"handleSetFilter",((e,t)=>{var{setGroupsTrackingFilter:r,setActivateCellByFilterStates:i,filter:s}=this.props,n={[t]:e},a=PLe(PLe({},s),n);r(n),i(a)})),wLe(this,"handleClearFilter",(()=>{var{setGroupsTrackingFilter:e,setActivateCellByFilterStates:t}=this.props,r=(0,SLe._3)();e(r),t(r)}))}render(){var{filter:{approve:e,decline:t,open:r,close:i}}=this.props,s=this.getActiveAllBtn();return(0,u.jsx)("div",{className:"QgDVfqZ7eSSFBd9lJkby1Q==",children:(0,u.jsxs)("div",{className:"zJld42jgYJEAzEMXLaDa3A==",children:[(0,u.jsx)(Ae.Z,{onClick:this.handleClearFilter,className:"+K3ZnpHLMfG+RCDRjaoB5w==",active:s,children:SLe.M0}),(0,u.jsx)(Rs.ZP,{onChange:this.handleSetFilter,label:SLe.qo,className:xLe,name:SLe.Bh,checked:e}),(0,u.jsx)(Rs.ZP,{onChange:this.handleSetFilter,label:SLe.q7,className:xLe,name:SLe.zw,checked:t}),(0,u.jsx)(Rs.ZP,{onChange:this.handleSetFilter,label:SLe.C9,className:xLe,name:SLe.Yc,checked:r}),(0,u.jsx)(Rs.ZP,{onChange:this.handleSetFilter,label:SLe.bZ,className:xLe,name:SLe.vx,checked:i})]})})}}CLe.propTypes={setGroupsTrackingFilter:c().func.isRequired,filter:c().object.isRequired,setActivateCellByFilterStates:c().func.isRequired};const kLe=CLe,TLe=(0,o.compose)((0,s.$j)((e=>({filter:Ta(e)})),{setGroupsTrackingFilter:fLe.setGroupsTrackingFilter,setActivateCellByFilterStates:fLe.setActivateCellByFilterStates}))(kLe);class NLe extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"cRRUhPs3oA8+AqU9D2gNew==",children:[(0,u.jsx)("div",{className:jLe,children:(0,u.jsx)(bLe,{})}),(0,u.jsxs)("div",{className:jLe,children:[(0,u.jsx)(mLe,{}),(0,u.jsx)(TLe,{})]})]})}}const RLe=NLe,ELe="Z2bXe5ZcKi9mr5zz6ccm-w==";class DLe extends m.PureComponent{render(){var{active:e}=this.props,t=me()({[ELe]:e});return(0,u.jsx)(et.ZP,{glyph:et.Ir,className:"_8Pt-bbpMn+ChlUsle84-nw==",classCustom:t})}}DLe.defaultProps={active:!1},DLe.propTypes={active:c().bool};const ALe=DLe;class MLe extends m.PureComponent{render(){var{active:e}=this.props,t=me()({[ELe]:e});return(0,u.jsx)(et.ZP,{glyph:et.An,className:"Kw00-pwhA74fJTsnD+an9Q==",classCustom:t})}}MLe.defaultProps={active:!1},MLe.propTypes={active:c().bool};const ILe=MLe;class ZLe extends m.PureComponent{render(){var{active:e}=this.props,t=me()({[ELe]:e});return(0,u.jsx)(et.ZP,{glyph:et.yG,className:"JV8e+67qJuwoGKtTBm5SUA==",classCustom:t})}}ZLe.defaultProps={active:!1},ZLe.propTypes={active:c().bool};const qLe=ZLe;function FLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class LLe extends m.Component{constructor(){super(...arguments),FLe(this,"getClassContainer",(()=>{var{data:{active:e,approve:t}}=this.props,r=(0,aLe.lY)(t),i=(0,aLe.XS)(t);return me()("X1RzSLRjCh6-J3OrhZGSCw==",{"_9qG9ibWVviE9RLLkrK-o2g==":r,"PC5AZlnCiFQZTMjmR1M24w==":i,"_41rFPIykZ4E7y00ATOaGlg==":!e})})),FLe(this,"getIconApprove",(()=>{var{data:{active:e,approve:t}}=this.props;return(0,aLe.lY)(t)?(0,u.jsx)(ALe,{active:e}):(0,u.jsx)(ILe,{active:e})})),FLe(this,"getIconBlock",(()=>{var{data:{active:e,block:t}}=this.props;return(0,aLe.at)(t)?(0,u.jsx)(qLe,{active:e}):null})),FLe(this,"handleCheck",(e=>{var{setStatesForCellGroup:t,idCell:r}=this.props;t({id:r,states:{checked:e}})}))}render(){var{data:e,isCRUD:t}=this.props,r=this.getClassContainer(),i=this.getIconApprove(),s=this.getIconBlock(),{active:n,checked:a}=e,o=!t||!n;return(0,j.xb)(e)?(0,u.jsx)("div",{className:r}):(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)(Rs.ZP,{checked:a,onChange:this.handleCheck,active:n,disabled:o}),i,s]})}}LLe.defaultProps={data:{},active:!1,isCRUD:!1},LLe.propTypes={active:c().bool,isCRUD:c().bool,approve:c().string.isRequired,block:c().string.isRequired,data:c().object,setStatesForCellGroup:c().func.isRequired,idCell:c().string.isRequired};const HLe=LLe,_Le=(0,o.compose)((0,s.$j)(((e,t)=>({data:Aa(e,t.idCell),user:(0,C.ts)(e)})),{setStatesForCellGroup:fLe.setStatesForCellGroup},Pa.uJ))(HLe);function BLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GLe=ai().bind({cellWrap:"Xl05Jj-oNVCO7di8gHXtnA==",even:"jWIEUn6lwcaIns6gz-Regg=="});class WLe extends m.PureComponent{constructor(){super(...arguments),BLe(this,"getGridRef",(e=>{this._gridEl=e})),BLe(this,"cellRenderer",(e=>{var{data:t}=this.props,{columnIndex:r,key:i,rowIndex:s,style:n}=e,a=t[s]&&t[s].row[r]||{},o=GLe({cellWrap:!0,even:(0,aLe.Gf)(s)});return(0,u.jsx)("div",{style:n,className:o,children:(0,u.jsx)(_Le,{approve:a.approve,block:a.block,idCell:a.id})},i)}))}componentDidUpdate(e){this.props.data!==e.data&&this._gridEl&&this._gridEl.forceUpdate()}render(){var{data:e,onScroll:t,columnCount:r,loading:i,scrollTop:s}=this.props;return i?(0,u.jsx)("div",{children:(0,u.jsx)(Z.Z,{})}):(0,u.jsx)(bs.rj,{ref:this.getGridRef,rowCount:e.length,width:this.props.width,height:this.props.height,columnCount:r,cellRenderer:this.cellRenderer,columnWidth:58,rowHeight:32,onScroll:t,className:"scroll",scrollTop:s})}}WLe.defaultProps={loading:!1,data:[]},WLe.propTypes={data:c().array,width:c().number.isRequired,height:c().number.isRequired,columnCount:c().number.isRequired,loading:c().bool,scrollTop:c().number.isRequired,onScroll:c().func.isRequired};const ULe=WLe,VLe=(0,s.$j)((e=>({filter:ka(e),filterGroups:Ta(e),arPoints:Na(e),data:Wa(e),columnCount:Ga(e).length,loading:La(e)})))(ULe),zLe="iSTuFHYxUKsp+axvDp2Pbg==";function YLe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function QLe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class KLe{constructor(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};QLe(this,"setProps",(e=>{this.props=e})),QLe(this,"clone",(()=>{var e={};return Object.keys(this.flatNodes).forEach((t=>{var r=this.flatNodes[t];e[t]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YLe(Object(r),!0).forEach((function(t){QLe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YLe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)})),new KLe(this.props,e)})),QLe(this,"getNode",(e=>this.flatNodes[e])),QLe(this,"flattenNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Array.isArray(e)&&0!==e.length&&e.forEach(((e,s)=>{var n=t.nodeHasChildren(e);t.flatNodes[e.value]={children:e.children,parent:r,isParent:n,isLeaf:!n,treeDepth:i,value:e.value,label:e.label,index:s},t.flattenNodes(e.children,e,i+1)}))})),QLe(this,"nodeHasChildren",(e=>Array.isArray(e.children)&&e.children.length>0)),QLe(this,"serializeList",(e=>{var t=[];return Object.keys(this.flatNodes).forEach((r=>{this.flatNodes[r][e]&&t.push(r)})),t})),QLe(this,"deserializeLists",(e=>{var t=["checked","expanded"];Object.keys(this.flatNodes).forEach((e=>{t.forEach((t=>{this.flatNodes[e][t]=!1}))})),t.forEach((t=>{e[t].forEach((e=>{void 0!==this.flatNodes[e]&&(this.flatNodes[e][t]=!0)}))}))})),QLe(this,"toggleChecked",((e,t)=>{var r=this.flatNodes[e.value];r.isLeaf?this.toggleNode(e.value,"checked",t):r.children.forEach((e=>{this.toggleChecked(e,t)}))})),QLe(this,"toggleNode",((e,t,r)=>(this.flatNodes[e][t]=r,this))),this.props=e,this.flatNodes=r}}const XLe=KLe;class JLe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{checkGroups:t,groupId:r}=this.props;t({groupIds:[r,...this.childIds],checked:e})}))}get indeterminate(){var{groupId:e,indeterminateGroups:t,childrenMap:r}=this.props;return(r[e]||[]).some((e=>t.includes(e)))||t.includes(e)}get childIds(){var{groupId:e,childrenMap:t}=this.props;return t[e]||[]}get disabled(){var{disabledGroups:e,groupId:t}=this.props;return e.includes(t)}render(){return(0,u.jsx)(Rs.Zv,{checked:this.props.checked,onChange:this.handleChange,indeterminate:this.indeterminate,disabled:this.disabled})}}JLe.propTypes={checked:c().bool.isRequired,groupId:P.K5.isRequired,indeterminateGroups:c().arrayOf(P.K5).isRequired,disabledGroups:c().arrayOf(P.K5).isRequired,checkGroups:c().func.isRequired,childrenMap:c().object.isRequired};const $Le=JLe;var eHe={checkGroups:fLe.checkGroups};const tHe=(0,o.compose)((0,s.$j)((e=>({indeterminateGroups:Qa(e),disabledGroups:Ya(e),childrenMap:Ka(e),user:e.user})),eHe,Pa.uJ))($Le);function rHe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function iHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class sHe extends m.PureComponent{constructor(){super(...arguments),iHe(this,"handleToggleOpen",(()=>{var{toggleOpen:e,isExpandAll:t}=this.props;t||e()})),iHe(this,"getIconRotation",(()=>{var{isOpen:e,isExpandAll:t}=this.props;return t?{}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rHe(Object(r),!0).forEach((function(t){iHe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rHe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e?{}:{transform:"rotate(-90deg)"})}))}render(){var{hidden:e,isExpandAll:t}=this.props,r=this.getIconRotation();return e?null:(0,u.jsx)("span",{className:"_9xtDBnJ2ccrFFnn1AQBqLQ==",children:(0,u.jsx)(oi.Z,{onClick:this.handleToggleOpen,active:!t,disabled:t,children:(0,u.jsx)(et.ZP,{classCustom:"xNuAokGCEtwpeLw2OXLj+Q==",glyph:et.Zx,style:r})})})}}sHe.defaultProps={toggleOpen:O.wA,isOpen:!1,hidden:!1,isExpandAll:!1},sHe.propTypes={toggleOpen:c().func,isOpen:c().bool,hidden:c().bool,isExpandAll:c().bool};const nHe=sHe;class aHe extends m.PureComponent{constructor(e){super(e);var{cells:t,groupData:r,setApproved:i}=this.props;if((0,j.xb)(r))this.state={blocked:!1,approved:!1},i(!1);else{var{row:s}=r,n=s.map((e=>e.id)),a=(0,Pa.jk)(t,n),o=(0,Pa.rZ)(t,n);this.state={blocked:a,approved:o},i(o)}}UNSAFE_componentWillReceiveProps(e){var{cells:t,groupData:r,setApproved:i}=e,{cells:s}=this.props;if(t!==s){if(!r)return;var{row:n}=r,a=n.map((e=>e.id)),o=(0,Pa.jk)(t,a),l=(0,Pa.rZ)(t,a);this.setState({blocked:o,approved:l}),i(l)}}render(){var{isFilter:e,handleCloseIcon:t}=this.props,{blocked:r,approved:i}=this.state,s=me()("y8M+dgYZr9jeNm1wJOUpnw==",{"E0ZntoEJIj52qLTNUE16DQ==":i});return(0,u.jsxs)("span",{className:"satBKsxFsMI7k6mkHLyl5Q==",children:[(0,u.jsx)(Ml.Z,{glyph:et.yG,classContainer:"Q9N5EB7C5G6P0DevvoH4dA==",classIcon:"_0bxzYWZ61Q4ApcK7gK4u5A==",hidden:!r}),(0,u.jsx)(Ml.Z,{glyph:et.Tw,classContainer:"+R4JU1OM0cJK9dgYykejqQ==",hidden:!e,onClick:t}),(0,u.jsx)("span",{className:s})]})}}aHe.defaultProps={isFilter:!1,groupData:null},aHe.propTypes={isFilter:c().bool,handleCloseIcon:c().func.isRequired,cells:c().object.isRequired,groupData:c().shape({row:c().array}),setApproved:c().func.isRequired};const oHe=aHe,lHe=(0,o.compose)((0,s.$j)(((e,t)=>({groupData:qa(e,t.pointId),cells:Da(e)}))))(oHe);function cHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dHe extends m.PureComponent{constructor(){super(...arguments),cHe(this,"state",{approved:!1}),cHe(this,"setApproved",(e=>this.setState({approved:e}))),cHe(this,"getEventIcons",(()=>{var{isApprove:e,isSuccess:t,value:r}=this.props,i=this.hasFilter();return(0,u.jsx)(lHe,{isApprove:e,isFilter:i,isSuccess:t,handleCloseIcon:this.handleCloseIcon,pointId:r,setApproved:this.setApproved})})),cHe(this,"getClassItem",(e=>{var{approved:t}=e;return me()("_20-mB8f7GdnAkhV5OEKb+g==",{"AgSl7ghNbl1YZ2rOSU9rfQ==":t})})),cHe(this,"getPaddingLeftItem",(()=>{var{treeDepth:e}=this.props;return 30*e+22})),cHe(this,"onExpand",(()=>{var{expanded:e,value:t,onExpand:r}=this.props;r({value:t,expanded:!e})})),cHe(this,"onClick",(()=>{var{isParent:e}=this.props;e&&this.onExpand()})),cHe(this,"isHiddenNode",(()=>{var{value:e,filter:t}=this.props;return!!this.hasFilter()&&!t.find((t=>t===e))})),cHe(this,"hasFilter",(()=>{var{filter:e}=this.props;return!(0,j.xb)(e)})),cHe(this,"handleCloseIcon",(()=>{var{deleteFilterItem:e,value:t}=this.props;e({id:t})})),cHe(this,"handleClickNode",(()=>{var{handleClickNode:e,value:t}=this.props;e(t)})),cHe(this,"renderLabel",(()=>{var{label:e,checked:t}=this.props,r=me()({[zLe]:1===t}),i=(0,u.jsx)("span",{className:r,onClick:this.handleClickNode,title:e,children:e});return(0,u.jsxs)("span",{className:"_8+gFMVCd-PXGsTgAP+yraw==",children:[this.renderCheckboxLabel(i),this.getEventIcons()]})}))}renderCheckboxLabel(e){var{expanded:t,children:r,checked:i,isExpandAll:s,value:n,isLeaf:a}=this.props,o=Boolean(r),l=me()("o+688+IAaSE+0eAh2GLw7Q==",{[zLe]:i});return(0,u.jsxs)("span",{className:"wNFIUInigBsrc1jY20HMRA==",children:[(0,u.jsx)(tHe,{onChange:this.onCheck,className:"vvItCTP6uyKnEm0igAS79w==",checked:i,groupId:n,isLeaf:a}),(0,u.jsx)(nHe,{isOpen:t,toggleOpen:this.onClick,hidden:!o,isExpandAll:s}),(0,u.jsx)("span",{className:l,onClick:this.onClick,children:(0,u.jsx)("span",{className:"_5Ig-VhTQVOZGuxfi6EStHw==",children:e})})]})}renderChildren(){var{expanded:e,isExpandAll:t}=this.props;return t||e?this.props.children:null}render(){var{approved:e}=this.state,t=this.getClassItem({approved:e}),r=this.isHiddenNode(),i={paddingLeft:this.getPaddingLeftItem()};return r&&(i.display="none"),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{className:t,style:i,children:this.renderLabel()}),this.renderChildren()]})}}dHe.defaultProps={isExpandAll:!1,handleClickNode:O.wA,isApprove:!1,isSuccess:!1,expanded:!1,isParent:!1,checked:!1,filter:null,isLeaf:!1,children:null},dHe.propTypes={treeDepth:c().number.isRequired,isExpandAll:c().bool,onExpand:c().func.isRequired,expanded:c().bool,value:c().node.isRequired,isParent:c().bool,checked:c().bool,filter:c().array,handleClickNode:c().func,isApprove:c().bool,isSuccess:c().bool,label:c().node.isRequired,deleteFilterItem:c().func.isRequired,children:c().node,isLeaf:c().bool};const uHe=dHe;function pHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class hHe extends m.PureComponent{constructor(e){var t;super(e),t=this,pHe(this,"getAllChecked",(function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((e=>{if(r.getNode(e.value).isParent){t.determineShallowParentCheck(e,r)&&i.push(e.value);var s=t.getAllChecked(e.children,r);(0,j.xb)(s)||(i=[...i,...s])}})),i})),pHe(this,"determineShallowParentCheck",((e,t)=>this.isEveryChildCheckedParent(e,t))),pHe(this,"isEveryChildCheckedParent",((e,t)=>e.children.every((e=>!!t.getNode(e.value).checked||!((0,j.xb)(e.children)||!this.isEveryChildCheckedParent(e,t)))))),pHe(this,"onExpand",(e=>{var{onExpand:t}=this.props,r=this.state.model.clone();r.toggleNode(e.value,"expanded",e.expanded),t(r.serializeList("expanded"))})),pHe(this,"renderTreeNodes",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{model:i}=t.state,{isExpandAll:s,filter:n,deleteFilterItem:a,handleClickNode:o,isReadUsers:l,checked:c}=t.props,d=e.map(((e,d)=>{var p=i.getNode(e.value),h=p.isParent?t.renderTreeNodes(e.children,e):null,f=c.includes(e.value),m=!r.value||i.getNode(r.value).expanded;return s&&(m=s),m?(0,u.jsx)(uHe,{checked:f,value:e.value,isParent:p.isParent,isLeaf:p.isLeaf,onExpand:t.onExpand,label:e.label,expanded:p.expanded,treeDepth:p.treeDepth,isExpandAll:s,filter:n,deleteFilterItem:a,handleClickNode:o,isReadUsers:l,children:h},e.id||d):null}));return(0,u.jsx)("ul",{children:d})}));var r=new XLe(e);r.flattenNodes(e.nodes),r.deserializeLists({checked:e.checked,expanded:e.expanded}),this.state={model:r,prevProps:e}}UNSAFE_componentWillReceiveProps(e){var{model:t,prevProps:r}=this.state,{nodes:i}=e;this.setState({prevProps:e}),t.setProps(e),VF()(r.nodes,i)||t.flattenNodes(i),t.deserializeLists({checked:e.checked,expanded:e.expanded})}render(){var{nodes:e}=this.props,t=this.renderTreeNodes(e);return(0,u.jsx)("div",{className:"Ww6Km1-2FCHM4EK0i49hcw==",children:t})}}hHe.defaultProps={checked:[],expanded:[],onExpand:O.wA,isExpandAll:!1,isReadUsers:!1},hHe.propTypes={checked:c().array,expanded:c().array,onExpand:c().func,nodes:c().array.isRequired,isExpandAll:c().bool,isReadUsers:c().bool,filter:c().array.isRequired,deleteFilterItem:c().func.isRequired,handleClickNode:c().func.isRequired};const fHe=hHe;class mHe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cellRenderer",(e=>{var{key:t,style:r,rowIndex:i}=e,s=me()({"Lau+28gtooUOmNihkBDZUA==":i%2==0});return(0,u.jsx)("div",{style:r,className:s},t)}))}render(){var{width:e,height:t,count:r,onScroll:i,cellRangeRenderer:s,scrollTop:n}=this.props;return(0,u.jsx)("div",{className:"pXp4pUQrBJ6oA9zNKvDn8w==",children:(0,u.jsx)(bs.rj,{cellRenderer:this.cellRenderer,cellRangeRenderer:s,columnCount:1,columnWidth:e,height:t,rowCount:r,rowHeight:32,width:e,onScroll:i,scrollTop:n,className:"btqCnWC+7t27zGcunNAuwA=="})})}}mHe.propTypes={count:c().number.isRequired,width:c().number.isRequired,height:c().number.isRequired,onScroll:c().func.isRequired,cellRangeRenderer:c().func.isRequired,scrollTop:c().number.isRequired};const vHe=mHe;function yHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class gHe extends m.PureComponent{constructor(){super(...arguments),yHe(this,"handleClickOrgPointName",(e=>{var{push:t,isReadUsers:r}=this.props;r&&t("/schedule-control/"+e)})),yHe(this,"gridCellRangeRenderer",(e=>{var{points:t,filter:r,deleteItemFromFilterPoints:i,isReadUsers:s,onExpand:n,expanded:a,checked:o}=this.props,l=[],c=!(0,j.xb)(t),d=!(0,j.xb)(r);c&&(l=FF({valueKey:"id",labelKey:"groupName",childrenKey:"children",data:[t]}));var p=(0,bs.Fv)(e);return c&&p.push((0,u.jsx)(fHe,{checked:o,expanded:a,nodes:l,onExpand:n,isExpandAll:d,filter:r,deleteFilterItem:i,handleClickNode:this.handleClickOrgPointName,isReadUsers:s,classname:!0},1)),p}))}render(){var{width:e,height:t,rowCount:r,onScroll:i,scrollTop:s}=this.props;return(0,u.jsx)("div",{className:"MBS1Jrd4UoK9BBjwGQjKig==",children:(0,u.jsx)(vHe,{count:r,width:e,height:t,cellRangeRenderer:e=>this.gridCellRangeRenderer(e),onScroll:i,scrollTop:s})})}}gHe.defaultProps={expanded:[],isReadUsers:!1,filter:[],checked:[]},gHe.propTypes={points:c().object.isRequired,expanded:c().array,onExpand:c().func.isRequired,width:c().number.isRequired,height:c().number.isRequired,deleteItemFromFilterPoints:c().func.isRequired,push:c().func.isRequired,isReadUsers:c().bool,rowCount:c().number.isRequired,onScroll:c().func.isRequired,scrollTop:c().number.isRequired,filter:c().array,checked:c().array};const bHe=gHe;function jHe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xHe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jHe(Object(r),!0).forEach((function(t){SHe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jHe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const OHe=(0,o.compose)(y.EN,(0,s.$j)((e=>({points:Ia(e),filter:ka(e),period:Ea(e),prevChecked:Za(e),dataGroups:_a(e),user:(0,C.ts)(e),expanded:Fa(e),rowCount:Ua(e),checked:za(e)})),{fetchHierarchyTree:fLe.fetchHierarchyTree,deleteItemFromFilterPoints:fLe.deleteItemFromFilterPoints,setPrevArrayCheckedPoints:fLe.setPrevArrayCheckedPoints,setNewCheckedForCells:fLe.setNewCheckedForCells,setExpandedGroups:fLe.setExpandedGroups},((e,t,r)=>xHe(xHe({},(0,Pa.uJ)(e,t,r)),{},{onExpand:e=>{t.setExpandedGroups(e)},push:r.history.push}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchHierarchyTree({from:t.period.from,to:t.period.to})})))(bHe);var PHe=e=>{var{width:t,height:r,firstColumnWidth:i,onScroll:s,scrollTop:n}=e,a={width:t},o=t-i,l={width:t-i,height:r},c={width:i};return(0,u.jsxs)("div",{className:"OLcz-n6L+0Vw6JEJaO-lMA==",style:a,children:[(0,u.jsx)("div",{className:"_2qkpfUibQf8OMldPA50z3w==",style:c,children:(0,u.jsx)(OHe,{width:i,height:r,scrollTop:n,onScroll:s})}),(0,u.jsx)("div",{style:l,children:(0,u.jsx)(VLe,{width:o,height:r,scrollTop:n,onScroll:s})})]})};PHe.propTypes={width:c().number.isRequired,height:c().number.isRequired,firstColumnWidth:c().number.isRequired,scrollTop:c().number.isRequired,onScroll:c().func.isRequired};const wHe=PHe;var CHe=e=>{var{children:t,width:r,height:i,scrollTop:s=0,scrollLeft:n=0,innerWidth:a,className:o}=e,l={height:i,width:r},c={top:-s,left:-n,width:a},d=me()("IRvyig32fxduuDtL4EBdlw==",o);return(0,u.jsx)("div",{className:d,style:l,children:(0,u.jsx)("div",{className:"IzojUDXI+2gajM2jNGXhwg==",style:c,children:t})})};CHe.defaultProps={innerWidth:null,scrollTop:null,className:""},CHe.propTypes={width:c().number.isRequired,height:c().number.isRequired,innerWidth:c().number,scrollTop:c().number,scrollLeft:c().number.isRequired,children:c().node.isRequired,className:c().string};const kHe=CHe;function THe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class NHe extends m.PureComponent{constructor(){super(...arguments),THe(this,"state",{checked:!1,indeterminate:!1}),THe(this,"handleChecked",(e=>{var{setCheckedForAllCell:t}=this.props;t({checked:e})}))}UNSAFE_componentWillReceiveProps(e){var{cells:t}=e,{cells:r}=this.props;if(t!==r){var i=Object.keys(t),{isEvery:s,isSome:n}=(0,Pa.Pp)(t,i);this.setState({checked:s,indeterminate:n})}}render(){var{disabled:e}=this.props,{checked:t,indeterminate:r}=this.state;return(0,u.jsx)(Rs.ZP,{onChange:this.handleChecked,checked:t,indeterminate:r,disabled:e})}}NHe.propTypes={disabled:c().bool.isRequired,setCheckedForAllCell:c().func.isRequired,cells:c().array.isRequired};const RHe=NHe;function EHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class DHe extends m.PureComponent{constructor(){super(...arguments),EHe(this,"state",{open:!1,searchTerm:""}),EHe(this,"createRootRef",(e=>this.rootEl=e)),EHe(this,"createInputRef",(e=>this.inputEl=e)),EHe(this,"toggleOpen",(()=>{var{onClose:e}=this.props;this.setState((e=>({open:!e.open})),(()=>{this.state.open||(e&&e(),this.setState({searchTerm:""}))}))})),EHe(this,"handleInputChange",(e=>{var{value:t}=e.target,{onChange:r,dataSource:i,dataSourceConfig:{value:s}}=this.props;this.setState({searchTerm:t,open:!0},(()=>{if(t.length>=3){var e=this.filter(i).map((e=>e[s]));r(e)}}))})),EHe(this,"handleInputKeyDown",(e=>{var{key:t}=e;"Enter"===t&&this.toggleOpen(),"Escape"===t&&this.state.open&&this.toggleOpen()})),EHe(this,"handleListChange",(e=>{var{onChange:t}=this.props;t(e),this.inputEl.focus()})),EHe(this,"filter",(e=>{var{dataSourceConfig:{text:t}}=this.props,{searchTerm:r}=this.state;return r?e.filter((e=>e[t].toLowerCase().includes(r.toLowerCase()))):e}))}render(){var{dataSource:e,dataSourceConfig:t,values:r,disables:i,dropDownHeight:s,dropDownWidth:n,hintText:a}=this.props,o=this.filter(e),l={padding:10};return n&&(l.width=n),(0,u.jsxs)("div",{ref:this.createRootRef,className:"XCcHtuvq6WhsxZAPmOpM3Q==",children:[(0,u.jsx)("input",{ref:this.createInputRef,type:"text",name:"input",tabIndex:0,onClick:this.toggleOpen,autoComplete:"off",value:this.state.searchTerm,onChange:this.handleInputChange,placeholder:a,onKeyDown:this.handleInputKeyDown}),(0,u.jsx)(nh.Z,{open:this.state.open,onClick:this.toggleOpen,className:"lMbd2Bq-lIc42BJY9EYthg=="}),(0,u.jsx)(Ns.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:this.rootEl,open:this.state.open,onClose:this.toggleOpen,disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsx)("div",{style:l,children:(0,u.jsx)(Hx.Z,{dataSource:o,dataSourceConfig:t,values:r,disables:i,sisables:r,onChange:this.handleListChange,listHeight:s})})})]})}}DHe.defaultProps={dataSource:[],values:[],disables:[],onClose:null},DHe.propTypes={dataSource:c().array,dataSourceConfig:c().object.isRequired,values:c().array,disables:c().array,onChange:c().func.isRequired,dropDownHeight:c().number.isRequired,dropDownWidth:c().number.isRequired,onClose:c().func,hintText:c().string.isRequired};const AHe=DHe;function MHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class IHe extends m.PureComponent{constructor(){super(...arguments),MHe(this,"handleChange",(e=>{var{setFilterForMultiSelectPoints:t}=this.props;t(e)})),MHe(this,"getHeight",(()=>document.body.clientHeight-290)),MHe(this,"getHint",(()=>{var{intl:{formatMessage:e}}=this.props;return e({id:"ScheduleControl.SearchByOrgPoints",defaultMessage:[{type:0,value:"Поиск по структуре организации"}]})}))}render(){var{data:e,filter:t}=this.props;return(0,u.jsx)("div",{children:(0,u.jsx)(AHe,{dataSource:e,dataSourceConfig:{text:"text",value:"value"},values:t,onChange:this.handleChange,dropDownHeight:this.getHeight(),hintText:this.getHint(),dropDownWidth:350})})}}IHe.propTypes={data:c().array.isRequired,filter:c().array.isRequired,intl:c().object.isRequired,setFilterForMultiSelectPoints:c().func.isRequired};const ZHe=IHe,qHe=(0,o.compose)((0,s.$j)((e=>({data:Na(e),filter:ka(e)})),{setFilterForMultiSelectPoints:fLe.setFilterForMultiSelectPoints}),v.ZP)(ZHe);function FHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class LHe extends m.PureComponent{constructor(){super(...arguments),FHe(this,"handleClick",(()=>{var{clearFilterForMultiSelectPoints:e}=this.props;e()})),FHe(this,"hasFilter",(()=>{var{filter:e}=this.props;return(0,j.xb)(e)?null:e.length})),FHe(this,"getCountLabel",(()=>{var{filter:e}=this.props;return this.hasFilter()?(0,u.jsx)("span",{className:"Jk7ODnfhyZNtFsO9rdHAqg==",children:e.length}):null}))}render(){var e=this.getCountLabel(),t=this.hasFilter();return(0,u.jsxs)("div",{className:"_8F4DXL2pwzIUEq3LaPIMlA==",children:[e,(0,u.jsx)(oi.Z,{onClick:this.handleClick,disabled:!t,children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]})}}LHe.propTypes={clearFilterForMultiSelectPoints:c().func.isRequired,filter:c().array.isRequired};const HHe=LHe,_He=(0,o.compose)((0,s.$j)((e=>({filter:ka(e)})),{clearFilterForMultiSelectPoints:fLe.clearFilterForMultiSelectPoints}))(HHe);class BHe extends m.PureComponent{render(){var{setCheckedForAllCell:e,checkCheckedCells:t,cells:r,isCRUD:i}=this.props;return(0,u.jsxs)("div",{className:"RMc6FNAydJXQfYLzr7GB+Q==",children:[(0,u.jsx)(RHe,{setCheckedForAllCell:e,checkCheckedCells:t,cells:r,disabled:!i}),(0,u.jsx)(qHe,{}),(0,u.jsx)(_He,{})]})}}BHe.defaultProps={isCRUD:!1},BHe.propTypes={setCheckedForAllCell:c().func.isRequired,checkCheckedCells:c().func.isRequired,cells:c().array.isRequired,isCRUD:c().bool};const GHe=BHe,WHe=(0,o.compose)((0,s.$j)((e=>({cells:Va(e),user:e.user})),{setCheckedForAllCell:fLe.setCheckedForAllCell,checkCheckedCells:Pa.Pp},Pa.uJ))(GHe);var UHe=e=>({1:e({id:"ScheduleControl.Table.Monday",defaultMessage:[{type:0,value:"Пн"}]}),2:e({id:"ScheduleControl.Table.Tuesday",defaultMessage:[{type:0,value:"Вт"}]}),3:e({id:"ScheduleControl.Table.Wednesday",defaultMessage:[{type:0,value:"Ср"}]}),4:e({id:"ScheduleControl.Table.Thursday",defaultMessage:[{type:0,value:"Чт"}]}),5:e({id:"ScheduleControl.Table.Friday",defaultMessage:[{type:0,value:"Пт"}]}),6:e({id:"ScheduleControl.Table.Saturday",defaultMessage:[{type:0,value:"Сб"}]}),0:e({id:"ScheduleControl.Table.Sunday",defaultMessage:[{type:0,value:"Вс"}]})});function VHe(e,t){var r=ns()(e,ft.vc),i=r.format("DD.MM"),s=r.day();return{date:i,day:t[s],num:s}}var zHe=e=>{var{display:t}=e;return t?(0,u.jsx)("span",{className:"cnjVCrrW2Z7C5TNcMG9+GQ==",children:(0,u.jsx)(qLe,{})}):null};zHe.defaultProps={display:!0},zHe.propTypes={display:c().bool};const YHe=zHe;function QHe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class KHe extends m.Component{constructor(){super(...arguments),QHe(this,"getDayString",(e=>{var{intl:{formatMessage:t}}=this.props,{day:r}=VHe(e,UHe(t));return r})),QHe(this,"handleCheck",(e=>{var{setNewCheckedForCells:t,cellIds:r}=this.props;t({cellIds:r,checked:e})}))}render(){var e,{active:t,day:r,intl:{formatMessage:i},checked:s,approved:n,isCRUD:a,blocked:o,indeterminate:l}=this.props,{date:c,num:d}=VHe(r,UHe(i)),p=(e=d,6===Number(e)||0===Number(e)),h=me()("ewLWBDUnXxuO-bgl8OwLhw==",{"_3kKIfSp0nmtWTZxb0oSGBw==":p,"K975p7jG4coqrltlQy+TIA==":n});return(0,u.jsxs)("td",{className:h,children:[(0,u.jsx)("div",{className:"sAdp-Wao+Np7hUU-81gRgw==",children:this.getDayString(r)}),(0,u.jsxs)("div",{className:"XyL68HXYi-Rl5XGERhTeHw==",children:[(0,u.jsx)(Rs.ZP,{onChange:this.handleCheck,checked:s,active:t,indeterminate:l,disabled:!a}),(0,u.jsx)("span",{children:c})]}),(0,u.jsx)(YHe,{display:o})]})}}KHe.defaultProps={active:!1,checked:!1,approved:!1},KHe.propTypes={active:c().bool,setNewCheckedForCells:c().func.isRequired,checked:c().bool,day:c().string.isRequired,intl:P.gm.isRequired,isCRUD:c().bool.isRequired,approved:c().bool,blocked:c().bool.isRequired,indeterminate:c().bool.isRequired,cellIds:c().arrayOf(P.K5).isRequired};const XHe=KHe,JHe=(0,o.compose)(v.ZP,(0,s.$j)((e=>({user:(0,C.ts)(e)})),{setNewCheckedForCells:fLe.setNewCheckedForCells},Pa.uJ))(XHe);var $He=e=>{var{headers:t}=e,r={width:58*t.length};return(0,u.jsx)("div",{className:"GTmseKuQhgh0lFLzuauQVg==",style:r,children:(0,u.jsx)("table",{children:(0,u.jsx)("tbody",{children:(0,u.jsx)("tr",{children:t.map(((e,t)=>{var{id:r,day:i,cellIds:s,blocked:n,checked:a,indeterminate:o,active:l}=e;return(0,u.jsx)(JHe,{day:i,cellIds:s,indexColumn:t,blocked:n,checked:a,indeterminate:o,active:l},r||t)}))})})})})};$He.defaultProps={headers:[]},$He.propTypes={headers:c().arrayOf(c().shape({blocked:c().bool,cellIds:c().arrayOf(c().string),checked:c().bool,day:(0,zi.Z)("YYYY-MM-DD")}))};const e_e=$He,t_e=(0,o.compose)((0,s.$j)((e=>({headers:Ga(e)}))))(e_e);var r_e=e=>{var{firstColumnWidth:t,scrollLeft:r,width:i,height:s}=e,n={width:i},a={width:t,height:s},o=i-t;return(0,u.jsxs)("div",{className:"awS1SQqiwSg4ClmuNxcv3g==",style:n,children:[(0,u.jsx)("div",{className:"CQYHule2x-8c3cShtadvTQ==",style:a,children:(0,u.jsx)(WHe,{})}),(0,u.jsx)(kHe,{scrollLeft:r,width:o,height:s,children:(0,u.jsx)(t_e,{})})]})};r_e.propTypes={firstColumnWidth:c().number.isRequired,scrollLeft:c().number.isRequired,width:c().number.isRequired,height:c().number.isRequired};const i_e=r_e;function s_e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class n_e extends m.PureComponent{constructor(){super(...arguments),s_e(this,"state",{firstColumnWidth:_r.ZP.get("ScheduleControl.userDataColumnWidth",310)}),s_e(this,"handleDraggableLine",(e=>{this.setState((t=>({firstColumnWidth:t.firstColumnWidth+e})),(()=>{_r.ZP.set("ScheduleControl.userDataColumnWidth",this.state.firstColumnWidth+e)}))}))}render(){var{firstColumnWidth:e}=this.state,t={left:e};return(0,u.jsx)("div",{className:"Ai48kzdrjxEYjJYQj+1OKA==",children:(0,u.jsx)("div",{className:"_2zM4YsdU1skMHJdip1pgVQ==",children:(0,u.jsx)(bs.qj,{children:r=>{var{width:i,height:s}=r,n=s-40;return(0,u.jsx)(bs.Ew,{children:r=>{var{onScroll:s,scrollLeft:a,scrollTop:o}=r;return(0,u.jsxs)("div",{className:"EF2cOxDXJVBjKdns2QaoJA==",children:[(0,u.jsx)(i_e,{firstColumnWidth:e,width:i,height:40,scrollLeft:a}),(0,u.jsx)(wHe,{onScroll:s,scrollTop:o,height:n,width:i,firstColumnWidth:e}),(0,u.jsx)(es,{style:t,onDrag:this.handleDraggableLine,orientation:Ji})]})}})}})})})}}const a_e=n_e,o_e=(0,o.compose)((0,s.$j)((e=>({data:Ca(e),period:Ea(e),paramsOrgPoints:Ra(e),headers:Ga(e)})),(e=>({getGroupsTracking:t=>e((0,fLe.getGroupsTracking)(t))}))))(a_e),l_e=()=>(0,u.jsxs)("div",{className:"Tf9ZgqOrsh880CunGiN22A==",children:[(0,u.jsx)(RLe,{}),(0,u.jsx)(o_e,{})]});var c_e="scheduleControlDetailsLeftSideWidth",d_e=e=>{var{index:t}=e;return 0===t?40:50},u_e=e=>e.scheduleControl.period,p_e=e=>e.scheduleControl.detailsMainFilter,h_e=e=>e.scheduleControl.detailsTableFilter,f_e=e=>e.scheduleControl.details,m_e=e=>e.scheduleControl.isDetailsTableLoading,v_e=e=>e.scheduleControl.detailsLeftSideWidth,y_e=e=>e.scheduleControl.detailsTableFilterStash,g_e=e=>e.scheduleControl.isDetailsTableLoading,b_e=e=>e.scheduleControl.isDetailsTableChanged,j_e=(e,t)=>e.scheduleControl.stats.find((e=>e.userNorm.userId===t)),x_e=(0,Q.createSelector)((e=>e.user.scheduleControlSettings),(e=>function(e){return(0,j.xb)(e)?{}:JSON.parse(e)}(e))),S_e=(0,Q.createSelector)(f_e,(e=>(0,X.Lb)(e))),O_e=(0,Q.createSelector)(S_e,h_e,((e,t)=>function(e,t,r){return(0,j.xb)(t)||(0,j.xb)(t.userName)?e:e.filter((e=>t[r].includes(e[r])))}(e,t,"userName").sort((0,X.hM)("userName")))),P_e=(0,Q.createSelector)(O_e,(e=>e.length)),w_e=(0,Q.createSelector)((e=>e.graph.details.start),(e=>e.graph.details.userId),((e,t)=>(0,j.xb)(e)||(0,j.xb)(t)?{}:{from:e,to:(0,ft.TR)(e,24),userId:t})),C_e=(0,Q.createSelector)(f_e,(e=>(0,X.Lb)(e))),k_e=(0,Q.createSelector)(u_e,(e=>e.scheduleControl.detailsTableColumnsDataMap),((e,t)=>{var{from:r,to:i}=e,s=((e,t)=>{for(var r=ns()(e,ft._E).local(),i=ns()(t,ft._E).local(),s=[],n=r;n<=i;)s.push(n.format("YYYY-MM-DD")),n=n.add(1,"d");return s})(r,i);return s.map((e=>t[e]||(e=>{var{day:t}=e;return{approve:"NOT_APPROVED",block:"UNBLOCK",day:t,groupId:null,id:null}})({day:e})))}));function T_e(e,t){if(!e||!t)return[];var r=e[t]||{};return Object.values(r).filter((e=>!(0,j.xb)(e)&&e.approve))}function N_e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R_e extends m.Component{constructor(){super(...arguments),N_e(this,"handleCheck",(e=>{var{approveAllByUser:t,userId:r}=this.props;t({userId:r,approve:e?Kye.C:Kye.r})})),N_e(this,"handleRemoveResponse",(()=>{var{userName:e,onRemoveResponse:t}=this.props;t(e)}))}render(){var{userId:e,userName:t,userFullName:r,userPosition:i,actualHours:s,differenceActualMinutes:n,normHours:a,tableData:o,hideRemoveButton:l,hasCRUDRights:c}=this.props,d=function(e,t){if(!e||!t)return!1;var r=T_e(e,t);return!(0,j.xb)(r)&&r.every((e=>e.approve===Kye.C||e.blocked))}(o,e),p=!function(e,t){if(!e||!t)return!1;var r=T_e(e,t);return!(0,j.xb)(r)}(o,e)||!c,h=function(e,t){return T_e(e,t).some((e=>e.approve===Kye.C))}(o,e);return(0,u.jsxs)("div",{className:"_3oiJGPhpOf+uFsOmW30JGg==",children:[(0,u.jsx)(Rs.XZ,{checked:d,onChange:this.handleCheck,disabled:p,indeterminate:h}),(0,u.jsx)(Vp,{iconClassName:"iNcqN1jmnpHFaJXnhPS6uA==",containerClassName:"DCcRBX4Lc7slcvkBIzDGMw==",bodyClassName:"SUzjxBVqBmzcfRmwhaRIPw==",userId:e,userName:t,userFullName:r,userPosition:i,actualHours:s,differenceActualMinutes:n,normHours:a,onRemoveResponse:this.handleRemoveResponse,disabled:p,disableRemoveButton:l})]})}}R_e.defaultProps={differenceActualMinutes:0,normHours:0,actualHours:0,userId:"",userName:"",userFullName:"",userPosition:"",hideRemoveButton:!1,hasCRUDRights:!1},R_e.propTypes={userId:c().string,userName:c().string,userFullName:c().string,userPosition:c().string,actualHours:c().number,normHours:c().number,approveAllByUser:c().func.isRequired,tableData:c().object.isRequired,hideRemoveButton:c().bool,hasCRUDRights:c().bool,differenceActualMinutes:c().number,onRemoveResponse:c().func.isRequired};const E_e=R_e;function D_e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function A_e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D_e(Object(r),!0).forEach((function(t){M_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M_e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I_e={approveAllByUser:fLe.approveAllByUser,removeUserNameFromDetailsFilter:fLe.removeUserNameFromDetailsFilter};const Z_e=(0,o.compose)((0,s.$j)(((e,t)=>({tableData:f_e(e),filter:h_e(e),stats:j_e(e,t.userId),user:(0,C.ts)(e)})),I_e,((e,t,r)=>{var{stats:{correctedNormHours:i,actualHours:s,differenceActualMinutes:n}={}}=e;return A_e(A_e(A_e(A_e({},e),t),r),{},{hideRemoveButton:(0,j.xb)(e.filter)||(0,j.xb)(e.filter.userName),onRemoveResponse:t.removeUserNameFromDetailsFilter,normHours:i,actualHours:s,differenceActualMinutes:n,hasCRUDRights:(0,X.BC)(e.user,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD)})})))(E_e);var q_e=r(96650);function F_e(e,t){return e?Object.values(e).filter((e=>e[t])).map((e=>e[t])):[]}function L_e(){var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((t=>t.day===e));return!!t&&t.block===q_e.x}class H_e extends m.Component{render(){return this.props.display?(0,u.jsx)(et.ZP,{glyph:et.yG}):null}}H_e.propTypes={display:c().bool.isRequired};const __e=H_e,B_e={root:"PC3NszfT+WGh9k82LFQw8w==",weekend:"+5fq4vUcNijkk7Vht3W-fg==",label:"rAXiuTFTV2zK+lh88MLWJA==",blocked:"qYUQbvCv6F2KrhQDV03qXA=="};var G_e=e=>{var{date:t,format:r,blocked:i}=e,s="".concat((0,ft.ds)(t,r),", ").concat((0,ft.Ro)(t,r));return(0,u.jsxs)("div",{className:B_e.label,children:[(0,u.jsx)(__e,{display:i}),s]})};G_e.propTypes={blocked:c().bool.isRequired,date:c().string.isRequired,format:c().string.isRequired};const W_e=G_e;var U_e=ai().bind(B_e);class V_e extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{date:t,approveAllByDay:r}=this.props;r({date:t,approve:e?Kye.C:Kye.r})}))}render(){var{date:e,format:t,data:r,blocked:i,disabled:s}=this.props,n=function(e,t){if(!e||!t)return!1;var r=F_e(e,t);return!(0,j.xb)(r)&&r.every((e=>e.approve===Kye.C))}(r,e),a=function(e,t){if(!e||!t)return!1;var r=F_e(e,t);return!(0,j.xb)(r)&&r.some((e=>e.approve===Kye.C))}(r,e),o=U_e("root",{weekend:(0,ft.QD)(e,t),blocked:i}),l=s||i;return(0,u.jsx)("div",{className:o,children:(0,u.jsx)(Rs.XZ,{checked:n,disabled:l,label:(0,u.jsx)(W_e,{date:e,format:t,blocked:i}),indeterminate:a,onChange:this.handleChange})})}}V_e.defaultProps={format:ft.vc,blocked:!1,disabled:!1},V_e.propTypes={date:c().string.isRequired,format:c().string,data:c().object.isRequired,approveAllByDay:c().func.isRequired,blocked:c().bool,disabled:c().bool};const z_e=V_e;function Y_e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Q_e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y_e(Object(r),!0).forEach((function(t){K_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K_e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const X_e=(0,o.compose)((0,s.$j)((e=>({data:f_e(e),columnData:k_e(e),user:(0,C.ts)(e)})),{approveAllByDay:fLe.approveAllByDay},((e,t,r)=>Q_e(Q_e(Q_e(Q_e({},e),t),r),{},{blocked:L_e(e.columnData,r.date),disabled:!(0,X.BC)(e.user,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD)}))))(z_e);var J_e=(0,u.jsx)(J.Z,{id:"ScheduleControl.All",defaultMessage:[{type:0,value:"Все"}]}),$_e=(0,u.jsx)(J.Z,{id:"ScheduleControl.Violations",defaultMessage:[{type:0,value:"Нарушения"}]}),eBe=(0,u.jsx)(J.Z,{id:"ScheduleControl.WithoutViolations",defaultMessage:[{type:0,value:"Без нарушений"}]}),tBe=(0,u.jsx)(J.Z,{id:"ScheduleControl.Approved",defaultMessage:[{type:0,value:"Подтвержденные"}]}),rBe=(0,u.jsx)(J.Z,{id:"ScheduleControl.NotApproved",defaultMessage:[{type:0,value:"Неподтвержденные"}]}),iBe=(J.Z,J.Z,{APPROVED:Kye.C,NOT_APPROVED:Kye.r,VIOLATIONS:"VIOLATIONS",WITHOUT_VIOLATIONS:"WITHOUT_VIOLATIONS"});function sBe(e){if(!e)return"00:00";var t=Math.floor(e/60),r=e-60*t;return"".concat((0,X.Iq)(t),":").concat((0,X.Iq)(r))}var nBe=e=>Math.round(e/6e4);function aBe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=nBe(e),s=nBe(t),n=i+s,{wasLate:a=1/0,cameBefore:o=1/0,goneBefore:l=1/0,wasDelayed:c=1/0,lackOfWorkTimeSum:d=1/0,overtimeWorkSum:u=1/0}=r;return(0!==e||0!==t)&&(""!==a&&i<=-a||""!==o&&i>=o||""!==l&&s<=-l||""!==c&&s>=c||""!==u&&n>=u||""!==d&&n<=-d)}function oBe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,j.xb)(e))return!1;var{violationStart:i,violationEnd:s}=e;return!(0,j.xb)(e)&&(!!(0,j.xb)(t)||t.every((t=>{return n=t,e.approve===n||!(n!==iBe.VIOLATIONS||!aBe(i,s,r))||n===iBe.WITHOUT_VIOLATIONS&&!aBe(i,s,r);var n})))}const lBe={root:"dFKxwCTQd6aczF-NGnv5Hg==",violationSum:"_1i93BuQSFJykKcDH37xPTw==",critical:"CarwCo7tXBN9jCSVXpk-qg==",uncritical:"BzU803ejbq1xa-26e+Fqug==",shiftTimeInfo:"df5FzLwkUtiuJC3iPux+uA==",splitter:"RybhdC2YlyYtZIrXzYX2lg==",active:"_570U5o+kbmt6nVCvodGA9Q==",disabled:"t+LTFBg9kaEKrsJf9coaRA==",positive:"V-EaC4Se+ILGBR2TpJEz9A==",negative:"oLABzXxEbf9Mu+-4vWrDSA==",blockIcon:"Keyy02ZZc3qEKHWYk715Hw==",acronym:"_1piDQkMjAyyvcmLT2NzhcQ==",dark:"_01BzDxDzHp9DqTiGtCvWkg=="};var cBe=ai().bind(lBe);class dBe extends m.PureComponent{render(){var{value:e}=this.props,t=cBe({positive:e>0,negative:e<0}),r=Math.abs(e);return(0,u.jsx)("span",{className:t,children:sBe(nBe(r))})}}dBe.propTypes={value:c().number.isRequired};const uBe=dBe;class pBe extends m.PureComponent{render(){var{targetTime:e,violation:t,isShiftStart:r}=this.props,i=(0,ft.i7)(e),s=r?et.LZ:et.Y4;return(0,u.jsxs)("div",{className:lBe.shiftTimeInfo,children:[(0,u.jsx)(et.ZP,{glyph:s}),i,(0,u.jsx)("span",{className:lBe.splitter}),(0,u.jsx)(uBe,{value:t})]})}}pBe.defaultProps={isShiftStart:!1,targetTime:0},pBe.propTypes={targetTime:c().string,violation:c().number.isRequired,isShiftStart:c().bool};const hBe=pBe;var fBe=ai().bind(lBe);class mBe extends m.PureComponent{render(){var{violationStart:e,violationEnd:t}=this.props,r=nBe(e)+nBe(t),i=r>0,s=r<0,n=sBe(Math.abs(r)),a=fBe("violationSum",{positive:i,negative:s});return(0,u.jsx)("div",{className:a,children:n})}}mBe.propTypes={violationStart:c().number.isRequired,violationEnd:c().number.isRequired};const vBe=mBe;function yBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gBe=ai().bind(lBe),bBe={width:0},jBe=e=>{e.preventDefault()};class xBe extends m.Component{constructor(){super(...arguments),yBe(this,"fetchUserSchedule",((e,t,r)=>{var i=ns()(e,ft._E).local().add(24,"hour").format(ft._E);this.props.fetchUserSchedule({userId:t,groupId:r,from:e,to:i})})),yBe(this,"handleCheck",(e=>{var{data:{id:t,userId:r,day:i},approveCell:s}=this.props;s({id:t,userId:r,day:i,approve:e?Kye.C:Kye.r})})),yBe(this,"isActive",(()=>{var{data:{userId:e,day:t},activeUserId:r,activeStart:i}=this.props;return ns()(i,ft._E).format(ft.vc)===t&&e===r})),yBe(this,"handleClick",(()=>{var{data:{userId:e,day:t},setDetailsUserId:r,setDetailsStart:i,disabled:s,groupId:n}=this.props,a=ns()(t).format(ft._E);s||(this.fetchUserSchedule(a,e,n),r(e),i(a))}))}render(){if(!this.props.data)return null;var{data:{violationStart:e,violationEnd:t,startActivity:r,endActivity:i,approve:s,acronym:n,color:a},disabled:o,scheduleControlSettings:l,blocked:c,hasCRUDRights:d}=this.props,p=Boolean(e||t),h=p&&aBe(e,t,l),f=p&&!h,m=s===Kye.C,v=o||c||!d,y=c?(0,u.jsx)(et.ZP,{glyph:et.yG,classCustom:lBe.blockIcon}):"",g=gBe("root",{uncritical:f,critical:h,active:this.isActive(),disabled:o}),b=gBe("acronym",{dark:!(0,X._T)(a)}),j=n?{backgroundColor:a}:{};return(0,u.jsxs)("div",{className:g,onClick:this.handleClick,style:j,tabIndex:0,onMouseDown:jBe,children:[(0,u.jsx)(eS.Z,{divStyle:bBe,children:(0,u.jsx)(Rs.XZ,{checked:m,onChange:this.handleCheck,disabled:v,label:y})}),!n&&(0,u.jsx)(vBe,{violationStart:e,violationEnd:t}),!n&&(0,u.jsx)(hBe,{targetTime:r,violation:e,isShiftStart:!0}),!n&&(0,u.jsx)(hBe,{targetTime:i,violation:t}),n&&(0,u.jsx)("span",{className:b,children:n})]})}}xBe.defaultProps={data:{},activeUserId:"",activeStart:"",disabled:!1,blocked:!1,hasCRUDRights:!1,scheduleControlSettings:{}},xBe.propTypes={data:c().shape({id:c().string.isRequired,userId:c().string.isRequired,day:c().string.isRequired,startActivity:c().string.isRequired,endActivity:c().string.isRequired,startFact:c().string,endFact:c().string,violationStart:c().number.isRequired,violationEnd:c().number.isRequired,userName:c().string,userFullName:c().string,userPosition:c().string,approve:c().string,acronym:c().string,color:c().string}),approveCell:c().func.isRequired,setDetailsUserId:c().func.isRequired,setDetailsStart:c().func.isRequired,fetchUserSchedule:c().func.isRequired,activeUserId:c().string,activeStart:c().string,disabled:c().bool,blocked:c().bool,hasCRUDRights:c().bool,scheduleControlSettings:c().object,groupId:c().string.isRequired};const SBe=xBe;function OBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function PBe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OBe(Object(r),!0).forEach((function(t){wBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OBe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const CBe=(0,o.compose)((0,s.$j)((e=>({tableData:f_e(e),columnData:k_e(e),activeUserId:(0,K.D3)(e),activeStart:(0,K.cY)(e),filter:p_e(e),user:e.user,scheduleControlSettings:x_e(e),groupId:(0,Y.Wx)(e)})),{approveCell:fLe.approveCell,setDetailsUserId:da.setDetailsUserId,setDetailsStart:da.setDetailsStart,fetchUserSchedule:da.fetchUserSchedule},((e,t,r)=>{var{data:{block:i}={}}=r;return PBe(PBe(PBe(PBe({},e),t),r),{},{disabled:!oBe(r.data,e.filter,e.scheduleControlSettings),blocked:i===q_e.x,hasCRUDRights:(0,X.BC)(e.user,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD)})})))(SBe);function kBe(e){return!(0,j.xb)(e)&&Object.values(e).some((e=>!!e&&Object.values(e).some((e=>!!e&&e.approve===Kye.C))))}function TBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function NBe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TBe(Object(r),!0).forEach((function(t){RBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TBe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EBe={approveAll:fLe.approveAll};const DBe=(0,o.compose)((0,s.$j)((e=>({data:S_e(e),user:e.user})),EBe,((e,t,r)=>{return NBe(NBe(NBe(NBe({},e),t),r),{},{checked:(s=e.data,!(0,j.xb)(s)&&Object.values(s).every((e=>Object.values(e).every((e=>!!e&&(e.approve!==Kye.r||e.blocked)))))),indeterminate:kBe(e.data),onChange:(i=t.approveAll,e=>{i(e)}),disabled:!(0,X.BC)(e.user,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD)});var i,s})))(Rs.XZ);function ABe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class MBe extends m.PureComponent{constructor(){super(...arguments),ABe(this,"state",{open:!1,searchTerm:""}),ABe(this,"createRootRef",(e=>this.rootEl=e)),ABe(this,"createInputRef",(e=>this.inputEl=e)),ABe(this,"toggleOpen",(()=>{var{onClose:e}=this.props;this.setState((e=>({open:!e.open})),(()=>{this.state.open||(e&&e(),this.setState({searchTerm:""}))}))})),ABe(this,"handleInputChange",(e=>{var{value:t}=e.target,{onChange:r,dataSource:i,dataSourceConfig:{text:s}}=this.props;this.setState({searchTerm:t,open:!0},(()=>{if(t.length>=3){var e=this.filter(i).map((e=>e[s]));r(e)}}))})),ABe(this,"handleInputKeyDown",(e=>{var{key:t}=e;"Enter"===t&&this.toggleOpen()})),ABe(this,"handleListChange",(e=>{var{onChange:t}=this.props;t(e),this.inputEl.focus()})),ABe(this,"filter",(e=>{var{dataSourceConfig:{text:t}}=this.props,{searchTerm:r}=this.state;return r?e.filter((e=>e[t].toLowerCase().includes(r.toLowerCase()))):e}))}render(){var{dataSource:e,dataSourceConfig:t,values:r,disables:i,dropDownHeight:s,dropDownWidth:n,hintText:a}=this.props,o=this.filter(e),l={padding:10};return n&&(l.width=n),(0,u.jsxs)("div",{ref:this.createRootRef,className:"+wTCi0OeoaaT57V9L1CQnQ==",children:[(0,u.jsx)("input",{ref:this.createInputRef,type:"text",name:"input",tabIndex:0,onClick:this.toggleOpen,autoComplete:"off",value:this.state.searchTerm,onChange:this.handleInputChange,placeholder:a,onKeyDown:this.handleInputKeyDown}),(0,u.jsx)(nh.Z,{open:this.state.open,onClick:this.toggleOpen,className:"o6cnuFGMZASNFaCrvHAxgg=="}),(0,u.jsx)(Ns.ZP,{anchorEl:this.rootEl,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,onClose:this.toggleOpen,disableAutoFocus:!0,disableEnforceFocus:!0,children:(0,u.jsx)("div",{style:l,children:(0,u.jsx)(Hx.Z,{dataSource:o,dataSourceConfig:t,values:r,disables:i,sisables:r,onChange:this.handleListChange,listHeight:s})})})]})}}MBe.defaultProps={dataSource:[],values:[],disables:[],onClose:null},MBe.propTypes={dataSource:c().array,dataSourceConfig:c().object.isRequired,values:c().array,disables:c().array,onChange:c().func.isRequired,dropDownHeight:c().number.isRequired,dropDownWidth:c().number.isRequired,hintText:c().string.isRequired,onClose:c().func};const IBe=MBe;class ZBe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{var{clearFilter:e}=this.props;e()}))}render(){var{isSet:e,count:t}=this.props,r=(0,u.jsx)("span",{className:"+jGRHAEaetfn7tM+gt0-7g==",children:0!==t?t:""});return(0,u.jsxs)("div",{className:"ASV1z1CukE2qyqNk9mLywA==",children:[e&&r,(0,u.jsx)(Ae.Z,{onClick:this.handleClick,disabled:!e,children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]})}}ZBe.defaultProps={isSet:!1,count:null},ZBe.propTypes={clearFilter:c().func.isRequired,isSet:c().bool,count:c().number};const qBe=ZBe;function FBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function LBe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FBe(Object(r),!0).forEach((function(t){HBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FBe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _Be=(0,o.compose)((0,s.$j)((e=>({filter:h_e(e),tableFilterCounter:P_e(e)})),{clearFilter:fLe.clearDetailsTableFilter},((e,t,r)=>{var i=e.filter.userName||[];return LBe(LBe({},t),{},{isSet:!(0,j.xb)(i),count:e.tableFilterCounter},r)})))(qBe);function BBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class GBe extends m.Component{constructor(){super(...arguments),BBe(this,"state",{fieldName:"userName"}),BBe(this,"getHint",(()=>{var{intl:{formatMessage:e}}=this.props;return e({id:"ScheduleControl.SearchByEmployees",defaultMessage:[{type:0,value:"Поиск по сотрудникам"}]})})),BBe(this,"handleChange",(e=>{var{setFilter:t,tableFilterStash:r}=this.props,{fieldName:i}=this.state,s=r[i]||[];t({fieldName:i,values:[...new Set([...s,...e])]})})),BBe(this,"handleClose",(()=>{var{tableFilter:e,stashFilter:t}=this.props;t(e)})),BBe(this,"withoutDoubles",(e=>{var{fieldName:t}=this.state,r=[];return e.forEach((e=>{r.find((r=>r[t]===e[t]))||r.push(e)})),r}))}render(){var{data:e,tableFilter:t,tableFilterStash:r,columnWidth:i}=this.props,{fieldName:s}=this.state,n=t[s],a=document.body.clientHeight-290,o=r[s],l=this.withoutDoubles(e).sort((0,X.hM)(s));return(0,u.jsxs)("div",{className:"_8kUpJSLIxL4cqC2dtstmtQ==",children:[(0,u.jsx)(DBe,{}),(0,u.jsx)(IBe,{dataSource:l,dataSourceConfig:{text:s,value:s},values:n,disables:o,onChange:this.handleChange,dropDownWidth:i,dropDownHeight:a,hintText:this.getHint(),onClose:this.handleClose,onOpen:this.handleOpen}),(0,u.jsx)(_Be,{})]})}}GBe.propTypes={data:c().array.isRequired,tableFilter:c().object.isRequired,tableFilterStash:c().object.isRequired,intl:c().object.isRequired,setFilter:c().func.isRequired,stashFilter:c().func.isRequired,columnWidth:c().number.isRequired};const WBe=(0,v.ZP)(GBe);var UBe={setFilter:fLe.setDetailsTableFilter,stashFilter:fLe.stashDetailsTableFilter};const VBe=(0,s.$j)((e=>({data:C_e(e),tableFilter:h_e(e),tableFilterStash:y_e(e),columnWidth:v_e(e)})),UBe)(WBe);function zBe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function YBe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zBe(Object(r),!0).forEach((function(t){QBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zBe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QBe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KBe=e=>{(0,O.wA)(e)},XBe=e=>e.map((e=>new DO.Z({key:e.day,width:98,renderHeader:()=>(0,u.jsx)(X_e,{onCheck:KBe,date:e.day}),renderCell:t=>(0,u.jsx)(CBe,{data:t[e.day],tolerance:15e5})})));function JBe(e){var{columnsData:t,leftSideWidth:r}=e;return[new DO.Z({key:"userName",width:r,fixed:!0,renderHeader:e=>(0,u.jsx)(VBe,YBe({},e)),renderCell:e=>(0,u.jsx)(Z_e,YBe({},e))}),...XBe(t)]}var $Be=e=>{var{leftSideWidth:t,filteredData:r,columnsData:i,isDetailsTableLoading:s,setDetailsLeftSideWidth:n}=e,a=(0,m.useRef)(null);(0,m.useEffect)((()=>{var e,r;t&&(null===(e=a.current)||void 0===e||e.multiGrid.recomputeGridSize({rowIndex:0}),null===(r=a.current)||void 0===r||r.multiGrid.forceUpdate())}));var o=e=>{n(e),_r.ZP.set(c_e,e)};return t?s?(0,u.jsx)(Z.Z,{}):(0,u.jsxs)("div",{className:"trftu9+a3Lf3Mzec5JspKQ==",children:[(0,u.jsx)(jp.ZP,{ref:a,rowHeight:d_e,columns:JBe({data:r,columnsData:i,leftSideWidth:t}),data:r}),(0,u.jsx)(es,{style:{left:t},onDrag:e=>{var r=document.body.clientWidth/100*50,i=t+e;i<yd.WZ?o(yd.WZ):o(i>r?r:i)},orientation:Ji})]}):null};$Be.defaultProps={filteredData:[],isDetailsTableLoading:!1},$Be.propTypes={isDetailsTableLoading:c().bool,filteredData:c().array,columnsData:c().array.isRequired,leftSideWidth:c().number.isRequired,setDetailsLeftSideWidth:c().func.isRequired};const eGe=$Be,tGe=(0,o.compose)((0,s.$j)((e=>({leftSideWidth:v_e(e),columnsData:k_e(e),filteredData:O_e(e),isDetailsTableLoading:m_e(e)})),{setDetailsLeftSideWidth:fLe.setDetailsLeftSideWidth}),(0,U.Z)((e=>{var{props:t}=e,r=_r.ZP.get(c_e,280);t.setDetailsLeftSideWidth(r)})))(eGe);var rGe="/schedule-control";var iGe=(e,t)=>e[t],sGe=e=>{var{permissionGroupsMap:t}=e,{id:r}=(0,y.UO)(),i=(e=>{var{permissionGroupsMap:t,currentGroupId:r}=e,i=iGe(t,r),s=[i];if(!i)return[];for(var n=i.groupId;n;){var a=iGe(t,n);s.unshift(a),n=a.groupId}return s})({permissionGroupsMap:t,currentGroupId:r});return(0,u.jsx)("div",{className:"be2kN1BYLqdkBZj6R78mgg==",children:i.map((e=>(0,u.jsx)("span",{className:"_8ypaV-Ds6S8DrnMl9rwtiw==",children:(0,u.jsx)(a.rU,{className:"at2ZZRdVkGvb86FxQkooRA==",activeClassName:"MJyFgxmvoQQlbsC8NDRbmw==",to:"".concat(rGe,"/").concat(e.id),children:e.groupName})},e.id)))})};sGe.propTypes={permissionGroupsMap:c().object.isRequired};const nGe=sGe,aGe=(0,o.compose)(y.EN,(0,s.$j)((e=>({permissionGroupsMap:(0,B.GJ)(e)}))))(nGe);var oGe=e=>{var t=me()("responsive-container","ucbEaXUzfVP168iOV+G+VA==");return(0,u.jsxs)("div",{className:t,children:[(0,u.jsx)(Ae.Z,{onClick:()=>e.history.push(rGe),children:(0,u.jsx)(et.ZP,{glyph:et.Y4})}),(0,u.jsx)(aGe,{})]})};oGe.propTypes={history:c().array.isRequired};const lGe=oGe,cGe=(0,o.compose)(y.EN)(lGe);function dGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uGe extends m.Component{constructor(){super(...arguments),dGe(this,"handleFrom",(e=>{var{period:{to:t},onChange:r}=this.props;r({from:(0,ft.b7)(e,ft.vc),to:t})})),dGe(this,"handleTo",(e=>{var{period:{from:t},onChange:r}=this.props;r({from:t,to:(0,ft.iX)(e,ft.vc,!1)})}))}render(){var{period:{from:e,to:t}}=this.props;return(0,u.jsx)(vIe,{from:e,to:t,handleFrom:this.handleFrom,handleTo:this.handleTo})}}uGe.propTypes={period:ic.isRequired,onChange:c().func.isRequired};const pGe=uGe;function hGe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fGe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hGe(Object(r),!0).forEach((function(t){mGe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hGe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vGe=(0,o.compose)(y.EN,(0,s.$j)((e=>({period:u_e(e)})),{setScheduleControlPeriod:fLe.setScheduleControlPeriod,fetchScheduleControlDetails:fLe.fetchScheduleControlDetails},((e,t,r)=>{var{id:i}=r.match.params;return fGe({period:e.period,onChange:e=>{t.setScheduleControlPeriod(e),(e=>{var{from:t,to:r}=e;return ns()(t)>ns()(r)})(e)||t.fetchScheduleControlDetails(fGe({groupId:i},e))}},r)})))(pGe);var yGe=e=>{var{action:t,hint:r,disabled:i=!1}=e;return(0,u.jsx)(Ae.Z,{onClick:t,disabled:i,hint:r,children:(0,u.jsx)(et.ZP,{glyph:et.CW})})};yGe.defaultProps={disabled:!1,hint:""},yGe.propTypes={disabled:c().bool,action:c().func.isRequired,hint:c().string};const gGe=yGe;function bGe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xGe={remapStatuses:fLe.remapStatuses,fetchUserSchedule:da.fetchUserSchedule};const SGe=(0,o.compose)(v.ZP,y.EN,(0,s.$j)((e=>({user:(0,C.ts)(e),isDetailsTableLoading:g_e(e),period:Ea(e),scheduleDetailsParams:w_e(e)})),xGe,((e,t,r)=>{var{user:i,period:s,isDetailsTableLoading:n,scheduleDetailsParams:a}=e,{id:o}=r.match.params,{intl:{formatMessage:l}}=r,c=()=>{(0,j.xb)(a)||t.fetchUserSchedule(a)};return{disabled:n||!(0,X.BC)(i,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD),action:()=>{t.remapStatuses(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bGe(Object(r),!0).forEach((function(t){jGe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bGe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({groupId:o},s),c)},hint:l({id:"ScheduleControl.RemapStatuses",defaultMessage:[{type:0,value:"Перемаппинг статусов биометрии"}]})}})))(gGe);var OGe=r(84597);var PGe=ai().bind({root:"+u8EhgZ9Nt6BKtgUElDV6Q==",accent:"JywWT0rT9ZLW4ffwZgvp5g=="});class wGe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleApply",(()=>{var{data:e,savedData:t,saveApplies:r}=this.props;r((0,OGe.h4)(t,e))}))}render(){var{isDetailsTableLoading:e,user:t,changed:r}=this.props,i=!(0,X.BC)(t,x.ZP.RIGHTS.SCHEDULE_CONTROL_USERS,x.ZP.CRUD)||!r||e,s=PGe("root",{accent:!i});return(0,u.jsxs)(Ae.Z,{className:s,onClick:this.handleApply,disabled:i,children:[(0,u.jsx)(et.ZP,{glyph:et.N}),(0,u.jsx)(J.Z,{id:"ScheduleControl.SaveApproves",defaultMessage:[{type:0,value:"Сохранить подтверждения"}]})]})}}wGe.propTypes={data:c().object.isRequired,savedData:c().object.isRequired,saveApplies:c().func.isRequired,isDetailsTableLoading:c().bool.isRequired,changed:c().bool.isRequired,user:ge.Z.isRequired};const CGe=wGe;function kGe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function TGe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kGe(Object(r),!0).forEach((function(t){NGe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kGe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RGe={saveApplies:fLe.saveApplies};const EGe=(0,o.compose)((0,s.$j)((e=>({user:e.user,data:(0,OGe.gL)(S_e(e)),savedData:Ma(e),isDetailsTableChanged:b_e(e),isDetailsTableLoading:g_e(e)})),RGe,((e,t,r)=>TGe(TGe(TGe(TGe({},e),t),r),{},{changed:!VF()(e.data,e.savedData)}))))(CGe);var DGe=e=>{var{onClick:t}=e,r=(0,er.Z)().formatMessage({id:"SettingsHandler.iconTitle",defaultMessage:[{type:0,value:"Настройка критичности нарушений"}]});return(0,u.jsx)(Ae.Z,{onClick:t,children:(0,u.jsx)("div",{title:r,children:(0,u.jsx)(et.ZP,{glyph:et.Zr})})})};DGe.propTypes={onClick:c().func.isRequired};const AGe=DGe;var MGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.Description",defaultMessage:[{type:0,value:"Укажите допустимые отклонения от графика в минутах"}]}),IGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.WasLate",defaultMessage:[{type:0,value:"Опоздал"}]}),ZGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.CameBefore",defaultMessage:[{type:0,value:"Пришел раньше"}]}),qGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.GoneBefore",defaultMessage:[{type:0,value:"Ушел раньше"}]}),FGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.WasDelayed",defaultMessage:[{type:0,value:"Задержался"}]}),LGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.Title",defaultMessage:[{type:0,value:"Настройка критичности нарушений"}]}),HGe=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.LackOfWorkTimeSum",defaultMessage:[{type:0,value:"Суммарная недоработка"}]}),_Ge=(0,u.jsx)(J.Z,{id:"ScheduleControl.DetailsSettingsForm.OvertimeWorkSum",defaultMessage:[{type:0,value:"Суммарная переработка"}]});var BGe=e=>""===e?e:Math.abs(Math.round(e)),GGe=e=>{var{name:t,label:r}=e;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:r}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{className:"L8iMuYdvJYss97Quulzk-w==",component:"input",type:"number",name:t,min:0,step:1,normalize:BGe})})]})};GGe.propTypes={name:c().string.isRequired,label:c().any.isRequired};const WGe=GGe;var UGe=e=>{var{handleSubmit:t,pristine:r,invalid:i}=e;return(0,u.jsxs)("div",{className:"_4CnTfFmfdAYPQ57XpML-dA==",children:[(0,u.jsx)("div",{className:"_68QVV1Lz2g+eNV8+fuRhBw==",children:MGe}),(0,u.jsx)("div",{className:"xjsnyr93HkgVkJV62bUxig==",children:(0,u.jsx)("table",{children:(0,u.jsxs)("tbody",{children:[(0,u.jsx)(WGe,{name:"wasLate",label:IGe}),(0,u.jsx)(WGe,{name:"cameBefore",label:ZGe}),(0,u.jsx)(WGe,{name:"goneBefore",label:qGe}),(0,u.jsx)(WGe,{name:"wasDelayed",label:FGe}),(0,u.jsx)(WGe,{name:"lackOfWorkTimeSum",label:HGe}),(0,u.jsx)(WGe,{name:"overtimeWorkSum",label:_Ge})]})})}),(0,u.jsx)("div",{className:"amFnKHSb246wOUWjbhOwAQ==",children:(0,u.jsx)(Ge.Z,{caption:(0,u.jsx)(J.Z,{id:"Common.saveChanges"}),onClick:t,type:"stripped",disabled:r||i})})]})};UGe.propTypes={handleSubmit:c().func.isRequired,pristine:c().bool.isRequired,invalid:c().bool.isRequired};const VGe=UGe;function zGe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function YGe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zGe(Object(r),!0).forEach((function(t){QGe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zGe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KGe={saveScheduleControlSettings:fLe.saveScheduleControlSettings};const XGe=(0,o.compose)((0,s.$j)((e=>({initialValues:x_e(e)})),KGe,((e,t,r)=>{return YGe(YGe(YGe(YGe({},e),t),r),{},{onSubmit:(e.user,i=t.saveScheduleControlSettings,s=r.onCloseRequest,e=>{i({scheduleControlSettings:JSON.stringify(e)}),s()})});var i,s})),(0,Fe.Z)({form:"settings"}))(VGe);function JGe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $Ge extends m.Component{constructor(){super(...arguments),JGe(this,"state",{open:!1}),JGe(this,"toggleOpen",(()=>{this.setState((e=>({open:!e.open})))}))}render(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(AGe,{onClick:this.toggleOpen}),(0,u.jsx)(yk.Z,{handleBackArrow:this.toggleOpen,open:this.state.open,title:LGe,width:700,children:(0,u.jsx)(XGe,{onCloseRequest:this.toggleOpen})})]})}}const eWe=$Ge,tWe="_8qBrW-WVxMpvyRK-D3LHGA==";var rWe=e=>{var{onClick:t,active:r}=e;return(0,u.jsx)(Ae.Z,{active:r,onClick:t,children:J_e})};rWe.defaultProps={active:!1},rWe.propTypes={active:c().bool,onClick:c().func.isRequired};const iWe=rWe;var sWe={clearMainDetailsFilter:fLe.clearMainDetailsFilter};const nWe=(0,o.compose)((0,s.$j)((e=>({filter:p_e(e)})),sWe,((e,t)=>({active:(0,j.xb)(e.filter),onClick:t.clearMainDetailsFilter}))))(iWe);var aWe=e=>{var{label:t,checked:r,onChange:i}=e;return(0,u.jsx)(Rs.ZP,{label:t,checked:r,onChange:i})};aWe.propTypes={label:c().any.isRequired,checked:c().bool.isRequired,onChange:c().func.isRequired};const oWe=aWe;function lWe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cWe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dWe={addToMainDetailsFilter:fLe.addToMainDetailsFilter,removeFromMainDetailsFilter:fLe.removeFromMainDetailsFilter};const uWe=(0,o.compose)((0,s.$j)((e=>({filter:p_e(e)})),dWe,((e,t,r)=>{var{value:i}=r;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lWe(Object(r),!0).forEach((function(t){cWe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lWe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({checked:e.filter.includes(i),onChange:e=>{e?t.addToMainDetailsFilter(i):t.removeFromMainDetailsFilter(i)}},r)})))(oWe),pWe=()=>(0,u.jsxs)("div",{className:"vBfnweyykpVhP6xGa5XnYQ==",children:[(0,u.jsx)(nWe,{value:iBe.ALL,children:J_e}),(0,u.jsx)(uWe,{value:iBe.VIOLATIONS,label:$_e}),(0,u.jsx)(uWe,{value:iBe.WITHOUT_VIOLATIONS,label:eBe}),(0,u.jsx)(uWe,{value:iBe.APPROVED,label:tBe}),(0,u.jsx)(uWe,{value:iBe.NOT_APPROVED,label:rBe})]});function hWe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fWe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hWe(Object(r),!0).forEach((function(t){mWe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hWe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mWe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vWe=e=>{var{handleClick:t}=e;return(0,u.jsx)("div",{className:"-rhIjL1Zj4w72UBSxd5ioQ==",children:(0,u.jsx)(Fd.Z,fWe({onClick:t},e))})};vWe.propTypes={handleClick:c().func.isRequired};const yWe=vWe;function gWe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bWe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gWe(Object(r),!0).forEach((function(t){jWe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gWe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jWe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xWe=(0,o.compose)(m.memo,y.EN,v.ZP,(0,s.$j)((e=>bWe({user:(0,C.ts)(e),isChanged:e.schedule.intervalIsChanged[0].isChanged},u_e(e))),{checkUnsavedChanges:da.checkUnsavedChanges,publishSchedule:da.publishSchedule},((e,t,r)=>{var{from:i,to:s}=e,{intl:{formatMessage:n}}=r;return bWe(bWe(bWe(bWe({},e),t),r),{},{handleRefresh:t.refresh,hint:n({id:"ScheduleComputing.publishSchedule",defaultMessage:[{type:0,value:"Опубликовать расписание"}]}),handleClick:()=>{t.publishSchedule(r.match.params.id,i,s)},disabled:!(0,X.BC)(e.user,x.ZP.RIGHTS.SCHEDULE,x.ZP.CRUD)})})),(0,U.Z)((e=>{var{props:t}=e,{match:r,from:i,to:s}=t;t.checkUnsavedChanges({groupId:r.params.id,from:i,to:s})})))(yWe);class SWe extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"-QVD6faEFPVxE+RK0U0Cjw==",children:[(0,u.jsxs)("div",{className:tWe,children:[(0,u.jsx)(vGe,{}),(0,u.jsx)(pWe,{})]}),(0,u.jsxs)("div",{className:tWe,children:[(0,u.jsx)(eWe,{}),(0,u.jsx)(SGe,{}),(0,u.jsx)(EGe,{}),(0,u.jsx)(xWe,{})]})]})}}SWe.propTypes={};const OWe=SWe;var PWe=e=>{var{refresh:t}=e;return(0,u.jsxs)("div",{className:"V1k-eDu-NjsNnUGwAjgdBA==",children:[(0,u.jsx)(cGe,{}),(0,u.jsx)(OWe,{}),(0,u.jsx)("div",{className:"-GqAnXrS-0tFdNt1ZILxqA==",children:(0,u.jsx)(tGe,{})}),(0,u.jsx)(vj,{onScheduleChangeSuccess:t})]})};PWe.propTypes={refresh:c().func.isRequired};const wWe=PWe;function CWe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function kWe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CWe(Object(r),!0).forEach((function(t){TWe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CWe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TWe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NWe={fetchScheduleControlDetails:fLe.fetchScheduleControlDetails};const RWe=(0,o.compose)(y.EN,(0,s.$j)((e=>({period:u_e(e)})),NWe,((e,t,r)=>{var{period:i}=e,{id:s}=r.match.params;return kWe(kWe(kWe({refresh:()=>{t.fetchScheduleControlDetails(kWe({groupId:s},i))}},e),t),r)})),(0,U.Z)((e=>{var{props:t}=e;t.refresh()})),(0,fZ.Z)(((e,t)=>{var{props:r}=e,{id:i}=r.match.params,{id:s}=t.match.params;i!==s&&r.fetchScheduleControlDetails(kWe({groupId:s},r.period))})))(wWe);var EWe=e=>{var{user:t}=e;return(0,X.BC)(t,x.ZP.RIGHTS.SCHEDULE_CONTROL_GROUPS)||(0,j.xb)(t)?(0,u.jsx)(Gi,{children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{exact:!0,path:"/schedule-control",children:(0,u.jsx)(l_e,{})}),(0,u.jsx)(y.AW,{path:"/schedule-control/:id",children:(0,u.jsx)(RWe,{})})]})}):(0,u.jsx)(Vi,{user:t})};EWe.propTypes={user:P.jZ.isRequired};const DWe=EWe;var AWe="/biometrics/devices",MWe="/biometrics/transactions",IWe=(0,u.jsx)(J.Z,{id:"Menu.devices",defaultMessage:[{type:0,value:"Устройства"}]}),ZWe=(0,u.jsx)(J.Z,{id:"Menu.transactions",defaultMessage:[{type:0,value:"Транзакции"}]}),qWe=[{id:(0,X.Vj)(),link:AWe,text:IWe},{id:(0,X.Vj)(),link:MWe,text:ZWe}],FWe={menuClass:"manager"};var LWe=r(84929);function HWe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _We={text:"name",value:"id"};class BWe extends m.Component{constructor(){super(...arguments),HWe(this,"state",{selectedPoints:this.props.filter||[]}),HWe(this,"handleClick",(e=>{var{getDevices:t,setFilterOrgPoints:r}=this.props;this.setState({selectedPoints:e}),r(e),e.length>0&&t((0,LWe.$1)(e))})),HWe(this,"handleClear",(()=>{this.props.getDevices(),this.setState({selectedPoints:[]})}))}render(){var{data:e}=this.props,{selectedPoints:t}=this.state,r=e.sort((0,jo.hc)(LWe.jp));return(0,u.jsxs)("div",{className:"lpjAO4c4PIf6qZk8rixESA==",children:[(0,u.jsx)(Gl.Z,{dataSource:r,values:t,onChange:this.handleClick,dataSourceConfig:_We,dropDownHeight:200,notClearSearchField:!0,classContainer:"iGMVO5LMmi3rSF6hDaLJoA==",returnObjValue:!0}),(0,u.jsx)(Ae.Z,{onClick:this.handleClear,disabled:(0,j.xb)(t),className:me()("hWkggut6DsaajcbniEUTBg==",{"fSXpI8TkhVnKzpiK6HILRQ==":!(0,j.xb)(t),"_60soy6otgYQp11Py6zuGkg==":(0,j.xb)(t)}),children:(0,u.jsx)(et.ZP,{glyph:et.KW})})]})}}BWe.defaultProps={data:[],filter:[]},BWe.propTypes={data:c().array,getDevices:c().func.isRequired,setFilterOrgPoints:c().func.isRequired,filter:c().array};const GWe=BWe;var WWe=r(65994),UWe=r(53848),VWe=e=>{var t=(0,WWe.getOrgPointsStore)(e);return Object.values(t)};const zWe=(0,o.compose)((0,s.$j)((e=>({data:VWe(e),filter:(0,WWe.getFilterOrgPoints)(e)})),{getOrgPoints:UWe.getOrgPoints,getDevices:UWe.getDevices,clearDevices:UWe.clearDevices,setFilterOrgPoints:UWe.setFilterOrgPoints}),(0,U.Z)((e=>{var{props:t}=e;t.getOrgPoints()})))(GWe);var YWe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.OrgPoints",defaultMessage:[{type:0,value:"Точки оргструктуры"}]});class QWe extends m.Component{render(){return(0,u.jsx)("div",{className:"style-list",children:(0,u.jsxs)("div",{style:{borderBottom:"none"},className:"style-list-item no-last",children:[(0,u.jsx)("div",{className:"title",children:YWe}),(0,u.jsx)("div",{className:"field",children:(0,u.jsx)(zWe,{})})]})})}}const KWe=QWe,XWe=(0,o.compose)(y.EN,(0,s.$j)((e=>({user:(0,C.ts)(e),frontendSettings:(0,B.e0)(e)}))))(KWe);class JWe extends m.PureComponent{render(){var{isActive:e,colorClass:t,customClass:r}=this.props,i=me()("flex-container text-ellipsis pv custom-cell bb-dot",{disabled:!e,[t]:!!t,[r]:!!r});return(0,u.jsx)("div",{className:i,title:this.props.title,children:this.props.value})}}JWe.defaultProps={colorClass:"",customClass:"",isActive:!0},JWe.propTypes={title:c().oneOfType([c().string,c().array]).isRequired,value:c().oneOfType([c().string,c().node]).isRequired,isActive:c().bool,colorClass:c().string,customClass:c().string};const $We=JWe;function eUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tUe extends m.Component{constructor(){super(...arguments),eUe(this,"getCountPoint",(()=>{var{pointsOrg:e}=this.props;return e.length})),eUe(this,"getValue",(()=>{var{pointsOrg:e}=this.props,t=e[0],r="",i=this.getCountPoint();return t&&(r=t.groupName),i>1&&(r=(0,u.jsxs)("div",{className:"points-org-title",children:[(0,u.jsx)("span",{className:"T3TKmTsAdehcu01KxHPvrg==",title:r,children:r}),(0,u.jsx)("span",{children:"+".concat(i)})]})),r})),eUe(this,"getTitle",(()=>{var e=this.props.pointsOrg.map((e=>e.groupName));return e.join(", ")}))}render(){var e=this.getValue(),t=this.getTitle();return(0,u.jsx)($We,{value:e,title:t})}}tUe.defaultProps={pointsOrg:[]},tUe.propTypes={pointsOrg:c().array};const rUe=tUe;function iUe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sUe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iUe(Object(r),!0).forEach((function(t){nUe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iUe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.DeviceId",defaultMessage:[{type:0,value:"ID устройства"}]}),oUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.OrgPoint",defaultMessage:[{type:0,value:"Точки оргструктуры"}]}),lUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.StartCell",defaultMessage:[{type:0,value:"Дата начала"}]}),cUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.EndCell",defaultMessage:[{type:0,value:"Дата окончания"}]}),dUe={headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell"};function uUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class pUe extends m.Component{constructor(e){super(e),uUe(this,"shadowParams","rgba(0, 0, 0, 0.2) 0 5px 5px"),uUe(this,"handleCellClick",((e,t)=>{var{setCurrentDevice:r,handleDeviceForm:i}=this.props;r(t),i()})),this.columns=[new DO.Z({headerClassName:"first-cell-sw first-custom-style-cell",cellClassName:"custom-style-cell first-custom-style-cell",key:"deviceId",sortable:!0,filterable:!0,width:203,label:aUe,renderCell:e=>{var{deviceId:t}=e;return(0,u.jsx)(KP,{title:t,customClass:"first-custom-style-cell"})}}),new DO.Z({headerClassName:"virtualized-table__header-cell",key:"pointOrg",width:300,label:oUe,renderCell:e=>{var{pointOrg:t}=e;return(0,u.jsx)(rUe,{pointsOrg:t})}}),new DO.Z(sUe(sUe({},dUe),{},{key:"start",label:lUe,width:165,filterable:!0,sortable:!0,renderFilterRow:e=>(0,ft.SE)(e),renderCell:e=>(0,u.jsx)(KP,{title:(0,ft.SE)(e.start)})})),new DO.Z(sUe(sUe({},dUe),{},{key:"end",label:cUe,width:220,filterable:!0,sortable:!0,autoSize:!0,renderFilterRow:e=>(0,ft.SE)(e),renderCell:e=>(0,u.jsx)(KP,{title:(0,ft.SE)(e.end)})}))]}render(){var{data:e,isLoading:t,setFilterDeviceTable:r,filterTable:i}=this.props;return t?(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(Z.Z,{})})}):(0,u.jsx)("div",{className:"schedule-changes",children:(0,u.jsx)("div",{className:"flex-item_flexible virtualized-table",children:(0,u.jsx)(VP.ZP,{ref:e=>this.table=e,data:e,columns:this.columns,rowHeight:32,columnsAutoWidth:!0,isAutoWidthCurrentColumn:!0,headerStyle:{boxShadow:this.shadowParams,zIndex:1},cellClassName:"enable-transition virtualized-table__cell",classNameBottomRightGrid:"scroll",onCellClick:this.handleCellClick,setFilter:r,filters:i})})})}}pUe.defaultProps={data:[],filterTable:{},isLoading:!1},pUe.propTypes={data:c().array,isLoading:c().bool,setFilterDeviceTable:c().func.isRequired,filterTable:c().object,setCurrentDevice:c().func.isRequired,handleDeviceForm:c().func.isRequired};const hUe=pUe,fUe=(0,o.compose)((0,s.$j)((e=>({data:(0,WWe.getDevicesData)(e),isLoading:(0,WWe.getIsLoadingDevices)(e),filterTable:(0,WWe.getFilterTableDevice)(e)})),{loadingDevices:UWe.loadingDevices,getDevices:UWe.getDevices,setFilterDeviceTable:UWe.setFilterDeviceTable}),(0,U.Z)((e=>{var{props:t}=e;t.getDevices()})))(hUe);class mUe extends m.PureComponent{render(){var{title:e,value:t}=this.props;return(0,u.jsxs)("div",{className:"panel-item",children:[(0,u.jsx)("div",{className:"first panel-item-style",children:e}),(0,u.jsx)("div",{className:"second panel-item-style",children:t})]})}}mUe.propTypes={title:c().string.isRequired,value:c().string.isRequired};const vUe=mUe;var yUe={id:"Biometrics.terminalType",defaultMessage:"Terminal Type:"},gUe={id:"Biometrics.hardwareVer",defaultMessage:"Hardware Ver.:"},bUe={id:"Biometrics.deviceSerialNo",defaultMessage:"ID устройства:"},jUe={id:"Biometrics.productName",defaultMessage:"Product Name:"},xUe={id:"Biometrics.version",defaultMessage:"Version:"};class SUe extends m.Component{render(){var{terminalType:e,hardwareVersion:t,deviceSerialNo:r,productName:i,version:s,intl:{formatMessage:n}}=this.props;return(0,u.jsx)("div",{className:"top-panel",children:(0,u.jsxs)("div",{className:"container-drawer",children:[(0,u.jsx)(vUe,{title:n(yUe),value:e}),(0,u.jsx)(vUe,{title:n(gUe),value:t}),(0,u.jsx)(vUe,{title:n(bUe),value:r}),(0,u.jsx)(vUe,{title:n(jUe),value:i}),(0,u.jsx)(vUe,{title:n(xUe),value:s})]})})}}SUe.propTypes={terminalType:c().string.isRequired,hardwareVersion:c().string.isRequired,deviceSerialNo:c().string.isRequired,productName:c().string.isRequired,intl:c().object.isRequired,version:c().string.isRequired};const OUe=(0,v.ZP)(SUe);class PUe extends m.PureComponent{render(){return(0,u.jsxs)("div",{className:"panel-item empty",children:[(0,u.jsx)("div",{className:"first panel-item-style"}),(0,u.jsx)("div",{className:"second panel-item-style"})]})}}const wUe=PUe;var CUe=(0,u.jsx)(J.Z,{id:"Manager.Schedule.Devices.Save"});class kUe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleClick",(()=>{this.props.onSave()}))}render(){var{isActive:e}=this.props;return(0,u.jsx)("div",{className:"bottom-panel",children:(0,u.jsx)("div",{className:"container-drawer",children:(0,u.jsx)(Ge.Z,{type:"stripped",caption:CUe,disabled:!e,onClick:this.handleClick})})})}}kUe.propTypes={onSave:c().func.isRequired,isActive:c().bool.isRequired};const TUe=kUe;function NUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class RUe extends m.PureComponent{constructor(){super(...arguments),NUe(this,"onChangeFromDate",(e=>{var{input:{onChange:t,value:{to:r}}}=this.props;t({from:e,to:r})})),NUe(this,"onChangeToDate",(e=>{var{input:{onChange:t,value:{from:r}}}=this.props;t({from:r,to:e})}))}render(){var{label:e,disabled:t,input:{value:{from:r,to:i}}}=this.props,s=me()("pr",{disabled:t});return(0,u.jsx)(_ee,{title:e,children:(0,u.jsxs)("span",{className:"date-range-swap",children:[(0,u.jsx)("span",{className:s,children:(0,u.jsx)(Koe.Z,{disabled:t,date:r,onChange:this.onChangeFromDate,hideCalendar:!1,dateFormat:ft._E})}),(0,u.jsx)("span",{className:s,children:(0,u.jsx)(Koe.Z,{disabled:t,date:i,onChange:this.onChangeToDate,hideCalendar:!1,dateFormat:ft._E})})]})})}}RUe.propTypes=Bt.oX;const EUe=RUe;class DUe extends m.Component{constructor(e){super(e),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{input:{onChange:t}}=this.props;t(e)})),this.zones=(0,ft.AH)()}render(){var{label:e,input:{value:t}}=this.props,{zones:r}=this;return(0,u.jsx)(_ee,{title:e,children:(0,u.jsx)(Il.Z,{dataSource:r,dataSourceConfig:{value:"value",text:"text"},value:t,onChange:this.handleChange})})}}DUe.defaultProps={input:{},label:null},DUe.propTypes={input:c().object,label:c().node};const AUe=DUe;var MUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Device.Points"}),IUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Device.Period"}),ZUe=(0,u.jsx)(J.Z,{id:"Manager.Biometrics.DeviceTimezone"});class qUe extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSaveUpdate",(()=>{var{handleSubmit:e}=this.props;e()}))}render(){var{valid:e,user:t,dirty:r,isLoadingUpdateDeviceInfo:i}=this.props,s=(0,X.BC)(t,x.ZP.RIGHTS.BIOMETRICS,x.ZP.CRUD),n=e&&s&&r&&!i;return(0,u.jsxs)("div",{className:"form-device-container",children:[(0,u.jsx)("div",{className:"form-device",children:(0,u.jsxs)("form",{className:"container-drawer",onSubmit:this.handleSaveUpdate,children:[(0,u.jsx)(_e.Z,{isFormDevise:!0,component:Gee,name:"points",label:MUe}),(0,u.jsx)(_e.Z,{component:EUe,name:"period",label:IUe}),(0,u.jsx)(_e.Z,{component:AUe,name:"timezone",label:ZUe}),(0,u.jsx)(wUe,{})]})}),(0,u.jsx)(TUe,{onSave:this.handleSaveUpdate,isActive:n})]})}}qUe.defaultProps={valid:!1,isLoadingUpdateDeviceInfo:!1,dirty:!1,user:{},handleSubmit:O.wA},qUe.propTypes={valid:c().bool,isLoadingUpdateDeviceInfo:c().bool,dirty:c().bool,user:c().object,handleSubmit:c().func};const FUe=qUe;var LUe=r(75005),HUe=e=>e.form&&e.form.deviceForm&&e.form.deviceForm.initial.points?e.form.deviceForm.initial.points:{};function _Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function BUe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_Ue(Object(r),!0).forEach((function(t){GUe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WUe=e=>{var{cb:t,options:r,initialAllPoints:i,allAvailablePoints:s}=e;return e=>{var n,a=(n=s,(0,j.xb)(n)?[]:Object.keys(n)),o=((e,t)=>{var r=[];return e.forEach((e=>{-1===t.indexOf(e)&&r.push(e)})),r})(i,a),l=[...new Set([...o,...e.points])],c=BUe(BUe({},e),{},{points:l}),d=BUe(BUe({},r),c);t(d)}};const UUe=(0,o.compose)((0,s.$j)((e=>({filter:(0,WWe.getFilterOrgPoints)(e),user:(0,C.ts)(e),isLoadingUpdateDeviceInfo:(0,WWe.getIsLoadingUpdateDeviceInfo)(e),initialAllPoints:HUe(e),allAvailablePoints:e.devices.orgPoints||{}})),{updateDeviceForm:LUe.updateDeviceForm,getDevices:UWe.getDevices},((e,t,r)=>{var i,s,n,a,o,l=(i=r.pointOrg,s=[],i.forEach((e=>{s.push(e.groupId)})),s);return BUe(BUe(BUe(BUe({},e),t),r),{},{onSubmit:WUe({cb:t.updateDeviceForm,options:{deviceId:r.deviceId,cbSuccess:(n=r.closeDrawer,a=t.getDevices,o=e.filter,()=>{n(),a((0,LWe.$1)(o))})},initialAllPoints:e.initialAllPoints,allAvailablePoints:e.allAvailablePoints}),initialValues:{points:l,period:{from:r.from,to:r.to},timezone:r.timeZoneOffset}})})),(0,Fe.Z)({form:"deviceForm",validate:e=>{var t={};return e.period||(t.period="Required"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{from:t,to:r}=e;return t&&r&&t<r}(e.period)||(t.period="No correct period"),e.timezone||(t.timezone="Required"),t}}))(FUe);class VUe extends m.Component{render(){var{device:e,closeDrawer:t}=this.props,{terminalType:r,hardwareVersion:i,deviceSerialNo:s,productName:n,version:a,id:o,pointOrg:l,start:c,end:d,timeZoneOffset:p}=e;return(0,u.jsxs)("div",{className:"detail-device-container",children:[(0,u.jsx)(OUe,{terminalType:r,hardwareVersion:i,deviceSerialNo:s,productName:n,version:a}),(0,u.jsx)(UUe,{deviceId:o,closeDrawer:t,pointOrg:l,from:c,to:d,timeZoneOffset:p})]})}}VUe.defaultProps={device:{}},VUe.propTypes={device:c().object,closeDrawer:c().func.isRequired};const zUe=VUe;class YUe extends m.PureComponent{render(){var{deviceId:e,intl:{formatMessage:t}}=this.props,r=t({id:"Manager.Biometrics.Devices.EditTitle",defaultMessage:[{type:0,value:"Редактирование данных об устройстве"}]}),i="".concat(r," (ID ").concat(e,")");return(0,u.jsx)("span",{className:"flex-container",children:(0,u.jsx)("span",{children:i})})}}YUe.defaultProps={deviceId:""},YUe.propTypes={deviceId:c().string,intl:c().object.isRequired};const QUe=(0,v.ZP)(YUe);class KUe extends m.Component{render(){var{device:e,handleBackArrow:t,isOpen:r}=this.props,{deviceId:i}=e,s=(0,u.jsx)(QUe,{deviceId:i});return(0,u.jsx)(yk.Z,{handleBackArrow:t,open:r,docked:!1,title:s,children:(0,u.jsx)(zUe,{device:e,closeDrawer:t})})}}KUe.propTypes={device:c().object.isRequired,handleBackArrow:c().func.isRequired,isOpen:c().bool.isRequired};const XUe=KUe;function JUe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $Ue=(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{className:"ac-title1 mr+",children:(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.AccordTitle1"})}),(0,u.jsx)("span",{className:"ac-title2",children:(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.AccordTitle2"})})]});class eVe extends m.PureComponent{constructor(){super(...arguments),JUe(this,"state",{isDeviceForm:!1,currentDevice:{}}),JUe(this,"setCurrentDevice",(e=>this.setState({currentDevice:e}))),JUe(this,"changeVisibleResponseForm",(()=>{this.setState((e=>({isDeviceForm:!e.isDeviceForm})))})),JUe(this,"getAccordions",(()=>[{title:$Ue,id:"1",content:(0,u.jsx)(XWe,{}),active:!0}]))}render(){var e=this.getAccordions({}),{isDeviceForm:t,currentDevice:r}=this.state;return(0,u.jsxs)("div",{className:"devices",children:[(0,u.jsx)("div",{className:"setting-view",children:(0,u.jsx)(oy,{iconBtnClassName:"_3Z+XvRkVcqcz4VckLC3gaQ==",items:e,classContainer:"accord-select-users",classItem:"accord-select-user"})}),(0,u.jsx)("div",{className:"table-devices",children:(0,u.jsx)(fUe,{setCurrentDevice:this.setCurrentDevice,handleDeviceForm:this.changeVisibleResponseForm})}),(0,u.jsx)(XUe,{device:r,handleBackArrow:this.changeVisibleResponseForm,isOpen:t})]})}}const tVe=(0,o.compose)(mge(qWe,FWe))(eVe);var rVe="ALL",iVe=(0,u.jsx)(J.Z,{id:"Biometrics.statuses.all",defaultMessage:[{type:0,value:"Все"}]}),sVe=(0,u.jsx)(J.Z,{id:"Biometrics.statuses.completed",defaultMessage:[{type:0,value:"Успешные"}]}),nVe=(0,u.jsx)(J.Z,{id:"Biometrics.statuses.started",defaultMessage:[{type:0,value:"Текущие"}]}),aVe=(0,u.jsx)(J.Z,{id:"Biometrics.statuses.error",defaultMessage:[{type:0,value:"Ошибки"}]}),oVe=[{value:rVe,label:iVe},{value:"STARTED",label:nVe},{value:"COMPLETED",label:sVe},{value:"ERROR",label:aVe}];class lVe extends m.PureComponent{render(){var{input:{value:e,onChange:t}}=this.props;return(0,u.jsx)("div",{children:(0,u.jsx)(Zb.E,{options:oVe,selectedValue:e,onChange:t})})}}lVe.propTypes={input:c().object.isRequired};const cVe=lVe;var dVe="ALL",uVe="SELECTED",pVe=(0,u.jsx)(J.Z,{id:"Biometrics.users.all",defaultMessage:[{type:0,value:"Все"}]}),hVe=[{value:dVe,label:pVe},{value:uVe,label:"ID"}],fVe={value:"id",text:"name"},mVe=e=>e?uVe:dVe;function vVe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yVe extends m.PureComponent{constructor(e){super(e),vVe(this,"handleRadioChange",(e=>{var{input:{onChange:t}}=this.props;e===dVe?(t([]),this.setState({inputEnabled:!1})):this.setState({inputEnabled:!0})})),vVe(this,"handleAutoCompleteChange",(e=>{var{input:{onChange:t}}=this.props;t(e)})),this.state={inputEnabled:!1}}render(){var{devices:e,input:{value:t}}=this.props,{inputEnabled:r}=this.state;return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(Zb.E,{options:hVe,selectedValue:mVe(r),onChange:this.handleRadioChange}),(0,u.jsx)(AQ,{value:t,dataSource:e,dataSourceConfig:fVe,onChange:this.handleAutoCompleteChange,disabled:!r,style:{margin:0}})]})}}yVe.propTypes={devices:c().array.isRequired,input:c().object.isRequired};const gVe=yVe;var bVe=r(97288),jVe=r(814);const xVe=(0,o.compose)((0,s.$j)((e=>({devices:(0,bVe.getDevicesList)(e)})),{fetchDevices:jVe.fetchDevices}),(0,U.Z)((e=>{var{props:t}=e;t.fetchDevices()})))(gVe);var SVe="ALL",OVe="SELECTED",PVe=(0,u.jsx)(J.Z,{id:"Biometrics.users.all",defaultMessage:[{type:0,value:"Все"}]}),wVe=(0,u.jsx)(J.Z,{id:"Biometrics.users.my",defaultMessage:[{type:0,value:"Мои"}]}),CVe=(0,u.jsx)(J.Z,{id:"Biometrics.users.selected",defaultMessage:[{type:0,value:"Выбранные"}]}),kVe=[{value:SVe,label:PVe},{value:"MY",label:wVe},{value:OVe,label:CVe}],TVe={value:"id",text:"name"};function NVe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class RVe extends m.PureComponent{constructor(e){super(e),NVe(this,"handleRadioChange",(e=>{var{input:{onChange:t},user:r}=this.props;e===SVe&&t([]),"MY"===e&&t([r]),this.setState({mode:e})})),NVe(this,"handleAutoCompleteChange",(e=>{var{input:{onChange:t}}=this.props;t(e)})),this.state={mode:SVe}}render(){var{users:e,input:{value:t}}=this.props,{mode:r}=this.state,i=r!==OVe;return(0,u.jsxs)("div",{className:"flex-container",children:[(0,u.jsx)(Zb.E,{options:kVe,selectedValue:r,onChange:this.handleRadioChange}),(0,u.jsx)(AQ,{value:t,dataSource:e,dataSourceConfig:TVe,onChange:this.handleAutoCompleteChange,disabled:i})]})}}RVe.propTypes={user:c().object.isRequired,users:c().array.isRequired,input:c().object.isRequired};const EVe=RVe,DVe=(0,o.compose)((0,s.$j)((e=>({user:e.user,users:(0,bVe.getUserList)(e)})),{fetchUsers:jVe.fetchUsers}),(0,U.Z)((e=>{var{props:t}=e;t.fetchUsers()})))(EVe);var AVe=(0,u.jsx)(J.Z,{id:"Calendar.displayPeriod",defaultMessage:[{type:0,value:"Период отображения"}]}),MVe=(0,u.jsx)(J.Z,{id:"Common.apply",defaultMessage:[{type:0,value:"Применить"}]});class IVe extends m.PureComponent{render(){var{handleSubmit:e}=this.props;return(0,u.jsxs)("div",{className:"filter-form",children:[(0,u.jsxs)("div",{className:"filter-form__body",children:[(0,u.jsx)("div",{className:"filter-form__period-group",children:(0,u.jsx)(_e.Z,{component:wr.pu,name:"period",label:AVe})}),(0,u.jsx)("div",{className:"filter-form__other-settings-group",children:(0,u.jsx)("table",{children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(J.Z,{id:"Biometrics.transactions",defaultMessage:[{type:0,value:"Транзакции"}]})}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{component:DVe,name:"users"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(J.Z,{id:"Biometrics.terminals",defaultMessage:[{type:0,value:"Терминалы"}]})}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{component:xVe,name:"devices"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(J.Z,{id:"Biometrics.operations",defaultMessage:[{type:0,value:"Операции"}]})}),(0,u.jsx)("td",{children:(0,u.jsx)(_e.Z,{component:cVe,name:"operationStatus"})})]})]})})})]}),(0,u.jsx)(Ge.Z,{caption:MVe,onClick:e})]})}}IVe.propTypes={handleSubmit:c().func.isRequired};const ZVe=IVe;class qVe extends m.PureComponent{render(){var{value:{countCompleted:e,countStarted:t,countErrors:r},className:i}=this.props,s=me()("accept",{colored:e}),n=me()("error",{colored:r}),a=me()("status-counter",i);return(0,u.jsxs)("div",{className:a,children:[(0,u.jsx)(et.ZP,{glyph:et.Ir,classCustom:s}),e,(0,u.jsx)(et.ZP,{glyph:et.An}),t,(0,u.jsx)(et.ZP,{glyph:et.TX,classCustom:n}),r]})}}qVe.propTypes={value:c().shape({countCompleted:c().number,countStarted:c().number,countErrors:c().number}).isRequired,className:c().string.isRequired};const FVe=qVe;class LVe extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleChange",(e=>{var{item:{id:t},checkItem:r}=this.props;r({id:t,checked:e})}))}render(){var{item:{transactionStatus:e,checked:t}}=this.props;return"ERROR"===e?(0,u.jsx)(Rs.XZ,{checked:t,onChange:this.handleChange}):null}}LVe.propTypes={item:c().object.isRequired,checked:c().bool.isRequired,checkItem:c().func.isRequired};const HVe=LVe,_Ve=(0,o.compose)((0,s.$j)(null,{checkItem:jVe.checkItem}))(HVe);var BVe=e=>{var{period:{from:t,to:r},users:i,devices:s,operationStatus:n}=e,a=n===rVe?"":n,o=i.map((e=>e.id));return{from:t,to:r,userIds:o,deviceIds:s.map((e=>e.id)),operationStatus:a}},GVe=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.id",defaultMessage:[{type:0,value:"ID транзакции"}]}),WVe=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.date",defaultMessage:[{type:0,value:"Дата"}]}),UVe=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.fullName",defaultMessage:[{type:0,value:"Ф.И.О. автора"}]}),VVe=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.type",defaultMessage:[{type:0,value:"Тип транзакции"}]}),zVe=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.statusCounter",defaultMessage:[{type:0,value:"Состояние операций"}]}),YVe=(e,t)=>{var{transactionStatus:r}=e;return me()(t,{"table-cell__error":"ERROR"===r})},QVe=e=>{var{formatMessage:t}=e,r=new Map([["SET_DEVICE_DATA",t({id:"Biometrics.transactions.setDeviceData",defaultMessage:[{type:0,value:"Обновление параметров терминала"}]})],["GET_DEVICE_DATA",t({id:"Biometrics.transactions.getDeviceData",defaultMessage:[{type:0,value:"Получение параметров терминала"}]})],["SET_USER_DATA",t({id:"Biometrics.transactions.setUserData",defaultMessage:[{type:0,value:"Обновление данных пользователя"}]})],["GET_USER_DATA",t({id:"Biometrics.transactions.getUserData",defaultMessage:[{type:0,value:"Получение данных пользователя"}]})]]),i=e=>r.get(e)||e;return[new DO.Z({headerClassName:"first-cell-sw first-custom-style-cell",cellClassName:"pt first-custom-style-cell",width:60,key:"checked",isFilterLabel:!1,renderCell:e=>(0,u.jsx)("div",{className:YVe(e,"pt first-custom-style-cell"),children:(0,u.jsx)(eS.Z,{children:(0,u.jsx)(_Ve,{item:e})})})}),new DO.Z({headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell",key:"transactionId",sortable:!0,filterable:!0,width:200,label:GVe,isFilterLabel:!1,renderCell:e=>(0,u.jsx)("div",{className:YVe(e,"p custom-style-cell"),children:e.transactionId})}),new DO.Z({headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell",key:"date",sortable:!0,filterable:!0,width:110,label:WVe,isFilterLabel:!1,getValue:e=>(0,ft.SE)(e.date),renderCell:e=>(0,u.jsx)("div",{className:YVe(e,"p custom-style-cell"),children:(0,ft.SE)(e.date)})}),new DO.Z({headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell",key:"authorFullName",sortable:!0,filterable:!0,width:200,label:UVe,isFilterLabel:!1,renderCell:e=>(0,u.jsx)("div",{className:YVe(e,"p custom-style-cell"),children:e.authorFullName})}),new DO.Z({headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell",key:"transactionType",sortable:!0,filterable:!0,width:330,label:VVe,isFilterLabel:!1,getValue:e=>i(e.transactionType),renderCell:e=>(0,u.jsx)("div",{className:YVe(e,"p custom-style-cell"),children:i(e.transactionType)})}),new DO.Z({headerClassName:"virtualized-table__header-cell",cellClassName:"p custom-style-cell",key:"statusCounter",sortable:!1,filterable:!1,width:200,label:zVe,renderCell:e=>{var{statusCounter:t}=e;return(0,u.jsx)(FVe,{value:t,className:YVe(e,"p custom-style-cell")})},autoSize:!0})]};function KVe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function XVe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KVe(Object(r),!0).forEach((function(t){JVe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KVe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JVe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $Ve="transactionsFilterForm";const eze=(0,o.compose)((0,s.$j)(null,{fetchTransactions:jVe.fetchTransactions},((e,t,r)=>{return XVe(XVe(XVe(XVe({},e),t),r),{},{initialValues:r.initialValues||{period:{from:(0,ft.b7)((0,ft.zO)()),to:(0,ft.zO)()},users:[],devices:[],operationStatus:rVe},onSubmit:(i=t.fetchTransactions,e=>{var{period:t,users:r,devices:s,operationStatus:n}=e;i(BVe({period:{from:(null==t?void 0:t.from)||(0,ft.b7)((0,ft.zO)()),to:"00:00:00"===ns()(null==t?void 0:t.to,ft._E).format(ft.pV)?(0,ft.iX)(null==t?void 0:t.to):(null==t?void 0:t.to)||(0,ft.zO)()},users:r||[],devices:s||[],operationStatus:n||rVe}))})});var i})),(0,Fe.Z)({form:$Ve}))(ZVe);var tze=(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{className:"filter__title1",children:(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.AccordTitle1"})}),(0,u.jsx)("span",{className:"mr+"}),(0,u.jsx)("span",{className:"filter__title2",children:(0,u.jsx)(J.Z,{id:"Manager.Biometrics.Devices.AccordTitle2"})})]}),rze=(0,X.Vj)();class ize extends m.PureComponent{render(){return(0,u.jsx)(oy,{items:[(e=this.props,{title:tze,id:rze,content:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(eze,{initialValues:e.initialValues})}),active:!0})],iconBtnClassName:"otE343siLRbvfd6NSMop2A=="});var e}}const sze=ize;var nze=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.refreshOperations",defaultMessage:[{type:0,value:"Обновить операции"}]}),aze=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.allWithErrors",defaultMessage:[{type:0,value:"Все с ошибками"}]});class oze extends m.Component{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleRefresh",(()=>{var{fetchTransactions:e,filterValues:t,transactions:r,restartOperations:i}=this.props,s=(e=>e.filter((e=>e.checked)))(r),n=(e=>{var t=[];return e.forEach((e=>{var r=e.operations.map((e=>e.id));t=[...t,...r]})),t})(s);i(n,(()=>e(BVe(t))))}))}render(){var{checkAllWithErrors:e,transactions:t}=this.props,r=t.filter((e=>"ERROR"===e.transactionStatus)).every((e=>e.checked)),i=!t.some((e=>e.checked));return(0,u.jsx)("div",{className:"toolbar",children:(0,u.jsxs)("div",{className:"container flex-container",children:[(0,u.jsxs)(Ae.Z,{onClick:this.handleRefresh,disabled:i,children:[(0,u.jsx)(et.ZP,{glyph:et.Du}),nze]}),(0,u.jsx)(Rs.XZ,{checked:r,onChange:e,label:aze})]})})}}oze.defaultProps={filterValues:{},transactions:[]},oze.propTypes=_()({fetchTransactions:c().func.isRequired,filterValues:c().object,checkAllWithErrors:c().func.isRequired,transactions:c().array,restartOperations:c().func.isRequired});const lze=oze,cze=(0,o.compose)((0,s.$j)((e=>({filterValues:(0,qe.Z)($Ve)(e)})),{fetchTransactions:jVe.fetchTransactions,checkAllWithErrors:jVe.checkAllWithErrors,restartOperations:jVe.restartOperations}))(lze);var dze=e=>{var{transactionId:t}=e;return(0,u.jsxs)("span",{children:[(0,u.jsx)(J.Z,{id:"Biometrics.operationsOfTransaction",defaultMessage:[{type:0,value:"Операции по транзакции"}]})," (ID ",t,(0,u.jsx)("span",{children:")"})]})};dze.propTypes={transactionId:c().string.isRequired};const uze=dze;class pze extends m.PureComponent{render(){var{transactionId:e,index:t,actionType:r}=this.props,i="".concat(e,"_").concat((0,X.Iq)(t+1)," | ").concat(r);return(0,u.jsx)("h2",{children:i})}}pze.propTypes={transactionId:c().string.isRequired,index:c().number.isRequired,actionType:c().string.isRequired};const hze=pze;class fze extends m.PureComponent{render(){var{current:e,total:t}=this.props;return(0,u.jsxs)("span",{className:"message-counter",children:[(0,u.jsx)("span",{className:"current",children:(0,X.Iq)(e+1)}),(0,u.jsx)("span",{children:"/"}),(0,u.jsx)("span",{className:"total",children:(0,X.Iq)(t)})]})}}fze.propTypes={current:c().number.isRequired,total:c().number.isRequired};const mze=fze;class vze extends m.PureComponent{render(){var{dateTime:e}=this.props;return e?(0,u.jsx)("span",{className:"message-time",children:(0,ft.jT)(e)}):null}}vze.propTypes={dateTime:c().string.isRequired};const yze=vze;class gze extends m.PureComponent{render(){var{dateTime:e}=this.props;return(0,u.jsxs)("span",{className:"message-request",children:[(0,u.jsx)(yze,{dateTime:e})," | Server Request"]})}}gze.propTypes={dateTime:c().string.isRequired};const bze=gze;class jze extends m.PureComponent{render(){var{dateTime:e,hasError:t}=this.props;if(!e)return null;var r=t?et.TX:et.Ir;return(0,u.jsxs)("span",{className:"message-response",children:[(0,u.jsx)(yze,{dateTime:e})," | Device Response",(0,u.jsx)(et.ZP,{glyph:r})]})}}jze.propTypes={dateTime:c().string.isRequired,hasError:c().bool.isRequired};const xze=jze;class Sze extends m.PureComponent{render(){var{message:{errorDescription:e,sentAt:t,receivedAt:r},messagesCount:i,index:s}=this.props,n=me()("message",{error:e,"with-response":r});return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)(mze,{current:s,total:i}),(0,u.jsx)(bze,{dateTime:t}),(0,u.jsx)("span",{className:"message-splitter"}),(0,u.jsx)(xze,{dateTime:r,hasError:e})]})}}Sze.defaultProps={messagesCount:0,index:0},Sze.propTypes={message:c().object.isRequired,messagesCount:c().number,index:c().number};const Oze=Sze;class Pze extends m.PureComponent{render(){var{operation:{messages:e,actionType:t},index:r,transactionId:i}=this.props,s=e.length;return(0,u.jsxs)("div",{className:"operation",children:[(0,u.jsx)(hze,{transactionId:i,index:r,actionType:t}),e.map(((e,t)=>(0,u.jsx)(Oze,{message:e,messagesCount:s,index:t},e.id)))]})}}Pze.propTypes={index:c().number.isRequired,operation:c().object.isRequired,transactionId:c().string.isRequired};const wze=Pze;var Cze=(0,u.jsx)(J.Z,{id:"Biometrics.transactions.refreshOperations",defaultMessage:[{type:0,value:"Обновить операции"}]}),kze=(0,u.jsx)(et.ZP,{glyph:et.CW});class Tze extends m.PureComponent{constructor(){super(...arguments),function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleRestartClick",(()=>{var{restartOperations:e,operations:t,fetchTransactions:r,filterData:i}=this.props;e(t.map((e=>e.id)),(()=>{r(BVe(i))}))}))}render(){var{transactionId:e,operations:t,user:r}=this.props,i=(0,X.BC)(r,x.ZP.RIGHTS.BIOMETRICS,x.ZP.CRUD);return(0,u.jsxs)("div",{className:"operation-list",children:[(0,u.jsx)("div",{className:"operation-list__body scroll",children:t.map(((t,r)=>(0,u.jsx)(wze,{transactionId:e,operation:t,index:r})))}),(0,u.jsx)("div",{className:"operation-list__footer",children:(0,u.jsx)(Ge.Z,{type:"transparent",caption:Cze,disabled:!i,onClick:this.handleRestartClick,icon:kze})})]})}}Tze.propTypes={transactionId:c().string.isRequired,operations:c().array.isRequired,restartOperations:c().func.isRequired,fetchTransactions:c().func.isRequired,filterData:c().object.isRequired,user:c().object.isRequired};const Nze=Tze,Rze=(0,o.compose)((0,s.$j)((e=>({filterData:(0,qe.Z)($Ve)(e),user:e.user})),{restartOperations:jVe.restartOperations,fetchTransactions:jVe.fetchTransactions}))(Nze);function Eze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dze={boxShadow:"rgba(0, 0, 0, 0.2) 0 5px 5px",zIndex:1};class Aze extends m.Component{constructor(){super(...arguments),Eze(this,"state",{currentTransaction:{},detailsOpen:!1}),Eze(this,"toggleDetailsOpen",(()=>{this.setState((e=>({detailsOpen:!e.detailsOpen})))})),Eze(this,"handleCellClick",((e,t)=>{this.setState({currentTransaction:t},this.toggleDetailsOpen)}))}render(){var{initialFilter:e,transactions:t,intl:{formatMessage:r}}=this.props,{currentTransaction:i}=this.state,s={formatMessage:r};return(0,u.jsxs)("div",{className:"transactions",children:[(0,u.jsx)(sze,{initialValues:e}),(0,u.jsx)(cze,{transactions:t}),(0,u.jsx)("div",{className:"table-wrap",children:(0,u.jsx)(VP.ZP,{data:t,columns:QVe(s),columnsAutoWidth:!0,headerStyle:Dze,rowHeight:30,cellClassName:"transactions__table-cell",onCellClick:this.handleCellClick,classNameBottomRightGrid:"scroll"})}),(0,u.jsx)(yk.Z,{handleBackArrow:this.toggleDetailsOpen,open:this.state.detailsOpen,title:(0,u.jsx)(uze,{transactionId:i.transactionId}),children:(0,u.jsx)(Rze,{transactionId:i.transactionId,operations:i.operations})})]})}}Aze.propTypes={initialFilter:c().object.isRequired,transactions:c().array.isRequired,intl:c().object.isRequired};const Mze=(0,v.ZP)(Aze);function Ize(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Zze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ize(Object(r),!0).forEach((function(t){qze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ize(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fze={period:{from:(0,ft.b7)((0,ft.zO)()),to:(0,ft.zO)()},users:[],devices:[],operationStatus:rVe};const Lze=(0,o.compose)((0,s.$j)((e=>({transactions:(0,bVe.getTransactionList)(e)})),{fetchTransactions:jVe.fetchTransactions},((e,t,r)=>Zze(Zze(Zze(Zze({},e),t),r),{},{initialFilter:Fze}))),(0,U.Z)((e=>{var{props:t}=e;t.fetchTransactions(BVe(Fze))})),mge(qWe,FWe))(Mze);var Hze=e=>{var{user:t}=e;return(0,X.BC)(t,x.ZP.RIGHTS.BIOMETRICS)||(0,j.xb)(t)?(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"/biometrics",exact:!0,children:(0,u.jsx)(y.l_,{to:AWe})}),(0,u.jsx)(y.AW,{path:AWe,children:(0,u.jsx)(tVe,{})}),(0,u.jsx)(y.AW,{path:MWe,children:(0,u.jsx)(Lze,{})}),(0,u.jsx)(y.AW,{component:Wi})]}):(0,u.jsx)(Vi,{user:t})};Hze.propTypes={user:P.jZ.isRequired};const _ze=Hze;var Bze=e=>{var{user:t}=e;return(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"/forecast",children:(0,u.jsx)(nLe,{path:"/forecast",user:t})}),(0,u.jsx)(MH,{path:"/settings",title:{id:"Menu.settings",defaultMessage:"Настройки"},children:(0,u.jsx)(Uae,{})}),(0,u.jsx)(y.AW,{path:"/schedule",children:(0,u.jsx)(ZH,{basePath:"/schedule",user:t})}),(0,u.jsx)(MH,{path:"/schedule-control",title:{id:"ScheduleControl",defaultMessage:"Учет времени"},children:(0,u.jsx)(DWe,{user:t})}),(0,u.jsx)(MH,{path:"/employee",title:{id:"Menu.employee",defaultMessage:"Сотрудники"},children:(0,u.jsx)(Gi,{children:(0,u.jsx)(RCe,{})})}),(0,u.jsx)(MH,{path:"/reports",title:{id:"Menu.reports",defaultMessage:"Отчеты"},children:(0,u.jsx)(Gi,{children:(0,u.jsx)(afe,{path:"/reports",user:t})})}),(0,u.jsx)(y.AW,{path:"/biometrics",children:(0,u.jsx)(Gi,{children:(0,u.jsx)(_ze,{user:t})})}),(0,u.jsx)(y.AW,{path:"/operator",children:(0,u.jsx)(ROe,{})}),(0,u.jsx)(y.AW,{component:Wi})]})};Bze.propTypes={user:P.jZ.isRequired};const Gze=Bze;var Wze=r(87854),Uze=r.n(Wze),Vze=r(95348),zze=r.n(Vze),Yze=new(Uze())({id:"Logo",use:"Logo-usage",viewBox:"0 0 81 81",content:'<symbol viewBox="0 0 81 81" fill="none" xmlns="http://www.w3.org/2000/svg" id="Logo">\n<path d="M13.7647 71.2513H5.668C3.4414 71.2513 1.61963 69.4296 1.61963 67.203V59.1062C1.61963 56.8796 3.4414 55.0579 5.668 55.0579H13.7647C15.9913 55.0579 17.8131 56.8796 17.8131 59.1062V67.203C17.8131 69.4296 15.9913 71.2513 13.7647 71.2513Z" fill="#35BA9A" />\n<path d="M50.6048 56.6772H58.7015C60.9281 56.6772 62.7499 54.8555 62.7499 52.6289V44.5321C62.7499 42.3055 60.9281 40.4838 58.7015 40.4838H50.6048C48.3782 40.4838 46.5564 42.3055 46.5564 44.5321V52.6289C46.5564 53.9648 45.4634 55.0579 44.1274 55.0579H43.3177H37.2452H36.4355C35.0995 55.0579 34.0065 53.9648 34.0065 52.6289V44.5321C34.0065 42.3055 32.1847 40.4838 29.9581 40.4838H21.8614C19.6348 40.4838 17.813 42.3055 17.813 44.5321V52.6289C17.813 54.8555 19.6348 56.6772 21.8614 56.6772H28.3387H28.7436C30.0795 56.6772 31.1726 57.7703 31.1726 59.1063V67.203C31.1726 69.4296 32.9944 71.2514 35.221 71.2514H43.3177C45.5443 71.2514 47.3661 69.4296 47.3661 67.203V59.1063C47.3661 57.7703 48.4591 56.6772 49.7951 56.6772H50.6048Z" fill="#F19059" />\n<path d="M17.8131 28.3386V36.4354C17.8131 38.662 15.9913 40.4837 13.7647 40.4837H5.668C3.4414 40.4837 1.61963 38.662 1.61963 36.4354V28.3386C1.61963 26.112 3.4414 24.2902 5.668 24.2902H13.7647H14.1696C15.7484 24.2902 17.0034 23.0353 17.0034 21.4564V13.3596C17.0034 11.133 18.8252 9.31128 21.0518 9.31128H29.1485C31.3751 9.31128 33.1969 11.133 33.1969 13.3596V21.4564C33.1969 23.683 31.3751 25.5048 29.1485 25.5048H21.0518H20.647C19.0681 25.5048 17.8131 26.7598 17.8131 28.3386Z" fill="#F19059" />\n<path d="M47.4874 28.3386V36.4354C47.4874 38.662 45.6657 40.4837 43.4391 40.4837H35.3423C33.1157 40.4837 31.2939 38.662 31.2939 36.4354V28.3386C31.2939 26.112 33.1157 24.2902 35.3423 24.2902H43.4391H43.8439C45.4228 24.2902 46.6778 23.0353 46.6778 21.4564V13.3596C46.6778 11.133 48.4995 9.31128 50.7261 9.31128H58.8229C61.0495 9.31128 62.8712 11.133 62.8712 13.3596V21.4564C62.8712 23.683 61.0495 25.5048 58.8229 25.5048H50.7261H50.3213C48.7829 25.5048 47.4874 26.7598 47.4874 28.3386Z" fill="#35BA9A" />\n<path d="M75.0162 40.4836H66.9195C64.6929 40.4836 62.8711 38.6619 62.8711 36.4353V28.3385C62.8711 26.1119 64.6929 24.2902 66.9195 24.2902H75.0162C77.2428 24.2902 79.0646 26.1119 79.0646 28.3385V36.4353C79.0646 38.6619 77.2833 40.4836 75.0162 40.4836Z" fill="#35BA9A" />\n</symbol>'});zze().add(Yze);const Qze=Yze;var Kze={ru:{id:"ru",icon:"../img/russia_flag.png",label:"Русский"},en:{id:"en",icon:"../img/english_flag.png",label:"English"},de:{id:"de",icon:"../img/deutsch_flag.png",label:"Deutsch"}};var Xze=e=>{var{locale:t,onChange:r}=e,[i,s]=(0,m.useState)(null),n=Kp.Z.getItem("isHideRussianLocalization"),a=()=>{s(null)},o=e=>()=>{r(e),a()};return(0,u.jsxs)("div",{className:"Jh1YAN-kVMZ98aysstXXgA==",children:[(0,u.jsx)("div",{onClick:e=>{s(e.currentTarget)},children:t}),(0,u.jsx)(rZ.Z,{id:"locale-selector-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:a,children:Object.keys(Kze).map((e=>{var{id:t,icon:r,label:i}=Kze[e];if("true"!==n||"ru"!==t)return(0,u.jsxs)(cZ.Z,{onClick:o(e),children:[(0,u.jsx)("img",{className:"ZgeGEiof8YWsmzNISplVeQ==",src:r,alt:t}),(0,u.jsx)("span",{children:i})]},t)}))})]})};Xze.propTypes={locale:c().string.isRequired,onChange:c().func.isRequired};const Jze=Xze;var $ze=(0,u.jsx)(J.Z,{id:"SignInForm.accountIsLocked",defaultMessage:[{type:0,value:"Аккаунт заблокирован"}]}),eYe={INVALID_CREDENTIALS:(0,u.jsx)(J.Z,{id:"SignInForm.INVALID_CREDENTIALS",defaultMessage:[{type:0,value:"Неверный логин или пароль"}]}),INVALID_LOGIN:(0,u.jsx)(J.Z,{id:"SignInForm.INVALID_LOGIN",defaultMessage:[{type:0,value:"Неверный логин или пароль"}]}),INVALID_PASSWORD:(0,u.jsx)(J.Z,{id:"SignInForm.INVALID_PASSWORD",defaultMessage:[{type:0,value:"Неверный логин или пароль"}]}),"User account is locked":$ze,"User account has expired":$ze},tYe={name:"light-theme",colors:{text:"#FFFFFF",textGreen:"#2E9481",textGrey:"#2D3E50",textBlack:"#232930",textFullyBlack:"#000000",textPlaceholder:"#939A9F",backgroundPrimary:"#FFFFFF",disable:"#DAE0E6",error:"#DC2911"},components:{ButtonColors:{primary:{background:"#35BA9A",hover:"#35BA9A",text:"#FFFFFF"},warning:{background:"#b0a500",hover:"#b0a500",text:"#FFFFFF"},error:{background:"#b20f00",hover:"#b20f00",text:"#FFFFFF"},transparent:{background:"transparent",hover:"#35BA9A",text:"#000000"}},InputColors:{primary:{underlineActive:"#35BA9A",underlineDisabled:"#DAE0E6",error:"#DC2911"},warning:{underlineActive:"#b0a500",underlineDisabled:"#DAE0E6",error:"#DC2911"},error:{underlineActive:"#b20f00",underlineDisabled:"#DAE0E6",error:"#DC2911"}},Icon:{active:"#35BA9A",nonActive:"#939A9F"}}};const rYe=Object.freeze({components:{Button:{common:{borderRadius:"12px",fontFamily:"Golos"},styleTypes:{primary:{},warning:{},error:{},transparent:{}},size:{large:{fontSize:"16px",fontWeight:500,lineHeight:"24px",width:"375px",height:"48px"},medium:{fontSize:"14px",fontWeight:500,lineHeight:"20px",width:"275px",height:"48px"},small:{fontSize:"12px",fontWeight:500,lineHeight:"18px",width:"200px",height:"48px"}}},Input:{size:{large:{fontSize:"16px",placeholderFontSize:"16px",placeholderUpFontSize:"12px",width:"375px",height:"49px",inputHeight:"22px"},medium:{fontSize:"14px",placeholderFontSize:"14px",placeholderUpFontSize:"12px",width:"275px",height:"49px",inputHeight:"22px"},small:{fontSize:"12px",placeholderFontSize:"12px",placeholderUpFontSize:"12px",width:"200px",height:"49px",inputHeight:"22px"}},styleTypes:{primary:{},warning:{},error:{}}},Icon:{primary:{size:{large:{width:"24px",height:"24px"}}}}}});var iYe,sYe,nYe,aYe="large",oYe="medium",lYe="small",cYe="primary",dYe="primary",{Button:uYe}=rYe.components,pYe=g.ZP.button(iYe||(sYe=["\n  ","\n"],nYe||(nYe=sYe.slice(0)),iYe=Object.freeze(Object.defineProperties(sYe,{raw:{value:Object.freeze(nYe)}}))),(e=>{var{theme:{colors:{disable:t},components:{ButtonColors:r}},styleType:i,size:s,disabled:n}=e;return"\n  font-size: ".concat(uYe.size[s].fontSize,";\n  border-radius: ").concat(uYe.common.borderRadius,";\n  width: ").concat(uYe.size[s].width,";\n  height: ").concat(uYe.size[s].height,";\n  line-height: ").concat(uYe.size[s].lineHeight,";\n  font-weight: ").concat(uYe.size[s].fontWeight,";\n  background-color: ").concat(n?t:r[i].background,";\n  color: ").concat(r[i].text,";\n  font-family: ").concat(uYe.common.fontFamily,";\n  display: flex;\n  border: none;\n  justify-content: center;\n  align-items: center;\n  cursor: ").concat(n?"default":"pointer",";\n  :hover {\n     background-color: ").concat(n?t:r[i].hover,";\n  }\n  ")})),hYe="primary",fYe=e=>{var{caption:t,disabled:r,onClick:i,styleType:s,type:n,size:a}=e;return(0,u.jsx)(pYe,{onMouseDown:e=>{e.preventDefault()},onClick:e=>{r||i(e)},styleType:s,size:a,type:n,disabled:r,children:t})};fYe.propTypes={caption:c().oneOfType([c().string,c().node]),styleType:c().oneOf([hYe,"warning","error","transparent"]),size:c().oneOf([aYe,oYe,lYe]),disabled:c().bool,type:c().string,onClick:c().func.isRequired},fYe.defaultProps={styleType:hYe,size:aYe,caption:"",type:"submit",disabled:!1};const mYe=fYe;var vYe,yYe,gYe,bYe,jYe,xYe,SYe,OYe=g.ZP.div(vYe||(vYe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ","\n"])),(e=>{var{theme:{colors:{backgroundPrimary:t}}}=e;return"\n  background-color: ".concat(t,";\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  font-family: Golos;\n  ")})),PYe=g.ZP.div(yYe||(yYe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ","\n"])),(e=>{var{theme:{colors:{textGreen:t}}}=e;return"\n  color: ".concat(t,";\n  font-size: 16px;\n  height: 66px;\n  font-weight: 500;\n  cursor: pointer;\n  line-height: 36px;\n  font-family: Golos;\n  text-transform: uppercase;\n  ")}));function wYe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CYe,kYe,TYe,NYe,RYe=g.ZP.div(gYe||(gYe=wYe(["\n  ","\n"])),(e=>{var{theme:{colors:{textGrey:t}}}=e;return"\n  color: ".concat(t,";\n  font-size: 30px;\n  font-weight: 500;\n  line-height: 36px;\n  margin-top: 24px;\n\n  @media (max-width: 1280px) {\n    margin-top: 32px;\n  }\n  ")})),EYe=g.ZP.form(bYe||(bYe=wYe(["\n  ","\n"])),(e=>{var{hasError:t}=e;return"\n  width: 375px;\n\n  @media screen and (max-width: 1280px), (max-height: 1080px) {\n    margin-top: ".concat(t?"20px":"48px","\n  }\n\n  // medium screen\n  @media screen and (min-width: 1280px) and (max-width: 1920px) and (min-height: 1080px) {\n     margin-top: ").concat(t?"20px":"54px","\n  }\n  // large screen\n  @media screen and (min-width: 1920px) and (min-height: 1080px) {\n    margin-top: ").concat(t?"20px":"54px","\n  }\n  ")})),DYe=g.ZP.div(jYe||(jYe=wYe(["\n  @media screen and (max-width: 1280px), (max-height: 1080px) {\n    margin-top: 40px;\n  }\n\n  // medium screen\n  @media screen and (min-width: 1280px) and (max-width: 1920px) and (min-height: 1080px) {\n    margin-top: 45px;\n  }\n  // large screen\n  @media screen and (min-width: 1920px) and (min-height: 1080px) {\n    margin-top: 45px;\n  }\n"]))),AYe=g.ZP.div(xYe||(xYe=wYe(["\n  ","\n"])),(e=>{var{theme:{colors:{textFullyBlack:t}}}=e;return"\n  line-height: 20px;\n  font-weight: 400;\n  font-size: 14px;\n  margin-top: auto;\n  margin-bottom: 41px;\n  color: ".concat(t,";\n  ")})),MYe=g.ZP.div(SYe||(SYe=wYe(["\n  ","\n"])),(e=>{var{theme:{colors:{error:t}}}=e;return"\n  line-height: 24px;\n  font-weight: 400;\n  font-size: 16px;\n  margin-top: 20px;\n  color: ".concat(t,";\n  ")})),IYe=r(59565);function ZYe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qYe,{Input:FYe}=rYe.components,LYe=g.ZP.input(CYe||(CYe=ZYe(["\n  ","\n"])),(e=>{var{theme:{colors:{textBlack:t}},size:r}=e;return"\n  font-size: ".concat(FYe.size[r].fontSize," !important;\n  width: ").concat(FYe.size[r].width," !important;\n  height: ").concat(FYe.size[r].inputHeight," !important;\n  color: ").concat(t," !important;\n    background-color: transparent !important;\n    border-radius: unset !important;\n    border: none !important;\n    outline: none;\n    font-weight: unset !important;\n    font-family: Golos !important;\n    text-indent: 0px !important;\n    bottom: 8px;\n    position: absolute;\n    line-height: 24px;\n    padding: 0px !important;\n")})),HYe=g.ZP.div(kYe||(kYe=ZYe(["\n  ","\n"])),(e=>{var{theme:{colors:{text:t},components:{InputColors:r}},styleType:i,size:s,disabled:n,value:a,error:o}=e,l=n||!a,{underlineActive:c,underlineDisabled:d,error:u}=r[i];return"\n  font-size: ".concat(FYe.size[s].fontSize,";\n  width: ").concat(FYe.size[s].width,";\n  height: ").concat(FYe.size[s].height,";\n  color: ").concat(t,";\n  background: transparent;\n  z-index: 1;\n  border: 0;\n  outline: 0;\n  position: relative;\n  border-bottom: 1px solid ").concat((e=>{var{disabled:t,underlineDisabled:r,underlineActive:i,underlineErrorColor:s,error:n}=e;return t?r:n?s:i})({disabled:l,underlineDisabled:d,underlineActive:c,underlineErrorColor:u,error:o}),";\n  ")})),_Ye=g.ZP.div(TYe||(TYe=ZYe(["\n  ","\n"])),(e=>{var{theme:{colors:{textPlaceholder:t}},size:r,focused:i}=e,s=i?FYe.size[r].placeholderUpFontSize:FYe.size[r].placeholderFontSize;return"\n  font-size: ".concat(s,";\n  width: ").concat(FYe.size[r].width,";\n  color: ").concat(t,";\n  position: absolute;\n  z-index: -1;\n  bottom: ").concat(i?"32px":"12px",";\n  transition: bottom 0.3s linear;\n")})),BYe=g.ZP.div(NYe||(NYe=ZYe(["\n  ","\n"])),(e=>{var{withKeyIcon:t,focused:r}=e;return"\n  position: absolute;\n  bottom: ".concat(t?"6px":"8px",";\n  padding-right: ").concat(t&&r?"25px":"0",";\n  right: 0;\n  height: 24px;")})),{Icon:GYe}=rYe.components,WYe=g.ZP.svg(qYe||(qYe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ","\n"])),(e=>{var{theme:{components:{Icon:{active:t,nonActive:r}}},styleType:i,size:s,active:n}=e;return"\n  width: ".concat(GYe[i].size[s].width,";\n  height: ").concat(GYe[i].size[s].height,";\n  stroke: ").concat(n?t:r,";\n")})),UYe=["glyph","className","hidden","active","size","styleType"];function VYe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function zYe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VYe(Object(r),!0).forEach((function(t){YYe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VYe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YYe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QYe=e=>{var{glyph:t,className:r,hidden:i,active:s,size:n,styleType:a}=e,o=function(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,UYe);return i?null:(0,u.jsx)(WYe,zYe(zYe({className:r,styleType:a,size:n,active:s},o),{},{children:(0,u.jsx)("use",{xlinkHref:"#".concat(t.id)})}))};QYe.defaultProps={hidden:!1,active:!1,className:"",styleType:dYe,size:aYe},QYe.propTypes={glyph:c().object.isRequired,className:c().string,active:c().bool,hidden:c().bool,styleType:c().oneOf(["filled","error","outlined",dYe,"warning"]),size:c().oneOf([aYe,oYe,lYe])};const KYe=QYe;var XYe=e=>{var{onChange:t,value:r,inputType:i,placeholder:s,size:n,styleType:a,className:o,hasError:l,disabled:c,isAutoFocus:d,onAutoFill:p}=e,h=(0,m.useRef)(null),[f,v]=(0,m.useState)(!1),[y,g]=(0,m.useState)(!1),[b,j]=(0,m.useState)(i),[x,S]=(0,m.useState)(!1),O=(0,_V.t)("safari")||(0,_V.t)("yandex"),P=()=>{g(!y)};return(0,u.jsxs)(HYe,{styleType:a,size:n,value:r||f,error:l,disabled:c,className:o,children:[(0,u.jsx)(_Ye,{focused:y||r||f,styleType:a,size:n,children:s}),(0,u.jsx)(LYe,{styleType:a,size:n,type:b,value:r,disabled:c,ref:h,onFocus:P,onBlur:P,onChange:e=>{t&&t(e.target.value)},onAnimationStart:e=>{var t;v("onAutoFillStart"===e.animationName),p&&p(),d&&(null==h||null===(t=h.current)||void 0===t||t.focus())}}),(0,u.jsx)(BYe,{focused:y,withKeyIcon:O,children:(0,u.jsx)(KYe,{hidden:"password"!==i,glyph:IYe.Z,active:x,onClick:()=>{S(!x),j(x?"password":"text")}})})]})};XYe.defaultProps={styleType:cYe,size:aYe,inputType:"text",className:"",disabled:!1,hasError:!1,isAutoFocus:!1,onAutoFill:O.wA},XYe.propTypes={onChange:c().func.isRequired,styleType:c().oneOf([cYe,"warning","error","transparent","outlined","filled"]),size:c().oneOf([aYe,oYe,lYe]),value:c().oneOfType([c().string,c().number]).isRequired,placeholder:c().string.isRequired,onAutoFill:c().func,inputType:c().string,className:c().string,disabled:c().bool,hasError:c().bool,isAutoFocus:c().bool};const JYe=XYe;var $Ye=e=>{var{show:t,onClose:r,children:i}=e,s=(0,m.useCallback)((e=>{27===e.keyCode&&r()}),[]);return(0,m.useEffect)((()=>(document.addEventListener("keydown",s,!1),()=>{document.removeEventListener("keydown",s,!1)})),[]),t?(0,u.jsx)(OYe,{onClick:r,children:i}):null};$Ye.defaultProps={show:!1,onClose:O.wA},$Ye.propTypes={show:c().bool,onClose:c().func,children:c().oneOfType([c().object,c().array,c().node]).isRequired};const eQe=$Ye;var tQe=e=>{var t,r,i,n,{submitting:a,onSubmit:o,state:l,loadLocale:c,frontendSettings:d,fetchFrontendSettings:p,intl:h}=e,[f,v]=(0,m.useState)(""),[g,b]=(0,m.useState)(""),[x,S]=(0,m.useState)(!1),{push:O}=(0,y.k6)(),P=!x&&(a||!f||!g);if(t=()=>{O("/"),p()},r=(0,y.TH)(),i=(0,s.I0)(),n=new URLSearchParams(r.search).get("jwt"),(0,m.useEffect)((()=>{n&&i((0,N.signIn)({jwt:n},t))}),[n]),(0,j.xb)(d))return null;var w=e=>{null==e||e.preventDefault(),o({login:f,password:g})},C=h.formatMessage(iO.nG),k=h.formatMessage(iO.LV),T=h.formatMessage(iO.O$);return(0,u.jsx)("section",{className:me()("auth","auth__wrap"),children:(0,u.jsx)(eQe,{show:!0,locale:!0,children:(0,u.jsxs)(OYe,{children:[(0,u.jsx)(PYe,{children:(0,u.jsx)(Jze,{locale:h.locale,onChange:c})}),(0,u.jsxs)("div",{className:"NZL7cMlFveoPaPA3lcYzZw==",children:[(0,u.jsxs)("div",{className:"Qnex8vAZN8gSO4Mv5UWCYQ==",children:[(0,u.jsxs)("div",{className:"Z3ioeIofF8CBrI5jPvPsAA==",children:[(0,u.jsx)(KYe,{style:{width:81,height:81,stroke:"none"},glyph:Qze}),(0,u.jsx)(RYe,{children:(0,u.jsx)(J.Z,{id:"Common.welcome",defaultMessage:[{type:0,value:"Добро пожаловать"}]})}),l.serverError&&(0,u.jsx)(MYe,{children:eYe[l.serverError]}),(0,u.jsxs)(EYe,{autoCorrect:"off",autoComplete:"off",hasError:!!l.serverError,onSubmit:w,children:[(0,u.jsx)(JYe,{onChange:v,value:f,name:"login",isAutoFocus:!0,onAutoFill:()=>{S(!0)},placeholder:C,hasError:!!l.serverError,type:"text"}),(0,u.jsx)(JYe,{onChange:b,value:g,name:"password",className:"WDpwx5h8MqI-pjdPeCphfQ==",hasError:!!l.serverError,inputType:"password",placeholder:k}),(0,u.jsx)(DYe,{children:(0,u.jsx)(mYe,{caption:T,onClick:w,disabled:P})}),(0,u.jsx)("button",{type:"submit",style:{display:"none"}})]})]}),(0,u.jsx)("div",{className:"_30+9s13kS6ftWwepJGTSCw==",children:(0,u.jsx)(AYe,{children:d.poweredBy.value})})]}),(0,u.jsx)("div",{className:"NrrUMOYjZQ++Uv8rZ2PzJg==",children:(0,u.jsx)("div",{className:"mor8sbYRFgOAJ+RqkqFMYA=="})})]})]})})})};tQe.defaultProps={serverError:"",state:{},locale:"ru"},tQe.propTypes={submitting:c().bool.isRequired,serverError:c().string,onSubmit:c().func.isRequired,loadLocale:c().func.isRequired,frontendSettings:c().object.isRequired,fetchFrontendSettings:c().func.isRequired,state:c().object,locale:c().string,intl:P.gm.isRequired};const rQe=tQe;function iQe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sQe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iQe(Object(r),!0).forEach((function(t){nQe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iQe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nQe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aQe={login:"required",password:"required"},oQe="SignInForm",lQe=!1,cQe={signIn:N.signIn,setFormErrors:N.setFormErrors,fetchFrontendSettings:S.fetchFrontendSettings,fetchInitFrontendSettings:S.fetchInitFrontendSettings,fetchPublicRuLocaleFrontSetting:S.fetchPublicRuLocaleFrontSetting,loadLocale:w.loadLocale,initialize:Qr.j2,connectWebSocket:N.connect};const dQe=(0,o.compose)(m.memo,y.EN,v.ZP,(0,s.$j)((e=>({state:e.signInForm,formValues:(0,qe.Z)(oQe)(e),frontendSettings:(0,B.e0)(e),locale:F(e)})),cQe,((e,t,r)=>sQe(sQe(sQe(sQe({},e),t),r),{},{onSubmit:i=>((e,t,r)=>i=>{var{login:s,password:n}=i,a=(0,xO.ZP)({data:{login:s,password:n},fields:aQe});Object.keys(a.errors).length?e.setFormErrors(a.errors):e.signIn({login:s,password:n,locale:t},(()=>{r("/"),e.fetchFrontendSettings(),e.connectWebSocket()}))})(t,e.locale,r.history.push)(i),push:r.history.push}))),(0,Fe.Z)({form:oQe,validate:(e,t)=>(0,xO.ZP)({data:e,fields:aQe,formNameSpace:oQe,intl:t.intl}).errors}),(0,U.Z)((e=>{var{props:t}=e;lQe||(t.fetchInitFrontendSettings(),t.fetchPublicRuLocaleFrontSetting(),lQe=!0)})))(rQe);var uQe=e=>{var{children:t}=e,r=(0,_V.t)("safari");return(0,u.jsx)("div",{className:r?"pDWDtpbrUUxYs5cMbl4P4g==":void 0,children:t})};uQe.propTypes={children:c().node.isRequired};const pQe=uQe;var hQe=!1,fQe=e=>{var t,{intl:r}=e;(0,m.useEffect)((()=>{console.error=O.wA,console.warn=O.wA,console.log=O.wA}),[]),t=window!==window.parent,(0,m.useEffect)((()=>{t&&sessionStorage.setItem("iframeMode",!0)}),[t]);var i=(0,s.I0)(),n=(0,s.v9)(C.ts),a=(0,s.v9)(q),o=(0,y.TH)(),{samlAuthServer:l}=window.$oswfm,c=o.pathname===x.ZP.LOGIN_PATH,d=new URLSearchParams(o.search),[p]=(0,m.useState)(tYe);if((0,m.useEffect)((()=>{(0,b.LP)()&&(i((0,w.setMessageFormatterAction)(r.formatMessage)),i((0,S.fetchFrontendSettings)()),i((0,N.identification)()))}),[i,r.formatMessage]),(0,m.useEffect)((()=>{A(n)&&(hQe=!1),(0,b.LP)()&&!hQe&&(0,I.ZP)((()=>hQe=!0))})),(0,m.useEffect)((()=>i((0,N.connect)())),[]),A(n)){if(c&&l&&!Array.from(d).length)return window.location.href="".concat(E,"samlLogin/").concat((0,N.getDeviceId)(),"?redirect=").concat(window.location.href),(0,u.jsx)(Z.Z,{});if(!c)return(0,u.jsx)(y.l_,{to:x.ZP.LOGIN_PATH})}return a?(0,u.jsx)(Z.Z,{}):(0,j.xb)(n)||((e,t)=>{var{pathname:r}=t,{role:i}=e;if("/"===r||"/login"===r||i===x.ZP.ROLE.ADMINISTRATOR||i===x.ZP.ROLE.MANAGER)return!0;var s=r.split("/"),n=!(0,j.xb)(s)&&"operator"===s[1];return i===x.ZP.ROLE.OPERATOR&&n})(n,o)?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(g.f6,{theme:p,children:(0,u.jsxs)(y.rs,{children:[(0,u.jsx)(y.AW,{path:"/",exact:!0,children:D(n)&&(0,u.jsx)(Vi,{user:n})}),(0,u.jsx)(MH,{path:"/login",children:D(n)?(0,u.jsx)(Vi,{user:n}):(0,u.jsx)(dQe,{})}),(0,u.jsx)(y.AW,{children:D(n)&&(0,u.jsx)(pQe,{children:(0,u.jsx)(Gze,{user:n})})})]})})}):(0,u.jsx)(L,{})};fQe.propTypes={intl:P.gm.isRequired};const mQe=(0,o.compose)(m.memo,v.ZP)(fQe);var vQe=r(14129),yQe=r(57865),gQe=e=>{var{children:t}=e;return(0,u.jsx)(vQe.W,{backend:yQe.PD,children:t})};gQe.propTypes={children:c().node.isRequired};const bQe=gQe;var jQe=r(53894),xQe=r(30496);const SQe=[].concat((OQe=r(11171),OQe.keys().map((e=>[e,OQe(e)])))).reduce(((e,t)=>{var[r,i]=t,s=/^\.\/[a-z]+\/reducers\/([a-z]+)\.js$/i.exec(r)[1];if(e[s])throw new Error('Reducer "'.concat(s,'" already exists, see "').concat(r,'"'));return e[s]=i.default,e}),{form:xQe.Z});var OQe;function PQe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function wQe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PQe(Object(r),!0).forEach((function(t){CQe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PQe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CQe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQe(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function TQe(){return function(){var e,t=(e=function*(e){return Promise.all([].concat(function(){var e=r(38276);return e.keys().map((t=>e(t).init)).filter((e=>!!e))}()).map((t=>e(t()))))},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){kQe(n,i,s,a,o,"next",e)}function o(e){kQe(n,i,s,a,o,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}const NQe=()=>(0,u.jsx)("div",{id:"loading-indicator",style:{display:"none",zIndex:"10000",position:"absolute",top:"0",left:"0",right:"0",height:"2px",backgroundColor:"#7dcc7a",animation:"2s spinner infinite"}}),RQe=(0,r(87557).Z)({palette:{primary:{main:Qi.Gj,light:Qi.aX,contrastText:"white"},secondary:{main:Qi.OT}},overrides:{MuiListItemIcon:{root:{minWidth:40}}}});function EQe(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}r(88320),r(65108),r(58851);var DQe=function(){var e,t=(e=function*(){var e=function(e){var t=o.createStore;t=(0,o.compose)((0,o.applyMiddleware)(jQe.Z))(t);var r=(0,o.combineReducers)(wQe(wQe({},SQe),{},{form:xQe.Z}));return t(((e,t)=>t.type===N.userSignOut.getType()?{intl:e.intl}:r(e,t)),{})}();yield e.dispatch(TQe()),(0,i.render)((0,u.jsxs)("div",{className:"page__content-wrapper",children:[(0,u.jsx)(n.Z,{theme:RQe,children:(0,u.jsx)(s.zt,{store:e,children:(0,u.jsx)(f,{children:(0,u.jsx)(bQe,{children:(0,u.jsx)(a.VK,{children:(0,u.jsx)(mQe,{})})})})})}),(0,u.jsx)(NQe,{})]}),document.getElementById("root"))},function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){EQe(n,i,s,a,o,"next",e)}function o(e){EQe(n,i,s,a,o,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();DQe()},42274:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(45697),s=r.n(i),n=r(24607),a=r(97721);const o=s().shape({biometricPoints:s().array,end:n.ZP,id:a.Z,start:n.ZP,userId:a.Z,workActivityId:a.Z,movable:s().bool})},47945:(e,t,r)=>{"use strict";r.d(t,{FG:()=>i.Z,Aj:()=>g,$$:()=>x,gm:()=>b.Z,in:()=>j,O9:()=>c,yb:()=>s.ZP,jZ:()=>y.Z,TD:()=>l,K5:()=>n.Z,iO:()=>v});var i=r(42274),s=r(24607),n=r(97721),a=r(45697),o=r.n(a);const l=o().shape({start:s.ZP,end:s.ZP.isRequired,name:o().string.isRequired,userTaskTemplateId:n.Z.isRequired}),c=o().shape({externalGroupId:n.Z,externalId:o().string,isGroup:o().bool,groupId:n.Z.isRequired,groupName:o().string,hourlyWage:o().number,id:n.Z.isRequired,name:o().string.isRequired,salary:o().number});var{shape:d,string:u,number:p,bool:h,arrayOf:f}=o();const m=d({id:n.Z.isRequired,color:u,name:u,work:h,replaceable:h,telephonyStatuses:f(n.Z),timesheetActivity:n.Z,acronym:u,blockedReplacements:f(n.Z),minutesBeforeWorkActivityStart:p,isSendPushNotifications:h,notificationMessage:u,hourlyWage:p,monoSkillId:n.Z,monoSkillName:u}),v=o().shape({settingId:n.Z,mappingId:n.Z,substitutions:o().arrayOf(m).isRequired,minLength:o().number.isRequired,maxLength:o().number.isRequired,stepLength:o().number.isRequired,sumMinLength:o().number.isRequired,sumMaxLength:o().number.isRequired});var y=r(57273);const g=o().shape({id:n.Z.isRequired,groupId:n.Z.isRequired,groupName:o().string,externalGroupId:o().string,relatedGroups:o().array,children:o().array,root:o().bool,isGroup:o().bool});var b=r(11282);const j=o().shape({id:n.Z.isRequired,timezone:o().string,name:o().string,comment:o().string,color:o().string,maxSeats:o().number,specialWorkTime:o().array,workTime:o().arrayOf(o().shape({id:n.Z.isRequired,from:o().string,to:o().string,weekend:o().bool,dayOfWeek:o().number}))}),x=o().arrayOf(o().shape({start:s.ZP,end:s.ZP}))},11282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(45697),s=r.n(i);const n=s().shape({formatMessage:s().func.isRequired})},24607:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a});var i=r(35667),s=(e,t,r)=>{if(s=e[t],!(0,i.xb)(s)&&!RegExp("\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2} [+|-]\\d{4}").test(s))return new Error("Invalid prop '".concat(t,"' with value '").concat(e[t],"' supplied to ").concat(r));var s},n=s;n.isRequired=(e,t,r)=>void 0===e[t]?new Error("Prop '".concat(t,"' marked as isRequired in component '").concat(r,"' but its value is ").concat(e[t])):s(e,t,r);const a=n},57273:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(45697),s=r.n(i),n=r(97721);const a=s().oneOf(["ALL","PUSH","EMAIL","NONE"]);var o=r(24607),l=r(12718);const c=s().oneOf(Object.values(l.ZP.ROLE)),d=s().shape({id:s().string,groupId:n.Z,groupName:s().string,externalGroupId:n.Z,externalParentId:n.Z,phoneNumber:s().string,middleName:s().string,firstName:s().string,lastName:s().string,positionId:n.Z,positionName:s().string,password:s().string,address:s().string,login:s().string.isRequired,email:s().string,role:c,dateOfBirth:s().string,hiringDate:o.ZP,firingDate:o.ZP,zone:s().string,notificationChannels:a,officeId:n.Z,officeName:s().string,externalId:s().string,isGroup:s().bool,timeZoneData:s().string})},97721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(45697);const s=r.n(i)().string},69355:(e,t,r)=>{"use strict";r.d(t,{D9:()=>a,ZP:()=>o,tl:()=>s});var i=r(52429),s={LOCALE:"LOCALE",NAMESPACE_PREFIX:"$oswfm",LAST_GROUP_ID_SELECTED:"LAST_GROUP_ID_SELECTED",LAST_QUEUE_SELECTED:"LAST_QUEUE_SELECTED"},n=new class{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.NAMESPACE_PREFIX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"settings.keys";this._namespacePrefix=e+".",this._keysPropertySuffix=t,this._keysPropertyName=this._namespacePrefix+this._keysPropertySuffix,this._storedKeys=i.Z.getItem(this._keysPropertyName)||"",this._values={},this._storedKeys&&this._storedKeys.split(",").forEach((e=>{try{this._values[e]=JSON.parse(i.Z.getItem(this._namespacePrefix+e)).value}catch(t){this._values[e]=i.Z.getItem(this._namespacePrefix+e)}}))}get keys(){return Object.keys(this._values)}set(e,t){var r=this._namespacePrefix+e;this._values[e]=t,i.Z.setItem(r,JSON.stringify({value:t})),i.Z.setItem(this._keysPropertyName,Object.keys(this._values).reduce(((e,t)=>e+","+t)))}get(e,t){return this._values[e]||t}reset(){this.keys.forEach((e=>i.Z.removeItem(this._namespacePrefix+e))),this._values={},i.Z.setItem(this._keysPropertyName,Object.keys(this._values).reduce(((e,t)=>e+","+t),""))}setPrefix(e){this._namespacePrefix=e+".",this._keysPropertyName=this._namespacePrefix+this._keysPropertySuffix,this._storedKeys=i.Z.getItem(this._keysPropertyName)||"",this._values={},this._storedKeys&&this._storedKeys.split(",").forEach((e=>{try{this._values[e]=JSON.parse(i.Z.getItem(this._namespacePrefix+e)).value}catch(t){this._values[e]=i.Z.getItem(this._namespacePrefix+e)}}))}};function a(e){n.setPrefix(e)}const o=n},21940:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var i=r(44012),s=r(282),n=r(52663),a=r(52387),o=r(56089),l=r(54813),c=r(65227),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f{static closeDetachedPopup(){(this.detachedPopups||0!==this.detachedPopups.length)&&(l.A.removePopup(this.detachedPopups[this.detachedPopups.length-1]),this.detachedPopups.pop())}static confirm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,d.jsx)(i.Z,{id:"Actions.confirmAction"}),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o=p(p({},{confirmText:"Ok",discardText:"",contentStyle:{}}),o),this.detachedPopups.push(l.A.popup({component:()=>(0,d.jsx)(n.Z,{contentStyle:p({},o.contentStyle),title:e,actions:[(0,d.jsx)(s.Z,{tabIndex:0,className:"inline-block_middle mr+",primary:!0,keyboardFocused:!0,onClick:()=>{r(),f.closeDetachedPopup()},children:o.confirmText}),(0,d.jsx)(s.Z,{label:o.discardText||(0,d.jsx)(i.Z,{id:"Actions.cancel"}),primary:!0,onClick:()=>{a&&a(),f.closeDetachedPopup()}})],open:!0,onRequestClose:()=>{f.closeDetachedPopup()},children:t})}))}static modal(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.detachedPopups.push(l.A.popup({component:()=>{var i=(0,d.jsx)("div",{style:{padding:"8px 16px",fontSize:"150%"},children:t});return(0,d.jsx)(n.Z,{overlayStyle:r.overlayStyle,bodyStyle:r.contentStyle,contentStyle:{width:r.width+"px"},title:i,open:!0,onRequestClose:()=>{r.onRequestClose&&r.onRequestClose(),f.closeDetachedPopup()},children:e})}})),this.detachedPopups[this.detachedPopups.length-1]}static popover(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.detachedPopups.push(l.A.popup({component:()=>(0,d.jsx)(a.ZP,p(p({open:!0,anchorEl:t,onClose:()=>{f.closeDetachedPopup()}},r),{},{children:e}))})),this.detachedPopups[this.detachedPopups.length-1]}static selectDate(e){return this.detachedPopups.push(l.A.popup({component:()=>(0,d.jsx)(o.Z,{onChange:t=>{e(t),f.closeDetachedPopup()},container:"dialog",autoFocus:!0,textFieldStyle:{display:"none"},onDismiss:()=>{f.closeDetachedPopup()},dateFormat:c.vc})})),this.detachedPopups[this.detachedPopups.length-1]}}h(f,"detachedPopups",[])},35701:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(52429);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o="session";class l{}a(l,"clear",(()=>{i.Z.setItem(o,JSON.stringify({}))})),a(l,"get",(e=>{var t=JSON.parse(i.Z.getItem(o));if(t)return t[e]})),a(l,"set",((e,t)=>{var r=JSON.parse(i.Z.getItem(o))||{};i.Z.setItem(o,JSON.stringify(n(n({},r),{},{[e]:t})))}));const c=l},52429:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={getItem:e=>sessionStorage.iframeMode?sessionStorage.getItem(e):localStorage.getItem(e),setItem:(e,t)=>{sessionStorage.iframeMode?sessionStorage.setItem(e,t):localStorage.setItem(e,t)}}},34992:(e,t,r)=>{"use strict";r.d(t,{HI:()=>u,UB:()=>p,mu:()=>h,tQ:()=>f});var i=r(30381),s=r.n(i),n=r(65227),a=r(30053);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(e,t)=>s()(e.start,n._E)>s()(t.start,n._E)?1:-1,u=e=>[...e].sort(d),p=e=>e.map((e=>(0,a.CE)(e,["id","userId"]))),h=e=>{var t=e[0].start,r=e[e.length-1].end;return(0,n.ZG)(r)-(0,n.ZG)(t)},f=e=>{var t=[];return e.forEach((e=>{var r,i=h([e]),s=(null===(r=t[t.length-1])||void 0===r?void 0:r.end)||e.start,a=(0,n.g9)(s,i,"seconds");t.push(l(l({},e),{},{start:s,end:a}))})),t}},69797:(e,t,r)=>{"use strict";r.d(t,{JN:()=>s,_D:()=>n,wm:()=>a});var i=r(35667);function s(e){var t=[];return e.forEach((e=>{if((0,i.xb)(e))return[];e.forEach(((e,r)=>{var i=t[r]||0;t[r]=i+e}))})),t}function n(e){return null==e?void 0:e.map((e=>Math.round(e)))}function a(e,t,r){return[...e.slice(0,t),r,...e.slice(t+1)]}},12336:(e,t,r)=>{"use strict";r.d(t,{BL:()=>w,GU:()=>S,Hd:()=>O,Ty:()=>v,ZH:()=>b,du:()=>g,id:()=>N,kj:()=>P,lk:()=>T,tF:()=>C,tQ:()=>j,vL:()=>m,vc:()=>x,xT:()=>k});var i=r(56237),s=r(69797),n=r(34018),a=r(35667),o=["color","name"],l=["color","name"];function c(e,t){if(null==e)return{};var r,i,s=function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={name:"sum",color:"#09acf7"},f={borderWidth:2,pointBorderWidth:2,pointHoverRadius:2,pointHoverBorderWidth:2,pointRadius:2,fill:!1,dragData:!1},m=u(u({},f),{},{type:"line"}),v=e=>{var{data:t=[],options:r={}}=e,{color:i,name:n}=r,a=c(r,o);return u(u({},f),{},{label:n,borderColor:i,pointBorderColor:i,pointBackgroundColor:i,pointHoverBackgroundColor:i,pointHoverBorderColor:i,backgroundColor:i,data:(0,s._D)(t)},a)},y={borderWidth:1,pointBorderWidth:1,pointHoverRadius:1,pointHoverBorderWidth:1,pointRadius:1,fill:!1,dragData:!1},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return u(u({},m),{},{label:e.name+" "+r(i.CV),datasetKeyProvider:e.key,borderColor:e.color,pointBorderColor:e.color,pointBackgroundColor:e.color,pointHoverBackgroundColor:e.color,pointHoverBorderColor:e.color,backgroundColor:(0,n.Zn)(e.color,.3),fill:!0,data:(0,s._D)(t)})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(u({},m),{},{label:null==e?void 0:e.name,datasetKeyProvider:null==e?void 0:e.key,borderColor:null==e?void 0:e.color,pointBorderColor:null==e?void 0:e.color,pointBackgroundColor:null==e?void 0:e.color,pointHoverBackgroundColor:null==e?void 0:e.color,pointHoverBorderColor:null==e?void 0:e.color,backgroundColor:(0,n.Zn)(null==e?void 0:e.color,.3),fill:!0,data:(0,s._D)(t)})},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return u(u({},m),{},{borderDash:[3,3],label:r?e.name+" "+r(i.YQ):e.name,borderColor:e.color,pointBorderColor:e.color,pointBackgroundColor:e.color,pointHoverBackgroundColor:e.color,pointHoverBorderColor:e.color,data:(0,s._D)(t)})},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(u({},m),{},{borderDash:[3,3],label:null==e?void 0:e.name,borderColor:null==e?void 0:e.color,pointBorderColor:null==e?void 0:e.color,pointBackgroundColor:null==e?void 0:e.color,pointHoverBackgroundColor:null==e?void 0:e.color,pointHoverBorderColor:null==e?void 0:e.color,data:(0,s._D)(t)})},S=(e,t)=>u(u({},m),{},{label:e.name,borderColor:e.color,pointBorderColor:e.color,pointBackgroundColor:e.color,pointHoverBackgroundColor:e.color,pointHoverBorderColor:e.color,data:(0,s._D)(t)}),O=e=>{var{name:t,color:r}=h;return u(u({},m),{},{label:t,borderColor:r,pointBorderColor:r,pointBackgroundColor:r,pointHoverBackgroundColor:r,pointHoverBorderColor:r,data:(0,s._D)(e)})},P=e=>{var{name:t,color:r}=h;return u(u({},m),{},{label:t,borderColor:r,pointBorderColor:r,pointBackgroundColor:r,pointHoverBackgroundColor:r,pointHoverBorderColor:r,backgroundColor:(0,n.Zn)(r,.3),fill:!0,data:(0,s._D)(e)})},w=(e,t)=>{var{name:r,color:n}=h;return u(u({},m),{},{borderDash:[3,3],label:r+" "+t(i.YQ),borderColor:n,pointBorderColor:n,pointBackgroundColor:n,pointHoverBackgroundColor:n,pointHoverBorderColor:n,fill:!1,data:(0,s._D)(e)})},C=(e,t)=>(0,a.xb)(t)?{}:u(u({},m),{},{label:e.name,pointBorderColor:e.color,pointBackgroundColor:e.color,hoverPoint:e.color,pointBorderWidth:5,showLine:!1,data:(0,s._D)(t),trendlineLinear:{style:e.trendColor,lineStyle:"dotted|solid",width:4}}),k=e=>{var{data:t,options:r}=e,{color:i,name:s}=r,n=c(r,l);return[u(u({},y),{},{backgroundColor:i,color:i,borderColor:i,label:s,data:t},n)]},T=e=>{var{label:t,borderDash:r}=e;return t+(r?"-dashed":"")},N=e=>{var{selectTableName:t,intl:r,currentItem:i,typeEntities:s}=e;return(e,n)=>{var o=(e,t,r)=>{var i=e[t];return(0,a.xb)(i)?0:i.data[r]||0};if(!((0,a.xb)(n)||n.datasets.length<2)){var l,{datasets:c}=n,{datasetIndex:d}=e,u=d%2==0,p=u?d+1:d,h=o(c,u?d:d-1,e.index),f=o(c,d,e.index),m=o(c,p,e.index),v=Number(h-m),y="- ".concat(m," ").concat(r.formatMessage({id:"Graph.deviation",defaultMessage:"Отклонение"}),": ").concat(v);return"".concat(c[d].label,": ").concat((l="queue"===(null==i?void 0:i.type),"expectation"===t&&0===h||"fte"===t&&l||"fte"===t&&"multiQueue"===s?f:h)," ").concat("lost"===t||"expectation"===t||"line"===(null==i?void 0:i.type)||"multiLine"===s?"":"calls"===t||"aht"===t?y:"queue"===(null==i?void 0:i.type)||"multiQueue"===s?"":y)}}}},84804:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var i={safari:/^((?!chrome|android).)*safari/i,chrome:/^((?!chrome|android).)*chrome/i,firefox:/^((?!chrome|android).)*firefox/i,yandex:/ya(browser|pag)\/(\d+\.\d+)/i},s=e=>i[e].test(navigator.userAgent)},34018:(e,t,r)=>{"use strict";r.d(t,{De:()=>c,Lq:()=>u,Qn:()=>h,Zn:()=>l,on:()=>p});var i=r(82023),s=r.n(i);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00FFFF",t=arguments.length>1?arguments[1]:void 0,r=parseInt(e.substring(1,3),16),i=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16);return"RGBA(".concat(r,", ").concat(i,", ").concat(s,", ").concat(t,")")},c=()=>["#e63939","#eb6161","#f08888","#f5b0b0","#f9cdcd","#e6398e","#eb61a5","#f088bb","#f5b0d2","#f7c3dd","#000000","#010101","#b339e6","#c261eb","#d188f0","#e1b0f5","#eccdf9","#7639e6","#9161eb","#ad88f0","#c1a6f4","#d6c3f7","#010102","#010103","#3939e6","#6161eb","#8888f0","#b0b0f5","#cdcdf9","#4585e6","#6a9deb","#8fb6f0","#b5cef5","#c7daf7","#010104","#040205","#45d1e5","#6adaea","#9ce6f0","#c2edf2","#daeff2","#3dcca1","#77c7af","#91d9c3","#b8e6d7","#cef2e7","#050201","#020301","#4c996b","#74a689","#8fbfa2","#a7d1b8","#c7dcd0","#5ccc5c","#85d685","#a1e6a1","#b8e6b8","#cfe6cf","#050605","#030201","#92cc1f","#9cbf56","#bcd982","#d5e6b8","#e5edd5","#b6e60b","#cbf23d","#d8f279","#e6ff8c","#eeffb2","#020201","#020202","#ffea00","#fff159","#fff58c","#fff9b2","#fffbcc","#f2a60c","#f2be55","#f2d291","#f2deb6","#f2e6ce","#030303","#040404","#f2630c","#f5823d","#f7a36f","#fac4a2","#fadbc8","#806453","#a68c7c","#b3a298","#ccbfb8","#d9d2ce","#050301","#030208","#668070","#7a9986","#8bad98","#a3bfae","#c2ccc6","#737c99","#9098b3","#adb4cc","#c3c8d9","#dadde6","#080808","#090909","#917a99","#aa8fb3","#b8a3bf","#d3c3d9","#e2dae6","#996b7b","#a68590","#bf99a6","#d9b8c4","#e6dade"],d=["#e63939","#094bf3","#2aa90d","#f2da0d","#b0dca6","#2be0b8","#f828fa","#75beed","#93cd23","#0ce1f4","#ff9600","#0998f3","#9cb6b8","#6d32d8","#758cc8","#bc0ff5","#b14f00","#781479","#006a53","#a082d9"];function u(e){return d[e]||d[0]}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((e=>a(a({},e),{},{color:t[e.id]||s()()})))},h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>a(a({},e),{},{[t.id]:t.color})),{})}},12718:(e,t,r)=>{"use strict";r.d(t,{EH:()=>s,FORM_NAMES:()=>n,Ok:()=>i,ZP:()=>l,ck:()=>o,cm:()=>a});var i={RU:"ru",EN:"en",DE:"de"},s={STANDARD:"STANDARD",BY_UNDERSTAFF_ONLY:"BY_UNDERSTAFF_ONLY",ALWAYS:"ALWAYS"},n={EMPLOYEE_FORM:"EmployeeForm",MANAGER_FORM:"ManagerForm",EMPLOYEE_DISPLAY_SETTINGS:"employeeTableDisplaySettings",SIMPLE_EDITING_FORM:"SimpleEditingForm",PASSWORD_FORM:"PasswordForm",BLOCK_FORM:"BlockForm",OVER_WORK_FORM:"OverWorkForm",RIGHTS_SETTINGS:"RightsSettings",VALIDITY_PERIOD_ADD_FORM:"validityPeriodAddForm",CHANGES_SL_FORM:"ChangesSlForm",SKILL:"SkillForm",QUEUE:"QueueForm",LINE:"LineForm",DEFAULT:"DefaultForm"},a={PROCESSING:"PROCESSING",WAITING_MANAGER_REGULATION:"WAITING_MANAGER_REGULATION",DELETED:"DELETED",EXPIRED:"EXPIRED",APPROVED_BY_MANAGER:"APPROVED_BY_MANAGER",AUTOMATIC_SWAP:"AUTOMATIC_SWAP",CLOSED:"CLOSED",DECLINED_BY_MANAGER:"DECLINED_BY_MANAGER",DECLINED_BY_REQUESTING_USER:"DECLINED_BY_REQUESTING_USER",REQUEST_DELETED:"REQUEST_DELETED",REQUEST_APPROVED_WITH_ANOTHER_RESPONSE:"REQUEST_APPROVED_WITH_ANOTHER_RESPONSE"},o={NORMAL:"NORMAL",WARNING:"WARNING",VIOLATION:"VIOLATION"};const l={ROLE:{ADMINISTRATOR:"ADMINISTRATOR",MANAGER:"MANAGER",OPERATOR:"OPERATOR"},ERROR_CODES:{SCHEDULE_BLOCKED:"SCHEDULE_BLOCKED"},TASK_BEHAVIORS:{NONE:"NONE",FORCE:"FORCE",AVOID:"AVOID"},NOTIFICATION_CHANNELS:{NONE:"NONE",ALL:"ALL",PUSH:"PUSH",EMAIL:"EMAIL"},ERRORS:{SCHEDULE_CONTROL_BLOCK:"SCHEDULE_CONTROL_BLOCK"},ERROR_MESSAGES:{EXTERNAL_ID_NOT_UNIQUE:"user.externalId.notUnique",TELEPHONY_ID_NOT_UNIQUE:"user.telephonyId.notUnique",PERSONNEL_NUMBER_NOT_UNIQUE:"user.personnelNumber.notUnique",LOGIN_NOT_UNIQUE:"user.login.notUnique"},TELEPHONY_STATUSES:{DUTY_ON:"DutyOn",DUTY_OFF:"DutyOff"},MANAGER_HOME_PATH:"/schedule",OPERATOR_HOME_PATH:"/operator",LOGIN_PATH:"/login/",RIGHTS:{SHIFT_BLOCK:"SHIFT_BLOCK",FORECASTING:"FORECASTING",SCHEDULE:"SCHEDULE",OPERATORS:"OPERATORS",REPORTS:"REPORTS",BIOMETRICS:"BIOMETRICS",SCHEDULE_CHANGES:"SCHEDULE_CHANGES",SCHEDULE_GENERATE:"SCHEDULE_GENERATE",ADDITIONAL_SCHEDULE:"ADDITIONAL_SCHEDULE",SETTINGS:"SETTINGS",SCHEDULE_SCHEME:"SCHEDULE_SCHEME",SCHEDULE_CONTAINERS:"SCHEDULE_CONTAINERS",BALANCER:"BALANCER",MONITORING:"MONITORING",TASK:"TASK",LOGGER:"LOGGER",SWAP_SCHEDULE:"SWAP_SCHEDULE",SCHEDULE_CONTROL_GROUPS:"SCHEDULE_CONTROL_GROUPS",SCHEDULE_CONTROL_USERS:"SCHEDULE_CONTROL_USERS",KDO_STATUS_CONTAINERS:"KDO_STATUS_CONTAINERS",KDO_SCHEDULE_PUBLISH:"KDO_SCHEDULE_PUBLISH"},READ:"READ",CRUD:"CRUD",NONE:"NONE",SCHEDULE_CHANGES:{CHANGE_SCHEDULE_OPERATOR_REQUEST:"CHANGE_SCHEDULE_OPERATOR_REQUEST",CHANGE_WORK_ACTIVITY:"CHANGE_WORK_ACTIVITY",GENERATE:"GENERATE",OTHER:"OTHER",PUBLISH:"PUBLISH",CHANGE_SCHEDULE:"CHANGE_SCHEDULE",SCHEDULE_SWAP:"SCHEDULE_SWAP",ADDITIONAL_USER_SCHEDULE:"ADDITIONAL_USER_SCHEDULE"},HOLIDAY:"HOLIDAY",PRE_HOLIDAY:"PRE_HOLIDAY",WORK_ACTIVITY_HOURLY_WAGE:"WORK_ACTIVITY_HOURLY_WAGE",POSITION_HOURLY_WAGE:"POSITION_HOURLY_WAGE",ACCOUNTING_RULE_HOURLY_WAGE:"ACCOUNTING_RULE_HOURLY_WAGE",REFRESH_TOKEN_KEY:"REFRESH_TOKEN_KEY",TOKEN_EXPIRE_IN_KEY:"TOKEN_EXPIRE_IN_KEY",LAST_TOKEN_REFRESH_TIME:"LAST_TOKEN_REFRESH_TIME",EMPTY_WORK_ACTIVITY_ID:"00000000-0000-0000-0000-000000000000",ROOT_GROUP_ID:"300425a8-2983-acd4-cba8-57e69f0a9d5a",END_OF_TIME:"2070-01-01 00:00:00 +0000",START_OF_TIME:"1970-01-01 00:00:00 +0000",FIFTEEN_MINUTES:"FIFTEEN_MINUTES",THIRTY_MINUTES:"THIRTY_MINUTES",HOUR:"HOUR",DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH"}},49920:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var i=r(81354),s="H8mFjXh6bXVitN8F";function n(e){return e?i.AES.encrypt(e,s).toString():e}},35667:(e,t,r)=>{"use strict";function i(e){return null==e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length}function s(e){var{list:t,ownerId:r,reserveAccess:s=!1}=e,n=[];return Object.keys(t).forEach((e=>{var a=t[e];if(!a.isTrash){var{user:o,view:{start:l,end:c,skillId:d}}=a,u={start:l,end:c,skillId:d,ownerId:r,reserveAccess:s};i(o.selectUserId)||(u.assigneeId=o.selectUserId),n.push(u)}})),n}r.d(t,{Re:()=>n,xb:()=>i,yv:()=>s});var n=e=>e.replace(/[^\d]+/g,"")},65227:(e,t,r)=>{"use strict";r.d(t,{$4:()=>Fe,AH:()=>xe,Ae:()=>Ue,C3:()=>k,CK:()=>M,Co:()=>A,Cv:()=>ze,D6:()=>De,F0:()=>tt,FF:()=>C,Fu:()=>ne,G5:()=>ft,H2:()=>Le,IH:()=>Ce,IS:()=>rt,IY:()=>ye,I_:()=>te,J$:()=>dt,J6:()=>Be,JM:()=>fe,K4:()=>Z,LB:()=>W,LT:()=>re,M:()=>Ye,M9:()=>Ae,M_:()=>We,Mm:()=>I,NM:()=>we,Nu:()=>X,OS:()=>at,Om:()=>he,Os:()=>V,PC:()=>ie,Q:()=>Je,QD:()=>Ze,QS:()=>pt,Qt:()=>ht,Qv:()=>Xe,RN:()=>st,Rl:()=>Ie,Ro:()=>D,Rs:()=>j,SE:()=>be,So:()=>oe,TR:()=>Re,Tl:()=>U,UT:()=>c,Uk:()=>le,VM:()=>pe,Vb:()=>T,WN:()=>Q,X5:()=>w,Xv:()=>ae,YD:()=>Y,Yd:()=>E,ZG:()=>ue,ZM:()=>y,Ze:()=>$e,_2:()=>O,_A:()=>F,_E:()=>o,_T:()=>v,_X:()=>N,_m:()=>je,a5:()=>H,ab:()=>Ge,ae:()=>K,b7:()=>ce,cP:()=>_,ch:()=>g,cl:()=>Ee,ds:()=>qe,f:()=>B,fd:()=>et,fk:()=>Me,fv:()=>ve,fw:()=>P,g9:()=>Ne,gn:()=>de,hF:()=>Ke,i7:()=>se,iX:()=>z,ip:()=>J,jL:()=>q,jT:()=>$,jW:()=>S,k:()=>h,kN:()=>lt,kZ:()=>nt,kl:()=>it,lI:()=>ut,mH:()=>G,mw:()=>Oe,nD:()=>me,ni:()=>L,o0:()=>ge,pG:()=>ct,pV:()=>x,pc:()=>d,pz:()=>m,r8:()=>R,rm:()=>ot,su:()=>ke,uW:()=>Te,vc:()=>f,vj:()=>_e,wJ:()=>b,xr:()=>Ve,yg:()=>p,zE:()=>l,zO:()=>ee,zR:()=>He,zU:()=>u,zk:()=>Se,zx:()=>Qe});var i=r(30381),s=r.n(i),n=r(48994),a=r(35667),o=(new Date,"YYYY-MM-DD HH:mm:ss ZZ"),l="YYYY-MM-DD HH:mm:ss",c="DD.MM.YYYY  HH:mm:ss",d="DD.MM.YYYY  HH:mm",u="1970-01-01",p="2070-01-01",h="2070-01-01 00:00:00 +0000",f="YYYY-MM-DD",m="DD.MM",v="DD.MM.YYYY",y="MM.YYYY",g="YYYY-MM",b="HH:mm",j="DD.MM.YYYY | HH:mm",x="HH:mm:ss",S="HH:mm:ss.ZZ",O="YYYY/MM/DD",P="MM/DD/YYYY";function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(f)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().format(f)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s().parseZone(e,t).format(f)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(v)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().format(v)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().format(j)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s().parseZone(e,t).format(v)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(m)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(O)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return s()(e,t).format(o)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return s()(e,t).local().format(o)}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(P)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(b)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().format(b)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s().parseZone(e,t).format(b)}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(y)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(g)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(d)}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd";return s()().startOf("week").add(e,"d").format(t)}function W(e,t){if(0===e)return 0;var r=Math.abs(e),i=t.formatMessage({id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),s=t.formatMessage({id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),n=Math.floor(r/60),a=r%60,o=n>0,l=a>0,c="".concat(o?n:""," ").concat(o?i:""," ").concat(l?a:""," ").concat(l?s:"");return e<0?"- ".concat(c):c}var U=(e,t,r)=>{var i=s()(e,r)-s()(t,r);return i>0?-1:i<0?1:0};function V(e,t){if(0===e)return 0;var r=Math.abs(e),i=t.formatMessage({id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),s=Math.floor(r/60),n=r%60,a=s>0,o=n>0,l="".concat(a?s:""," ").concat(a?i:""," ").concat(o?n:"");return e<0?"- ".concat(l):l}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?s()(e,t).local().endOf("day").format(o):s()(e,t).local().startOf("day").add(1,"day").format(o)}var Y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return s()(e,r).subtract(t,"d").format(r)},Q=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=arguments.length>3?arguments[3]:void 0;return s()(e,r).subtract(t,i).format(r)},K=(e,t,r)=>{if((0,a.xb)(e)||(0,a.xb)(t))return[];if(!s()().isDST())return[e,t];var i=s()().utcOffset();return r?[s().utc(e,o).utcOffset(i).format(o),s().utc(t,o).utcOffset(i).format(o)]:[s().utc(e,o).utcOffset(i).startOf("day").format(o),s().utc(t,o).utcOffset(i).startOf("day").format(o)]};function X(e){if(0===e)return{days:0,hours:0,minutes:0,seconds:0};var t=Math.floor(e/86400),r=Math.floor(e/60/60)-24*t;return{days:t,hours:r,minutes:Math.floor(e/60)-60*r-60*t*24,seconds:e%60}}var J=(e,t)=>{var{days:r,minutes:i,seconds:s,hours:n}=e,a=t.formatMessage({id:"Common.ShortDay",defaultMessage:[{type:0,value:"дн."}]}),o=t.formatMessage({id:"Common.ShortSec",defaultMessage:[{type:0,value:"сек."}]}),l=t.formatMessage({id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),c=t.formatMessage({id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),d=n>0?n:"",u=i>0?i:"",p=s>0?s:"";return"".concat(r>0?r:""," ").concat(r?a:""," ").concat(d," ").concat(n?l:""," ").concat(u," ").concat(i?c:""," ").concat(p," ").concat(s?o:"")};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format(x)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?s()().startOf("d").format(e):s()().format(e)}function te(e){return s()(e,o).local().format(o)}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return s()(e,o).format(t)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return s()(e,o).format(t)}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return s()(e,o).format(t)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t="month",r=s()().startOf(t).format(e),i=s()().endOf(t).format(e),[n,a]=K(r,i);return{from:n,to:a}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a="month",l=s()(e,r).startOf(a).format(i),c=t?s()(e,r).add(1,a).format(i):s()(e,r).endOf(a).format(i),[d,u]=K(l,c);return n?{from:d,to:u}:{from:l,to:c}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format("YYYY")}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).format("MM")}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().startOf("day").format(o)}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).startOf("day").utc().format(o)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().unix()}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).unix()}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).add(1,"day").format(t)}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).add(-1,"day").format(t)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).add(1,"month").format(t)}function ve(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!t)return"";var i=s()(e,o).format(v),n=s()(e,o).format(b),a=s()(t,o).format(v),l=s()(t,o).format(b);return r?i===a?"".concat(i):"".concat(i," ... ").concat(a):i===a?"".concat(i," | ").concat(n," — ").concat(l):"".concat(i," | ").concat(n," ... ").concat(a," | ").concat(l," ")}function ye(e){return e&&e.trim()?s()(e,o).format(j):""}var ge=ye;function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return e&&e.trim()?s()(e,t).format(v):""}function je(e,t){if(!e)return e;var r=e.split(" "),i=r[0],s=r[2];return"".concat(i," ").concat(t,"., ").concat(s)}var xe=()=>{var e={0:"GMT +0",1:"GMT +1",2:"GMT +2",3:"GMT +3",4:"GMT +4",5:"GMT +5",6:"GMT +6",7:"GMT +7",8:"GMT +8",9:"GMT +9",10:"GMT +10",11:"GMT +11",12:"GMT +12"},t=[];return Object.keys(e).forEach((r=>{var i={value:r,text:e[r]};t.push(i)})),t};function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).isSame(s()(),"day")}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).isBefore(s()().startOf("day"))}var Pe=s().duration(5,"minutes");function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ceil",n=s()(e,t),a=Number(r);return s()(Math[i](Number(n)/a)*a).format(t)}function Ce(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;return s()(e,i).add(r,t).format(i)}function ke(){var[e,t]=K(ce(ee()),z(ee()));return{from:e,to:t}}function Te(e){return!!(s()(e,"YYYY-MM-DD HH:mm:ss ZZ").unix()-s()(s()(e,"YYYY-MM-DD HH:mm:ss ZZ").format("YYYY-MM-DD")).unix())}function Ne(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;return(e?s().parseZone(e,i):s()()).add(t,r).format(i)}function Re(e,t){return Ne(e,t,"hours",arguments.length>2&&void 0!==arguments[2]?arguments[2]:o)}function Ee(e){var t=s()(e,o);return{week:t.isoWeek(),year:t.isoWeekYear()}}function De(e,t){var r="01.12.".concat(e);return s()(r,"DD.MM.YYYY").isoWeekday(1).isoWeek(t)}function Ae(e,t){return De(e,t).format(o)}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).day()}function Ie(e,t){var r=e;return 0===Me(e)&&(r=fe(e)),s()(r,o).day(t).format(o)}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=s()(e,t).day();return 6===r||0===r}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return(0,n.kC)(s()(e,t).format("ddd."))}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=s()(e,o).unix(),i=60*t,n=Math.round(r/i)*i;return s().unix(n).utc().format(o)}function Le(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(s()(e,o).unix()+s()(t,o).unix())/2;return r?s().unix(i).utc().format(o):s().unix(i).format(o)}var He=e=>s()(e,o)<s()().startOf("day");function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"end";return s()().isBetween(s()(e[t],o),s()(e[r],o))}var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee(),t=s()(e,o).startOf("day").format(o),r=s()(e,o).endOf("day").format(o),[i,n]=K(t,r,!0);return{from:i,to:n}};function Ge(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;return s()(t,i).diff(s()(e,i),r)}var We=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return s().locale(t.locale),s()(e,r).format(v)};function Ue(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return s()(e,r).isSame(s()(t,r),"day")}function Ve(e){return s()(e,o).local().format(f)}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().add(-1,"day").format(o)}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).local().add(1,"day").format(o)}var Qe=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;return s()(e,i).isBetween(s()(t,i),s()(r,i),void 0,"[]")};function Ke(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return s()(e,r).isBefore(s()(t,r))}function Xe(e){return s()().utcOffset()<0?s().utc(e,o).startOf("day").format(o):s().utc(e,o).startOf("day").add(1,"day").format(o)}function Je(e){return s().tz.zone(e)?s().tz(e).format("ZZ"):e.replace(":","")}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).tz(e).format("ZZ")}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).startOf("week").format("DD.MM")}function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).endOf("week").format("DD.MM")}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).startOf("week").format(f)}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).startOf("month")}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return s()(e,t).endOf("month")}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return s().utc(e,t).format(t)}function at(e,t){return s()().month(e,t).format(t)}function ot(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return s()(e,r).isAfter(s()(t,r))}function lt(e){var t=Re(te(e.from),e.mid?12:0);return{from:t,to:Re(te(t),24)}}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2?arguments[2]:void 0;return s()(e,t).format(r)}function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return s()().startOf("month").format(e)}function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return s()().endOf("month").format(e)}var pt=e=>s()(e,o)<s()(ee(),o),ht=function(e,t){var r=[];return function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,a=arguments.length>3?arguments[3]:void 0,l=s()(t.startOf("day").format(o),o),c=s()(i.startOf("day").format(o),o);if(!l.isAfter(c)&&t&&i&&a){if(a.isSame(c))return r.push(a.format(f)),r;r.push(a.format(f));var d=s()(a).add(1,"days").format(o);return e(l,c,n,s()(d,o))}}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,arguments.length>3?arguments[3]:void 0)},ft=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,n=s()(t,i);return s()(e,r).set({hour:n.hours(),minute:n.minutes()}).format(o)}},35105:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(67294),s=r(85893);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return t=>{var r;return r=class extends i.Component{componentDidMount(){e(this)}render(){return(0,s.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props))}},a(r,"displayName","doOnComponentMount(".concat(t.name||t.displayName||"",")")),r}}},84138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(67294),s=r(85893);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return t=>{var r;return r=class extends i.Component{UNSAFE_componentWillReceiveProps(t){e(this,t)}render(){return(0,s.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props))}},a(r,"displayName","doOnComponentReceiveProps(".concat(t.name||t.displayName||"",")")),r}}},41008:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(67294),s=r(85893);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return t=>{var r;return r=class extends i.Component{componentWillUnmount(){e(this)}render(){return(0,s.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props))}},a(r,"displayName","doOnComponentWillUnmount(".concat(t.name||t.displayName||"",")")),r}}},88599:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var i=r(44012),s=r(41524),n=r(35667),a=r(85893),o=e=>{s.T.error((0,a.jsx)(i.Z,{id:e.errorMessage}))};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){if("access_denied"===e.error)return s.T.error((0,a.jsx)(i.Z,{id:"Schedule.Error.NoRights",defaultMessage:[{type:0,value:"Нет прав"}]}));var{errors:r,serverError:l}=e;t&&s.T.error(t),(0,n.xb)(r)?l?o(l):s.T.error():[...new Set(r.map((e=>e.errorCode)))].forEach((e=>{switch(e){case"ACCESS_WORK_ACTIVITY":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.accessWorkActivity",defaultMessage:[{type:0,value:"Нет прав на редактирование активности"}]}));break;case"BAD_CHANGE_REQUEST":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.badChangeRequest",defaultMessage:[{type:0,value:"Запрос на изменение недействителен"}]}));break;case"CHILDREN_EXISTS":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.childrenExists",defaultMessage:[{type:0,value:"Есть дочерние элементы"}]}));break;case"DISCREPANCY_VALUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.discrepancyValue",defaultMessage:[{type:0,value:"Несоответствие значений"}]}));break;case"EXISTING_DEVICE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.existingDevice",defaultMessage:[{type:0,value:"Действующее устройство"}]}));break;case"FORECAST_COMPUTE_ERROR":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.forecastComputeError",defaultMessage:[{type:0,value:"Ошибка при вычислении прогноза"}]}));break;case"INACTIVE_SKILL":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.unActiveSkill",defaultMessage:[{type:0,value:"Навык неактивен"}]}));break;case"INTEGRATION_INVALID":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.integrationInvalid",defaultMessage:[{type:0,value:"Некорректная интеграция"}]}));break;case"INVALID_CREDENTIALS":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidCredentials",defaultMessage:[{type:0,value:"Недействительные учетные данные"}]}));break;case"INVALID_DATE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidDate",defaultMessage:[{type:0,value:"Недопустимая дата"}]}));break;case"INVALID_IMAGE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidImage",defaultMessage:[{type:0,value:"Некорректное изображение"}]}));break;case"INVALID_PASSWORD":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidPassword",defaultMessage:[{type:0,value:"Недействительный пароль"}]}));break;case"INVALID_SHIFT":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidShift",defaultMessage:[{type:0,value:"Некорректная смена"}]}));break;case"INVALID_SHIFT_PART":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidShiftPart",defaultMessage:[{type:0,value:"Некорректная часть смены"}]}));break;case"INVALID_STATE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidState",defaultMessage:[{type:0,value:"Некорректное состояние"}]}));break;case"INVALID_TOKEN":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidToken",defaultMessage:[{type:0,value:"Недействительный токен"}]}));break;case"INVALID_VALUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidValue",defaultMessage:[{type:0,value:"Недействительное значение"}]}));break;case"INVALID_FILE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.invalidFile",defaultMessage:[{type:0,value:"Неверный файл"}]}));break;case"MONOSKILL_NOT_FOUND":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.monoSkillNotFound",defaultMessage:[{type:0,value:"Мононавык не найден"}]}));break;case"MONOSKILL_PERIOD_INVALID_VALUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.monoSkillPeriodInvalidValue",defaultMessage:[{type:0,value:"Некорректное значение периода мононавыка"}]}));break;case"NO_PERMISSION_GROUP":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.noPermissionGroup",defaultMessage:[{type:0,value:"Нет доступа к группе"}]}));break;case"NO_PERMISSION_RESOURCE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.noPermissionResource",defaultMessage:[{type:0,value:"Нет доступа к ресурсу"}]}));break;case"NOT_ALLOWED_OPERATION":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.notAllowedOperation",defaultMessage:[{type:0,value:"Действие невозможно"}]}));break;case"NOT_FOUND_STATISTIC":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.notFoundStatistic",defaultMessage:[{type:0,value:"Статистика не найдена"}]}));break;case"NOT_FOUND_VALUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.notFoundValue",defaultMessage:[{type:0,value:"Значение не найдено"}]}));break;case"NOT_UNIQUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.notUnique",defaultMessage:[{type:0,value:"Не уникально"}]}));break;case"NULL_RESTRICTED":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.nullRestricted",defaultMessage:[{type:0,value:"Нулевое значение запрещено"}]}));break;case"NULL_VALUE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.nullValue",defaultMessage:[{type:0,value:"Нулевое значение"}]}));break;case"SCHEDULE_CONTROL_BLOCK":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.scheduleControlBlock",defaultMessage:[{type:0,value:"Изменение расписания заблокировано"}]}));break;case"SCHEDULE_GENERATE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.scheduleGenerate",defaultMessage:[{type:0,value:"Построение расписания"}]}));break;case"SCHEDULE_GENERATION_ALREADY_STARTED":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.scheduleGenerationAlreadyStarted",defaultMessage:[{type:0,value:"Построение расписания уже запущено"}]}));break;case"SCHEDULE_UPDATE_BLOCKED":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.scheduleUpdateBlocked",defaultMessage:[{type:0,value:"Изменение расписания блокировано глобальными настройками"}]}));break;case"SERVICE_DISABLED":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.serviceDisabled",defaultMessage:[{type:0,value:"Функция отключена"}]}));break;case"SWAP_RESPONSE_DECLINE":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.swapResponseDecline",defaultMessage:[{type:0,value:"Ответ по обмену отклонен"}]}));break;case"SWAP_SCHEDULE_ERROR":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.swapScheduleError",defaultMessage:[{type:0,value:"Ошибка при обмене смен"}]}));break;case"UNKNOWN_ERROR":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.unknownError",defaultMessage:[{type:0,value:"Неизвестная ошибка"}]}));break;case"UPDATE_NOT_ALLOWED_BY_OTHER_GROUP":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.updateNotAllowedByOtherGroup",defaultMessage:[{type:0,value:"Обновление невозможно другой группой"}]}));break;case"VALUE_EXISTS":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.valueExists",defaultMessage:[{type:0,value:"Значение существует"}]}));break;case"VALUE_RESTRICTED":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.valueRestricted",defaultMessage:[{type:0,value:"Значение запрещено"}]}));break;case"OFFICE_LIMIT":s.T.error((0,a.jsx)(i.Z,{id:"Notifications.officeLimitErrorMessage",defaultMessage:[{type:0,value:"Превышение максимального количества мест в офисе"}]}));break;case"NO_VARIANT_FOR_DISTRIBUTE_EVENT":s.T.error((0,a.jsx)(i.Z,{id:"ErrorCode.noVariantForDistributeEvent",defaultMessage:[{type:0,value:"Событие не создано. Измените условия для участников"}]}));break;default:s.T.error()}}))}}},82028:(e,t,r)=>{"use strict";r.d(t,{LP:()=>v,QA:()=>w,ZP:()=>C,pQ:()=>m,t9:()=>O});var i=r(30381),s=r.n(i),n=r(35701),a=r(64640),o=r(12718);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,i,s,n,a){try{var o=e[n](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(i,s){var n=e.apply(t,r);function a(e){u(n,i,s,a,o,"next",e)}function o(e){u(n,i,s,a,o,"throw",e)}a(void 0)}))}}var h,f=0,m=()=>{sessionStorage.iframeMode?sessionStorage.setItem((0,a.$i)(),""):document.cookie=(0,a.$i)()+"=deleted;path=/;expires="+new Date(0).toUTCString()},v=()=>sessionStorage.iframeMode?sessionStorage.getItem((0,a.$i)()):(e=>{var t=new RegExp(e+"=([^;]+)"),[,r]=document.cookie.match(t)||[];return r})((0,a.$i)()),y=()=>{f++,document.getElementById("loading-indicator")&&(document.getElementById("loading-indicator").style.display="block")},g=()=>{0!==f&&f--,0===f&&document.getElementById("loading-indicator")&&(document.getElementById("loading-indicator").style.display="none")};function b(){"/login"!==window.location.pathname&&(window.location.pathname="/login")}var j=(e,t)=>new Promise(((r,i)=>fetch(e,t).then((e=>{var t;if(e.ok)t=r(e);else{if(401===e.status)throw new Error;t=e.json().then((e=>i(e)))}return t})).catch((s=>{if("oauth/token"!==e){var l=n.Z.get(o.ZP.REFRESH_TOKEN_KEY),c="client_id=wfm&grant_type=refresh_token&refresh_token=".concat(l),d=window.$oswfm&&window.$oswfm.backend||a.ZP.backend;return h?h.then((()=>(t.headers.Authorization="Bearer "+v(),fetch(e,t).then((e=>e.ok?r(e):e.json().then((e=>i(e))))).catch((e=>i(e)))))).catch((e=>(console.error("refreshTokenRequest error = ",e),i(e)))):v()?h=fetch("".concat(d,"oauth/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c}).then(function(){var l=p((function*(l){var c,d=yield l.json();return d.error?(m(),n.Z.clear(),b(),h=void 0,i(s)):(c=d.response.atoken,sessionStorage.iframeMode?sessionStorage.setItem((0,a.$i)(),c):document.cookie=(0,a.$i)()+"="+c+";path=/",n.Z.set(o.ZP.REFRESH_TOKEN_KEY,d.response.rtoken),t.headers.Authorization="Bearer "+d.response.atoken,fetch(e,t).then((e=>(h=void 0,e.ok?r(e):e.json().then((e=>i(e)))))).catch((e=>i(e))))}));return function(e){return l.apply(this,arguments)}}()).catch((e=>(console.error("refreshTokenRequestError = ",e),h=void 0,i(e)))):i("Unauthorized."),h}return b(),i("Failed to fetch "+e+"!!!")}))));function x(e,t){return S.apply(this,arguments)}function S(){return S=p((function*(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=window.$oswfm&&window.$oswfm.backend||a.ZP.backend,n=v(),o=r instanceof FormData;o&&r.append("token",n),y();var l=r;"object"!=typeof r||o||(l=JSON.stringify(r));var d,u=c(c({},i),{},{method:e,headers:o?c(c({},i.headers),{},{Authorization:"Bearer "+n}):c(c({},i.headers),{},{Authorization:"Bearer "+n,"Content-Type":i.headers&&i.headers["Content-Type"]?i.headers["Content-Type"]:"application/json"},o?r.getHeaders():{})},"GET"!==e?{body:l}:{});try{d=yield j("".concat(s).concat(t),u).then((e=>(g(),e))).catch((e=>{throw g(),e}))}catch(e){return console.error("fetchBackend error: ",e),e}return d})),S.apply(this,arguments)}function O(e){return P.apply(this,arguments)}function P(){return P=p((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"POST",n=arguments.length>5?arguments[5]:void 0;try{var a=yield x(s,e,t,n);if(a&&a.ok){var o=yield a.json();if(o.success)"function"==typeof r&&r(o);else if(!1===o.success){"function"==typeof i&&i(o);var l=new Error(o.error.errorMessage);throw l.serverError=o.error,l}return o}var c=new Error;throw c.data=a,c}catch(e){if(console.error("callApi error = ",e.data,e),"function"==typeof i&&i(e),e.data)throw e.data;throw e}})),P.apply(this,arguments)}var w=(e,t)=>e+t<=s()().unix();const C=x},69301:(e,t,r)=>{"use strict";function i(e,t){var r=window.URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,i.style.display="none",document.body.append(i),i.click()}r.d(t,{s:()=>i})},15197:(e,t,r)=>{"use strict";r.d(t,{E7:()=>m,Gl:()=>n,HQ:()=>h,K2:()=>d,Rb:()=>c,WX:()=>j,cT:()=>v,dV:()=>g,hX:()=>a,hc:()=>f,uG:()=>x,y:()=>p,zW:()=>u});var i=r(35667),s=r(65227),n={EQUALS:"EQUALS",INCLUDES:"INCLUDES"};function a(e,t,r){return e.filter((e=>{var i=!0,s=Object.keys(t);for(var a in s){if(!i)break;if(s.hasOwnProperty(a)){var o=!1,l=t[s[a]];for(var c in l||(o=!0),l)if(l.hasOwnProperty(c)&&!o){var d=l[c],u=r?r(e,d.column):d.column.getValue(e),p=d[n.EQUALS];p&&(o=o||u===p)}i=o}}return i}))}var o=(e,t)=>!Array.isArray(t)&&e.EQUALS===String(t),l=(e,t)=>!Array.isArray(t)||t.includes(e.INCLUDES);function c(e,t){return e.filter((e=>!!(0,i.xb)(t)||Object.keys(t).every((r=>{var s=t[r];return!!(0,i.xb)(s)||(null==s?void 0:s.some((t=>{var r=t.column.getValue(e);return t.INCLUDES?l(t,r):o(t,String(r))})))}))))}function d(e,t){return e.filter((e=>!!(0,i.xb)(t)||Object.keys(t).every((r=>{var s=t[r];return!!(0,i.xb)(s)||(null==s?void 0:s.some((t=>{var r=e[t.column.key];return t.EQUALS?o(t,String(r)):l(t,r)})))}))))}function u(e){return e.reduce(((e,t)=>(e[t]=!0,e)),{})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EQUALS;return e?Object.keys(e).map((r=>e[r][t])):[]}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return e[r]>t[r]?1:e[r]<t[r]?-1:0}var f=e=>(t,r)=>t[e]>r[e]?1:t[e]<r[e]?-1:0;function m(e){return!!(0,i.xb)(e)||Object.values(e).every((e=>(0,i.xb)(e)))}function v(e,t){return(0,i.xb)(e)?[]:t?e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))):e}var y=e=>(t,r)=>{var i=e.column.getValue(t),s=e.column.getValue(r);return i<s?-1*e.direction:i>s?e.direction:0};function g(e,t){if((0,i.xb)(t))return e;var r=[...e];return t.forEach((e=>{r.sort(y(e))})),r}var b=["schemePeriods","skills","reserveSkills","tasks"],j=e=>b.includes(e),x=e=>(0,i.xb)(e)?[]:e.filter((e=>{return r=(null==(t=e)?void 0:t.endDate)||(null==t?void 0:t.end),!(0,s.mw)((0,s.YD)(r,1));var t,r}))},59893:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var i=(e,t)=>t},30053:(e,t,r)=>{"use strict";r.d(t,{CE:()=>u,P7:()=>l,eL:()=>c,pA:()=>o,wA:()=>d});var i=r(22350);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return e.map((e=>{var t=(0,i.Vj)(),r=n({},e);return r.id=t,r}))}function l(e,t){return e.map((e=>{var r=n({},e);return r.user={userId:t,isShow:!1,data:[]},r.isAddition=!1,r.isTrash=!0,r.checked=!1,r}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",r={};return e.forEach((e=>{r[e[t]]=e})),r}function d(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}function u(e,t){var r={};return Object.keys(e).forEach((i=>{t.includes(i)||(r[i]=e[i])})),r}},28934:(e,t,r)=>{"use strict";r.d(t,{M6:()=>a,nJ:()=>s});var i=r(35667),s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id||null},n=(e,t)=>{var{id:r,children:i}=t;return r===e||i.some((t=>n(e,t)))},a=(e,t)=>!(0,i.xb)(e)&&(!!(0,i.xb)(t)||n(e,t))},24862:(e,t,r)=>{"use strict";r.d(t,{$R:()=>o,Bn:()=>a,ZP:()=>c,n_:()=>l});var i=r(30381),s=r.n(i),n=r(65227),a="startUnixTime",o="endUnixTime";function l(e){e[a]=s()(e.start,n._E).unix(),e[o]=s()(e.end,n._E).unix()}const c=l},63926:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var i=r(30381),s=r.n(i),n=r(22350),a=r(24862);function o(e){var t=s()().format("YYYY-MM-DD"),r={startTime:"00:00",endTime:"24:00",date:e.schedule[0]?e.schedule[0].start.substring(0,10):e.logs&&e.logs.length?e.logs[0].start.substring(0,10):t,activities:e.schedule};if(e.logs||(e.logs=[]),e.punctuality&&e.punctuality.violations){if(e.punctuality.violations=e.punctuality.violations.reduce(((e,t)=>{"00:00:00"===t.end&&(t.end="24:00:00"),t[a.Bn]=(0,n.xs)(t.start),t[a.$R]=(0,n.xs)(t.end);var r=e[e.length-1];return r&&r.telephonyStatusName===t.telephonyStatusName&&r.workActivityName===t.workActivityName&&r.end===t.start?(t[a.Bn]=r[a.Bn],t.start=r.start,e[e.length-1]=t):e.push(t),e}),[]),r&&r.date>=t){var i=s()().unix();e.logs=e.logs.filter((e=>s()(e.start,"YYYY-MM-DD HH:mm:ss.000").unix()<i)),e.punctuality.violations=e.punctuality.violations.filter((e=>s()(r.date+" "+e.start,"YYYY-MM-DD HH:mm:ss").unix()<i)),e.punctuality.violations.forEach((e=>{var t=s()(r.date+" "+e.start,"YYYY-MM-DD HH:mm:ss").unix(),o=s()(r.date+" "+e.end,"YYYY-MM-DD HH:mm:ss").unix();(o>i||t>o)&&(e.end=s()().format("HH:mm:ss"),e[a.$R]=(0,n.xs)(e.end))}))}}else e.punctuality||(e.punctuality={}),e.punctuality.violations||(e.punctuality.violations=[])}},58482:(e,t,r)=>{"use strict";r.d(t,{$V:()=>c,_7:()=>d,aQ:()=>u,dR:()=>o,vB:()=>l});var i=r(20524);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e=>({status:i.Z.idle,data:e,error:null}),l=e=>n(n({},e),{},{status:i.Z.loading}),c=(e,t)=>n(n({},e),{},{data:t,status:i.Z.succeeded}),d=e=>n(n({},e),{},{data:n(n({},null==e?void 0:e.data),{},{dates:[]}),status:i.Z.succeeded}),u=(e,t)=>n(n({},e),{},{status:i.Z.failed,error:t})},68258:(e,t,r)=>{"use strict";r.d(t,{Z6:()=>f,iy:()=>p,q9:()=>d,v7:()=>m,yf:()=>u});var i=r(30381),s=r.n(i),n=r(35667),a=r(65227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=e=>t=>{var r={};return e.forEach((e=>{(0,n.xb)(t[e])&&(r[e]="Required")})),r},u=e=>t=>{var r={};return e.forEach((e=>{t[e]%5!=0&&(r[e]="Must be multiple 5")})),r},p=e=>t=>{var r={};return e.forEach((e=>{t[e]<5&&(r[e]="Must be more than 5")})),r},h={start:"startDate",end:"endDate"},f=function(){var{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return r=>{if((0,n.xb)(r[e]))return{[e]:"Required"};if((0,n.xb)(r[t]))return{[t]:"Required"};var i={},o=s()(r[e],a._E),l=s()(r[t],a._E),c=o.startOf("day"),d=l.startOf("day");return o!==c&&(i[e]="Period start must be start of day"),l!==d&&(i[t]="Period end must be start of day"),o>=l&&(i[t]="Period end must be more than start"),i}},m=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(e,r)=>{var i={};return t.forEach((t=>{i=l(l({},i),t(e,r))})),i}}},48994:(e,t,r)=>{"use strict";function i(e){return e[0].toUpperCase()+e.substring(1)}function s(e){return"true"===e}function n(e,t){var r=[2,0,1,1,1,2];return e%100>4&&e%100<20?t[2]:e%10<5?t[r[e%10]]:t[r[5]]}r.d(t,{Ak:()=>n,kC:()=>i,z3:()=>s})},52760:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u});var i=r(67294),s=r(45697),n=r.n(s),a=r(54013),o=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t={},r={};return s=>{var l;return d(l=class extends i.Component{constructor(e,t){super(e,t),this.store=t.store,this.theme=null,this.sheet=null}UNSAFE_componentWillMount(){this.updateTheme({})}componentDidMount(){this.trySubscribe()}componentWillUnmount(){this.tryUnsubscribe()}handleChange(){this.unsubscribe&&this.updateTheme({})}trySubscribe(){this.unsubscribe||this.handleChange()}tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}updateTheme(i){var s;this.theme&&this.theme.name===i.name||(this.theme&&(s=this.theme,r[s.name]--,0===r[s.name]&&function(e){t[e.name].detach()}(s)),this.theme=i,this.sheet=function(i){return i.name in r||(r[i.name]=0),0===r[i.name]&&function(r){t[r.name]||(t[r.name]=a.ZP.createStyleSheet(e(r))),t[r.name].attach()}(i),r[i.name]++,t[i.name]}(this.theme),this.forceUpdate())}render(){return(0,o.jsx)(s,c(c({},this.props),{},{theme:this.sheet.classes}))}},"displayName","Theme(".concat(s.displayName||s.name||"",")")),d(l,"contextTypes",{store:n().object.isRequired}),d(l,"wrapped",s),l}}},5617:(e,t,r)=>{"use strict";r.d(t,{BO:()=>S,CA:()=>c,Fd:()=>x,JM:()=>g,OA:()=>O,Pg:()=>C,X1:()=>b,cm:()=>P,i7:()=>j,lg:()=>w,o5:()=>d,sb:()=>v,uT:()=>y,y1:()=>m});var i=r(30381),s=r.n(i),n=r(65227);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c="1970-01-01 00:00:00 +0000",d="2070-01-01 00:00:00 +0000",u="+0000",p=e=>e!==c&&(0,n.Ze)(e)!==u&&(0,n.X5)(e)===n.zU,h=e=>e!==d&&(0,n.Ze)(e)!==u&&(0,n.X5)(e)===n.yg,f=e=>e===d,m=e=>f(e)?e:(0,n.Om)(e),v=e=>f(e)?e:(0,n.JM)(e);function y(e){p(e.startDate)&&(e.startDate=(0,n.Qv)(e.startDate)),h(e.endDate)&&(e.endDate=(0,n.Qv)(e.endDate))}function g(e){p(e.start)&&(e.start=(0,n.Qv)(e.start)),h(e.end)&&(e.end=(0,n.Qv)(e.end))}function b(e){return p(e)?(0,n.Qv)(e):e}function j(e){return h(e)?(0,n.Qv)(e):e}function x(e){return p(e)?(0,n.Qv)(e):e}function S(e){return h(e)?(0,n.Qv)(e):e}function O(e){return e!==c?s()(e,n._E).local().startOf("day").format(n._E):e}function P(e){return e!==d?s()(e,n._E).local().format(n._E):e}function w(e){if(p(e.hiringDate)){var t=(0,n.Qv)(e.hiringDate);return o(o({},e),{},{hiringDate:t})}if(h(e.hiringDate)){var r=(0,n.Qv)(e.hiringDate);return o(o({},e),{},{hiringDate:r})}return e}function C(e){if(p(e.firingDate)){var t=(0,n.Qv)(e.firingDate);return o(o({},e),{},{firingDate:t})}if(h(e.firingDate)){var r=(0,n.Qv)(e.firingDate);return o(o({},e),{},{firingDate:r})}return e}},38646:(e,t,r)=>{"use strict";r.d(t,{CT:()=>v,JL:()=>g,Z5:()=>o,_u:()=>l,aF:()=>d,aM:()=>m,bU:()=>h,cf:()=>f,dU:()=>u,dw:()=>c,kf:()=>p,oj:()=>b});var i=r(35667);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(22350);var o=e=>{var{value:t,children:r=[]}=e;return(0,i.xb)(t)?[]:r.reduce(((e,t)=>[...e,...o(t)]),[t])},l=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t&&t[r]?[...t[r],...t[r].reduce(((s,n)=>{var a=e(n,r,i);return i&&i(t,n,a),s.concat(a)}),[])]:[]};function c(e){return[e,...l(e)]}function d(e,t,r){if(e.id!==t)e.children&&e.children.forEach((e=>d(e,t,r)));else{e.children||(e.children=[]);var i=e.children.find((e=>e.id===r.id));i?e.children[e.children.indexOf(i)]=r:e.children.push(r)}}function u(e,t){var r=e.children?e.children.indexOf(e.children.find((e=>e.id===t.id))):-1;r>=0?e.children=[...e.children.slice(0,r),t,...e.children.slice(r+1)]:e.children&&e.children.forEach((e=>u(e,t)))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[e.id]=e,e.children&&e.children.forEach((r=>{p(r,t),r.groupId=e.id})),t}function h(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"groupId",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{var r=i[e[t]];r?r.push(e):i[e[t]]=[e]}));var s=c(e);return s.push(e),s.forEach((t=>{t.children&&i[t.id]&&!r?t.children=[...t.children,...i[t.id]]:t.children=i[t.id]||(r&&t!==e?[]:t.children)})),e}var f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{valueKey:s="value",labelKey:a="label",childrenKey:o="children",data:l=[]}=t;return(0,i.xb)(l)||l.forEach((l=>{var c,d=l[o];if(!(0,i.xb)(d)){var u=n(n({},t),{},{data:d});c=e(u)}var p={value:l[s],label:l[a],children:c};r.push(p)})),r},m=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{valueKey:s="value",childrenKey:a="children",data:o=[]}=t,l="label";return(0,i.xb)(o)||o.forEach((o=>{var c,d=o[a];if(l=o.isGroup?"groupName":"name",!(0,i.xb)(d)){var u=n(n({},t),{},{data:d});c=e(u)}var p={value:o[s],label:o[l],children:c};r.push(p)})),r},v=(e,t)=>{var r=[],s=t=>{var{value:n,children:a}=t;return n===e||!(0,i.xb)(a)&&a.some((e=>{var t=s(e);return t&&r.push(n),t}))};return s(t),r.reverse()},y=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=(0,i.xb)(t.value)?"id":"value";if(r.push(t[s]),!(0,i.xb)(t.children))return t.children.map((t=>e(t,r))),r},g=function e(t,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,i.xb)(t.value)?"id":"value";return t[n]===r?t:(0,i.xb)(t.children)?void 0:(t.children.forEach((t=>{t[n]!==r?e(t,r,s):s=Object.assign(s,t)})),s)},b=(e,t)=>{var r=g(t,e);return[...new Set(y(r))]}},60119:(e,t,r)=>{"use strict";r.d(t,{EE:()=>m,GP:()=>g,JC:()=>v,Pp:()=>p,TM:()=>y,oO:()=>f,oo:()=>h});var i=r(30381),s=r.n(i),n=r(12718),a=r(49920),o=r(35667),l=r(65227);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){if((0,o.xb)(e))return"";var{firstName:t,lastName:r,middleName:i}=e,s=t||"",n=i||"";return"".concat(r," ").concat(s," ").concat(n).trim()}function h(e){if((0,o.xb)(e))return"";var{firstName:t,lastName:r,middleName:i}=e,s=r,n=t?t[0]:"",a=i?i[0]:"",l=s;return n&&(l="".concat(l," ").concat(n,".")),a&&(l="".concat(l," ").concat(a,".")),l}function f(e){var{firingDate:t}=e;if(!t)return!1;var r=s()();return s()(t,l._E).endOf("day")<r}function m(e){return!(0,o.xb)(e)&&(e.role===n.ZP.ROLE.ADMINISTRATOR||e.role===n.ZP.ROLE.MANAGER)}function v(e){return d(d({},e),{},{password:e.password?(0,a.H)(e.password):null})}var y=e=>e.role===n.ZP.ROLE.MANAGER||e.role===n.ZP.ROLE.ADMINISTRATOR,g=e=>e.role===n.ZP.ROLE.ADMINISTRATOR},22350:(e,t,r)=>{"use strict";r.d(t,{B4:()=>w,BC:()=>S,Fv:()=>O,GH:()=>C,He:()=>p,Iq:()=>d,Lb:()=>o,O$:()=>y,Vj:()=>c,Wz:()=>x,_T:()=>l,_u:()=>n,hM:()=>j,pK:()=>v,r7:()=>b,rH:()=>P,uu:()=>f,vA:()=>m,xY:()=>h,xn:()=>a,xs:()=>u});var i=r(12718),s=r(84929),n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t&&t[r]?[...t[r],...t[r].reduce(((s,n)=>(i&&i(t,n),s.concat(e(n,r,i)))),[])]:[]};function a(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,r)=>(t[r[e]]=r,t)),{})}function o(e){return Object.keys(e).map((t=>e[t]))}var l=e=>{if(!e)return!1;var[t,r,i]=e.slice(1).match(/.{2}/g).map((e=>parseInt(e,16)));return.2126*t+.7152*r+.0722*i<170};function c(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function d(e){return e>9?e:"0"+e}function u(e){var t=e.split(":");return 2===t.length?60*Number(t[0])*60+60*Number(t[1]):3===t.length?60*Number(t[0])*60+60*Number(t[1])+Number(t[2]):void 0}function p(e){var t=Math.floor(e/3600),r=e%3600,i=Math.floor(r/60);return d(t)+":"+d(i)}function h(e){var t;for(t="number"==typeof e?e:u(e);t-86400>=0;)t-=86400;return p(t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,{formatMessage:s}=i,n=s({id:"Common.ShortDay",defaultMessage:[{type:0,value:"дн."}]}),a=s({id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),o=s({id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),l=s({id:"Common.ShortSec",defaultMessage:[{type:0,value:"сек."}]}),c=e/86400|0,d=r?e%86400/3600|0:e/3600|0,u=e%86400%3600/60|0;t&&(u=5*Math.round(u/5)),60===u&&(u=0,d++);var p=[];return r&&c&&p.push(c+" ".concat(n)),d&&p.push(d+" ".concat(a)),u&&p.push(u+" ".concat(o)),t||d||c||p.push(e%60+" ".concat(l)),p.join(" ")}function m(e){var{seconds:t="",fiveMinutesRounding:r=!1,useDays:i=!1,formatMessage:s}=e,n=s({id:"Common.ShortDay",defaultMessage:[{type:0,value:"дн."}]}),a=s({id:"Common.ShortHour",defaultMessage:[{type:0,value:"ч."}]}),o=s({id:"Common.ShortMin",defaultMessage:[{type:0,value:"мин."}]}),l=s({id:"Common.ShortSec",defaultMessage:[{type:0,value:"сек."}]}),c=t/86400|0,d=i?t%86400/3600|0:t/3600|0,u=t%86400%3600/60|0;r&&(u=5*Math.round(u/5)),60===u&&(u=0,d++);var p=[];return i&&c&&p.push(c+" ".concat(n)),d&&p.push(d+" ".concat(a)),u&&p.push(u+" ".concat(o)),r||d||c||p.push(t%60+" ".concat(l)),p.join(" ")}function v(e){return function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(e.sort().join())}function y(e,t,r){if(e){var i=[];return e.forEach((e=>{var s=function(e){return e.match(/Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec/g)}(e);s&&s.forEach((i=>{var s=new RegExp(i,"g");e=e.replace(s,t.formatMessage(r[i]))})),i.push(e)})),i}}function g(e){for(var t,r,i=[],s=0,n=-1,a=0;t=(r=e.charAt(s++)).charCodeAt(0);){var o=46===t||t>=48&&t<=57;o!==a&&(i[++n]="",a=o),i[n]+=r}return i}function b(e,t){for(var r=g(e.name.toLowerCase()),i=g(t.name.toLowerCase()),s=0;r[s]&&i[s];s++)if(r[s]!==i[s]){var n=Number(r[s]),a=Number(i[s]);return n===r[s]&&a===i[s]?n-a:r[s]>i[s]?1:-1}return r.length-i.length}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name";return(t,r)=>{var i=String(t[e]).trim().toLowerCase(),s=String(r[e]).trim().toLowerCase();return i<s?-1:i>s?1:0}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name";return(t,r)=>{for(var i=g(t[e].trim().toLowerCase()),s=g(r[e].trim().toLowerCase()),n=0;i[n]&&s[n];n++)if(i[n]!==s[n]){var a=Number(i[n]),o=Number(s[n]);return a===i[n]&&o===s[n]?a-o:i[n]<s[n]?1:-1}return i.length-s.length}},S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.ZP.READ;if(!e)return!1;if(e.role===i.ZP.ROLE.ADMINISTRATOR)return!0;switch(e&&e.rights&&e.rights[t]){case i.ZP.CRUD:case r:return!0;default:return!1}},O=(e,t,r)=>(e-t)/(r-t),P=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.name=t[s.jp],r[t.id]=t,t.children&&t.children.forEach((i=>{e(i,r),i.groupId=t.id,i.name=i[s.jp]})),r};function w(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.map((e=>function(e){return function(e,t){return Number(e.toFixed(t))}(100*e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:2)}(e,t)))}},5857:(e,t,r)=>{"use strict";r.d(t,{Vb:()=>d,ZP:()=>c,z2:()=>o});var i=r(50049),s="; ",n=" ",a=(0,i.vU)({fieldIsRequiredError:{id:"Form.fieldIsRequiredError",defaultMessage:[{type:0,value:"Поле обязательно для заполнения"}]},valueShouldBeMoreThan:{id:"Form.valueShouldBeMoreThan",defaultMessage:[{type:0,value:"Ошибка валидации!"}]},valueShouldBeLessThan:{id:"Form.valueShouldBeLessThan",defaultMessage:[{type:0,value:"Ошибка валидации!"}]},valueShouldBeMoreThanOrEqualTo:{id:"Form.valueShouldBeMoreThanOrEqualTo",defaultMessage:[{type:0,value:"Ошибка валидации!"}]},valueShouldBeLessThanOrEqualTo:{id:"Form.valueShouldBeLessThanOrEqualTo",defaultMessage:[{type:0,value:"Ошибка валидации!"}]},valueIsNotValidJSON:{id:"Form.valueIsNotValidJSON",defaultMessage:[{type:0,value:"Ошибка валидации!"}]}}),o={json:(e,t)=>{var r=t[e];try{return JSON.parse(r),!1}catch(e){return"valueIsNotValidJSON"}},required:(e,t)=>{var r=t[e];switch(typeof r){case"string":if(r&&void 0!==r.length&&0!==r.length)return!1;break;case"object":if(null!=r)return!1;break;case"number":if(void 0!==r&&!Number.isNaN(r))return!1;break;case"boolean":if(null!=r&&""!==r)return!1}return"fieldIsRequiredError"},moreThan:(e,t,r)=>!("number"==typeof r&&t[e]>r)&&"valueShouldBeMoreThan",moreThanOrEqualTo:(e,t,r)=>!("number"==typeof r&&t[e]>=r)&&"valueShouldBeMoreThanOrEqualTo",lessThan:(e,t,r)=>!("number"==typeof r&&t[e]<r)&&"valueShouldBeLessThan",lessThanOrEqualTo:(e,t,r)=>!("number"==typeof r&&t[e]<=r)&&"valueShouldBeLessThanOrEqualTo"};function l(e,t,r,i,s,n){var o=t(e,r,i);if(o)return n.formatMessage(a[o],{fieldName:e,context:i})}function c(e){var{data:t,fields:r,formNameSpace:i="Form",intl:a}=e,c={errors:{},success:!0};return Object.keys(r).forEach((e=>{if(r.hasOwnProperty(e))if("object"==typeof r[e])Object.keys(r[e]).forEach((i=>{var n=r[e][i],d="function"==typeof i?i:o[i];if(!d)return console.warn("Missing validator with name ".concat(i,".")),!1;var u=l(e,d,t,n,0,a);u&&(c.errors[e]=c.errors[e]?c.errors[e]+s+u:u)}));else if("function"==typeof r[e]){var i=l(e,r[e],t,!0,0,a);i&&(c.errors[e]=c.errors[e]?c.errors[e]+s+i:i)}else r[e].split(n).forEach((r=>{var i=o[r];if(!i)return console.warn("Missing validator with name ".concat(r,".")),!1;var n=l(e,i,t,!0,0,a);n&&(c.errors[e]=c.errors[e]?c.errors[e]+s+n:n)}))})),c.success=0===Object.keys(c.errors).length,c}function d(e,t){return t?5*Math.round(e/5):e}},50362:(e,t,r)=>{"use strict";r.d(t,{JY:()=>d,SA:()=>m,Tq:()=>h,cC:()=>p,kV:()=>f,nV:()=>u});var i=r(16313),s=r.n(i),n=r(30381),a=r.n(n),o=r(35667),l=r(65227),c=r(60119);function d(e){var t=e.startDate||e.start,r=e.endDate||e.end;return a()().isBetween(a()(t,l._E),a()(r,l._E),void 0,"[]")}function u(e){var t=e.endDate||e.end;return!(0,l.mw)(t)}var p=e=>{var t=s()(e);return["groupPeriod","positionPeriod","zonePeriod","namePeriod","officePeriod","schemePeriod","calendarPeriod"].forEach((e=>{delete t[e]})),t};function h(e,t){return(0,o.xb)(e)?null:e[t]}var f=(e,t)=>{var r=(0,c.Pp)(e.namePeriod).toLocaleLowerCase(),i=(0,c.Pp)(t.namePeriod).toLocaleLowerCase();return r<i?-1:r>i?1:0},m=(e,t)=>{var r=a()(t,l._E),i=a()(e.start,l._E),s=a()(e.end,l._E);return r.isSame(i)||r.isBetween(i,s)}},65108:(e,t,r)=>{"use strict";r.r(t)},88320:(e,t,r)=>{"use strict";r.r(t)},96501:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"vy6Fo1rmXtOT0oC-Kxrcqg=="}},20995:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={subtitle:"ZCYTk-eDAJL+pM9XrFZ9RQ==",subtitleContainer:"TOysVHIHKKZNFiS-DXsBLQ==",divider:"-Q+scL4DFxiCWOisJnPVbw==",bodyContainer:"-0oVsiXDdgvyF8laWGkU4g==",contentWrap:"SVkMRaYhVyJc48UQ+ffT4A==",main:"jthZhGftUwIut-1ofk+9zA==",aside:"_0d40CICG7dsNpJVq5aZ4Mw==",asideWrap:"sEMnE6oX4FQnPFG5xFQ12w==",asideTitle:"WCmssisdRauyiKX36PUWVg==",iconCopy:"PLlZ8Ekp-invEfG7IIHP2A=="}},25980:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={historyItem:"WTGwAxwrwc2oSG+10+w25g==",splitter:"r7OA+RJIoHMJYi9ndjBVaQ==",tableStyle:"PIngcI1bv-uV2hXF-0bbeA==",historyTable:"tZNqVJUj9udE+sncqgNheg==",remove:"WOpMOH9N3IX0hxWCt9-DOQ==",dateContainer:"srAjYzj8vCVeiPQLXn3Yhg==",willBeChanged:"WcWfOBsDuYskZ2EGQGuChA==",nextDate:"_30M6K-NNKob+5gI6kkqLVQ==",newItem:"PnIE9GeUedsb7mQp61kuGg=="}},57605:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={radioBtn:"uTL6yUUm3L259a1R6UNxpw==",active:"uGxxaeL52FRFAXVkP7paMA==",disable:"z4HR88cyA24pjz8ZWq2DEg==",disableLeftMargin:"WNtaRqRQC+BDV2H8a-4ovA==",radioBtnContainer:"_9Klmij1VJwzG49Qgm7URJg==",hintTextInRadio:"eOIZcOK6Fr02R2Vy4+aYpg=="}},23011:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={label:"AB3B8f3WG-diwXEYlHj0Yg==",input:"_9W8TTypnkAjEDtq-WlT2mw==",inputClassName:"ifKdNRjmy1H4nBMFSHy-WA=="}},49078:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={searchField:"KfNXmPZvOctg+xN+di3ySA==",saveFilterBtn:"Mdsmr7t6wLwsYE9HBTLH1Q==",clear:"ZVVzusZqj4fpOrcOgKgn+A==",checkbox:"-RLezNgE0jQTynrYo7XMOQ=="}},57615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={container:"ebwfmYOV1UJ22A7WupuXuA==",header:"y4l5SvxaOVO-YQWkBRAU3A==",body:"eEcJdx1B3RFJft-murqxnw==",leftTopTable:"fGv2sbMoMNQpVWiEfVA4jg==",rightTopTable:"_4+-tRDtlo4ydZFbmt39Vrg==",rightBottomTableWrap:"_6MRLRZZnA7BMzLX5XuNwBw==",cell:"AOhfH4gG9NI94jtvFyTzRw==",oddCell:"s3MIfN6mTAE227oqalMHRg==",evenCell:"sihULX1tudrxDotpj5KYuA=="}},64483:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={header:"FkNgsntQBEnbhmLcuagerw==",searchField:"MLl-E70rmGrSd9Hu5c356w==",saveFilterBtn:"X5LULBrnUxuEVgoTD+HNqg==",enableHoveredRowShadows:"ZUkLik7zC7OnilG-22PW6Q==",leftSideBottom:"_5Vb3k2KeVICNjlYp4PnDHQ==",leftSideTop:"P6fkOZ9dATwzy85Qhb34CQ==",checkboxFilter:"Xp8d8Ceur5aOOBIgywVVBA==",scrollHiddenX:"dfkw+-u53Rh4tm7H5Z-fZw=="}},40845:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={checkboxLabel:"i6nz1fjRfElR4ruK6-zNvQ==",simpleField:"LZz5Vgxg46sTj8++-t8lcw==",activityNameStyle:"n+7qcJiPwHk-3y8DzSmm6Q==",trashIconStyle:"I1ZEyOE+NWAkCDoDOPqLBQ=="}},79439:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i={root:"QlncXQmADIFkW5mz2rfBtQ==",headerControlPanelContainer:"vUA26tjpXFKSncXzyjUDAQ==",tableWrap:"H4z+KzeWqcUxhDZQVYl-SA==",checkboxCell:"pDWWC4jYU5d2VAWZDnFnUg==",fullNameContainer:"EF2Sb7MYCegyonWTOc5+PQ==",fullNameCell:"vj+g0N4UmB-QEC-YP5s1lw==",cell:"bvxVYMzgwJLql7OSmSxFxw==",simpleField:"a69zmLXqj2wBOTazD9G6aQ==",avatarCell:"_7Ojb49ZUyBhuY3G8zZ3AsA==",address:"cd6C0VMTRp7JXhJ1K9h+eQ==",arrayCellStyle:"ZICC0+XenbJ5Lce2KIokAw==",arrayCellContainer:"q5RIttQALrp9LuUeegTWMA==",fullNameColumnHeader:"KtIQJkWoWlBV6UgM8vPgMA==",cellValueStyle:"ONHlj3vbDEc+cIctLiXd8g==",reinstateUser:"_4-MAee6Eim4CjP0pVgl-dw==",notFiredUser:"_7Xlk4cnNTYGaX3tMnBO7CA==",showFiredEmployeesEnabled:"yUVlue7fggyJ8MaT4YNLeQ=="}},60769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={table:"Yp4mhQpqpW4fNjeSYFbOCA==",item:"I0azqCCOncFO6KFtLcuySg==",addFormContainer:"B38Ae6twjVOvFfv7O8ebjQ==",addFormWrapper:"H4NFUZoTT2m8SL5jQDU+bQ==",inputStyle:"rPXBlhz6vEw5YJkDIPo8tg==",selectorStyle:"_6ccaO1SQ6MKjhpWvUSrGvQ==",textInput:"_43Aowl7lTM-wda0FO4zCZA==",addBtn:"roSI41RSSQEaDsPPII1vxA==",commentContainer:"_9vbnk0kqBhj+zQuqyZPLZw==",checkbox:"w76ArTI9M6BHCT0hkocfzQ==",icon:"C0t2-IZOkjAPW9kS85Ny+g==",yearStyle:"z6hLLYCfOV7yjKyeF5maag==",vacationDay:"TM6-+lRokk8zyXLSnF4YPQ==",vacationDaysStyle:"yiZS+BvPl8RvVw2Q28q9xA==",trashIcon:"evsYWniCJNlFg0ft7bkYAw==",listWrap:"IrCNEwrFWjV1xP18cUWVqA==",saveBtnStyle:"EPGt6IOki6-eN44TeJ41aQ==",inputTotalStyle:"z7+bI1NjpmVBNFUqpl6fWg==",usedStyle:"o860U0YKF+SM3vKVGcK8TA==",accountedForStyle:"dK6VfU9vD9W0icjlL41MCw==",balanceStyle:"MlyWFBAGaB+JNQ54Lgs8rw==",remainderStyle:"_0-GVQ9D3eTkQQ6BlIBLLhg==",vacationTitle:"_0ZrdyT3MMozlb06gnRXITQ=="}},57701:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={container:"_9EP6QB6AzzedG5N-15pHlw==",header:"YBS4khp-vXGfeU9kQW3erg==",body:"DB4933+Fvm07SCBo6d2KJA==",bottom:"Dlglbptc9lCqSAb416H0JA=="}},53571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={roleFild:"IUEMiGaqm5omelY0quRAhg==",checkbox:"g-gH0KxvlLS9dRy2NaI4Ww==",faceId:"Xad3JX3mwEuK36yv1qgMzA==",biometryTitle:"YpRLLNotwg898w0L5Gf2cg==",enumItem:"Elcg+CRP4zw25EUUKN0RHw==",schemePeriods:"ldPigWsHkM5BCJJICH-gPg=="}},5624:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"WxKL+gWF5NrKgEcEVwN1aQ==",body:"TqZRnNaTxwkwe9Vid3QbiQ==",bottom:"dWpQS+tw2O-0r5qFzqKirQ==",field:"WQjaZZ4R4+9OevIWwpbr+Q==",input:"TrF-o+p33TMS3OYdBEgQMA==",blockUserButtons:"LFmqIXgPvadBXg7VYIjTog==",title:"nzVY9eGEf8DJWQ2-cSibZg==",fullNameRow:"_31guF+Be67JRD1z0w0tstQ==",subItem:"ZwnNJM+AEbuEklzlI4yTVQ==",fullNameElement:"KyAIx1y2rSL4Q8S5zHrYow==",historyItem:"_0-EqRU5hEAFSWnJY8xH0Qw==",rightsSettingsLabelWrap:"QcSKg3jCa-Jo6yqC5ZcYhA==",styleBlocking:"QeaaYECE6A-52uw+Wxw9BA==",bigLabel:"OAStrnMADZibpTO-cB5Elg==",requiredField:"LZYz7sryUNbyfi92l2J1eg==",row:"aPEsJ7EnXjhrnpgBPWUPhg==",inputCell:"+INLuEcp68ctUFUuvVMoHQ==",inputPassword:"xn9-bpG8XR15FubRxypTTg==",button:"_579bi7D47WmRgjGPD2+OyA==",iconEye:"LEMbigvynIm-v55pJD7BqA==",itemText:"qztVHxwk5nmzSMbnktLTrg==",errorLabelClassName:"HiAD-SiteG+c5Lbj54cXRw==",changesPreferences:"EgoDwBaQwJZPdTJn7TYXsQ==",dateOfBirthInput:"_2-lD+Eh8wZjG7z36oBdRtQ==",buttonLabelClassName:"nFTxMNQIE9Z8ZdjhlMyZUQ==",dateClassName:"yhUcub-Jmw8bGTqi4XfwsA=="}},12463:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={fullNameAddingPanel:"g5izCSjGK8pbzZAO9fyd7A==",safariColorInput:"yMq2n9I5w18oktjHbdQm2A==",header:"A5pl54FxYRfqdSFSKbyenA==",splitter:"JBGDtypf2qgDB-+5cbB5Pw==",inputFieldContainer:"KULeqVYcXZRJLBXHr0SU6w==",flatBtn:"xDqlb2N0KY05KPZJ6pgCSA==",addButton:"p-YwKxTAliLHaOsdTMopQw==",iconContainer:"INOxFCo1HCPcRVoj2JnlJw==",labelContainer:"jMh-IUDK6Hf5VULbnVI1fg==",tableStyle:"xSJKxEaF95NE+yTV6Gh5ig==",historyTable:"GePXH4TE27rQn+XqgSQhdQ==",remove:"P1i02XD+lWjYMVnHGDJ7Mw==",willBeChanged:"Wl0l-ONLwnP8t6GOqeP-+w==",nextDate:"BPEE9R+Zs3m8eb25mpyosA==",newItem:"Yn3xVFJlfLdPEVO8SKkfPQ=="}},19618:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"qQW4HCNt7wLdS2DUNHAzOQ==",cell:"hlhHyCVeL6UZrL1UeXsynw==",cellTime:"tugS6i8FQvL6xpa9vRQe8Q==",darkText:"Q5LAXowRDR7-NZr5ymS0ww==",acronymContainer:"f4Ebf08PMCa6KoNFU5NGmA==",cellSign:"_1-gvQWc3aZxCjYGfXhIThA==",title:"y+Ib-HHbFluIfusrvd61Tg==",subtitle:"sj92pcwoE3V5f7juUYocgg==",period:"zjr6MJu8gYJb3D3jwf9yfw==",header:"_5+GtAKh5jKTuwG9VWuvz3g==",fullName:"VUezhoR8dWl-hiOagiprfA==",name:"eHYm3mK6Tu-8uMjQeJM2sQ==",leftBlock:"ClQ3BExCFXgKLRcNgCXw6Q=="}},75073:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={container:"PPdrkr4VfoxL3KGDIl7bkg==",importContainer:"CX7qiyQMpghZBAP9Q898Cg==",detailPanelButtonsContainer:"_5Gmq2DrkCP8JIqZwxj8yQA==",buttons:"OO1EQAA0+sKkW2h4kQWxmA==",licenseInfo:"hPkklDZe149-3-RZ4pLs9A==",periodContainer:"vkskuaPCw1pq6K79DUmoug==",scheduleReportIcon:"tIfdZ2+9Lsbi16sYT13uhQ==",unsavedChanges:"Pq7Q6AK82Gb44RIGeGE7ww==",burgerBtnContainer:"tIIr2YlToj9hK-ttl51GhA==",displaySettingsHeader:"GgiijcRHSng1LFMvn-iY9Q==",subTitleContentClassName:"_89P1bXi66OyULdxC45mPkw==",arrowBackClassName:"Mq1QjN7o4A6InOoT4CrvLw==",iconTitle:"pmJ+W6aS8fCvjQ7ZwqzUnQ==",recountFTEBtn:"LYWOFlJsbcg75Ii7K1UZHQ==",backArrowBtn:"YxJxWeySWKyJmBxPPUiJAg==",scheduleViolationsStyle:"Inrmqh9TiMxUMvo-7Oqm2w=="}},1379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"_1Mj6nTo4buHOcCvDuyjBew==",colorLabel:"_5N-IaZHgY6gMzzNN0KTTtw==",button:"x658xY2MofLUEnnK67DWSg==",buttonWidthLarger:"ZcjVYWhjrjOlhBv5cFbo-A==",inputContainer:"WfHtBo6JzXdm03I3cR4JRA==",list:"or+iBebYUySSybfNRj0VCA==",checkbox:"R95301VvNJbHPAtDVYyyUg==",headElement:"PVtQLIx4VRNlg7UUsNbpVw==",modeElement:"MZj0LUbEbzJpwle7KclBIg==",listContainer:"RIqVnxgvSJlf4kC4nIlTbQ==",inputSearch:"Wat7MQ0CXYVYH2KmZnuJaA==",inputWidthLarger:"_3yA2ptK7wVzj9B0hK0PqxA==",container:"dr4BhiJlCX2W40YqyA8hFw=="}},66883:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={graphPopups:"QqPjPqU63dNE2CL6vYdOKQ==",styleIcon:"eq78L7vGT61qBhTUhAIYGA==",svgIcon:"_7yth6QIXLn2LOIR7NCD+UQ=="}},74321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"_6ZVRLGZ6ndQjlMGKoDheSA==",tableWrapper:"_51ZgtxqHXQEhQNbBp0+yow==",cell:"zZJ5sc1Z4CRR3BEmZxfGoQ==",cellContainer:"yler4y1520zxdqcbAXm7lw==",cellStyle:"zVSpjMAyTL7RbI11Qaf9RQ==",cellStyleWithPadding:"dqvJl-EhhRP9KIo3P7Ihag==",headerCell:"f1MAo8TTpXGbhXr6OYdORA==",label:"yDqXBcqEsCpjv8oyTzL93w==",inputFocusedLabel:"_9YkAjbUbUo5lGUfzQATmxg==",textField:"Bir4bmylzidfBukS+21itw==",textFieldFocused:"ySHDE1UTbmdU34l1NUkrNg==",settings:"nlxT-JQh1FZg7QoLNlDoqA==",popoverBlock:"wv5vpZ6l6d4SkEPFc3E04g==",contextButton:"T4NS-tjkp6PPppETlkickQ==",icon:"_6cSJQT6leRags5TXgCTnCg=="}},10790:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={root:"ksYUWbjkNirYIGA-eNuVXA==",body:"VtTQrbo0pYqVNl0vxDAnyQ==",mainBlock:"l07MOYXoW8SmLlM9NftBKg==",widthTable:"mA-oLHGquDqMn4d+gTYzBQ==",footer:"IL7xEm2xmFRyG66NTPykbA==",labelLogin:"pTc7PtKoGwf82vwlStwPTA==",labelPassword:"tDRgzOc5lQqvSVWU5uQ75w==",tableForm:"_8WO-ueAMccGjFe-5qr5nPA==",rowForm:"CSgVwacQzcZFXt+kxO2w7w==",loginInput:"_4TtLLrFFzsQyIPUUgmNojg==",title:"oJlXvZihUL+7YKb1C1Utuw==",titleAva:"uELurUafbWfuRXmNYM90Dg==",avatar:"Luv4XiiEIpbSgVVTt+zN4g==",buttonEye:"Ak3FXE8BNDX+V6M6jWwB0g==",passwordContainer:"Qv6EFwt8Fimb1CspTSGxhw=="}},46700:(e,t,r)=>{var i={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id=46700},59553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"BanOnChange",use:"BanOnChange-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" id="BanOnChange">\n    <g>\n<path class="st0" fill-rule="evenodd" clip-rule="evenodd" d="M11.6844 2.31564C11.8552 2.4865 11.8552 2.7635 11.6844 2.93436L2.93436 11.6844C2.7635 11.8552 2.4865 11.8552 2.31564 11.6844C2.14479 11.5135 2.14479 11.2365 2.31564 11.0656L11.0656 2.31564C11.2365 2.14479 11.5135 2.14479 11.6844 2.31564Z" />\n<path class="st0" fill-rule="evenodd" clip-rule="evenodd" d="M7 13.125C10.3827 13.125 13.125 10.3827 13.125 7C13.125 3.61726 10.3827 0.875 7 0.875C3.61726 0.875 0.875 3.61726 0.875 7C0.875 10.3827 3.61726 13.125 7 13.125ZM7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14Z" />\n    </g>\n</symbol>'});a().add(o);const l=o},84650:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"Calendar",use:"Calendar-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Calendar">\n<style type="text/css">\n\t#Calendar .st0{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style>\n<path class="st0" d="M13.5,22.5V28c0,0.3-0.2,0.5-0.5,0.5H3c-0.3,0-0.5-0.2-0.5-0.5V18c0-0.3,0.2-0.5,0.5-0.5h6.5" />\n<polyline class="st0" points="4.5,22.5 7.5,26.5 13.5,17.5 " />\n<g>\n\t<path d="M4,4c0.6,0,1-0.4,1-1V1c0-0.6-0.4-1-1-1S3,0.4,3,1v2C3,3.6,3.4,4,4,4z" />\n\t<path d="M11,4c0.6,0,1-0.4,1-1V1c0-0.6-0.4-1-1-1s-1,0.4-1,1v2C10,3.6,10.4,4,11,4z" />\n\t<path d="M13.5,2C13.2,2,13,2.2,13,2.5V5H2V2.5C2,2.2,1.8,2,1.5,2S1,2.2,1,2.5v11C1,14.3,1.7,15,2.5,15h10c0.8,0,1.5-0.7,1.5-1.5\n\t\tv-11C14,2.2,13.8,2,13.5,2z M2,9h2v2H2V9z M5,9h2v2H5V9z M7,8H5V6h2V8z M8,6h2v2H8V6z M7,12v2H5v-2H7z M8,12h2v2H8V12z M8,11V9h2v2\n\t\tH8z M11,9h2v2h-2V9z M13,8h-2V6h2V8z M4,6v2H2V6H4z M2,13.5V12h2v2H2.5C2.2,14,2,13.8,2,13.5z M12.5,14H11v-2h2v1.5\n\t\tC13,13.8,12.8,14,12.5,14z" />\n\t<path d="M6.5,3h2C8.8,3,9,2.8,9,2.5S8.8,2,8.5,2h-2C6.2,2,6,2.2,6,2.5S6.2,3,6.5,3z" />\n</g>\n</symbol>'});a().add(o);const l=o},74124:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"Change",use:"Change-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="Change">\n<g>\n\t<path d="M15.9,3.1l-3-3c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7L14.3,3h-3.8C8,3,6,5,6,7.5C6,7.8,6.2,8,6.5,8S7,7.8,7,7.5\n\t\tC7,5.6,8.6,4,10.5,4h3.8l-2.1,2.1c-0.2,0.2-0.2,0.5,0,0.7C12.2,7,12.4,7,12.5,7s0.3,0,0.4-0.1l3-3C16,3.8,16,3.6,16,3.5\n\t\tS16,3.2,15.9,3.1z" />\n\t<path d="M9.5,8C9.2,8,9,8.2,9,8.5C9,10.4,7.4,12,5.5,12H1.7l2.1-2.1C4,9.7,4,9.3,3.9,9.1s-0.5-0.2-0.7,0l-3,3\n\t\tc-0.2,0.2-0.2,0.5,0,0.7l3,3C3.2,16,3.4,16,3.5,16s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L1.7,13h3.8C8,13,10,11,10,8.5\n\t\tC10,8.2,9.8,8,9.5,8z" />\n</g>\n</symbol>'});a().add(o);const l=o},23859:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"Close",use:"Close-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Close">\n<path d="M6.7,6l4.1-4.1c0.2-0.2,0.2-0.5,0-0.7s-0.5-0.2-0.7,0L6,5.3L1.9,1.1C1.7,1,1.3,1,1.1,1.1S1,1.7,1.1,1.9L5.3,6l-4.1,4.1\n\tc-0.2,0.2-0.2,0.5,0,0.7C1.2,11,1.4,11,1.5,11s0.3,0,0.4-0.1L6,6.7l4.1,4.1c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1\n\tc0.2-0.2,0.2-0.5,0-0.7L6.7,6z" />\n</symbol>'});a().add(o);const l=o},96370:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"Copy",use:"Copy-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Copy">\n<g>\n\t<path d="M12,3.3c0-0.1-0.1-0.1-0.1-0.2l-3-3c0,0-0.1-0.1-0.2-0.1C8.6,0,8.6,0,8.5,0h-3C5.2,0,5,0.2,5,0.5v1C5,1.8,5.2,2,5.5,2\n\t\tS6,1.8,6,1.5V1h2v2c0,0.6,0.4,1,1,1h2v5H8.5C8.2,9,8,9.2,8,9.5S8.2,10,8.5,10h3c0.3,0,0.5-0.2,0.5-0.5v-6C12,3.4,12,3.4,12,3.3z\n\t\t M9,1.7L10.3,3H9V1.7z" />\n\t<path d="M6.9,5.1l-3-3c0,0-0.1-0.1-0.2-0.1C3.6,2,3.6,2,3.5,2h-3C0.2,2,0,2.2,0,2.5v9C0,11.8,0.2,12,0.5,12h6C6.8,12,7,11.8,7,11.5\n\t\tv-6c0-0.1,0-0.1,0-0.2C6.9,5.2,6.9,5.2,6.9,5.1z M4,3.7L5.3,5H4V3.7z M1,11V3h2v2c0,0.6,0.4,1,1,1h2v5H1z" />\n</g>\n</symbol>'});a().add(o);const l=o},93188:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"DownSmall",use:"DownSmall-usage",viewBox:"0 0 9 5",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 9 5" id="DownSmall">\n<path d="M8.9,0.1C8.7,0,8.3,0,8.1,0.1L4.5,3.8L0.9,0.1C0.7,0,0.3,0,0.1,0.1S0,0.7,0.1,0.9l4,4C4.2,5,4.4,5,4.5,5s0.3,0,0.4-0.1l4-4\n\tC9,0.7,9,0.3,8.9,0.1z" />\n</symbol>'});a().add(o);const l=o},59565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"EyeOutline",use:"EyeOutline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" id="EyeOutline">\n<path d="M12.2836 5.93872C9.0485 5.93872 5.72998 7.81112 3.11751 11.5559C3.04294 11.664 3.00207 11.7917 3.00008 11.923C2.99808 12.0543 3.03505 12.1832 3.1063 12.2935C5.1136 15.4356 8.3877 17.8928 12.2836 17.8928C16.1371 17.8928 19.4785 15.4281 21.4895 12.279C21.5591 12.1709 21.5961 12.045 21.5961 11.9164C21.5961 11.7878 21.5591 11.662 21.4895 11.5538C19.4739 8.44079 16.1081 5.93872 12.2836 5.93872Z" stroke-width="1.32824" stroke-linecap="round" stroke-linejoin="round" />\n<path d="M12.3556 14.76C13.9808 14.76 15.2982 13.4706 15.2982 11.88C15.2982 10.2894 13.9808 9 12.3556 9C10.7305 9 9.41309 10.2894 9.41309 11.88C9.41309 13.4706 10.7305 14.76 12.3556 14.76Z" stroke-width="1.17702" stroke-miterlimit="10" />\n</symbol>'});a().add(o);const l=o},44007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"RecountFTEIcon",use:"RecountFTEIcon-usage",viewBox:"0 0 16 14",content:'<symbol viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg" id="RecountFTEIcon">\n    <path clip-rule="evenodd" d="M0 6.99999C0 10.8593 3.14016 14 7.00004 14C7.27635 14 7.5 13.7763 7.5 13.5C7.5 13.2236 7.27635 12.9999 7.00004 12.9999C3.69142 12.9999 1.00006 10.3086 1.00006 6.99999C1.00006 3.69141 3.69142 0.999964 7.00004 0.999964C10.3086 0.999964 13 3.69141 13 6.99999C13 7.27635 13.2236 7.49997 13.5 7.49997C13.7764 7.49997 14 7.27635 14 6.99999C14 3.14012 10.8595 0 7.00004 0C3.14016 0 0 3.14012 0 6.99999ZM13.1464 9.85345C13.2441 9.95117 13.372 9.99996 13.5 9.99996C13.6279 9.99996 13.7559 9.95117 13.8535 9.85345L15.8535 7.85351C16.0488 7.6582 16.0488 7.34174 15.8535 7.14644C15.6582 6.95113 15.3417 6.95113 15.1465 7.14644L13.5 8.79297L11.8535 7.14644C11.6582 6.95113 11.3417 6.95113 11.1464 7.14644C10.9513 7.34174 10.9513 7.6582 11.1464 7.85351L13.1464 9.85345Z" fill="" />\n</symbol>'});a().add(o);const l=o},17094:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"Trash",use:"Trash-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12" id="Trash">\n<g>\n\t<path d="M10.9,3.1l-0.7-0.7C9.9,2.2,9.5,2,9.1,2H8c0-1.1-0.9-2-2-2H5C3.9,0,3,0.9,3,2H1.9C1.5,2,1.1,2.2,0.9,2.4L0.1,3.1\n\t\tC0,3.3,0,3.7,0.1,3.9s0.5,0.2,0.7,0l0.7-0.7C1.7,3.1,1.8,3,1.9,3H2v7.5C2,11.3,2.7,12,3.5,12h4C8.3,12,9,11.3,9,10.5V3h0.1\n\t\tc0.1,0,0.3,0.1,0.4,0.1l0.7,0.7C10.2,4,10.4,4,10.5,4s0.3,0,0.4-0.1C11,3.7,11,3.3,10.9,3.1z M5,1h1c0.6,0,1,0.4,1,1H4\n\t\tC4,1.4,4.4,1,5,1z M8,10.5C8,10.8,7.8,11,7.5,11h-4C3.2,11,3,10.8,3,10.5V5h5V10.5z M8,4H3V3h5V4z" />\n\t<path d="M4.5,10C4.8,10,5,9.8,5,9.5v-3C5,6.2,4.8,6,4.5,6S4,6.2,4,6.5v3C4,9.8,4.2,10,4.5,10z" />\n\t<path d="M6.5,10C6.8,10,7,9.8,7,9.5v-3C7,6.2,6.8,6,6.5,6S6,6.2,6,6.5v3C6,9.8,6.2,10,6.5,10z" />\n</g>\n</symbol>'});a().add(o);const l=o},32041:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var i=r(87854),s=r.n(i),n=r(95348),a=r.n(n),o=new(s())({id:"User",use:"User-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="User">\n<path d="M12.5,11c-1.3,0-1.5-1-1.5-1.4C11.6,8.9,12,8,12,7V6.9c0.5-0.2,1-0.6,1-1.4v-2C13,2.4,12.5,0,8,0S3,2.4,3,3.5v2\n\tc0,0.8,0.5,1.2,1,1.4V7c0,1,0.4,1.9,1,2.6C5,10,4.8,11,3.5,11C2.2,11,0,12.2,0,14.5V15c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-0.5\n\tC16,12.2,13.8,11,12.5,11z M8,13.3c0-0.7-0.3-1.3-0.7-1.8l-0.9-0.9C6.8,10.9,7.4,11,8,11c0.6,0,1.2-0.1,1.7-0.4l-0.9,0.9\n\tC8.3,12,8,12.7,8,13.3z M11,7c0,1.7-1.3,3-3,3S5,8.7,5,7V4.5C5,4.2,5.2,4,5.5,4h5C10.8,4,11,4.2,11,4.5V7z M4,3.5C4,1.9,5.4,1,8,1\n\tc2.6,0,4,0.9,4,2.5v1C12,3.7,11.3,3,10.5,3h-5C4.7,3,4,3.7,4,4.5V3.5z M1,14.5C1,12.8,2.8,12,3.5,12c0.9,0,1.5-0.4,1.9-0.9l1.1,1.1\n\tC6.8,12.5,7,12.9,7,13.3V15H1V14.5z M15,15H9v-1.7c0-0.4,0.2-0.8,0.4-1.1l1.1-1.1c0.4,0.5,1,0.9,1.9,0.9c0.7,0,2.5,0.8,2.5,2.5V15z" />\n</symbol>'});a().add(o);const l=o},38276:(e,t,r)=>{var i={"./additionalSchedule/actionCreators/additionalSchedule.js":42695,"./auth/actionCreators/signIn.js":81725,"./biometrics/actionCreators/deviceDetail.js":75005,"./biometrics/actionCreators/devices.js":53848,"./biometrics/actionCreators/transactions.js":814,"./common/actionCreators/common.js":42517,"./common/actionCreators/detachedPopups.js":80303,"./common/actionCreators/intl.js":66994,"./common/actionCreators/menu.js":22917,"./common/actionCreators/notifications.js":25748,"./common/actionCreators/scheduleEditor.js":84823,"./common/actionCreators/user.js":97539,"./common/actionCreators/workActivities.js":40550,"./common/actionCreators/workActivityLevels.js":93043,"./employees/actionCreators/employee.js":84343,"./employees/actionCreators/employeeMultipleEdit.js":3942,"./forecasts/actionCreators/forecast.js":61604,"./forecasts/actionCreators/forecastsGenerate.js":52614,"./forecasts/actionCreators/listIds.js":91833,"./forecasts/actionCreators/operations.js":82605,"./operator/actionCreators/mocks/operatorMocks.js":55354,"./operator/actionCreators/operator.js":78269,"./operator/actionCreators/operatorPreferences.js":87618,"./operator/actionCreators/swaps.js":58056,"./reports/actionCreators/licensesReport.js":91896,"./reports/actionCreators/overworkReport.js":19233,"./reports/actionCreators/reports.js":49906,"./reports/actionCreators/scheduleBuildLog.js":31149,"./schedule/actionCreators/changeLog.js":80452,"./schedule/actionCreators/events.js":6287,"./schedule/actionCreators/graph.js":78340,"./schedule/actionCreators/kdoExport.js":20085,"./schedule/actionCreators/monitoring.js":48691,"./schedule/actionCreators/requests.js":7291,"./schedule/actionCreators/schedule.js":47458,"./schedule/actionCreators/scheduleAdditional.js":62574,"./schedule/actionCreators/scheduleBalancing.js":6912,"./schedule/actionCreators/scheduleChanges.js":89473,"./schedule/actionCreators/scheduleChangesFakeData.js":69853,"./schedule/actionCreators/scheduleComments.js":522,"./schedule/actionCreators/scheduleDetail.js":79642,"./schedule/actionCreators/scheduleSchemas.js":64621,"./schedule/actionCreators/shiftsComments.js":9668,"./schedule/actionCreators/swap.js":24928,"./schedule/actionCreators/tasks.js":28487,"./scheduleControl/actionCreators/scheduleControl.js":52707,"./settings/actionCreators/accounting.js":78830,"./settings/actionCreators/calendar.js":46981,"./settings/actionCreators/commentTemplates.js":37548,"./settings/actionCreators/employeePreferences.js":84058,"./settings/actionCreators/employeeStatuses.js":21447,"./settings/actionCreators/externalSystems.js":56705,"./settings/actionCreators/frontendSettings.js":82821,"./settings/actionCreators/globalSettings.js":25944,"./settings/actionCreators/laborCodeSettings.js":46045,"./settings/actionCreators/managers.js":34011,"./settings/actionCreators/offices.js":11146,"./settings/actionCreators/permissionGroups.js":71319,"./settings/actionCreators/positions.js":32138,"./settings/actionCreators/preference.js":16372,"./settings/actionCreators/productionCalendar.js":98477,"./settings/actionCreators/push.js":43454,"./settings/actionCreators/queues.js":56664,"./settings/actionCreators/scheduleSaving.js":98034,"./settings/actionCreators/skills.js":82162,"./settings/actionCreators/specialDays.js":72633,"./settings/actionCreators/swap.js":38886,"./settings/actionCreators/taskTemplates.js":49489,"./settings/actionCreators/tasksGroups.js":65062,"./settings/actionCreators/userStatus.js":87271,"./settings/actionCreators/vacations.js":45913,"./settings/actionCreators/workActivity.js":21737};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id=38276},11171:(e,t,r)=>{var i={"./additionalSchedule/reducers/additionalSchedule.js":69699,"./auth/reducers/isUserIdentification.js":97429,"./auth/reducers/signInForm.js":31461,"./auth/reducers/user.js":62307,"./biometrics/reducers/devices.js":65994,"./biometrics/reducers/transactions.js":97288,"./common/reducers/common.js":84450,"./common/reducers/intl.js":13135,"./common/reducers/menu.js":91695,"./common/reducers/notifications.js":78389,"./common/reducers/scheduleEditor.js":19596,"./employees/reducers/employee.js":42513,"./forecasts/reducers/forecasts.js":78171,"./forecasts/reducers/forecastsGenerate.js":69984,"./operator/reducers/operator.js":83119,"./reports/reducers/customReports.js":90559,"./reports/reducers/reports.js":10915,"./schedule/reducers/changLog.js":59954,"./schedule/reducers/events.js":7780,"./schedule/reducers/graph.js":63703,"./schedule/reducers/kdoExport.js":8164,"./schedule/reducers/monitoring.js":18817,"./schedule/reducers/requests.js":68815,"./schedule/reducers/schedule.js":83825,"./schedule/reducers/scheduleAdditional.js":58073,"./schedule/reducers/scheduleBalancing.js":82756,"./schedule/reducers/scheduleChanges.js":79426,"./schedule/reducers/scheduleComments.js":30360,"./schedule/reducers/scheduleDetail.js":76800,"./schedule/reducers/scheduleSchema.js":95030,"./schedule/reducers/shiftsComments.js":19619,"./schedule/reducers/tasks.js":71538,"./scheduleControl/reducers/scheduleControl.js":54260,"./settings/reducers/settings.js":32088};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id=11171},12482:()=>{},24654:()=>{}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=i,e=[],n.O=(t,r,i,s)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,i,s]=e[d],o=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(o=!1,s<a&&(a=s));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,i,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"frontend-"+{178:"4b4a6159d5d904c57904",424:"8361159913d5950870fd",493:"0cc6d785ac68ed774cb2",602:"fc0e35b56af489b4b975",706:"f02c021872da2055c819",750:"4730c0f1b7ac329f8675"}[e]+".js",n.miniCssF=e=>(495===e?"frontend":e)+"."+{495:"e37b192fd64419437fad",672:"f0bb7f65bdc0218a1a77"}[e]+".css",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},r="wfmfront:",n.l=(e,i,s,a)=>{if(t[e])t[e].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",r+s),o.src=e),t[e]=[i];var p=(r,i)=>{o.onerror=o.onload=null,clearTimeout(h);var s=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(i))),r)return r(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={495:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((r,s)=>i=e[t]=[r,s]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var i,s,[a,o,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var d=l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},r=self.webpackChunkwfmfront=self.webpackChunkwfmfront||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var a=n.O(void 0,[672],(()=>n(38935)));a=n.O(a)})();