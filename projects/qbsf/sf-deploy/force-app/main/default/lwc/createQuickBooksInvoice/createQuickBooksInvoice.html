<template>
    <lightning-card title="QuickBooks Integration" icon-name="action:new_custom19">
        <div class="slds-p-horizontal_medium">
            <template if:true={hasInvoice}>
                <div class="slds-box slds-theme_shade">
                    <p class="slds-text-body_regular">
                        <lightning-icon icon-name="utility:success" variant="success" size="small"></lightning-icon>
                        Invoice already exists in QuickBooks
                    </p>
                    <p class="slds-text-body_small slds-m-top_x-small">
                        Invoice ID: {opportunity.data.fields.QB_Invoice_ID__c.value}
                    </p>
                </div>
            </template>
            
            <template if:false={hasInvoice}>
                <div class="slds-text-align_center">
                    <p class="slds-text-body_regular slds-m-bottom_medium">
                        Create an invoice in QuickBooks for:<br/>
                        <strong>{opportunityName}</strong>
                    </p>
                    <lightning-button
                        variant="brand"
                        label="Create QuickBooks Invoice"
                        title="Create QuickBooks Invoice"
                        onclick={handleCreateInvoice}
                        disabled={isLoading}
                        class="slds-m-left_x-small">
                    </lightning-button>
                </div>
            </template>
            
            <template if:true={isLoading}>
                <div class="slds-align_absolute-center slds-m-top_medium">
                    <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
                </div>
            </template>
        </div>
    </lightning-card>
</template>
