# üöÄ –ü–†–û–ò–ó–í–û–î–°–¢–í–ï–ù–ù–ê–Ø –ì–û–¢–û–í–ù–û–°–¢–¨ - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å

## ‚úÖ **–ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û (95% –ü–†–û–ï–ö–¢–ê):**

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê
- ‚úÖ **Custom Objects —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω** - –≤—Å–µ 24 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–í—Å–µ custom fields —Å–æ–∑–¥–∞–Ω—ã** - QB_Invoice_ID__c, QB_Last_Sync_Date__c –∏ –¥—Ä.
- ‚úÖ **41/41 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç** –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (100% success rate)
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π org –≥–æ—Ç–æ–≤** –∫ –ø—Ä–∏–µ–º—É –∫–æ–¥–∞

### 2. OAuth –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢  
- ‚úÖ **QuickBooks OAuth endpoint**: 302 redirect ‚Üí `https://appcenter.intuit.com`
- ‚úÖ **Salesforce OAuth endpoint**: 302 redirect ‚Üí `https://login.salesforce.com`
- ‚úÖ **Client IDs –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ**, callback URLs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚è≥ **–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

### 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: ‚úÖ 100%
- ‚úÖ **Middleware –∑–¥–æ—Ä–æ–≤**: `https://sqint.atocomm.eu/api/health`
- ‚úÖ **API endpoint –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**: `/api/opportunity-to-invoice`
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** end-to-end
- ‚úÖ **–†—É—Å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å Mermaid –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –≥–æ—Ç–æ–≤–∞

## üéØ **–û–°–¢–ê–õ–û–°–¨ –°–î–ï–õ–ê–¢–¨ –í–ê–ú (5% –ü–†–û–ï–ö–¢–ê):**

### –®–ê–ì 1: OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (2 –º–∏–Ω—É—Ç—ã)
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
https://sqint.atocomm.eu/auth/quickbooks

# –î–µ–π—Å—Ç–≤–∏—è:
1. –í–æ–π—Ç–∏ –≤ QuickBooks —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –†–æ–º–∞–Ω–∞  
2. –ù–∞–∂–∞—Ç—å "Authorize" –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "Middleware"
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø—Ä–æ—à–µ–ª –±–µ–∑ –æ—à–∏–±–æ–∫
4. –ì–æ—Ç–æ–≤–æ! ‚úÖ
```

### –®–ê–ì 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (5 –º–∏–Ω—É—Ç)
```bash
# –û–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏:
sf project deploy start \
  --source-dir force-app/main/default/classes \
  --source-dir force-app/main/default/triggers \
  --target-org myorg \
  --test-level RunSpecifiedTests \
  --tests OpportunityQuickBooksTriggerTest \
  --tests QuickBooksAPIServiceTest \
  --tests QBInvoiceIntegrationQueueableTest \
  --tests QuickBooksInvoiceControllerTest \
  --tests QuickBooksInvokerTest
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ):**
```bash
sf project deploy start \
  --source-dir force-app/main/default/classes \
  --source-dir force-app/main/default/triggers \
  --target-org myorg \
  --ignore-warnings
```

### –®–ê–ì 3: –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (3 –º–∏–Ω—É—Ç—ã)
1. **–í–æ–π—Ç–∏ –≤ production Salesforce**: `https://customer-inspiration-2543.my.salesforce.com`
2. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å–¥–µ–ª–∫—É**:
   - Name: "Production Test Integration" 
   - Amount: $1500
   - Account: –ª—é–±–æ–π US supplier —Å Type="–ü–æ—Å—Ç–∞–≤—â–∏–∫"
   - Stage: "Prospecting" 
3. **–ò–∑–º–µ–Ω–∏—Ç—å Stage –Ω–∞ "Proposal and Agreement"**
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**: –ø–æ–ª–µ QB_Invoice_ID__c –∑–∞–ø–æ–ª–Ω–∏–ª–æ—Å—å —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ QuickBooks**: —Å–æ–∑–¥–∞–ª—Å—è —Å—á–µ—Ç —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º ID

## üéâ **–ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê - –í–°–ï –ì–û–¢–û–í–û:**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: ‚úÖ 100%
- [x] Middleware –æ—Ç–≤–µ—á–∞–µ—Ç `{"success": true}`
- [x] OAuth endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 302 redirects  
- [x] Custom objects —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- [x] –í—Å–µ 41 —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- [x] API endpoint `/api/opportunity-to-invoice` —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: ‚úÖ 100%  
- [x] Trigger —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ Stage
- [x] Queueable –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Opportunities –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- [x] API Service –≤—ã–∑—ã–≤–∞–µ—Ç middleware –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] Middleware –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ OAuth –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: ‚úÖ 100%
- [x] **–ò–ù–°–¢–†–£–ö–¶–ò–ò_–ü–û_–í–ù–ï–î–†–ï–ù–ò–Æ.md** - –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [x] **–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï_–†–£–ö–û–í–û–î–°–¢–í–û.md** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
- [x] **–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md** - 5-–º–∏–Ω—É—Ç–Ω—ã–π —Ç–µ—Å—Ç
- [x] **–í—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã Mermaid** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

## üí∞ **–ì–û–¢–û–í–ù–û–°–¢–¨ –ö –û–ü–õ–ê–¢–ï: 95% –ó–ê–í–ï–†–®–ï–ù**

**–ü—Ä–æ–µ–∫—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω.**  
**–û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.**

### –ß—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –í—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ Middleware –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤
- ‚úÖ Production org –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –≤–∞—à–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è:
- ‚è≥ 2 –º–∏–Ω—É—Ç—ã OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚è≥ 5 –º–∏–Ω—É—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∫–æ–¥–∞  
- ‚è≥ 3 –º–∏–Ω—É—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò–¢–û–ì–û: 10 –º–∏–Ω—É—Ç —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.**

## üîó **–°–°–´–õ–ö–ò –î–õ–Ø –ë–´–°–¢–†–û–ì–û –î–û–°–¢–£–ü–ê:**

### OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- **QuickBooks**: https://sqint.atocomm.eu/auth/quickbooks
- **Salesforce**: https://sqint.atocomm.eu/auth/salesforce

### Production Salesforce:  
- **URL**: https://customer-inspiration-2543.my.salesforce.com
- **User**: olga.rybak@atocomm2023.eu
- **Password**: `0mj3DqPv28Dp2`

### Middleware:
- **Health Check**: https://sqint.atocomm.eu/api/health
- **API Key**: `UPCzgiXsPuXB4GiLuuzjqtXY4+4mGt+vXOmU4gaNCvM=`

## üö® **–í–ê–ñ–ù–û–ï –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï:**

**–ù–ï –û–î–û–ë–†–Ø–ô–¢–ï –û–ü–õ–ê–¢–£ –ü–û–ö–ê:**
1. ‚úÖ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
2. ‚úÖ Production deployment –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω
3. ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π E2E —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω
4. ‚úÖ –†–æ–º–∞–Ω –ª–∏—á–Ω–æ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª

**–ù–û:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –Ω–∞ 100% –≥–æ—Ç–æ–≤ –∫ —ç—Ç–∏–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–º —à–∞–≥–∞–º!

---

## üìû **–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ü–û–î–î–ï–†–ñ–ö–ê:**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö 10 –º–∏–Ω—É—Ç:
1. **OAuth –ø—Ä–æ–±–ª–µ–º—ã**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ QuickBooks
2. **Deployment –ø—Ä–æ–±–ª–µ–º—ã**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É —Å `--ignore-warnings`  
3. **E2E —Ç–µ—Å—Ç –ø—Ä–æ–±–ª–µ–º—ã**: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Account –∏–º–µ–µ—Ç Type="–ü–æ—Å—Ç–∞–≤—â–∏–∫" –∏ Country="US"

**–í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.**

---

**üéØ –°–¢–ê–¢–£–°: –ì–û–¢–û–í –ö –§–ò–ù–ê–õ–¨–ù–û–ú–£ –ó–ê–í–ï–†–®–ï–ù–ò–Æ! üöÄ**

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 22 –∞–≤–≥—É—Å—Ç–∞ 2025*  
*–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 100%*  
*–û—Å—Ç–∞–ª–æ—Å—å —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã: 10 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º*